// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_1d;
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0);
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data);
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_i16_1d;
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0);
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data);
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
struct futhark_i32_1d;
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0);
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data);
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
struct futhark_i8_1d;
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0);
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data);
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);

// Opaque values
struct futhark_opaque_mergeInfo_double;
struct futhark_opaque_mergeInfo_float;
struct futhark_opaque_mergeInfo_int;
struct futhark_opaque_mergeInfo_long;
struct futhark_opaque_mergeInfo_short;
struct futhark_opaque_sortInfo_double;
struct futhark_opaque_sortInfo_float;
struct futhark_opaque_sortInfo_int;
struct futhark_opaque_sortInfo_long;
struct futhark_opaque_sortInfo_short;
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj);
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs);
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj);
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs);
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj);
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs);
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj);
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs);
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj);
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs);
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj);
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs);
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj);
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs);
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj);
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs);
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj);
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs);
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj);
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs);

// Entry points
int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0);
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0);
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0);
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0);
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0);
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1);
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1);
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1);
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1);
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1);
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4);
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3);
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3);
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3);
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3);
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2);
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2);
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2);
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2);
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
};
struct tuning_params {
    int dummy;
};
static const int num_tuning_params = 0;
static const char *tuning_param_names[] = {NULL};
static const char *tuning_param_vars[] = {NULL};
static const char *tuning_param_classes[] = {NULL};
static int64_t tuning_param_defaults[] = {0};
// Start of backends/c.h

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char *cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
};

static void backend_context_config_setup(struct futhark_context_config* cfg) {
  (void)cfg;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  (void)cfg;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config* cfg, const char *param_name, size_t param_value) {
  (void)cfg; (void)param_name; (void)param_value;
  return 1;
}

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
};

int backend_context_setup(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  (void)ctx;
}

int futhark_context_sync(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

// End of backends/c.h

struct program {
    int dummy;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_182806, struct memblock ks_mem_181133, int64_t n_110738);
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_182807, struct memblock ks_mem_181133, int64_t n_110569);
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_182808, struct memblock ks_mem_181133, int64_t n_110234);
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_182809, struct memblock ks_mem_181133, int64_t n_110400);
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_182810, struct memblock ks_mem_181133, int64_t n_110068);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182811, struct memblock *mem_out_p_182812, struct memblock xs_mem_181133, int64_t n_108231, int64_t incr_108232);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182823, struct memblock *mem_out_p_182824, struct memblock xs_mem_181133, int64_t n_105887, int64_t incr_105888);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182835, struct memblock *mem_out_p_182836, struct memblock xs_mem_181133, int64_t n_101200, int64_t incr_101201);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182847, struct memblock *mem_out_p_182848, struct memblock xs_mem_181133, int64_t n_103543, int64_t incr_103544);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182859, struct memblock *mem_out_p_182860, struct memblock xs_mem_181133, int64_t n_98856, int64_t incr_98857);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182871, struct memblock *mem_out_p_182872, struct memblock *mem_out_p_182873, int64_t *out_prim_out_182874, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_163377, int64_t nb_163378, int64_t window_sizze_163379, int64_t threads_163380, bool inParallel_163383);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182925, struct memblock *mem_out_p_182926, struct memblock *mem_out_p_182927, int64_t *out_prim_out_182928, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_152854, int64_t nb_152855, int64_t window_sizze_152856, int64_t threads_152857, bool inParallel_152860);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182979, struct memblock *mem_out_p_182980, struct memblock *mem_out_p_182981, int64_t *out_prim_out_182982, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_131808, int64_t nb_131809, int64_t window_sizze_131810, int64_t threads_131811, bool inParallel_131814);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_183033, struct memblock *mem_out_p_183034, struct memblock *mem_out_p_183035, int64_t *out_prim_out_183036, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_142331, int64_t nb_142332, int64_t window_sizze_142333, int64_t threads_142334, bool inParallel_142337);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_183087, struct memblock *mem_out_p_183088, struct memblock *mem_out_p_183089, int64_t *out_prim_out_183090, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_121285, int64_t nb_121286, int64_t window_sizze_121287, int64_t threads_121288, bool inParallel_121291);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_183141, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_109899, int64_t incr_109900, int64_t block_sizze_109901);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_183142, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_109565, int64_t incr_109566, int64_t block_sizze_109567);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_183143, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_108901, int64_t incr_108902, int64_t block_sizze_108903);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_183144, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_109231, int64_t incr_109232, int64_t block_sizze_109233);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_183145, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_108567, int64_t incr_108568, int64_t block_sizze_108569);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_183146, struct memblock *mem_out_p_183147, struct memblock xs_mem_181133, int64_t n_96400, int64_t incr_96401, int16_t block_sizze_96402);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_183173, struct memblock *mem_out_p_183174, struct memblock xs_mem_181133, int64_t n_93645, int64_t incr_93646, int16_t block_sizze_93647);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_183200, struct memblock *mem_out_p_183201, struct memblock xs_mem_181133, int64_t n_88294, int64_t incr_88295, int16_t block_sizze_88296);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_183227, struct memblock *mem_out_p_183228, struct memblock xs_mem_181133, int64_t n_90894, int64_t incr_90895, int16_t block_sizze_90896);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_183254, struct memblock *mem_out_p_183255, struct memblock xs_mem_181133, int64_t n_85677, int64_t incr_85678, int16_t block_sizze_85679);
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_183281, int32_t bit_83525, int16_t x_83526);
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_183282, int32_t bit_88742, int64_t x_88743);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_183283, int64_t upper_bound_96424, int64_t n_96425);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9225(struct futhark_context *ctx, struct memblock *mem_out_p_183284, struct memblock xs_mem_181133, int64_t n_82822, int64_t incr_82823);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9380(struct futhark_context *ctx, struct memblock *mem_out_p_183285, struct memblock xs_mem_181133, int64_t n_85702, int64_t incr_85703);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9490(struct futhark_context *ctx, struct memblock *mem_out_p_183286, struct memblock xs_mem_181133, int64_t n_88319, int64_t incr_88320);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9590(struct futhark_context *ctx, struct memblock *mem_out_p_183287, struct memblock xs_mem_181133, int64_t n_90919, int64_t incr_90920);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9699(struct futhark_context *ctx, struct memblock *mem_out_p_183288, struct memblock xs_mem_181133, int64_t n_93670, int64_t incr_93671);
FUTHARK_FUN_ATTR int futrts_lifted_f_9185(struct futhark_context *ctx, int64_t *out_prim_out_183289, int16_t na_83049, int16_t nb_83050, int16_t nc_83051, int16_t bin_83052, int16_t a_83053, int16_t b_83054, int16_t c_83055, int16_t d_83056);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9184(struct futhark_context *ctx, int16_t *out_prim_out_183290, int16_t *out_prim_out_183291, int16_t *out_prim_out_183292, int16_t *out_prim_out_183293, int16_t x_82992);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9161(struct futhark_context *ctx, int64_t *out_prim_out_183294, int64_t *out_prim_out_183295, int64_t *out_prim_out_183296, int64_t *out_prim_out_183297, int64_t *out_prim_out_183298, int64_t slo_96643, int64_t shi_96644, int64_t tlo_96645, int64_t thi_96646, int64_t count_96647);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_i8_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 1 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 1);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 1 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 1);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (1 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 1 * (i0 * 1), 1);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i16_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 2, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 2 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 2);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 2 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 2);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (2 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 2 * (i0 * 1), 2);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_sortInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i16_1d *v1;
};
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs)
{
    struct futhark_opaque_sortInfo_short *v = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i16_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_short *obj = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i16_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i32_1d *v1;
};
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_int *v = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_int *obj = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_long *v = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_long *obj = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_float *v = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_float *obj = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_f64_1d *v1;
};
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_double *v = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_double *obj = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i16_1d *v2;
};
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_short *v = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i16_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_short *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i16_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i32_1d *v2;
};
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_int *v = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_int *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i64_1d *v2;
};
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_long *v = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_long *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f32_1d *v2;
};
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_float *v = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_float *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f64_1d *v2;
};
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_double *v = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_double *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_182806, struct memblock ks_mem_181133, int64_t n_110738)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182547;
    int64_t defunc_0_reduce_comm_res_178645;
    double defunc_0_reduce_comm_res_178646;
    int64_t redout_180793;
    double redout_180794;
    
    redout_180793 = n_110738;
    redout_180794 = INFINITY;
    for (int64_t i_180795 = 0; i_180795 < n_110738; i_180795++) {
        double x_164640 = ((double *) ks_mem_181133.mem)[i_180795];
        bool defunc_0_lt_res_164645 = redout_180794 < x_164640;
        bool defunc_0_eq_res_164647 = redout_180794 == x_164640;
        bool cond_f_res_t_res_164648 = slt64(redout_180793, i_180795);
        bool x_164649 = defunc_0_eq_res_164647 && cond_f_res_t_res_164648;
        bool x_178378 = !defunc_0_lt_res_164645;
        bool y_178379 = x_164649 && x_178378;
        bool cond_164646 = defunc_0_lt_res_164645 || y_178379;
        int64_t defunc_0_op_res_164650;
        
        if (cond_164646) {
            defunc_0_op_res_164650 = redout_180793;
        } else {
            defunc_0_op_res_164650 = i_180795;
        }
        
        double defunc_0_op_res_164651;
        
        if (cond_164646) {
            defunc_0_op_res_164651 = redout_180794;
        } else {
            defunc_0_op_res_164651 = x_164640;
        }
        
        int64_t redout_tmp_182548 = defunc_0_op_res_164650;
        double redout_tmp_182549 = defunc_0_op_res_164651;
        
        redout_180793 = redout_tmp_182548;
        redout_180794 = redout_tmp_182549;
    }
    defunc_0_reduce_comm_res_178645 = redout_180793;
    defunc_0_reduce_comm_res_178646 = redout_180794;
    prim_out_182547 = defunc_0_reduce_comm_res_178645;
    *out_prim_out_182806 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_182807, struct memblock ks_mem_181133, int64_t n_110569)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182547;
    int64_t defunc_0_reduce_comm_res_178645;
    float defunc_0_reduce_comm_res_178646;
    int64_t redout_180793;
    float redout_180794;
    
    redout_180793 = n_110569;
    redout_180794 = INFINITY;
    for (int64_t i_180795 = 0; i_180795 < n_110569; i_180795++) {
        float x_164640 = ((float *) ks_mem_181133.mem)[i_180795];
        bool defunc_0_lt_res_164645 = redout_180794 < x_164640;
        bool defunc_0_eq_res_164647 = redout_180794 == x_164640;
        bool cond_f_res_t_res_164648 = slt64(redout_180793, i_180795);
        bool x_164649 = defunc_0_eq_res_164647 && cond_f_res_t_res_164648;
        bool x_178378 = !defunc_0_lt_res_164645;
        bool y_178379 = x_164649 && x_178378;
        bool cond_164646 = defunc_0_lt_res_164645 || y_178379;
        int64_t defunc_0_op_res_164650;
        
        if (cond_164646) {
            defunc_0_op_res_164650 = redout_180793;
        } else {
            defunc_0_op_res_164650 = i_180795;
        }
        
        float defunc_0_op_res_164651;
        
        if (cond_164646) {
            defunc_0_op_res_164651 = redout_180794;
        } else {
            defunc_0_op_res_164651 = x_164640;
        }
        
        int64_t redout_tmp_182548 = defunc_0_op_res_164650;
        float redout_tmp_182549 = defunc_0_op_res_164651;
        
        redout_180793 = redout_tmp_182548;
        redout_180794 = redout_tmp_182549;
    }
    defunc_0_reduce_comm_res_178645 = redout_180793;
    defunc_0_reduce_comm_res_178646 = redout_180794;
    prim_out_182547 = defunc_0_reduce_comm_res_178645;
    *out_prim_out_182807 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_182808, struct memblock ks_mem_181133, int64_t n_110234)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182547;
    int64_t defunc_0_reduce_comm_res_178645;
    int32_t defunc_0_reduce_comm_res_178646;
    int64_t redout_180793;
    int32_t redout_180794;
    
    redout_180793 = n_110234;
    redout_180794 = 2147483647;
    for (int64_t i_180795 = 0; i_180795 < n_110234; i_180795++) {
        int32_t x_164640 = ((int32_t *) ks_mem_181133.mem)[i_180795];
        bool defunc_0_lt_res_164645 = slt32(redout_180794, x_164640);
        bool defunc_0_eq_res_164647 = redout_180794 == x_164640;
        bool cond_f_res_t_res_164648 = slt64(redout_180793, i_180795);
        bool x_164649 = defunc_0_eq_res_164647 && cond_f_res_t_res_164648;
        bool x_178378 = !defunc_0_lt_res_164645;
        bool y_178379 = x_164649 && x_178378;
        bool cond_164646 = defunc_0_lt_res_164645 || y_178379;
        int64_t defunc_0_op_res_164650;
        
        if (cond_164646) {
            defunc_0_op_res_164650 = redout_180793;
        } else {
            defunc_0_op_res_164650 = i_180795;
        }
        
        int32_t defunc_0_op_res_164651;
        
        if (cond_164646) {
            defunc_0_op_res_164651 = redout_180794;
        } else {
            defunc_0_op_res_164651 = x_164640;
        }
        
        int64_t redout_tmp_182548 = defunc_0_op_res_164650;
        int32_t redout_tmp_182549 = defunc_0_op_res_164651;
        
        redout_180793 = redout_tmp_182548;
        redout_180794 = redout_tmp_182549;
    }
    defunc_0_reduce_comm_res_178645 = redout_180793;
    defunc_0_reduce_comm_res_178646 = redout_180794;
    prim_out_182547 = defunc_0_reduce_comm_res_178645;
    *out_prim_out_182808 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_182809, struct memblock ks_mem_181133, int64_t n_110400)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182547;
    int64_t defunc_0_reduce_comm_res_178645;
    int64_t defunc_0_reduce_comm_res_178646;
    int64_t redout_180793;
    int64_t redout_180794;
    
    redout_180793 = n_110400;
    redout_180794 = (int64_t) 9223372036854775807;
    for (int64_t i_180795 = 0; i_180795 < n_110400; i_180795++) {
        int64_t x_164640 = ((int64_t *) ks_mem_181133.mem)[i_180795];
        bool defunc_0_lt_res_164645 = slt64(redout_180794, x_164640);
        bool defunc_0_eq_res_164647 = redout_180794 == x_164640;
        bool cond_f_res_t_res_164648 = slt64(redout_180793, i_180795);
        bool x_164649 = defunc_0_eq_res_164647 && cond_f_res_t_res_164648;
        bool x_178378 = !defunc_0_lt_res_164645;
        bool y_178379 = x_164649 && x_178378;
        bool cond_164646 = defunc_0_lt_res_164645 || y_178379;
        int64_t defunc_0_op_res_164650;
        
        if (cond_164646) {
            defunc_0_op_res_164650 = redout_180793;
        } else {
            defunc_0_op_res_164650 = i_180795;
        }
        
        int64_t defunc_0_op_res_164651;
        
        if (cond_164646) {
            defunc_0_op_res_164651 = redout_180794;
        } else {
            defunc_0_op_res_164651 = x_164640;
        }
        
        int64_t redout_tmp_182548 = defunc_0_op_res_164650;
        int64_t redout_tmp_182549 = defunc_0_op_res_164651;
        
        redout_180793 = redout_tmp_182548;
        redout_180794 = redout_tmp_182549;
    }
    defunc_0_reduce_comm_res_178645 = redout_180793;
    defunc_0_reduce_comm_res_178646 = redout_180794;
    prim_out_182547 = defunc_0_reduce_comm_res_178645;
    *out_prim_out_182809 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_182810, struct memblock ks_mem_181133, int64_t n_110068)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182547;
    int64_t defunc_0_reduce_comm_res_178645;
    int16_t defunc_0_reduce_comm_res_178646;
    int64_t redout_180793;
    int16_t redout_180794;
    
    redout_180793 = n_110068;
    redout_180794 = (int16_t) 32767;
    for (int64_t i_180795 = 0; i_180795 < n_110068; i_180795++) {
        int16_t x_164640 = ((int16_t *) ks_mem_181133.mem)[i_180795];
        bool defunc_0_lt_res_164645 = slt16(redout_180794, x_164640);
        bool defunc_0_eq_res_164647 = redout_180794 == x_164640;
        bool cond_f_res_t_res_164648 = slt64(redout_180793, i_180795);
        bool x_164649 = defunc_0_eq_res_164647 && cond_f_res_t_res_164648;
        bool x_178378 = !defunc_0_lt_res_164645;
        bool y_178379 = x_164649 && x_178378;
        bool cond_164646 = defunc_0_lt_res_164645 || y_178379;
        int64_t defunc_0_op_res_164650;
        
        if (cond_164646) {
            defunc_0_op_res_164650 = redout_180793;
        } else {
            defunc_0_op_res_164650 = i_180795;
        }
        
        int16_t defunc_0_op_res_164651;
        
        if (cond_164646) {
            defunc_0_op_res_164651 = redout_180794;
        } else {
            defunc_0_op_res_164651 = x_164640;
        }
        
        int64_t redout_tmp_182548 = defunc_0_op_res_164650;
        int16_t redout_tmp_182549 = defunc_0_op_res_164651;
        
        redout_180793 = redout_tmp_182548;
        redout_180794 = redout_tmp_182549;
    }
    defunc_0_reduce_comm_res_178645 = redout_180793;
    defunc_0_reduce_comm_res_178646 = redout_180794;
    prim_out_182547 = defunc_0_reduce_comm_res_178645;
    *out_prim_out_182810 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182811, struct memblock *mem_out_p_182812, struct memblock xs_mem_181133, int64_t n_108231, int64_t incr_108232)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181139_cached_sizze_182813 = 0;
    unsigned char *mem_181139 = NULL;
    int64_t mem_181142_cached_sizze_182814 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181152_cached_sizze_182815 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_182816 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181221_cached_sizze_182817 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181224_cached_sizze_182818 = 0;
    unsigned char *mem_181224 = NULL;
    int64_t mem_181234_cached_sizze_182819 = 0;
    unsigned char *mem_181234 = NULL;
    int64_t mem_181236_cached_sizze_182820 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181251_cached_sizze_182821 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181254_cached_sizze_182822 = 0;
    unsigned char *mem_181254 = NULL;
    struct memblock mem_181345;
    
    mem_181345.references = NULL;
    
    struct memblock mem_181343;
    
    mem_181343.references = NULL;
    
    struct memblock mem_param_tmp_182566;
    
    mem_param_tmp_182566.references = NULL;
    
    struct memblock mem_param_tmp_182565;
    
    mem_param_tmp_182565.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock mem_181327;
    
    mem_181327.references = NULL;
    
    struct memblock mem_181293;
    
    mem_181293.references = NULL;
    
    struct memblock mem_181289;
    
    mem_181289.references = NULL;
    
    struct memblock mem_181298;
    
    mem_181298.references = NULL;
    
    struct memblock mem_181296;
    
    mem_181296.references = NULL;
    
    struct memblock ext_mem_181313;
    
    ext_mem_181313.references = NULL;
    
    struct memblock ext_mem_181316;
    
    ext_mem_181316.references = NULL;
    
    struct memblock mem_param_181218;
    
    mem_param_181218.references = NULL;
    
    struct memblock mem_param_181215;
    
    mem_param_181215.references = NULL;
    
    struct memblock ext_mem_181337;
    
    ext_mem_181337.references = NULL;
    
    struct memblock ext_mem_181338;
    
    ext_mem_181338.references = NULL;
    
    struct memblock mem_181211;
    
    mem_181211.references = NULL;
    
    struct memblock mem_181207;
    
    mem_181207.references = NULL;
    
    struct memblock ext_mem_181341;
    
    ext_mem_181341.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_108231;
    bool cond_171867 = sle64(n_108231, (int64_t) 1);
    int64_t zs_lhs_171868 = sub64(n_108231, (int64_t) 1);
    int64_t zp_rhs_171869 = sdiv_safe64(zs_lhs_171868, (int64_t) 20);
    int64_t min_num_blocks_171870 = add64((int64_t) 1, zp_rhs_171869);
    bool loop_cond_171871 = slt64((int64_t) 1, min_num_blocks_171870);
    bool smallest_pow_2_geq_than_res_171872;
    int64_t smallest_pow_2_geq_than_res_171873;
    bool loop_while_171874;
    int64_t x_171875;
    
    loop_while_171874 = loop_cond_171871;
    x_171875 = (int64_t) 1;
    while (loop_while_171874) {
        int64_t loopres_171876 = mul64((int64_t) 2, x_171875);
        bool loop_cond_171877 = slt64(loopres_171876, min_num_blocks_171870);
        bool loop_while_tmp_182549 = loop_cond_171877;
        int64_t x_tmp_182550 = loopres_171876;
        
        loop_while_171874 = loop_while_tmp_182549;
        x_171875 = x_tmp_182550;
    }
    smallest_pow_2_geq_than_res_171872 = loop_while_171874;
    smallest_pow_2_geq_than_res_171873 = x_171875;
    
    bool zzero_171878 = smallest_pow_2_geq_than_res_171873 == (int64_t) 0;
    bool nonzzero_171879 = !zzero_171878;
    bool protect_assert_disj_171880 = cond_171867 || nonzzero_171879;
    bool nonzzero_cert_171881;
    
    if (!protect_assert_disj_171880) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:225:54-57\n   #4  ftsort.fut:139:3-28\n   #5  ftsort.fut:138:1-139:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171882 = sdiv_safe64(zs_lhs_171868, smallest_pow_2_geq_than_res_171873);
    int64_t block_sizze_171883 = add64((int64_t) 1, zp_rhs_171882);
    bool y_171888 = slt64((int64_t) 0, n_108231);
    bool protect_assert_disj_182246 = cond_171867 || y_171888;
    bool index_certs_171889;
    
    if (!protect_assert_disj_182246) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_108231, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:225:54-57\n   #4  ftsort.fut:139:3-28\n   #5  ftsort.fut:138:1-139:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171902 = slt64(smallest_pow_2_geq_than_res_171873, (int64_t) 0);
    bool valid_171903 = !bounds_invalid_upwards_171902;
    bool protect_assert_disj_182254 = cond_171867 || valid_171903;
    bool range_valid_c_171904;
    
    if (!protect_assert_disj_182254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:225:54-57\n   #6  ftsort.fut:139:3-28\n   #7  ftsort.fut:138:1-139:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171906 = slt64(block_sizze_171883, (int64_t) 0);
    bool valid_171907 = !bounds_invalid_upwards_171906;
    bool protect_assert_disj_182256 = cond_171867 || valid_171907;
    bool range_valid_c_171908;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171883, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:139:3-28\n   #10 ftsort.fut:138:1-139:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171910 = sle64(block_sizze_171883, (int64_t) 1);
    int64_t tmp_171911 = sub64(block_sizze_171883, (int64_t) 2);
    bool bounds_invalid_upwards_171912 = slt64(tmp_171911, (int64_t) 0);
    bool valid_171914 = !bounds_invalid_upwards_171912;
    bool protect_assert_disj_171915 = cond_171910 || valid_171914;
    bool protect_assert_disj_182258 = cond_171867 || protect_assert_disj_171915;
    bool range_valid_c_171916;
    
    if (!protect_assert_disj_182258) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171911, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9699(ctx, &ext_mem_181134, xs_mem_181133, n_108231, incr_108232) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182551 = 0; i_182551 < n_108231; i_182551++) {
        int64_t x_182552 = (int64_t) 0 + i_182551 * (int64_t) 1;
        
        ((int64_t *) mem_181136.mem)[i_182551] = x_182552;
    }
    
    int64_t flat_dim_171884 = smallest_pow_2_geq_than_res_171873 * block_sizze_171883;
    bool x_182241 = !cond_171867;
    int64_t greatest_divisor_leq_than_arg1_171886 = mul64((int64_t) 2, block_sizze_171883);
    int64_t merge_block_sizze_171887;
    
    if (x_182241) {
        int64_t x_182243;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182243, (int64_t) 8, greatest_divisor_leq_than_arg1_171886) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171887 = x_182243;
    } else {
        merge_block_sizze_171887 = (int64_t) 0;
    }
    
    double reduce_arg1_171890;
    
    if (x_182241) {
        double x_182247 = ((double *) xs_mem_181133.mem)[(int64_t) 0];
        
        reduce_arg1_171890 = x_182247;
    } else {
        reduce_arg1_171890 = 0.0;
    }
    
    double defunc_0_reduce_res_178792;
    int64_t defunc_0_reduce_res_178793;
    
    if (x_182241) {
        double x_182249;
        int64_t x_182250;
        double redout_180793;
        int64_t redout_180794;
        
        redout_180793 = reduce_arg1_171890;
        redout_180794 = (int64_t) 0;
        for (int64_t i_180795 = 0; i_180795 < n_108231; i_180795++) {
            double x_171893 = ((double *) xs_mem_181133.mem)[i_180795];
            bool zlze_res_171899 = redout_180793 <= x_171893;
            double defunc_0_op_res_171900;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171900 = x_171893;
            } else {
                defunc_0_op_res_171900 = redout_180793;
            }
            
            int64_t defunc_0_op_res_171901;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171901 = i_180795;
            } else {
                defunc_0_op_res_171901 = redout_180794;
            }
            
            double redout_tmp_182553 = defunc_0_op_res_171900;
            int64_t redout_tmp_182554 = defunc_0_op_res_171901;
            
            redout_180793 = redout_tmp_182553;
            redout_180794 = redout_tmp_182554;
        }
        x_182249 = redout_180793;
        x_182250 = redout_180794;
        defunc_0_reduce_res_178792 = x_182249;
        defunc_0_reduce_res_178793 = x_182250;
    } else {
        defunc_0_reduce_res_178792 = 0.0;
        defunc_0_reduce_res_178793 = (int64_t) 0;
    }
    
    int64_t distance_171913 = add64((int64_t) 1, tmp_171911);
    int64_t binop_x_181137 = (int64_t) 8 * smallest_pow_2_geq_than_res_171873;
    int64_t bytes_181138 = block_sizze_171883 * binop_x_181137;
    int64_t bytes_181151 = (int64_t) 8 * block_sizze_171883;
    bool loop_cond_171987 = slt64(block_sizze_171883, flat_dim_171884);
    bool zzero_171988 = merge_block_sizze_171887 == (int64_t) 0;
    bool nonzzero_171989 = !zzero_171988;
    
    if (cond_171867) {
        if (memblock_set(ctx, &ext_mem_181341, &mem_181136, "mem_181136") != 0)
            return 1;
    } else {
        if (mem_181139_cached_sizze_182813 < bytes_181138) {
            err = lexical_realloc(ctx, &mem_181139, &mem_181139_cached_sizze_182813, bytes_181138);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181142_cached_sizze_182814 < bytes_181138) {
            err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_182814, bytes_181138);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181152_cached_sizze_182815 < bytes_181151) {
            err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_182815, bytes_181151);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181154_cached_sizze_182816 < bytes_181151) {
            err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_182816, bytes_181151);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180807 = 0; i_180807 < smallest_pow_2_geq_than_res_171873; i_180807++) {
            int64_t zp_lhs_171920 = mul64(block_sizze_171883, i_180807);
            
            for (int64_t i_180800 = 0; i_180800 < block_sizze_171883; i_180800++) {
                int64_t k_171924 = add64(zp_lhs_171920, i_180800);
                bool cond_171925 = slt64(k_171924, n_108231);
                double lifted_lambda_res_171926;
                int64_t lifted_lambda_res_171927;
                
                if (cond_171925) {
                    bool x_178645 = sle64((int64_t) 0, k_171924);
                    bool bounds_check_178646 = cond_171925 && x_178645;
                    bool index_certs_178647;
                    
                    if (!bounds_check_178646) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171924, "] out of bounds for array of shape [", (long long) n_108231, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:139:3-28\n   #11 ftsort.fut:138:1-139:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double lifted_lambda_res_t_res_178648 = ((double *) xs_mem_181133.mem)[k_171924];
                    
                    lifted_lambda_res_171926 = lifted_lambda_res_t_res_178648;
                    lifted_lambda_res_171927 = k_171924;
                } else {
                    lifted_lambda_res_171926 = defunc_0_reduce_res_178792;
                    lifted_lambda_res_171927 = defunc_0_reduce_res_178793;
                }
                ((double *) mem_181152)[i_180800] = lifted_lambda_res_171926;
                ((int64_t *) mem_181154)[i_180800] = lifted_lambda_res_171927;
            }
            if (!cond_171910) {
                for (int64_t i_171936 = 0; i_171936 < distance_171913; i_171936++) {
                    int64_t gt_arg1_171939 = add64((int64_t) 1, i_171936);
                    bool x_171940 = sle64((int64_t) 0, gt_arg1_171939);
                    bool y_171941 = slt64(gt_arg1_171939, block_sizze_171883);
                    bool bounds_check_171942 = x_171940 && y_171941;
                    bool index_certs_171943;
                    
                    if (!bounds_check_171942) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171939, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171945 = slt64(i_171936, block_sizze_171883);
                    bool index_certs_171946;
                    
                    if (!y_171945) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171936, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double gt_arg1_171944 = ((double *) mem_181152)[gt_arg1_171939];
                    double gt_arg0_171947 = ((double *) mem_181152)[i_171936];
                    bool zlze_res_171948 = gt_arg0_171947 <= gt_arg1_171944;
                    bool defunc_0_lifted_gt_res_171949 = !zlze_res_171948;
                    bool s_171950;
                    int64_t s_171953;
                    bool loop_while_171954;
                    int64_t j_171957;
                    
                    loop_while_171954 = defunc_0_lifted_gt_res_171949;
                    j_171957 = i_171936;
                    while (loop_while_171954) {
                        bool x_171958 = sle64((int64_t) 0, j_171957);
                        bool y_171959 = slt64(j_171957, block_sizze_171883);
                        bool bounds_check_171960 = x_171958 && y_171959;
                        bool index_certs_171961;
                        
                        if (!bounds_check_171960) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171957, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171964 = add64((int64_t) 1, j_171957);
                        bool x_171965 = sle64((int64_t) 0, copy_arg0_171964);
                        bool y_171966 = slt64(copy_arg0_171964, block_sizze_171883);
                        bool bounds_check_171967 = x_171965 && y_171966;
                        bool index_certs_171968;
                        
                        if (!bounds_check_171967) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171964, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        double copy_arg0_171962 = ((double *) mem_181152)[j_171957];
                        int64_t copy_arg0_171963 = ((int64_t *) mem_181154)[j_171957];
                        double copy_arg0_171969 = ((double *) mem_181152)[copy_arg0_171964];
                        int64_t copy_arg0_171970 = ((int64_t *) mem_181154)[copy_arg0_171964];
                        
                        ((double *) mem_181152)[j_171957] = copy_arg0_171969;
                        ((int64_t *) mem_181154)[j_171957] = copy_arg0_171970;
                        ((double *) mem_181152)[copy_arg0_171964] = copy_arg0_171962;
                        ((int64_t *) mem_181154)[copy_arg0_171964] = copy_arg0_171963;
                        
                        int64_t tmp_171975 = sub64(j_171957, (int64_t) 1);
                        bool cond_171976 = sle64((int64_t) 0, tmp_171975);
                        bool loop_cond_171977;
                        
                        if (cond_171976) {
                            bool y_178650 = slt64(tmp_171975, block_sizze_171883);
                            bool bounds_check_178651 = cond_171976 && y_178650;
                            bool index_certs_178652;
                            
                            if (!bounds_check_178651) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171975, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double gt_arg1_178649 = ((double *) mem_181152)[j_171957];
                            double gt_arg0_178653 = ((double *) mem_181152)[tmp_171975];
                            bool zlze_res_178654 = gt_arg0_178653 <= gt_arg1_178649;
                            bool defunc_0_lifted_gt_res_178655 = !zlze_res_178654;
                            
                            loop_cond_171977 = defunc_0_lifted_gt_res_178655;
                        } else {
                            loop_cond_171977 = 0;
                        }
                        
                        bool loop_while_tmp_182561 = loop_cond_171977;
                        int64_t j_tmp_182564 = tmp_171975;
                        
                        loop_while_171954 = loop_while_tmp_182561;
                        j_171957 = j_tmp_182564;
                    }
                    s_171950 = loop_while_171954;
                    s_171953 = j_171957;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181139, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181152, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181142, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181154, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
        }
        if (memblock_alloc(ctx, &mem_181207, bytes_181138, "mem_181207")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181207.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint64_t *) mem_181139, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        if (memblock_alloc(ctx, &mem_181211, bytes_181138, "mem_181211")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181211.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint64_t *) mem_181142, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        
        int64_t data_171990;
        bool data_171991;
        int64_t data_171994;
        int64_t loop_dz2084Uz2082U_171995;
        bool loop_while_171996;
        int64_t stride_171999;
        
        if (memblock_set(ctx, &mem_param_181215, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181218, &mem_181211, "mem_181211") != 0)
            return 1;
        loop_dz2084Uz2082U_171995 = flat_dim_171884;
        loop_while_171996 = loop_cond_171987;
        stride_171999 = block_sizze_171883;
        while (loop_while_171996) {
            int64_t next_stride_172000 = mul64((int64_t) 2, stride_171999);
            bool zzero_172001 = next_stride_172000 == (int64_t) 0;
            bool nonzzero_172002 = !zzero_172001;
            bool nonzzero_cert_172003;
            
            if (!nonzzero_172002) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:225:54-57\n   #4  ftsort.fut:139:3-28\n   #5  ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_172004 = sdiv64(flat_dim_171884, next_stride_172000);
            bool bounds_invalid_upwards_172005 = slt64(num_merges_172004, (int64_t) 0);
            bool valid_172006 = !bounds_invalid_upwards_172005;
            bool range_valid_c_172007;
            
            if (!valid_172006) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_172004, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:225:54-57\n   #6  ftsort.fut:139:3-28\n   #7  ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_172009 = sub64(next_stride_172000, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_172010 = sle64((int64_t) 0, m_172009);
            bool cond_172012 = slt64(next_stride_172000, (int64_t) 10);
            bool protect_assert_disj_172013 = nonzzero_171989 || cond_172012;
            bool nonzzero_cert_172014;
            
            if (!protect_assert_disj_172013) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_172015 = smod_safe64(next_stride_172000, merge_block_sizze_171887);
            bool num_blocks_172016 = zeze_lhs_172015 == (int64_t) 0;
            bool protect_assert_disj_172017 = cond_172012 || num_blocks_172016;
            bool assert_c_172018;
            
            if (!protect_assert_disj_172017) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_172020 = sdiv_safe64(next_stride_172000, merge_block_sizze_171887);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021 = add64((int64_t) 1, num_blocks_172020);
            int64_t j_m_i_172022 = sub64(next_stride_172000, stride_171999);
            int64_t flat_dim_172023 = merge_block_sizze_171887 * num_blocks_172020;
            bool bounds_invalid_upwards_172024 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, (int64_t) 0);
            bool zzero_lte_i_172025 = sle64((int64_t) 0, stride_171999);
            bool i_lte_j_172026 = sle64(stride_171999, next_stride_172000);
            bool empty_slice_172027 = stride_171999 == (int64_t) 0;
            int64_t m_172028 = sub64(stride_171999, (int64_t) 1);
            bool bounds_invalid_upwards_172029 = slt64(num_blocks_172020, (int64_t) 0);
            bool empty_slice_172030 = j_m_i_172022 == (int64_t) 0;
            int64_t m_172031 = sub64(j_m_i_172022, (int64_t) 1);
            bool cond_172032 = slt64((int64_t) 0, stride_171999);
            bool valid_172033 = !bounds_invalid_upwards_172024;
            bool zzero_leq_i_p_m_t_s_172034 = sle64((int64_t) 0, m_172028);
            bool i_p_m_t_s_leq_w_172035 = slt64(m_172028, next_stride_172000);
            bool valid_172036 = !bounds_invalid_upwards_172029;
            bool i_p_m_t_s_leq_w_172037 = slt64(m_172009, flat_dim_172023);
            int64_t i_p_m_t_s_172038 = add64(stride_171999, m_172031);
            bool y_172039 = slt64((int64_t) 0, j_m_i_172022);
            bool protect_assert_disj_172040 = cond_172012 || valid_172033;
            bool range_valid_c_172041;
            
            if (!protect_assert_disj_172040) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:139:3-28\n   #11 ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172042 = zzero_leq_i_p_m_t_s_172034 && i_p_m_t_s_leq_w_172035;
            bool protect_assert_disj_172043 = cond_172012 || valid_172036;
            bool range_valid_c_172044;
            
            if (!protect_assert_disj_172043) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_172020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:139:3-28\n   #10 ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172045 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172037;
            bool zzero_leq_i_p_m_t_s_172046 = sle64((int64_t) 0, i_p_m_t_s_172038);
            bool i_p_m_t_s_leq_w_172047 = slt64(i_p_m_t_s_172038, next_stride_172000);
            bool forwards_ok_172048 = zzero_lte_i_172025 && y_172042;
            bool ok_or_empty_172049 = zzero_172001 || y_172045;
            bool y_172050 = zzero_lte_i_172025 && i_p_m_t_s_leq_w_172047;
            bool protect_assert_disj_172051 = cond_172032 || y_172039;
            bool ok_or_empty_172052 = empty_slice_172027 || forwards_ok_172048;
            bool protect_assert_disj_172053 = cond_172012 || ok_or_empty_172049;
            bool index_certs_172054;
            
            if (!protect_assert_disj_172053) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) flat_dim_172023, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:139:3-28\n   #10 ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172055 = zzero_leq_i_p_m_t_s_172046 && y_172050;
            bool loop_not_taken_172056 = !cond_172012;
            bool protect_assert_disj_172057 = protect_assert_disj_172051 || loop_not_taken_172056;
            bool index_certs_172058;
            
            if (!protect_assert_disj_172057) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:139:3-28\n   #11 ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172059 = cond_172012 || ok_or_empty_172052;
            bool index_certs_172060;
            
            if (!protect_assert_disj_172059) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:139:3-28\n   #12 ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_172061 = i_lte_j_172026 && y_172055;
            bool protect_assert_disj_172062 = ok_or_empty_172052 || loop_not_taken_172056;
            bool index_certs_172063;
            
            if (!protect_assert_disj_172062) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_172064 = empty_slice_172030 || forwards_ok_172061;
            bool protect_assert_disj_172065 = loop_not_taken_172056 || ok_or_empty_172064;
            bool index_certs_172066;
            
            if (!protect_assert_disj_172065) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172067 = cond_172012 || ok_or_empty_172064;
            bool index_certs_172068;
            
            if (!protect_assert_disj_172067) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:139:3-28\n   #12 ftsort.fut:138:1-139:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181219 = (int64_t) 8 * num_merges_172004;
            int64_t bytes_181220 = next_stride_172000 * binop_x_181219;
            bool i_lte_j_172011 = sle64((int64_t) 0, next_stride_172000);
            
            if (mem_181221_cached_sizze_182817 < bytes_181220) {
                err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_182817, bytes_181220);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181224_cached_sizze_182818 < bytes_181220) {
                err = lexical_realloc(ctx, &mem_181224, &mem_181224_cached_sizze_182818, bytes_181220);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181233 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021;
            int64_t binop_x_181249 = (int64_t) 8 * num_blocks_172020;
            int64_t bytes_181250 = merge_block_sizze_171887 * binop_x_181249;
            int64_t bytes_181295 = (int64_t) 16 * stride_171999;
            
            for (int64_t i_180828 = 0; i_180828 < num_merges_172004; i_180828++) {
                int64_t start_172072 = mul64(next_stride_172000, i_180828);
                int64_t j_m_i_172073 = sub64(loop_dz2084Uz2082U_171995, start_172072);
                bool empty_slice_172074 = j_m_i_172073 == (int64_t) 0;
                int64_t m_172075 = sub64(j_m_i_172073, (int64_t) 1);
                int64_t i_p_m_t_s_172076 = add64(start_172072, m_172075);
                bool zzero_leq_i_p_m_t_s_172077 = sle64((int64_t) 0, i_p_m_t_s_172076);
                bool i_p_m_t_s_leq_w_172078 = slt64(i_p_m_t_s_172076, loop_dz2084Uz2082U_171995);
                bool zzero_lte_i_172079 = sle64((int64_t) 0, start_172072);
                bool i_lte_j_172080 = sle64(start_172072, loop_dz2084Uz2082U_171995);
                bool y_172081 = i_p_m_t_s_leq_w_172078 && zzero_lte_i_172079;
                bool y_172082 = zzero_leq_i_p_m_t_s_172077 && y_172081;
                bool forwards_ok_172083 = i_lte_j_172080 && y_172082;
                bool ok_or_empty_172084 = empty_slice_172074 || forwards_ok_172083;
                bool index_certs_172085;
                
                if (!ok_or_empty_172084) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_172072, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171995, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172086 = slt64(m_172009, j_m_i_172073);
                bool y_172087 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172086;
                bool forwards_ok_172088 = i_lte_j_172011 && y_172087;
                bool ok_or_empty_172089 = zzero_172001 || forwards_ok_172088;
                bool index_certs_172090;
                
                if (!ok_or_empty_172089) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) j_m_i_172073, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:139:3-28\n   #9  ftsort.fut:138:1-139:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_172012) {
                    double dummy_178681;
                    int64_t dummy_178682;
                    
                    if (cond_172032) {
                        double head_res_178683 = ((double *) mem_param_181215.mem)[start_172072];
                        int64_t head_res_178684 = ((int64_t *) mem_param_181218.mem)[start_172072];
                        
                        dummy_178681 = head_res_178683;
                        dummy_178682 = head_res_178684;
                    } else {
                        int64_t slice_178685 = stride_171999 + start_172072;
                        double head_res_178686 = ((double *) mem_param_181215.mem)[slice_178685];
                        int64_t head_res_178687 = ((int64_t *) mem_param_181218.mem)[slice_178685];
                        
                        dummy_178681 = head_res_178686;
                        dummy_178682 = head_res_178687;
                    }
                    if (memblock_alloc(ctx, &mem_181296, bytes_181295, "mem_181296")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182574 = 0; nest_i_182574 < next_stride_172000; nest_i_182574++) {
                        ((double *) mem_181296.mem)[nest_i_182574] = dummy_178681;
                    }
                    if (memblock_alloc(ctx, &mem_181298, bytes_181295, "mem_181298")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182575 = 0; nest_i_182575 < next_stride_172000; nest_i_182575++) {
                        ((int64_t *) mem_181298.mem)[nest_i_182575] = dummy_178682;
                    }
                    
                    int64_t data_178690;
                    int64_t i_178694 = (int64_t) 0;
                    
                    for (int64_t k_178693 = 0; k_178693 < next_stride_172000; k_178693++) {
                        int64_t j_178697 = sub64(k_178693, i_178694);
                        bool cond_178698 = j_178697 == j_m_i_172022;
                        bool cond_178699;
                        
                        if (cond_178698) {
                            cond_178699 = 1;
                        } else {
                            bool cond_178700 = slt64(i_178694, stride_171999);
                            bool cond_f_res_178701;
                            
                            if (cond_178700) {
                                bool x_178702 = sle64((int64_t) 0, j_178697);
                                bool y_178703 = slt64(j_178697, j_m_i_172022);
                                bool bounds_check_178704 = x_178702 && y_178703;
                                bool index_certs_178705;
                                
                                if (!bounds_check_178704) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:139:3-28\n   #10 ftsort.fut:138:1-139:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178709 = sle64((int64_t) 0, i_178694);
                                bool bounds_check_178710 = cond_178700 && x_178709;
                                bool index_certs_178711;
                                
                                if (!bounds_check_178710) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:139:3-28\n   #10 ftsort.fut:138:1-139:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178706 = stride_171999 + j_178697;
                                int64_t slice_178707 = start_172072 + slice_178706;
                                double leq_arg1_178708 = ((double *) mem_param_181215.mem)[slice_178707];
                                int64_t slice_178712 = start_172072 + i_178694;
                                double leq_arg0_178713 = ((double *) mem_param_181215.mem)[slice_178712];
                                bool zlze_res_178714 = leq_arg0_178713 <= leq_arg1_178708;
                                
                                cond_f_res_178701 = zlze_res_178714;
                            } else {
                                cond_f_res_178701 = 0;
                            }
                            cond_178699 = cond_f_res_178701;
                        }
                        
                        int64_t loopres_178715;
                        double loopres_178716;
                        int64_t loopres_178717;
                        
                        if (cond_178699) {
                            bool x_178719 = sle64((int64_t) 0, i_178694);
                            bool y_178720 = slt64(i_178694, stride_171999);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:139:3-28\n   #10 ftsort.fut:138:1-139:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178718 = add64((int64_t) 1, i_178694);
                            int64_t slice_178723 = start_172072 + i_178694;
                            double tmp_178724 = ((double *) mem_param_181215.mem)[slice_178723];
                            int64_t tmp_178725 = ((int64_t *) mem_param_181218.mem)[slice_178723];
                            
                            loopres_178715 = tmp_178718;
                            loopres_178716 = tmp_178724;
                            loopres_178717 = tmp_178725;
                        } else {
                            bool x_178726 = sle64((int64_t) 0, j_178697);
                            bool y_178727 = slt64(j_178697, j_m_i_172022);
                            bool bounds_check_178728 = x_178726 && y_178727;
                            bool index_certs_178729;
                            
                            if (!bounds_check_178728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:139:3-28\n   #10 ftsort.fut:138:1-139:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178730 = stride_171999 + j_178697;
                            int64_t slice_178731 = start_172072 + slice_178730;
                            double tmp_178732 = ((double *) mem_param_181215.mem)[slice_178731];
                            int64_t tmp_178733 = ((int64_t *) mem_param_181218.mem)[slice_178731];
                            
                            loopres_178715 = i_178694;
                            loopres_178716 = tmp_178732;
                            loopres_178717 = tmp_178733;
                        }
                        ((double *) mem_181296.mem)[k_178693] = loopres_178716;
                        ((int64_t *) mem_181298.mem)[k_178693] = loopres_178717;
                        
                        int64_t i_tmp_182576 = loopres_178715;
                        
                        i_178694 = i_tmp_182576;
                    }
                    data_178690 = i_178694;
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181296, "mem_181296") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181298, "mem_181298") != 0)
                        return 1;
                } else {
                    if (mem_181234_cached_sizze_182819 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181234, &mem_181234_cached_sizze_182819, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181236_cached_sizze_182820 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182820, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180814 = 0; i_180814 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021; i_180814++) {
                        int64_t split_count_arg3_172152 = mul64(merge_block_sizze_171887, i_180814);
                        int64_t defunc_0_split_count_res_172153;
                        int64_t defunc_0_split_count_res_172154;
                        int64_t defunc_0_split_count_res_172155;
                        int64_t defunc_0_split_count_res_172156;
                        int64_t defunc_0_split_count_res_172157;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_172153, &defunc_0_split_count_res_172154, &defunc_0_split_count_res_172155, &defunc_0_split_count_res_172156, &defunc_0_split_count_res_172157, (int64_t) 0, stride_171999, (int64_t) 0, j_m_i_172022, split_count_arg3_172152) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172158 = slt64((int64_t) 0, defunc_0_split_count_res_172157);
                        bool defunc_0_split_count_res_172159;
                        int64_t defunc_0_split_count_res_172160;
                        int64_t defunc_0_split_count_res_172161;
                        int64_t defunc_0_split_count_res_172162;
                        int64_t defunc_0_split_count_res_172163;
                        int64_t defunc_0_split_count_res_172164;
                        bool loop_while_172165;
                        int64_t ss_172166;
                        int64_t ss_172167;
                        int64_t tt_172168;
                        int64_t tt_172169;
                        int64_t count_172170;
                        
                        loop_while_172165 = loop_cond_172158;
                        ss_172166 = defunc_0_split_count_res_172153;
                        ss_172167 = defunc_0_split_count_res_172154;
                        tt_172168 = defunc_0_split_count_res_172155;
                        tt_172169 = defunc_0_split_count_res_172156;
                        count_172170 = defunc_0_split_count_res_172157;
                        while (loop_while_172165) {
                            int64_t zlze_lhs_172171 = sub64(ss_172167, ss_172166);
                            bool cond_172172 = sle64(zlze_lhs_172171, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172173;
                            int64_t defunc_0_lifted_step_res_172174;
                            int64_t defunc_0_lifted_step_res_172175;
                            int64_t defunc_0_lifted_step_res_172176;
                            
                            if (cond_172172) {
                                int64_t tmp_178736 = add64(tt_172168, count_172170);
                                
                                defunc_0_lifted_step_res_172173 = ss_172166;
                                defunc_0_lifted_step_res_172174 = tmp_178736;
                                defunc_0_lifted_step_res_172175 = tt_172169;
                                defunc_0_lifted_step_res_172176 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172178 = sub64(tt_172169, tt_172168);
                                bool cond_172179 = sle64(zlze_lhs_172178, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172180;
                                int64_t defunc_0_lifted_step_res_f_res_172181;
                                int64_t defunc_0_lifted_step_res_f_res_172182;
                                int64_t defunc_0_lifted_step_res_f_res_172183;
                                
                                if (cond_172179) {
                                    int64_t tmp_178737 = add64(ss_172166, count_172170);
                                    
                                    defunc_0_lifted_step_res_f_res_172180 = tmp_178737;
                                    defunc_0_lifted_step_res_f_res_172181 = tt_172168;
                                    defunc_0_lifted_step_res_f_res_172182 = tt_172169;
                                    defunc_0_lifted_step_res_f_res_172183 = (int64_t) 0;
                                } else {
                                    bool cond_172185 = count_172170 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172186;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172187;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172188;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172189;
                                    
                                    if (cond_172185) {
                                        bool x_178739 = sle64((int64_t) 0, ss_172166);
                                        bool y_178740 = slt64(ss_172166, stride_171999);
                                        bool bounds_check_178741 = x_178739 && y_178740;
                                        bool index_certs_178742;
                                        
                                        if (!bounds_check_178741) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172166, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:225:54-57\n   #13 ftsort.fut:139:3-28\n   #14 ftsort.fut:138:1-139:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178745 = sle64((int64_t) 0, tt_172168);
                                        bool y_178746 = slt64(tt_172168, j_m_i_172022);
                                        bool bounds_check_178747 = x_178745 && y_178746;
                                        bool index_certs_178748;
                                        
                                        if (!bounds_check_178747) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172168, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:225:54-57\n   #13 ftsort.fut:139:3-28\n   #14 ftsort.fut:138:1-139:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178743 = start_172072 + ss_172166;
                                        double leq_arg1_178744 = ((double *) mem_param_181215.mem)[slice_178743];
                                        int64_t slice_178749 = stride_171999 + tt_172168;
                                        int64_t slice_178750 = start_172072 + slice_178749;
                                        double leq_arg0_178751 = ((double *) mem_param_181215.mem)[slice_178750];
                                        bool zlze_res_178752 = leq_arg0_178751 <= leq_arg1_178744;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        
                                        if (zlze_res_178752) {
                                            int64_t tmp_178755 = add64((int64_t) 1, tt_172168);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = ss_172166;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tmp_178755;
                                        } else {
                                            int64_t tmp_178756 = add64((int64_t) 1, ss_172166);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = tmp_178756;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tt_172168;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = tt_172169;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = (int64_t) 0;
                                    } else {
                                        int64_t m_172208 = sdiv64(count_172170, (int64_t) 2);
                                        int64_t n_172209 = sub64(count_172170, m_172208);
                                        bool cond_172210 = n_172209 == (int64_t) 0;
                                        int64_t zgze_lhs_172211 = add64(ss_172166, m_172208);
                                        bool cond_f_res_172212 = sle64(ss_172167, zgze_lhs_172211);
                                        bool x_172213 = !cond_172210;
                                        bool y_172214 = cond_f_res_172212 && x_172213;
                                        bool cond_172215 = cond_172210 || y_172214;
                                        bool leq_y_x_172216;
                                        
                                        if (cond_172215) {
                                            leq_y_x_172216 = 1;
                                        } else {
                                            bool x_172217 = sle64((int64_t) 0, zgze_lhs_172211);
                                            bool y_172218 = slt64(zgze_lhs_172211, stride_171999);
                                            bool bounds_check_172219 = x_172217 && y_172218;
                                            bool index_certs_172220;
                                            
                                            if (!bounds_check_172219) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172211, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:225:54-57\n   #13 ftsort.fut:139:3-28\n   #14 ftsort.fut:138:1-139:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172223 = add64(tt_172168, n_172209);
                                            int64_t leq_arg0_172224 = sub64(zm_lhs_172223, (int64_t) 1);
                                            bool x_172225 = sle64((int64_t) 0, leq_arg0_172224);
                                            bool y_172226 = slt64(leq_arg0_172224, j_m_i_172022);
                                            bool bounds_check_172227 = x_172225 && y_172226;
                                            bool index_certs_172228;
                                            
                                            if (!bounds_check_172227) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172224, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:225:54-57\n   #13 ftsort.fut:139:3-28\n   #14 ftsort.fut:138:1-139:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172221 = start_172072 + zgze_lhs_172211;
                                            double leq_arg1_172222 = ((double *) mem_param_181215.mem)[slice_172221];
                                            int64_t slice_172229 = stride_171999 + leq_arg0_172224;
                                            int64_t slice_172230 = start_172072 + slice_172229;
                                            double leq_arg0_172231 = ((double *) mem_param_181215.mem)[slice_172230];
                                            bool zlze_res_172232 = leq_arg0_172231 <= leq_arg1_172222;
                                            
                                            leq_y_x_172216 = zlze_res_172232;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                        
                                        if (leq_y_x_172216) {
                                            int64_t tmp_178757 = add64(tt_172168, n_172209);
                                            int64_t tmp_178758 = sub64(count_172170, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tmp_178757;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tt_172169;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = tmp_178758;
                                        } else {
                                            int64_t tmp_172238 = add64(tt_172168, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tt_172168;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tmp_172238;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = count_172170;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = ss_172166;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                    }
                                    defunc_0_lifted_step_res_f_res_172180 = defunc_0_lifted_step_res_f_res_f_res_172186;
                                    defunc_0_lifted_step_res_f_res_172181 = defunc_0_lifted_step_res_f_res_f_res_172187;
                                    defunc_0_lifted_step_res_f_res_172182 = defunc_0_lifted_step_res_f_res_f_res_172188;
                                    defunc_0_lifted_step_res_f_res_172183 = defunc_0_lifted_step_res_f_res_f_res_172189;
                                }
                                defunc_0_lifted_step_res_172173 = defunc_0_lifted_step_res_f_res_172180;
                                defunc_0_lifted_step_res_172174 = defunc_0_lifted_step_res_f_res_172181;
                                defunc_0_lifted_step_res_172175 = defunc_0_lifted_step_res_f_res_172182;
                                defunc_0_lifted_step_res_172176 = defunc_0_lifted_step_res_f_res_172183;
                            }
                            
                            int64_t loopres_172239;
                            int64_t loopres_172240;
                            int64_t loopres_172241;
                            int64_t loopres_172242;
                            int64_t loopres_172243;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_172239, &loopres_172240, &loopres_172241, &loopres_172242, &loopres_172243, defunc_0_lifted_step_res_172173, ss_172167, defunc_0_lifted_step_res_172174, defunc_0_lifted_step_res_172175, defunc_0_lifted_step_res_172176) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172244 = slt64((int64_t) 0, loopres_172243);
                            bool loop_while_tmp_182581 = loop_cond_172244;
                            int64_t ss_tmp_182582 = loopres_172239;
                            int64_t ss_tmp_182583 = loopres_172240;
                            int64_t tt_tmp_182584 = loopres_172241;
                            int64_t tt_tmp_182585 = loopres_172242;
                            int64_t count_tmp_182586 = loopres_172243;
                            
                            loop_while_172165 = loop_while_tmp_182581;
                            ss_172166 = ss_tmp_182582;
                            ss_172167 = ss_tmp_182583;
                            tt_172168 = tt_tmp_182584;
                            tt_172169 = tt_tmp_182585;
                            count_172170 = count_tmp_182586;
                        }
                        defunc_0_split_count_res_172159 = loop_while_172165;
                        defunc_0_split_count_res_172160 = ss_172166;
                        defunc_0_split_count_res_172161 = ss_172167;
                        defunc_0_split_count_res_172162 = tt_172168;
                        defunc_0_split_count_res_172163 = tt_172169;
                        defunc_0_split_count_res_172164 = count_172170;
                        ((int64_t *) mem_181234)[i_180814] = defunc_0_split_count_res_172160;
                        ((int64_t *) mem_181236)[i_180814] = defunc_0_split_count_res_172162;
                    }
                    if (mem_181251_cached_sizze_182821 < bytes_181250) {
                        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_182821, bytes_181250);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181254_cached_sizze_182822 < bytes_181250) {
                        err = lexical_realloc(ctx, &mem_181254, &mem_181254_cached_sizze_182822, bytes_181250);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180821 = 0; i_180821 < num_blocks_172020; i_180821++) {
                        bool y_172250 = slt64(i_180821, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool index_certs_172252;
                        
                        if (!y_172250) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180821, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:139:3-28\n   #11 ftsort.fut:138:1-139:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172253 = ((int64_t *) mem_181234)[i_180821];
                        int64_t defunc_0_f_res_172254 = ((int64_t *) mem_181236)[i_180821];
                        int64_t tmp_172255 = add64((int64_t) 1, i_180821);
                        bool x_172256 = sle64((int64_t) 0, tmp_172255);
                        bool y_172257 = slt64(tmp_172255, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool bounds_check_172258 = x_172256 && y_172257;
                        bool index_certs_172259;
                        
                        if (!bounds_check_172258) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172255, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:139:3-28\n   #11 ftsort.fut:138:1-139:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172260 = ((int64_t *) mem_181234)[tmp_172255];
                        int64_t defunc_0_f_res_172261 = ((int64_t *) mem_181236)[tmp_172255];
                        int64_t merge_sequential_arg2_172262 = add64(stride_171999, defunc_0_f_res_172254);
                        int64_t merge_sequential_arg2_172263 = add64(stride_171999, defunc_0_f_res_172261);
                        int64_t j_m_i_172264 = sub64(merge_sequential_arg2_172263, merge_sequential_arg2_172262);
                        bool empty_slice_172265 = j_m_i_172264 == (int64_t) 0;
                        int64_t m_172266 = sub64(j_m_i_172264, (int64_t) 1);
                        int64_t i_p_m_t_s_172267 = add64(merge_sequential_arg2_172262, m_172266);
                        bool zzero_leq_i_p_m_t_s_172268 = sle64((int64_t) 0, i_p_m_t_s_172267);
                        bool i_p_m_t_s_leq_w_172269 = slt64(i_p_m_t_s_172267, next_stride_172000);
                        bool zzero_lte_i_172270 = sle64((int64_t) 0, merge_sequential_arg2_172262);
                        bool i_lte_j_172271 = sle64(merge_sequential_arg2_172262, merge_sequential_arg2_172263);
                        bool y_172272 = i_p_m_t_s_leq_w_172269 && zzero_lte_i_172270;
                        bool y_172273 = zzero_leq_i_p_m_t_s_172268 && y_172272;
                        bool forwards_ok_172274 = i_lte_j_172271 && y_172273;
                        bool ok_or_empty_172275 = empty_slice_172265 || forwards_ok_172274;
                        bool index_certs_172276;
                        
                        if (!ok_or_empty_172275) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172262, ":", (long long) merge_sequential_arg2_172263, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:139:3-28\n   #11 ftsort.fut:138:1-139:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172277 = sub64(defunc_0_f_res_172260, defunc_0_f_res_172253);
                        bool empty_slice_172278 = j_m_i_172277 == (int64_t) 0;
                        int64_t m_172279 = sub64(j_m_i_172277, (int64_t) 1);
                        int64_t i_p_m_t_s_172280 = add64(defunc_0_f_res_172253, m_172279);
                        bool zzero_leq_i_p_m_t_s_172281 = sle64((int64_t) 0, i_p_m_t_s_172280);
                        bool i_p_m_t_s_leq_w_172282 = slt64(i_p_m_t_s_172280, next_stride_172000);
                        bool zzero_lte_i_172283 = sle64((int64_t) 0, defunc_0_f_res_172253);
                        bool i_lte_j_172284 = sle64(defunc_0_f_res_172253, defunc_0_f_res_172260);
                        bool y_172285 = i_p_m_t_s_leq_w_172282 && zzero_lte_i_172283;
                        bool y_172286 = zzero_leq_i_p_m_t_s_172281 && y_172285;
                        bool forwards_ok_172287 = i_lte_j_172284 && y_172286;
                        bool ok_or_empty_172288 = empty_slice_172278 || forwards_ok_172287;
                        bool index_certs_172289;
                        
                        if (!ok_or_empty_172288) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172253, ":", (long long) defunc_0_f_res_172260, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:139:3-28\n   #11 ftsort.fut:138:1-139:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172290 = slt64((int64_t) 0, j_m_i_172277);
                        double dummy_172291;
                        int64_t dummy_172292;
                        
                        if (cond_172290) {
                            bool index_certs_178759;
                            
                            if (!cond_172290) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:225:54-57\n   #12 ftsort.fut:139:3-28\n   #13 ftsort.fut:138:1-139:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178760 = start_172072 + defunc_0_f_res_172253;
                            double head_res_178761 = ((double *) mem_param_181215.mem)[slice_178760];
                            int64_t head_res_178762 = ((int64_t *) mem_param_181218.mem)[slice_178760];
                            
                            dummy_172291 = head_res_178761;
                            dummy_172292 = head_res_178762;
                        } else {
                            bool y_172297 = slt64((int64_t) 0, j_m_i_172264);
                            bool index_certs_172298;
                            
                            if (!y_172297) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:225:54-57\n   #12 ftsort.fut:139:3-28\n   #13 ftsort.fut:138:1-139:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172299 = start_172072 + merge_sequential_arg2_172262;
                            double head_res_172300 = ((double *) mem_param_181215.mem)[slice_172299];
                            int64_t head_res_172301 = ((int64_t *) mem_param_181218.mem)[slice_172299];
                            
                            dummy_172291 = head_res_172300;
                            dummy_172292 = head_res_172301;
                        }
                        for (int64_t nest_i_182589 = 0; nest_i_182589 < merge_block_sizze_171887; nest_i_182589++) {
                            ((double *) mem_181251)[i_180821 * merge_block_sizze_171887 + nest_i_182589] = dummy_172291;
                        }
                        for (int64_t nest_i_182590 = 0; nest_i_182590 < merge_block_sizze_171887; nest_i_182590++) {
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + nest_i_182590] = dummy_172292;
                        }
                        
                        int64_t data_172304;
                        int64_t i_172308 = (int64_t) 0;
                        
                        for (int64_t k_172307 = 0; k_172307 < merge_block_sizze_171887; k_172307++) {
                            int64_t j_172311 = sub64(k_172307, i_172308);
                            bool cond_172312 = j_172311 == j_m_i_172264;
                            bool cond_172313;
                            
                            if (cond_172312) {
                                cond_172313 = 1;
                            } else {
                                bool cond_172314 = slt64(i_172308, j_m_i_172277);
                                bool cond_f_res_172315;
                                
                                if (cond_172314) {
                                    bool x_178763 = sle64((int64_t) 0, j_172311);
                                    bool y_178764 = slt64(j_172311, j_m_i_172264);
                                    bool bounds_check_178765 = x_178763 && y_178764;
                                    bool index_certs_178766;
                                    
                                    if (!bounds_check_178765) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:139:3-28\n   #12 ftsort.fut:138:1-139:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178770 = sle64((int64_t) 0, i_172308);
                                    bool bounds_check_178771 = cond_172314 && x_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:139:3-28\n   #12 ftsort.fut:138:1-139:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178767 = merge_sequential_arg2_172262 + j_172311;
                                    int64_t slice_178768 = start_172072 + slice_178767;
                                    double leq_arg1_178769 = ((double *) mem_param_181215.mem)[slice_178768];
                                    int64_t slice_178773 = defunc_0_f_res_172253 + i_172308;
                                    int64_t slice_178774 = start_172072 + slice_178773;
                                    double leq_arg0_178775 = ((double *) mem_param_181215.mem)[slice_178774];
                                    bool zlze_res_178776 = leq_arg0_178775 <= leq_arg1_178769;
                                    
                                    cond_f_res_172315 = zlze_res_178776;
                                } else {
                                    cond_f_res_172315 = 0;
                                }
                                cond_172313 = cond_f_res_172315;
                            }
                            
                            int64_t loopres_172330;
                            double loopres_172331;
                            int64_t loopres_172332;
                            
                            if (cond_172313) {
                                bool x_178778 = sle64((int64_t) 0, i_172308);
                                bool y_178779 = slt64(i_172308, j_m_i_172277);
                                bool bounds_check_178780 = x_178778 && y_178779;
                                bool index_certs_178781;
                                
                                if (!bounds_check_178780) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:139:3-28\n   #12 ftsort.fut:138:1-139:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178777 = add64((int64_t) 1, i_172308);
                                int64_t slice_178782 = defunc_0_f_res_172253 + i_172308;
                                int64_t slice_178783 = start_172072 + slice_178782;
                                double tmp_178784 = ((double *) mem_param_181215.mem)[slice_178783];
                                int64_t tmp_178785 = ((int64_t *) mem_param_181218.mem)[slice_178783];
                                
                                loopres_172330 = tmp_178777;
                                loopres_172331 = tmp_178784;
                                loopres_172332 = tmp_178785;
                            } else {
                                bool x_172342 = sle64((int64_t) 0, j_172311);
                                bool y_172343 = slt64(j_172311, j_m_i_172264);
                                bool bounds_check_172344 = x_172342 && y_172343;
                                bool index_certs_172345;
                                
                                if (!bounds_check_172344) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:139:3-28\n   #12 ftsort.fut:138:1-139:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172346 = merge_sequential_arg2_172262 + j_172311;
                                int64_t slice_172347 = start_172072 + slice_172346;
                                double tmp_172348 = ((double *) mem_param_181215.mem)[slice_172347];
                                int64_t tmp_172349 = ((int64_t *) mem_param_181218.mem)[slice_172347];
                                
                                loopres_172330 = i_172308;
                                loopres_172331 = tmp_172348;
                                loopres_172332 = tmp_172349;
                            }
                            ((double *) mem_181251)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172331;
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172332;
                            
                            int64_t i_tmp_182591 = loopres_172330;
                            
                            i_172308 = i_tmp_182591;
                        }
                        data_172304 = i_172308;
                    }
                    if (memblock_alloc(ctx, &mem_181289, bytes_181250, "mem_181289")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181289.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint64_t *) mem_181251, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_alloc(ctx, &mem_181293, bytes_181250, "mem_181293")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181293.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint64_t *) mem_181254, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181289, "mem_181289") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181293, "mem_181293") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181221, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181316.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181224, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181313.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172356 = next_stride_172000 * num_merges_172004;
            
            if (memblock_alloc(ctx, &mem_181327, bytes_181220, "mem_181327")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181327.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint64_t *) mem_181221, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            if (memblock_alloc(ctx, &mem_181331, bytes_181220, "mem_181331")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181331.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint64_t *) mem_181224, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            
            bool loop_cond_172359 = slt64(next_stride_172000, flat_dim_171884);
            
            if (memblock_set(ctx, &mem_param_tmp_182565, &mem_181327, "mem_181327") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182566, &mem_181331, "mem_181331") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182567 = flat_dim_172356;
            bool loop_while_tmp_182568 = loop_cond_172359;
            int64_t stride_tmp_182571 = next_stride_172000;
            
            if (memblock_set(ctx, &mem_param_181215, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181218, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
                return 1;
            loop_dz2084Uz2082U_171995 = loop_dz2084Uz2082U_tmp_182567;
            loop_while_171996 = loop_while_tmp_182568;
            stride_171999 = stride_tmp_182571;
        }
        if (memblock_set(ctx, &ext_mem_181338, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181337, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        data_171990 = loop_dz2084Uz2082U_171995;
        data_171991 = loop_while_171996;
        data_171994 = stride_171999;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        
        bool empty_slice_172360 = n_108231 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172361 = sle64((int64_t) 0, zs_lhs_171868);
        bool i_p_m_t_s_leq_w_172362 = slt64(zs_lhs_171868, data_171990);
        bool y_172363 = zzero_leq_i_p_m_t_s_172361 && i_p_m_t_s_leq_w_172362;
        bool ok_or_empty_172364 = empty_slice_172360 || y_172363;
        bool index_certs_172365;
        
        if (!ok_or_empty_172364) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_108231, "] out of bounds for array of shape [", (long long) data_171990, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:225:54-57\n   #5  ftsort.fut:139:3-28\n   #6  ftsort.fut:138:1-139:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181341, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181343, bytes_181135, "mem_181343")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181345, bytes_181135, "mem_181345")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180835 = 0; i_180835 < n_108231; i_180835++) {
        int64_t eta_p_172369 = ((int64_t *) ext_mem_181341.mem)[i_180835];
        bool x_172370 = sle64((int64_t) 0, eta_p_172369);
        bool y_172371 = slt64(eta_p_172369, n_108231);
        bool bounds_check_172372 = x_172370 && y_172371;
        bool index_certs_172373;
        
        if (!bounds_check_172372) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172369, "] out of bounds for array of shape [", (long long) n_108231, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:225:54-57\n   #4  ftsort.fut:139:3-28\n   #5  ftsort.fut:138:1-139:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172374 = ((int64_t *) ext_mem_181134.mem)[eta_p_172369];
        double lifted_lambda_res_172375 = ((double *) xs_mem_181133.mem)[eta_p_172369];
        
        ((int64_t *) mem_181343.mem)[i_180835] = lifted_lambda_res_172374;
        ((double *) mem_181345.mem)[i_180835] = lifted_lambda_res_172375;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181343, "mem_181343") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181345, "mem_181345") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182811, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182812, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181139);
        free(mem_181142);
        free(mem_181152);
        free(mem_181154);
        free(mem_181221);
        free(mem_181224);
        free(mem_181234);
        free(mem_181236);
        free(mem_181251);
        free(mem_181254);
        if (memblock_unref(ctx, &mem_181345, "mem_181345") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181343, "mem_181343") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181327, "mem_181327") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181293, "mem_181293") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181289, "mem_181289") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181298, "mem_181298") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181296, "mem_181296") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181338, "ext_mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182823, struct memblock *mem_out_p_182824, struct memblock xs_mem_181133, int64_t n_105887, int64_t incr_105888)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181139_cached_sizze_182825 = 0;
    unsigned char *mem_181139 = NULL;
    int64_t mem_181142_cached_sizze_182826 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181152_cached_sizze_182827 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_182828 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181221_cached_sizze_182829 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181224_cached_sizze_182830 = 0;
    unsigned char *mem_181224 = NULL;
    int64_t mem_181234_cached_sizze_182831 = 0;
    unsigned char *mem_181234 = NULL;
    int64_t mem_181236_cached_sizze_182832 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181251_cached_sizze_182833 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181254_cached_sizze_182834 = 0;
    unsigned char *mem_181254 = NULL;
    struct memblock mem_181345;
    
    mem_181345.references = NULL;
    
    struct memblock mem_181343;
    
    mem_181343.references = NULL;
    
    struct memblock mem_param_tmp_182566;
    
    mem_param_tmp_182566.references = NULL;
    
    struct memblock mem_param_tmp_182565;
    
    mem_param_tmp_182565.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock mem_181327;
    
    mem_181327.references = NULL;
    
    struct memblock mem_181293;
    
    mem_181293.references = NULL;
    
    struct memblock mem_181289;
    
    mem_181289.references = NULL;
    
    struct memblock mem_181298;
    
    mem_181298.references = NULL;
    
    struct memblock mem_181296;
    
    mem_181296.references = NULL;
    
    struct memblock ext_mem_181313;
    
    ext_mem_181313.references = NULL;
    
    struct memblock ext_mem_181316;
    
    ext_mem_181316.references = NULL;
    
    struct memblock mem_param_181218;
    
    mem_param_181218.references = NULL;
    
    struct memblock mem_param_181215;
    
    mem_param_181215.references = NULL;
    
    struct memblock ext_mem_181337;
    
    ext_mem_181337.references = NULL;
    
    struct memblock ext_mem_181338;
    
    ext_mem_181338.references = NULL;
    
    struct memblock mem_181211;
    
    mem_181211.references = NULL;
    
    struct memblock mem_181207;
    
    mem_181207.references = NULL;
    
    struct memblock ext_mem_181341;
    
    ext_mem_181341.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_105887;
    bool cond_171867 = sle64(n_105887, (int64_t) 1);
    int64_t zs_lhs_171868 = sub64(n_105887, (int64_t) 1);
    int64_t zp_rhs_171869 = sdiv_safe64(zs_lhs_171868, (int64_t) 20);
    int64_t min_num_blocks_171870 = add64((int64_t) 1, zp_rhs_171869);
    bool loop_cond_171871 = slt64((int64_t) 1, min_num_blocks_171870);
    bool smallest_pow_2_geq_than_res_171872;
    int64_t smallest_pow_2_geq_than_res_171873;
    bool loop_while_171874;
    int64_t x_171875;
    
    loop_while_171874 = loop_cond_171871;
    x_171875 = (int64_t) 1;
    while (loop_while_171874) {
        int64_t loopres_171876 = mul64((int64_t) 2, x_171875);
        bool loop_cond_171877 = slt64(loopres_171876, min_num_blocks_171870);
        bool loop_while_tmp_182549 = loop_cond_171877;
        int64_t x_tmp_182550 = loopres_171876;
        
        loop_while_171874 = loop_while_tmp_182549;
        x_171875 = x_tmp_182550;
    }
    smallest_pow_2_geq_than_res_171872 = loop_while_171874;
    smallest_pow_2_geq_than_res_171873 = x_171875;
    
    bool zzero_171878 = smallest_pow_2_geq_than_res_171873 == (int64_t) 0;
    bool nonzzero_171879 = !zzero_171878;
    bool protect_assert_disj_171880 = cond_171867 || nonzzero_171879;
    bool nonzzero_cert_171881;
    
    if (!protect_assert_disj_171880) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:225:54-57\n   #4  ftsort.fut:136:3-27\n   #5  ftsort.fut:135:1-136:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171882 = sdiv_safe64(zs_lhs_171868, smallest_pow_2_geq_than_res_171873);
    int64_t block_sizze_171883 = add64((int64_t) 1, zp_rhs_171882);
    bool y_171888 = slt64((int64_t) 0, n_105887);
    bool protect_assert_disj_182246 = cond_171867 || y_171888;
    bool index_certs_171889;
    
    if (!protect_assert_disj_182246) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_105887, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:225:54-57\n   #4  ftsort.fut:136:3-27\n   #5  ftsort.fut:135:1-136:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171902 = slt64(smallest_pow_2_geq_than_res_171873, (int64_t) 0);
    bool valid_171903 = !bounds_invalid_upwards_171902;
    bool protect_assert_disj_182254 = cond_171867 || valid_171903;
    bool range_valid_c_171904;
    
    if (!protect_assert_disj_182254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:225:54-57\n   #6  ftsort.fut:136:3-27\n   #7  ftsort.fut:135:1-136:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171906 = slt64(block_sizze_171883, (int64_t) 0);
    bool valid_171907 = !bounds_invalid_upwards_171906;
    bool protect_assert_disj_182256 = cond_171867 || valid_171907;
    bool range_valid_c_171908;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171883, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:136:3-27\n   #10 ftsort.fut:135:1-136:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171910 = sle64(block_sizze_171883, (int64_t) 1);
    int64_t tmp_171911 = sub64(block_sizze_171883, (int64_t) 2);
    bool bounds_invalid_upwards_171912 = slt64(tmp_171911, (int64_t) 0);
    bool valid_171914 = !bounds_invalid_upwards_171912;
    bool protect_assert_disj_171915 = cond_171910 || valid_171914;
    bool protect_assert_disj_182258 = cond_171867 || protect_assert_disj_171915;
    bool range_valid_c_171916;
    
    if (!protect_assert_disj_182258) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171911, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181344 = (int64_t) 4 * n_105887;
    
    if (futrts_indicesWithIncrement_9590(ctx, &ext_mem_181134, xs_mem_181133, n_105887, incr_105888) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182551 = 0; i_182551 < n_105887; i_182551++) {
        int64_t x_182552 = (int64_t) 0 + i_182551 * (int64_t) 1;
        
        ((int64_t *) mem_181136.mem)[i_182551] = x_182552;
    }
    
    int64_t flat_dim_171884 = smallest_pow_2_geq_than_res_171873 * block_sizze_171883;
    bool x_182241 = !cond_171867;
    int64_t greatest_divisor_leq_than_arg1_171886 = mul64((int64_t) 2, block_sizze_171883);
    int64_t merge_block_sizze_171887;
    
    if (x_182241) {
        int64_t x_182243;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182243, (int64_t) 8, greatest_divisor_leq_than_arg1_171886) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171887 = x_182243;
    } else {
        merge_block_sizze_171887 = (int64_t) 0;
    }
    
    float reduce_arg1_171890;
    
    if (x_182241) {
        float x_182247 = ((float *) xs_mem_181133.mem)[(int64_t) 0];
        
        reduce_arg1_171890 = x_182247;
    } else {
        reduce_arg1_171890 = 0.0F;
    }
    
    float defunc_0_reduce_res_178792;
    int64_t defunc_0_reduce_res_178793;
    
    if (x_182241) {
        float x_182249;
        int64_t x_182250;
        float redout_180793;
        int64_t redout_180794;
        
        redout_180793 = reduce_arg1_171890;
        redout_180794 = (int64_t) 0;
        for (int64_t i_180795 = 0; i_180795 < n_105887; i_180795++) {
            float x_171893 = ((float *) xs_mem_181133.mem)[i_180795];
            bool zlze_res_171899 = redout_180793 <= x_171893;
            float defunc_0_op_res_171900;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171900 = x_171893;
            } else {
                defunc_0_op_res_171900 = redout_180793;
            }
            
            int64_t defunc_0_op_res_171901;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171901 = i_180795;
            } else {
                defunc_0_op_res_171901 = redout_180794;
            }
            
            float redout_tmp_182553 = defunc_0_op_res_171900;
            int64_t redout_tmp_182554 = defunc_0_op_res_171901;
            
            redout_180793 = redout_tmp_182553;
            redout_180794 = redout_tmp_182554;
        }
        x_182249 = redout_180793;
        x_182250 = redout_180794;
        defunc_0_reduce_res_178792 = x_182249;
        defunc_0_reduce_res_178793 = x_182250;
    } else {
        defunc_0_reduce_res_178792 = 0.0F;
        defunc_0_reduce_res_178793 = (int64_t) 0;
    }
    
    int64_t distance_171913 = add64((int64_t) 1, tmp_171911);
    int64_t binop_x_181137 = (int64_t) 4 * smallest_pow_2_geq_than_res_171873;
    int64_t bytes_181138 = block_sizze_171883 * binop_x_181137;
    int64_t binop_x_181140 = (int64_t) 8 * smallest_pow_2_geq_than_res_171873;
    int64_t bytes_181141 = block_sizze_171883 * binop_x_181140;
    int64_t bytes_181151 = (int64_t) 4 * block_sizze_171883;
    int64_t bytes_181153 = (int64_t) 8 * block_sizze_171883;
    bool loop_cond_171987 = slt64(block_sizze_171883, flat_dim_171884);
    bool zzero_171988 = merge_block_sizze_171887 == (int64_t) 0;
    bool nonzzero_171989 = !zzero_171988;
    
    if (cond_171867) {
        if (memblock_set(ctx, &ext_mem_181341, &mem_181136, "mem_181136") != 0)
            return 1;
    } else {
        if (mem_181139_cached_sizze_182825 < bytes_181138) {
            err = lexical_realloc(ctx, &mem_181139, &mem_181139_cached_sizze_182825, bytes_181138);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181142_cached_sizze_182826 < bytes_181141) {
            err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_182826, bytes_181141);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181152_cached_sizze_182827 < bytes_181151) {
            err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_182827, bytes_181151);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181154_cached_sizze_182828 < bytes_181153) {
            err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_182828, bytes_181153);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180807 = 0; i_180807 < smallest_pow_2_geq_than_res_171873; i_180807++) {
            int64_t zp_lhs_171920 = mul64(block_sizze_171883, i_180807);
            
            for (int64_t i_180800 = 0; i_180800 < block_sizze_171883; i_180800++) {
                int64_t k_171924 = add64(zp_lhs_171920, i_180800);
                bool cond_171925 = slt64(k_171924, n_105887);
                float lifted_lambda_res_171926;
                int64_t lifted_lambda_res_171927;
                
                if (cond_171925) {
                    bool x_178645 = sle64((int64_t) 0, k_171924);
                    bool bounds_check_178646 = cond_171925 && x_178645;
                    bool index_certs_178647;
                    
                    if (!bounds_check_178646) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171924, "] out of bounds for array of shape [", (long long) n_105887, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:136:3-27\n   #11 ftsort.fut:135:1-136:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float lifted_lambda_res_t_res_178648 = ((float *) xs_mem_181133.mem)[k_171924];
                    
                    lifted_lambda_res_171926 = lifted_lambda_res_t_res_178648;
                    lifted_lambda_res_171927 = k_171924;
                } else {
                    lifted_lambda_res_171926 = defunc_0_reduce_res_178792;
                    lifted_lambda_res_171927 = defunc_0_reduce_res_178793;
                }
                ((float *) mem_181152)[i_180800] = lifted_lambda_res_171926;
                ((int64_t *) mem_181154)[i_180800] = lifted_lambda_res_171927;
            }
            if (!cond_171910) {
                for (int64_t i_171936 = 0; i_171936 < distance_171913; i_171936++) {
                    int64_t gt_arg1_171939 = add64((int64_t) 1, i_171936);
                    bool x_171940 = sle64((int64_t) 0, gt_arg1_171939);
                    bool y_171941 = slt64(gt_arg1_171939, block_sizze_171883);
                    bool bounds_check_171942 = x_171940 && y_171941;
                    bool index_certs_171943;
                    
                    if (!bounds_check_171942) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171939, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171945 = slt64(i_171936, block_sizze_171883);
                    bool index_certs_171946;
                    
                    if (!y_171945) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171936, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float gt_arg1_171944 = ((float *) mem_181152)[gt_arg1_171939];
                    float gt_arg0_171947 = ((float *) mem_181152)[i_171936];
                    bool zlze_res_171948 = gt_arg0_171947 <= gt_arg1_171944;
                    bool defunc_0_lifted_gt_res_171949 = !zlze_res_171948;
                    bool s_171950;
                    int64_t s_171953;
                    bool loop_while_171954;
                    int64_t j_171957;
                    
                    loop_while_171954 = defunc_0_lifted_gt_res_171949;
                    j_171957 = i_171936;
                    while (loop_while_171954) {
                        bool x_171958 = sle64((int64_t) 0, j_171957);
                        bool y_171959 = slt64(j_171957, block_sizze_171883);
                        bool bounds_check_171960 = x_171958 && y_171959;
                        bool index_certs_171961;
                        
                        if (!bounds_check_171960) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171957, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171964 = add64((int64_t) 1, j_171957);
                        bool x_171965 = sle64((int64_t) 0, copy_arg0_171964);
                        bool y_171966 = slt64(copy_arg0_171964, block_sizze_171883);
                        bool bounds_check_171967 = x_171965 && y_171966;
                        bool index_certs_171968;
                        
                        if (!bounds_check_171967) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171964, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        float copy_arg0_171962 = ((float *) mem_181152)[j_171957];
                        int64_t copy_arg0_171963 = ((int64_t *) mem_181154)[j_171957];
                        float copy_arg0_171969 = ((float *) mem_181152)[copy_arg0_171964];
                        int64_t copy_arg0_171970 = ((int64_t *) mem_181154)[copy_arg0_171964];
                        
                        ((float *) mem_181152)[j_171957] = copy_arg0_171969;
                        ((int64_t *) mem_181154)[j_171957] = copy_arg0_171970;
                        ((float *) mem_181152)[copy_arg0_171964] = copy_arg0_171962;
                        ((int64_t *) mem_181154)[copy_arg0_171964] = copy_arg0_171963;
                        
                        int64_t tmp_171975 = sub64(j_171957, (int64_t) 1);
                        bool cond_171976 = sle64((int64_t) 0, tmp_171975);
                        bool loop_cond_171977;
                        
                        if (cond_171976) {
                            bool y_178650 = slt64(tmp_171975, block_sizze_171883);
                            bool bounds_check_178651 = cond_171976 && y_178650;
                            bool index_certs_178652;
                            
                            if (!bounds_check_178651) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171975, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float gt_arg1_178649 = ((float *) mem_181152)[j_171957];
                            float gt_arg0_178653 = ((float *) mem_181152)[tmp_171975];
                            bool zlze_res_178654 = gt_arg0_178653 <= gt_arg1_178649;
                            bool defunc_0_lifted_gt_res_178655 = !zlze_res_178654;
                            
                            loop_cond_171977 = defunc_0_lifted_gt_res_178655;
                        } else {
                            loop_cond_171977 = 0;
                        }
                        
                        bool loop_while_tmp_182561 = loop_cond_171977;
                        int64_t j_tmp_182564 = tmp_171975;
                        
                        loop_while_171954 = loop_while_tmp_182561;
                        j_171957 = j_tmp_182564;
                    }
                    s_171950 = loop_while_171954;
                    s_171953 = j_171957;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181139, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181152, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181142, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181154, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
        }
        if (memblock_alloc(ctx, &mem_181207, bytes_181138, "mem_181207")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181207.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint32_t *) mem_181139, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        if (memblock_alloc(ctx, &mem_181211, bytes_181141, "mem_181211")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181211.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint64_t *) mem_181142, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        
        int64_t data_171990;
        bool data_171991;
        int64_t data_171994;
        int64_t loop_dz2084Uz2082U_171995;
        bool loop_while_171996;
        int64_t stride_171999;
        
        if (memblock_set(ctx, &mem_param_181215, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181218, &mem_181211, "mem_181211") != 0)
            return 1;
        loop_dz2084Uz2082U_171995 = flat_dim_171884;
        loop_while_171996 = loop_cond_171987;
        stride_171999 = block_sizze_171883;
        while (loop_while_171996) {
            int64_t next_stride_172000 = mul64((int64_t) 2, stride_171999);
            bool zzero_172001 = next_stride_172000 == (int64_t) 0;
            bool nonzzero_172002 = !zzero_172001;
            bool nonzzero_cert_172003;
            
            if (!nonzzero_172002) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:225:54-57\n   #4  ftsort.fut:136:3-27\n   #5  ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_172004 = sdiv64(flat_dim_171884, next_stride_172000);
            bool bounds_invalid_upwards_172005 = slt64(num_merges_172004, (int64_t) 0);
            bool valid_172006 = !bounds_invalid_upwards_172005;
            bool range_valid_c_172007;
            
            if (!valid_172006) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_172004, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:225:54-57\n   #6  ftsort.fut:136:3-27\n   #7  ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_172009 = sub64(next_stride_172000, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_172010 = sle64((int64_t) 0, m_172009);
            bool cond_172012 = slt64(next_stride_172000, (int64_t) 10);
            bool protect_assert_disj_172013 = nonzzero_171989 || cond_172012;
            bool nonzzero_cert_172014;
            
            if (!protect_assert_disj_172013) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_172015 = smod_safe64(next_stride_172000, merge_block_sizze_171887);
            bool num_blocks_172016 = zeze_lhs_172015 == (int64_t) 0;
            bool protect_assert_disj_172017 = cond_172012 || num_blocks_172016;
            bool assert_c_172018;
            
            if (!protect_assert_disj_172017) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_172020 = sdiv_safe64(next_stride_172000, merge_block_sizze_171887);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021 = add64((int64_t) 1, num_blocks_172020);
            int64_t j_m_i_172022 = sub64(next_stride_172000, stride_171999);
            int64_t flat_dim_172023 = merge_block_sizze_171887 * num_blocks_172020;
            bool bounds_invalid_upwards_172024 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, (int64_t) 0);
            bool zzero_lte_i_172025 = sle64((int64_t) 0, stride_171999);
            bool i_lte_j_172026 = sle64(stride_171999, next_stride_172000);
            bool empty_slice_172027 = stride_171999 == (int64_t) 0;
            int64_t m_172028 = sub64(stride_171999, (int64_t) 1);
            bool bounds_invalid_upwards_172029 = slt64(num_blocks_172020, (int64_t) 0);
            bool empty_slice_172030 = j_m_i_172022 == (int64_t) 0;
            int64_t m_172031 = sub64(j_m_i_172022, (int64_t) 1);
            bool cond_172032 = slt64((int64_t) 0, stride_171999);
            bool valid_172033 = !bounds_invalid_upwards_172024;
            bool zzero_leq_i_p_m_t_s_172034 = sle64((int64_t) 0, m_172028);
            bool i_p_m_t_s_leq_w_172035 = slt64(m_172028, next_stride_172000);
            bool valid_172036 = !bounds_invalid_upwards_172029;
            bool i_p_m_t_s_leq_w_172037 = slt64(m_172009, flat_dim_172023);
            int64_t i_p_m_t_s_172038 = add64(stride_171999, m_172031);
            bool y_172039 = slt64((int64_t) 0, j_m_i_172022);
            bool protect_assert_disj_172040 = cond_172012 || valid_172033;
            bool range_valid_c_172041;
            
            if (!protect_assert_disj_172040) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:136:3-27\n   #11 ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172042 = zzero_leq_i_p_m_t_s_172034 && i_p_m_t_s_leq_w_172035;
            bool protect_assert_disj_172043 = cond_172012 || valid_172036;
            bool range_valid_c_172044;
            
            if (!protect_assert_disj_172043) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_172020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:136:3-27\n   #10 ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172045 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172037;
            bool zzero_leq_i_p_m_t_s_172046 = sle64((int64_t) 0, i_p_m_t_s_172038);
            bool i_p_m_t_s_leq_w_172047 = slt64(i_p_m_t_s_172038, next_stride_172000);
            bool forwards_ok_172048 = zzero_lte_i_172025 && y_172042;
            bool ok_or_empty_172049 = zzero_172001 || y_172045;
            bool y_172050 = zzero_lte_i_172025 && i_p_m_t_s_leq_w_172047;
            bool protect_assert_disj_172051 = cond_172032 || y_172039;
            bool ok_or_empty_172052 = empty_slice_172027 || forwards_ok_172048;
            bool protect_assert_disj_172053 = cond_172012 || ok_or_empty_172049;
            bool index_certs_172054;
            
            if (!protect_assert_disj_172053) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) flat_dim_172023, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:136:3-27\n   #10 ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172055 = zzero_leq_i_p_m_t_s_172046 && y_172050;
            bool loop_not_taken_172056 = !cond_172012;
            bool protect_assert_disj_172057 = protect_assert_disj_172051 || loop_not_taken_172056;
            bool index_certs_172058;
            
            if (!protect_assert_disj_172057) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:136:3-27\n   #11 ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172059 = cond_172012 || ok_or_empty_172052;
            bool index_certs_172060;
            
            if (!protect_assert_disj_172059) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:136:3-27\n   #12 ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_172061 = i_lte_j_172026 && y_172055;
            bool protect_assert_disj_172062 = ok_or_empty_172052 || loop_not_taken_172056;
            bool index_certs_172063;
            
            if (!protect_assert_disj_172062) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_172064 = empty_slice_172030 || forwards_ok_172061;
            bool protect_assert_disj_172065 = loop_not_taken_172056 || ok_or_empty_172064;
            bool index_certs_172066;
            
            if (!protect_assert_disj_172065) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172067 = cond_172012 || ok_or_empty_172064;
            bool index_certs_172068;
            
            if (!protect_assert_disj_172067) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:136:3-27\n   #12 ftsort.fut:135:1-136:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181219 = (int64_t) 4 * num_merges_172004;
            int64_t bytes_181220 = next_stride_172000 * binop_x_181219;
            int64_t binop_x_181222 = (int64_t) 8 * num_merges_172004;
            int64_t bytes_181223 = next_stride_172000 * binop_x_181222;
            bool i_lte_j_172011 = sle64((int64_t) 0, next_stride_172000);
            
            if (mem_181221_cached_sizze_182829 < bytes_181220) {
                err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_182829, bytes_181220);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181224_cached_sizze_182830 < bytes_181223) {
                err = lexical_realloc(ctx, &mem_181224, &mem_181224_cached_sizze_182830, bytes_181223);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181233 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021;
            int64_t binop_x_181249 = (int64_t) 4 * num_blocks_172020;
            int64_t bytes_181250 = merge_block_sizze_171887 * binop_x_181249;
            int64_t binop_x_181252 = (int64_t) 8 * num_blocks_172020;
            int64_t bytes_181253 = merge_block_sizze_171887 * binop_x_181252;
            int64_t bytes_181295 = (int64_t) 8 * stride_171999;
            int64_t bytes_181297 = (int64_t) 16 * stride_171999;
            
            for (int64_t i_180828 = 0; i_180828 < num_merges_172004; i_180828++) {
                int64_t start_172072 = mul64(next_stride_172000, i_180828);
                int64_t j_m_i_172073 = sub64(loop_dz2084Uz2082U_171995, start_172072);
                bool empty_slice_172074 = j_m_i_172073 == (int64_t) 0;
                int64_t m_172075 = sub64(j_m_i_172073, (int64_t) 1);
                int64_t i_p_m_t_s_172076 = add64(start_172072, m_172075);
                bool zzero_leq_i_p_m_t_s_172077 = sle64((int64_t) 0, i_p_m_t_s_172076);
                bool i_p_m_t_s_leq_w_172078 = slt64(i_p_m_t_s_172076, loop_dz2084Uz2082U_171995);
                bool zzero_lte_i_172079 = sle64((int64_t) 0, start_172072);
                bool i_lte_j_172080 = sle64(start_172072, loop_dz2084Uz2082U_171995);
                bool y_172081 = i_p_m_t_s_leq_w_172078 && zzero_lte_i_172079;
                bool y_172082 = zzero_leq_i_p_m_t_s_172077 && y_172081;
                bool forwards_ok_172083 = i_lte_j_172080 && y_172082;
                bool ok_or_empty_172084 = empty_slice_172074 || forwards_ok_172083;
                bool index_certs_172085;
                
                if (!ok_or_empty_172084) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_172072, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171995, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172086 = slt64(m_172009, j_m_i_172073);
                bool y_172087 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172086;
                bool forwards_ok_172088 = i_lte_j_172011 && y_172087;
                bool ok_or_empty_172089 = zzero_172001 || forwards_ok_172088;
                bool index_certs_172090;
                
                if (!ok_or_empty_172089) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) j_m_i_172073, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:225:54-57\n   #8  ftsort.fut:136:3-27\n   #9  ftsort.fut:135:1-136:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_172012) {
                    float dummy_178681;
                    int64_t dummy_178682;
                    
                    if (cond_172032) {
                        float head_res_178683 = ((float *) mem_param_181215.mem)[start_172072];
                        int64_t head_res_178684 = ((int64_t *) mem_param_181218.mem)[start_172072];
                        
                        dummy_178681 = head_res_178683;
                        dummy_178682 = head_res_178684;
                    } else {
                        int64_t slice_178685 = stride_171999 + start_172072;
                        float head_res_178686 = ((float *) mem_param_181215.mem)[slice_178685];
                        int64_t head_res_178687 = ((int64_t *) mem_param_181218.mem)[slice_178685];
                        
                        dummy_178681 = head_res_178686;
                        dummy_178682 = head_res_178687;
                    }
                    if (memblock_alloc(ctx, &mem_181296, bytes_181295, "mem_181296")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182574 = 0; nest_i_182574 < next_stride_172000; nest_i_182574++) {
                        ((float *) mem_181296.mem)[nest_i_182574] = dummy_178681;
                    }
                    if (memblock_alloc(ctx, &mem_181298, bytes_181297, "mem_181298")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182575 = 0; nest_i_182575 < next_stride_172000; nest_i_182575++) {
                        ((int64_t *) mem_181298.mem)[nest_i_182575] = dummy_178682;
                    }
                    
                    int64_t data_178690;
                    int64_t i_178694 = (int64_t) 0;
                    
                    for (int64_t k_178693 = 0; k_178693 < next_stride_172000; k_178693++) {
                        int64_t j_178697 = sub64(k_178693, i_178694);
                        bool cond_178698 = j_178697 == j_m_i_172022;
                        bool cond_178699;
                        
                        if (cond_178698) {
                            cond_178699 = 1;
                        } else {
                            bool cond_178700 = slt64(i_178694, stride_171999);
                            bool cond_f_res_178701;
                            
                            if (cond_178700) {
                                bool x_178702 = sle64((int64_t) 0, j_178697);
                                bool y_178703 = slt64(j_178697, j_m_i_172022);
                                bool bounds_check_178704 = x_178702 && y_178703;
                                bool index_certs_178705;
                                
                                if (!bounds_check_178704) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:136:3-27\n   #10 ftsort.fut:135:1-136:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178709 = sle64((int64_t) 0, i_178694);
                                bool bounds_check_178710 = cond_178700 && x_178709;
                                bool index_certs_178711;
                                
                                if (!bounds_check_178710) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:136:3-27\n   #10 ftsort.fut:135:1-136:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178706 = stride_171999 + j_178697;
                                int64_t slice_178707 = start_172072 + slice_178706;
                                float leq_arg1_178708 = ((float *) mem_param_181215.mem)[slice_178707];
                                int64_t slice_178712 = start_172072 + i_178694;
                                float leq_arg0_178713 = ((float *) mem_param_181215.mem)[slice_178712];
                                bool zlze_res_178714 = leq_arg0_178713 <= leq_arg1_178708;
                                
                                cond_f_res_178701 = zlze_res_178714;
                            } else {
                                cond_f_res_178701 = 0;
                            }
                            cond_178699 = cond_f_res_178701;
                        }
                        
                        int64_t loopres_178715;
                        float loopres_178716;
                        int64_t loopres_178717;
                        
                        if (cond_178699) {
                            bool x_178719 = sle64((int64_t) 0, i_178694);
                            bool y_178720 = slt64(i_178694, stride_171999);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:136:3-27\n   #10 ftsort.fut:135:1-136:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178718 = add64((int64_t) 1, i_178694);
                            int64_t slice_178723 = start_172072 + i_178694;
                            float tmp_178724 = ((float *) mem_param_181215.mem)[slice_178723];
                            int64_t tmp_178725 = ((int64_t *) mem_param_181218.mem)[slice_178723];
                            
                            loopres_178715 = tmp_178718;
                            loopres_178716 = tmp_178724;
                            loopres_178717 = tmp_178725;
                        } else {
                            bool x_178726 = sle64((int64_t) 0, j_178697);
                            bool y_178727 = slt64(j_178697, j_m_i_172022);
                            bool bounds_check_178728 = x_178726 && y_178727;
                            bool index_certs_178729;
                            
                            if (!bounds_check_178728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:225:54-57\n   #9  ftsort.fut:136:3-27\n   #10 ftsort.fut:135:1-136:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178730 = stride_171999 + j_178697;
                            int64_t slice_178731 = start_172072 + slice_178730;
                            float tmp_178732 = ((float *) mem_param_181215.mem)[slice_178731];
                            int64_t tmp_178733 = ((int64_t *) mem_param_181218.mem)[slice_178731];
                            
                            loopres_178715 = i_178694;
                            loopres_178716 = tmp_178732;
                            loopres_178717 = tmp_178733;
                        }
                        ((float *) mem_181296.mem)[k_178693] = loopres_178716;
                        ((int64_t *) mem_181298.mem)[k_178693] = loopres_178717;
                        
                        int64_t i_tmp_182576 = loopres_178715;
                        
                        i_178694 = i_tmp_182576;
                    }
                    data_178690 = i_178694;
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181296, "mem_181296") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181298, "mem_181298") != 0)
                        return 1;
                } else {
                    if (mem_181234_cached_sizze_182831 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181234, &mem_181234_cached_sizze_182831, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181236_cached_sizze_182832 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182832, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180814 = 0; i_180814 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021; i_180814++) {
                        int64_t split_count_arg3_172152 = mul64(merge_block_sizze_171887, i_180814);
                        int64_t defunc_0_split_count_res_172153;
                        int64_t defunc_0_split_count_res_172154;
                        int64_t defunc_0_split_count_res_172155;
                        int64_t defunc_0_split_count_res_172156;
                        int64_t defunc_0_split_count_res_172157;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_172153, &defunc_0_split_count_res_172154, &defunc_0_split_count_res_172155, &defunc_0_split_count_res_172156, &defunc_0_split_count_res_172157, (int64_t) 0, stride_171999, (int64_t) 0, j_m_i_172022, split_count_arg3_172152) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172158 = slt64((int64_t) 0, defunc_0_split_count_res_172157);
                        bool defunc_0_split_count_res_172159;
                        int64_t defunc_0_split_count_res_172160;
                        int64_t defunc_0_split_count_res_172161;
                        int64_t defunc_0_split_count_res_172162;
                        int64_t defunc_0_split_count_res_172163;
                        int64_t defunc_0_split_count_res_172164;
                        bool loop_while_172165;
                        int64_t ss_172166;
                        int64_t ss_172167;
                        int64_t tt_172168;
                        int64_t tt_172169;
                        int64_t count_172170;
                        
                        loop_while_172165 = loop_cond_172158;
                        ss_172166 = defunc_0_split_count_res_172153;
                        ss_172167 = defunc_0_split_count_res_172154;
                        tt_172168 = defunc_0_split_count_res_172155;
                        tt_172169 = defunc_0_split_count_res_172156;
                        count_172170 = defunc_0_split_count_res_172157;
                        while (loop_while_172165) {
                            int64_t zlze_lhs_172171 = sub64(ss_172167, ss_172166);
                            bool cond_172172 = sle64(zlze_lhs_172171, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172173;
                            int64_t defunc_0_lifted_step_res_172174;
                            int64_t defunc_0_lifted_step_res_172175;
                            int64_t defunc_0_lifted_step_res_172176;
                            
                            if (cond_172172) {
                                int64_t tmp_178736 = add64(tt_172168, count_172170);
                                
                                defunc_0_lifted_step_res_172173 = ss_172166;
                                defunc_0_lifted_step_res_172174 = tmp_178736;
                                defunc_0_lifted_step_res_172175 = tt_172169;
                                defunc_0_lifted_step_res_172176 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172178 = sub64(tt_172169, tt_172168);
                                bool cond_172179 = sle64(zlze_lhs_172178, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172180;
                                int64_t defunc_0_lifted_step_res_f_res_172181;
                                int64_t defunc_0_lifted_step_res_f_res_172182;
                                int64_t defunc_0_lifted_step_res_f_res_172183;
                                
                                if (cond_172179) {
                                    int64_t tmp_178737 = add64(ss_172166, count_172170);
                                    
                                    defunc_0_lifted_step_res_f_res_172180 = tmp_178737;
                                    defunc_0_lifted_step_res_f_res_172181 = tt_172168;
                                    defunc_0_lifted_step_res_f_res_172182 = tt_172169;
                                    defunc_0_lifted_step_res_f_res_172183 = (int64_t) 0;
                                } else {
                                    bool cond_172185 = count_172170 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172186;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172187;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172188;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172189;
                                    
                                    if (cond_172185) {
                                        bool x_178739 = sle64((int64_t) 0, ss_172166);
                                        bool y_178740 = slt64(ss_172166, stride_171999);
                                        bool bounds_check_178741 = x_178739 && y_178740;
                                        bool index_certs_178742;
                                        
                                        if (!bounds_check_178741) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172166, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:225:54-57\n   #13 ftsort.fut:136:3-27\n   #14 ftsort.fut:135:1-136:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178745 = sle64((int64_t) 0, tt_172168);
                                        bool y_178746 = slt64(tt_172168, j_m_i_172022);
                                        bool bounds_check_178747 = x_178745 && y_178746;
                                        bool index_certs_178748;
                                        
                                        if (!bounds_check_178747) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172168, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:225:54-57\n   #13 ftsort.fut:136:3-27\n   #14 ftsort.fut:135:1-136:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178743 = start_172072 + ss_172166;
                                        float leq_arg1_178744 = ((float *) mem_param_181215.mem)[slice_178743];
                                        int64_t slice_178749 = stride_171999 + tt_172168;
                                        int64_t slice_178750 = start_172072 + slice_178749;
                                        float leq_arg0_178751 = ((float *) mem_param_181215.mem)[slice_178750];
                                        bool zlze_res_178752 = leq_arg0_178751 <= leq_arg1_178744;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        
                                        if (zlze_res_178752) {
                                            int64_t tmp_178755 = add64((int64_t) 1, tt_172168);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = ss_172166;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tmp_178755;
                                        } else {
                                            int64_t tmp_178756 = add64((int64_t) 1, ss_172166);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = tmp_178756;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tt_172168;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = tt_172169;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = (int64_t) 0;
                                    } else {
                                        int64_t m_172208 = sdiv64(count_172170, (int64_t) 2);
                                        int64_t n_172209 = sub64(count_172170, m_172208);
                                        bool cond_172210 = n_172209 == (int64_t) 0;
                                        int64_t zgze_lhs_172211 = add64(ss_172166, m_172208);
                                        bool cond_f_res_172212 = sle64(ss_172167, zgze_lhs_172211);
                                        bool x_172213 = !cond_172210;
                                        bool y_172214 = cond_f_res_172212 && x_172213;
                                        bool cond_172215 = cond_172210 || y_172214;
                                        bool leq_y_x_172216;
                                        
                                        if (cond_172215) {
                                            leq_y_x_172216 = 1;
                                        } else {
                                            bool x_172217 = sle64((int64_t) 0, zgze_lhs_172211);
                                            bool y_172218 = slt64(zgze_lhs_172211, stride_171999);
                                            bool bounds_check_172219 = x_172217 && y_172218;
                                            bool index_certs_172220;
                                            
                                            if (!bounds_check_172219) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172211, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:225:54-57\n   #13 ftsort.fut:136:3-27\n   #14 ftsort.fut:135:1-136:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172223 = add64(tt_172168, n_172209);
                                            int64_t leq_arg0_172224 = sub64(zm_lhs_172223, (int64_t) 1);
                                            bool x_172225 = sle64((int64_t) 0, leq_arg0_172224);
                                            bool y_172226 = slt64(leq_arg0_172224, j_m_i_172022);
                                            bool bounds_check_172227 = x_172225 && y_172226;
                                            bool index_certs_172228;
                                            
                                            if (!bounds_check_172227) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172224, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:225:54-57\n   #13 ftsort.fut:136:3-27\n   #14 ftsort.fut:135:1-136:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172221 = start_172072 + zgze_lhs_172211;
                                            float leq_arg1_172222 = ((float *) mem_param_181215.mem)[slice_172221];
                                            int64_t slice_172229 = stride_171999 + leq_arg0_172224;
                                            int64_t slice_172230 = start_172072 + slice_172229;
                                            float leq_arg0_172231 = ((float *) mem_param_181215.mem)[slice_172230];
                                            bool zlze_res_172232 = leq_arg0_172231 <= leq_arg1_172222;
                                            
                                            leq_y_x_172216 = zlze_res_172232;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                        
                                        if (leq_y_x_172216) {
                                            int64_t tmp_178757 = add64(tt_172168, n_172209);
                                            int64_t tmp_178758 = sub64(count_172170, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tmp_178757;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tt_172169;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = tmp_178758;
                                        } else {
                                            int64_t tmp_172238 = add64(tt_172168, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tt_172168;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tmp_172238;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = count_172170;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = ss_172166;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                    }
                                    defunc_0_lifted_step_res_f_res_172180 = defunc_0_lifted_step_res_f_res_f_res_172186;
                                    defunc_0_lifted_step_res_f_res_172181 = defunc_0_lifted_step_res_f_res_f_res_172187;
                                    defunc_0_lifted_step_res_f_res_172182 = defunc_0_lifted_step_res_f_res_f_res_172188;
                                    defunc_0_lifted_step_res_f_res_172183 = defunc_0_lifted_step_res_f_res_f_res_172189;
                                }
                                defunc_0_lifted_step_res_172173 = defunc_0_lifted_step_res_f_res_172180;
                                defunc_0_lifted_step_res_172174 = defunc_0_lifted_step_res_f_res_172181;
                                defunc_0_lifted_step_res_172175 = defunc_0_lifted_step_res_f_res_172182;
                                defunc_0_lifted_step_res_172176 = defunc_0_lifted_step_res_f_res_172183;
                            }
                            
                            int64_t loopres_172239;
                            int64_t loopres_172240;
                            int64_t loopres_172241;
                            int64_t loopres_172242;
                            int64_t loopres_172243;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_172239, &loopres_172240, &loopres_172241, &loopres_172242, &loopres_172243, defunc_0_lifted_step_res_172173, ss_172167, defunc_0_lifted_step_res_172174, defunc_0_lifted_step_res_172175, defunc_0_lifted_step_res_172176) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172244 = slt64((int64_t) 0, loopres_172243);
                            bool loop_while_tmp_182581 = loop_cond_172244;
                            int64_t ss_tmp_182582 = loopres_172239;
                            int64_t ss_tmp_182583 = loopres_172240;
                            int64_t tt_tmp_182584 = loopres_172241;
                            int64_t tt_tmp_182585 = loopres_172242;
                            int64_t count_tmp_182586 = loopres_172243;
                            
                            loop_while_172165 = loop_while_tmp_182581;
                            ss_172166 = ss_tmp_182582;
                            ss_172167 = ss_tmp_182583;
                            tt_172168 = tt_tmp_182584;
                            tt_172169 = tt_tmp_182585;
                            count_172170 = count_tmp_182586;
                        }
                        defunc_0_split_count_res_172159 = loop_while_172165;
                        defunc_0_split_count_res_172160 = ss_172166;
                        defunc_0_split_count_res_172161 = ss_172167;
                        defunc_0_split_count_res_172162 = tt_172168;
                        defunc_0_split_count_res_172163 = tt_172169;
                        defunc_0_split_count_res_172164 = count_172170;
                        ((int64_t *) mem_181234)[i_180814] = defunc_0_split_count_res_172160;
                        ((int64_t *) mem_181236)[i_180814] = defunc_0_split_count_res_172162;
                    }
                    if (mem_181251_cached_sizze_182833 < bytes_181250) {
                        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_182833, bytes_181250);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181254_cached_sizze_182834 < bytes_181253) {
                        err = lexical_realloc(ctx, &mem_181254, &mem_181254_cached_sizze_182834, bytes_181253);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180821 = 0; i_180821 < num_blocks_172020; i_180821++) {
                        bool y_172250 = slt64(i_180821, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool index_certs_172252;
                        
                        if (!y_172250) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180821, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:136:3-27\n   #11 ftsort.fut:135:1-136:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172253 = ((int64_t *) mem_181234)[i_180821];
                        int64_t defunc_0_f_res_172254 = ((int64_t *) mem_181236)[i_180821];
                        int64_t tmp_172255 = add64((int64_t) 1, i_180821);
                        bool x_172256 = sle64((int64_t) 0, tmp_172255);
                        bool y_172257 = slt64(tmp_172255, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool bounds_check_172258 = x_172256 && y_172257;
                        bool index_certs_172259;
                        
                        if (!bounds_check_172258) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172255, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:136:3-27\n   #11 ftsort.fut:135:1-136:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172260 = ((int64_t *) mem_181234)[tmp_172255];
                        int64_t defunc_0_f_res_172261 = ((int64_t *) mem_181236)[tmp_172255];
                        int64_t merge_sequential_arg2_172262 = add64(stride_171999, defunc_0_f_res_172254);
                        int64_t merge_sequential_arg2_172263 = add64(stride_171999, defunc_0_f_res_172261);
                        int64_t j_m_i_172264 = sub64(merge_sequential_arg2_172263, merge_sequential_arg2_172262);
                        bool empty_slice_172265 = j_m_i_172264 == (int64_t) 0;
                        int64_t m_172266 = sub64(j_m_i_172264, (int64_t) 1);
                        int64_t i_p_m_t_s_172267 = add64(merge_sequential_arg2_172262, m_172266);
                        bool zzero_leq_i_p_m_t_s_172268 = sle64((int64_t) 0, i_p_m_t_s_172267);
                        bool i_p_m_t_s_leq_w_172269 = slt64(i_p_m_t_s_172267, next_stride_172000);
                        bool zzero_lte_i_172270 = sle64((int64_t) 0, merge_sequential_arg2_172262);
                        bool i_lte_j_172271 = sle64(merge_sequential_arg2_172262, merge_sequential_arg2_172263);
                        bool y_172272 = i_p_m_t_s_leq_w_172269 && zzero_lte_i_172270;
                        bool y_172273 = zzero_leq_i_p_m_t_s_172268 && y_172272;
                        bool forwards_ok_172274 = i_lte_j_172271 && y_172273;
                        bool ok_or_empty_172275 = empty_slice_172265 || forwards_ok_172274;
                        bool index_certs_172276;
                        
                        if (!ok_or_empty_172275) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172262, ":", (long long) merge_sequential_arg2_172263, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:136:3-27\n   #11 ftsort.fut:135:1-136:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172277 = sub64(defunc_0_f_res_172260, defunc_0_f_res_172253);
                        bool empty_slice_172278 = j_m_i_172277 == (int64_t) 0;
                        int64_t m_172279 = sub64(j_m_i_172277, (int64_t) 1);
                        int64_t i_p_m_t_s_172280 = add64(defunc_0_f_res_172253, m_172279);
                        bool zzero_leq_i_p_m_t_s_172281 = sle64((int64_t) 0, i_p_m_t_s_172280);
                        bool i_p_m_t_s_leq_w_172282 = slt64(i_p_m_t_s_172280, next_stride_172000);
                        bool zzero_lte_i_172283 = sle64((int64_t) 0, defunc_0_f_res_172253);
                        bool i_lte_j_172284 = sle64(defunc_0_f_res_172253, defunc_0_f_res_172260);
                        bool y_172285 = i_p_m_t_s_leq_w_172282 && zzero_lte_i_172283;
                        bool y_172286 = zzero_leq_i_p_m_t_s_172281 && y_172285;
                        bool forwards_ok_172287 = i_lte_j_172284 && y_172286;
                        bool ok_or_empty_172288 = empty_slice_172278 || forwards_ok_172287;
                        bool index_certs_172289;
                        
                        if (!ok_or_empty_172288) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172253, ":", (long long) defunc_0_f_res_172260, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:225:54-57\n   #10 ftsort.fut:136:3-27\n   #11 ftsort.fut:135:1-136:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172290 = slt64((int64_t) 0, j_m_i_172277);
                        float dummy_172291;
                        int64_t dummy_172292;
                        
                        if (cond_172290) {
                            bool index_certs_178759;
                            
                            if (!cond_172290) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:225:54-57\n   #12 ftsort.fut:136:3-27\n   #13 ftsort.fut:135:1-136:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178760 = start_172072 + defunc_0_f_res_172253;
                            float head_res_178761 = ((float *) mem_param_181215.mem)[slice_178760];
                            int64_t head_res_178762 = ((int64_t *) mem_param_181218.mem)[slice_178760];
                            
                            dummy_172291 = head_res_178761;
                            dummy_172292 = head_res_178762;
                        } else {
                            bool y_172297 = slt64((int64_t) 0, j_m_i_172264);
                            bool index_certs_172298;
                            
                            if (!y_172297) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:225:54-57\n   #12 ftsort.fut:136:3-27\n   #13 ftsort.fut:135:1-136:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172299 = start_172072 + merge_sequential_arg2_172262;
                            float head_res_172300 = ((float *) mem_param_181215.mem)[slice_172299];
                            int64_t head_res_172301 = ((int64_t *) mem_param_181218.mem)[slice_172299];
                            
                            dummy_172291 = head_res_172300;
                            dummy_172292 = head_res_172301;
                        }
                        for (int64_t nest_i_182589 = 0; nest_i_182589 < merge_block_sizze_171887; nest_i_182589++) {
                            ((float *) mem_181251)[i_180821 * merge_block_sizze_171887 + nest_i_182589] = dummy_172291;
                        }
                        for (int64_t nest_i_182590 = 0; nest_i_182590 < merge_block_sizze_171887; nest_i_182590++) {
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + nest_i_182590] = dummy_172292;
                        }
                        
                        int64_t data_172304;
                        int64_t i_172308 = (int64_t) 0;
                        
                        for (int64_t k_172307 = 0; k_172307 < merge_block_sizze_171887; k_172307++) {
                            int64_t j_172311 = sub64(k_172307, i_172308);
                            bool cond_172312 = j_172311 == j_m_i_172264;
                            bool cond_172313;
                            
                            if (cond_172312) {
                                cond_172313 = 1;
                            } else {
                                bool cond_172314 = slt64(i_172308, j_m_i_172277);
                                bool cond_f_res_172315;
                                
                                if (cond_172314) {
                                    bool x_178763 = sle64((int64_t) 0, j_172311);
                                    bool y_178764 = slt64(j_172311, j_m_i_172264);
                                    bool bounds_check_178765 = x_178763 && y_178764;
                                    bool index_certs_178766;
                                    
                                    if (!bounds_check_178765) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:136:3-27\n   #12 ftsort.fut:135:1-136:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178770 = sle64((int64_t) 0, i_172308);
                                    bool bounds_check_178771 = cond_172314 && x_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:136:3-27\n   #12 ftsort.fut:135:1-136:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178767 = merge_sequential_arg2_172262 + j_172311;
                                    int64_t slice_178768 = start_172072 + slice_178767;
                                    float leq_arg1_178769 = ((float *) mem_param_181215.mem)[slice_178768];
                                    int64_t slice_178773 = defunc_0_f_res_172253 + i_172308;
                                    int64_t slice_178774 = start_172072 + slice_178773;
                                    float leq_arg0_178775 = ((float *) mem_param_181215.mem)[slice_178774];
                                    bool zlze_res_178776 = leq_arg0_178775 <= leq_arg1_178769;
                                    
                                    cond_f_res_172315 = zlze_res_178776;
                                } else {
                                    cond_f_res_172315 = 0;
                                }
                                cond_172313 = cond_f_res_172315;
                            }
                            
                            int64_t loopres_172330;
                            float loopres_172331;
                            int64_t loopres_172332;
                            
                            if (cond_172313) {
                                bool x_178778 = sle64((int64_t) 0, i_172308);
                                bool y_178779 = slt64(i_172308, j_m_i_172277);
                                bool bounds_check_178780 = x_178778 && y_178779;
                                bool index_certs_178781;
                                
                                if (!bounds_check_178780) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:136:3-27\n   #12 ftsort.fut:135:1-136:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178777 = add64((int64_t) 1, i_172308);
                                int64_t slice_178782 = defunc_0_f_res_172253 + i_172308;
                                int64_t slice_178783 = start_172072 + slice_178782;
                                float tmp_178784 = ((float *) mem_param_181215.mem)[slice_178783];
                                int64_t tmp_178785 = ((int64_t *) mem_param_181218.mem)[slice_178783];
                                
                                loopres_172330 = tmp_178777;
                                loopres_172331 = tmp_178784;
                                loopres_172332 = tmp_178785;
                            } else {
                                bool x_172342 = sle64((int64_t) 0, j_172311);
                                bool y_172343 = slt64(j_172311, j_m_i_172264);
                                bool bounds_check_172344 = x_172342 && y_172343;
                                bool index_certs_172345;
                                
                                if (!bounds_check_172344) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:225:54-57\n   #11 ftsort.fut:136:3-27\n   #12 ftsort.fut:135:1-136:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172346 = merge_sequential_arg2_172262 + j_172311;
                                int64_t slice_172347 = start_172072 + slice_172346;
                                float tmp_172348 = ((float *) mem_param_181215.mem)[slice_172347];
                                int64_t tmp_172349 = ((int64_t *) mem_param_181218.mem)[slice_172347];
                                
                                loopres_172330 = i_172308;
                                loopres_172331 = tmp_172348;
                                loopres_172332 = tmp_172349;
                            }
                            ((float *) mem_181251)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172331;
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172332;
                            
                            int64_t i_tmp_182591 = loopres_172330;
                            
                            i_172308 = i_tmp_182591;
                        }
                        data_172304 = i_172308;
                    }
                    if (memblock_alloc(ctx, &mem_181289, bytes_181250, "mem_181289")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181289.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint32_t *) mem_181251, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_alloc(ctx, &mem_181293, bytes_181253, "mem_181293")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181293.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint64_t *) mem_181254, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181289, "mem_181289") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181293, "mem_181293") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181221, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181316.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181224, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181313.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172356 = next_stride_172000 * num_merges_172004;
            
            if (memblock_alloc(ctx, &mem_181327, bytes_181220, "mem_181327")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181327.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint32_t *) mem_181221, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            if (memblock_alloc(ctx, &mem_181331, bytes_181223, "mem_181331")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181331.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint64_t *) mem_181224, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            
            bool loop_cond_172359 = slt64(next_stride_172000, flat_dim_171884);
            
            if (memblock_set(ctx, &mem_param_tmp_182565, &mem_181327, "mem_181327") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182566, &mem_181331, "mem_181331") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182567 = flat_dim_172356;
            bool loop_while_tmp_182568 = loop_cond_172359;
            int64_t stride_tmp_182571 = next_stride_172000;
            
            if (memblock_set(ctx, &mem_param_181215, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181218, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
                return 1;
            loop_dz2084Uz2082U_171995 = loop_dz2084Uz2082U_tmp_182567;
            loop_while_171996 = loop_while_tmp_182568;
            stride_171999 = stride_tmp_182571;
        }
        if (memblock_set(ctx, &ext_mem_181338, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181337, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        data_171990 = loop_dz2084Uz2082U_171995;
        data_171991 = loop_while_171996;
        data_171994 = stride_171999;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        
        bool empty_slice_172360 = n_105887 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172361 = sle64((int64_t) 0, zs_lhs_171868);
        bool i_p_m_t_s_leq_w_172362 = slt64(zs_lhs_171868, data_171990);
        bool y_172363 = zzero_leq_i_p_m_t_s_172361 && i_p_m_t_s_leq_w_172362;
        bool ok_or_empty_172364 = empty_slice_172360 || y_172363;
        bool index_certs_172365;
        
        if (!ok_or_empty_172364) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_105887, "] out of bounds for array of shape [", (long long) data_171990, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:225:54-57\n   #5  ftsort.fut:136:3-27\n   #6  ftsort.fut:135:1-136:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181341, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181343, bytes_181135, "mem_181343")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181345, bytes_181344, "mem_181345")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180835 = 0; i_180835 < n_105887; i_180835++) {
        int64_t eta_p_172369 = ((int64_t *) ext_mem_181341.mem)[i_180835];
        bool x_172370 = sle64((int64_t) 0, eta_p_172369);
        bool y_172371 = slt64(eta_p_172369, n_105887);
        bool bounds_check_172372 = x_172370 && y_172371;
        bool index_certs_172373;
        
        if (!bounds_check_172372) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172369, "] out of bounds for array of shape [", (long long) n_105887, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:225:54-57\n   #4  ftsort.fut:136:3-27\n   #5  ftsort.fut:135:1-136:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172374 = ((int64_t *) ext_mem_181134.mem)[eta_p_172369];
        float lifted_lambda_res_172375 = ((float *) xs_mem_181133.mem)[eta_p_172369];
        
        ((int64_t *) mem_181343.mem)[i_180835] = lifted_lambda_res_172374;
        ((float *) mem_181345.mem)[i_180835] = lifted_lambda_res_172375;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181343, "mem_181343") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181345, "mem_181345") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182823, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182824, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181139);
        free(mem_181142);
        free(mem_181152);
        free(mem_181154);
        free(mem_181221);
        free(mem_181224);
        free(mem_181234);
        free(mem_181236);
        free(mem_181251);
        free(mem_181254);
        if (memblock_unref(ctx, &mem_181345, "mem_181345") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181343, "mem_181343") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181327, "mem_181327") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181293, "mem_181293") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181289, "mem_181289") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181298, "mem_181298") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181296, "mem_181296") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181338, "ext_mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182835, struct memblock *mem_out_p_182836, struct memblock xs_mem_181133, int64_t n_101200, int64_t incr_101201)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181139_cached_sizze_182837 = 0;
    unsigned char *mem_181139 = NULL;
    int64_t mem_181142_cached_sizze_182838 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181152_cached_sizze_182839 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_182840 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181221_cached_sizze_182841 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181224_cached_sizze_182842 = 0;
    unsigned char *mem_181224 = NULL;
    int64_t mem_181234_cached_sizze_182843 = 0;
    unsigned char *mem_181234 = NULL;
    int64_t mem_181236_cached_sizze_182844 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181251_cached_sizze_182845 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181254_cached_sizze_182846 = 0;
    unsigned char *mem_181254 = NULL;
    struct memblock mem_181345;
    
    mem_181345.references = NULL;
    
    struct memblock mem_181343;
    
    mem_181343.references = NULL;
    
    struct memblock mem_param_tmp_182566;
    
    mem_param_tmp_182566.references = NULL;
    
    struct memblock mem_param_tmp_182565;
    
    mem_param_tmp_182565.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock mem_181327;
    
    mem_181327.references = NULL;
    
    struct memblock mem_181293;
    
    mem_181293.references = NULL;
    
    struct memblock mem_181289;
    
    mem_181289.references = NULL;
    
    struct memblock mem_181298;
    
    mem_181298.references = NULL;
    
    struct memblock mem_181296;
    
    mem_181296.references = NULL;
    
    struct memblock ext_mem_181313;
    
    ext_mem_181313.references = NULL;
    
    struct memblock ext_mem_181316;
    
    ext_mem_181316.references = NULL;
    
    struct memblock mem_param_181218;
    
    mem_param_181218.references = NULL;
    
    struct memblock mem_param_181215;
    
    mem_param_181215.references = NULL;
    
    struct memblock ext_mem_181337;
    
    ext_mem_181337.references = NULL;
    
    struct memblock ext_mem_181338;
    
    ext_mem_181338.references = NULL;
    
    struct memblock mem_181211;
    
    mem_181211.references = NULL;
    
    struct memblock mem_181207;
    
    mem_181207.references = NULL;
    
    struct memblock ext_mem_181341;
    
    ext_mem_181341.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_101200;
    bool cond_171867 = sle64(n_101200, (int64_t) 1);
    int64_t zs_lhs_171868 = sub64(n_101200, (int64_t) 1);
    int64_t zp_rhs_171869 = sdiv_safe64(zs_lhs_171868, (int64_t) 20);
    int64_t min_num_blocks_171870 = add64((int64_t) 1, zp_rhs_171869);
    bool loop_cond_171871 = slt64((int64_t) 1, min_num_blocks_171870);
    bool smallest_pow_2_geq_than_res_171872;
    int64_t smallest_pow_2_geq_than_res_171873;
    bool loop_while_171874;
    int64_t x_171875;
    
    loop_while_171874 = loop_cond_171871;
    x_171875 = (int64_t) 1;
    while (loop_while_171874) {
        int64_t loopres_171876 = mul64((int64_t) 2, x_171875);
        bool loop_cond_171877 = slt64(loopres_171876, min_num_blocks_171870);
        bool loop_while_tmp_182549 = loop_cond_171877;
        int64_t x_tmp_182550 = loopres_171876;
        
        loop_while_171874 = loop_while_tmp_182549;
        x_171875 = x_tmp_182550;
    }
    smallest_pow_2_geq_than_res_171872 = loop_while_171874;
    smallest_pow_2_geq_than_res_171873 = x_171875;
    
    bool zzero_171878 = smallest_pow_2_geq_than_res_171873 == (int64_t) 0;
    bool nonzzero_171879 = !zzero_171878;
    bool protect_assert_disj_171880 = cond_171867 || nonzzero_171879;
    bool nonzzero_cert_171881;
    
    if (!protect_assert_disj_171880) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:130:3-25\n   #5  ftsort.fut:129:1-130:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171882 = sdiv_safe64(zs_lhs_171868, smallest_pow_2_geq_than_res_171873);
    int64_t block_sizze_171883 = add64((int64_t) 1, zp_rhs_171882);
    bool y_171888 = slt64((int64_t) 0, n_101200);
    bool protect_assert_disj_182246 = cond_171867 || y_171888;
    bool index_certs_171889;
    
    if (!protect_assert_disj_182246) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_101200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:130:3-25\n   #5  ftsort.fut:129:1-130:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171902 = slt64(smallest_pow_2_geq_than_res_171873, (int64_t) 0);
    bool valid_171903 = !bounds_invalid_upwards_171902;
    bool protect_assert_disj_182254 = cond_171867 || valid_171903;
    bool range_valid_c_171904;
    
    if (!protect_assert_disj_182254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:172:54-57\n   #6  ftsort.fut:130:3-25\n   #7  ftsort.fut:129:1-130:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171906 = slt64(block_sizze_171883, (int64_t) 0);
    bool valid_171907 = !bounds_invalid_upwards_171906;
    bool protect_assert_disj_182256 = cond_171867 || valid_171907;
    bool range_valid_c_171908;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171883, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:130:3-25\n   #10 ftsort.fut:129:1-130:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171910 = sle64(block_sizze_171883, (int64_t) 1);
    int64_t tmp_171911 = sub64(block_sizze_171883, (int64_t) 2);
    bool bounds_invalid_upwards_171912 = slt64(tmp_171911, (int64_t) 0);
    bool valid_171914 = !bounds_invalid_upwards_171912;
    bool protect_assert_disj_171915 = cond_171910 || valid_171914;
    bool protect_assert_disj_182258 = cond_171867 || protect_assert_disj_171915;
    bool range_valid_c_171916;
    
    if (!protect_assert_disj_182258) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171911, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181344 = (int64_t) 4 * n_101200;
    
    if (futrts_indicesWithIncrement_9380(ctx, &ext_mem_181134, xs_mem_181133, n_101200, incr_101201) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182551 = 0; i_182551 < n_101200; i_182551++) {
        int64_t x_182552 = (int64_t) 0 + i_182551 * (int64_t) 1;
        
        ((int64_t *) mem_181136.mem)[i_182551] = x_182552;
    }
    
    int64_t flat_dim_171884 = smallest_pow_2_geq_than_res_171873 * block_sizze_171883;
    bool x_182241 = !cond_171867;
    int64_t greatest_divisor_leq_than_arg1_171886 = mul64((int64_t) 2, block_sizze_171883);
    int64_t merge_block_sizze_171887;
    
    if (x_182241) {
        int64_t x_182243;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182243, (int64_t) 8, greatest_divisor_leq_than_arg1_171886) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171887 = x_182243;
    } else {
        merge_block_sizze_171887 = (int64_t) 0;
    }
    
    int32_t reduce_arg1_171890;
    
    if (x_182241) {
        int32_t x_182247 = ((int32_t *) xs_mem_181133.mem)[(int64_t) 0];
        
        reduce_arg1_171890 = x_182247;
    } else {
        reduce_arg1_171890 = 0;
    }
    
    int32_t defunc_0_reduce_res_178792;
    int64_t defunc_0_reduce_res_178793;
    
    if (x_182241) {
        int32_t x_182249;
        int64_t x_182250;
        int32_t redout_180793;
        int64_t redout_180794;
        
        redout_180793 = reduce_arg1_171890;
        redout_180794 = (int64_t) 0;
        for (int64_t i_180795 = 0; i_180795 < n_101200; i_180795++) {
            int32_t x_171893 = ((int32_t *) xs_mem_181133.mem)[i_180795];
            bool zlze_res_171899 = sle32(redout_180793, x_171893);
            int32_t defunc_0_op_res_171900;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171900 = x_171893;
            } else {
                defunc_0_op_res_171900 = redout_180793;
            }
            
            int64_t defunc_0_op_res_171901;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171901 = i_180795;
            } else {
                defunc_0_op_res_171901 = redout_180794;
            }
            
            int32_t redout_tmp_182553 = defunc_0_op_res_171900;
            int64_t redout_tmp_182554 = defunc_0_op_res_171901;
            
            redout_180793 = redout_tmp_182553;
            redout_180794 = redout_tmp_182554;
        }
        x_182249 = redout_180793;
        x_182250 = redout_180794;
        defunc_0_reduce_res_178792 = x_182249;
        defunc_0_reduce_res_178793 = x_182250;
    } else {
        defunc_0_reduce_res_178792 = 0;
        defunc_0_reduce_res_178793 = (int64_t) 0;
    }
    
    int64_t distance_171913 = add64((int64_t) 1, tmp_171911);
    int64_t binop_x_181137 = (int64_t) 4 * smallest_pow_2_geq_than_res_171873;
    int64_t bytes_181138 = block_sizze_171883 * binop_x_181137;
    int64_t binop_x_181140 = (int64_t) 8 * smallest_pow_2_geq_than_res_171873;
    int64_t bytes_181141 = block_sizze_171883 * binop_x_181140;
    int64_t bytes_181151 = (int64_t) 4 * block_sizze_171883;
    int64_t bytes_181153 = (int64_t) 8 * block_sizze_171883;
    bool loop_cond_171987 = slt64(block_sizze_171883, flat_dim_171884);
    bool zzero_171988 = merge_block_sizze_171887 == (int64_t) 0;
    bool nonzzero_171989 = !zzero_171988;
    
    if (cond_171867) {
        if (memblock_set(ctx, &ext_mem_181341, &mem_181136, "mem_181136") != 0)
            return 1;
    } else {
        if (mem_181139_cached_sizze_182837 < bytes_181138) {
            err = lexical_realloc(ctx, &mem_181139, &mem_181139_cached_sizze_182837, bytes_181138);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181142_cached_sizze_182838 < bytes_181141) {
            err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_182838, bytes_181141);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181152_cached_sizze_182839 < bytes_181151) {
            err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_182839, bytes_181151);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181154_cached_sizze_182840 < bytes_181153) {
            err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_182840, bytes_181153);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180807 = 0; i_180807 < smallest_pow_2_geq_than_res_171873; i_180807++) {
            int64_t zp_lhs_171920 = mul64(block_sizze_171883, i_180807);
            
            for (int64_t i_180800 = 0; i_180800 < block_sizze_171883; i_180800++) {
                int64_t k_171924 = add64(zp_lhs_171920, i_180800);
                bool cond_171925 = slt64(k_171924, n_101200);
                int32_t lifted_lambda_res_171926;
                int64_t lifted_lambda_res_171927;
                
                if (cond_171925) {
                    bool x_178645 = sle64((int64_t) 0, k_171924);
                    bool bounds_check_178646 = cond_171925 && x_178645;
                    bool index_certs_178647;
                    
                    if (!bounds_check_178646) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171924, "] out of bounds for array of shape [", (long long) n_101200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:130:3-25\n   #11 ftsort.fut:129:1-130:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t lifted_lambda_res_t_res_178648 = ((int32_t *) xs_mem_181133.mem)[k_171924];
                    
                    lifted_lambda_res_171926 = lifted_lambda_res_t_res_178648;
                    lifted_lambda_res_171927 = k_171924;
                } else {
                    lifted_lambda_res_171926 = defunc_0_reduce_res_178792;
                    lifted_lambda_res_171927 = defunc_0_reduce_res_178793;
                }
                ((int32_t *) mem_181152)[i_180800] = lifted_lambda_res_171926;
                ((int64_t *) mem_181154)[i_180800] = lifted_lambda_res_171927;
            }
            if (!cond_171910) {
                for (int64_t i_171936 = 0; i_171936 < distance_171913; i_171936++) {
                    int64_t gt_arg1_171939 = add64((int64_t) 1, i_171936);
                    bool x_171940 = sle64((int64_t) 0, gt_arg1_171939);
                    bool y_171941 = slt64(gt_arg1_171939, block_sizze_171883);
                    bool bounds_check_171942 = x_171940 && y_171941;
                    bool index_certs_171943;
                    
                    if (!bounds_check_171942) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171939, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171945 = slt64(i_171936, block_sizze_171883);
                    bool index_certs_171946;
                    
                    if (!y_171945) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171936, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t gt_arg1_171944 = ((int32_t *) mem_181152)[gt_arg1_171939];
                    int32_t gt_arg0_171947 = ((int32_t *) mem_181152)[i_171936];
                    bool zlze_res_171948 = sle32(gt_arg0_171947, gt_arg1_171944);
                    bool defunc_0_lifted_gt_res_171949 = !zlze_res_171948;
                    bool s_171950;
                    int64_t s_171953;
                    bool loop_while_171954;
                    int64_t j_171957;
                    
                    loop_while_171954 = defunc_0_lifted_gt_res_171949;
                    j_171957 = i_171936;
                    while (loop_while_171954) {
                        bool x_171958 = sle64((int64_t) 0, j_171957);
                        bool y_171959 = slt64(j_171957, block_sizze_171883);
                        bool bounds_check_171960 = x_171958 && y_171959;
                        bool index_certs_171961;
                        
                        if (!bounds_check_171960) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171957, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171964 = add64((int64_t) 1, j_171957);
                        bool x_171965 = sle64((int64_t) 0, copy_arg0_171964);
                        bool y_171966 = slt64(copy_arg0_171964, block_sizze_171883);
                        bool bounds_check_171967 = x_171965 && y_171966;
                        bool index_certs_171968;
                        
                        if (!bounds_check_171967) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171964, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int32_t copy_arg0_171962 = ((int32_t *) mem_181152)[j_171957];
                        int64_t copy_arg0_171963 = ((int64_t *) mem_181154)[j_171957];
                        int32_t copy_arg0_171969 = ((int32_t *) mem_181152)[copy_arg0_171964];
                        int64_t copy_arg0_171970 = ((int64_t *) mem_181154)[copy_arg0_171964];
                        
                        ((int32_t *) mem_181152)[j_171957] = copy_arg0_171969;
                        ((int64_t *) mem_181154)[j_171957] = copy_arg0_171970;
                        ((int32_t *) mem_181152)[copy_arg0_171964] = copy_arg0_171962;
                        ((int64_t *) mem_181154)[copy_arg0_171964] = copy_arg0_171963;
                        
                        int64_t tmp_171975 = sub64(j_171957, (int64_t) 1);
                        bool cond_171976 = sle64((int64_t) 0, tmp_171975);
                        bool loop_cond_171977;
                        
                        if (cond_171976) {
                            bool y_178650 = slt64(tmp_171975, block_sizze_171883);
                            bool bounds_check_178651 = cond_171976 && y_178650;
                            bool index_certs_178652;
                            
                            if (!bounds_check_178651) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171975, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t gt_arg1_178649 = ((int32_t *) mem_181152)[j_171957];
                            int32_t gt_arg0_178653 = ((int32_t *) mem_181152)[tmp_171975];
                            bool zlze_res_178654 = sle32(gt_arg0_178653, gt_arg1_178649);
                            bool defunc_0_lifted_gt_res_178655 = !zlze_res_178654;
                            
                            loop_cond_171977 = defunc_0_lifted_gt_res_178655;
                        } else {
                            loop_cond_171977 = 0;
                        }
                        
                        bool loop_while_tmp_182561 = loop_cond_171977;
                        int64_t j_tmp_182564 = tmp_171975;
                        
                        loop_while_171954 = loop_while_tmp_182561;
                        j_171957 = j_tmp_182564;
                    }
                    s_171950 = loop_while_171954;
                    s_171953 = j_171957;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181139, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181152, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181142, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181154, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
        }
        if (memblock_alloc(ctx, &mem_181207, bytes_181138, "mem_181207")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181207.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint32_t *) mem_181139, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        if (memblock_alloc(ctx, &mem_181211, bytes_181141, "mem_181211")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181211.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint64_t *) mem_181142, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        
        int64_t data_171990;
        bool data_171991;
        int64_t data_171994;
        int64_t loop_dz2084Uz2082U_171995;
        bool loop_while_171996;
        int64_t stride_171999;
        
        if (memblock_set(ctx, &mem_param_181215, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181218, &mem_181211, "mem_181211") != 0)
            return 1;
        loop_dz2084Uz2082U_171995 = flat_dim_171884;
        loop_while_171996 = loop_cond_171987;
        stride_171999 = block_sizze_171883;
        while (loop_while_171996) {
            int64_t next_stride_172000 = mul64((int64_t) 2, stride_171999);
            bool zzero_172001 = next_stride_172000 == (int64_t) 0;
            bool nonzzero_172002 = !zzero_172001;
            bool nonzzero_cert_172003;
            
            if (!nonzzero_172002) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:130:3-25\n   #5  ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_172004 = sdiv64(flat_dim_171884, next_stride_172000);
            bool bounds_invalid_upwards_172005 = slt64(num_merges_172004, (int64_t) 0);
            bool valid_172006 = !bounds_invalid_upwards_172005;
            bool range_valid_c_172007;
            
            if (!valid_172006) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_172004, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:172:54-57\n   #6  ftsort.fut:130:3-25\n   #7  ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_172009 = sub64(next_stride_172000, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_172010 = sle64((int64_t) 0, m_172009);
            bool cond_172012 = slt64(next_stride_172000, (int64_t) 10);
            bool protect_assert_disj_172013 = nonzzero_171989 || cond_172012;
            bool nonzzero_cert_172014;
            
            if (!protect_assert_disj_172013) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_172015 = smod_safe64(next_stride_172000, merge_block_sizze_171887);
            bool num_blocks_172016 = zeze_lhs_172015 == (int64_t) 0;
            bool protect_assert_disj_172017 = cond_172012 || num_blocks_172016;
            bool assert_c_172018;
            
            if (!protect_assert_disj_172017) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_172020 = sdiv_safe64(next_stride_172000, merge_block_sizze_171887);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021 = add64((int64_t) 1, num_blocks_172020);
            int64_t j_m_i_172022 = sub64(next_stride_172000, stride_171999);
            int64_t flat_dim_172023 = merge_block_sizze_171887 * num_blocks_172020;
            bool bounds_invalid_upwards_172024 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, (int64_t) 0);
            bool zzero_lte_i_172025 = sle64((int64_t) 0, stride_171999);
            bool i_lte_j_172026 = sle64(stride_171999, next_stride_172000);
            bool empty_slice_172027 = stride_171999 == (int64_t) 0;
            int64_t m_172028 = sub64(stride_171999, (int64_t) 1);
            bool bounds_invalid_upwards_172029 = slt64(num_blocks_172020, (int64_t) 0);
            bool empty_slice_172030 = j_m_i_172022 == (int64_t) 0;
            int64_t m_172031 = sub64(j_m_i_172022, (int64_t) 1);
            bool cond_172032 = slt64((int64_t) 0, stride_171999);
            bool valid_172033 = !bounds_invalid_upwards_172024;
            bool zzero_leq_i_p_m_t_s_172034 = sle64((int64_t) 0, m_172028);
            bool i_p_m_t_s_leq_w_172035 = slt64(m_172028, next_stride_172000);
            bool valid_172036 = !bounds_invalid_upwards_172029;
            bool i_p_m_t_s_leq_w_172037 = slt64(m_172009, flat_dim_172023);
            int64_t i_p_m_t_s_172038 = add64(stride_171999, m_172031);
            bool y_172039 = slt64((int64_t) 0, j_m_i_172022);
            bool protect_assert_disj_172040 = cond_172012 || valid_172033;
            bool range_valid_c_172041;
            
            if (!protect_assert_disj_172040) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:130:3-25\n   #11 ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172042 = zzero_leq_i_p_m_t_s_172034 && i_p_m_t_s_leq_w_172035;
            bool protect_assert_disj_172043 = cond_172012 || valid_172036;
            bool range_valid_c_172044;
            
            if (!protect_assert_disj_172043) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_172020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:130:3-25\n   #10 ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172045 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172037;
            bool zzero_leq_i_p_m_t_s_172046 = sle64((int64_t) 0, i_p_m_t_s_172038);
            bool i_p_m_t_s_leq_w_172047 = slt64(i_p_m_t_s_172038, next_stride_172000);
            bool forwards_ok_172048 = zzero_lte_i_172025 && y_172042;
            bool ok_or_empty_172049 = zzero_172001 || y_172045;
            bool y_172050 = zzero_lte_i_172025 && i_p_m_t_s_leq_w_172047;
            bool protect_assert_disj_172051 = cond_172032 || y_172039;
            bool ok_or_empty_172052 = empty_slice_172027 || forwards_ok_172048;
            bool protect_assert_disj_172053 = cond_172012 || ok_or_empty_172049;
            bool index_certs_172054;
            
            if (!protect_assert_disj_172053) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) flat_dim_172023, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:130:3-25\n   #10 ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172055 = zzero_leq_i_p_m_t_s_172046 && y_172050;
            bool loop_not_taken_172056 = !cond_172012;
            bool protect_assert_disj_172057 = protect_assert_disj_172051 || loop_not_taken_172056;
            bool index_certs_172058;
            
            if (!protect_assert_disj_172057) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:130:3-25\n   #11 ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172059 = cond_172012 || ok_or_empty_172052;
            bool index_certs_172060;
            
            if (!protect_assert_disj_172059) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:130:3-25\n   #12 ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_172061 = i_lte_j_172026 && y_172055;
            bool protect_assert_disj_172062 = ok_or_empty_172052 || loop_not_taken_172056;
            bool index_certs_172063;
            
            if (!protect_assert_disj_172062) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_172064 = empty_slice_172030 || forwards_ok_172061;
            bool protect_assert_disj_172065 = loop_not_taken_172056 || ok_or_empty_172064;
            bool index_certs_172066;
            
            if (!protect_assert_disj_172065) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172067 = cond_172012 || ok_or_empty_172064;
            bool index_certs_172068;
            
            if (!protect_assert_disj_172067) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:130:3-25\n   #12 ftsort.fut:129:1-130:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181219 = (int64_t) 4 * num_merges_172004;
            int64_t bytes_181220 = next_stride_172000 * binop_x_181219;
            int64_t binop_x_181222 = (int64_t) 8 * num_merges_172004;
            int64_t bytes_181223 = next_stride_172000 * binop_x_181222;
            bool i_lte_j_172011 = sle64((int64_t) 0, next_stride_172000);
            
            if (mem_181221_cached_sizze_182841 < bytes_181220) {
                err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_182841, bytes_181220);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181224_cached_sizze_182842 < bytes_181223) {
                err = lexical_realloc(ctx, &mem_181224, &mem_181224_cached_sizze_182842, bytes_181223);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181233 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021;
            int64_t binop_x_181249 = (int64_t) 4 * num_blocks_172020;
            int64_t bytes_181250 = merge_block_sizze_171887 * binop_x_181249;
            int64_t binop_x_181252 = (int64_t) 8 * num_blocks_172020;
            int64_t bytes_181253 = merge_block_sizze_171887 * binop_x_181252;
            int64_t bytes_181295 = (int64_t) 8 * stride_171999;
            int64_t bytes_181297 = (int64_t) 16 * stride_171999;
            
            for (int64_t i_180828 = 0; i_180828 < num_merges_172004; i_180828++) {
                int64_t start_172072 = mul64(next_stride_172000, i_180828);
                int64_t j_m_i_172073 = sub64(loop_dz2084Uz2082U_171995, start_172072);
                bool empty_slice_172074 = j_m_i_172073 == (int64_t) 0;
                int64_t m_172075 = sub64(j_m_i_172073, (int64_t) 1);
                int64_t i_p_m_t_s_172076 = add64(start_172072, m_172075);
                bool zzero_leq_i_p_m_t_s_172077 = sle64((int64_t) 0, i_p_m_t_s_172076);
                bool i_p_m_t_s_leq_w_172078 = slt64(i_p_m_t_s_172076, loop_dz2084Uz2082U_171995);
                bool zzero_lte_i_172079 = sle64((int64_t) 0, start_172072);
                bool i_lte_j_172080 = sle64(start_172072, loop_dz2084Uz2082U_171995);
                bool y_172081 = i_p_m_t_s_leq_w_172078 && zzero_lte_i_172079;
                bool y_172082 = zzero_leq_i_p_m_t_s_172077 && y_172081;
                bool forwards_ok_172083 = i_lte_j_172080 && y_172082;
                bool ok_or_empty_172084 = empty_slice_172074 || forwards_ok_172083;
                bool index_certs_172085;
                
                if (!ok_or_empty_172084) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_172072, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171995, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172086 = slt64(m_172009, j_m_i_172073);
                bool y_172087 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172086;
                bool forwards_ok_172088 = i_lte_j_172011 && y_172087;
                bool ok_or_empty_172089 = zzero_172001 || forwards_ok_172088;
                bool index_certs_172090;
                
                if (!ok_or_empty_172089) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) j_m_i_172073, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:130:3-25\n   #9  ftsort.fut:129:1-130:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_172012) {
                    int32_t dummy_178681;
                    int64_t dummy_178682;
                    
                    if (cond_172032) {
                        int32_t head_res_178683 = ((int32_t *) mem_param_181215.mem)[start_172072];
                        int64_t head_res_178684 = ((int64_t *) mem_param_181218.mem)[start_172072];
                        
                        dummy_178681 = head_res_178683;
                        dummy_178682 = head_res_178684;
                    } else {
                        int64_t slice_178685 = stride_171999 + start_172072;
                        int32_t head_res_178686 = ((int32_t *) mem_param_181215.mem)[slice_178685];
                        int64_t head_res_178687 = ((int64_t *) mem_param_181218.mem)[slice_178685];
                        
                        dummy_178681 = head_res_178686;
                        dummy_178682 = head_res_178687;
                    }
                    if (memblock_alloc(ctx, &mem_181296, bytes_181295, "mem_181296")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182574 = 0; nest_i_182574 < next_stride_172000; nest_i_182574++) {
                        ((int32_t *) mem_181296.mem)[nest_i_182574] = dummy_178681;
                    }
                    if (memblock_alloc(ctx, &mem_181298, bytes_181297, "mem_181298")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182575 = 0; nest_i_182575 < next_stride_172000; nest_i_182575++) {
                        ((int64_t *) mem_181298.mem)[nest_i_182575] = dummy_178682;
                    }
                    
                    int64_t data_178690;
                    int64_t i_178694 = (int64_t) 0;
                    
                    for (int64_t k_178693 = 0; k_178693 < next_stride_172000; k_178693++) {
                        int64_t j_178697 = sub64(k_178693, i_178694);
                        bool cond_178698 = j_178697 == j_m_i_172022;
                        bool cond_178699;
                        
                        if (cond_178698) {
                            cond_178699 = 1;
                        } else {
                            bool cond_178700 = slt64(i_178694, stride_171999);
                            bool cond_f_res_178701;
                            
                            if (cond_178700) {
                                bool x_178702 = sle64((int64_t) 0, j_178697);
                                bool y_178703 = slt64(j_178697, j_m_i_172022);
                                bool bounds_check_178704 = x_178702 && y_178703;
                                bool index_certs_178705;
                                
                                if (!bounds_check_178704) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:130:3-25\n   #10 ftsort.fut:129:1-130:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178709 = sle64((int64_t) 0, i_178694);
                                bool bounds_check_178710 = cond_178700 && x_178709;
                                bool index_certs_178711;
                                
                                if (!bounds_check_178710) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:130:3-25\n   #10 ftsort.fut:129:1-130:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178706 = stride_171999 + j_178697;
                                int64_t slice_178707 = start_172072 + slice_178706;
                                int32_t leq_arg1_178708 = ((int32_t *) mem_param_181215.mem)[slice_178707];
                                int64_t slice_178712 = start_172072 + i_178694;
                                int32_t leq_arg0_178713 = ((int32_t *) mem_param_181215.mem)[slice_178712];
                                bool zlze_res_178714 = sle32(leq_arg0_178713, leq_arg1_178708);
                                
                                cond_f_res_178701 = zlze_res_178714;
                            } else {
                                cond_f_res_178701 = 0;
                            }
                            cond_178699 = cond_f_res_178701;
                        }
                        
                        int64_t loopres_178715;
                        int32_t loopres_178716;
                        int64_t loopres_178717;
                        
                        if (cond_178699) {
                            bool x_178719 = sle64((int64_t) 0, i_178694);
                            bool y_178720 = slt64(i_178694, stride_171999);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:130:3-25\n   #10 ftsort.fut:129:1-130:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178718 = add64((int64_t) 1, i_178694);
                            int64_t slice_178723 = start_172072 + i_178694;
                            int32_t tmp_178724 = ((int32_t *) mem_param_181215.mem)[slice_178723];
                            int64_t tmp_178725 = ((int64_t *) mem_param_181218.mem)[slice_178723];
                            
                            loopres_178715 = tmp_178718;
                            loopres_178716 = tmp_178724;
                            loopres_178717 = tmp_178725;
                        } else {
                            bool x_178726 = sle64((int64_t) 0, j_178697);
                            bool y_178727 = slt64(j_178697, j_m_i_172022);
                            bool bounds_check_178728 = x_178726 && y_178727;
                            bool index_certs_178729;
                            
                            if (!bounds_check_178728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:130:3-25\n   #10 ftsort.fut:129:1-130:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178730 = stride_171999 + j_178697;
                            int64_t slice_178731 = start_172072 + slice_178730;
                            int32_t tmp_178732 = ((int32_t *) mem_param_181215.mem)[slice_178731];
                            int64_t tmp_178733 = ((int64_t *) mem_param_181218.mem)[slice_178731];
                            
                            loopres_178715 = i_178694;
                            loopres_178716 = tmp_178732;
                            loopres_178717 = tmp_178733;
                        }
                        ((int32_t *) mem_181296.mem)[k_178693] = loopres_178716;
                        ((int64_t *) mem_181298.mem)[k_178693] = loopres_178717;
                        
                        int64_t i_tmp_182576 = loopres_178715;
                        
                        i_178694 = i_tmp_182576;
                    }
                    data_178690 = i_178694;
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181296, "mem_181296") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181298, "mem_181298") != 0)
                        return 1;
                } else {
                    if (mem_181234_cached_sizze_182843 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181234, &mem_181234_cached_sizze_182843, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181236_cached_sizze_182844 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182844, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180814 = 0; i_180814 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021; i_180814++) {
                        int64_t split_count_arg3_172152 = mul64(merge_block_sizze_171887, i_180814);
                        int64_t defunc_0_split_count_res_172153;
                        int64_t defunc_0_split_count_res_172154;
                        int64_t defunc_0_split_count_res_172155;
                        int64_t defunc_0_split_count_res_172156;
                        int64_t defunc_0_split_count_res_172157;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_172153, &defunc_0_split_count_res_172154, &defunc_0_split_count_res_172155, &defunc_0_split_count_res_172156, &defunc_0_split_count_res_172157, (int64_t) 0, stride_171999, (int64_t) 0, j_m_i_172022, split_count_arg3_172152) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172158 = slt64((int64_t) 0, defunc_0_split_count_res_172157);
                        bool defunc_0_split_count_res_172159;
                        int64_t defunc_0_split_count_res_172160;
                        int64_t defunc_0_split_count_res_172161;
                        int64_t defunc_0_split_count_res_172162;
                        int64_t defunc_0_split_count_res_172163;
                        int64_t defunc_0_split_count_res_172164;
                        bool loop_while_172165;
                        int64_t ss_172166;
                        int64_t ss_172167;
                        int64_t tt_172168;
                        int64_t tt_172169;
                        int64_t count_172170;
                        
                        loop_while_172165 = loop_cond_172158;
                        ss_172166 = defunc_0_split_count_res_172153;
                        ss_172167 = defunc_0_split_count_res_172154;
                        tt_172168 = defunc_0_split_count_res_172155;
                        tt_172169 = defunc_0_split_count_res_172156;
                        count_172170 = defunc_0_split_count_res_172157;
                        while (loop_while_172165) {
                            int64_t zlze_lhs_172171 = sub64(ss_172167, ss_172166);
                            bool cond_172172 = sle64(zlze_lhs_172171, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172173;
                            int64_t defunc_0_lifted_step_res_172174;
                            int64_t defunc_0_lifted_step_res_172175;
                            int64_t defunc_0_lifted_step_res_172176;
                            
                            if (cond_172172) {
                                int64_t tmp_178736 = add64(tt_172168, count_172170);
                                
                                defunc_0_lifted_step_res_172173 = ss_172166;
                                defunc_0_lifted_step_res_172174 = tmp_178736;
                                defunc_0_lifted_step_res_172175 = tt_172169;
                                defunc_0_lifted_step_res_172176 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172178 = sub64(tt_172169, tt_172168);
                                bool cond_172179 = sle64(zlze_lhs_172178, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172180;
                                int64_t defunc_0_lifted_step_res_f_res_172181;
                                int64_t defunc_0_lifted_step_res_f_res_172182;
                                int64_t defunc_0_lifted_step_res_f_res_172183;
                                
                                if (cond_172179) {
                                    int64_t tmp_178737 = add64(ss_172166, count_172170);
                                    
                                    defunc_0_lifted_step_res_f_res_172180 = tmp_178737;
                                    defunc_0_lifted_step_res_f_res_172181 = tt_172168;
                                    defunc_0_lifted_step_res_f_res_172182 = tt_172169;
                                    defunc_0_lifted_step_res_f_res_172183 = (int64_t) 0;
                                } else {
                                    bool cond_172185 = count_172170 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172186;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172187;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172188;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172189;
                                    
                                    if (cond_172185) {
                                        bool x_178739 = sle64((int64_t) 0, ss_172166);
                                        bool y_178740 = slt64(ss_172166, stride_171999);
                                        bool bounds_check_178741 = x_178739 && y_178740;
                                        bool index_certs_178742;
                                        
                                        if (!bounds_check_178741) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172166, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:130:3-25\n   #14 ftsort.fut:129:1-130:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178745 = sle64((int64_t) 0, tt_172168);
                                        bool y_178746 = slt64(tt_172168, j_m_i_172022);
                                        bool bounds_check_178747 = x_178745 && y_178746;
                                        bool index_certs_178748;
                                        
                                        if (!bounds_check_178747) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172168, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:130:3-25\n   #14 ftsort.fut:129:1-130:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178743 = start_172072 + ss_172166;
                                        int32_t leq_arg1_178744 = ((int32_t *) mem_param_181215.mem)[slice_178743];
                                        int64_t slice_178749 = stride_171999 + tt_172168;
                                        int64_t slice_178750 = start_172072 + slice_178749;
                                        int32_t leq_arg0_178751 = ((int32_t *) mem_param_181215.mem)[slice_178750];
                                        bool zlze_res_178752 = sle32(leq_arg0_178751, leq_arg1_178744);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        
                                        if (zlze_res_178752) {
                                            int64_t tmp_178755 = add64((int64_t) 1, tt_172168);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = ss_172166;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tmp_178755;
                                        } else {
                                            int64_t tmp_178756 = add64((int64_t) 1, ss_172166);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = tmp_178756;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tt_172168;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = tt_172169;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = (int64_t) 0;
                                    } else {
                                        int64_t m_172208 = sdiv64(count_172170, (int64_t) 2);
                                        int64_t n_172209 = sub64(count_172170, m_172208);
                                        bool cond_172210 = n_172209 == (int64_t) 0;
                                        int64_t zgze_lhs_172211 = add64(ss_172166, m_172208);
                                        bool cond_f_res_172212 = sle64(ss_172167, zgze_lhs_172211);
                                        bool x_172213 = !cond_172210;
                                        bool y_172214 = cond_f_res_172212 && x_172213;
                                        bool cond_172215 = cond_172210 || y_172214;
                                        bool leq_y_x_172216;
                                        
                                        if (cond_172215) {
                                            leq_y_x_172216 = 1;
                                        } else {
                                            bool x_172217 = sle64((int64_t) 0, zgze_lhs_172211);
                                            bool y_172218 = slt64(zgze_lhs_172211, stride_171999);
                                            bool bounds_check_172219 = x_172217 && y_172218;
                                            bool index_certs_172220;
                                            
                                            if (!bounds_check_172219) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172211, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:130:3-25\n   #14 ftsort.fut:129:1-130:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172223 = add64(tt_172168, n_172209);
                                            int64_t leq_arg0_172224 = sub64(zm_lhs_172223, (int64_t) 1);
                                            bool x_172225 = sle64((int64_t) 0, leq_arg0_172224);
                                            bool y_172226 = slt64(leq_arg0_172224, j_m_i_172022);
                                            bool bounds_check_172227 = x_172225 && y_172226;
                                            bool index_certs_172228;
                                            
                                            if (!bounds_check_172227) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172224, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:130:3-25\n   #14 ftsort.fut:129:1-130:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172221 = start_172072 + zgze_lhs_172211;
                                            int32_t leq_arg1_172222 = ((int32_t *) mem_param_181215.mem)[slice_172221];
                                            int64_t slice_172229 = stride_171999 + leq_arg0_172224;
                                            int64_t slice_172230 = start_172072 + slice_172229;
                                            int32_t leq_arg0_172231 = ((int32_t *) mem_param_181215.mem)[slice_172230];
                                            bool zlze_res_172232 = sle32(leq_arg0_172231, leq_arg1_172222);
                                            
                                            leq_y_x_172216 = zlze_res_172232;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                        
                                        if (leq_y_x_172216) {
                                            int64_t tmp_178757 = add64(tt_172168, n_172209);
                                            int64_t tmp_178758 = sub64(count_172170, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tmp_178757;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tt_172169;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = tmp_178758;
                                        } else {
                                            int64_t tmp_172238 = add64(tt_172168, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tt_172168;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tmp_172238;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = count_172170;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = ss_172166;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                    }
                                    defunc_0_lifted_step_res_f_res_172180 = defunc_0_lifted_step_res_f_res_f_res_172186;
                                    defunc_0_lifted_step_res_f_res_172181 = defunc_0_lifted_step_res_f_res_f_res_172187;
                                    defunc_0_lifted_step_res_f_res_172182 = defunc_0_lifted_step_res_f_res_f_res_172188;
                                    defunc_0_lifted_step_res_f_res_172183 = defunc_0_lifted_step_res_f_res_f_res_172189;
                                }
                                defunc_0_lifted_step_res_172173 = defunc_0_lifted_step_res_f_res_172180;
                                defunc_0_lifted_step_res_172174 = defunc_0_lifted_step_res_f_res_172181;
                                defunc_0_lifted_step_res_172175 = defunc_0_lifted_step_res_f_res_172182;
                                defunc_0_lifted_step_res_172176 = defunc_0_lifted_step_res_f_res_172183;
                            }
                            
                            int64_t loopres_172239;
                            int64_t loopres_172240;
                            int64_t loopres_172241;
                            int64_t loopres_172242;
                            int64_t loopres_172243;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_172239, &loopres_172240, &loopres_172241, &loopres_172242, &loopres_172243, defunc_0_lifted_step_res_172173, ss_172167, defunc_0_lifted_step_res_172174, defunc_0_lifted_step_res_172175, defunc_0_lifted_step_res_172176) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172244 = slt64((int64_t) 0, loopres_172243);
                            bool loop_while_tmp_182581 = loop_cond_172244;
                            int64_t ss_tmp_182582 = loopres_172239;
                            int64_t ss_tmp_182583 = loopres_172240;
                            int64_t tt_tmp_182584 = loopres_172241;
                            int64_t tt_tmp_182585 = loopres_172242;
                            int64_t count_tmp_182586 = loopres_172243;
                            
                            loop_while_172165 = loop_while_tmp_182581;
                            ss_172166 = ss_tmp_182582;
                            ss_172167 = ss_tmp_182583;
                            tt_172168 = tt_tmp_182584;
                            tt_172169 = tt_tmp_182585;
                            count_172170 = count_tmp_182586;
                        }
                        defunc_0_split_count_res_172159 = loop_while_172165;
                        defunc_0_split_count_res_172160 = ss_172166;
                        defunc_0_split_count_res_172161 = ss_172167;
                        defunc_0_split_count_res_172162 = tt_172168;
                        defunc_0_split_count_res_172163 = tt_172169;
                        defunc_0_split_count_res_172164 = count_172170;
                        ((int64_t *) mem_181234)[i_180814] = defunc_0_split_count_res_172160;
                        ((int64_t *) mem_181236)[i_180814] = defunc_0_split_count_res_172162;
                    }
                    if (mem_181251_cached_sizze_182845 < bytes_181250) {
                        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_182845, bytes_181250);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181254_cached_sizze_182846 < bytes_181253) {
                        err = lexical_realloc(ctx, &mem_181254, &mem_181254_cached_sizze_182846, bytes_181253);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180821 = 0; i_180821 < num_blocks_172020; i_180821++) {
                        bool y_172250 = slt64(i_180821, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool index_certs_172252;
                        
                        if (!y_172250) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180821, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:130:3-25\n   #11 ftsort.fut:129:1-130:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172253 = ((int64_t *) mem_181234)[i_180821];
                        int64_t defunc_0_f_res_172254 = ((int64_t *) mem_181236)[i_180821];
                        int64_t tmp_172255 = add64((int64_t) 1, i_180821);
                        bool x_172256 = sle64((int64_t) 0, tmp_172255);
                        bool y_172257 = slt64(tmp_172255, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool bounds_check_172258 = x_172256 && y_172257;
                        bool index_certs_172259;
                        
                        if (!bounds_check_172258) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172255, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:130:3-25\n   #11 ftsort.fut:129:1-130:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172260 = ((int64_t *) mem_181234)[tmp_172255];
                        int64_t defunc_0_f_res_172261 = ((int64_t *) mem_181236)[tmp_172255];
                        int64_t merge_sequential_arg2_172262 = add64(stride_171999, defunc_0_f_res_172254);
                        int64_t merge_sequential_arg2_172263 = add64(stride_171999, defunc_0_f_res_172261);
                        int64_t j_m_i_172264 = sub64(merge_sequential_arg2_172263, merge_sequential_arg2_172262);
                        bool empty_slice_172265 = j_m_i_172264 == (int64_t) 0;
                        int64_t m_172266 = sub64(j_m_i_172264, (int64_t) 1);
                        int64_t i_p_m_t_s_172267 = add64(merge_sequential_arg2_172262, m_172266);
                        bool zzero_leq_i_p_m_t_s_172268 = sle64((int64_t) 0, i_p_m_t_s_172267);
                        bool i_p_m_t_s_leq_w_172269 = slt64(i_p_m_t_s_172267, next_stride_172000);
                        bool zzero_lte_i_172270 = sle64((int64_t) 0, merge_sequential_arg2_172262);
                        bool i_lte_j_172271 = sle64(merge_sequential_arg2_172262, merge_sequential_arg2_172263);
                        bool y_172272 = i_p_m_t_s_leq_w_172269 && zzero_lte_i_172270;
                        bool y_172273 = zzero_leq_i_p_m_t_s_172268 && y_172272;
                        bool forwards_ok_172274 = i_lte_j_172271 && y_172273;
                        bool ok_or_empty_172275 = empty_slice_172265 || forwards_ok_172274;
                        bool index_certs_172276;
                        
                        if (!ok_or_empty_172275) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172262, ":", (long long) merge_sequential_arg2_172263, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:130:3-25\n   #11 ftsort.fut:129:1-130:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172277 = sub64(defunc_0_f_res_172260, defunc_0_f_res_172253);
                        bool empty_slice_172278 = j_m_i_172277 == (int64_t) 0;
                        int64_t m_172279 = sub64(j_m_i_172277, (int64_t) 1);
                        int64_t i_p_m_t_s_172280 = add64(defunc_0_f_res_172253, m_172279);
                        bool zzero_leq_i_p_m_t_s_172281 = sle64((int64_t) 0, i_p_m_t_s_172280);
                        bool i_p_m_t_s_leq_w_172282 = slt64(i_p_m_t_s_172280, next_stride_172000);
                        bool zzero_lte_i_172283 = sle64((int64_t) 0, defunc_0_f_res_172253);
                        bool i_lte_j_172284 = sle64(defunc_0_f_res_172253, defunc_0_f_res_172260);
                        bool y_172285 = i_p_m_t_s_leq_w_172282 && zzero_lte_i_172283;
                        bool y_172286 = zzero_leq_i_p_m_t_s_172281 && y_172285;
                        bool forwards_ok_172287 = i_lte_j_172284 && y_172286;
                        bool ok_or_empty_172288 = empty_slice_172278 || forwards_ok_172287;
                        bool index_certs_172289;
                        
                        if (!ok_or_empty_172288) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172253, ":", (long long) defunc_0_f_res_172260, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:130:3-25\n   #11 ftsort.fut:129:1-130:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172290 = slt64((int64_t) 0, j_m_i_172277);
                        int32_t dummy_172291;
                        int64_t dummy_172292;
                        
                        if (cond_172290) {
                            bool index_certs_178759;
                            
                            if (!cond_172290) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:172:54-57\n   #12 ftsort.fut:130:3-25\n   #13 ftsort.fut:129:1-130:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178760 = start_172072 + defunc_0_f_res_172253;
                            int32_t head_res_178761 = ((int32_t *) mem_param_181215.mem)[slice_178760];
                            int64_t head_res_178762 = ((int64_t *) mem_param_181218.mem)[slice_178760];
                            
                            dummy_172291 = head_res_178761;
                            dummy_172292 = head_res_178762;
                        } else {
                            bool y_172297 = slt64((int64_t) 0, j_m_i_172264);
                            bool index_certs_172298;
                            
                            if (!y_172297) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:172:54-57\n   #12 ftsort.fut:130:3-25\n   #13 ftsort.fut:129:1-130:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172299 = start_172072 + merge_sequential_arg2_172262;
                            int32_t head_res_172300 = ((int32_t *) mem_param_181215.mem)[slice_172299];
                            int64_t head_res_172301 = ((int64_t *) mem_param_181218.mem)[slice_172299];
                            
                            dummy_172291 = head_res_172300;
                            dummy_172292 = head_res_172301;
                        }
                        for (int64_t nest_i_182589 = 0; nest_i_182589 < merge_block_sizze_171887; nest_i_182589++) {
                            ((int32_t *) mem_181251)[i_180821 * merge_block_sizze_171887 + nest_i_182589] = dummy_172291;
                        }
                        for (int64_t nest_i_182590 = 0; nest_i_182590 < merge_block_sizze_171887; nest_i_182590++) {
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + nest_i_182590] = dummy_172292;
                        }
                        
                        int64_t data_172304;
                        int64_t i_172308 = (int64_t) 0;
                        
                        for (int64_t k_172307 = 0; k_172307 < merge_block_sizze_171887; k_172307++) {
                            int64_t j_172311 = sub64(k_172307, i_172308);
                            bool cond_172312 = j_172311 == j_m_i_172264;
                            bool cond_172313;
                            
                            if (cond_172312) {
                                cond_172313 = 1;
                            } else {
                                bool cond_172314 = slt64(i_172308, j_m_i_172277);
                                bool cond_f_res_172315;
                                
                                if (cond_172314) {
                                    bool x_178763 = sle64((int64_t) 0, j_172311);
                                    bool y_178764 = slt64(j_172311, j_m_i_172264);
                                    bool bounds_check_178765 = x_178763 && y_178764;
                                    bool index_certs_178766;
                                    
                                    if (!bounds_check_178765) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:130:3-25\n   #12 ftsort.fut:129:1-130:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178770 = sle64((int64_t) 0, i_172308);
                                    bool bounds_check_178771 = cond_172314 && x_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:130:3-25\n   #12 ftsort.fut:129:1-130:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178767 = merge_sequential_arg2_172262 + j_172311;
                                    int64_t slice_178768 = start_172072 + slice_178767;
                                    int32_t leq_arg1_178769 = ((int32_t *) mem_param_181215.mem)[slice_178768];
                                    int64_t slice_178773 = defunc_0_f_res_172253 + i_172308;
                                    int64_t slice_178774 = start_172072 + slice_178773;
                                    int32_t leq_arg0_178775 = ((int32_t *) mem_param_181215.mem)[slice_178774];
                                    bool zlze_res_178776 = sle32(leq_arg0_178775, leq_arg1_178769);
                                    
                                    cond_f_res_172315 = zlze_res_178776;
                                } else {
                                    cond_f_res_172315 = 0;
                                }
                                cond_172313 = cond_f_res_172315;
                            }
                            
                            int64_t loopres_172330;
                            int32_t loopres_172331;
                            int64_t loopres_172332;
                            
                            if (cond_172313) {
                                bool x_178778 = sle64((int64_t) 0, i_172308);
                                bool y_178779 = slt64(i_172308, j_m_i_172277);
                                bool bounds_check_178780 = x_178778 && y_178779;
                                bool index_certs_178781;
                                
                                if (!bounds_check_178780) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:130:3-25\n   #12 ftsort.fut:129:1-130:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178777 = add64((int64_t) 1, i_172308);
                                int64_t slice_178782 = defunc_0_f_res_172253 + i_172308;
                                int64_t slice_178783 = start_172072 + slice_178782;
                                int32_t tmp_178784 = ((int32_t *) mem_param_181215.mem)[slice_178783];
                                int64_t tmp_178785 = ((int64_t *) mem_param_181218.mem)[slice_178783];
                                
                                loopres_172330 = tmp_178777;
                                loopres_172331 = tmp_178784;
                                loopres_172332 = tmp_178785;
                            } else {
                                bool x_172342 = sle64((int64_t) 0, j_172311);
                                bool y_172343 = slt64(j_172311, j_m_i_172264);
                                bool bounds_check_172344 = x_172342 && y_172343;
                                bool index_certs_172345;
                                
                                if (!bounds_check_172344) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:130:3-25\n   #12 ftsort.fut:129:1-130:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172346 = merge_sequential_arg2_172262 + j_172311;
                                int64_t slice_172347 = start_172072 + slice_172346;
                                int32_t tmp_172348 = ((int32_t *) mem_param_181215.mem)[slice_172347];
                                int64_t tmp_172349 = ((int64_t *) mem_param_181218.mem)[slice_172347];
                                
                                loopres_172330 = i_172308;
                                loopres_172331 = tmp_172348;
                                loopres_172332 = tmp_172349;
                            }
                            ((int32_t *) mem_181251)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172331;
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172332;
                            
                            int64_t i_tmp_182591 = loopres_172330;
                            
                            i_172308 = i_tmp_182591;
                        }
                        data_172304 = i_172308;
                    }
                    if (memblock_alloc(ctx, &mem_181289, bytes_181250, "mem_181289")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181289.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint32_t *) mem_181251, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_alloc(ctx, &mem_181293, bytes_181253, "mem_181293")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181293.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint64_t *) mem_181254, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181289, "mem_181289") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181293, "mem_181293") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181221, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181316.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181224, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181313.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172356 = next_stride_172000 * num_merges_172004;
            
            if (memblock_alloc(ctx, &mem_181327, bytes_181220, "mem_181327")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181327.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint32_t *) mem_181221, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            if (memblock_alloc(ctx, &mem_181331, bytes_181223, "mem_181331")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181331.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint64_t *) mem_181224, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            
            bool loop_cond_172359 = slt64(next_stride_172000, flat_dim_171884);
            
            if (memblock_set(ctx, &mem_param_tmp_182565, &mem_181327, "mem_181327") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182566, &mem_181331, "mem_181331") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182567 = flat_dim_172356;
            bool loop_while_tmp_182568 = loop_cond_172359;
            int64_t stride_tmp_182571 = next_stride_172000;
            
            if (memblock_set(ctx, &mem_param_181215, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181218, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
                return 1;
            loop_dz2084Uz2082U_171995 = loop_dz2084Uz2082U_tmp_182567;
            loop_while_171996 = loop_while_tmp_182568;
            stride_171999 = stride_tmp_182571;
        }
        if (memblock_set(ctx, &ext_mem_181338, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181337, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        data_171990 = loop_dz2084Uz2082U_171995;
        data_171991 = loop_while_171996;
        data_171994 = stride_171999;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        
        bool empty_slice_172360 = n_101200 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172361 = sle64((int64_t) 0, zs_lhs_171868);
        bool i_p_m_t_s_leq_w_172362 = slt64(zs_lhs_171868, data_171990);
        bool y_172363 = zzero_leq_i_p_m_t_s_172361 && i_p_m_t_s_leq_w_172362;
        bool ok_or_empty_172364 = empty_slice_172360 || y_172363;
        bool index_certs_172365;
        
        if (!ok_or_empty_172364) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_101200, "] out of bounds for array of shape [", (long long) data_171990, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:172:54-57\n   #5  ftsort.fut:130:3-25\n   #6  ftsort.fut:129:1-130:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181341, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181343, bytes_181135, "mem_181343")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181345, bytes_181344, "mem_181345")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180835 = 0; i_180835 < n_101200; i_180835++) {
        int64_t eta_p_172369 = ((int64_t *) ext_mem_181341.mem)[i_180835];
        bool x_172370 = sle64((int64_t) 0, eta_p_172369);
        bool y_172371 = slt64(eta_p_172369, n_101200);
        bool bounds_check_172372 = x_172370 && y_172371;
        bool index_certs_172373;
        
        if (!bounds_check_172372) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172369, "] out of bounds for array of shape [", (long long) n_101200, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:130:3-25\n   #5  ftsort.fut:129:1-130:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172374 = ((int64_t *) ext_mem_181134.mem)[eta_p_172369];
        int32_t lifted_lambda_res_172375 = ((int32_t *) xs_mem_181133.mem)[eta_p_172369];
        
        ((int64_t *) mem_181343.mem)[i_180835] = lifted_lambda_res_172374;
        ((int32_t *) mem_181345.mem)[i_180835] = lifted_lambda_res_172375;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181343, "mem_181343") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181345, "mem_181345") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182835, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182836, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181139);
        free(mem_181142);
        free(mem_181152);
        free(mem_181154);
        free(mem_181221);
        free(mem_181224);
        free(mem_181234);
        free(mem_181236);
        free(mem_181251);
        free(mem_181254);
        if (memblock_unref(ctx, &mem_181345, "mem_181345") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181343, "mem_181343") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181327, "mem_181327") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181293, "mem_181293") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181289, "mem_181289") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181298, "mem_181298") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181296, "mem_181296") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181338, "ext_mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182847, struct memblock *mem_out_p_182848, struct memblock xs_mem_181133, int64_t n_103543, int64_t incr_103544)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181139_cached_sizze_182849 = 0;
    unsigned char *mem_181139 = NULL;
    int64_t mem_181142_cached_sizze_182850 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181152_cached_sizze_182851 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_182852 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181221_cached_sizze_182853 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181224_cached_sizze_182854 = 0;
    unsigned char *mem_181224 = NULL;
    int64_t mem_181234_cached_sizze_182855 = 0;
    unsigned char *mem_181234 = NULL;
    int64_t mem_181236_cached_sizze_182856 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181251_cached_sizze_182857 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181254_cached_sizze_182858 = 0;
    unsigned char *mem_181254 = NULL;
    struct memblock mem_181345;
    
    mem_181345.references = NULL;
    
    struct memblock mem_181343;
    
    mem_181343.references = NULL;
    
    struct memblock mem_param_tmp_182566;
    
    mem_param_tmp_182566.references = NULL;
    
    struct memblock mem_param_tmp_182565;
    
    mem_param_tmp_182565.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock mem_181327;
    
    mem_181327.references = NULL;
    
    struct memblock mem_181293;
    
    mem_181293.references = NULL;
    
    struct memblock mem_181289;
    
    mem_181289.references = NULL;
    
    struct memblock mem_181298;
    
    mem_181298.references = NULL;
    
    struct memblock mem_181296;
    
    mem_181296.references = NULL;
    
    struct memblock ext_mem_181313;
    
    ext_mem_181313.references = NULL;
    
    struct memblock ext_mem_181316;
    
    ext_mem_181316.references = NULL;
    
    struct memblock mem_param_181218;
    
    mem_param_181218.references = NULL;
    
    struct memblock mem_param_181215;
    
    mem_param_181215.references = NULL;
    
    struct memblock ext_mem_181337;
    
    ext_mem_181337.references = NULL;
    
    struct memblock ext_mem_181338;
    
    ext_mem_181338.references = NULL;
    
    struct memblock mem_181211;
    
    mem_181211.references = NULL;
    
    struct memblock mem_181207;
    
    mem_181207.references = NULL;
    
    struct memblock ext_mem_181341;
    
    ext_mem_181341.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_103543;
    bool cond_171867 = sle64(n_103543, (int64_t) 1);
    int64_t zs_lhs_171868 = sub64(n_103543, (int64_t) 1);
    int64_t zp_rhs_171869 = sdiv_safe64(zs_lhs_171868, (int64_t) 20);
    int64_t min_num_blocks_171870 = add64((int64_t) 1, zp_rhs_171869);
    bool loop_cond_171871 = slt64((int64_t) 1, min_num_blocks_171870);
    bool smallest_pow_2_geq_than_res_171872;
    int64_t smallest_pow_2_geq_than_res_171873;
    bool loop_while_171874;
    int64_t x_171875;
    
    loop_while_171874 = loop_cond_171871;
    x_171875 = (int64_t) 1;
    while (loop_while_171874) {
        int64_t loopres_171876 = mul64((int64_t) 2, x_171875);
        bool loop_cond_171877 = slt64(loopres_171876, min_num_blocks_171870);
        bool loop_while_tmp_182549 = loop_cond_171877;
        int64_t x_tmp_182550 = loopres_171876;
        
        loop_while_171874 = loop_while_tmp_182549;
        x_171875 = x_tmp_182550;
    }
    smallest_pow_2_geq_than_res_171872 = loop_while_171874;
    smallest_pow_2_geq_than_res_171873 = x_171875;
    
    bool zzero_171878 = smallest_pow_2_geq_than_res_171873 == (int64_t) 0;
    bool nonzzero_171879 = !zzero_171878;
    bool protect_assert_disj_171880 = cond_171867 || nonzzero_171879;
    bool nonzzero_cert_171881;
    
    if (!protect_assert_disj_171880) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:133:3-26\n   #5  ftsort.fut:132:1-133:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171882 = sdiv_safe64(zs_lhs_171868, smallest_pow_2_geq_than_res_171873);
    int64_t block_sizze_171883 = add64((int64_t) 1, zp_rhs_171882);
    bool y_171888 = slt64((int64_t) 0, n_103543);
    bool protect_assert_disj_182246 = cond_171867 || y_171888;
    bool index_certs_171889;
    
    if (!protect_assert_disj_182246) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_103543, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:133:3-26\n   #5  ftsort.fut:132:1-133:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171902 = slt64(smallest_pow_2_geq_than_res_171873, (int64_t) 0);
    bool valid_171903 = !bounds_invalid_upwards_171902;
    bool protect_assert_disj_182254 = cond_171867 || valid_171903;
    bool range_valid_c_171904;
    
    if (!protect_assert_disj_182254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:172:54-57\n   #6  ftsort.fut:133:3-26\n   #7  ftsort.fut:132:1-133:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171906 = slt64(block_sizze_171883, (int64_t) 0);
    bool valid_171907 = !bounds_invalid_upwards_171906;
    bool protect_assert_disj_182256 = cond_171867 || valid_171907;
    bool range_valid_c_171908;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171883, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:133:3-26\n   #10 ftsort.fut:132:1-133:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171910 = sle64(block_sizze_171883, (int64_t) 1);
    int64_t tmp_171911 = sub64(block_sizze_171883, (int64_t) 2);
    bool bounds_invalid_upwards_171912 = slt64(tmp_171911, (int64_t) 0);
    bool valid_171914 = !bounds_invalid_upwards_171912;
    bool protect_assert_disj_171915 = cond_171910 || valid_171914;
    bool protect_assert_disj_182258 = cond_171867 || protect_assert_disj_171915;
    bool range_valid_c_171916;
    
    if (!protect_assert_disj_182258) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171911, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9490(ctx, &ext_mem_181134, xs_mem_181133, n_103543, incr_103544) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182551 = 0; i_182551 < n_103543; i_182551++) {
        int64_t x_182552 = (int64_t) 0 + i_182551 * (int64_t) 1;
        
        ((int64_t *) mem_181136.mem)[i_182551] = x_182552;
    }
    
    int64_t flat_dim_171884 = smallest_pow_2_geq_than_res_171873 * block_sizze_171883;
    bool x_182241 = !cond_171867;
    int64_t greatest_divisor_leq_than_arg1_171886 = mul64((int64_t) 2, block_sizze_171883);
    int64_t merge_block_sizze_171887;
    
    if (x_182241) {
        int64_t x_182243;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182243, (int64_t) 8, greatest_divisor_leq_than_arg1_171886) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171887 = x_182243;
    } else {
        merge_block_sizze_171887 = (int64_t) 0;
    }
    
    int64_t reduce_arg1_171890;
    
    if (x_182241) {
        int64_t x_182247 = ((int64_t *) xs_mem_181133.mem)[(int64_t) 0];
        
        reduce_arg1_171890 = x_182247;
    } else {
        reduce_arg1_171890 = (int64_t) 0;
    }
    
    int64_t defunc_0_reduce_res_178792;
    int64_t defunc_0_reduce_res_178793;
    
    if (x_182241) {
        int64_t x_182249;
        int64_t x_182250;
        int64_t redout_180793;
        int64_t redout_180794;
        
        redout_180793 = reduce_arg1_171890;
        redout_180794 = (int64_t) 0;
        for (int64_t i_180795 = 0; i_180795 < n_103543; i_180795++) {
            int64_t x_171893 = ((int64_t *) xs_mem_181133.mem)[i_180795];
            bool zlze_res_171899 = sle64(redout_180793, x_171893);
            int64_t defunc_0_op_res_171900;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171900 = x_171893;
            } else {
                defunc_0_op_res_171900 = redout_180793;
            }
            
            int64_t defunc_0_op_res_171901;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171901 = i_180795;
            } else {
                defunc_0_op_res_171901 = redout_180794;
            }
            
            int64_t redout_tmp_182553 = defunc_0_op_res_171900;
            int64_t redout_tmp_182554 = defunc_0_op_res_171901;
            
            redout_180793 = redout_tmp_182553;
            redout_180794 = redout_tmp_182554;
        }
        x_182249 = redout_180793;
        x_182250 = redout_180794;
        defunc_0_reduce_res_178792 = x_182249;
        defunc_0_reduce_res_178793 = x_182250;
    } else {
        defunc_0_reduce_res_178792 = (int64_t) 0;
        defunc_0_reduce_res_178793 = (int64_t) 0;
    }
    
    int64_t distance_171913 = add64((int64_t) 1, tmp_171911);
    int64_t binop_x_181137 = (int64_t) 8 * smallest_pow_2_geq_than_res_171873;
    int64_t bytes_181138 = block_sizze_171883 * binop_x_181137;
    int64_t bytes_181151 = (int64_t) 8 * block_sizze_171883;
    bool loop_cond_171987 = slt64(block_sizze_171883, flat_dim_171884);
    bool zzero_171988 = merge_block_sizze_171887 == (int64_t) 0;
    bool nonzzero_171989 = !zzero_171988;
    
    if (cond_171867) {
        if (memblock_set(ctx, &ext_mem_181341, &mem_181136, "mem_181136") != 0)
            return 1;
    } else {
        if (mem_181139_cached_sizze_182849 < bytes_181138) {
            err = lexical_realloc(ctx, &mem_181139, &mem_181139_cached_sizze_182849, bytes_181138);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181142_cached_sizze_182850 < bytes_181138) {
            err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_182850, bytes_181138);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181152_cached_sizze_182851 < bytes_181151) {
            err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_182851, bytes_181151);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181154_cached_sizze_182852 < bytes_181151) {
            err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_182852, bytes_181151);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180807 = 0; i_180807 < smallest_pow_2_geq_than_res_171873; i_180807++) {
            int64_t zp_lhs_171920 = mul64(block_sizze_171883, i_180807);
            
            for (int64_t i_180800 = 0; i_180800 < block_sizze_171883; i_180800++) {
                int64_t k_171924 = add64(zp_lhs_171920, i_180800);
                bool cond_171925 = slt64(k_171924, n_103543);
                int64_t lifted_lambda_res_171926;
                int64_t lifted_lambda_res_171927;
                
                if (cond_171925) {
                    bool x_178645 = sle64((int64_t) 0, k_171924);
                    bool bounds_check_178646 = cond_171925 && x_178645;
                    bool index_certs_178647;
                    
                    if (!bounds_check_178646) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171924, "] out of bounds for array of shape [", (long long) n_103543, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:133:3-26\n   #11 ftsort.fut:132:1-133:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t lifted_lambda_res_t_res_178648 = ((int64_t *) xs_mem_181133.mem)[k_171924];
                    
                    lifted_lambda_res_171926 = lifted_lambda_res_t_res_178648;
                    lifted_lambda_res_171927 = k_171924;
                } else {
                    lifted_lambda_res_171926 = defunc_0_reduce_res_178792;
                    lifted_lambda_res_171927 = defunc_0_reduce_res_178793;
                }
                ((int64_t *) mem_181152)[i_180800] = lifted_lambda_res_171926;
                ((int64_t *) mem_181154)[i_180800] = lifted_lambda_res_171927;
            }
            if (!cond_171910) {
                for (int64_t i_171936 = 0; i_171936 < distance_171913; i_171936++) {
                    int64_t gt_arg1_171939 = add64((int64_t) 1, i_171936);
                    bool x_171940 = sle64((int64_t) 0, gt_arg1_171939);
                    bool y_171941 = slt64(gt_arg1_171939, block_sizze_171883);
                    bool bounds_check_171942 = x_171940 && y_171941;
                    bool index_certs_171943;
                    
                    if (!bounds_check_171942) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171939, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171945 = slt64(i_171936, block_sizze_171883);
                    bool index_certs_171946;
                    
                    if (!y_171945) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171936, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t gt_arg1_171944 = ((int64_t *) mem_181152)[gt_arg1_171939];
                    int64_t gt_arg0_171947 = ((int64_t *) mem_181152)[i_171936];
                    bool zlze_res_171948 = sle64(gt_arg0_171947, gt_arg1_171944);
                    bool defunc_0_lifted_gt_res_171949 = !zlze_res_171948;
                    bool s_171950;
                    int64_t s_171953;
                    bool loop_while_171954;
                    int64_t j_171957;
                    
                    loop_while_171954 = defunc_0_lifted_gt_res_171949;
                    j_171957 = i_171936;
                    while (loop_while_171954) {
                        bool x_171958 = sle64((int64_t) 0, j_171957);
                        bool y_171959 = slt64(j_171957, block_sizze_171883);
                        bool bounds_check_171960 = x_171958 && y_171959;
                        bool index_certs_171961;
                        
                        if (!bounds_check_171960) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171957, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171964 = add64((int64_t) 1, j_171957);
                        bool x_171965 = sle64((int64_t) 0, copy_arg0_171964);
                        bool y_171966 = slt64(copy_arg0_171964, block_sizze_171883);
                        bool bounds_check_171967 = x_171965 && y_171966;
                        bool index_certs_171968;
                        
                        if (!bounds_check_171967) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171964, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171962 = ((int64_t *) mem_181152)[j_171957];
                        int64_t copy_arg0_171963 = ((int64_t *) mem_181154)[j_171957];
                        int64_t copy_arg0_171969 = ((int64_t *) mem_181152)[copy_arg0_171964];
                        int64_t copy_arg0_171970 = ((int64_t *) mem_181154)[copy_arg0_171964];
                        
                        ((int64_t *) mem_181152)[j_171957] = copy_arg0_171969;
                        ((int64_t *) mem_181154)[j_171957] = copy_arg0_171970;
                        ((int64_t *) mem_181152)[copy_arg0_171964] = copy_arg0_171962;
                        ((int64_t *) mem_181154)[copy_arg0_171964] = copy_arg0_171963;
                        
                        int64_t tmp_171975 = sub64(j_171957, (int64_t) 1);
                        bool cond_171976 = sle64((int64_t) 0, tmp_171975);
                        bool loop_cond_171977;
                        
                        if (cond_171976) {
                            bool y_178650 = slt64(tmp_171975, block_sizze_171883);
                            bool bounds_check_178651 = cond_171976 && y_178650;
                            bool index_certs_178652;
                            
                            if (!bounds_check_178651) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171975, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t gt_arg1_178649 = ((int64_t *) mem_181152)[j_171957];
                            int64_t gt_arg0_178653 = ((int64_t *) mem_181152)[tmp_171975];
                            bool zlze_res_178654 = sle64(gt_arg0_178653, gt_arg1_178649);
                            bool defunc_0_lifted_gt_res_178655 = !zlze_res_178654;
                            
                            loop_cond_171977 = defunc_0_lifted_gt_res_178655;
                        } else {
                            loop_cond_171977 = 0;
                        }
                        
                        bool loop_while_tmp_182561 = loop_cond_171977;
                        int64_t j_tmp_182564 = tmp_171975;
                        
                        loop_while_171954 = loop_while_tmp_182561;
                        j_171957 = j_tmp_182564;
                    }
                    s_171950 = loop_while_171954;
                    s_171953 = j_171957;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181139, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181152, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181142, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181154, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
        }
        if (memblock_alloc(ctx, &mem_181207, bytes_181138, "mem_181207")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181207.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint64_t *) mem_181139, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        if (memblock_alloc(ctx, &mem_181211, bytes_181138, "mem_181211")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181211.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint64_t *) mem_181142, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        
        int64_t data_171990;
        bool data_171991;
        int64_t data_171994;
        int64_t loop_dz2084Uz2082U_171995;
        bool loop_while_171996;
        int64_t stride_171999;
        
        if (memblock_set(ctx, &mem_param_181215, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181218, &mem_181211, "mem_181211") != 0)
            return 1;
        loop_dz2084Uz2082U_171995 = flat_dim_171884;
        loop_while_171996 = loop_cond_171987;
        stride_171999 = block_sizze_171883;
        while (loop_while_171996) {
            int64_t next_stride_172000 = mul64((int64_t) 2, stride_171999);
            bool zzero_172001 = next_stride_172000 == (int64_t) 0;
            bool nonzzero_172002 = !zzero_172001;
            bool nonzzero_cert_172003;
            
            if (!nonzzero_172002) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:133:3-26\n   #5  ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_172004 = sdiv64(flat_dim_171884, next_stride_172000);
            bool bounds_invalid_upwards_172005 = slt64(num_merges_172004, (int64_t) 0);
            bool valid_172006 = !bounds_invalid_upwards_172005;
            bool range_valid_c_172007;
            
            if (!valid_172006) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_172004, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:172:54-57\n   #6  ftsort.fut:133:3-26\n   #7  ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_172009 = sub64(next_stride_172000, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_172010 = sle64((int64_t) 0, m_172009);
            bool cond_172012 = slt64(next_stride_172000, (int64_t) 10);
            bool protect_assert_disj_172013 = nonzzero_171989 || cond_172012;
            bool nonzzero_cert_172014;
            
            if (!protect_assert_disj_172013) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_172015 = smod_safe64(next_stride_172000, merge_block_sizze_171887);
            bool num_blocks_172016 = zeze_lhs_172015 == (int64_t) 0;
            bool protect_assert_disj_172017 = cond_172012 || num_blocks_172016;
            bool assert_c_172018;
            
            if (!protect_assert_disj_172017) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_172020 = sdiv_safe64(next_stride_172000, merge_block_sizze_171887);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021 = add64((int64_t) 1, num_blocks_172020);
            int64_t j_m_i_172022 = sub64(next_stride_172000, stride_171999);
            int64_t flat_dim_172023 = merge_block_sizze_171887 * num_blocks_172020;
            bool bounds_invalid_upwards_172024 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, (int64_t) 0);
            bool zzero_lte_i_172025 = sle64((int64_t) 0, stride_171999);
            bool i_lte_j_172026 = sle64(stride_171999, next_stride_172000);
            bool empty_slice_172027 = stride_171999 == (int64_t) 0;
            int64_t m_172028 = sub64(stride_171999, (int64_t) 1);
            bool bounds_invalid_upwards_172029 = slt64(num_blocks_172020, (int64_t) 0);
            bool empty_slice_172030 = j_m_i_172022 == (int64_t) 0;
            int64_t m_172031 = sub64(j_m_i_172022, (int64_t) 1);
            bool cond_172032 = slt64((int64_t) 0, stride_171999);
            bool valid_172033 = !bounds_invalid_upwards_172024;
            bool zzero_leq_i_p_m_t_s_172034 = sle64((int64_t) 0, m_172028);
            bool i_p_m_t_s_leq_w_172035 = slt64(m_172028, next_stride_172000);
            bool valid_172036 = !bounds_invalid_upwards_172029;
            bool i_p_m_t_s_leq_w_172037 = slt64(m_172009, flat_dim_172023);
            int64_t i_p_m_t_s_172038 = add64(stride_171999, m_172031);
            bool y_172039 = slt64((int64_t) 0, j_m_i_172022);
            bool protect_assert_disj_172040 = cond_172012 || valid_172033;
            bool range_valid_c_172041;
            
            if (!protect_assert_disj_172040) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:133:3-26\n   #11 ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172042 = zzero_leq_i_p_m_t_s_172034 && i_p_m_t_s_leq_w_172035;
            bool protect_assert_disj_172043 = cond_172012 || valid_172036;
            bool range_valid_c_172044;
            
            if (!protect_assert_disj_172043) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_172020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:133:3-26\n   #10 ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172045 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172037;
            bool zzero_leq_i_p_m_t_s_172046 = sle64((int64_t) 0, i_p_m_t_s_172038);
            bool i_p_m_t_s_leq_w_172047 = slt64(i_p_m_t_s_172038, next_stride_172000);
            bool forwards_ok_172048 = zzero_lte_i_172025 && y_172042;
            bool ok_or_empty_172049 = zzero_172001 || y_172045;
            bool y_172050 = zzero_lte_i_172025 && i_p_m_t_s_leq_w_172047;
            bool protect_assert_disj_172051 = cond_172032 || y_172039;
            bool ok_or_empty_172052 = empty_slice_172027 || forwards_ok_172048;
            bool protect_assert_disj_172053 = cond_172012 || ok_or_empty_172049;
            bool index_certs_172054;
            
            if (!protect_assert_disj_172053) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) flat_dim_172023, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:133:3-26\n   #10 ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172055 = zzero_leq_i_p_m_t_s_172046 && y_172050;
            bool loop_not_taken_172056 = !cond_172012;
            bool protect_assert_disj_172057 = protect_assert_disj_172051 || loop_not_taken_172056;
            bool index_certs_172058;
            
            if (!protect_assert_disj_172057) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:133:3-26\n   #11 ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172059 = cond_172012 || ok_or_empty_172052;
            bool index_certs_172060;
            
            if (!protect_assert_disj_172059) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:133:3-26\n   #12 ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_172061 = i_lte_j_172026 && y_172055;
            bool protect_assert_disj_172062 = ok_or_empty_172052 || loop_not_taken_172056;
            bool index_certs_172063;
            
            if (!protect_assert_disj_172062) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_172064 = empty_slice_172030 || forwards_ok_172061;
            bool protect_assert_disj_172065 = loop_not_taken_172056 || ok_or_empty_172064;
            bool index_certs_172066;
            
            if (!protect_assert_disj_172065) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172067 = cond_172012 || ok_or_empty_172064;
            bool index_certs_172068;
            
            if (!protect_assert_disj_172067) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:133:3-26\n   #12 ftsort.fut:132:1-133:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181219 = (int64_t) 8 * num_merges_172004;
            int64_t bytes_181220 = next_stride_172000 * binop_x_181219;
            bool i_lte_j_172011 = sle64((int64_t) 0, next_stride_172000);
            
            if (mem_181221_cached_sizze_182853 < bytes_181220) {
                err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_182853, bytes_181220);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181224_cached_sizze_182854 < bytes_181220) {
                err = lexical_realloc(ctx, &mem_181224, &mem_181224_cached_sizze_182854, bytes_181220);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181233 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021;
            int64_t binop_x_181249 = (int64_t) 8 * num_blocks_172020;
            int64_t bytes_181250 = merge_block_sizze_171887 * binop_x_181249;
            int64_t bytes_181295 = (int64_t) 16 * stride_171999;
            
            for (int64_t i_180828 = 0; i_180828 < num_merges_172004; i_180828++) {
                int64_t start_172072 = mul64(next_stride_172000, i_180828);
                int64_t j_m_i_172073 = sub64(loop_dz2084Uz2082U_171995, start_172072);
                bool empty_slice_172074 = j_m_i_172073 == (int64_t) 0;
                int64_t m_172075 = sub64(j_m_i_172073, (int64_t) 1);
                int64_t i_p_m_t_s_172076 = add64(start_172072, m_172075);
                bool zzero_leq_i_p_m_t_s_172077 = sle64((int64_t) 0, i_p_m_t_s_172076);
                bool i_p_m_t_s_leq_w_172078 = slt64(i_p_m_t_s_172076, loop_dz2084Uz2082U_171995);
                bool zzero_lte_i_172079 = sle64((int64_t) 0, start_172072);
                bool i_lte_j_172080 = sle64(start_172072, loop_dz2084Uz2082U_171995);
                bool y_172081 = i_p_m_t_s_leq_w_172078 && zzero_lte_i_172079;
                bool y_172082 = zzero_leq_i_p_m_t_s_172077 && y_172081;
                bool forwards_ok_172083 = i_lte_j_172080 && y_172082;
                bool ok_or_empty_172084 = empty_slice_172074 || forwards_ok_172083;
                bool index_certs_172085;
                
                if (!ok_or_empty_172084) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_172072, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171995, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172086 = slt64(m_172009, j_m_i_172073);
                bool y_172087 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172086;
                bool forwards_ok_172088 = i_lte_j_172011 && y_172087;
                bool ok_or_empty_172089 = zzero_172001 || forwards_ok_172088;
                bool index_certs_172090;
                
                if (!ok_or_empty_172089) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) j_m_i_172073, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:133:3-26\n   #9  ftsort.fut:132:1-133:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_172012) {
                    int64_t dummy_178681;
                    int64_t dummy_178682;
                    
                    if (cond_172032) {
                        int64_t head_res_178683 = ((int64_t *) mem_param_181215.mem)[start_172072];
                        int64_t head_res_178684 = ((int64_t *) mem_param_181218.mem)[start_172072];
                        
                        dummy_178681 = head_res_178683;
                        dummy_178682 = head_res_178684;
                    } else {
                        int64_t slice_178685 = stride_171999 + start_172072;
                        int64_t head_res_178686 = ((int64_t *) mem_param_181215.mem)[slice_178685];
                        int64_t head_res_178687 = ((int64_t *) mem_param_181218.mem)[slice_178685];
                        
                        dummy_178681 = head_res_178686;
                        dummy_178682 = head_res_178687;
                    }
                    if (memblock_alloc(ctx, &mem_181296, bytes_181295, "mem_181296")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182574 = 0; nest_i_182574 < next_stride_172000; nest_i_182574++) {
                        ((int64_t *) mem_181296.mem)[nest_i_182574] = dummy_178681;
                    }
                    if (memblock_alloc(ctx, &mem_181298, bytes_181295, "mem_181298")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182575 = 0; nest_i_182575 < next_stride_172000; nest_i_182575++) {
                        ((int64_t *) mem_181298.mem)[nest_i_182575] = dummy_178682;
                    }
                    
                    int64_t data_178690;
                    int64_t i_178694 = (int64_t) 0;
                    
                    for (int64_t k_178693 = 0; k_178693 < next_stride_172000; k_178693++) {
                        int64_t j_178697 = sub64(k_178693, i_178694);
                        bool cond_178698 = j_178697 == j_m_i_172022;
                        bool cond_178699;
                        
                        if (cond_178698) {
                            cond_178699 = 1;
                        } else {
                            bool cond_178700 = slt64(i_178694, stride_171999);
                            bool cond_f_res_178701;
                            
                            if (cond_178700) {
                                bool x_178702 = sle64((int64_t) 0, j_178697);
                                bool y_178703 = slt64(j_178697, j_m_i_172022);
                                bool bounds_check_178704 = x_178702 && y_178703;
                                bool index_certs_178705;
                                
                                if (!bounds_check_178704) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:133:3-26\n   #10 ftsort.fut:132:1-133:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178709 = sle64((int64_t) 0, i_178694);
                                bool bounds_check_178710 = cond_178700 && x_178709;
                                bool index_certs_178711;
                                
                                if (!bounds_check_178710) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:133:3-26\n   #10 ftsort.fut:132:1-133:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178706 = stride_171999 + j_178697;
                                int64_t slice_178707 = start_172072 + slice_178706;
                                int64_t leq_arg1_178708 = ((int64_t *) mem_param_181215.mem)[slice_178707];
                                int64_t slice_178712 = start_172072 + i_178694;
                                int64_t leq_arg0_178713 = ((int64_t *) mem_param_181215.mem)[slice_178712];
                                bool zlze_res_178714 = sle64(leq_arg0_178713, leq_arg1_178708);
                                
                                cond_f_res_178701 = zlze_res_178714;
                            } else {
                                cond_f_res_178701 = 0;
                            }
                            cond_178699 = cond_f_res_178701;
                        }
                        
                        int64_t loopres_178715;
                        int64_t loopres_178716;
                        int64_t loopres_178717;
                        
                        if (cond_178699) {
                            bool x_178719 = sle64((int64_t) 0, i_178694);
                            bool y_178720 = slt64(i_178694, stride_171999);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:133:3-26\n   #10 ftsort.fut:132:1-133:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178718 = add64((int64_t) 1, i_178694);
                            int64_t slice_178723 = start_172072 + i_178694;
                            int64_t tmp_178724 = ((int64_t *) mem_param_181215.mem)[slice_178723];
                            int64_t tmp_178725 = ((int64_t *) mem_param_181218.mem)[slice_178723];
                            
                            loopres_178715 = tmp_178718;
                            loopres_178716 = tmp_178724;
                            loopres_178717 = tmp_178725;
                        } else {
                            bool x_178726 = sle64((int64_t) 0, j_178697);
                            bool y_178727 = slt64(j_178697, j_m_i_172022);
                            bool bounds_check_178728 = x_178726 && y_178727;
                            bool index_certs_178729;
                            
                            if (!bounds_check_178728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:133:3-26\n   #10 ftsort.fut:132:1-133:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178730 = stride_171999 + j_178697;
                            int64_t slice_178731 = start_172072 + slice_178730;
                            int64_t tmp_178732 = ((int64_t *) mem_param_181215.mem)[slice_178731];
                            int64_t tmp_178733 = ((int64_t *) mem_param_181218.mem)[slice_178731];
                            
                            loopres_178715 = i_178694;
                            loopres_178716 = tmp_178732;
                            loopres_178717 = tmp_178733;
                        }
                        ((int64_t *) mem_181296.mem)[k_178693] = loopres_178716;
                        ((int64_t *) mem_181298.mem)[k_178693] = loopres_178717;
                        
                        int64_t i_tmp_182576 = loopres_178715;
                        
                        i_178694 = i_tmp_182576;
                    }
                    data_178690 = i_178694;
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181296, "mem_181296") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181298, "mem_181298") != 0)
                        return 1;
                } else {
                    if (mem_181234_cached_sizze_182855 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181234, &mem_181234_cached_sizze_182855, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181236_cached_sizze_182856 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182856, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180814 = 0; i_180814 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021; i_180814++) {
                        int64_t split_count_arg3_172152 = mul64(merge_block_sizze_171887, i_180814);
                        int64_t defunc_0_split_count_res_172153;
                        int64_t defunc_0_split_count_res_172154;
                        int64_t defunc_0_split_count_res_172155;
                        int64_t defunc_0_split_count_res_172156;
                        int64_t defunc_0_split_count_res_172157;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_172153, &defunc_0_split_count_res_172154, &defunc_0_split_count_res_172155, &defunc_0_split_count_res_172156, &defunc_0_split_count_res_172157, (int64_t) 0, stride_171999, (int64_t) 0, j_m_i_172022, split_count_arg3_172152) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172158 = slt64((int64_t) 0, defunc_0_split_count_res_172157);
                        bool defunc_0_split_count_res_172159;
                        int64_t defunc_0_split_count_res_172160;
                        int64_t defunc_0_split_count_res_172161;
                        int64_t defunc_0_split_count_res_172162;
                        int64_t defunc_0_split_count_res_172163;
                        int64_t defunc_0_split_count_res_172164;
                        bool loop_while_172165;
                        int64_t ss_172166;
                        int64_t ss_172167;
                        int64_t tt_172168;
                        int64_t tt_172169;
                        int64_t count_172170;
                        
                        loop_while_172165 = loop_cond_172158;
                        ss_172166 = defunc_0_split_count_res_172153;
                        ss_172167 = defunc_0_split_count_res_172154;
                        tt_172168 = defunc_0_split_count_res_172155;
                        tt_172169 = defunc_0_split_count_res_172156;
                        count_172170 = defunc_0_split_count_res_172157;
                        while (loop_while_172165) {
                            int64_t zlze_lhs_172171 = sub64(ss_172167, ss_172166);
                            bool cond_172172 = sle64(zlze_lhs_172171, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172173;
                            int64_t defunc_0_lifted_step_res_172174;
                            int64_t defunc_0_lifted_step_res_172175;
                            int64_t defunc_0_lifted_step_res_172176;
                            
                            if (cond_172172) {
                                int64_t tmp_178736 = add64(tt_172168, count_172170);
                                
                                defunc_0_lifted_step_res_172173 = ss_172166;
                                defunc_0_lifted_step_res_172174 = tmp_178736;
                                defunc_0_lifted_step_res_172175 = tt_172169;
                                defunc_0_lifted_step_res_172176 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172178 = sub64(tt_172169, tt_172168);
                                bool cond_172179 = sle64(zlze_lhs_172178, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172180;
                                int64_t defunc_0_lifted_step_res_f_res_172181;
                                int64_t defunc_0_lifted_step_res_f_res_172182;
                                int64_t defunc_0_lifted_step_res_f_res_172183;
                                
                                if (cond_172179) {
                                    int64_t tmp_178737 = add64(ss_172166, count_172170);
                                    
                                    defunc_0_lifted_step_res_f_res_172180 = tmp_178737;
                                    defunc_0_lifted_step_res_f_res_172181 = tt_172168;
                                    defunc_0_lifted_step_res_f_res_172182 = tt_172169;
                                    defunc_0_lifted_step_res_f_res_172183 = (int64_t) 0;
                                } else {
                                    bool cond_172185 = count_172170 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172186;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172187;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172188;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172189;
                                    
                                    if (cond_172185) {
                                        bool x_178739 = sle64((int64_t) 0, ss_172166);
                                        bool y_178740 = slt64(ss_172166, stride_171999);
                                        bool bounds_check_178741 = x_178739 && y_178740;
                                        bool index_certs_178742;
                                        
                                        if (!bounds_check_178741) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172166, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:133:3-26\n   #14 ftsort.fut:132:1-133:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178745 = sle64((int64_t) 0, tt_172168);
                                        bool y_178746 = slt64(tt_172168, j_m_i_172022);
                                        bool bounds_check_178747 = x_178745 && y_178746;
                                        bool index_certs_178748;
                                        
                                        if (!bounds_check_178747) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172168, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:133:3-26\n   #14 ftsort.fut:132:1-133:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178743 = start_172072 + ss_172166;
                                        int64_t leq_arg1_178744 = ((int64_t *) mem_param_181215.mem)[slice_178743];
                                        int64_t slice_178749 = stride_171999 + tt_172168;
                                        int64_t slice_178750 = start_172072 + slice_178749;
                                        int64_t leq_arg0_178751 = ((int64_t *) mem_param_181215.mem)[slice_178750];
                                        bool zlze_res_178752 = sle64(leq_arg0_178751, leq_arg1_178744);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        
                                        if (zlze_res_178752) {
                                            int64_t tmp_178755 = add64((int64_t) 1, tt_172168);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = ss_172166;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tmp_178755;
                                        } else {
                                            int64_t tmp_178756 = add64((int64_t) 1, ss_172166);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = tmp_178756;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tt_172168;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = tt_172169;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = (int64_t) 0;
                                    } else {
                                        int64_t m_172208 = sdiv64(count_172170, (int64_t) 2);
                                        int64_t n_172209 = sub64(count_172170, m_172208);
                                        bool cond_172210 = n_172209 == (int64_t) 0;
                                        int64_t zgze_lhs_172211 = add64(ss_172166, m_172208);
                                        bool cond_f_res_172212 = sle64(ss_172167, zgze_lhs_172211);
                                        bool x_172213 = !cond_172210;
                                        bool y_172214 = cond_f_res_172212 && x_172213;
                                        bool cond_172215 = cond_172210 || y_172214;
                                        bool leq_y_x_172216;
                                        
                                        if (cond_172215) {
                                            leq_y_x_172216 = 1;
                                        } else {
                                            bool x_172217 = sle64((int64_t) 0, zgze_lhs_172211);
                                            bool y_172218 = slt64(zgze_lhs_172211, stride_171999);
                                            bool bounds_check_172219 = x_172217 && y_172218;
                                            bool index_certs_172220;
                                            
                                            if (!bounds_check_172219) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172211, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:133:3-26\n   #14 ftsort.fut:132:1-133:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172223 = add64(tt_172168, n_172209);
                                            int64_t leq_arg0_172224 = sub64(zm_lhs_172223, (int64_t) 1);
                                            bool x_172225 = sle64((int64_t) 0, leq_arg0_172224);
                                            bool y_172226 = slt64(leq_arg0_172224, j_m_i_172022);
                                            bool bounds_check_172227 = x_172225 && y_172226;
                                            bool index_certs_172228;
                                            
                                            if (!bounds_check_172227) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172224, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:133:3-26\n   #14 ftsort.fut:132:1-133:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172221 = start_172072 + zgze_lhs_172211;
                                            int64_t leq_arg1_172222 = ((int64_t *) mem_param_181215.mem)[slice_172221];
                                            int64_t slice_172229 = stride_171999 + leq_arg0_172224;
                                            int64_t slice_172230 = start_172072 + slice_172229;
                                            int64_t leq_arg0_172231 = ((int64_t *) mem_param_181215.mem)[slice_172230];
                                            bool zlze_res_172232 = sle64(leq_arg0_172231, leq_arg1_172222);
                                            
                                            leq_y_x_172216 = zlze_res_172232;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                        
                                        if (leq_y_x_172216) {
                                            int64_t tmp_178757 = add64(tt_172168, n_172209);
                                            int64_t tmp_178758 = sub64(count_172170, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tmp_178757;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tt_172169;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = tmp_178758;
                                        } else {
                                            int64_t tmp_172238 = add64(tt_172168, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tt_172168;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tmp_172238;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = count_172170;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = ss_172166;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                    }
                                    defunc_0_lifted_step_res_f_res_172180 = defunc_0_lifted_step_res_f_res_f_res_172186;
                                    defunc_0_lifted_step_res_f_res_172181 = defunc_0_lifted_step_res_f_res_f_res_172187;
                                    defunc_0_lifted_step_res_f_res_172182 = defunc_0_lifted_step_res_f_res_f_res_172188;
                                    defunc_0_lifted_step_res_f_res_172183 = defunc_0_lifted_step_res_f_res_f_res_172189;
                                }
                                defunc_0_lifted_step_res_172173 = defunc_0_lifted_step_res_f_res_172180;
                                defunc_0_lifted_step_res_172174 = defunc_0_lifted_step_res_f_res_172181;
                                defunc_0_lifted_step_res_172175 = defunc_0_lifted_step_res_f_res_172182;
                                defunc_0_lifted_step_res_172176 = defunc_0_lifted_step_res_f_res_172183;
                            }
                            
                            int64_t loopres_172239;
                            int64_t loopres_172240;
                            int64_t loopres_172241;
                            int64_t loopres_172242;
                            int64_t loopres_172243;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_172239, &loopres_172240, &loopres_172241, &loopres_172242, &loopres_172243, defunc_0_lifted_step_res_172173, ss_172167, defunc_0_lifted_step_res_172174, defunc_0_lifted_step_res_172175, defunc_0_lifted_step_res_172176) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172244 = slt64((int64_t) 0, loopres_172243);
                            bool loop_while_tmp_182581 = loop_cond_172244;
                            int64_t ss_tmp_182582 = loopres_172239;
                            int64_t ss_tmp_182583 = loopres_172240;
                            int64_t tt_tmp_182584 = loopres_172241;
                            int64_t tt_tmp_182585 = loopres_172242;
                            int64_t count_tmp_182586 = loopres_172243;
                            
                            loop_while_172165 = loop_while_tmp_182581;
                            ss_172166 = ss_tmp_182582;
                            ss_172167 = ss_tmp_182583;
                            tt_172168 = tt_tmp_182584;
                            tt_172169 = tt_tmp_182585;
                            count_172170 = count_tmp_182586;
                        }
                        defunc_0_split_count_res_172159 = loop_while_172165;
                        defunc_0_split_count_res_172160 = ss_172166;
                        defunc_0_split_count_res_172161 = ss_172167;
                        defunc_0_split_count_res_172162 = tt_172168;
                        defunc_0_split_count_res_172163 = tt_172169;
                        defunc_0_split_count_res_172164 = count_172170;
                        ((int64_t *) mem_181234)[i_180814] = defunc_0_split_count_res_172160;
                        ((int64_t *) mem_181236)[i_180814] = defunc_0_split_count_res_172162;
                    }
                    if (mem_181251_cached_sizze_182857 < bytes_181250) {
                        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_182857, bytes_181250);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181254_cached_sizze_182858 < bytes_181250) {
                        err = lexical_realloc(ctx, &mem_181254, &mem_181254_cached_sizze_182858, bytes_181250);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180821 = 0; i_180821 < num_blocks_172020; i_180821++) {
                        bool y_172250 = slt64(i_180821, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool index_certs_172252;
                        
                        if (!y_172250) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180821, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:133:3-26\n   #11 ftsort.fut:132:1-133:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172253 = ((int64_t *) mem_181234)[i_180821];
                        int64_t defunc_0_f_res_172254 = ((int64_t *) mem_181236)[i_180821];
                        int64_t tmp_172255 = add64((int64_t) 1, i_180821);
                        bool x_172256 = sle64((int64_t) 0, tmp_172255);
                        bool y_172257 = slt64(tmp_172255, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool bounds_check_172258 = x_172256 && y_172257;
                        bool index_certs_172259;
                        
                        if (!bounds_check_172258) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172255, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:133:3-26\n   #11 ftsort.fut:132:1-133:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172260 = ((int64_t *) mem_181234)[tmp_172255];
                        int64_t defunc_0_f_res_172261 = ((int64_t *) mem_181236)[tmp_172255];
                        int64_t merge_sequential_arg2_172262 = add64(stride_171999, defunc_0_f_res_172254);
                        int64_t merge_sequential_arg2_172263 = add64(stride_171999, defunc_0_f_res_172261);
                        int64_t j_m_i_172264 = sub64(merge_sequential_arg2_172263, merge_sequential_arg2_172262);
                        bool empty_slice_172265 = j_m_i_172264 == (int64_t) 0;
                        int64_t m_172266 = sub64(j_m_i_172264, (int64_t) 1);
                        int64_t i_p_m_t_s_172267 = add64(merge_sequential_arg2_172262, m_172266);
                        bool zzero_leq_i_p_m_t_s_172268 = sle64((int64_t) 0, i_p_m_t_s_172267);
                        bool i_p_m_t_s_leq_w_172269 = slt64(i_p_m_t_s_172267, next_stride_172000);
                        bool zzero_lte_i_172270 = sle64((int64_t) 0, merge_sequential_arg2_172262);
                        bool i_lte_j_172271 = sle64(merge_sequential_arg2_172262, merge_sequential_arg2_172263);
                        bool y_172272 = i_p_m_t_s_leq_w_172269 && zzero_lte_i_172270;
                        bool y_172273 = zzero_leq_i_p_m_t_s_172268 && y_172272;
                        bool forwards_ok_172274 = i_lte_j_172271 && y_172273;
                        bool ok_or_empty_172275 = empty_slice_172265 || forwards_ok_172274;
                        bool index_certs_172276;
                        
                        if (!ok_or_empty_172275) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172262, ":", (long long) merge_sequential_arg2_172263, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:133:3-26\n   #11 ftsort.fut:132:1-133:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172277 = sub64(defunc_0_f_res_172260, defunc_0_f_res_172253);
                        bool empty_slice_172278 = j_m_i_172277 == (int64_t) 0;
                        int64_t m_172279 = sub64(j_m_i_172277, (int64_t) 1);
                        int64_t i_p_m_t_s_172280 = add64(defunc_0_f_res_172253, m_172279);
                        bool zzero_leq_i_p_m_t_s_172281 = sle64((int64_t) 0, i_p_m_t_s_172280);
                        bool i_p_m_t_s_leq_w_172282 = slt64(i_p_m_t_s_172280, next_stride_172000);
                        bool zzero_lte_i_172283 = sle64((int64_t) 0, defunc_0_f_res_172253);
                        bool i_lte_j_172284 = sle64(defunc_0_f_res_172253, defunc_0_f_res_172260);
                        bool y_172285 = i_p_m_t_s_leq_w_172282 && zzero_lte_i_172283;
                        bool y_172286 = zzero_leq_i_p_m_t_s_172281 && y_172285;
                        bool forwards_ok_172287 = i_lte_j_172284 && y_172286;
                        bool ok_or_empty_172288 = empty_slice_172278 || forwards_ok_172287;
                        bool index_certs_172289;
                        
                        if (!ok_or_empty_172288) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172253, ":", (long long) defunc_0_f_res_172260, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:133:3-26\n   #11 ftsort.fut:132:1-133:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172290 = slt64((int64_t) 0, j_m_i_172277);
                        int64_t dummy_172291;
                        int64_t dummy_172292;
                        
                        if (cond_172290) {
                            bool index_certs_178759;
                            
                            if (!cond_172290) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:172:54-57\n   #12 ftsort.fut:133:3-26\n   #13 ftsort.fut:132:1-133:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178760 = start_172072 + defunc_0_f_res_172253;
                            int64_t head_res_178761 = ((int64_t *) mem_param_181215.mem)[slice_178760];
                            int64_t head_res_178762 = ((int64_t *) mem_param_181218.mem)[slice_178760];
                            
                            dummy_172291 = head_res_178761;
                            dummy_172292 = head_res_178762;
                        } else {
                            bool y_172297 = slt64((int64_t) 0, j_m_i_172264);
                            bool index_certs_172298;
                            
                            if (!y_172297) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:172:54-57\n   #12 ftsort.fut:133:3-26\n   #13 ftsort.fut:132:1-133:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172299 = start_172072 + merge_sequential_arg2_172262;
                            int64_t head_res_172300 = ((int64_t *) mem_param_181215.mem)[slice_172299];
                            int64_t head_res_172301 = ((int64_t *) mem_param_181218.mem)[slice_172299];
                            
                            dummy_172291 = head_res_172300;
                            dummy_172292 = head_res_172301;
                        }
                        for (int64_t nest_i_182589 = 0; nest_i_182589 < merge_block_sizze_171887; nest_i_182589++) {
                            ((int64_t *) mem_181251)[i_180821 * merge_block_sizze_171887 + nest_i_182589] = dummy_172291;
                        }
                        for (int64_t nest_i_182590 = 0; nest_i_182590 < merge_block_sizze_171887; nest_i_182590++) {
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + nest_i_182590] = dummy_172292;
                        }
                        
                        int64_t data_172304;
                        int64_t i_172308 = (int64_t) 0;
                        
                        for (int64_t k_172307 = 0; k_172307 < merge_block_sizze_171887; k_172307++) {
                            int64_t j_172311 = sub64(k_172307, i_172308);
                            bool cond_172312 = j_172311 == j_m_i_172264;
                            bool cond_172313;
                            
                            if (cond_172312) {
                                cond_172313 = 1;
                            } else {
                                bool cond_172314 = slt64(i_172308, j_m_i_172277);
                                bool cond_f_res_172315;
                                
                                if (cond_172314) {
                                    bool x_178763 = sle64((int64_t) 0, j_172311);
                                    bool y_178764 = slt64(j_172311, j_m_i_172264);
                                    bool bounds_check_178765 = x_178763 && y_178764;
                                    bool index_certs_178766;
                                    
                                    if (!bounds_check_178765) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:133:3-26\n   #12 ftsort.fut:132:1-133:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178770 = sle64((int64_t) 0, i_172308);
                                    bool bounds_check_178771 = cond_172314 && x_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:133:3-26\n   #12 ftsort.fut:132:1-133:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178767 = merge_sequential_arg2_172262 + j_172311;
                                    int64_t slice_178768 = start_172072 + slice_178767;
                                    int64_t leq_arg1_178769 = ((int64_t *) mem_param_181215.mem)[slice_178768];
                                    int64_t slice_178773 = defunc_0_f_res_172253 + i_172308;
                                    int64_t slice_178774 = start_172072 + slice_178773;
                                    int64_t leq_arg0_178775 = ((int64_t *) mem_param_181215.mem)[slice_178774];
                                    bool zlze_res_178776 = sle64(leq_arg0_178775, leq_arg1_178769);
                                    
                                    cond_f_res_172315 = zlze_res_178776;
                                } else {
                                    cond_f_res_172315 = 0;
                                }
                                cond_172313 = cond_f_res_172315;
                            }
                            
                            int64_t loopres_172330;
                            int64_t loopres_172331;
                            int64_t loopres_172332;
                            
                            if (cond_172313) {
                                bool x_178778 = sle64((int64_t) 0, i_172308);
                                bool y_178779 = slt64(i_172308, j_m_i_172277);
                                bool bounds_check_178780 = x_178778 && y_178779;
                                bool index_certs_178781;
                                
                                if (!bounds_check_178780) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:133:3-26\n   #12 ftsort.fut:132:1-133:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178777 = add64((int64_t) 1, i_172308);
                                int64_t slice_178782 = defunc_0_f_res_172253 + i_172308;
                                int64_t slice_178783 = start_172072 + slice_178782;
                                int64_t tmp_178784 = ((int64_t *) mem_param_181215.mem)[slice_178783];
                                int64_t tmp_178785 = ((int64_t *) mem_param_181218.mem)[slice_178783];
                                
                                loopres_172330 = tmp_178777;
                                loopres_172331 = tmp_178784;
                                loopres_172332 = tmp_178785;
                            } else {
                                bool x_172342 = sle64((int64_t) 0, j_172311);
                                bool y_172343 = slt64(j_172311, j_m_i_172264);
                                bool bounds_check_172344 = x_172342 && y_172343;
                                bool index_certs_172345;
                                
                                if (!bounds_check_172344) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:133:3-26\n   #12 ftsort.fut:132:1-133:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172346 = merge_sequential_arg2_172262 + j_172311;
                                int64_t slice_172347 = start_172072 + slice_172346;
                                int64_t tmp_172348 = ((int64_t *) mem_param_181215.mem)[slice_172347];
                                int64_t tmp_172349 = ((int64_t *) mem_param_181218.mem)[slice_172347];
                                
                                loopres_172330 = i_172308;
                                loopres_172331 = tmp_172348;
                                loopres_172332 = tmp_172349;
                            }
                            ((int64_t *) mem_181251)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172331;
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172332;
                            
                            int64_t i_tmp_182591 = loopres_172330;
                            
                            i_172308 = i_tmp_182591;
                        }
                        data_172304 = i_172308;
                    }
                    if (memblock_alloc(ctx, &mem_181289, bytes_181250, "mem_181289")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181289.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint64_t *) mem_181251, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_alloc(ctx, &mem_181293, bytes_181250, "mem_181293")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181293.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint64_t *) mem_181254, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181289, "mem_181289") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181293, "mem_181293") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181221, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181316.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181224, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181313.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172356 = next_stride_172000 * num_merges_172004;
            
            if (memblock_alloc(ctx, &mem_181327, bytes_181220, "mem_181327")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181327.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint64_t *) mem_181221, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            if (memblock_alloc(ctx, &mem_181331, bytes_181220, "mem_181331")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181331.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint64_t *) mem_181224, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            
            bool loop_cond_172359 = slt64(next_stride_172000, flat_dim_171884);
            
            if (memblock_set(ctx, &mem_param_tmp_182565, &mem_181327, "mem_181327") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182566, &mem_181331, "mem_181331") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182567 = flat_dim_172356;
            bool loop_while_tmp_182568 = loop_cond_172359;
            int64_t stride_tmp_182571 = next_stride_172000;
            
            if (memblock_set(ctx, &mem_param_181215, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181218, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
                return 1;
            loop_dz2084Uz2082U_171995 = loop_dz2084Uz2082U_tmp_182567;
            loop_while_171996 = loop_while_tmp_182568;
            stride_171999 = stride_tmp_182571;
        }
        if (memblock_set(ctx, &ext_mem_181338, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181337, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        data_171990 = loop_dz2084Uz2082U_171995;
        data_171991 = loop_while_171996;
        data_171994 = stride_171999;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        
        bool empty_slice_172360 = n_103543 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172361 = sle64((int64_t) 0, zs_lhs_171868);
        bool i_p_m_t_s_leq_w_172362 = slt64(zs_lhs_171868, data_171990);
        bool y_172363 = zzero_leq_i_p_m_t_s_172361 && i_p_m_t_s_leq_w_172362;
        bool ok_or_empty_172364 = empty_slice_172360 || y_172363;
        bool index_certs_172365;
        
        if (!ok_or_empty_172364) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_103543, "] out of bounds for array of shape [", (long long) data_171990, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:172:54-57\n   #5  ftsort.fut:133:3-26\n   #6  ftsort.fut:132:1-133:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181341, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181343, bytes_181135, "mem_181343")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181345, bytes_181135, "mem_181345")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180835 = 0; i_180835 < n_103543; i_180835++) {
        int64_t eta_p_172369 = ((int64_t *) ext_mem_181341.mem)[i_180835];
        bool x_172370 = sle64((int64_t) 0, eta_p_172369);
        bool y_172371 = slt64(eta_p_172369, n_103543);
        bool bounds_check_172372 = x_172370 && y_172371;
        bool index_certs_172373;
        
        if (!bounds_check_172372) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172369, "] out of bounds for array of shape [", (long long) n_103543, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:133:3-26\n   #5  ftsort.fut:132:1-133:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172374 = ((int64_t *) ext_mem_181134.mem)[eta_p_172369];
        int64_t lifted_lambda_res_172375 = ((int64_t *) xs_mem_181133.mem)[eta_p_172369];
        
        ((int64_t *) mem_181343.mem)[i_180835] = lifted_lambda_res_172374;
        ((int64_t *) mem_181345.mem)[i_180835] = lifted_lambda_res_172375;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181343, "mem_181343") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181345, "mem_181345") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182847, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182848, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181139);
        free(mem_181142);
        free(mem_181152);
        free(mem_181154);
        free(mem_181221);
        free(mem_181224);
        free(mem_181234);
        free(mem_181236);
        free(mem_181251);
        free(mem_181254);
        if (memblock_unref(ctx, &mem_181345, "mem_181345") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181343, "mem_181343") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181327, "mem_181327") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181293, "mem_181293") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181289, "mem_181289") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181298, "mem_181298") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181296, "mem_181296") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181338, "ext_mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182859, struct memblock *mem_out_p_182860, struct memblock xs_mem_181133, int64_t n_98856, int64_t incr_98857)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181139_cached_sizze_182861 = 0;
    unsigned char *mem_181139 = NULL;
    int64_t mem_181142_cached_sizze_182862 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181152_cached_sizze_182863 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_182864 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181221_cached_sizze_182865 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181224_cached_sizze_182866 = 0;
    unsigned char *mem_181224 = NULL;
    int64_t mem_181234_cached_sizze_182867 = 0;
    unsigned char *mem_181234 = NULL;
    int64_t mem_181236_cached_sizze_182868 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181251_cached_sizze_182869 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181254_cached_sizze_182870 = 0;
    unsigned char *mem_181254 = NULL;
    struct memblock mem_181345;
    
    mem_181345.references = NULL;
    
    struct memblock mem_181343;
    
    mem_181343.references = NULL;
    
    struct memblock mem_param_tmp_182566;
    
    mem_param_tmp_182566.references = NULL;
    
    struct memblock mem_param_tmp_182565;
    
    mem_param_tmp_182565.references = NULL;
    
    struct memblock mem_181331;
    
    mem_181331.references = NULL;
    
    struct memblock mem_181327;
    
    mem_181327.references = NULL;
    
    struct memblock mem_181293;
    
    mem_181293.references = NULL;
    
    struct memblock mem_181289;
    
    mem_181289.references = NULL;
    
    struct memblock mem_181298;
    
    mem_181298.references = NULL;
    
    struct memblock mem_181296;
    
    mem_181296.references = NULL;
    
    struct memblock ext_mem_181313;
    
    ext_mem_181313.references = NULL;
    
    struct memblock ext_mem_181316;
    
    ext_mem_181316.references = NULL;
    
    struct memblock mem_param_181218;
    
    mem_param_181218.references = NULL;
    
    struct memblock mem_param_181215;
    
    mem_param_181215.references = NULL;
    
    struct memblock ext_mem_181337;
    
    ext_mem_181337.references = NULL;
    
    struct memblock ext_mem_181338;
    
    ext_mem_181338.references = NULL;
    
    struct memblock mem_181211;
    
    mem_181211.references = NULL;
    
    struct memblock mem_181207;
    
    mem_181207.references = NULL;
    
    struct memblock ext_mem_181341;
    
    ext_mem_181341.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_98856;
    bool cond_171867 = sle64(n_98856, (int64_t) 1);
    int64_t zs_lhs_171868 = sub64(n_98856, (int64_t) 1);
    int64_t zp_rhs_171869 = sdiv_safe64(zs_lhs_171868, (int64_t) 20);
    int64_t min_num_blocks_171870 = add64((int64_t) 1, zp_rhs_171869);
    bool loop_cond_171871 = slt64((int64_t) 1, min_num_blocks_171870);
    bool smallest_pow_2_geq_than_res_171872;
    int64_t smallest_pow_2_geq_than_res_171873;
    bool loop_while_171874;
    int64_t x_171875;
    
    loop_while_171874 = loop_cond_171871;
    x_171875 = (int64_t) 1;
    while (loop_while_171874) {
        int64_t loopres_171876 = mul64((int64_t) 2, x_171875);
        bool loop_cond_171877 = slt64(loopres_171876, min_num_blocks_171870);
        bool loop_while_tmp_182549 = loop_cond_171877;
        int64_t x_tmp_182550 = loopres_171876;
        
        loop_while_171874 = loop_while_tmp_182549;
        x_171875 = x_tmp_182550;
    }
    smallest_pow_2_geq_than_res_171872 = loop_while_171874;
    smallest_pow_2_geq_than_res_171873 = x_171875;
    
    bool zzero_171878 = smallest_pow_2_geq_than_res_171873 == (int64_t) 0;
    bool nonzzero_171879 = !zzero_171878;
    bool protect_assert_disj_171880 = cond_171867 || nonzzero_171879;
    bool nonzzero_cert_171881;
    
    if (!protect_assert_disj_171880) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:127:3-27\n   #5  ftsort.fut:126:1-127:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171882 = sdiv_safe64(zs_lhs_171868, smallest_pow_2_geq_than_res_171873);
    int64_t block_sizze_171883 = add64((int64_t) 1, zp_rhs_171882);
    bool y_171888 = slt64((int64_t) 0, n_98856);
    bool protect_assert_disj_182246 = cond_171867 || y_171888;
    bool index_certs_171889;
    
    if (!protect_assert_disj_182246) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_98856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:127:3-27\n   #5  ftsort.fut:126:1-127:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171902 = slt64(smallest_pow_2_geq_than_res_171873, (int64_t) 0);
    bool valid_171903 = !bounds_invalid_upwards_171902;
    bool protect_assert_disj_182254 = cond_171867 || valid_171903;
    bool range_valid_c_171904;
    
    if (!protect_assert_disj_182254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171873, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:172:54-57\n   #6  ftsort.fut:127:3-27\n   #7  ftsort.fut:126:1-127:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171906 = slt64(block_sizze_171883, (int64_t) 0);
    bool valid_171907 = !bounds_invalid_upwards_171906;
    bool protect_assert_disj_182256 = cond_171867 || valid_171907;
    bool range_valid_c_171908;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171883, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:127:3-27\n   #10 ftsort.fut:126:1-127:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171910 = sle64(block_sizze_171883, (int64_t) 1);
    int64_t tmp_171911 = sub64(block_sizze_171883, (int64_t) 2);
    bool bounds_invalid_upwards_171912 = slt64(tmp_171911, (int64_t) 0);
    bool valid_171914 = !bounds_invalid_upwards_171912;
    bool protect_assert_disj_171915 = cond_171910 || valid_171914;
    bool protect_assert_disj_182258 = cond_171867 || protect_assert_disj_171915;
    bool range_valid_c_171916;
    
    if (!protect_assert_disj_182258) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171911, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181344 = (int64_t) 2 * n_98856;
    
    if (futrts_indicesWithIncrement_9225(ctx, &ext_mem_181134, xs_mem_181133, n_98856, incr_98857) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182551 = 0; i_182551 < n_98856; i_182551++) {
        int64_t x_182552 = (int64_t) 0 + i_182551 * (int64_t) 1;
        
        ((int64_t *) mem_181136.mem)[i_182551] = x_182552;
    }
    
    int64_t flat_dim_171884 = smallest_pow_2_geq_than_res_171873 * block_sizze_171883;
    bool x_182241 = !cond_171867;
    int64_t greatest_divisor_leq_than_arg1_171886 = mul64((int64_t) 2, block_sizze_171883);
    int64_t merge_block_sizze_171887;
    
    if (x_182241) {
        int64_t x_182243;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182243, (int64_t) 8, greatest_divisor_leq_than_arg1_171886) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171887 = x_182243;
    } else {
        merge_block_sizze_171887 = (int64_t) 0;
    }
    
    int16_t reduce_arg1_171890;
    
    if (x_182241) {
        int16_t x_182247 = ((int16_t *) xs_mem_181133.mem)[(int64_t) 0];
        
        reduce_arg1_171890 = x_182247;
    } else {
        reduce_arg1_171890 = (int16_t) 0;
    }
    
    int16_t defunc_0_reduce_res_178792;
    int64_t defunc_0_reduce_res_178793;
    
    if (x_182241) {
        int16_t x_182249;
        int64_t x_182250;
        int16_t redout_180793;
        int64_t redout_180794;
        
        redout_180793 = reduce_arg1_171890;
        redout_180794 = (int64_t) 0;
        for (int64_t i_180795 = 0; i_180795 < n_98856; i_180795++) {
            int16_t x_171893 = ((int16_t *) xs_mem_181133.mem)[i_180795];
            bool zlze_res_171899 = sle16(redout_180793, x_171893);
            int16_t defunc_0_op_res_171900;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171900 = x_171893;
            } else {
                defunc_0_op_res_171900 = redout_180793;
            }
            
            int64_t defunc_0_op_res_171901;
            
            if (zlze_res_171899) {
                defunc_0_op_res_171901 = i_180795;
            } else {
                defunc_0_op_res_171901 = redout_180794;
            }
            
            int16_t redout_tmp_182553 = defunc_0_op_res_171900;
            int64_t redout_tmp_182554 = defunc_0_op_res_171901;
            
            redout_180793 = redout_tmp_182553;
            redout_180794 = redout_tmp_182554;
        }
        x_182249 = redout_180793;
        x_182250 = redout_180794;
        defunc_0_reduce_res_178792 = x_182249;
        defunc_0_reduce_res_178793 = x_182250;
    } else {
        defunc_0_reduce_res_178792 = (int16_t) 0;
        defunc_0_reduce_res_178793 = (int64_t) 0;
    }
    
    int64_t distance_171913 = add64((int64_t) 1, tmp_171911);
    int64_t binop_x_181137 = (int64_t) 2 * smallest_pow_2_geq_than_res_171873;
    int64_t bytes_181138 = block_sizze_171883 * binop_x_181137;
    int64_t binop_x_181140 = (int64_t) 8 * smallest_pow_2_geq_than_res_171873;
    int64_t bytes_181141 = block_sizze_171883 * binop_x_181140;
    int64_t bytes_181153 = (int64_t) 8 * block_sizze_171883;
    bool loop_cond_171987 = slt64(block_sizze_171883, flat_dim_171884);
    bool zzero_171988 = merge_block_sizze_171887 == (int64_t) 0;
    bool nonzzero_171989 = !zzero_171988;
    
    if (cond_171867) {
        if (memblock_set(ctx, &ext_mem_181341, &mem_181136, "mem_181136") != 0)
            return 1;
    } else {
        if (mem_181139_cached_sizze_182861 < bytes_181138) {
            err = lexical_realloc(ctx, &mem_181139, &mem_181139_cached_sizze_182861, bytes_181138);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181142_cached_sizze_182862 < bytes_181141) {
            err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_182862, bytes_181141);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181152_cached_sizze_182863 < greatest_divisor_leq_than_arg1_171886) {
            err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_182863, greatest_divisor_leq_than_arg1_171886);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181154_cached_sizze_182864 < bytes_181153) {
            err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_182864, bytes_181153);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180807 = 0; i_180807 < smallest_pow_2_geq_than_res_171873; i_180807++) {
            int64_t zp_lhs_171920 = mul64(block_sizze_171883, i_180807);
            
            for (int64_t i_180800 = 0; i_180800 < block_sizze_171883; i_180800++) {
                int64_t k_171924 = add64(zp_lhs_171920, i_180800);
                bool cond_171925 = slt64(k_171924, n_98856);
                int16_t lifted_lambda_res_171926;
                int64_t lifted_lambda_res_171927;
                
                if (cond_171925) {
                    bool x_178645 = sle64((int64_t) 0, k_171924);
                    bool bounds_check_178646 = cond_171925 && x_178645;
                    bool index_certs_178647;
                    
                    if (!bounds_check_178646) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171924, "] out of bounds for array of shape [", (long long) n_98856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:127:3-27\n   #11 ftsort.fut:126:1-127:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t lifted_lambda_res_t_res_178648 = ((int16_t *) xs_mem_181133.mem)[k_171924];
                    
                    lifted_lambda_res_171926 = lifted_lambda_res_t_res_178648;
                    lifted_lambda_res_171927 = k_171924;
                } else {
                    lifted_lambda_res_171926 = defunc_0_reduce_res_178792;
                    lifted_lambda_res_171927 = defunc_0_reduce_res_178793;
                }
                ((int16_t *) mem_181152)[i_180800] = lifted_lambda_res_171926;
                ((int64_t *) mem_181154)[i_180800] = lifted_lambda_res_171927;
            }
            if (!cond_171910) {
                for (int64_t i_171936 = 0; i_171936 < distance_171913; i_171936++) {
                    int64_t gt_arg1_171939 = add64((int64_t) 1, i_171936);
                    bool x_171940 = sle64((int64_t) 0, gt_arg1_171939);
                    bool y_171941 = slt64(gt_arg1_171939, block_sizze_171883);
                    bool bounds_check_171942 = x_171940 && y_171941;
                    bool index_certs_171943;
                    
                    if (!bounds_check_171942) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171939, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171945 = slt64(i_171936, block_sizze_171883);
                    bool index_certs_171946;
                    
                    if (!y_171945) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171936, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t gt_arg1_171944 = ((int16_t *) mem_181152)[gt_arg1_171939];
                    int16_t gt_arg0_171947 = ((int16_t *) mem_181152)[i_171936];
                    bool zlze_res_171948 = sle16(gt_arg0_171947, gt_arg1_171944);
                    bool defunc_0_lifted_gt_res_171949 = !zlze_res_171948;
                    bool s_171950;
                    int64_t s_171953;
                    bool loop_while_171954;
                    int64_t j_171957;
                    
                    loop_while_171954 = defunc_0_lifted_gt_res_171949;
                    j_171957 = i_171936;
                    while (loop_while_171954) {
                        bool x_171958 = sle64((int64_t) 0, j_171957);
                        bool y_171959 = slt64(j_171957, block_sizze_171883);
                        bool bounds_check_171960 = x_171958 && y_171959;
                        bool index_certs_171961;
                        
                        if (!bounds_check_171960) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171957, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171964 = add64((int64_t) 1, j_171957);
                        bool x_171965 = sle64((int64_t) 0, copy_arg0_171964);
                        bool y_171966 = slt64(copy_arg0_171964, block_sizze_171883);
                        bool bounds_check_171967 = x_171965 && y_171966;
                        bool index_certs_171968;
                        
                        if (!bounds_check_171967) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171964, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int16_t copy_arg0_171962 = ((int16_t *) mem_181152)[j_171957];
                        int64_t copy_arg0_171963 = ((int64_t *) mem_181154)[j_171957];
                        int16_t copy_arg0_171969 = ((int16_t *) mem_181152)[copy_arg0_171964];
                        int64_t copy_arg0_171970 = ((int64_t *) mem_181154)[copy_arg0_171964];
                        
                        ((int16_t *) mem_181152)[j_171957] = copy_arg0_171969;
                        ((int64_t *) mem_181154)[j_171957] = copy_arg0_171970;
                        ((int16_t *) mem_181152)[copy_arg0_171964] = copy_arg0_171962;
                        ((int64_t *) mem_181154)[copy_arg0_171964] = copy_arg0_171963;
                        
                        int64_t tmp_171975 = sub64(j_171957, (int64_t) 1);
                        bool cond_171976 = sle64((int64_t) 0, tmp_171975);
                        bool loop_cond_171977;
                        
                        if (cond_171976) {
                            bool y_178650 = slt64(tmp_171975, block_sizze_171883);
                            bool bounds_check_178651 = cond_171976 && y_178650;
                            bool index_certs_178652;
                            
                            if (!bounds_check_178651) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171975, "] out of bounds for array of shape [", (long long) block_sizze_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t gt_arg1_178649 = ((int16_t *) mem_181152)[j_171957];
                            int16_t gt_arg0_178653 = ((int16_t *) mem_181152)[tmp_171975];
                            bool zlze_res_178654 = sle16(gt_arg0_178653, gt_arg1_178649);
                            bool defunc_0_lifted_gt_res_178655 = !zlze_res_178654;
                            
                            loop_cond_171977 = defunc_0_lifted_gt_res_178655;
                        } else {
                            loop_cond_171977 = 0;
                        }
                        
                        bool loop_while_tmp_182561 = loop_cond_171977;
                        int64_t j_tmp_182564 = tmp_171975;
                        
                        loop_while_171954 = loop_while_tmp_182561;
                        j_171957 = j_tmp_182564;
                    }
                    s_171950 = loop_while_171954;
                    s_171953 = j_171957;
                }
            }
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181139, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181152, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181142, i_180807 * block_sizze_171883, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181154, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171883});
        }
        if (memblock_alloc(ctx, &mem_181207, bytes_181138, "mem_181207")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181207.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint16_t *) mem_181139, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        if (memblock_alloc(ctx, &mem_181211, bytes_181141, "mem_181211")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181211.mem, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (uint64_t *) mem_181142, (int64_t) 0, (int64_t []) {block_sizze_171883, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171873, block_sizze_171883});
        
        int64_t data_171990;
        bool data_171991;
        int64_t data_171994;
        int64_t loop_dz2084Uz2082U_171995;
        bool loop_while_171996;
        int64_t stride_171999;
        
        if (memblock_set(ctx, &mem_param_181215, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181218, &mem_181211, "mem_181211") != 0)
            return 1;
        loop_dz2084Uz2082U_171995 = flat_dim_171884;
        loop_while_171996 = loop_cond_171987;
        stride_171999 = block_sizze_171883;
        while (loop_while_171996) {
            int64_t next_stride_172000 = mul64((int64_t) 2, stride_171999);
            bool zzero_172001 = next_stride_172000 == (int64_t) 0;
            bool nonzzero_172002 = !zzero_172001;
            bool nonzzero_cert_172003;
            
            if (!nonzzero_172002) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:127:3-27\n   #5  ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_172004 = sdiv64(flat_dim_171884, next_stride_172000);
            bool bounds_invalid_upwards_172005 = slt64(num_merges_172004, (int64_t) 0);
            bool valid_172006 = !bounds_invalid_upwards_172005;
            bool range_valid_c_172007;
            
            if (!valid_172006) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_172004, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:172:54-57\n   #6  ftsort.fut:127:3-27\n   #7  ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_172009 = sub64(next_stride_172000, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_172010 = sle64((int64_t) 0, m_172009);
            bool cond_172012 = slt64(next_stride_172000, (int64_t) 10);
            bool protect_assert_disj_172013 = nonzzero_171989 || cond_172012;
            bool nonzzero_cert_172014;
            
            if (!protect_assert_disj_172013) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_172015 = smod_safe64(next_stride_172000, merge_block_sizze_171887);
            bool num_blocks_172016 = zeze_lhs_172015 == (int64_t) 0;
            bool protect_assert_disj_172017 = cond_172012 || num_blocks_172016;
            bool assert_c_172018;
            
            if (!protect_assert_disj_172017) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_172020 = sdiv_safe64(next_stride_172000, merge_block_sizze_171887);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021 = add64((int64_t) 1, num_blocks_172020);
            int64_t j_m_i_172022 = sub64(next_stride_172000, stride_171999);
            int64_t flat_dim_172023 = merge_block_sizze_171887 * num_blocks_172020;
            bool bounds_invalid_upwards_172024 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, (int64_t) 0);
            bool zzero_lte_i_172025 = sle64((int64_t) 0, stride_171999);
            bool i_lte_j_172026 = sle64(stride_171999, next_stride_172000);
            bool empty_slice_172027 = stride_171999 == (int64_t) 0;
            int64_t m_172028 = sub64(stride_171999, (int64_t) 1);
            bool bounds_invalid_upwards_172029 = slt64(num_blocks_172020, (int64_t) 0);
            bool empty_slice_172030 = j_m_i_172022 == (int64_t) 0;
            int64_t m_172031 = sub64(j_m_i_172022, (int64_t) 1);
            bool cond_172032 = slt64((int64_t) 0, stride_171999);
            bool valid_172033 = !bounds_invalid_upwards_172024;
            bool zzero_leq_i_p_m_t_s_172034 = sle64((int64_t) 0, m_172028);
            bool i_p_m_t_s_leq_w_172035 = slt64(m_172028, next_stride_172000);
            bool valid_172036 = !bounds_invalid_upwards_172029;
            bool i_p_m_t_s_leq_w_172037 = slt64(m_172009, flat_dim_172023);
            int64_t i_p_m_t_s_172038 = add64(stride_171999, m_172031);
            bool y_172039 = slt64((int64_t) 0, j_m_i_172022);
            bool protect_assert_disj_172040 = cond_172012 || valid_172033;
            bool range_valid_c_172041;
            
            if (!protect_assert_disj_172040) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:127:3-27\n   #11 ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172042 = zzero_leq_i_p_m_t_s_172034 && i_p_m_t_s_leq_w_172035;
            bool protect_assert_disj_172043 = cond_172012 || valid_172036;
            bool range_valid_c_172044;
            
            if (!protect_assert_disj_172043) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_172020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:127:3-27\n   #10 ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172045 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172037;
            bool zzero_leq_i_p_m_t_s_172046 = sle64((int64_t) 0, i_p_m_t_s_172038);
            bool i_p_m_t_s_leq_w_172047 = slt64(i_p_m_t_s_172038, next_stride_172000);
            bool forwards_ok_172048 = zzero_lte_i_172025 && y_172042;
            bool ok_or_empty_172049 = zzero_172001 || y_172045;
            bool y_172050 = zzero_lte_i_172025 && i_p_m_t_s_leq_w_172047;
            bool protect_assert_disj_172051 = cond_172032 || y_172039;
            bool ok_or_empty_172052 = empty_slice_172027 || forwards_ok_172048;
            bool protect_assert_disj_172053 = cond_172012 || ok_or_empty_172049;
            bool index_certs_172054;
            
            if (!protect_assert_disj_172053) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) flat_dim_172023, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:127:3-27\n   #10 ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_172055 = zzero_leq_i_p_m_t_s_172046 && y_172050;
            bool loop_not_taken_172056 = !cond_172012;
            bool protect_assert_disj_172057 = protect_assert_disj_172051 || loop_not_taken_172056;
            bool index_certs_172058;
            
            if (!protect_assert_disj_172057) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:127:3-27\n   #11 ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172059 = cond_172012 || ok_or_empty_172052;
            bool index_certs_172060;
            
            if (!protect_assert_disj_172059) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:127:3-27\n   #12 ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_172061 = i_lte_j_172026 && y_172055;
            bool protect_assert_disj_172062 = ok_or_empty_172052 || loop_not_taken_172056;
            bool index_certs_172063;
            
            if (!protect_assert_disj_172062) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171999, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_172064 = empty_slice_172030 || forwards_ok_172061;
            bool protect_assert_disj_172065 = loop_not_taken_172056 || ok_or_empty_172064;
            bool index_certs_172066;
            
            if (!protect_assert_disj_172065) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_172067 = cond_172012 || ok_or_empty_172064;
            bool index_certs_172068;
            
            if (!protect_assert_disj_172067) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171999, ":] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:127:3-27\n   #12 ftsort.fut:126:1-127:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181219 = (int64_t) 2 * num_merges_172004;
            int64_t bytes_181220 = next_stride_172000 * binop_x_181219;
            int64_t binop_x_181222 = (int64_t) 8 * num_merges_172004;
            int64_t bytes_181223 = next_stride_172000 * binop_x_181222;
            bool i_lte_j_172011 = sle64((int64_t) 0, next_stride_172000);
            
            if (mem_181221_cached_sizze_182865 < bytes_181220) {
                err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_182865, bytes_181220);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181224_cached_sizze_182866 < bytes_181223) {
                err = lexical_realloc(ctx, &mem_181224, &mem_181224_cached_sizze_182866, bytes_181223);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181233 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021;
            int64_t binop_x_181249 = (int64_t) 2 * num_blocks_172020;
            int64_t bytes_181250 = merge_block_sizze_171887 * binop_x_181249;
            int64_t binop_x_181252 = (int64_t) 8 * num_blocks_172020;
            int64_t bytes_181253 = merge_block_sizze_171887 * binop_x_181252;
            int64_t bytes_181295 = (int64_t) 4 * stride_171999;
            int64_t bytes_181297 = (int64_t) 16 * stride_171999;
            
            for (int64_t i_180828 = 0; i_180828 < num_merges_172004; i_180828++) {
                int64_t start_172072 = mul64(next_stride_172000, i_180828);
                int64_t j_m_i_172073 = sub64(loop_dz2084Uz2082U_171995, start_172072);
                bool empty_slice_172074 = j_m_i_172073 == (int64_t) 0;
                int64_t m_172075 = sub64(j_m_i_172073, (int64_t) 1);
                int64_t i_p_m_t_s_172076 = add64(start_172072, m_172075);
                bool zzero_leq_i_p_m_t_s_172077 = sle64((int64_t) 0, i_p_m_t_s_172076);
                bool i_p_m_t_s_leq_w_172078 = slt64(i_p_m_t_s_172076, loop_dz2084Uz2082U_171995);
                bool zzero_lte_i_172079 = sle64((int64_t) 0, start_172072);
                bool i_lte_j_172080 = sle64(start_172072, loop_dz2084Uz2082U_171995);
                bool y_172081 = i_p_m_t_s_leq_w_172078 && zzero_lte_i_172079;
                bool y_172082 = zzero_leq_i_p_m_t_s_172077 && y_172081;
                bool forwards_ok_172083 = i_lte_j_172080 && y_172082;
                bool ok_or_empty_172084 = empty_slice_172074 || forwards_ok_172083;
                bool index_certs_172085;
                
                if (!ok_or_empty_172084) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_172072, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171995, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_172086 = slt64(m_172009, j_m_i_172073);
                bool y_172087 = zzero_leq_i_p_m_t_s_172010 && i_p_m_t_s_leq_w_172086;
                bool forwards_ok_172088 = i_lte_j_172011 && y_172087;
                bool ok_or_empty_172089 = zzero_172001 || forwards_ok_172088;
                bool index_certs_172090;
                
                if (!ok_or_empty_172089) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_172000, "] out of bounds for array of shape [", (long long) j_m_i_172073, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:172:54-57\n   #8  ftsort.fut:127:3-27\n   #9  ftsort.fut:126:1-127:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_172012) {
                    int16_t dummy_178681;
                    int64_t dummy_178682;
                    
                    if (cond_172032) {
                        int16_t head_res_178683 = ((int16_t *) mem_param_181215.mem)[start_172072];
                        int64_t head_res_178684 = ((int64_t *) mem_param_181218.mem)[start_172072];
                        
                        dummy_178681 = head_res_178683;
                        dummy_178682 = head_res_178684;
                    } else {
                        int64_t slice_178685 = stride_171999 + start_172072;
                        int16_t head_res_178686 = ((int16_t *) mem_param_181215.mem)[slice_178685];
                        int64_t head_res_178687 = ((int64_t *) mem_param_181218.mem)[slice_178685];
                        
                        dummy_178681 = head_res_178686;
                        dummy_178682 = head_res_178687;
                    }
                    if (memblock_alloc(ctx, &mem_181296, bytes_181295, "mem_181296")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182574 = 0; nest_i_182574 < next_stride_172000; nest_i_182574++) {
                        ((int16_t *) mem_181296.mem)[nest_i_182574] = dummy_178681;
                    }
                    if (memblock_alloc(ctx, &mem_181298, bytes_181297, "mem_181298")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182575 = 0; nest_i_182575 < next_stride_172000; nest_i_182575++) {
                        ((int64_t *) mem_181298.mem)[nest_i_182575] = dummy_178682;
                    }
                    
                    int64_t data_178690;
                    int64_t i_178694 = (int64_t) 0;
                    
                    for (int64_t k_178693 = 0; k_178693 < next_stride_172000; k_178693++) {
                        int64_t j_178697 = sub64(k_178693, i_178694);
                        bool cond_178698 = j_178697 == j_m_i_172022;
                        bool cond_178699;
                        
                        if (cond_178698) {
                            cond_178699 = 1;
                        } else {
                            bool cond_178700 = slt64(i_178694, stride_171999);
                            bool cond_f_res_178701;
                            
                            if (cond_178700) {
                                bool x_178702 = sle64((int64_t) 0, j_178697);
                                bool y_178703 = slt64(j_178697, j_m_i_172022);
                                bool bounds_check_178704 = x_178702 && y_178703;
                                bool index_certs_178705;
                                
                                if (!bounds_check_178704) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:127:3-27\n   #10 ftsort.fut:126:1-127:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178709 = sle64((int64_t) 0, i_178694);
                                bool bounds_check_178710 = cond_178700 && x_178709;
                                bool index_certs_178711;
                                
                                if (!bounds_check_178710) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:127:3-27\n   #10 ftsort.fut:126:1-127:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178706 = stride_171999 + j_178697;
                                int64_t slice_178707 = start_172072 + slice_178706;
                                int16_t leq_arg1_178708 = ((int16_t *) mem_param_181215.mem)[slice_178707];
                                int64_t slice_178712 = start_172072 + i_178694;
                                int16_t leq_arg0_178713 = ((int16_t *) mem_param_181215.mem)[slice_178712];
                                bool zlze_res_178714 = sle16(leq_arg0_178713, leq_arg1_178708);
                                
                                cond_f_res_178701 = zlze_res_178714;
                            } else {
                                cond_f_res_178701 = 0;
                            }
                            cond_178699 = cond_f_res_178701;
                        }
                        
                        int64_t loopres_178715;
                        int16_t loopres_178716;
                        int64_t loopres_178717;
                        
                        if (cond_178699) {
                            bool x_178719 = sle64((int64_t) 0, i_178694);
                            bool y_178720 = slt64(i_178694, stride_171999);
                            bool bounds_check_178721 = x_178719 && y_178720;
                            bool index_certs_178722;
                            
                            if (!bounds_check_178721) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178694, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:127:3-27\n   #10 ftsort.fut:126:1-127:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178718 = add64((int64_t) 1, i_178694);
                            int64_t slice_178723 = start_172072 + i_178694;
                            int16_t tmp_178724 = ((int16_t *) mem_param_181215.mem)[slice_178723];
                            int64_t tmp_178725 = ((int64_t *) mem_param_181218.mem)[slice_178723];
                            
                            loopres_178715 = tmp_178718;
                            loopres_178716 = tmp_178724;
                            loopres_178717 = tmp_178725;
                        } else {
                            bool x_178726 = sle64((int64_t) 0, j_178697);
                            bool y_178727 = slt64(j_178697, j_m_i_172022);
                            bool bounds_check_178728 = x_178726 && y_178727;
                            bool index_certs_178729;
                            
                            if (!bounds_check_178728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178697, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:172:54-57\n   #9  ftsort.fut:127:3-27\n   #10 ftsort.fut:126:1-127:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178730 = stride_171999 + j_178697;
                            int64_t slice_178731 = start_172072 + slice_178730;
                            int16_t tmp_178732 = ((int16_t *) mem_param_181215.mem)[slice_178731];
                            int64_t tmp_178733 = ((int64_t *) mem_param_181218.mem)[slice_178731];
                            
                            loopres_178715 = i_178694;
                            loopres_178716 = tmp_178732;
                            loopres_178717 = tmp_178733;
                        }
                        ((int16_t *) mem_181296.mem)[k_178693] = loopres_178716;
                        ((int64_t *) mem_181298.mem)[k_178693] = loopres_178717;
                        
                        int64_t i_tmp_182576 = loopres_178715;
                        
                        i_178694 = i_tmp_182576;
                    }
                    data_178690 = i_178694;
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181296, "mem_181296") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181298, "mem_181298") != 0)
                        return 1;
                } else {
                    if (mem_181234_cached_sizze_182867 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181234, &mem_181234_cached_sizze_182867, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181236_cached_sizze_182868 < bytes_181233) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182868, bytes_181233);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180814 = 0; i_180814 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021; i_180814++) {
                        int64_t split_count_arg3_172152 = mul64(merge_block_sizze_171887, i_180814);
                        int64_t defunc_0_split_count_res_172153;
                        int64_t defunc_0_split_count_res_172154;
                        int64_t defunc_0_split_count_res_172155;
                        int64_t defunc_0_split_count_res_172156;
                        int64_t defunc_0_split_count_res_172157;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_172153, &defunc_0_split_count_res_172154, &defunc_0_split_count_res_172155, &defunc_0_split_count_res_172156, &defunc_0_split_count_res_172157, (int64_t) 0, stride_171999, (int64_t) 0, j_m_i_172022, split_count_arg3_172152) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172158 = slt64((int64_t) 0, defunc_0_split_count_res_172157);
                        bool defunc_0_split_count_res_172159;
                        int64_t defunc_0_split_count_res_172160;
                        int64_t defunc_0_split_count_res_172161;
                        int64_t defunc_0_split_count_res_172162;
                        int64_t defunc_0_split_count_res_172163;
                        int64_t defunc_0_split_count_res_172164;
                        bool loop_while_172165;
                        int64_t ss_172166;
                        int64_t ss_172167;
                        int64_t tt_172168;
                        int64_t tt_172169;
                        int64_t count_172170;
                        
                        loop_while_172165 = loop_cond_172158;
                        ss_172166 = defunc_0_split_count_res_172153;
                        ss_172167 = defunc_0_split_count_res_172154;
                        tt_172168 = defunc_0_split_count_res_172155;
                        tt_172169 = defunc_0_split_count_res_172156;
                        count_172170 = defunc_0_split_count_res_172157;
                        while (loop_while_172165) {
                            int64_t zlze_lhs_172171 = sub64(ss_172167, ss_172166);
                            bool cond_172172 = sle64(zlze_lhs_172171, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172173;
                            int64_t defunc_0_lifted_step_res_172174;
                            int64_t defunc_0_lifted_step_res_172175;
                            int64_t defunc_0_lifted_step_res_172176;
                            
                            if (cond_172172) {
                                int64_t tmp_178736 = add64(tt_172168, count_172170);
                                
                                defunc_0_lifted_step_res_172173 = ss_172166;
                                defunc_0_lifted_step_res_172174 = tmp_178736;
                                defunc_0_lifted_step_res_172175 = tt_172169;
                                defunc_0_lifted_step_res_172176 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172178 = sub64(tt_172169, tt_172168);
                                bool cond_172179 = sle64(zlze_lhs_172178, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172180;
                                int64_t defunc_0_lifted_step_res_f_res_172181;
                                int64_t defunc_0_lifted_step_res_f_res_172182;
                                int64_t defunc_0_lifted_step_res_f_res_172183;
                                
                                if (cond_172179) {
                                    int64_t tmp_178737 = add64(ss_172166, count_172170);
                                    
                                    defunc_0_lifted_step_res_f_res_172180 = tmp_178737;
                                    defunc_0_lifted_step_res_f_res_172181 = tt_172168;
                                    defunc_0_lifted_step_res_f_res_172182 = tt_172169;
                                    defunc_0_lifted_step_res_f_res_172183 = (int64_t) 0;
                                } else {
                                    bool cond_172185 = count_172170 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172186;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172187;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172188;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172189;
                                    
                                    if (cond_172185) {
                                        bool x_178739 = sle64((int64_t) 0, ss_172166);
                                        bool y_178740 = slt64(ss_172166, stride_171999);
                                        bool bounds_check_178741 = x_178739 && y_178740;
                                        bool index_certs_178742;
                                        
                                        if (!bounds_check_178741) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172166, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:127:3-27\n   #14 ftsort.fut:126:1-127:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178745 = sle64((int64_t) 0, tt_172168);
                                        bool y_178746 = slt64(tt_172168, j_m_i_172022);
                                        bool bounds_check_178747 = x_178745 && y_178746;
                                        bool index_certs_178748;
                                        
                                        if (!bounds_check_178747) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172168, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:127:3-27\n   #14 ftsort.fut:126:1-127:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178743 = start_172072 + ss_172166;
                                        int16_t leq_arg1_178744 = ((int16_t *) mem_param_181215.mem)[slice_178743];
                                        int64_t slice_178749 = stride_171999 + tt_172168;
                                        int64_t slice_178750 = start_172072 + slice_178749;
                                        int16_t leq_arg0_178751 = ((int16_t *) mem_param_181215.mem)[slice_178750];
                                        bool zlze_res_178752 = sle16(leq_arg0_178751, leq_arg1_178744);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        
                                        if (zlze_res_178752) {
                                            int64_t tmp_178755 = add64((int64_t) 1, tt_172168);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = ss_172166;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tmp_178755;
                                        } else {
                                            int64_t tmp_178756 = add64((int64_t) 1, ss_172166);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178753 = tmp_178756;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178754 = tt_172168;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = defunc_0_lifted_step_res_f_res_f_res_t_res_178753;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_t_res_178754;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = tt_172169;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = (int64_t) 0;
                                    } else {
                                        int64_t m_172208 = sdiv64(count_172170, (int64_t) 2);
                                        int64_t n_172209 = sub64(count_172170, m_172208);
                                        bool cond_172210 = n_172209 == (int64_t) 0;
                                        int64_t zgze_lhs_172211 = add64(ss_172166, m_172208);
                                        bool cond_f_res_172212 = sle64(ss_172167, zgze_lhs_172211);
                                        bool x_172213 = !cond_172210;
                                        bool y_172214 = cond_f_res_172212 && x_172213;
                                        bool cond_172215 = cond_172210 || y_172214;
                                        bool leq_y_x_172216;
                                        
                                        if (cond_172215) {
                                            leq_y_x_172216 = 1;
                                        } else {
                                            bool x_172217 = sle64((int64_t) 0, zgze_lhs_172211);
                                            bool y_172218 = slt64(zgze_lhs_172211, stride_171999);
                                            bool bounds_check_172219 = x_172217 && y_172218;
                                            bool index_certs_172220;
                                            
                                            if (!bounds_check_172219) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172211, "] out of bounds for array of shape [", (long long) stride_171999, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:127:3-27\n   #14 ftsort.fut:126:1-127:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172223 = add64(tt_172168, n_172209);
                                            int64_t leq_arg0_172224 = sub64(zm_lhs_172223, (int64_t) 1);
                                            bool x_172225 = sle64((int64_t) 0, leq_arg0_172224);
                                            bool y_172226 = slt64(leq_arg0_172224, j_m_i_172022);
                                            bool bounds_check_172227 = x_172225 && y_172226;
                                            bool index_certs_172228;
                                            
                                            if (!bounds_check_172227) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172224, "] out of bounds for array of shape [", (long long) j_m_i_172022, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:172:54-57\n   #13 ftsort.fut:127:3-27\n   #14 ftsort.fut:126:1-127:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172221 = start_172072 + zgze_lhs_172211;
                                            int16_t leq_arg1_172222 = ((int16_t *) mem_param_181215.mem)[slice_172221];
                                            int64_t slice_172229 = stride_171999 + leq_arg0_172224;
                                            int64_t slice_172230 = start_172072 + slice_172229;
                                            int16_t leq_arg0_172231 = ((int16_t *) mem_param_181215.mem)[slice_172230];
                                            bool zlze_res_172232 = sle16(leq_arg0_172231, leq_arg1_172222);
                                            
                                            leq_y_x_172216 = zlze_res_172232;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                        
                                        if (leq_y_x_172216) {
                                            int64_t tmp_178757 = add64(tt_172168, n_172209);
                                            int64_t tmp_178758 = sub64(count_172170, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tmp_178757;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tt_172169;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = tmp_178758;
                                        } else {
                                            int64_t tmp_172238 = add64(tt_172168, n_172209);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172233 = tt_172168;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172234 = tmp_172238;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172235 = count_172170;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172186 = ss_172166;
                                        defunc_0_lifted_step_res_f_res_f_res_172187 = defunc_0_lifted_step_res_f_res_f_res_f_res_172233;
                                        defunc_0_lifted_step_res_f_res_f_res_172188 = defunc_0_lifted_step_res_f_res_f_res_f_res_172234;
                                        defunc_0_lifted_step_res_f_res_f_res_172189 = defunc_0_lifted_step_res_f_res_f_res_f_res_172235;
                                    }
                                    defunc_0_lifted_step_res_f_res_172180 = defunc_0_lifted_step_res_f_res_f_res_172186;
                                    defunc_0_lifted_step_res_f_res_172181 = defunc_0_lifted_step_res_f_res_f_res_172187;
                                    defunc_0_lifted_step_res_f_res_172182 = defunc_0_lifted_step_res_f_res_f_res_172188;
                                    defunc_0_lifted_step_res_f_res_172183 = defunc_0_lifted_step_res_f_res_f_res_172189;
                                }
                                defunc_0_lifted_step_res_172173 = defunc_0_lifted_step_res_f_res_172180;
                                defunc_0_lifted_step_res_172174 = defunc_0_lifted_step_res_f_res_172181;
                                defunc_0_lifted_step_res_172175 = defunc_0_lifted_step_res_f_res_172182;
                                defunc_0_lifted_step_res_172176 = defunc_0_lifted_step_res_f_res_172183;
                            }
                            
                            int64_t loopres_172239;
                            int64_t loopres_172240;
                            int64_t loopres_172241;
                            int64_t loopres_172242;
                            int64_t loopres_172243;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_172239, &loopres_172240, &loopres_172241, &loopres_172242, &loopres_172243, defunc_0_lifted_step_res_172173, ss_172167, defunc_0_lifted_step_res_172174, defunc_0_lifted_step_res_172175, defunc_0_lifted_step_res_172176) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172244 = slt64((int64_t) 0, loopres_172243);
                            bool loop_while_tmp_182581 = loop_cond_172244;
                            int64_t ss_tmp_182582 = loopres_172239;
                            int64_t ss_tmp_182583 = loopres_172240;
                            int64_t tt_tmp_182584 = loopres_172241;
                            int64_t tt_tmp_182585 = loopres_172242;
                            int64_t count_tmp_182586 = loopres_172243;
                            
                            loop_while_172165 = loop_while_tmp_182581;
                            ss_172166 = ss_tmp_182582;
                            ss_172167 = ss_tmp_182583;
                            tt_172168 = tt_tmp_182584;
                            tt_172169 = tt_tmp_182585;
                            count_172170 = count_tmp_182586;
                        }
                        defunc_0_split_count_res_172159 = loop_while_172165;
                        defunc_0_split_count_res_172160 = ss_172166;
                        defunc_0_split_count_res_172161 = ss_172167;
                        defunc_0_split_count_res_172162 = tt_172168;
                        defunc_0_split_count_res_172163 = tt_172169;
                        defunc_0_split_count_res_172164 = count_172170;
                        ((int64_t *) mem_181234)[i_180814] = defunc_0_split_count_res_172160;
                        ((int64_t *) mem_181236)[i_180814] = defunc_0_split_count_res_172162;
                    }
                    if (mem_181251_cached_sizze_182869 < bytes_181250) {
                        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_182869, bytes_181250);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181254_cached_sizze_182870 < bytes_181253) {
                        err = lexical_realloc(ctx, &mem_181254, &mem_181254_cached_sizze_182870, bytes_181253);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180821 = 0; i_180821 < num_blocks_172020; i_180821++) {
                        bool y_172250 = slt64(i_180821, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool index_certs_172252;
                        
                        if (!y_172250) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180821, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:127:3-27\n   #11 ftsort.fut:126:1-127:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172253 = ((int64_t *) mem_181234)[i_180821];
                        int64_t defunc_0_f_res_172254 = ((int64_t *) mem_181236)[i_180821];
                        int64_t tmp_172255 = add64((int64_t) 1, i_180821);
                        bool x_172256 = sle64((int64_t) 0, tmp_172255);
                        bool y_172257 = slt64(tmp_172255, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021);
                        bool bounds_check_172258 = x_172256 && y_172257;
                        bool index_certs_172259;
                        
                        if (!bounds_check_172258) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172255, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_172021, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:127:3-27\n   #11 ftsort.fut:126:1-127:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172260 = ((int64_t *) mem_181234)[tmp_172255];
                        int64_t defunc_0_f_res_172261 = ((int64_t *) mem_181236)[tmp_172255];
                        int64_t merge_sequential_arg2_172262 = add64(stride_171999, defunc_0_f_res_172254);
                        int64_t merge_sequential_arg2_172263 = add64(stride_171999, defunc_0_f_res_172261);
                        int64_t j_m_i_172264 = sub64(merge_sequential_arg2_172263, merge_sequential_arg2_172262);
                        bool empty_slice_172265 = j_m_i_172264 == (int64_t) 0;
                        int64_t m_172266 = sub64(j_m_i_172264, (int64_t) 1);
                        int64_t i_p_m_t_s_172267 = add64(merge_sequential_arg2_172262, m_172266);
                        bool zzero_leq_i_p_m_t_s_172268 = sle64((int64_t) 0, i_p_m_t_s_172267);
                        bool i_p_m_t_s_leq_w_172269 = slt64(i_p_m_t_s_172267, next_stride_172000);
                        bool zzero_lte_i_172270 = sle64((int64_t) 0, merge_sequential_arg2_172262);
                        bool i_lte_j_172271 = sle64(merge_sequential_arg2_172262, merge_sequential_arg2_172263);
                        bool y_172272 = i_p_m_t_s_leq_w_172269 && zzero_lte_i_172270;
                        bool y_172273 = zzero_leq_i_p_m_t_s_172268 && y_172272;
                        bool forwards_ok_172274 = i_lte_j_172271 && y_172273;
                        bool ok_or_empty_172275 = empty_slice_172265 || forwards_ok_172274;
                        bool index_certs_172276;
                        
                        if (!ok_or_empty_172275) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172262, ":", (long long) merge_sequential_arg2_172263, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:127:3-27\n   #11 ftsort.fut:126:1-127:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172277 = sub64(defunc_0_f_res_172260, defunc_0_f_res_172253);
                        bool empty_slice_172278 = j_m_i_172277 == (int64_t) 0;
                        int64_t m_172279 = sub64(j_m_i_172277, (int64_t) 1);
                        int64_t i_p_m_t_s_172280 = add64(defunc_0_f_res_172253, m_172279);
                        bool zzero_leq_i_p_m_t_s_172281 = sle64((int64_t) 0, i_p_m_t_s_172280);
                        bool i_p_m_t_s_leq_w_172282 = slt64(i_p_m_t_s_172280, next_stride_172000);
                        bool zzero_lte_i_172283 = sle64((int64_t) 0, defunc_0_f_res_172253);
                        bool i_lte_j_172284 = sle64(defunc_0_f_res_172253, defunc_0_f_res_172260);
                        bool y_172285 = i_p_m_t_s_leq_w_172282 && zzero_lte_i_172283;
                        bool y_172286 = zzero_leq_i_p_m_t_s_172281 && y_172285;
                        bool forwards_ok_172287 = i_lte_j_172284 && y_172286;
                        bool ok_or_empty_172288 = empty_slice_172278 || forwards_ok_172287;
                        bool index_certs_172289;
                        
                        if (!ok_or_empty_172288) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172253, ":", (long long) defunc_0_f_res_172260, "] out of bounds for array of shape [", (long long) next_stride_172000, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:172:54-57\n   #10 ftsort.fut:127:3-27\n   #11 ftsort.fut:126:1-127:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172290 = slt64((int64_t) 0, j_m_i_172277);
                        int16_t dummy_172291;
                        int64_t dummy_172292;
                        
                        if (cond_172290) {
                            bool index_certs_178759;
                            
                            if (!cond_172290) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:172:54-57\n   #12 ftsort.fut:127:3-27\n   #13 ftsort.fut:126:1-127:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178760 = start_172072 + defunc_0_f_res_172253;
                            int16_t head_res_178761 = ((int16_t *) mem_param_181215.mem)[slice_178760];
                            int64_t head_res_178762 = ((int64_t *) mem_param_181218.mem)[slice_178760];
                            
                            dummy_172291 = head_res_178761;
                            dummy_172292 = head_res_178762;
                        } else {
                            bool y_172297 = slt64((int64_t) 0, j_m_i_172264);
                            bool index_certs_172298;
                            
                            if (!y_172297) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:172:54-57\n   #12 ftsort.fut:127:3-27\n   #13 ftsort.fut:126:1-127:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172299 = start_172072 + merge_sequential_arg2_172262;
                            int16_t head_res_172300 = ((int16_t *) mem_param_181215.mem)[slice_172299];
                            int64_t head_res_172301 = ((int64_t *) mem_param_181218.mem)[slice_172299];
                            
                            dummy_172291 = head_res_172300;
                            dummy_172292 = head_res_172301;
                        }
                        for (int64_t nest_i_182589 = 0; nest_i_182589 < merge_block_sizze_171887; nest_i_182589++) {
                            ((int16_t *) mem_181251)[i_180821 * merge_block_sizze_171887 + nest_i_182589] = dummy_172291;
                        }
                        for (int64_t nest_i_182590 = 0; nest_i_182590 < merge_block_sizze_171887; nest_i_182590++) {
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + nest_i_182590] = dummy_172292;
                        }
                        
                        int64_t data_172304;
                        int64_t i_172308 = (int64_t) 0;
                        
                        for (int64_t k_172307 = 0; k_172307 < merge_block_sizze_171887; k_172307++) {
                            int64_t j_172311 = sub64(k_172307, i_172308);
                            bool cond_172312 = j_172311 == j_m_i_172264;
                            bool cond_172313;
                            
                            if (cond_172312) {
                                cond_172313 = 1;
                            } else {
                                bool cond_172314 = slt64(i_172308, j_m_i_172277);
                                bool cond_f_res_172315;
                                
                                if (cond_172314) {
                                    bool x_178763 = sle64((int64_t) 0, j_172311);
                                    bool y_178764 = slt64(j_172311, j_m_i_172264);
                                    bool bounds_check_178765 = x_178763 && y_178764;
                                    bool index_certs_178766;
                                    
                                    if (!bounds_check_178765) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:127:3-27\n   #12 ftsort.fut:126:1-127:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178770 = sle64((int64_t) 0, i_172308);
                                    bool bounds_check_178771 = cond_172314 && x_178770;
                                    bool index_certs_178772;
                                    
                                    if (!bounds_check_178771) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:127:3-27\n   #12 ftsort.fut:126:1-127:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178767 = merge_sequential_arg2_172262 + j_172311;
                                    int64_t slice_178768 = start_172072 + slice_178767;
                                    int16_t leq_arg1_178769 = ((int16_t *) mem_param_181215.mem)[slice_178768];
                                    int64_t slice_178773 = defunc_0_f_res_172253 + i_172308;
                                    int64_t slice_178774 = start_172072 + slice_178773;
                                    int16_t leq_arg0_178775 = ((int16_t *) mem_param_181215.mem)[slice_178774];
                                    bool zlze_res_178776 = sle16(leq_arg0_178775, leq_arg1_178769);
                                    
                                    cond_f_res_172315 = zlze_res_178776;
                                } else {
                                    cond_f_res_172315 = 0;
                                }
                                cond_172313 = cond_f_res_172315;
                            }
                            
                            int64_t loopres_172330;
                            int16_t loopres_172331;
                            int64_t loopres_172332;
                            
                            if (cond_172313) {
                                bool x_178778 = sle64((int64_t) 0, i_172308);
                                bool y_178779 = slt64(i_172308, j_m_i_172277);
                                bool bounds_check_178780 = x_178778 && y_178779;
                                bool index_certs_178781;
                                
                                if (!bounds_check_178780) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172308, "] out of bounds for array of shape [", (long long) j_m_i_172277, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:127:3-27\n   #12 ftsort.fut:126:1-127:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178777 = add64((int64_t) 1, i_172308);
                                int64_t slice_178782 = defunc_0_f_res_172253 + i_172308;
                                int64_t slice_178783 = start_172072 + slice_178782;
                                int16_t tmp_178784 = ((int16_t *) mem_param_181215.mem)[slice_178783];
                                int64_t tmp_178785 = ((int64_t *) mem_param_181218.mem)[slice_178783];
                                
                                loopres_172330 = tmp_178777;
                                loopres_172331 = tmp_178784;
                                loopres_172332 = tmp_178785;
                            } else {
                                bool x_172342 = sle64((int64_t) 0, j_172311);
                                bool y_172343 = slt64(j_172311, j_m_i_172264);
                                bool bounds_check_172344 = x_172342 && y_172343;
                                bool index_certs_172345;
                                
                                if (!bounds_check_172344) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172311, "] out of bounds for array of shape [", (long long) j_m_i_172264, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:172:54-57\n   #11 ftsort.fut:127:3-27\n   #12 ftsort.fut:126:1-127:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172346 = merge_sequential_arg2_172262 + j_172311;
                                int64_t slice_172347 = start_172072 + slice_172346;
                                int16_t tmp_172348 = ((int16_t *) mem_param_181215.mem)[slice_172347];
                                int64_t tmp_172349 = ((int64_t *) mem_param_181218.mem)[slice_172347];
                                
                                loopres_172330 = i_172308;
                                loopres_172331 = tmp_172348;
                                loopres_172332 = tmp_172349;
                            }
                            ((int16_t *) mem_181251)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172331;
                            ((int64_t *) mem_181254)[i_180821 * merge_block_sizze_171887 + k_172307] = loopres_172332;
                            
                            int64_t i_tmp_182591 = loopres_172330;
                            
                            i_172308 = i_tmp_182591;
                        }
                        data_172304 = i_172308;
                    }
                    if (memblock_alloc(ctx, &mem_181289, bytes_181250, "mem_181289")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181289.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint16_t *) mem_181251, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_alloc(ctx, &mem_181293, bytes_181253, "mem_181293")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181293.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (uint64_t *) mem_181254, (int64_t) 0, (int64_t []) {merge_block_sizze_171887, (int64_t) 1}, (int64_t []) {num_blocks_172020, merge_block_sizze_171887});
                    if (memblock_set(ctx, &ext_mem_181316, &mem_181289, "mem_181289") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181313, &mem_181293, "mem_181293") != 0)
                        return 1;
                }
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181221, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181316.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181224, i_180828 * next_stride_172000, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181313.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_172000});
                if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172356 = next_stride_172000 * num_merges_172004;
            
            if (memblock_alloc(ctx, &mem_181327, bytes_181220, "mem_181327")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_181327.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint16_t *) mem_181221, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            if (memblock_alloc(ctx, &mem_181331, bytes_181223, "mem_181331")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181331.mem, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (uint64_t *) mem_181224, (int64_t) 0, (int64_t []) {next_stride_172000, (int64_t) 1}, (int64_t []) {num_merges_172004, next_stride_172000});
            
            bool loop_cond_172359 = slt64(next_stride_172000, flat_dim_171884);
            
            if (memblock_set(ctx, &mem_param_tmp_182565, &mem_181327, "mem_181327") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182566, &mem_181331, "mem_181331") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182567 = flat_dim_172356;
            bool loop_while_tmp_182568 = loop_cond_172359;
            int64_t stride_tmp_182571 = next_stride_172000;
            
            if (memblock_set(ctx, &mem_param_181215, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181218, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
                return 1;
            loop_dz2084Uz2082U_171995 = loop_dz2084Uz2082U_tmp_182567;
            loop_while_171996 = loop_while_tmp_182568;
            stride_171999 = stride_tmp_182571;
        }
        if (memblock_set(ctx, &ext_mem_181338, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181337, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        data_171990 = loop_dz2084Uz2082U_171995;
        data_171991 = loop_while_171996;
        data_171994 = stride_171999;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        
        bool empty_slice_172360 = n_98856 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172361 = sle64((int64_t) 0, zs_lhs_171868);
        bool i_p_m_t_s_leq_w_172362 = slt64(zs_lhs_171868, data_171990);
        bool y_172363 = zzero_leq_i_p_m_t_s_172361 && i_p_m_t_s_leq_w_172362;
        bool ok_or_empty_172364 = empty_slice_172360 || y_172363;
        bool index_certs_172365;
        
        if (!ok_or_empty_172364) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_98856, "] out of bounds for array of shape [", (long long) data_171990, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:172:54-57\n   #5  ftsort.fut:127:3-27\n   #6  ftsort.fut:126:1-127:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181341, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181343, bytes_181135, "mem_181343")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181345, bytes_181344, "mem_181345")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180835 = 0; i_180835 < n_98856; i_180835++) {
        int64_t eta_p_172369 = ((int64_t *) ext_mem_181341.mem)[i_180835];
        bool x_172370 = sle64((int64_t) 0, eta_p_172369);
        bool y_172371 = slt64(eta_p_172369, n_98856);
        bool bounds_check_172372 = x_172370 && y_172371;
        bool index_certs_172373;
        
        if (!bounds_check_172372) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172369, "] out of bounds for array of shape [", (long long) n_98856, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:172:54-57\n   #4  ftsort.fut:127:3-27\n   #5  ftsort.fut:126:1-127:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172374 = ((int64_t *) ext_mem_181134.mem)[eta_p_172369];
        int16_t lifted_lambda_res_172375 = ((int16_t *) xs_mem_181133.mem)[eta_p_172369];
        
        ((int64_t *) mem_181343.mem)[i_180835] = lifted_lambda_res_172374;
        ((int16_t *) mem_181345.mem)[i_180835] = lifted_lambda_res_172375;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181343, "mem_181343") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181345, "mem_181345") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182859, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182860, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181139);
        free(mem_181142);
        free(mem_181152);
        free(mem_181154);
        free(mem_181221);
        free(mem_181224);
        free(mem_181234);
        free(mem_181236);
        free(mem_181251);
        free(mem_181254);
        if (memblock_unref(ctx, &mem_181345, "mem_181345") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181343, "mem_181343") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182566, "mem_param_tmp_182566") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182565, "mem_param_tmp_182565") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181331, "mem_181331") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181327, "mem_181327") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181293, "mem_181293") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181289, "mem_181289") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181298, "mem_181298") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181296, "mem_181296") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181313, "ext_mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181316, "ext_mem_181316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181218, "mem_param_181218") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181215, "mem_param_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181337, "ext_mem_181337") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181338, "ext_mem_181338") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181211, "mem_181211") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181207, "mem_181207") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181341, "ext_mem_181341") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182871, struct memblock *mem_out_p_182872, struct memblock *mem_out_p_182873, int64_t *out_prim_out_182874, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_163377, int64_t nb_163378, int64_t window_sizze_163379, int64_t threads_163380, bool inParallel_163383)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181150_cached_sizze_182875 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_182876 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181191_cached_sizze_182877 = 0;
    unsigned char *mem_181191 = NULL;
    int64_t mem_181194_cached_sizze_182878 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181197_cached_sizze_182879 = 0;
    unsigned char *mem_181197 = NULL;
    int64_t mem_181210_cached_sizze_182880 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181212_cached_sizze_182881 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181214_cached_sizze_182882 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181311_cached_sizze_182883 = 0;
    unsigned char *mem_181311 = NULL;
    int64_t mem_181314_cached_sizze_182884 = 0;
    unsigned char *mem_181314 = NULL;
    int64_t mem_181317_cached_sizze_182885 = 0;
    unsigned char *mem_181317 = NULL;
    int64_t mem_181331_cached_sizze_182886 = 0;
    unsigned char *mem_181331 = NULL;
    int64_t mem_181333_cached_sizze_182887 = 0;
    unsigned char *mem_181333 = NULL;
    int64_t mem_181347_cached_sizze_182888 = 0;
    unsigned char *mem_181347 = NULL;
    int64_t mem_181350_cached_sizze_182889 = 0;
    unsigned char *mem_181350 = NULL;
    int64_t mem_181353_cached_sizze_182890 = 0;
    unsigned char *mem_181353 = NULL;
    int64_t mem_181495_cached_sizze_182891 = 0;
    unsigned char *mem_181495 = NULL;
    int64_t mem_181497_cached_sizze_182892 = 0;
    unsigned char *mem_181497 = NULL;
    int64_t mem_181512_cached_sizze_182893 = 0;
    unsigned char *mem_181512 = NULL;
    int64_t mem_181514_cached_sizze_182894 = 0;
    unsigned char *mem_181514 = NULL;
    int64_t mem_181517_cached_sizze_182895 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181520_cached_sizze_182896 = 0;
    unsigned char *mem_181520 = NULL;
    int64_t mem_181554_cached_sizze_182897 = 0;
    unsigned char *mem_181554 = NULL;
    int64_t mem_181557_cached_sizze_182898 = 0;
    unsigned char *mem_181557 = NULL;
    int64_t mem_181560_cached_sizze_182899 = 0;
    unsigned char *mem_181560 = NULL;
    int64_t mem_181573_cached_sizze_182900 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181575_cached_sizze_182901 = 0;
    unsigned char *mem_181575 = NULL;
    int64_t mem_181577_cached_sizze_182902 = 0;
    unsigned char *mem_181577 = NULL;
    int64_t mem_181674_cached_sizze_182903 = 0;
    unsigned char *mem_181674 = NULL;
    int64_t mem_181677_cached_sizze_182904 = 0;
    unsigned char *mem_181677 = NULL;
    int64_t mem_181680_cached_sizze_182905 = 0;
    unsigned char *mem_181680 = NULL;
    int64_t mem_181694_cached_sizze_182906 = 0;
    unsigned char *mem_181694 = NULL;
    int64_t mem_181696_cached_sizze_182907 = 0;
    unsigned char *mem_181696 = NULL;
    int64_t mem_181710_cached_sizze_182908 = 0;
    unsigned char *mem_181710 = NULL;
    int64_t mem_181713_cached_sizze_182909 = 0;
    unsigned char *mem_181713 = NULL;
    int64_t mem_181716_cached_sizze_182910 = 0;
    unsigned char *mem_181716 = NULL;
    int64_t mem_181933_cached_sizze_182911 = 0;
    unsigned char *mem_181933 = NULL;
    int64_t mem_181936_cached_sizze_182912 = 0;
    unsigned char *mem_181936 = NULL;
    int64_t mem_181939_cached_sizze_182913 = 0;
    unsigned char *mem_181939 = NULL;
    int64_t mem_181952_cached_sizze_182914 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181954_cached_sizze_182915 = 0;
    unsigned char *mem_181954 = NULL;
    int64_t mem_181956_cached_sizze_182916 = 0;
    unsigned char *mem_181956 = NULL;
    int64_t mem_182053_cached_sizze_182917 = 0;
    unsigned char *mem_182053 = NULL;
    int64_t mem_182056_cached_sizze_182918 = 0;
    unsigned char *mem_182056 = NULL;
    int64_t mem_182059_cached_sizze_182919 = 0;
    unsigned char *mem_182059 = NULL;
    int64_t mem_182073_cached_sizze_182920 = 0;
    unsigned char *mem_182073 = NULL;
    int64_t mem_182075_cached_sizze_182921 = 0;
    unsigned char *mem_182075 = NULL;
    int64_t mem_182089_cached_sizze_182922 = 0;
    unsigned char *mem_182089 = NULL;
    int64_t mem_182092_cached_sizze_182923 = 0;
    unsigned char *mem_182092 = NULL;
    int64_t mem_182095_cached_sizze_182924 = 0;
    unsigned char *mem_182095 = NULL;
    struct memblock mem_param_tmp_182771;
    
    mem_param_tmp_182771.references = NULL;
    
    struct memblock mem_param_tmp_182770;
    
    mem_param_tmp_182770.references = NULL;
    
    struct memblock mem_param_tmp_182769;
    
    mem_param_tmp_182769.references = NULL;
    
    struct memblock mem_182207;
    
    mem_182207.references = NULL;
    
    struct memblock mem_182203;
    
    mem_182203.references = NULL;
    
    struct memblock mem_182199;
    
    mem_182199.references = NULL;
    
    struct memblock mem_182152;
    
    mem_182152.references = NULL;
    
    struct memblock mem_182148;
    
    mem_182148.references = NULL;
    
    struct memblock mem_182144;
    
    mem_182144.references = NULL;
    
    struct memblock mem_182158;
    
    mem_182158.references = NULL;
    
    struct memblock mem_182156;
    
    mem_182156.references = NULL;
    
    struct memblock mem_182154;
    
    mem_182154.references = NULL;
    
    struct memblock ext_mem_182179;
    
    ext_mem_182179.references = NULL;
    
    struct memblock ext_mem_182182;
    
    ext_mem_182182.references = NULL;
    
    struct memblock ext_mem_182185;
    
    ext_mem_182185.references = NULL;
    
    struct memblock mem_param_182051;
    
    mem_param_182051.references = NULL;
    
    struct memblock mem_param_182048;
    
    mem_param_182048.references = NULL;
    
    struct memblock mem_param_182045;
    
    mem_param_182045.references = NULL;
    
    struct memblock ext_mem_182215;
    
    ext_mem_182215.references = NULL;
    
    struct memblock ext_mem_182216;
    
    ext_mem_182216.references = NULL;
    
    struct memblock ext_mem_182217;
    
    ext_mem_182217.references = NULL;
    
    struct memblock mem_182041;
    
    mem_182041.references = NULL;
    
    struct memblock mem_182037;
    
    mem_182037.references = NULL;
    
    struct memblock mem_182033;
    
    mem_182033.references = NULL;
    
    struct memblock ext_mem_182220;
    
    ext_mem_182220.references = NULL;
    
    struct memblock ext_mem_182223;
    
    ext_mem_182223.references = NULL;
    
    struct memblock ext_mem_182226;
    
    ext_mem_182226.references = NULL;
    
    struct memblock mem_181931;
    
    mem_181931.references = NULL;
    
    struct memblock mem_181929;
    
    mem_181929.references = NULL;
    
    struct memblock mem_181927;
    
    mem_181927.references = NULL;
    
    struct memblock mem_param_tmp_182705;
    
    mem_param_tmp_182705.references = NULL;
    
    struct memblock mem_param_tmp_182704;
    
    mem_param_tmp_182704.references = NULL;
    
    struct memblock mem_param_tmp_182703;
    
    mem_param_tmp_182703.references = NULL;
    
    struct memblock mem_181465;
    
    mem_181465.references = NULL;
    
    struct memblock mem_181461;
    
    mem_181461.references = NULL;
    
    struct memblock mem_181457;
    
    mem_181457.references = NULL;
    
    struct memblock mem_181410;
    
    mem_181410.references = NULL;
    
    struct memblock mem_181406;
    
    mem_181406.references = NULL;
    
    struct memblock mem_181402;
    
    mem_181402.references = NULL;
    
    struct memblock mem_181416;
    
    mem_181416.references = NULL;
    
    struct memblock mem_181414;
    
    mem_181414.references = NULL;
    
    struct memblock mem_181412;
    
    mem_181412.references = NULL;
    
    struct memblock ext_mem_181437;
    
    ext_mem_181437.references = NULL;
    
    struct memblock ext_mem_181440;
    
    ext_mem_181440.references = NULL;
    
    struct memblock ext_mem_181443;
    
    ext_mem_181443.references = NULL;
    
    struct memblock mem_param_181309;
    
    mem_param_181309.references = NULL;
    
    struct memblock mem_param_181306;
    
    mem_param_181306.references = NULL;
    
    struct memblock mem_param_181303;
    
    mem_param_181303.references = NULL;
    
    struct memblock ext_mem_181473;
    
    ext_mem_181473.references = NULL;
    
    struct memblock ext_mem_181474;
    
    ext_mem_181474.references = NULL;
    
    struct memblock ext_mem_181475;
    
    ext_mem_181475.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock ext_mem_181478;
    
    ext_mem_181478.references = NULL;
    
    struct memblock ext_mem_181481;
    
    ext_mem_181481.references = NULL;
    
    struct memblock ext_mem_181484;
    
    ext_mem_181484.references = NULL;
    
    struct memblock mem_181189;
    
    mem_181189.references = NULL;
    
    struct memblock mem_181187;
    
    mem_181187.references = NULL;
    
    struct memblock mem_181185;
    
    mem_181185.references = NULL;
    
    struct memblock mem_181169;
    
    mem_181169.references = NULL;
    
    struct memblock mem_181167;
    
    mem_181167.references = NULL;
    
    struct memblock mem_181165;
    
    mem_181165.references = NULL;
    
    struct memblock mem_181876;
    
    mem_181876.references = NULL;
    
    struct memblock mem_181875;
    
    mem_181875.references = NULL;
    
    struct memblock mem_181873;
    
    mem_181873.references = NULL;
    
    struct memblock mem_param_tmp_182611;
    
    mem_param_tmp_182611.references = NULL;
    
    struct memblock mem_param_tmp_182610;
    
    mem_param_tmp_182610.references = NULL;
    
    struct memblock mem_param_tmp_182609;
    
    mem_param_tmp_182609.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181824;
    
    mem_181824.references = NULL;
    
    struct memblock mem_181820;
    
    mem_181820.references = NULL;
    
    struct memblock mem_181773;
    
    mem_181773.references = NULL;
    
    struct memblock mem_181769;
    
    mem_181769.references = NULL;
    
    struct memblock mem_181765;
    
    mem_181765.references = NULL;
    
    struct memblock mem_181779;
    
    mem_181779.references = NULL;
    
    struct memblock mem_181777;
    
    mem_181777.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock ext_mem_181800;
    
    ext_mem_181800.references = NULL;
    
    struct memblock ext_mem_181803;
    
    ext_mem_181803.references = NULL;
    
    struct memblock ext_mem_181806;
    
    ext_mem_181806.references = NULL;
    
    struct memblock mem_param_181672;
    
    mem_param_181672.references = NULL;
    
    struct memblock mem_param_181669;
    
    mem_param_181669.references = NULL;
    
    struct memblock mem_param_181666;
    
    mem_param_181666.references = NULL;
    
    struct memblock ext_mem_181836;
    
    ext_mem_181836.references = NULL;
    
    struct memblock ext_mem_181837;
    
    ext_mem_181837.references = NULL;
    
    struct memblock ext_mem_181838;
    
    ext_mem_181838.references = NULL;
    
    struct memblock mem_181662;
    
    mem_181662.references = NULL;
    
    struct memblock mem_181658;
    
    mem_181658.references = NULL;
    
    struct memblock mem_181654;
    
    mem_181654.references = NULL;
    
    struct memblock ext_mem_181841;
    
    ext_mem_181841.references = NULL;
    
    struct memblock ext_mem_181844;
    
    ext_mem_181844.references = NULL;
    
    struct memblock ext_mem_181847;
    
    ext_mem_181847.references = NULL;
    
    struct memblock mem_181552;
    
    mem_181552.references = NULL;
    
    struct memblock mem_181550;
    
    mem_181550.references = NULL;
    
    struct memblock mem_181548;
    
    mem_181548.references = NULL;
    
    struct memblock ext_mem_181897;
    
    ext_mem_181897.references = NULL;
    
    struct memblock ext_mem_181900;
    
    ext_mem_181900.references = NULL;
    
    struct memblock ext_mem_181903;
    
    ext_mem_181903.references = NULL;
    
    struct memblock mem_181139;
    
    mem_181139.references = NULL;
    
    struct memblock mem_181137;
    
    mem_181137.references = NULL;
    
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t prim_out_182550;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622 = add64(na_163377, nb_163378);
    
    if (memblock_alloc(ctx, &mem_181135, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182551 = 0; nest_i_182551 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182551++) {
        ((int8_t *) mem_181135.mem)[nest_i_182551] = (int8_t) -1;
    }
    
    int64_t bytes_181136 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    
    if (memblock_alloc(ctx, &mem_181137, bytes_181136, "mem_181137")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182552 = 0; nest_i_182552 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182552++) {
        ((int64_t *) mem_181137.mem)[nest_i_182552] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_181139, bytes_181136, "mem_181139")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182553 = 0; nest_i_182553 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182553++) {
        ((double *) mem_181139.mem)[nest_i_182553] = 0.0;
    }
    
    int64_t zl_rhs_175626 = sub64(na_163377, window_sizze_163379);
    bool cond_175627 = slt64((int64_t) 0, zl_rhs_175626);
    int64_t zl_rhs_175628 = sub64(nb_163378, window_sizze_163379);
    bool loop_cond_t_res_175629 = slt64((int64_t) 0, zl_rhs_175628);
    bool x_175630 = cond_175627 && loop_cond_t_res_175629;
    bool empty_slice_175631 = window_sizze_163379 == (int64_t) 0;
    int64_t m_175632 = sub64(window_sizze_163379, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657 = add64((int64_t) 1, threads_163380);
    int64_t partitionFunc_arg0_176658 = mul64((int64_t) 2, threads_163380);
    bool y_176660 = slt64((int64_t) 0, window_sizze_163379);
    bool loop_cond_176906 = slt64((int64_t) 0, threads_163380);
    bool zzero_175677 = threads_163380 == (int64_t) 0;
    bool nonzzero_175678 = !zzero_175677;
    bool loop_not_taken_178435 = !inParallel_163383;
    bool protect_assert_disj_178436 = nonzzero_175678 || loop_not_taken_178435;
    bool loop_not_taken_178525 = !x_175630;
    bool protect_assert_disj_178526 = protect_assert_disj_178436 || loop_not_taken_178525;
    bool nonzzero_cert_175679;
    
    if (!protect_assert_disj_178526) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:365:24-32\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175680 = sdiv_safe64(window_sizze_163379, threads_163380);
    int64_t perThread_175681 = add64((int64_t) 1, zp_rhs_175680);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682 = mul64(threads_163380, perThread_175681);
    bool protect_assert_disj_178572 = inParallel_163383 || y_176660;
    bool protect_assert_disj_178576 = loop_not_taken_178525 || protect_assert_disj_178572;
    bool index_certs_176661;
    
    if (!protect_assert_disj_178576) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176676 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, (int64_t) 1);
    bool y_177633 = slt64(threads_163380, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
    bool protect_assert_disj_178541 = y_176660 || loop_not_taken_178435;
    bool protect_assert_disj_178580 = loop_not_taken_178525 || protect_assert_disj_178541;
    bool index_certs_175685;
    
    if (!protect_assert_disj_178580) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176678 = !bounds_invalid_upwards_176676;
    bool protect_assert_disj_178588 = inParallel_163383 || y_177633;
    bool protect_assert_disj_178590 = loop_not_taken_178525 || protect_assert_disj_178588;
    bool index_certs_177635;
    
    if (!protect_assert_disj_178590) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_163380, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:355:7-31\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178584 = y_177633 || loop_not_taken_178435;
    bool protect_assert_disj_178592 = loop_not_taken_178525 || protect_assert_disj_178584;
    bool index_certs_176639;
    
    if (!protect_assert_disj_178592) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_163380, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:389:7-31\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178600 = inParallel_163383 || valid_176678;
    bool protect_assert_disj_178602 = loop_not_taken_178525 || protect_assert_disj_178600;
    bool range_valid_c_176679;
    
    if (!protect_assert_disj_178602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178444 = sle64((int64_t) 1, threads_163380);
    bool protect_assert_disj_178596 = valid_176678 || loop_not_taken_178435;
    bool protect_assert_disj_178604 = loop_not_taken_178525 || protect_assert_disj_178596;
    bool range_valid_c_175692;
    
    if (!protect_assert_disj_178604) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176681 = add64(window_sizze_163379, window_sizze_163379);
    bool zzero_176682 = partitionFunc_arg0_176658 == (int64_t) 0;
    int64_t index_concat_i_178445 = sub64(threads_163380, (int64_t) 1);
    bool nonzzero_176683 = !zzero_176682;
    bool protect_assert_disj_178612 = inParallel_163383 || nonzzero_176683;
    bool protect_assert_disj_178618 = loop_not_taken_178525 || protect_assert_disj_178612;
    bool nonzzero_cert_176684;
    
    if (!protect_assert_disj_178618) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178608 = nonzzero_176683 || loop_not_taken_178435;
    bool protect_assert_disj_178624 = loop_not_taken_178525 || protect_assert_disj_178608;
    bool nonzzero_cert_175697;
    
    if (!protect_assert_disj_178624) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181149 = (int64_t) 8 * threads_163380;
    int64_t bytes_181166 = (int64_t) 8 * window_sizze_163379;
    int64_t bytes_181511 = perThread_175681 * bytes_181149;
    bool defunc_0_merge_pipeline_res_175633;
    int64_t defunc_0_merge_pipeline_res_175637;
    int64_t defunc_0_merge_pipeline_res_175638;
    bool loop_while_175639;
    int64_t p_175643;
    int64_t p_175644;
    
    loop_while_175639 = x_175630;
    p_175643 = (int64_t) 0;
    p_175644 = (int64_t) 0;
    while (loop_while_175639) {
        int64_t ubs_175645 = add64(window_sizze_163379, p_175643);
        int64_t ubs_175646 = add64(window_sizze_163379, p_175644);
        int64_t ind_bottom_175647 = add64(p_175643, p_175644);
        int64_t ind_top_175648 = add64(window_sizze_163379, ind_bottom_175647);
        int64_t i_p_m_t_s_175649 = add64(m_175632, p_175643);
        bool zzero_leq_i_p_m_t_s_175650 = sle64((int64_t) 0, i_p_m_t_s_175649);
        bool i_p_m_t_s_leq_w_175651 = slt64(i_p_m_t_s_175649, na_163377);
        bool zzero_lte_i_175652 = sle64((int64_t) 0, p_175643);
        bool i_lte_j_175653 = sle64(p_175643, ubs_175645);
        bool y_175654 = i_p_m_t_s_leq_w_175651 && zzero_lte_i_175652;
        bool y_175655 = zzero_leq_i_p_m_t_s_175650 && y_175654;
        bool forwards_ok_175656 = i_lte_j_175653 && y_175655;
        bool ok_or_empty_175657 = empty_slice_175631 || forwards_ok_175656;
        bool index_certs_175658;
        
        if (!ok_or_empty_175657) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175643, ":", (long long) ubs_175645, "] out of bounds for array of shape [", (long long) na_163377, "].", "-> #0  ftsort.fut:421:14-35\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175660 = add64(m_175632, p_175644);
        bool zzero_leq_i_p_m_t_s_175661 = sle64((int64_t) 0, i_p_m_t_s_175660);
        bool i_p_m_t_s_leq_w_175662 = slt64(i_p_m_t_s_175660, nb_163378);
        bool zzero_lte_i_175663 = sle64((int64_t) 0, p_175644);
        bool i_lte_j_175664 = sle64(p_175644, ubs_175646);
        bool y_175665 = i_p_m_t_s_leq_w_175662 && zzero_lte_i_175663;
        bool y_175666 = zzero_leq_i_p_m_t_s_175661 && y_175665;
        bool forwards_ok_175667 = i_lte_j_175664 && y_175666;
        bool ok_or_empty_175668 = empty_slice_175631 || forwards_ok_175667;
        bool index_certs_175669;
        
        if (!ok_or_empty_175668) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175644, ":", (long long) ubs_175646, "] out of bounds for array of shape [", (long long) nb_163378, "].", "-> #0  ftsort.fut:422:14-35\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177647 = add64(m_175632, ind_bottom_175647);
        bool zzero_leq_i_p_m_t_s_177648 = sle64((int64_t) 0, i_p_m_t_s_177647);
        bool i_p_m_t_s_leq_w_177649 = slt64(i_p_m_t_s_177647, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
        bool zzero_lte_i_177650 = sle64((int64_t) 0, ind_bottom_175647);
        bool i_lte_j_177651 = sle64(ind_bottom_175647, ind_top_175648);
        bool y_177652 = i_p_m_t_s_leq_w_177649 && zzero_lte_i_177650;
        bool y_177653 = zzero_leq_i_p_m_t_s_177648 && y_177652;
        bool forwards_ok_177654 = i_lte_j_177651 && y_177653;
        bool ok_or_empty_177655 = empty_slice_175631 || forwards_ok_177654;
        bool index_certs_177656;
        
        if (!ok_or_empty_177655) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175647, ":", (long long) ind_top_175648, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:431:21-79\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175671;
        int64_t loopres_175672;
        
        if (inParallel_163383) {
            double leq_lhs_179105 = ((double *) a_list_mem_181133.mem)[p_175643];
            double leq_rhs_179106 = ((double *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_179107 = leq_lhs_179105 <= leq_rhs_179106;
            double lowest_179108;
            
            if (defunc_0_leq_res_179107) {
                lowest_179108 = leq_lhs_179105;
            } else {
                lowest_179108 = leq_rhs_179106;
            }
            if (mem_181495_cached_sizze_182891 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181495, &mem_181495_cached_sizze_182891, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181497_cached_sizze_182892 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181497, &mem_181497_cached_sizze_182892, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180797 = 0; i_180797 < threads_163380; i_180797++) {
                int64_t index_primexp_181069 = add64((int64_t) 1, i_180797);
                int64_t zs_lhs_179113 = mul64(zt_rhs_176681, index_primexp_181069);
                int64_t index_179114 = sdiv64(zs_lhs_179113, partitionFunc_arg0_176658);
                bool cond_179115 = slt64(window_sizze_163379, index_179114);
                int64_t loop_over_179116;
                
                if (cond_179115) {
                    loop_over_179116 = window_sizze_163379;
                } else {
                    loop_over_179116 = index_179114;
                }
                
                int64_t loop_over_179117;
                
                if (cond_179115) {
                    int64_t loop_over_t_res_179118 = sub64(index_179114, window_sizze_163379);
                    
                    loop_over_179117 = loop_over_t_res_179118;
                } else {
                    loop_over_179117 = (int64_t) 0;
                }
                
                int64_t loop_over_179119;
                
                if (cond_179115) {
                    int64_t zm_lhs_179120 = sub64(index_179114, window_sizze_163379);
                    int64_t loop_over_t_res_179121 = sub64(zm_lhs_179120, (int64_t) 1);
                    
                    loop_over_179119 = loop_over_t_res_179121;
                } else {
                    loop_over_179119 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179122;
                int64_t defunc_0_f_res_179123;
                int64_t defunc_0_f_res_179124;
                int64_t defunc_0_f_res_179125;
                bool loop_while_179126;
                int64_t p_179127;
                int64_t p_179128;
                int64_t p_179129;
                
                loop_while_179126 = 1;
                p_179127 = loop_over_179119;
                p_179128 = loop_over_179116;
                p_179129 = loop_over_179117;
                while (loop_while_179126) {
                    int64_t zs_lhs_179130 = sub64(p_179128, p_179127);
                    int64_t offset_179131 = sdiv64(zs_lhs_179130, (int64_t) 2);
                    int64_t ai_179132 = sub64(p_179128, offset_179131);
                    int64_t max_arg1_179133 = add64(p_179129, offset_179131);
                    int64_t max_res_179134 = smax64((int64_t) 0, max_arg1_179133);
                    bool cond_179135 = slt64((int64_t) 0, max_res_179134);
                    double b_prev_179136;
                    
                    if (cond_179135) {
                        int64_t tmp_179137 = sub64(max_res_179134, (int64_t) 1);
                        bool x_179138 = sle64((int64_t) 0, tmp_179137);
                        bool y_179139 = slt64(tmp_179137, window_sizze_163379);
                        bool bounds_check_179140 = x_179138 && y_179139;
                        bool index_certs_179141;
                        
                        if (!bounds_check_179140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179137, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179142 = p_175644 + tmp_179137;
                        double b_prev_t_res_179143 = ((double *) b_list_mem_181134.mem)[slice_179142];
                        
                        b_prev_179136 = b_prev_t_res_179143;
                    } else {
                        b_prev_179136 = lowest_179108;
                    }
                    
                    bool cond_179144 = sle64(ai_179132, (int64_t) 0);
                    int64_t loopres_179145;
                    int64_t loopres_179146;
                    int64_t loopres_179147;
                    bool loopres_179148;
                    
                    if (cond_179144) {
                        loopres_179145 = p_179127;
                        loopres_179146 = (int64_t) 0;
                        loopres_179147 = max_res_179134;
                        loopres_179148 = 0;
                    } else {
                        bool cond_179149 = sle64(window_sizze_163379, max_res_179134);
                        int64_t loopres_f_res_179150;
                        int64_t loopres_f_res_179151;
                        int64_t loopres_f_res_179152;
                        bool loopres_f_res_179153;
                        
                        if (cond_179149) {
                            int64_t min_res_179155 = smin64(m_175632, ai_179132);
                            bool x_179156 = sle64((int64_t) 0, m_175632);
                            bool y_179157 = slt64(m_175632, window_sizze_163379);
                            bool bounds_check_179158 = x_179156 && y_179157;
                            bool index_certs_179159;
                            
                            if (!bounds_check_179158) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179162 = sle64((int64_t) 0, min_res_179155);
                            bool y_179163 = slt64(min_res_179155, window_sizze_163379);
                            bool bounds_check_179164 = x_179162 && y_179163;
                            bool index_certs_179165;
                            
                            if (!bounds_check_179164) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179155, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_179161 = ((double *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_179166 = p_175643 + min_res_179155;
                            double leq_rhs_179167 = ((double *) a_list_mem_181133.mem)[slice_179166];
                            bool defunc_0_leq_res_179168 = leq_lhs_179161 <= leq_rhs_179167;
                            int64_t loopres_f_res_t_res_179169;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179169 = ai_179132;
                            } else {
                                loopres_f_res_t_res_179169 = p_179128;
                            }
                            
                            bool x_179170 = !defunc_0_leq_res_179168;
                            int64_t loopres_f_res_t_res_179171;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179171 = window_sizze_163379;
                            } else {
                                int64_t tmp_179172 = sub64(m_175632, offset_179131);
                                
                                loopres_f_res_t_res_179171 = tmp_179172;
                            }
                            loopres_f_res_179150 = p_179127;
                            loopres_f_res_179151 = loopres_f_res_t_res_179169;
                            loopres_f_res_179152 = loopres_f_res_t_res_179171;
                            loopres_f_res_179153 = x_179170;
                        } else {
                            bool cond_179173 = sle64(window_sizze_163379, ai_179132);
                            int64_t loopres_f_res_f_res_179174;
                            int64_t loopres_f_res_f_res_179175;
                            int64_t loopres_f_res_f_res_179176;
                            bool loopres_f_res_f_res_179177;
                            
                            if (cond_179173) {
                                int64_t min_res_179179 = smin64(m_175632, max_res_179134);
                                bool x_179180 = sle64((int64_t) 0, m_175632);
                                bool y_179181 = slt64(m_175632, window_sizze_163379);
                                bool bounds_check_179182 = x_179180 && y_179181;
                                bool index_certs_179183;
                                
                                if (!bounds_check_179182) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179186 = sle64((int64_t) 0, min_res_179179);
                                bool y_179187 = slt64(min_res_179179, window_sizze_163379);
                                bool bounds_check_179188 = x_179186 && y_179187;
                                bool index_certs_179189;
                                
                                if (!bounds_check_179188) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179179, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_179185 = ((double *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_179190 = p_175644 + min_res_179179;
                                double leq_rhs_179191 = ((double *) b_list_mem_181134.mem)[slice_179190];
                                bool defunc_0_leq_res_179192 = leq_lhs_179185 <= leq_rhs_179191;
                                int64_t loopres_f_res_f_res_t_res_179193;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179193 = max_res_179134;
                                } else {
                                    loopres_f_res_f_res_t_res_179193 = p_179129;
                                }
                                
                                bool x_179194 = !defunc_0_leq_res_179192;
                                int64_t loopres_f_res_f_res_t_res_179195;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179195 = window_sizze_163379;
                                } else {
                                    loopres_f_res_f_res_t_res_179195 = m_175632;
                                }
                                loopres_f_res_f_res_179174 = p_179127;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_t_res_179195;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_t_res_179193;
                                loopres_f_res_f_res_179177 = x_179194;
                            } else {
                                bool cond_179196 = sle64(p_179128, p_179127);
                                int64_t loopres_f_res_f_res_f_res_179197;
                                int64_t loopres_f_res_f_res_f_res_179198;
                                int64_t loopres_f_res_f_res_f_res_179199;
                                bool loopres_f_res_f_res_f_res_179200;
                                
                                if (cond_179196) {
                                    bool cond_179201 = slt64(ai_179132, window_sizze_163379);
                                    int64_t ai_179202;
                                    
                                    if (cond_179201) {
                                        ai_179202 = ai_179132;
                                    } else {
                                        ai_179202 = m_175632;
                                    }
                                    
                                    bool x_179215 = sle64((int64_t) 0, ai_179202);
                                    bool y_179216 = slt64(ai_179202, window_sizze_163379);
                                    bool bounds_check_179217 = x_179215 && y_179216;
                                    bool index_certs_179218;
                                    
                                    if (!bounds_check_179217) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179202, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_179204;
                                    
                                    if (cond_179135) {
                                        int64_t tmp_179205 = sub64(max_res_179134, (int64_t) 1);
                                        bool x_179206 = sle64((int64_t) 0, tmp_179205);
                                        bool y_179207 = slt64(tmp_179205, window_sizze_163379);
                                        bool bounds_check_179208 = x_179206 && y_179207;
                                        bool index_certs_179209;
                                        
                                        if (!bounds_check_179208) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179205, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179210 = p_175644 + tmp_179205;
                                        double b_prev_t_res_179211 = ((double *) b_list_mem_181134.mem)[slice_179210];
                                        
                                        b_prev_179204 = b_prev_t_res_179211;
                                    } else {
                                        bool index_certs_179213;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179204 = leq_rhs_179106;
                                    }
                                    
                                    int64_t slice_179219 = p_175643 + ai_179202;
                                    double gt_lhs_179220 = ((double *) a_list_mem_181133.mem)[slice_179219];
                                    bool defunc_0_gt_res_179221 = b_prev_179204 < gt_lhs_179220;
                                    int64_t defunc_0_partFunc_sequential_search_res_179222;
                                    int64_t defunc_0_partFunc_sequential_search_res_179223;
                                    
                                    if (defunc_0_gt_res_179221) {
                                        int64_t zl_rhs_179224 = sub64(window_sizze_163379, max_res_179134);
                                        bool loop_cond_179225 = slt64((int64_t) 0, zl_rhs_179224);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179226;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179228;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179229;
                                        bool loop_while_179230;
                                        int64_t p_179231;
                                        int64_t p_179232;
                                        int64_t p_179233;
                                        
                                        loop_while_179230 = loop_cond_179225;
                                        p_179231 = ai_179202;
                                        p_179232 = max_res_179134;
                                        p_179233 = (int64_t) 0;
                                        while (loop_while_179230) {
                                            int64_t i_a_179234 = sub64(ai_179202, p_179233);
                                            int64_t i_b_179235 = add64(max_res_179134, p_179233);
                                            int64_t leq_lhs_179236 = sub64(i_a_179234, (int64_t) 1);
                                            bool x_179237 = sle64((int64_t) 0, leq_lhs_179236);
                                            bool y_179238 = slt64(leq_lhs_179236, window_sizze_163379);
                                            bool bounds_check_179239 = x_179237 && y_179238;
                                            bool index_certs_179240;
                                            
                                            if (!bounds_check_179239) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179236, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179243 = sle64((int64_t) 0, i_b_179235);
                                            bool y_179244 = slt64(i_b_179235, window_sizze_163379);
                                            bool bounds_check_179245 = x_179243 && y_179244;
                                            bool index_certs_179246;
                                            
                                            if (!bounds_check_179245) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179235, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179241 = p_175643 + leq_lhs_179236;
                                            double leq_lhs_179242 = ((double *) a_list_mem_181133.mem)[slice_179241];
                                            int64_t slice_179247 = p_175644 + i_b_179235;
                                            double leq_rhs_179248 = ((double *) b_list_mem_181134.mem)[slice_179247];
                                            bool defunc_0_leq_res_179249 = leq_lhs_179242 <= leq_rhs_179248;
                                            int64_t loopres_179250;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179250 = i_a_179234;
                                            } else {
                                                loopres_179250 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179251;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179251 = i_b_179235;
                                            } else {
                                                loopres_179251 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179252;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179252 = zl_rhs_179224;
                                            } else {
                                                int64_t tmp_179253 = add64((int64_t) 1, p_179233);
                                                
                                                loopres_179252 = tmp_179253;
                                            }
                                            
                                            bool loop_cond_179254 = slt64(loopres_179252, zl_rhs_179224);
                                            bool loop_while_tmp_182566 = loop_cond_179254;
                                            int64_t p_tmp_182567 = loopres_179250;
                                            int64_t p_tmp_182568 = loopres_179251;
                                            int64_t p_tmp_182569 = loopres_179252;
                                            
                                            loop_while_179230 = loop_while_tmp_182566;
                                            p_179231 = p_tmp_182567;
                                            p_179232 = p_tmp_182568;
                                            p_179233 = p_tmp_182569;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179226 = loop_while_179230;
                                        defunc_0_partFunc_sequential_search_res_t_res_179227 = p_179231;
                                        defunc_0_partFunc_sequential_search_res_t_res_179228 = p_179232;
                                        defunc_0_partFunc_sequential_search_res_t_res_179229 = p_179233;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_t_res_179228;
                                    } else {
                                        int64_t zl_rhs_179255 = sub64(max_res_179134, (int64_t) 1);
                                        bool loop_cond_179256 = slt64((int64_t) 0, zl_rhs_179255);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179257;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179259;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179260;
                                        bool loop_while_179261;
                                        int64_t p_179262;
                                        int64_t p_179263;
                                        int64_t p_179264;
                                        
                                        loop_while_179261 = loop_cond_179256;
                                        p_179262 = ai_179202;
                                        p_179263 = max_res_179134;
                                        p_179264 = (int64_t) 0;
                                        while (loop_while_179261) {
                                            int64_t zp_lhs_179265 = add64(ai_179202, p_179264);
                                            int64_t hi_a_179266 = add64((int64_t) 1, zp_lhs_179265);
                                            bool cond_179267 = slt64(hi_a_179266, window_sizze_163379);
                                            int64_t i_a_179268;
                                            
                                            if (cond_179267) {
                                                i_a_179268 = hi_a_179266;
                                            } else {
                                                i_a_179268 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_179270 = sub64(max_res_179134, p_179264);
                                            int64_t i_b_179271 = sub64(zm_lhs_179270, (int64_t) 1);
                                            bool x_179272 = sle64((int64_t) 0, i_a_179268);
                                            bool y_179273 = slt64(i_a_179268, window_sizze_163379);
                                            bool bounds_check_179274 = x_179272 && y_179273;
                                            bool index_certs_179275;
                                            
                                            if (!bounds_check_179274) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179268, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179278 = sle64((int64_t) 0, i_b_179271);
                                            bool y_179279 = slt64(i_b_179271, window_sizze_163379);
                                            bool bounds_check_179280 = x_179278 && y_179279;
                                            bool index_certs_179281;
                                            
                                            if (!bounds_check_179280) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179271, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179276 = p_175643 + i_a_179268;
                                            double gt_lhs_179277 = ((double *) a_list_mem_181133.mem)[slice_179276];
                                            int64_t slice_179282 = p_175644 + i_b_179271;
                                            double gt_rhs_179283 = ((double *) b_list_mem_181134.mem)[slice_179282];
                                            bool defunc_0_gt_res_179284 = gt_rhs_179283 < gt_lhs_179277;
                                            int64_t loopres_179285;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179285 = i_a_179268;
                                            } else {
                                                loopres_179285 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179286;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179286 = zm_lhs_179270;
                                            } else {
                                                loopres_179286 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179287;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179287 = zl_rhs_179255;
                                            } else {
                                                int64_t tmp_179288 = add64((int64_t) 1, p_179264);
                                                
                                                loopres_179287 = tmp_179288;
                                            }
                                            
                                            bool loop_cond_179289 = slt64(loopres_179287, zl_rhs_179255);
                                            bool loop_while_tmp_182570 = loop_cond_179289;
                                            int64_t p_tmp_182571 = loopres_179285;
                                            int64_t p_tmp_182572 = loopres_179286;
                                            int64_t p_tmp_182573 = loopres_179287;
                                            
                                            loop_while_179261 = loop_while_tmp_182570;
                                            p_179262 = p_tmp_182571;
                                            p_179263 = p_tmp_182572;
                                            p_179264 = p_tmp_182573;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179257 = loop_while_179261;
                                        defunc_0_partFunc_sequential_search_res_f_res_179258 = p_179262;
                                        defunc_0_partFunc_sequential_search_res_f_res_179259 = p_179263;
                                        defunc_0_partFunc_sequential_search_res_f_res_179260 = p_179264;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_f_res_179259;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = p_179127;
                                    loopres_f_res_f_res_f_res_179198 = defunc_0_partFunc_sequential_search_res_179222;
                                    loopres_f_res_f_res_f_res_179199 = defunc_0_partFunc_sequential_search_res_179223;
                                    loopres_f_res_f_res_f_res_179200 = 0;
                                } else {
                                    bool x_179290 = sle64((int64_t) 0, ai_179132);
                                    bool y_179291 = slt64(ai_179132, window_sizze_163379);
                                    bool bounds_check_179292 = x_179290 && y_179291;
                                    bool index_certs_179293;
                                    
                                    if (!bounds_check_179292) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179132, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179294 = p_175643 + ai_179132;
                                    double gt_lhs_179295 = ((double *) a_list_mem_181133.mem)[slice_179294];
                                    bool defunc_0_gt_res_179296 = b_prev_179136 < gt_lhs_179295;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179297;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179298;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179299;
                                    bool loopres_f_res_f_res_f_res_f_res_179300;
                                    
                                    if (defunc_0_gt_res_179296) {
                                        int64_t leq_lhs_179301 = sub64(ai_179132, (int64_t) 1);
                                        bool x_179302 = sle64((int64_t) 0, leq_lhs_179301);
                                        bool y_179303 = slt64(leq_lhs_179301, window_sizze_163379);
                                        bool bounds_check_179304 = x_179302 && y_179303;
                                        bool index_certs_179305;
                                        
                                        if (!bounds_check_179304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179301, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179308 = sle64((int64_t) 0, max_res_179134);
                                        bool y_179309 = slt64(max_res_179134, window_sizze_163379);
                                        bool bounds_check_179310 = x_179308 && y_179309;
                                        bool index_certs_179311;
                                        
                                        if (!bounds_check_179310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179134, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179306 = p_175643 + leq_lhs_179301;
                                        double leq_lhs_179307 = ((double *) a_list_mem_181133.mem)[slice_179306];
                                        int64_t slice_179312 = p_175644 + max_res_179134;
                                        double leq_rhs_179313 = ((double *) b_list_mem_181134.mem)[slice_179312];
                                        bool defunc_0_leq_res_179314 = leq_lhs_179307 <= leq_rhs_179313;
                                        bool x_179315 = !defunc_0_leq_res_179314;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = ai_179132;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = leq_lhs_179301;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = max_res_179134;
                                        } else {
                                            int64_t tmp_179318 = add64((int64_t) 1, max_res_179134);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = tmp_179318;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179297 = p_179127;
                                        loopres_f_res_f_res_f_res_f_res_179298 = loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        loopres_f_res_f_res_f_res_f_res_179299 = loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        loopres_f_res_f_res_f_res_f_res_179300 = x_179315;
                                    } else {
                                        int64_t tmp_179319 = add64((int64_t) 1, ai_179132);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179297 = tmp_179319;
                                        loopres_f_res_f_res_f_res_f_res_179298 = p_179128;
                                        loopres_f_res_f_res_f_res_f_res_179299 = p_179129;
                                        loopres_f_res_f_res_f_res_f_res_179300 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_179297;
                                    loopres_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_179298;
                                    loopres_f_res_f_res_f_res_179199 = loopres_f_res_f_res_f_res_f_res_179299;
                                    loopres_f_res_f_res_f_res_179200 = loopres_f_res_f_res_f_res_f_res_179300;
                                }
                                loopres_f_res_f_res_179174 = loopres_f_res_f_res_f_res_179197;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_f_res_179198;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_f_res_179199;
                                loopres_f_res_f_res_179177 = loopres_f_res_f_res_f_res_179200;
                            }
                            loopres_f_res_179150 = loopres_f_res_f_res_179174;
                            loopres_f_res_179151 = loopres_f_res_f_res_179175;
                            loopres_f_res_179152 = loopres_f_res_f_res_179176;
                            loopres_f_res_179153 = loopres_f_res_f_res_179177;
                        }
                        loopres_179145 = loopres_f_res_179150;
                        loopres_179146 = loopres_f_res_179151;
                        loopres_179147 = loopres_f_res_179152;
                        loopres_179148 = loopres_f_res_179153;
                    }
                    
                    bool loop_while_tmp_182562 = loopres_179148;
                    int64_t p_tmp_182563 = loopres_179145;
                    int64_t p_tmp_182564 = loopres_179146;
                    int64_t p_tmp_182565 = loopres_179147;
                    
                    loop_while_179126 = loop_while_tmp_182562;
                    p_179127 = p_tmp_182563;
                    p_179128 = p_tmp_182564;
                    p_179129 = p_tmp_182565;
                }
                defunc_0_f_res_179122 = loop_while_179126;
                defunc_0_f_res_179123 = p_179127;
                defunc_0_f_res_179124 = p_179128;
                defunc_0_f_res_179125 = p_179129;
                ((int64_t *) mem_181495)[i_180797] = defunc_0_f_res_179124;
                ((int64_t *) mem_181497)[i_180797] = defunc_0_f_res_179125;
            }
            if (mem_181512_cached_sizze_182893 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181512, &mem_181512_cached_sizze_182893, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181514_cached_sizze_182894 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682) {
                err = lexical_realloc(ctx, &mem_181514, &mem_181514_cached_sizze_182894, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181517_cached_sizze_182895 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_182895, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181520_cached_sizze_182896 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181520, &mem_181520_cached_sizze_182896, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180863 = 0; i_180863 < threads_163380; i_180863++) {
                bool y_179333 = slt64(i_180863, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool index_certs_179335;
                
                if (!y_179333) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180863, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:371:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179336 = sle64((int64_t) 1, i_180863);
                int64_t index_concat_i_179337 = sub64(i_180863, (int64_t) 1);
                int64_t index_concat_179338;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179339 = ((int64_t *) mem_181495)[index_concat_i_179337];
                    
                    index_concat_179338 = x_179339;
                } else {
                    index_concat_179338 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179340;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179340 = index_concat_179338;
                } else {
                    index_concat_branch_179340 = (int64_t) 0;
                }
                
                int64_t index_concat_179341;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179342 = ((int64_t *) mem_181497)[index_concat_i_179337];
                    
                    index_concat_179341 = x_179342;
                } else {
                    index_concat_179341 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179343;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179343 = index_concat_179341;
                } else {
                    index_concat_branch_179343 = (int64_t) 0;
                }
                
                int64_t ubs_179344 = add64((int64_t) 1, i_180863);
                bool x_179345 = sle64((int64_t) 0, ubs_179344);
                bool y_179346 = slt64(ubs_179344, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_179347 = x_179345 && y_179346;
                bool index_certs_179348;
                
                if (!bounds_check_179347) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179344, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:372:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179349 = sle64((int64_t) 1, ubs_179344);
                int64_t index_concat_179350;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179351 = ((int64_t *) mem_181495)[i_180863];
                    
                    index_concat_179350 = x_179351;
                } else {
                    index_concat_179350 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179352;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179352 = index_concat_179350;
                } else {
                    index_concat_branch_179352 = (int64_t) 0;
                }
                
                int64_t index_concat_179353;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179354 = ((int64_t *) mem_181497)[i_180863];
                    
                    index_concat_179353 = x_179354;
                } else {
                    index_concat_179353 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179355;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179355 = index_concat_179353;
                } else {
                    index_concat_branch_179355 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 = sub64(index_concat_branch_179355, index_concat_branch_179343);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 = sub64(index_concat_branch_179352, index_concat_branch_179340);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t zm_lhs_179359 = add64(index_concat_branch_179352, index_concat_branch_179355);
                int64_t zm_rhs_179360 = add64(index_concat_branch_179340, index_concat_branch_179343);
                int64_t card_179361 = sub64(zm_lhs_179359, zm_rhs_179360);
                bool empty_slice_179362 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 == (int64_t) 0;
                int64_t m_179363 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 1);
                int64_t i_p_m_t_s_179364 = add64(index_concat_branch_179340, m_179363);
                bool zzero_leq_i_p_m_t_s_179365 = sle64((int64_t) 0, i_p_m_t_s_179364);
                bool i_p_m_t_s_leq_w_179366 = slt64(i_p_m_t_s_179364, window_sizze_163379);
                bool zzero_lte_i_179367 = sle64((int64_t) 0, index_concat_branch_179340);
                bool i_lte_j_179368 = sle64(index_concat_branch_179340, index_concat_branch_179352);
                bool y_179369 = i_p_m_t_s_leq_w_179366 && zzero_lte_i_179367;
                bool y_179370 = zzero_leq_i_p_m_t_s_179365 && y_179369;
                bool forwards_ok_179371 = i_lte_j_179368 && y_179370;
                bool ok_or_empty_179372 = empty_slice_179362 || forwards_ok_179371;
                bool index_certs_179373;
                
                if (!ok_or_empty_179372) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179340, ":", (long long) index_concat_branch_179352, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:374:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179374 = slt64(index_concat_branch_179352, index_concat_branch_179340);
                bool valid_179375 = !bounds_invalid_upwards_179374;
                bool range_valid_c_179376;
                
                if (!valid_179375) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179340, "..<", (long long) index_concat_branch_179352, " is invalid.", "-> #0  ftsort.fut:374:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179381 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 == (int64_t) 0;
                int64_t m_179382 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, (int64_t) 1);
                int64_t i_p_m_t_s_179383 = add64(index_concat_branch_179343, m_179382);
                bool zzero_leq_i_p_m_t_s_179384 = sle64((int64_t) 0, i_p_m_t_s_179383);
                bool i_p_m_t_s_leq_w_179385 = slt64(i_p_m_t_s_179383, window_sizze_163379);
                bool zzero_lte_i_179386 = sle64((int64_t) 0, index_concat_branch_179343);
                bool i_lte_j_179387 = sle64(index_concat_branch_179343, index_concat_branch_179355);
                bool y_179388 = i_p_m_t_s_leq_w_179385 && zzero_lte_i_179386;
                bool y_179389 = zzero_leq_i_p_m_t_s_179384 && y_179388;
                bool forwards_ok_179390 = i_lte_j_179387 && y_179389;
                bool ok_or_empty_179391 = empty_slice_179381 || forwards_ok_179390;
                bool index_certs_179392;
                
                if (!ok_or_empty_179391) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179343, ":", (long long) index_concat_branch_179355, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:375:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179393 = slt64(index_concat_branch_179355, index_concat_branch_179343);
                bool valid_179394 = !bounds_invalid_upwards_179393;
                bool range_valid_c_179395;
                
                if (!valid_179394) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179343, "..<", (long long) index_concat_branch_179355, " is invalid.", "-> #0  ftsort.fut:375:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181549 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool cond_179403 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zs_lhs_179404 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zp_rhs_179405 = sdiv_safe64(zs_lhs_179404, (int64_t) 20);
                int64_t min_num_blocks_179406 = add64((int64_t) 1, zp_rhs_179405);
                bool loop_cond_179407 = slt64((int64_t) 1, min_num_blocks_179406);
                bool smallest_pow_2_geq_than_res_179408;
                int64_t smallest_pow_2_geq_than_res_179409;
                bool loop_while_179410;
                int64_t x_179411;
                
                loop_while_179410 = loop_cond_179407;
                x_179411 = (int64_t) 1;
                while (loop_while_179410) {
                    int64_t loopres_179412 = mul64((int64_t) 2, x_179411);
                    bool loop_cond_179413 = slt64(loopres_179412, min_num_blocks_179406);
                    bool loop_while_tmp_182578 = loop_cond_179413;
                    int64_t x_tmp_182579 = loopres_179412;
                    
                    loop_while_179410 = loop_while_tmp_182578;
                    x_179411 = x_tmp_182579;
                }
                smallest_pow_2_geq_than_res_179408 = loop_while_179410;
                smallest_pow_2_geq_than_res_179409 = x_179411;
                
                bool zzero_179414 = smallest_pow_2_geq_than_res_179409 == (int64_t) 0;
                bool nonzzero_179415 = !zzero_179414;
                bool protect_assert_disj_179416 = cond_179403 || nonzzero_179415;
                bool nonzzero_cert_179417;
                
                if (!protect_assert_disj_179416) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179418 = sdiv_safe64(zs_lhs_179404, smallest_pow_2_geq_than_res_179409);
                int64_t block_sizze_179419 = add64((int64_t) 1, zp_rhs_179418);
                bool y_179426 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                bool protect_assert_disj_182295 = cond_179403 || y_179426;
                bool index_certs_179427;
                
                if (!protect_assert_disj_182295) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179464 = slt64(smallest_pow_2_geq_than_res_179409, (int64_t) 0);
                bool valid_179465 = !bounds_invalid_upwards_179464;
                bool protect_assert_disj_182305 = cond_179403 || valid_179465;
                bool range_valid_c_179466;
                
                if (!protect_assert_disj_182305) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179409, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:502:63-73\n   #6  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179468 = slt64(block_sizze_179419, (int64_t) 0);
                bool valid_179469 = !bounds_invalid_upwards_179468;
                bool protect_assert_disj_182307 = cond_179403 || valid_179469;
                bool range_valid_c_179470;
                
                if (!protect_assert_disj_182307) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179419, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179472 = sle64(block_sizze_179419, (int64_t) 1);
                int64_t tmp_179473 = sub64(block_sizze_179419, (int64_t) 2);
                bool bounds_invalid_upwards_179474 = slt64(tmp_179473, (int64_t) 0);
                bool valid_179476 = !bounds_invalid_upwards_179474;
                bool protect_assert_disj_179477 = cond_179472 || valid_179476;
                bool protect_assert_disj_182309 = cond_179403 || protect_assert_disj_179477;
                bool range_valid_c_179478;
                
                if (!protect_assert_disj_182309) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179473, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180058 = card_179361 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool empty_or_match_cert_180059;
                
                if (!dim_match_180058) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] cannot match shape of type `[", (long long) card_179361, "](i8, i64, f64)`.", "-> #0  ftsort.fut:376:20-382:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180060 = card_179361 == (int64_t) 0;
                int64_t m_180061 = sub64(card_179361, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180062 = sle64((int64_t) 0, m_180061);
                bool i_p_m_t_s_leq_w_180063 = slt64(m_180061, card_179361);
                bool y_180064 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180063;
                bool ok_or_empty_180065 = empty_slice_180060 || y_180064;
                bool index_certs_180066;
                
                if (!ok_or_empty_180065) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) card_179361, "].", "-> #0  ftsort.fut:383:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_180067 = slt64(m_180061, perThread_175681);
                bool y_180068 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180067;
                bool ok_or_empty_180069 = empty_slice_180060 || y_180068;
                bool index_certs_180070;
                
                if (!ok_or_empty_180069) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:383:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182580 = 0; nest_i_182580 < perThread_175681; nest_i_182580++) {
                    ((int8_t *) mem_181514)[i_180863 * perThread_175681 + nest_i_182580] = (int8_t) -1;
                }
                for (int64_t nest_i_182581 = 0; nest_i_182581 < perThread_175681; nest_i_182581++) {
                    ((int64_t *) mem_181517)[i_180863 * perThread_175681 + nest_i_182581] = (int64_t) -1;
                }
                for (int64_t nest_i_182582 = 0; nest_i_182582 < perThread_175681; nest_i_182582++) {
                    ((double *) mem_181520)[i_180863 * perThread_175681 + nest_i_182582] = 0.0;
                }
                
                int64_t slice_179377 = p_175643 + index_concat_branch_179340;
                
                if (memblock_alloc(ctx, &mem_181548, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "mem_181548")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182583 = 0; nest_i_182583 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; nest_i_182583++) {
                    ((int8_t *) mem_181548.mem)[nest_i_182583] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181550, bytes_181549, "mem_181550")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182584 = 0; i_182584 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; i_182584++) {
                    int64_t x_182585 = index_concat_branch_179340 + i_182584 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[i_182584] = x_182585;
                }
                
                int64_t slice_179396 = p_175644 + index_concat_branch_179343;
                
                for (int64_t nest_i_182586 = 0; nest_i_182586 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; nest_i_182586++) {
                    ((int8_t *) mem_181548.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + nest_i_182586] = (int8_t) 1;
                }
                for (int64_t i_182587 = 0; i_182587 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; i_182587++) {
                    int64_t x_182588 = index_concat_branch_179343 + i_182587 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + i_182587] = x_182588;
                }
                
                int64_t tmp_offs_182589 = (int64_t) 0;
                
                if (!(tmp_offs_182589 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182589 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t tmp_offs_182590 = (int64_t) 0;
                
                if (!(tmp_offs_182590 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182590 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                if (memblock_alloc(ctx, &mem_181552, bytes_181549, "mem_181552")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182591 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181133.mem, slice_179377, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181134.mem, slice_179396, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t flat_dim_179420 = smallest_pow_2_geq_than_res_179409 * block_sizze_179419;
                bool x_182290 = !cond_179403;
                int64_t greatest_divisor_leq_than_arg1_179424 = mul64((int64_t) 2, block_sizze_179419);
                int64_t merge_block_sizze_179425;
                
                if (x_182290) {
                    int64_t x_182292;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182292, (int64_t) 8, greatest_divisor_leq_than_arg1_179424) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179425 = x_182292;
                } else {
                    merge_block_sizze_179425 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179428 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 0);
                int8_t index_concat_branch_179429 = btoi_bool_i8(index_concat_cmp_179428);
                int64_t index_concat_i_179431 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t index_primexp_179432 = add64(index_concat_branch_179343, index_concat_i_179431);
                int64_t index_concat_branch_179430;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179430 = index_primexp_179432;
                } else {
                    index_concat_branch_179430 = index_concat_branch_179340;
                }
                
                bool x_182286 = !index_concat_cmp_179428;
                bool protect_cond_conj_182296 = x_182286 && x_182290;
                double index_concat_179438;
                
                if (protect_cond_conj_182296) {
                    double x_182288 = ((double *) a_list_mem_181133.mem)[slice_179377];
                    
                    index_concat_179438 = x_182288;
                } else {
                    index_concat_179438 = 0.0;
                }
                
                int64_t slice_179436 = p_175644 + index_primexp_179432;
                bool protect_cond_conj_182297 = index_concat_cmp_179428 && x_182290;
                double index_concat_179437;
                
                if (protect_cond_conj_182297) {
                    double x_182284 = ((double *) b_list_mem_181134.mem)[slice_179436];
                    
                    index_concat_179437 = x_182284;
                } else {
                    index_concat_179437 = 0.0;
                }
                
                double index_concat_branch_179433;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179433 = index_concat_179437;
                } else {
                    index_concat_branch_179433 = index_concat_179438;
                }
                
                int8_t defunc_0_reduce_res_179439;
                int64_t defunc_0_reduce_res_179440;
                double defunc_0_reduce_res_179441;
                
                if (x_182290) {
                    int8_t x_182298;
                    int64_t x_182299;
                    double x_182300;
                    int8_t redout_180800;
                    int64_t redout_180801;
                    double redout_180802;
                    
                    redout_180800 = index_concat_branch_179429;
                    redout_180801 = index_concat_branch_179430;
                    redout_180802 = index_concat_branch_179433;
                    for (int64_t i_180803 = 0; i_180803 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358; i_180803++) {
                        bool index_concat_cmp_181061 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, i_180803);
                        int8_t index_concat_branch_181065 = btoi_bool_i8(index_concat_cmp_181061);
                        int64_t index_concat_branch_181059;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181056 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t index_primexp_181109 = add64(index_concat_branch_179343, index_concat_i_181056);
                            
                            index_concat_branch_181059 = index_primexp_181109;
                        } else {
                            int64_t index_primexp_181111 = add64(index_concat_branch_179340, i_180803);
                            
                            index_concat_branch_181059 = index_primexp_181111;
                        }
                        
                        double index_concat_branch_181053;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181050 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t slice_181106 = slice_179396 + index_concat_i_181050;
                            double index_concat_181051 = ((double *) b_list_mem_181134.mem)[slice_181106];
                            
                            index_concat_branch_181053 = index_concat_181051;
                        } else {
                            int64_t slice_181107 = slice_179377 + i_180803;
                            double index_concat_181052 = ((double *) a_list_mem_181133.mem)[slice_181107];
                            
                            index_concat_branch_181053 = index_concat_181052;
                        }
                        
                        bool eq_x_y_181123 = redout_180800 == (int8_t) 1;
                        bool eq_x_zz_181124 = redout_180800 == (int8_t) 0;
                        bool p_and_eq_x_y_181125 = index_concat_cmp_181061 && eq_x_y_181123;
                        bool not_p_181126 = !index_concat_cmp_181061;
                        bool p_and_eq_x_y_181127 = eq_x_zz_181124 && not_p_181126;
                        bool cond_179451 = p_and_eq_x_y_181125 || p_and_eq_x_y_181127;
                        bool defunc_0_leq_res_t_res_179452 = sle64(redout_180801, index_concat_branch_181059);
                        bool defunc_0_leq_res_179453 = redout_180802 <= index_concat_branch_181053;
                        bool x_179454 = cond_179451 && defunc_0_leq_res_t_res_179452;
                        bool x_179455 = !cond_179451;
                        bool y_179456 = defunc_0_leq_res_179453 && x_179455;
                        bool defunc_0_leq_res_179457 = x_179454 || y_179456;
                        int8_t defunc_0_op_res_179458;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179458 = index_concat_branch_181065;
                        } else {
                            defunc_0_op_res_179458 = redout_180800;
                        }
                        
                        int64_t defunc_0_op_res_179459;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179459 = index_concat_branch_181059;
                        } else {
                            defunc_0_op_res_179459 = redout_180801;
                        }
                        
                        double defunc_0_op_res_179460;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179460 = index_concat_branch_181053;
                        } else {
                            defunc_0_op_res_179460 = redout_180802;
                        }
                        
                        int8_t redout_tmp_182592 = defunc_0_op_res_179458;
                        int64_t redout_tmp_182593 = defunc_0_op_res_179459;
                        double redout_tmp_182594 = defunc_0_op_res_179460;
                        
                        redout_180800 = redout_tmp_182592;
                        redout_180801 = redout_tmp_182593;
                        redout_180802 = redout_tmp_182594;
                    }
                    x_182298 = redout_180800;
                    x_182299 = redout_180801;
                    x_182300 = redout_180802;
                    defunc_0_reduce_res_179439 = x_182298;
                    defunc_0_reduce_res_179440 = x_182299;
                    defunc_0_reduce_res_179441 = x_182300;
                } else {
                    defunc_0_reduce_res_179439 = (int8_t) 0;
                    defunc_0_reduce_res_179440 = (int64_t) 0;
                    defunc_0_reduce_res_179441 = 0.0;
                }
                
                int64_t distance_179475 = add64((int64_t) 1, tmp_179473);
                int64_t binop_x_181555 = (int64_t) 8 * smallest_pow_2_geq_than_res_179409;
                int64_t bytes_181556 = block_sizze_179419 * binop_x_181555;
                int64_t bytes_181574 = (int64_t) 8 * block_sizze_179419;
                bool loop_cond_179601 = slt64(block_sizze_179419, flat_dim_179420);
                bool zzero_179602 = merge_block_sizze_179425 == (int64_t) 0;
                bool nonzzero_179603 = !zzero_179602;
                
                if (cond_179403) {
                    if (memblock_set(ctx, &ext_mem_181847, &mem_181548, "mem_181548") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &mem_181550, "mem_181550") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &mem_181552, "mem_181552") != 0)
                        return 1;
                } else {
                    if (mem_181554_cached_sizze_182897 < flat_dim_179420) {
                        err = lexical_realloc(ctx, &mem_181554, &mem_181554_cached_sizze_182897, flat_dim_179420);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181557_cached_sizze_182898 < bytes_181556) {
                        err = lexical_realloc(ctx, &mem_181557, &mem_181557_cached_sizze_182898, bytes_181556);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181560_cached_sizze_182899 < bytes_181556) {
                        err = lexical_realloc(ctx, &mem_181560, &mem_181560_cached_sizze_182899, bytes_181556);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181573_cached_sizze_182900 < block_sizze_179419) {
                        err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_182900, block_sizze_179419);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181575_cached_sizze_182901 < bytes_181574) {
                        err = lexical_realloc(ctx, &mem_181575, &mem_181575_cached_sizze_182901, bytes_181574);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181577_cached_sizze_182902 < bytes_181574) {
                        err = lexical_realloc(ctx, &mem_181577, &mem_181577_cached_sizze_182902, bytes_181574);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180820 = 0; i_180820 < smallest_pow_2_geq_than_res_179409; i_180820++) {
                        int64_t zp_lhs_179483 = mul64(block_sizze_179419, i_180820);
                        
                        for (int64_t i_180810 = 0; i_180810 < block_sizze_179419; i_180810++) {
                            int64_t k_179488 = add64(zp_lhs_179483, i_180810);
                            bool cond_179489 = slt64(k_179488, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                            int8_t lifted_lambda_res_179490;
                            int64_t lifted_lambda_res_179491;
                            double lifted_lambda_res_179492;
                            
                            if (cond_179489) {
                                bool x_179493 = sle64((int64_t) 0, k_179488);
                                bool bounds_check_179494 = cond_179489 && x_179493;
                                bool index_certs_179495;
                                
                                if (!bounds_check_179494) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179488, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179496 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, k_179488);
                                int8_t index_concat_branch_179497 = btoi_bool_i8(index_concat_cmp_179496);
                                int64_t index_concat_branch_179498;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179499 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t index_primexp_179500 = add64(index_concat_branch_179343, index_concat_i_179499);
                                    
                                    index_concat_branch_179498 = index_primexp_179500;
                                } else {
                                    int64_t index_primexp_179501 = add64(index_concat_branch_179340, k_179488);
                                    
                                    index_concat_branch_179498 = index_primexp_179501;
                                }
                                
                                double index_concat_branch_179502;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179503 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t slice_179504 = index_concat_branch_179343 + index_concat_i_179503;
                                    int64_t slice_179505 = p_175644 + slice_179504;
                                    double index_concat_179506 = ((double *) b_list_mem_181134.mem)[slice_179505];
                                    
                                    index_concat_branch_179502 = index_concat_179506;
                                } else {
                                    int64_t slice_179507 = index_concat_branch_179340 + k_179488;
                                    int64_t slice_179508 = p_175643 + slice_179507;
                                    double index_concat_179509 = ((double *) a_list_mem_181133.mem)[slice_179508];
                                    
                                    index_concat_branch_179502 = index_concat_179509;
                                }
                                lifted_lambda_res_179490 = index_concat_branch_179497;
                                lifted_lambda_res_179491 = index_concat_branch_179498;
                                lifted_lambda_res_179492 = index_concat_branch_179502;
                            } else {
                                lifted_lambda_res_179490 = defunc_0_reduce_res_179439;
                                lifted_lambda_res_179491 = defunc_0_reduce_res_179440;
                                lifted_lambda_res_179492 = defunc_0_reduce_res_179441;
                            }
                            ((int8_t *) mem_181573)[i_180810] = lifted_lambda_res_179490;
                            ((int64_t *) mem_181575)[i_180810] = lifted_lambda_res_179491;
                            ((double *) mem_181577)[i_180810] = lifted_lambda_res_179492;
                        }
                        if (!cond_179472) {
                            for (int64_t i_179519 = 0; i_179519 < distance_179475; i_179519++) {
                                int64_t gt_arg1_179523 = add64((int64_t) 1, i_179519);
                                bool x_179524 = sle64((int64_t) 0, gt_arg1_179523);
                                bool y_179525 = slt64(gt_arg1_179523, block_sizze_179419);
                                bool bounds_check_179526 = x_179524 && y_179525;
                                bool index_certs_179527;
                                
                                if (!bounds_check_179526) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179523, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179531 = slt64(i_179519, block_sizze_179419);
                                bool index_certs_179532;
                                
                                if (!y_179531) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179519, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179528 = ((int8_t *) mem_181573)[gt_arg1_179523];
                                int64_t gt_arg1_179529 = ((int64_t *) mem_181575)[gt_arg1_179523];
                                double gt_arg1_179530 = ((double *) mem_181577)[gt_arg1_179523];
                                int8_t gt_arg0_179533 = ((int8_t *) mem_181573)[i_179519];
                                int64_t gt_arg0_179534 = ((int64_t *) mem_181575)[i_179519];
                                double gt_arg0_179535 = ((double *) mem_181577)[i_179519];
                                bool cond_179536 = gt_arg0_179533 == gt_arg1_179528;
                                bool defunc_0_leq_res_t_res_179537 = sle64(gt_arg0_179534, gt_arg1_179529);
                                bool defunc_0_leq_res_179538 = gt_arg0_179535 <= gt_arg1_179530;
                                bool x_179539 = cond_179536 && defunc_0_leq_res_t_res_179537;
                                bool x_179540 = !cond_179536;
                                bool y_179541 = defunc_0_leq_res_179538 && x_179540;
                                bool defunc_0_leq_res_179542 = x_179539 || y_179541;
                                bool defunc_0_lifted_gt_res_179543 = !defunc_0_leq_res_179542;
                                bool s_179544;
                                int64_t s_179548;
                                bool loop_while_179549;
                                int64_t j_179553;
                                
                                loop_while_179549 = defunc_0_lifted_gt_res_179543;
                                j_179553 = i_179519;
                                while (loop_while_179549) {
                                    bool x_179554 = sle64((int64_t) 0, j_179553);
                                    bool y_179555 = slt64(j_179553, block_sizze_179419);
                                    bool bounds_check_179556 = x_179554 && y_179555;
                                    bool index_certs_179557;
                                    
                                    if (!bounds_check_179556) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179553, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179561 = add64((int64_t) 1, j_179553);
                                    bool x_179562 = sle64((int64_t) 0, copy_arg0_179561);
                                    bool y_179563 = slt64(copy_arg0_179561, block_sizze_179419);
                                    bool bounds_check_179564 = x_179562 && y_179563;
                                    bool index_certs_179565;
                                    
                                    if (!bounds_check_179564) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179561, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179558 = ((int8_t *) mem_181573)[j_179553];
                                    int64_t copy_arg0_179559 = ((int64_t *) mem_181575)[j_179553];
                                    double copy_arg0_179560 = ((double *) mem_181577)[j_179553];
                                    int8_t copy_arg0_179566 = ((int8_t *) mem_181573)[copy_arg0_179561];
                                    int64_t copy_arg0_179567 = ((int64_t *) mem_181575)[copy_arg0_179561];
                                    double copy_arg0_179568 = ((double *) mem_181577)[copy_arg0_179561];
                                    
                                    ((int8_t *) mem_181573)[j_179553] = copy_arg0_179566;
                                    ((int64_t *) mem_181575)[j_179553] = copy_arg0_179567;
                                    ((double *) mem_181577)[j_179553] = copy_arg0_179568;
                                    ((int8_t *) mem_181573)[copy_arg0_179561] = copy_arg0_179558;
                                    ((int64_t *) mem_181575)[copy_arg0_179561] = copy_arg0_179559;
                                    ((double *) mem_181577)[copy_arg0_179561] = copy_arg0_179560;
                                    
                                    int64_t tmp_179575 = sub64(j_179553, (int64_t) 1);
                                    bool cond_179576 = sle64((int64_t) 0, tmp_179575);
                                    bool loop_cond_179577;
                                    
                                    if (cond_179576) {
                                        bool y_179581 = slt64(tmp_179575, block_sizze_179419);
                                        bool bounds_check_179582 = cond_179576 && y_179581;
                                        bool index_certs_179583;
                                        
                                        if (!bounds_check_179582) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179575, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179578 = ((int8_t *) mem_181573)[j_179553];
                                        int64_t gt_arg1_179579 = ((int64_t *) mem_181575)[j_179553];
                                        double gt_arg1_179580 = ((double *) mem_181577)[j_179553];
                                        int8_t gt_arg0_179584 = ((int8_t *) mem_181573)[tmp_179575];
                                        int64_t gt_arg0_179585 = ((int64_t *) mem_181575)[tmp_179575];
                                        double gt_arg0_179586 = ((double *) mem_181577)[tmp_179575];
                                        bool cond_179587 = gt_arg0_179584 == gt_arg1_179578;
                                        bool defunc_0_leq_res_t_res_179588 = sle64(gt_arg0_179585, gt_arg1_179579);
                                        bool defunc_0_leq_res_179589 = gt_arg0_179586 <= gt_arg1_179580;
                                        bool x_179590 = cond_179587 && defunc_0_leq_res_t_res_179588;
                                        bool x_179591 = !cond_179587;
                                        bool y_179592 = defunc_0_leq_res_179589 && x_179591;
                                        bool defunc_0_leq_res_179593 = x_179590 || y_179592;
                                        bool defunc_0_lifted_gt_res_179594 = !defunc_0_leq_res_179593;
                                        
                                        loop_cond_179577 = defunc_0_lifted_gt_res_179594;
                                    } else {
                                        loop_cond_179577 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182604 = loop_cond_179577;
                                    int64_t j_tmp_182608 = tmp_179575;
                                    
                                    loop_while_179549 = loop_while_tmp_182604;
                                    j_179553 = j_tmp_182608;
                                }
                                s_179544 = loop_while_179549;
                                s_179548 = j_179553;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181554, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181557, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181575, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181560, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181577, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                    }
                    if (memblock_alloc(ctx, &mem_181654, flat_dim_179420, "mem_181654")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181654.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint8_t *) mem_181554, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181658, bytes_181556, "mem_181658")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181658.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint64_t *) mem_181557, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181662, bytes_181556, "mem_181662")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181662.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint64_t *) mem_181560, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    
                    int64_t data_179604;
                    bool data_179605;
                    int64_t data_179609;
                    int64_t loop_dz2084Uz2082U_179610;
                    bool loop_while_179611;
                    int64_t stride_179615;
                    
                    if (memblock_set(ctx, &mem_param_181666, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181669, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181672, &mem_181662, "mem_181662") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179610 = flat_dim_179420;
                    loop_while_179611 = loop_cond_179601;
                    stride_179615 = block_sizze_179419;
                    while (loop_while_179611) {
                        int64_t next_stride_179616 = mul64((int64_t) 2, stride_179615);
                        bool zzero_179617 = next_stride_179616 == (int64_t) 0;
                        bool nonzzero_179618 = !zzero_179617;
                        bool nonzzero_cert_179619;
                        
                        if (!nonzzero_179618) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179620 = sdiv64(flat_dim_179420, next_stride_179616);
                        bool bounds_invalid_upwards_179621 = slt64(num_merges_179620, (int64_t) 0);
                        bool valid_179622 = !bounds_invalid_upwards_179621;
                        bool range_valid_c_179623;
                        
                        if (!valid_179622) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179620, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:502:63-73\n   #6  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179625 = sub64(next_stride_179616, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179626 = sle64((int64_t) 0, m_179625);
                        bool cond_179628 = slt64(next_stride_179616, (int64_t) 10);
                        bool protect_assert_disj_179629 = nonzzero_179603 || cond_179628;
                        bool nonzzero_cert_179630;
                        
                        if (!protect_assert_disj_179629) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179631 = smod_safe64(next_stride_179616, merge_block_sizze_179425);
                        bool num_blocks_179632 = zeze_lhs_179631 == (int64_t) 0;
                        bool protect_assert_disj_179633 = cond_179628 || num_blocks_179632;
                        bool assert_c_179634;
                        
                        if (!protect_assert_disj_179633) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179635 = sdiv_safe64(next_stride_179616, merge_block_sizze_179425);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636 = add64((int64_t) 1, num_blocks_179635);
                        int64_t j_m_i_179637 = sub64(next_stride_179616, stride_179615);
                        int64_t flat_dim_179638 = merge_block_sizze_179425 * num_blocks_179635;
                        bool bounds_invalid_upwards_179639 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, (int64_t) 0);
                        bool empty_slice_179640 = j_m_i_179637 == (int64_t) 0;
                        int64_t m_179641 = sub64(j_m_i_179637, (int64_t) 1);
                        bool zzero_lte_i_179642 = sle64((int64_t) 0, stride_179615);
                        bool i_lte_j_179643 = sle64(stride_179615, next_stride_179616);
                        bool empty_slice_179644 = stride_179615 == (int64_t) 0;
                        int64_t m_179645 = sub64(stride_179615, (int64_t) 1);
                        bool bounds_invalid_upwards_179646 = slt64(num_blocks_179635, (int64_t) 0);
                        bool cond_179647 = slt64((int64_t) 0, stride_179615);
                        bool valid_179648 = !bounds_invalid_upwards_179639;
                        int64_t i_p_m_t_s_179649 = add64(stride_179615, m_179641);
                        bool zzero_leq_i_p_m_t_s_179650 = sle64((int64_t) 0, m_179645);
                        bool i_p_m_t_s_leq_w_179651 = slt64(m_179645, next_stride_179616);
                        bool valid_179652 = !bounds_invalid_upwards_179646;
                        bool i_p_m_t_s_leq_w_179653 = slt64(m_179625, flat_dim_179638);
                        bool y_179654 = slt64((int64_t) 0, j_m_i_179637);
                        bool protect_assert_disj_179655 = cond_179628 || valid_179648;
                        bool range_valid_c_179656;
                        
                        if (!protect_assert_disj_179655) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179657 = sle64((int64_t) 0, i_p_m_t_s_179649);
                        bool i_p_m_t_s_leq_w_179658 = slt64(i_p_m_t_s_179649, next_stride_179616);
                        bool y_179659 = zzero_leq_i_p_m_t_s_179650 && i_p_m_t_s_leq_w_179651;
                        bool protect_assert_disj_179660 = cond_179628 || valid_179652;
                        bool range_valid_c_179661;
                        
                        if (!protect_assert_disj_179660) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179635, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179662 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179653;
                        bool y_179663 = zzero_lte_i_179642 && i_p_m_t_s_leq_w_179658;
                        bool forwards_ok_179664 = zzero_lte_i_179642 && y_179659;
                        bool ok_or_empty_179665 = zzero_179617 || y_179662;
                        bool protect_assert_disj_179666 = cond_179647 || y_179654;
                        bool y_179667 = zzero_leq_i_p_m_t_s_179657 && y_179663;
                        bool ok_or_empty_179668 = empty_slice_179644 || forwards_ok_179664;
                        bool protect_assert_disj_179669 = cond_179628 || ok_or_empty_179665;
                        bool index_certs_179670;
                        
                        if (!protect_assert_disj_179669) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) flat_dim_179638, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179671 = !cond_179628;
                        bool protect_assert_disj_179672 = protect_assert_disj_179666 || loop_not_taken_179671;
                        bool index_certs_179673;
                        
                        if (!protect_assert_disj_179672) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179674 = i_lte_j_179643 && y_179667;
                        bool protect_assert_disj_179675 = cond_179628 || ok_or_empty_179668;
                        bool index_certs_179676;
                        
                        if (!protect_assert_disj_179675) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179677 = ok_or_empty_179668 || loop_not_taken_179671;
                        bool index_certs_179678;
                        
                        if (!protect_assert_disj_179677) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179679 = empty_slice_179640 || forwards_ok_179674;
                        bool protect_assert_disj_179680 = cond_179628 || ok_or_empty_179679;
                        bool index_certs_179681;
                        
                        if (!protect_assert_disj_179680) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179682 = loop_not_taken_179671 || ok_or_empty_179679;
                        bool index_certs_179683;
                        
                        if (!protect_assert_disj_179682) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181673 = next_stride_179616 * num_merges_179620;
                        int64_t binop_x_181675 = (int64_t) 8 * num_merges_179620;
                        int64_t bytes_181676 = next_stride_179616 * binop_x_181675;
                        bool i_lte_j_179627 = sle64((int64_t) 0, next_stride_179616);
                        
                        if (mem_181674_cached_sizze_182903 < bytes_181673) {
                            err = lexical_realloc(ctx, &mem_181674, &mem_181674_cached_sizze_182903, bytes_181673);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181677_cached_sizze_182904 < bytes_181676) {
                            err = lexical_realloc(ctx, &mem_181677, &mem_181677_cached_sizze_182904, bytes_181676);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181680_cached_sizze_182905 < bytes_181676) {
                            err = lexical_realloc(ctx, &mem_181680, &mem_181680_cached_sizze_182905, bytes_181676);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181693 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636;
                        int64_t binop_x_181711 = (int64_t) 8 * num_blocks_179635;
                        int64_t bytes_181712 = merge_block_sizze_179425 * binop_x_181711;
                        int64_t bytes_181776 = (int64_t) 16 * stride_179615;
                        
                        for (int64_t i_180847 = 0; i_180847 < num_merges_179620; i_180847++) {
                            int64_t start_179688 = mul64(next_stride_179616, i_180847);
                            int64_t j_m_i_179689 = sub64(loop_dz2084Uz2082U_179610, start_179688);
                            bool empty_slice_179690 = j_m_i_179689 == (int64_t) 0;
                            int64_t m_179691 = sub64(j_m_i_179689, (int64_t) 1);
                            int64_t i_p_m_t_s_179692 = add64(start_179688, m_179691);
                            bool zzero_leq_i_p_m_t_s_179693 = sle64((int64_t) 0, i_p_m_t_s_179692);
                            bool i_p_m_t_s_leq_w_179694 = slt64(i_p_m_t_s_179692, loop_dz2084Uz2082U_179610);
                            bool zzero_lte_i_179695 = sle64((int64_t) 0, start_179688);
                            bool i_lte_j_179696 = sle64(start_179688, loop_dz2084Uz2082U_179610);
                            bool y_179697 = i_p_m_t_s_leq_w_179694 && zzero_lte_i_179695;
                            bool y_179698 = zzero_leq_i_p_m_t_s_179693 && y_179697;
                            bool forwards_ok_179699 = i_lte_j_179696 && y_179698;
                            bool ok_or_empty_179700 = empty_slice_179690 || forwards_ok_179699;
                            bool index_certs_179701;
                            
                            if (!ok_or_empty_179700) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179688, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179610, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179702 = slt64(m_179625, j_m_i_179689);
                            bool y_179703 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179702;
                            bool forwards_ok_179704 = i_lte_j_179627 && y_179703;
                            bool ok_or_empty_179705 = zzero_179617 || forwards_ok_179704;
                            bool index_certs_179706;
                            
                            if (!ok_or_empty_179705) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) j_m_i_179689, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179628) {
                                int8_t dummy_179710;
                                int64_t dummy_179711;
                                double dummy_179712;
                                
                                if (cond_179647) {
                                    int8_t head_res_179713 = ((int8_t *) mem_param_181666.mem)[start_179688];
                                    int64_t head_res_179714 = ((int64_t *) mem_param_181669.mem)[start_179688];
                                    double head_res_179715 = ((double *) mem_param_181672.mem)[start_179688];
                                    
                                    dummy_179710 = head_res_179713;
                                    dummy_179711 = head_res_179714;
                                    dummy_179712 = head_res_179715;
                                } else {
                                    int64_t slice_179716 = stride_179615 + start_179688;
                                    int8_t head_res_179717 = ((int8_t *) mem_param_181666.mem)[slice_179716];
                                    int64_t head_res_179718 = ((int64_t *) mem_param_181669.mem)[slice_179716];
                                    double head_res_179719 = ((double *) mem_param_181672.mem)[slice_179716];
                                    
                                    dummy_179710 = head_res_179717;
                                    dummy_179711 = head_res_179718;
                                    dummy_179712 = head_res_179719;
                                }
                                if (memblock_alloc(ctx, &mem_181775, next_stride_179616, "mem_181775")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182621 = 0; nest_i_182621 < next_stride_179616; nest_i_182621++) {
                                    ((int8_t *) mem_181775.mem)[nest_i_182621] = dummy_179710;
                                }
                                if (memblock_alloc(ctx, &mem_181777, bytes_181776, "mem_181777")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182622 = 0; nest_i_182622 < next_stride_179616; nest_i_182622++) {
                                    ((int64_t *) mem_181777.mem)[nest_i_182622] = dummy_179711;
                                }
                                if (memblock_alloc(ctx, &mem_181779, bytes_181776, "mem_181779")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182623 = 0; nest_i_182623 < next_stride_179616; nest_i_182623++) {
                                    ((double *) mem_181779.mem)[nest_i_182623] = dummy_179712;
                                }
                                
                                int64_t data_179723;
                                int64_t i_179728 = (int64_t) 0;
                                
                                for (int64_t k_179727 = 0; k_179727 < next_stride_179616; k_179727++) {
                                    int64_t j_179732 = sub64(k_179727, i_179728);
                                    bool cond_179733 = j_179732 == j_m_i_179637;
                                    bool cond_179734;
                                    
                                    if (cond_179733) {
                                        cond_179734 = 1;
                                    } else {
                                        bool cond_179735 = slt64(i_179728, stride_179615);
                                        bool cond_f_res_179736;
                                        
                                        if (cond_179735) {
                                            bool x_179737 = sle64((int64_t) 0, j_179732);
                                            bool y_179738 = slt64(j_179732, j_m_i_179637);
                                            bool bounds_check_179739 = x_179737 && y_179738;
                                            bool index_certs_179740;
                                            
                                            if (!bounds_check_179739) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179746 = sle64((int64_t) 0, i_179728);
                                            bool bounds_check_179747 = cond_179735 && x_179746;
                                            bool index_certs_179748;
                                            
                                            if (!bounds_check_179747) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179741 = stride_179615 + j_179732;
                                            int64_t slice_179742 = start_179688 + slice_179741;
                                            int8_t leq_arg1_179743 = ((int8_t *) mem_param_181666.mem)[slice_179742];
                                            int64_t leq_arg1_179744 = ((int64_t *) mem_param_181669.mem)[slice_179742];
                                            double leq_arg1_179745 = ((double *) mem_param_181672.mem)[slice_179742];
                                            int64_t slice_179749 = start_179688 + i_179728;
                                            int8_t leq_arg0_179750 = ((int8_t *) mem_param_181666.mem)[slice_179749];
                                            int64_t leq_arg0_179751 = ((int64_t *) mem_param_181669.mem)[slice_179749];
                                            double leq_arg0_179752 = ((double *) mem_param_181672.mem)[slice_179749];
                                            bool cond_179753 = leq_arg0_179750 == leq_arg1_179743;
                                            bool defunc_0_leq_res_t_res_179754 = sle64(leq_arg0_179751, leq_arg1_179744);
                                            bool defunc_0_leq_res_179755 = leq_arg0_179752 <= leq_arg1_179745;
                                            bool x_179756 = cond_179753 && defunc_0_leq_res_t_res_179754;
                                            bool x_179757 = !cond_179753;
                                            bool y_179758 = defunc_0_leq_res_179755 && x_179757;
                                            bool defunc_0_leq_res_179759 = x_179756 || y_179758;
                                            
                                            cond_f_res_179736 = defunc_0_leq_res_179759;
                                        } else {
                                            cond_f_res_179736 = 0;
                                        }
                                        cond_179734 = cond_f_res_179736;
                                    }
                                    
                                    int64_t loopres_179760;
                                    int8_t loopres_179761;
                                    int64_t loopres_179762;
                                    double loopres_179763;
                                    
                                    if (cond_179734) {
                                        bool x_179765 = sle64((int64_t) 0, i_179728);
                                        bool y_179766 = slt64(i_179728, stride_179615);
                                        bool bounds_check_179767 = x_179765 && y_179766;
                                        bool index_certs_179768;
                                        
                                        if (!bounds_check_179767) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179764 = add64((int64_t) 1, i_179728);
                                        int64_t slice_179769 = start_179688 + i_179728;
                                        int8_t tmp_179770 = ((int8_t *) mem_param_181666.mem)[slice_179769];
                                        int64_t tmp_179771 = ((int64_t *) mem_param_181669.mem)[slice_179769];
                                        double tmp_179772 = ((double *) mem_param_181672.mem)[slice_179769];
                                        
                                        loopres_179760 = tmp_179764;
                                        loopres_179761 = tmp_179770;
                                        loopres_179762 = tmp_179771;
                                        loopres_179763 = tmp_179772;
                                    } else {
                                        bool x_179773 = sle64((int64_t) 0, j_179732);
                                        bool y_179774 = slt64(j_179732, j_m_i_179637);
                                        bool bounds_check_179775 = x_179773 && y_179774;
                                        bool index_certs_179776;
                                        
                                        if (!bounds_check_179775) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179777 = stride_179615 + j_179732;
                                        int64_t slice_179778 = start_179688 + slice_179777;
                                        int8_t tmp_179779 = ((int8_t *) mem_param_181666.mem)[slice_179778];
                                        int64_t tmp_179780 = ((int64_t *) mem_param_181669.mem)[slice_179778];
                                        double tmp_179781 = ((double *) mem_param_181672.mem)[slice_179778];
                                        
                                        loopres_179760 = i_179728;
                                        loopres_179761 = tmp_179779;
                                        loopres_179762 = tmp_179780;
                                        loopres_179763 = tmp_179781;
                                    }
                                    ((int8_t *) mem_181775.mem)[k_179727] = loopres_179761;
                                    ((int64_t *) mem_181777.mem)[k_179727] = loopres_179762;
                                    ((double *) mem_181779.mem)[k_179727] = loopres_179763;
                                    
                                    int64_t i_tmp_182624 = loopres_179760;
                                    
                                    i_179728 = i_tmp_182624;
                                }
                                data_179723 = i_179728;
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181775, "mem_181775") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181777, "mem_181777") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181779, "mem_181779") != 0)
                                    return 1;
                            } else {
                                if (mem_181694_cached_sizze_182906 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181694, &mem_181694_cached_sizze_182906, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181696_cached_sizze_182907 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181696, &mem_181696_cached_sizze_182907, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180828 = 0; i_180828 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636; i_180828++) {
                                    int64_t split_count_arg3_179789 = mul64(merge_block_sizze_179425, i_180828);
                                    int64_t defunc_0_split_count_res_179790;
                                    int64_t defunc_0_split_count_res_179791;
                                    int64_t defunc_0_split_count_res_179792;
                                    int64_t defunc_0_split_count_res_179793;
                                    int64_t defunc_0_split_count_res_179794;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_179790, &defunc_0_split_count_res_179791, &defunc_0_split_count_res_179792, &defunc_0_split_count_res_179793, &defunc_0_split_count_res_179794, (int64_t) 0, stride_179615, (int64_t) 0, j_m_i_179637, split_count_arg3_179789) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179795 = slt64((int64_t) 0, defunc_0_split_count_res_179794);
                                    bool defunc_0_split_count_res_179796;
                                    int64_t defunc_0_split_count_res_179797;
                                    int64_t defunc_0_split_count_res_179798;
                                    int64_t defunc_0_split_count_res_179799;
                                    int64_t defunc_0_split_count_res_179800;
                                    int64_t defunc_0_split_count_res_179801;
                                    bool loop_while_179802;
                                    int64_t ss_179803;
                                    int64_t ss_179804;
                                    int64_t tt_179805;
                                    int64_t tt_179806;
                                    int64_t count_179807;
                                    
                                    loop_while_179802 = loop_cond_179795;
                                    ss_179803 = defunc_0_split_count_res_179790;
                                    ss_179804 = defunc_0_split_count_res_179791;
                                    tt_179805 = defunc_0_split_count_res_179792;
                                    tt_179806 = defunc_0_split_count_res_179793;
                                    count_179807 = defunc_0_split_count_res_179794;
                                    while (loop_while_179802) {
                                        int64_t zlze_lhs_179808 = sub64(ss_179804, ss_179803);
                                        bool cond_179809 = sle64(zlze_lhs_179808, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179810;
                                        int64_t defunc_0_lifted_step_res_179811;
                                        int64_t defunc_0_lifted_step_res_179812;
                                        int64_t defunc_0_lifted_step_res_179813;
                                        
                                        if (cond_179809) {
                                            int64_t tmp_179814 = add64(tt_179805, count_179807);
                                            
                                            defunc_0_lifted_step_res_179810 = ss_179803;
                                            defunc_0_lifted_step_res_179811 = tmp_179814;
                                            defunc_0_lifted_step_res_179812 = tt_179806;
                                            defunc_0_lifted_step_res_179813 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179815 = sub64(tt_179806, tt_179805);
                                            bool cond_179816 = sle64(zlze_lhs_179815, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179817;
                                            int64_t defunc_0_lifted_step_res_f_res_179818;
                                            int64_t defunc_0_lifted_step_res_f_res_179819;
                                            int64_t defunc_0_lifted_step_res_f_res_179820;
                                            
                                            if (cond_179816) {
                                                int64_t tmp_179821 = add64(ss_179803, count_179807);
                                                
                                                defunc_0_lifted_step_res_f_res_179817 = tmp_179821;
                                                defunc_0_lifted_step_res_f_res_179818 = tt_179805;
                                                defunc_0_lifted_step_res_f_res_179819 = tt_179806;
                                                defunc_0_lifted_step_res_f_res_179820 = (int64_t) 0;
                                            } else {
                                                bool cond_179822 = count_179807 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179823;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179824;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179825;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179826;
                                                
                                                if (cond_179822) {
                                                    bool x_179827 = sle64((int64_t) 0, ss_179803);
                                                    bool y_179828 = slt64(ss_179803, stride_179615);
                                                    bool bounds_check_179829 = x_179827 && y_179828;
                                                    bool index_certs_179830;
                                                    
                                                    if (!bounds_check_179829) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179803, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:502:63-73\n   #13 ftsort.fut:495:1-502:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179835 = sle64((int64_t) 0, tt_179805);
                                                    bool y_179836 = slt64(tt_179805, j_m_i_179637);
                                                    bool bounds_check_179837 = x_179835 && y_179836;
                                                    bool index_certs_179838;
                                                    
                                                    if (!bounds_check_179837) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179805, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:502:63-73\n   #13 ftsort.fut:495:1-502:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179831 = start_179688 + ss_179803;
                                                    int8_t leq_arg1_179832 = ((int8_t *) mem_param_181666.mem)[slice_179831];
                                                    int64_t leq_arg1_179833 = ((int64_t *) mem_param_181669.mem)[slice_179831];
                                                    double leq_arg1_179834 = ((double *) mem_param_181672.mem)[slice_179831];
                                                    int64_t slice_179839 = stride_179615 + tt_179805;
                                                    int64_t slice_179840 = start_179688 + slice_179839;
                                                    int8_t leq_arg0_179841 = ((int8_t *) mem_param_181666.mem)[slice_179840];
                                                    int64_t leq_arg0_179842 = ((int64_t *) mem_param_181669.mem)[slice_179840];
                                                    double leq_arg0_179843 = ((double *) mem_param_181672.mem)[slice_179840];
                                                    bool cond_179844 = leq_arg0_179841 == leq_arg1_179832;
                                                    bool defunc_0_leq_res_t_res_179845 = sle64(leq_arg0_179842, leq_arg1_179833);
                                                    bool defunc_0_leq_res_179846 = leq_arg0_179843 <= leq_arg1_179834;
                                                    bool x_179847 = cond_179844 && defunc_0_leq_res_t_res_179845;
                                                    bool x_179848 = !cond_179844;
                                                    bool y_179849 = defunc_0_leq_res_179846 && x_179848;
                                                    bool defunc_0_leq_res_179850 = x_179847 || y_179849;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    
                                                    if (defunc_0_leq_res_179850) {
                                                        int64_t tmp_179853 = add64((int64_t) 1, tt_179805);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = ss_179803;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tmp_179853;
                                                    } else {
                                                        int64_t tmp_179854 = add64((int64_t) 1, ss_179803);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = tmp_179854;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tt_179805;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = tt_179806;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179855 = sdiv64(count_179807, (int64_t) 2);
                                                    int64_t n_179856 = sub64(count_179807, m_179855);
                                                    bool cond_179857 = n_179856 == (int64_t) 0;
                                                    int64_t zgze_lhs_179858 = add64(ss_179803, m_179855);
                                                    bool cond_f_res_179859 = sle64(ss_179804, zgze_lhs_179858);
                                                    bool x_179860 = !cond_179857;
                                                    bool y_179861 = cond_f_res_179859 && x_179860;
                                                    bool cond_179862 = cond_179857 || y_179861;
                                                    bool leq_y_x_179863;
                                                    
                                                    if (cond_179862) {
                                                        leq_y_x_179863 = 1;
                                                    } else {
                                                        bool x_179864 = sle64((int64_t) 0, zgze_lhs_179858);
                                                        bool y_179865 = slt64(zgze_lhs_179858, stride_179615);
                                                        bool bounds_check_179866 = x_179864 && y_179865;
                                                        bool index_certs_179867;
                                                        
                                                        if (!bounds_check_179866) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179858, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:502:63-73\n   #13 ftsort.fut:495:1-502:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179872 = add64(tt_179805, n_179856);
                                                        int64_t leq_arg0_179873 = sub64(zm_lhs_179872, (int64_t) 1);
                                                        bool x_179874 = sle64((int64_t) 0, leq_arg0_179873);
                                                        bool y_179875 = slt64(leq_arg0_179873, j_m_i_179637);
                                                        bool bounds_check_179876 = x_179874 && y_179875;
                                                        bool index_certs_179877;
                                                        
                                                        if (!bounds_check_179876) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179873, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:502:63-73\n   #13 ftsort.fut:495:1-502:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179868 = start_179688 + zgze_lhs_179858;
                                                        int8_t leq_arg1_179869 = ((int8_t *) mem_param_181666.mem)[slice_179868];
                                                        int64_t leq_arg1_179870 = ((int64_t *) mem_param_181669.mem)[slice_179868];
                                                        double leq_arg1_179871 = ((double *) mem_param_181672.mem)[slice_179868];
                                                        int64_t slice_179878 = stride_179615 + leq_arg0_179873;
                                                        int64_t slice_179879 = start_179688 + slice_179878;
                                                        int8_t leq_arg0_179880 = ((int8_t *) mem_param_181666.mem)[slice_179879];
                                                        int64_t leq_arg0_179881 = ((int64_t *) mem_param_181669.mem)[slice_179879];
                                                        double leq_arg0_179882 = ((double *) mem_param_181672.mem)[slice_179879];
                                                        bool cond_179883 = leq_arg0_179880 == leq_arg1_179869;
                                                        bool defunc_0_leq_res_t_res_179884 = sle64(leq_arg0_179881, leq_arg1_179870);
                                                        bool defunc_0_leq_res_179885 = leq_arg0_179882 <= leq_arg1_179871;
                                                        bool x_179886 = cond_179883 && defunc_0_leq_res_t_res_179884;
                                                        bool x_179887 = !cond_179883;
                                                        bool y_179888 = defunc_0_leq_res_179885 && x_179887;
                                                        bool defunc_0_leq_res_179889 = x_179886 || y_179888;
                                                        
                                                        leq_y_x_179863 = defunc_0_leq_res_179889;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                    
                                                    if (leq_y_x_179863) {
                                                        int64_t tmp_179893 = add64(tt_179805, n_179856);
                                                        int64_t tmp_179894 = sub64(count_179807, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tmp_179893;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tt_179806;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = tmp_179894;
                                                    } else {
                                                        int64_t tmp_179895 = add64(tt_179805, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tt_179805;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tmp_179895;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = count_179807;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = ss_179803;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                }
                                                defunc_0_lifted_step_res_f_res_179817 = defunc_0_lifted_step_res_f_res_f_res_179823;
                                                defunc_0_lifted_step_res_f_res_179818 = defunc_0_lifted_step_res_f_res_f_res_179824;
                                                defunc_0_lifted_step_res_f_res_179819 = defunc_0_lifted_step_res_f_res_f_res_179825;
                                                defunc_0_lifted_step_res_f_res_179820 = defunc_0_lifted_step_res_f_res_f_res_179826;
                                            }
                                            defunc_0_lifted_step_res_179810 = defunc_0_lifted_step_res_f_res_179817;
                                            defunc_0_lifted_step_res_179811 = defunc_0_lifted_step_res_f_res_179818;
                                            defunc_0_lifted_step_res_179812 = defunc_0_lifted_step_res_f_res_179819;
                                            defunc_0_lifted_step_res_179813 = defunc_0_lifted_step_res_f_res_179820;
                                        }
                                        
                                        int64_t loopres_179896;
                                        int64_t loopres_179897;
                                        int64_t loopres_179898;
                                        int64_t loopres_179899;
                                        int64_t loopres_179900;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_179896, &loopres_179897, &loopres_179898, &loopres_179899, &loopres_179900, defunc_0_lifted_step_res_179810, ss_179804, defunc_0_lifted_step_res_179811, defunc_0_lifted_step_res_179812, defunc_0_lifted_step_res_179813) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179901 = slt64((int64_t) 0, loopres_179900);
                                        bool loop_while_tmp_182630 = loop_cond_179901;
                                        int64_t ss_tmp_182631 = loopres_179896;
                                        int64_t ss_tmp_182632 = loopres_179897;
                                        int64_t tt_tmp_182633 = loopres_179898;
                                        int64_t tt_tmp_182634 = loopres_179899;
                                        int64_t count_tmp_182635 = loopres_179900;
                                        
                                        loop_while_179802 = loop_while_tmp_182630;
                                        ss_179803 = ss_tmp_182631;
                                        ss_179804 = ss_tmp_182632;
                                        tt_179805 = tt_tmp_182633;
                                        tt_179806 = tt_tmp_182634;
                                        count_179807 = count_tmp_182635;
                                    }
                                    defunc_0_split_count_res_179796 = loop_while_179802;
                                    defunc_0_split_count_res_179797 = ss_179803;
                                    defunc_0_split_count_res_179798 = ss_179804;
                                    defunc_0_split_count_res_179799 = tt_179805;
                                    defunc_0_split_count_res_179800 = tt_179806;
                                    defunc_0_split_count_res_179801 = count_179807;
                                    ((int64_t *) mem_181694)[i_180828] = defunc_0_split_count_res_179797;
                                    ((int64_t *) mem_181696)[i_180828] = defunc_0_split_count_res_179799;
                                }
                                if (mem_181710_cached_sizze_182908 < flat_dim_179638) {
                                    err = lexical_realloc(ctx, &mem_181710, &mem_181710_cached_sizze_182908, flat_dim_179638);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181713_cached_sizze_182909 < bytes_181712) {
                                    err = lexical_realloc(ctx, &mem_181713, &mem_181713_cached_sizze_182909, bytes_181712);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181716_cached_sizze_182910 < bytes_181712) {
                                    err = lexical_realloc(ctx, &mem_181716, &mem_181716_cached_sizze_182910, bytes_181712);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180837 = 0; i_180837 < num_blocks_179635; i_180837++) {
                                    bool y_179910 = slt64(i_180837, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool index_certs_179912;
                                    
                                    if (!y_179910) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179913 = ((int64_t *) mem_181694)[i_180837];
                                    int64_t defunc_0_f_res_179914 = ((int64_t *) mem_181696)[i_180837];
                                    int64_t tmp_179915 = add64((int64_t) 1, i_180837);
                                    bool x_179916 = sle64((int64_t) 0, tmp_179915);
                                    bool y_179917 = slt64(tmp_179915, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool bounds_check_179918 = x_179916 && y_179917;
                                    bool index_certs_179919;
                                    
                                    if (!bounds_check_179918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179915, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179920 = ((int64_t *) mem_181694)[tmp_179915];
                                    int64_t defunc_0_f_res_179921 = ((int64_t *) mem_181696)[tmp_179915];
                                    int64_t merge_sequential_arg2_179922 = add64(stride_179615, defunc_0_f_res_179914);
                                    int64_t merge_sequential_arg2_179923 = add64(stride_179615, defunc_0_f_res_179921);
                                    int64_t j_m_i_179924 = sub64(merge_sequential_arg2_179923, merge_sequential_arg2_179922);
                                    bool empty_slice_179925 = j_m_i_179924 == (int64_t) 0;
                                    int64_t m_179926 = sub64(j_m_i_179924, (int64_t) 1);
                                    int64_t i_p_m_t_s_179927 = add64(merge_sequential_arg2_179922, m_179926);
                                    bool zzero_leq_i_p_m_t_s_179928 = sle64((int64_t) 0, i_p_m_t_s_179927);
                                    bool i_p_m_t_s_leq_w_179929 = slt64(i_p_m_t_s_179927, next_stride_179616);
                                    bool zzero_lte_i_179930 = sle64((int64_t) 0, merge_sequential_arg2_179922);
                                    bool i_lte_j_179931 = sle64(merge_sequential_arg2_179922, merge_sequential_arg2_179923);
                                    bool y_179932 = i_p_m_t_s_leq_w_179929 && zzero_lte_i_179930;
                                    bool y_179933 = zzero_leq_i_p_m_t_s_179928 && y_179932;
                                    bool forwards_ok_179934 = i_lte_j_179931 && y_179933;
                                    bool ok_or_empty_179935 = empty_slice_179925 || forwards_ok_179934;
                                    bool index_certs_179936;
                                    
                                    if (!ok_or_empty_179935) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179922, ":", (long long) merge_sequential_arg2_179923, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179937 = sub64(defunc_0_f_res_179920, defunc_0_f_res_179913);
                                    bool empty_slice_179938 = j_m_i_179937 == (int64_t) 0;
                                    int64_t m_179939 = sub64(j_m_i_179937, (int64_t) 1);
                                    int64_t i_p_m_t_s_179940 = add64(defunc_0_f_res_179913, m_179939);
                                    bool zzero_leq_i_p_m_t_s_179941 = sle64((int64_t) 0, i_p_m_t_s_179940);
                                    bool i_p_m_t_s_leq_w_179942 = slt64(i_p_m_t_s_179940, next_stride_179616);
                                    bool zzero_lte_i_179943 = sle64((int64_t) 0, defunc_0_f_res_179913);
                                    bool i_lte_j_179944 = sle64(defunc_0_f_res_179913, defunc_0_f_res_179920);
                                    bool y_179945 = i_p_m_t_s_leq_w_179942 && zzero_lte_i_179943;
                                    bool y_179946 = zzero_leq_i_p_m_t_s_179941 && y_179945;
                                    bool forwards_ok_179947 = i_lte_j_179944 && y_179946;
                                    bool ok_or_empty_179948 = empty_slice_179938 || forwards_ok_179947;
                                    bool index_certs_179949;
                                    
                                    if (!ok_or_empty_179948) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179913, ":", (long long) defunc_0_f_res_179920, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179950 = slt64((int64_t) 0, j_m_i_179937);
                                    int8_t dummy_179951;
                                    int64_t dummy_179952;
                                    double dummy_179953;
                                    
                                    if (cond_179950) {
                                        bool index_certs_179954;
                                        
                                        if (!cond_179950) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179955 = start_179688 + defunc_0_f_res_179913;
                                        int8_t head_res_179956 = ((int8_t *) mem_param_181666.mem)[slice_179955];
                                        int64_t head_res_179957 = ((int64_t *) mem_param_181669.mem)[slice_179955];
                                        double head_res_179958 = ((double *) mem_param_181672.mem)[slice_179955];
                                        
                                        dummy_179951 = head_res_179956;
                                        dummy_179952 = head_res_179957;
                                        dummy_179953 = head_res_179958;
                                    } else {
                                        bool y_179959 = slt64((int64_t) 0, j_m_i_179924);
                                        bool index_certs_179960;
                                        
                                        if (!y_179959) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179961 = start_179688 + merge_sequential_arg2_179922;
                                        int8_t head_res_179962 = ((int8_t *) mem_param_181666.mem)[slice_179961];
                                        int64_t head_res_179963 = ((int64_t *) mem_param_181669.mem)[slice_179961];
                                        double head_res_179964 = ((double *) mem_param_181672.mem)[slice_179961];
                                        
                                        dummy_179951 = head_res_179962;
                                        dummy_179952 = head_res_179963;
                                        dummy_179953 = head_res_179964;
                                    }
                                    for (int64_t nest_i_182639 = 0; nest_i_182639 < merge_block_sizze_179425; nest_i_182639++) {
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + nest_i_182639] = dummy_179951;
                                    }
                                    for (int64_t nest_i_182640 = 0; nest_i_182640 < merge_block_sizze_179425; nest_i_182640++) {
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + nest_i_182640] = dummy_179952;
                                    }
                                    for (int64_t nest_i_182641 = 0; nest_i_182641 < merge_block_sizze_179425; nest_i_182641++) {
                                        ((double *) mem_181716)[i_180837 * merge_block_sizze_179425 + nest_i_182641] = dummy_179953;
                                    }
                                    
                                    int64_t data_179968;
                                    int64_t i_179973 = (int64_t) 0;
                                    
                                    for (int64_t k_179972 = 0; k_179972 < merge_block_sizze_179425; k_179972++) {
                                        int64_t j_179977 = sub64(k_179972, i_179973);
                                        bool cond_179978 = j_179977 == j_m_i_179924;
                                        bool cond_179979;
                                        
                                        if (cond_179978) {
                                            cond_179979 = 1;
                                        } else {
                                            bool cond_179980 = slt64(i_179973, j_m_i_179937);
                                            bool cond_f_res_179981;
                                            
                                            if (cond_179980) {
                                                bool x_179982 = sle64((int64_t) 0, j_179977);
                                                bool y_179983 = slt64(j_179977, j_m_i_179924);
                                                bool bounds_check_179984 = x_179982 && y_179983;
                                                bool index_certs_179985;
                                                
                                                if (!bounds_check_179984) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179991 = sle64((int64_t) 0, i_179973);
                                                bool bounds_check_179992 = cond_179980 && x_179991;
                                                bool index_certs_179993;
                                                
                                                if (!bounds_check_179992) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179986 = merge_sequential_arg2_179922 + j_179977;
                                                int64_t slice_179987 = start_179688 + slice_179986;
                                                int8_t leq_arg1_179988 = ((int8_t *) mem_param_181666.mem)[slice_179987];
                                                int64_t leq_arg1_179989 = ((int64_t *) mem_param_181669.mem)[slice_179987];
                                                double leq_arg1_179990 = ((double *) mem_param_181672.mem)[slice_179987];
                                                int64_t slice_179994 = defunc_0_f_res_179913 + i_179973;
                                                int64_t slice_179995 = start_179688 + slice_179994;
                                                int8_t leq_arg0_179996 = ((int8_t *) mem_param_181666.mem)[slice_179995];
                                                int64_t leq_arg0_179997 = ((int64_t *) mem_param_181669.mem)[slice_179995];
                                                double leq_arg0_179998 = ((double *) mem_param_181672.mem)[slice_179995];
                                                bool cond_179999 = leq_arg0_179996 == leq_arg1_179988;
                                                bool defunc_0_leq_res_t_res_180000 = sle64(leq_arg0_179997, leq_arg1_179989);
                                                bool defunc_0_leq_res_180001 = leq_arg0_179998 <= leq_arg1_179990;
                                                bool x_180002 = cond_179999 && defunc_0_leq_res_t_res_180000;
                                                bool x_180003 = !cond_179999;
                                                bool y_180004 = defunc_0_leq_res_180001 && x_180003;
                                                bool defunc_0_leq_res_180005 = x_180002 || y_180004;
                                                
                                                cond_f_res_179981 = defunc_0_leq_res_180005;
                                            } else {
                                                cond_f_res_179981 = 0;
                                            }
                                            cond_179979 = cond_f_res_179981;
                                        }
                                        
                                        int64_t loopres_180006;
                                        int8_t loopres_180007;
                                        int64_t loopres_180008;
                                        double loopres_180009;
                                        
                                        if (cond_179979) {
                                            bool x_180011 = sle64((int64_t) 0, i_179973);
                                            bool y_180012 = slt64(i_179973, j_m_i_179937);
                                            bool bounds_check_180013 = x_180011 && y_180012;
                                            bool index_certs_180014;
                                            
                                            if (!bounds_check_180013) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180010 = add64((int64_t) 1, i_179973);
                                            int64_t slice_180015 = defunc_0_f_res_179913 + i_179973;
                                            int64_t slice_180016 = start_179688 + slice_180015;
                                            int8_t tmp_180017 = ((int8_t *) mem_param_181666.mem)[slice_180016];
                                            int64_t tmp_180018 = ((int64_t *) mem_param_181669.mem)[slice_180016];
                                            double tmp_180019 = ((double *) mem_param_181672.mem)[slice_180016];
                                            
                                            loopres_180006 = tmp_180010;
                                            loopres_180007 = tmp_180017;
                                            loopres_180008 = tmp_180018;
                                            loopres_180009 = tmp_180019;
                                        } else {
                                            bool x_180020 = sle64((int64_t) 0, j_179977);
                                            bool y_180021 = slt64(j_179977, j_m_i_179924);
                                            bool bounds_check_180022 = x_180020 && y_180021;
                                            bool index_certs_180023;
                                            
                                            if (!bounds_check_180022) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180024 = merge_sequential_arg2_179922 + j_179977;
                                            int64_t slice_180025 = start_179688 + slice_180024;
                                            int8_t tmp_180026 = ((int8_t *) mem_param_181666.mem)[slice_180025];
                                            int64_t tmp_180027 = ((int64_t *) mem_param_181669.mem)[slice_180025];
                                            double tmp_180028 = ((double *) mem_param_181672.mem)[slice_180025];
                                            
                                            loopres_180006 = i_179973;
                                            loopres_180007 = tmp_180026;
                                            loopres_180008 = tmp_180027;
                                            loopres_180009 = tmp_180028;
                                        }
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180007;
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180008;
                                        ((double *) mem_181716)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180009;
                                        
                                        int64_t i_tmp_182642 = loopres_180006;
                                        
                                        i_179973 = i_tmp_182642;
                                    }
                                    data_179968 = i_179973;
                                }
                                if (memblock_alloc(ctx, &mem_181765, flat_dim_179638, "mem_181765")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181765.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint8_t *) mem_181710, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181769, bytes_181712, "mem_181769")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181769.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint64_t *) mem_181713, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181773, bytes_181712, "mem_181773")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181773.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint64_t *) mem_181716, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181765, "mem_181765") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181769, "mem_181769") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181773, "mem_181773") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181674, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181806.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181677, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181803.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181680, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181800.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181820, bytes_181673, "mem_181820")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181820.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint8_t *) mem_181674, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181824, bytes_181676, "mem_181824")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181824.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint64_t *) mem_181677, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181828, bytes_181676, "mem_181828")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint64_t *) mem_181680, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        
                        bool loop_cond_180048 = slt64(next_stride_179616, flat_dim_179420);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182609, &mem_181820, "mem_181820") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182610, &mem_181824, "mem_181824") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182611, &mem_181828, "mem_181828") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182612 = bytes_181673;
                        bool loop_while_tmp_182613 = loop_cond_180048;
                        int64_t stride_tmp_182617 = next_stride_179616;
                        
                        if (memblock_set(ctx, &mem_param_181666, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181669, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181672, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179610 = loop_dz2084Uz2082U_tmp_182612;
                        loop_while_179611 = loop_while_tmp_182613;
                        stride_179615 = stride_tmp_182617;
                    }
                    if (memblock_set(ctx, &ext_mem_181838, &mem_param_181666, "mem_param_181666") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181837, &mem_param_181669, "mem_param_181669") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181836, &mem_param_181672, "mem_param_181672") != 0)
                        return 1;
                    data_179604 = loop_dz2084Uz2082U_179610;
                    data_179605 = loop_while_179611;
                    data_179609 = stride_179615;
                    if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
                        return 1;
                    
                    bool empty_slice_180049 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180050 = sle64((int64_t) 0, zs_lhs_179404);
                    bool i_p_m_t_s_leq_w_180051 = slt64(zs_lhs_179404, data_179604);
                    bool y_180052 = zzero_leq_i_p_m_t_s_180050 && i_p_m_t_s_leq_w_180051;
                    bool ok_or_empty_180053 = empty_slice_180049 || y_180052;
                    bool index_certs_180054;
                    
                    if (!ok_or_empty_180053) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] out of bounds for array of shape [", (long long) data_179604, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:502:63-73\n   #6  ftsort.fut:495:1-502:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181847, &ext_mem_181838, "ext_mem_181838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &ext_mem_181837, "ext_mem_181837") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &ext_mem_181836, "ext_mem_181836") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181514, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181847.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181517, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181844.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181520, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181841.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
                    return 1;
                for (int64_t i_180853 = 0; i_180853 < perThread_175681; i_180853++) {
                    int64_t lifted_lambda_res_180076 = add64(zm_rhs_179360, i_180853);
                    
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + i_180853] = lifted_lambda_res_180076;
                }
                
                bool cond_180078 = card_179361 == zp_rhs_175680;
                
                if (cond_180078) {
                    bool y_180080 = slt64(card_179361, perThread_175681);
                    bool index_certs_180081;
                    
                    if (!y_180080) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:385:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:502:63-73\n   #3  ftsort.fut:495:1-502:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + card_179361] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181873, bytes_181166, "mem_181873")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182647 = 0; nest_i_182647 < window_sizze_163379; nest_i_182647++) {
                ((double *) mem_181873.mem)[nest_i_182647] = 0.0;
            }
            if (memblock_alloc(ctx, &mem_181875, bytes_181166, "mem_181875")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182648 = 0; nest_i_182648 < window_sizze_163379; nest_i_182648++) {
                ((int64_t *) mem_181875.mem)[nest_i_182648] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181876, window_sizze_163379, "mem_181876")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182649 = 0; nest_i_182649 < window_sizze_163379; nest_i_182649++) {
                ((int8_t *) mem_181876.mem)[nest_i_182649] = (int8_t) -1;
            }
            for (int64_t write_iter_180868 = 0; write_iter_180868 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682; write_iter_180868++) {
                int64_t new_index_181020 = squot64(write_iter_180868, perThread_175681);
                int64_t binop_y_181022 = perThread_175681 * new_index_181020;
                int64_t new_index_181023 = write_iter_180868 - binop_y_181022;
                int64_t write_iv_180872 = ((int64_t *) mem_181512)[new_index_181020 * perThread_175681 + new_index_181023];
                int8_t write_iv_180873 = ((int8_t *) mem_181514)[new_index_181020 * perThread_175681 + new_index_181023];
                int64_t write_iv_180874 = ((int64_t *) mem_181517)[new_index_181020 * perThread_175681 + new_index_181023];
                double write_iv_180875 = ((double *) mem_181520)[new_index_181020 * perThread_175681 + new_index_181023];
                
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_163379)) {
                    ((int8_t *) mem_181876.mem)[write_iv_180872] = write_iv_180873;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_163379)) {
                    ((int64_t *) mem_181875.mem)[write_iv_180872] = write_iv_180874;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_163379)) {
                    ((double *) mem_181873.mem)[write_iv_180872] = write_iv_180875;
                }
            }
            
            int64_t index_concat_branch_180104;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180105 = ((int64_t *) mem_181495)[index_concat_i_178445];
                
                index_concat_branch_180104 = index_concat_180105;
            } else {
                index_concat_branch_180104 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180106;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180107 = ((int64_t *) mem_181497)[index_concat_i_178445];
                
                index_concat_branch_180106 = index_concat_180107;
            } else {
                index_concat_branch_180106 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181876, "mem_181876") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181875, "mem_181875") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181873, "mem_181873") != 0)
                return 1;
            loopres_175671 = index_concat_branch_180104;
            loopres_175672 = index_concat_branch_180106;
        } else {
            double leq_lhs_176662 = ((double *) a_list_mem_181133.mem)[p_175643];
            double leq_rhs_176665 = ((double *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_176666 = leq_lhs_176662 <= leq_rhs_176665;
            double lowest_176667;
            
            if (defunc_0_leq_res_176666) {
                bool index_certs_180108;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:250:44-49\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_lhs_176662;
            } else {
                bool index_certs_176672;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:250:55-60\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_rhs_176665;
            }
            if (mem_181150_cached_sizze_182875 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_182875, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181152_cached_sizze_182876 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_182876, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180883 = 0; i_180883 < threads_163380; i_180883++) {
                int64_t index_primexp_181099 = add64((int64_t) 1, i_180883);
                int64_t zs_lhs_176688 = mul64(zt_rhs_176681, index_primexp_181099);
                int64_t index_176689 = sdiv64(zs_lhs_176688, partitionFunc_arg0_176658);
                bool cond_176690 = slt64(window_sizze_163379, index_176689);
                int64_t loop_over_176691;
                
                if (cond_176690) {
                    loop_over_176691 = window_sizze_163379;
                } else {
                    loop_over_176691 = index_176689;
                }
                
                int64_t loop_over_176692;
                
                if (cond_176690) {
                    int64_t loop_over_t_res_180109 = sub64(index_176689, window_sizze_163379);
                    
                    loop_over_176692 = loop_over_t_res_180109;
                } else {
                    loop_over_176692 = (int64_t) 0;
                }
                
                int64_t loop_over_176694;
                
                if (cond_176690) {
                    int64_t zm_lhs_180110 = sub64(index_176689, window_sizze_163379);
                    int64_t loop_over_t_res_180111 = sub64(zm_lhs_180110, (int64_t) 1);
                    
                    loop_over_176694 = loop_over_t_res_180111;
                } else {
                    loop_over_176694 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176697;
                int64_t defunc_0_f_res_176698;
                int64_t defunc_0_f_res_176699;
                int64_t defunc_0_f_res_176700;
                bool loop_while_176701;
                int64_t p_176702;
                int64_t p_176703;
                int64_t p_176704;
                
                loop_while_176701 = 1;
                p_176702 = loop_over_176694;
                p_176703 = loop_over_176691;
                p_176704 = loop_over_176692;
                while (loop_while_176701) {
                    int64_t zs_lhs_176705 = sub64(p_176703, p_176702);
                    int64_t offset_176706 = sdiv64(zs_lhs_176705, (int64_t) 2);
                    int64_t ai_176707 = sub64(p_176703, offset_176706);
                    int64_t max_arg1_176708 = add64(p_176704, offset_176706);
                    int64_t max_res_176709 = smax64((int64_t) 0, max_arg1_176708);
                    bool cond_176710 = slt64((int64_t) 0, max_res_176709);
                    double b_prev_176711;
                    
                    if (cond_176710) {
                        int64_t tmp_180112 = sub64(max_res_176709, (int64_t) 1);
                        bool x_180113 = sle64((int64_t) 0, tmp_180112);
                        bool y_180114 = slt64(tmp_180112, window_sizze_163379);
                        bool bounds_check_180115 = x_180113 && y_180114;
                        bool index_certs_180116;
                        
                        if (!bounds_check_180115) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180112, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180117 = p_175644 + tmp_180112;
                        double b_prev_t_res_180118 = ((double *) b_list_mem_181134.mem)[slice_180117];
                        
                        b_prev_176711 = b_prev_t_res_180118;
                    } else {
                        b_prev_176711 = lowest_176667;
                    }
                    
                    bool cond_176718 = sle64(ai_176707, (int64_t) 0);
                    int64_t loopres_176719;
                    int64_t loopres_176720;
                    int64_t loopres_176721;
                    bool loopres_176722;
                    
                    if (cond_176718) {
                        loopres_176719 = p_176702;
                        loopres_176720 = (int64_t) 0;
                        loopres_176721 = max_res_176709;
                        loopres_176722 = 0;
                    } else {
                        bool cond_176723 = sle64(window_sizze_163379, max_res_176709);
                        int64_t loopres_f_res_176724;
                        int64_t loopres_f_res_176725;
                        int64_t loopres_f_res_176726;
                        bool loopres_f_res_176727;
                        
                        if (cond_176723) {
                            int64_t min_res_180120 = smin64(m_175632, ai_176707);
                            bool x_180121 = sle64((int64_t) 0, m_175632);
                            bool y_180122 = slt64(m_175632, window_sizze_163379);
                            bool bounds_check_180123 = x_180121 && y_180122;
                            bool index_certs_180124;
                            
                            if (!bounds_check_180123) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180127 = sle64((int64_t) 0, min_res_180120);
                            bool y_180128 = slt64(min_res_180120, window_sizze_163379);
                            bool bounds_check_180129 = x_180127 && y_180128;
                            bool index_certs_180130;
                            
                            if (!bounds_check_180129) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180120, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_180126 = ((double *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_180131 = p_175643 + min_res_180120;
                            double leq_rhs_180132 = ((double *) a_list_mem_181133.mem)[slice_180131];
                            bool defunc_0_leq_res_180133 = leq_lhs_180126 <= leq_rhs_180132;
                            int64_t loopres_f_res_t_res_180134;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180134 = ai_176707;
                            } else {
                                loopres_f_res_t_res_180134 = p_176703;
                            }
                            
                            bool x_180135 = !defunc_0_leq_res_180133;
                            int64_t loopres_f_res_t_res_180136;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180136 = window_sizze_163379;
                            } else {
                                int64_t tmp_180137 = sub64(m_175632, offset_176706);
                                
                                loopres_f_res_t_res_180136 = tmp_180137;
                            }
                            loopres_f_res_176724 = p_176702;
                            loopres_f_res_176725 = loopres_f_res_t_res_180134;
                            loopres_f_res_176726 = loopres_f_res_t_res_180136;
                            loopres_f_res_176727 = x_180135;
                        } else {
                            bool cond_176745 = sle64(window_sizze_163379, ai_176707);
                            int64_t loopres_f_res_f_res_176746;
                            int64_t loopres_f_res_f_res_176747;
                            int64_t loopres_f_res_f_res_176748;
                            bool loopres_f_res_f_res_176749;
                            
                            if (cond_176745) {
                                int64_t min_res_180139 = smin64(m_175632, max_res_176709);
                                bool x_180140 = sle64((int64_t) 0, m_175632);
                                bool y_180141 = slt64(m_175632, window_sizze_163379);
                                bool bounds_check_180142 = x_180140 && y_180141;
                                bool index_certs_180143;
                                
                                if (!bounds_check_180142) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180146 = sle64((int64_t) 0, min_res_180139);
                                bool y_180147 = slt64(min_res_180139, window_sizze_163379);
                                bool bounds_check_180148 = x_180146 && y_180147;
                                bool index_certs_180149;
                                
                                if (!bounds_check_180148) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180139, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_180145 = ((double *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_180150 = p_175644 + min_res_180139;
                                double leq_rhs_180151 = ((double *) b_list_mem_181134.mem)[slice_180150];
                                bool defunc_0_leq_res_180152 = leq_lhs_180145 <= leq_rhs_180151;
                                int64_t loopres_f_res_f_res_t_res_180153;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180153 = max_res_176709;
                                } else {
                                    loopres_f_res_f_res_t_res_180153 = p_176704;
                                }
                                
                                bool x_180154 = !defunc_0_leq_res_180152;
                                int64_t loopres_f_res_f_res_t_res_180155;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180155 = window_sizze_163379;
                                } else {
                                    loopres_f_res_f_res_t_res_180155 = m_175632;
                                }
                                loopres_f_res_f_res_176746 = p_176702;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_t_res_180155;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_t_res_180153;
                                loopres_f_res_f_res_176749 = x_180154;
                            } else {
                                bool cond_176766 = sle64(p_176703, p_176702);
                                int64_t loopres_f_res_f_res_f_res_176767;
                                int64_t loopres_f_res_f_res_f_res_176768;
                                int64_t loopres_f_res_f_res_f_res_176769;
                                bool loopres_f_res_f_res_f_res_176770;
                                
                                if (cond_176766) {
                                    bool cond_180194 = slt64(ai_176707, window_sizze_163379);
                                    int64_t ai_180195;
                                    
                                    if (cond_180194) {
                                        ai_180195 = ai_176707;
                                    } else {
                                        ai_180195 = m_175632;
                                    }
                                    
                                    bool x_180208 = sle64((int64_t) 0, ai_180195);
                                    bool y_180209 = slt64(ai_180195, window_sizze_163379);
                                    bool bounds_check_180210 = x_180208 && y_180209;
                                    bool index_certs_180211;
                                    
                                    if (!bounds_check_180210) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180195, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_180197;
                                    
                                    if (cond_176710) {
                                        int64_t tmp_180198 = sub64(max_res_176709, (int64_t) 1);
                                        bool x_180199 = sle64((int64_t) 0, tmp_180198);
                                        bool y_180200 = slt64(tmp_180198, window_sizze_163379);
                                        bool bounds_check_180201 = x_180199 && y_180200;
                                        bool index_certs_180202;
                                        
                                        if (!bounds_check_180201) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180198, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180203 = p_175644 + tmp_180198;
                                        double b_prev_t_res_180204 = ((double *) b_list_mem_181134.mem)[slice_180203];
                                        
                                        b_prev_180197 = b_prev_t_res_180204;
                                    } else {
                                        bool index_certs_180206;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180197 = leq_rhs_176665;
                                    }
                                    
                                    int64_t slice_180212 = p_175643 + ai_180195;
                                    double gt_lhs_180213 = ((double *) a_list_mem_181133.mem)[slice_180212];
                                    bool defunc_0_gt_res_180214 = b_prev_180197 < gt_lhs_180213;
                                    int64_t defunc_0_partFunc_sequential_search_res_180215;
                                    int64_t defunc_0_partFunc_sequential_search_res_180216;
                                    
                                    if (defunc_0_gt_res_180214) {
                                        int64_t zl_rhs_180217 = sub64(window_sizze_163379, max_res_176709);
                                        bool loop_cond_180218 = slt64((int64_t) 0, zl_rhs_180217);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180219;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180221;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180222;
                                        bool loop_while_180223;
                                        int64_t p_180224;
                                        int64_t p_180225;
                                        int64_t p_180226;
                                        
                                        loop_while_180223 = loop_cond_180218;
                                        p_180224 = ai_180195;
                                        p_180225 = max_res_176709;
                                        p_180226 = (int64_t) 0;
                                        while (loop_while_180223) {
                                            int64_t i_a_180227 = sub64(ai_180195, p_180226);
                                            int64_t i_b_180228 = add64(max_res_176709, p_180226);
                                            int64_t leq_lhs_180229 = sub64(i_a_180227, (int64_t) 1);
                                            bool x_180230 = sle64((int64_t) 0, leq_lhs_180229);
                                            bool y_180231 = slt64(leq_lhs_180229, window_sizze_163379);
                                            bool bounds_check_180232 = x_180230 && y_180231;
                                            bool index_certs_180233;
                                            
                                            if (!bounds_check_180232) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180229, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180236 = sle64((int64_t) 0, i_b_180228);
                                            bool y_180237 = slt64(i_b_180228, window_sizze_163379);
                                            bool bounds_check_180238 = x_180236 && y_180237;
                                            bool index_certs_180239;
                                            
                                            if (!bounds_check_180238) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180228, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180234 = p_175643 + leq_lhs_180229;
                                            double leq_lhs_180235 = ((double *) a_list_mem_181133.mem)[slice_180234];
                                            int64_t slice_180240 = p_175644 + i_b_180228;
                                            double leq_rhs_180241 = ((double *) b_list_mem_181134.mem)[slice_180240];
                                            bool defunc_0_leq_res_180242 = leq_lhs_180235 <= leq_rhs_180241;
                                            int64_t loopres_180243;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180243 = i_a_180227;
                                            } else {
                                                loopres_180243 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180244;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180244 = i_b_180228;
                                            } else {
                                                loopres_180244 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180245;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180245 = zl_rhs_180217;
                                            } else {
                                                int64_t tmp_180246 = add64((int64_t) 1, p_180226);
                                                
                                                loopres_180245 = tmp_180246;
                                            }
                                            
                                            bool loop_cond_180247 = slt64(loopres_180245, zl_rhs_180217);
                                            bool loop_while_tmp_182659 = loop_cond_180247;
                                            int64_t p_tmp_182660 = loopres_180243;
                                            int64_t p_tmp_182661 = loopres_180244;
                                            int64_t p_tmp_182662 = loopres_180245;
                                            
                                            loop_while_180223 = loop_while_tmp_182659;
                                            p_180224 = p_tmp_182660;
                                            p_180225 = p_tmp_182661;
                                            p_180226 = p_tmp_182662;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180219 = loop_while_180223;
                                        defunc_0_partFunc_sequential_search_res_t_res_180220 = p_180224;
                                        defunc_0_partFunc_sequential_search_res_t_res_180221 = p_180225;
                                        defunc_0_partFunc_sequential_search_res_t_res_180222 = p_180226;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_t_res_180221;
                                    } else {
                                        int64_t zl_rhs_180248 = sub64(max_res_176709, (int64_t) 1);
                                        bool loop_cond_180249 = slt64((int64_t) 0, zl_rhs_180248);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180250;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180252;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180253;
                                        bool loop_while_180254;
                                        int64_t p_180255;
                                        int64_t p_180256;
                                        int64_t p_180257;
                                        
                                        loop_while_180254 = loop_cond_180249;
                                        p_180255 = ai_180195;
                                        p_180256 = max_res_176709;
                                        p_180257 = (int64_t) 0;
                                        while (loop_while_180254) {
                                            int64_t zp_lhs_180258 = add64(ai_180195, p_180257);
                                            int64_t hi_a_180259 = add64((int64_t) 1, zp_lhs_180258);
                                            bool cond_180260 = slt64(hi_a_180259, window_sizze_163379);
                                            int64_t i_a_180261;
                                            
                                            if (cond_180260) {
                                                i_a_180261 = hi_a_180259;
                                            } else {
                                                i_a_180261 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_180263 = sub64(max_res_176709, p_180257);
                                            int64_t i_b_180264 = sub64(zm_lhs_180263, (int64_t) 1);
                                            bool x_180265 = sle64((int64_t) 0, i_a_180261);
                                            bool y_180266 = slt64(i_a_180261, window_sizze_163379);
                                            bool bounds_check_180267 = x_180265 && y_180266;
                                            bool index_certs_180268;
                                            
                                            if (!bounds_check_180267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180261, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180271 = sle64((int64_t) 0, i_b_180264);
                                            bool y_180272 = slt64(i_b_180264, window_sizze_163379);
                                            bool bounds_check_180273 = x_180271 && y_180272;
                                            bool index_certs_180274;
                                            
                                            if (!bounds_check_180273) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180264, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180269 = p_175643 + i_a_180261;
                                            double gt_lhs_180270 = ((double *) a_list_mem_181133.mem)[slice_180269];
                                            int64_t slice_180275 = p_175644 + i_b_180264;
                                            double gt_rhs_180276 = ((double *) b_list_mem_181134.mem)[slice_180275];
                                            bool defunc_0_gt_res_180277 = gt_rhs_180276 < gt_lhs_180270;
                                            int64_t loopres_180278;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180278 = i_a_180261;
                                            } else {
                                                loopres_180278 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180279;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180279 = zm_lhs_180263;
                                            } else {
                                                loopres_180279 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180280;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180280 = zl_rhs_180248;
                                            } else {
                                                int64_t tmp_180281 = add64((int64_t) 1, p_180257);
                                                
                                                loopres_180280 = tmp_180281;
                                            }
                                            
                                            bool loop_cond_180282 = slt64(loopres_180280, zl_rhs_180248);
                                            bool loop_while_tmp_182663 = loop_cond_180282;
                                            int64_t p_tmp_182664 = loopres_180278;
                                            int64_t p_tmp_182665 = loopres_180279;
                                            int64_t p_tmp_182666 = loopres_180280;
                                            
                                            loop_while_180254 = loop_while_tmp_182663;
                                            p_180255 = p_tmp_182664;
                                            p_180256 = p_tmp_182665;
                                            p_180257 = p_tmp_182666;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180250 = loop_while_180254;
                                        defunc_0_partFunc_sequential_search_res_f_res_180251 = p_180255;
                                        defunc_0_partFunc_sequential_search_res_f_res_180252 = p_180256;
                                        defunc_0_partFunc_sequential_search_res_f_res_180253 = p_180257;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_f_res_180252;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = p_176702;
                                    loopres_f_res_f_res_f_res_176768 = defunc_0_partFunc_sequential_search_res_180215;
                                    loopres_f_res_f_res_f_res_176769 = defunc_0_partFunc_sequential_search_res_180216;
                                    loopres_f_res_f_res_f_res_176770 = 0;
                                } else {
                                    bool x_176854 = sle64((int64_t) 0, ai_176707);
                                    bool y_176855 = slt64(ai_176707, window_sizze_163379);
                                    bool bounds_check_176856 = x_176854 && y_176855;
                                    bool index_certs_176857;
                                    
                                    if (!bounds_check_176856) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176707, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178523 = p_175643 + ai_176707;
                                    double gt_lhs_176858 = ((double *) a_list_mem_181133.mem)[slice_178523];
                                    bool defunc_0_gt_res_176859 = b_prev_176711 < gt_lhs_176858;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176862;
                                    bool loopres_f_res_f_res_f_res_f_res_176863;
                                    
                                    if (defunc_0_gt_res_176859) {
                                        int64_t leq_lhs_180283 = sub64(ai_176707, (int64_t) 1);
                                        bool x_180284 = sle64((int64_t) 0, leq_lhs_180283);
                                        bool y_180285 = slt64(leq_lhs_180283, window_sizze_163379);
                                        bool bounds_check_180286 = x_180284 && y_180285;
                                        bool index_certs_180287;
                                        
                                        if (!bounds_check_180286) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180283, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180290 = sle64((int64_t) 0, max_res_176709);
                                        bool y_180291 = slt64(max_res_176709, window_sizze_163379);
                                        bool bounds_check_180292 = x_180290 && y_180291;
                                        bool index_certs_180293;
                                        
                                        if (!bounds_check_180292) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176709, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180288 = p_175643 + leq_lhs_180283;
                                        double leq_lhs_180289 = ((double *) a_list_mem_181133.mem)[slice_180288];
                                        int64_t slice_180294 = p_175644 + max_res_176709;
                                        double leq_rhs_180295 = ((double *) b_list_mem_181134.mem)[slice_180294];
                                        bool defunc_0_leq_res_180296 = leq_lhs_180289 <= leq_rhs_180295;
                                        bool x_180297 = !defunc_0_leq_res_180296;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = ai_176707;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = leq_lhs_180283;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = max_res_176709;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, max_res_176709);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = tmp_180300;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176860 = p_176702;
                                        loopres_f_res_f_res_f_res_f_res_176861 = loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        loopres_f_res_f_res_f_res_f_res_176862 = loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        loopres_f_res_f_res_f_res_f_res_176863 = x_180297;
                                    } else {
                                        int64_t tmp_176880 = add64((int64_t) 1, ai_176707);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176860 = tmp_176880;
                                        loopres_f_res_f_res_f_res_f_res_176861 = p_176703;
                                        loopres_f_res_f_res_f_res_f_res_176862 = p_176704;
                                        loopres_f_res_f_res_f_res_f_res_176863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = loopres_f_res_f_res_f_res_f_res_176860;
                                    loopres_f_res_f_res_f_res_176768 = loopres_f_res_f_res_f_res_f_res_176861;
                                    loopres_f_res_f_res_f_res_176769 = loopres_f_res_f_res_f_res_f_res_176862;
                                    loopres_f_res_f_res_f_res_176770 = loopres_f_res_f_res_f_res_f_res_176863;
                                }
                                loopres_f_res_f_res_176746 = loopres_f_res_f_res_f_res_176767;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_f_res_176768;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_f_res_176769;
                                loopres_f_res_f_res_176749 = loopres_f_res_f_res_f_res_176770;
                            }
                            loopres_f_res_176724 = loopres_f_res_f_res_176746;
                            loopres_f_res_176725 = loopres_f_res_f_res_176747;
                            loopres_f_res_176726 = loopres_f_res_f_res_176748;
                            loopres_f_res_176727 = loopres_f_res_f_res_176749;
                        }
                        loopres_176719 = loopres_f_res_176724;
                        loopres_176720 = loopres_f_res_176725;
                        loopres_176721 = loopres_f_res_176726;
                        loopres_176722 = loopres_f_res_176727;
                    }
                    
                    bool loop_while_tmp_182655 = loopres_176722;
                    int64_t p_tmp_182656 = loopres_176719;
                    int64_t p_tmp_182657 = loopres_176720;
                    int64_t p_tmp_182658 = loopres_176721;
                    
                    loop_while_176701 = loop_while_tmp_182655;
                    p_176702 = p_tmp_182656;
                    p_176703 = p_tmp_182657;
                    p_176704 = p_tmp_182658;
                }
                defunc_0_f_res_176697 = loop_while_176701;
                defunc_0_f_res_176698 = p_176702;
                defunc_0_f_res_176699 = p_176703;
                defunc_0_f_res_176700 = p_176704;
                ((int64_t *) mem_181150)[i_180883] = defunc_0_f_res_176699;
                ((int64_t *) mem_181152)[i_180883] = defunc_0_f_res_176700;
            }
            if (memblock_alloc(ctx, &mem_181165, window_sizze_163379, "mem_181165")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182667 = 0; nest_i_182667 < window_sizze_163379; nest_i_182667++) {
                ((int8_t *) mem_181165.mem)[nest_i_182667] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181167, bytes_181166, "mem_181167")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182668 = 0; nest_i_182668 < window_sizze_163379; nest_i_182668++) {
                ((int64_t *) mem_181167.mem)[nest_i_182668] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181169, bytes_181166, "mem_181169")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182669 = 0; nest_i_182669 < window_sizze_163379; nest_i_182669++) {
                ((double *) mem_181169.mem)[nest_i_182669] = 0.0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176907;
            int64_t defunc_0_mergeFunc_seq_res_176908;
            bool loop_while_176912;
            int64_t p_176913;
            
            loop_while_176912 = loop_cond_176906;
            p_176913 = (int64_t) 0;
            while (loop_while_176912) {
                bool x_176917 = sle64((int64_t) 0, p_176913);
                bool y_176918 = slt64(p_176913, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176919 = x_176917 && y_176918;
                bool index_certs_176920;
                
                if (!bounds_check_176919) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176913, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:339:19-39\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178506 = sle64((int64_t) 1, p_176913);
                int64_t index_concat_i_178507 = sub64(p_176913, (int64_t) 1);
                int64_t index_concat_178508;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180301 = ((int64_t *) mem_181150)[index_concat_i_178507];
                    
                    index_concat_178508 = x_180301;
                } else {
                    index_concat_178508 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178510;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178510 = index_concat_178508;
                } else {
                    index_concat_branch_178510 = (int64_t) 0;
                }
                
                int64_t index_concat_178502;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180302 = ((int64_t *) mem_181152)[index_concat_i_178507];
                    
                    index_concat_178502 = x_180302;
                } else {
                    index_concat_178502 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178504;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178504 = index_concat_178502;
                } else {
                    index_concat_branch_178504 = (int64_t) 0;
                }
                
                int64_t ubs_176923 = add64((int64_t) 1, p_176913);
                bool x_176924 = sle64((int64_t) 0, ubs_176923);
                bool y_176925 = slt64(ubs_176923, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176926 = x_176924 && y_176925;
                bool index_certs_176927;
                
                if (!bounds_check_176926) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:340:19-41\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178494 = sle64((int64_t) 1, ubs_176923);
                int64_t index_concat_178496;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180303 = ((int64_t *) mem_181150)[p_176913];
                    
                    index_concat_178496 = x_180303;
                } else {
                    index_concat_178496 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178498;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178498 = index_concat_178496;
                } else {
                    index_concat_branch_178498 = (int64_t) 0;
                }
                
                int64_t index_concat_178490;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180304 = ((int64_t *) mem_181152)[p_176913];
                    
                    index_concat_178490 = x_180304;
                } else {
                    index_concat_178490 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178492;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178492 = index_concat_178490;
                } else {
                    index_concat_branch_178492 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 = sub64(index_concat_branch_178492, index_concat_branch_178504);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 = sub64(index_concat_branch_178498, index_concat_branch_178510);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t ind_bottom_176933 = add64(index_concat_branch_178504, index_concat_branch_178510);
                int64_t ind_top_176934 = add64(index_concat_branch_178492, index_concat_branch_178498);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 = sub64(ind_top_176934, ind_bottom_176933);
                bool empty_slice_176936 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 == (int64_t) 0;
                int64_t m_176937 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 1);
                int64_t i_p_m_t_s_176938 = add64(m_176937, index_concat_branch_178510);
                bool zzero_leq_i_p_m_t_s_176939 = sle64((int64_t) 0, i_p_m_t_s_176938);
                bool i_p_m_t_s_leq_w_176940 = slt64(i_p_m_t_s_176938, window_sizze_163379);
                bool zzero_lte_i_176941 = sle64((int64_t) 0, index_concat_branch_178510);
                bool i_lte_j_176942 = sle64(index_concat_branch_178510, index_concat_branch_178498);
                bool y_176943 = i_p_m_t_s_leq_w_176940 && zzero_lte_i_176941;
                bool y_176944 = zzero_leq_i_p_m_t_s_176939 && y_176943;
                bool forwards_ok_176945 = i_lte_j_176942 && y_176944;
                bool ok_or_empty_176946 = empty_slice_176936 || forwards_ok_176945;
                bool index_certs_176947;
                
                if (!ok_or_empty_176946) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178510, ":", (long long) index_concat_branch_178498, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:343:71-86\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(index_concat_branch_178498, index_concat_branch_178510);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool range_valid_c_176950;
                
                if (!valid_176949) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178510, "..<", (long long) index_concat_branch_178498, " is invalid.", "-> #0  ftsort.fut:343:52-69\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176956 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 == (int64_t) 0;
                int64_t m_176957 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, (int64_t) 1);
                int64_t i_p_m_t_s_176958 = add64(m_176957, index_concat_branch_178504);
                bool zzero_leq_i_p_m_t_s_176959 = sle64((int64_t) 0, i_p_m_t_s_176958);
                bool i_p_m_t_s_leq_w_176960 = slt64(i_p_m_t_s_176958, window_sizze_163379);
                bool zzero_lte_i_176961 = sle64((int64_t) 0, index_concat_branch_178504);
                bool i_lte_j_176962 = sle64(index_concat_branch_178504, index_concat_branch_178492);
                bool y_176963 = i_p_m_t_s_leq_w_176960 && zzero_lte_i_176961;
                bool y_176964 = zzero_leq_i_p_m_t_s_176959 && y_176963;
                bool forwards_ok_176965 = i_lte_j_176962 && y_176964;
                bool ok_or_empty_176966 = empty_slice_176956 || forwards_ok_176965;
                bool index_certs_176967;
                
                if (!ok_or_empty_176966) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178504, ":", (long long) index_concat_branch_178492, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:344:71-86\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176968 = slt64(index_concat_branch_178492, index_concat_branch_178504);
                bool valid_176969 = !bounds_invalid_upwards_176968;
                bool range_valid_c_176970;
                
                if (!valid_176969) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178504, "..<", (long long) index_concat_branch_178492, " is invalid.", "-> #0  ftsort.fut:344:52-69\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181186 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool cond_176979 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zs_lhs_176980 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zp_rhs_176981 = sdiv_safe64(zs_lhs_176980, (int64_t) 20);
                int64_t min_num_blocks_176982 = add64((int64_t) 1, zp_rhs_176981);
                bool loop_cond_176983 = slt64((int64_t) 1, min_num_blocks_176982);
                bool smallest_pow_2_geq_than_res_176984;
                int64_t smallest_pow_2_geq_than_res_176985;
                bool loop_while_176986;
                int64_t x_176987;
                
                loop_while_176986 = loop_cond_176983;
                x_176987 = (int64_t) 1;
                while (loop_while_176986) {
                    int64_t loopres_176988 = mul64((int64_t) 2, x_176987);
                    bool loop_cond_176989 = slt64(loopres_176988, min_num_blocks_176982);
                    bool loop_while_tmp_182675 = loop_cond_176989;
                    int64_t x_tmp_182676 = loopres_176988;
                    
                    loop_while_176986 = loop_while_tmp_182675;
                    x_176987 = x_tmp_182676;
                }
                smallest_pow_2_geq_than_res_176984 = loop_while_176986;
                smallest_pow_2_geq_than_res_176985 = x_176987;
                
                bool zzero_176990 = smallest_pow_2_geq_than_res_176985 == (int64_t) 0;
                bool nonzzero_176991 = !zzero_176990;
                bool protect_assert_disj_176992 = cond_176979 || nonzzero_176991;
                bool nonzzero_cert_176993;
                
                if (!protect_assert_disj_176992) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176994 = sdiv_safe64(zs_lhs_176980, smallest_pow_2_geq_than_res_176985);
                int64_t block_sizze_176995 = add64((int64_t) 1, zp_rhs_176994);
                bool y_177002 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                bool protect_assert_disj_182339 = cond_176979 || y_177002;
                bool index_certs_177003;
                
                if (!protect_assert_disj_182339) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177029 = slt64(smallest_pow_2_geq_than_res_176985, (int64_t) 0);
                bool valid_177030 = !bounds_invalid_upwards_177029;
                bool protect_assert_disj_182349 = cond_176979 || valid_177030;
                bool range_valid_c_177031;
                
                if (!protect_assert_disj_182349) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176985, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177033 = slt64(block_sizze_176995, (int64_t) 0);
                bool valid_177034 = !bounds_invalid_upwards_177033;
                bool protect_assert_disj_182351 = cond_176979 || valid_177034;
                bool range_valid_c_177035;
                
                if (!protect_assert_disj_182351) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176995, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_177037 = sle64(block_sizze_176995, (int64_t) 1);
                int64_t tmp_177038 = sub64(block_sizze_176995, (int64_t) 2);
                bool bounds_invalid_upwards_177039 = slt64(tmp_177038, (int64_t) 0);
                bool valid_177041 = !bounds_invalid_upwards_177039;
                bool protect_assert_disj_177042 = cond_177037 || valid_177041;
                bool protect_assert_disj_182353 = cond_176979 || protect_assert_disj_177042;
                bool range_valid_c_177043;
                
                if (!protect_assert_disj_182353) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177038, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177604 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool empty_or_match_cert_177605;
                
                if (!dim_match_177604) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "](i8, i64, f64)`.", "-> #0  ftsort.fut:345:22-351:50\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177606 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == (int64_t) 0;
                int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177608 = sle64((int64_t) 0, m_177607);
                bool i_p_m_t_s_leq_w_177609 = slt64(m_177607, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935);
                bool y_177610 = zzero_leq_i_p_m_t_s_177608 && i_p_m_t_s_leq_w_177609;
                bool ok_or_empty_177611 = empty_slice_177606 || y_177610;
                bool index_certs_177612;
                
                if (!ok_or_empty_177611) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "].", "-> #0  ftsort.fut:352:59-89\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177613 = add64(ind_bottom_176933, m_177607);
                bool zzero_leq_i_p_m_t_s_177614 = sle64((int64_t) 0, i_p_m_t_s_177613);
                bool i_p_m_t_s_leq_w_177615 = slt64(i_p_m_t_s_177613, window_sizze_163379);
                bool zzero_lte_i_177616 = sle64((int64_t) 0, ind_bottom_176933);
                bool i_lte_j_177617 = sle64(ind_bottom_176933, ind_top_176934);
                bool y_177618 = i_p_m_t_s_leq_w_177615 && zzero_lte_i_177616;
                bool y_177619 = zzero_leq_i_p_m_t_s_177614 && y_177618;
                bool forwards_ok_177620 = i_lte_j_177617 && y_177619;
                bool ok_or_empty_177621 = empty_slice_177606 || forwards_ok_177620;
                bool index_certs_177622;
                
                if (!ok_or_empty_177621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176933, ":", (long long) ind_top_176934, "] out of bounds for array of shape [", (long long) window_sizze_163379, "].", "-> #0  ftsort.fut:352:27-89\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178486 = p_175643 + index_concat_branch_178510;
                
                if (memblock_alloc(ctx, &mem_181185, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "mem_181185")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182677 = 0; nest_i_182677 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; nest_i_182677++) {
                    ((int8_t *) mem_181185.mem)[nest_i_182677] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181187, bytes_181186, "mem_181187")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182678 = 0; i_182678 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; i_182678++) {
                    int64_t x_182679 = index_concat_branch_178510 + i_182678 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[i_182678] = x_182679;
                }
                
                int64_t slice_178485 = p_175644 + index_concat_branch_178504;
                
                for (int64_t nest_i_182680 = 0; nest_i_182680 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; nest_i_182680++) {
                    ((int8_t *) mem_181185.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + nest_i_182680] = (int8_t) 1;
                }
                for (int64_t i_182681 = 0; i_182681 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; i_182681++) {
                    int64_t x_182682 = index_concat_branch_178504 + i_182681 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + i_182681] = x_182682;
                }
                
                int64_t tmp_offs_182683 = (int64_t) 0;
                
                if (!(tmp_offs_182683 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182683 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t tmp_offs_182684 = (int64_t) 0;
                
                if (!(tmp_offs_182684 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182684 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                if (memblock_alloc(ctx, &mem_181189, bytes_181186, "mem_181189")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182685 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181133.mem, slice_178486, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181134.mem, slice_178485, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t flat_dim_176996 = smallest_pow_2_geq_than_res_176985 * block_sizze_176995;
                bool x_182334 = !cond_176979;
                int64_t greatest_divisor_leq_than_arg1_177000 = mul64((int64_t) 2, block_sizze_176995);
                int64_t merge_block_sizze_177001;
                
                if (x_182334) {
                    int64_t x_182336;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182336, (int64_t) 8, greatest_divisor_leq_than_arg1_177000) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_177001 = x_182336;
                } else {
                    merge_block_sizze_177001 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178480 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 0);
                int8_t index_concat_branch_178484 = btoi_bool_i8(index_concat_cmp_178480);
                int64_t index_concat_i_180305 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t index_primexp_180306 = add64(index_concat_branch_178504, index_concat_i_180305);
                int64_t index_concat_branch_178478;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178478 = index_primexp_180306;
                } else {
                    index_concat_branch_178478 = index_concat_branch_178510;
                }
                
                bool x_182330 = !index_concat_cmp_178480;
                bool protect_cond_conj_182340 = x_182330 && x_182334;
                double index_concat_178471;
                
                if (protect_cond_conj_182340) {
                    double x_182332 = ((double *) a_list_mem_181133.mem)[slice_178486];
                    
                    index_concat_178471 = x_182332;
                } else {
                    index_concat_178471 = 0.0;
                }
                
                int64_t slice_180308 = slice_178485 + index_concat_i_180305;
                bool protect_cond_conj_182341 = index_concat_cmp_178480 && x_182334;
                double index_concat_180309;
                
                if (protect_cond_conj_182341) {
                    double x_182328 = ((double *) b_list_mem_181134.mem)[slice_180308];
                    
                    index_concat_180309 = x_182328;
                } else {
                    index_concat_180309 = 0.0;
                }
                
                double index_concat_branch_178472;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178472 = index_concat_180309;
                } else {
                    index_concat_branch_178472 = index_concat_178471;
                }
                
                int8_t defunc_0_reduce_res_180540;
                int64_t defunc_0_reduce_res_180541;
                double defunc_0_reduce_res_180542;
                
                if (x_182334) {
                    int8_t x_182342;
                    int64_t x_182343;
                    double x_182344;
                    int8_t redout_180886;
                    int64_t redout_180887;
                    double redout_180888;
                    
                    redout_180886 = index_concat_branch_178484;
                    redout_180887 = index_concat_branch_178478;
                    redout_180888 = index_concat_branch_178472;
                    for (int64_t i_180889 = 0; i_180889 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932; i_180889++) {
                        bool index_concat_cmp_181093 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, i_180889);
                        int8_t index_concat_branch_181097 = btoi_bool_i8(index_concat_cmp_181093);
                        int64_t index_concat_branch_181091;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181088 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t index_primexp_181115 = add64(index_concat_branch_178504, index_concat_i_181088);
                            
                            index_concat_branch_181091 = index_primexp_181115;
                        } else {
                            int64_t index_primexp_181117 = add64(index_concat_branch_178510, i_180889);
                            
                            index_concat_branch_181091 = index_primexp_181117;
                        }
                        
                        double index_concat_branch_181085;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181082 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t slice_181112 = slice_178485 + index_concat_i_181082;
                            double index_concat_181083 = ((double *) b_list_mem_181134.mem)[slice_181112];
                            
                            index_concat_branch_181085 = index_concat_181083;
                        } else {
                            int64_t slice_181113 = slice_178486 + i_180889;
                            double index_concat_181084 = ((double *) a_list_mem_181133.mem)[slice_181113];
                            
                            index_concat_branch_181085 = index_concat_181084;
                        }
                        
                        bool eq_x_y_181128 = redout_180886 == (int8_t) 1;
                        bool eq_x_zz_181129 = redout_180886 == (int8_t) 0;
                        bool p_and_eq_x_y_181130 = index_concat_cmp_181093 && eq_x_y_181128;
                        bool not_p_181131 = !index_concat_cmp_181093;
                        bool p_and_eq_x_y_181132 = eq_x_zz_181129 && not_p_181131;
                        bool cond_177019 = p_and_eq_x_y_181130 || p_and_eq_x_y_181132;
                        bool defunc_0_leq_res_t_res_177020 = sle64(redout_180887, index_concat_branch_181091);
                        bool defunc_0_leq_res_177021 = redout_180888 <= index_concat_branch_181085;
                        bool x_177022 = cond_177019 && defunc_0_leq_res_t_res_177020;
                        bool x_177023 = !cond_177019;
                        bool y_177024 = defunc_0_leq_res_177021 && x_177023;
                        bool defunc_0_leq_res_177025 = x_177022 || y_177024;
                        int8_t defunc_0_op_res_177026;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177026 = index_concat_branch_181097;
                        } else {
                            defunc_0_op_res_177026 = redout_180886;
                        }
                        
                        int64_t defunc_0_op_res_177027;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177027 = index_concat_branch_181091;
                        } else {
                            defunc_0_op_res_177027 = redout_180887;
                        }
                        
                        double defunc_0_op_res_177028;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177028 = index_concat_branch_181085;
                        } else {
                            defunc_0_op_res_177028 = redout_180888;
                        }
                        
                        int8_t redout_tmp_182686 = defunc_0_op_res_177026;
                        int64_t redout_tmp_182687 = defunc_0_op_res_177027;
                        double redout_tmp_182688 = defunc_0_op_res_177028;
                        
                        redout_180886 = redout_tmp_182686;
                        redout_180887 = redout_tmp_182687;
                        redout_180888 = redout_tmp_182688;
                    }
                    x_182342 = redout_180886;
                    x_182343 = redout_180887;
                    x_182344 = redout_180888;
                    defunc_0_reduce_res_180540 = x_182342;
                    defunc_0_reduce_res_180541 = x_182343;
                    defunc_0_reduce_res_180542 = x_182344;
                } else {
                    defunc_0_reduce_res_180540 = (int8_t) 0;
                    defunc_0_reduce_res_180541 = (int64_t) 0;
                    defunc_0_reduce_res_180542 = 0.0;
                }
                
                int64_t distance_177040 = add64((int64_t) 1, tmp_177038);
                int64_t binop_x_181192 = (int64_t) 8 * smallest_pow_2_geq_than_res_176985;
                int64_t bytes_181193 = block_sizze_176995 * binop_x_181192;
                int64_t bytes_181211 = (int64_t) 8 * block_sizze_176995;
                bool loop_cond_177149 = slt64(block_sizze_176995, flat_dim_176996);
                bool zzero_177150 = merge_block_sizze_177001 == (int64_t) 0;
                bool nonzzero_177151 = !zzero_177150;
                
                if (cond_176979) {
                    if (memblock_set(ctx, &ext_mem_181484, &mem_181185, "mem_181185") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &mem_181187, "mem_181187") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &mem_181189, "mem_181189") != 0)
                        return 1;
                } else {
                    if (mem_181191_cached_sizze_182877 < flat_dim_176996) {
                        err = lexical_realloc(ctx, &mem_181191, &mem_181191_cached_sizze_182877, flat_dim_176996);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181194_cached_sizze_182878 < bytes_181193) {
                        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_182878, bytes_181193);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181197_cached_sizze_182879 < bytes_181193) {
                        err = lexical_realloc(ctx, &mem_181197, &mem_181197_cached_sizze_182879, bytes_181193);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181210_cached_sizze_182880 < block_sizze_176995) {
                        err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_182880, block_sizze_176995);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181212_cached_sizze_182881 < bytes_181211) {
                        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_182881, bytes_181211);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181214_cached_sizze_182882 < bytes_181211) {
                        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_182882, bytes_181211);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180906 = 0; i_180906 < smallest_pow_2_geq_than_res_176985; i_180906++) {
                        int64_t zp_lhs_177048 = mul64(block_sizze_176995, i_180906);
                        
                        for (int64_t i_180896 = 0; i_180896 < block_sizze_176995; i_180896++) {
                            int64_t k_177053 = add64(zp_lhs_177048, i_180896);
                            bool cond_177054 = slt64(k_177053, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                            int8_t lifted_lambda_res_177055;
                            int64_t lifted_lambda_res_177056;
                            double lifted_lambda_res_177057;
                            
                            if (cond_177054) {
                                bool x_180315 = sle64((int64_t) 0, k_177053);
                                bool bounds_check_180316 = cond_177054 && x_180315;
                                bool index_certs_180317;
                                
                                if (!bounds_check_180316) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177053, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180318 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, k_177053);
                                int8_t index_concat_branch_180319 = btoi_bool_i8(index_concat_cmp_180318);
                                int64_t index_concat_branch_180320;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180321 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t index_primexp_180322 = add64(index_concat_branch_178504, index_concat_i_180321);
                                    
                                    index_concat_branch_180320 = index_primexp_180322;
                                } else {
                                    int64_t index_primexp_180323 = add64(k_177053, index_concat_branch_178510);
                                    
                                    index_concat_branch_180320 = index_primexp_180323;
                                }
                                
                                double index_concat_branch_180324;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180325 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t slice_180326 = slice_178485 + index_concat_i_180325;
                                    double index_concat_180327 = ((double *) b_list_mem_181134.mem)[slice_180326];
                                    
                                    index_concat_branch_180324 = index_concat_180327;
                                } else {
                                    int64_t slice_180328 = k_177053 + slice_178486;
                                    double index_concat_180329 = ((double *) a_list_mem_181133.mem)[slice_180328];
                                    
                                    index_concat_branch_180324 = index_concat_180329;
                                }
                                lifted_lambda_res_177055 = index_concat_branch_180319;
                                lifted_lambda_res_177056 = index_concat_branch_180320;
                                lifted_lambda_res_177057 = index_concat_branch_180324;
                            } else {
                                lifted_lambda_res_177055 = defunc_0_reduce_res_180540;
                                lifted_lambda_res_177056 = defunc_0_reduce_res_180541;
                                lifted_lambda_res_177057 = defunc_0_reduce_res_180542;
                            }
                            ((int8_t *) mem_181210)[i_180896] = lifted_lambda_res_177055;
                            ((int64_t *) mem_181212)[i_180896] = lifted_lambda_res_177056;
                            ((double *) mem_181214)[i_180896] = lifted_lambda_res_177057;
                        }
                        if (!cond_177037) {
                            for (int64_t i_177070 = 0; i_177070 < distance_177040; i_177070++) {
                                int64_t gt_arg1_177074 = add64((int64_t) 1, i_177070);
                                bool x_177075 = sle64((int64_t) 0, gt_arg1_177074);
                                bool y_177076 = slt64(gt_arg1_177074, block_sizze_176995);
                                bool bounds_check_177077 = x_177075 && y_177076;
                                bool index_certs_177078;
                                
                                if (!bounds_check_177077) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177074, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177082 = slt64(i_177070, block_sizze_176995);
                                bool index_certs_177083;
                                
                                if (!y_177082) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177070, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_177079 = ((int8_t *) mem_181210)[gt_arg1_177074];
                                int64_t gt_arg1_177080 = ((int64_t *) mem_181212)[gt_arg1_177074];
                                double gt_arg1_177081 = ((double *) mem_181214)[gt_arg1_177074];
                                int8_t gt_arg0_177084 = ((int8_t *) mem_181210)[i_177070];
                                int64_t gt_arg0_177085 = ((int64_t *) mem_181212)[i_177070];
                                double gt_arg0_177086 = ((double *) mem_181214)[i_177070];
                                bool cond_177087 = gt_arg0_177084 == gt_arg1_177079;
                                bool defunc_0_leq_res_t_res_177088 = sle64(gt_arg0_177085, gt_arg1_177080);
                                bool defunc_0_leq_res_177089 = gt_arg0_177086 <= gt_arg1_177081;
                                bool x_177090 = cond_177087 && defunc_0_leq_res_t_res_177088;
                                bool x_177091 = !cond_177087;
                                bool y_177092 = defunc_0_leq_res_177089 && x_177091;
                                bool defunc_0_leq_res_177093 = x_177090 || y_177092;
                                bool defunc_0_lifted_gt_res_177094 = !defunc_0_leq_res_177093;
                                bool s_177095;
                                int64_t s_177099;
                                bool loop_while_177100;
                                int64_t j_177104;
                                
                                loop_while_177100 = defunc_0_lifted_gt_res_177094;
                                j_177104 = i_177070;
                                while (loop_while_177100) {
                                    bool x_177105 = sle64((int64_t) 0, j_177104);
                                    bool y_177106 = slt64(j_177104, block_sizze_176995);
                                    bool bounds_check_177107 = x_177105 && y_177106;
                                    bool index_certs_177108;
                                    
                                    if (!bounds_check_177107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177104, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177112 = add64((int64_t) 1, j_177104);
                                    bool x_177113 = sle64((int64_t) 0, copy_arg0_177112);
                                    bool y_177114 = slt64(copy_arg0_177112, block_sizze_176995);
                                    bool bounds_check_177115 = x_177113 && y_177114;
                                    bool index_certs_177116;
                                    
                                    if (!bounds_check_177115) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177112, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177109 = ((int8_t *) mem_181210)[j_177104];
                                    int64_t copy_arg0_177110 = ((int64_t *) mem_181212)[j_177104];
                                    double copy_arg0_177111 = ((double *) mem_181214)[j_177104];
                                    int8_t copy_arg0_177117 = ((int8_t *) mem_181210)[copy_arg0_177112];
                                    int64_t copy_arg0_177118 = ((int64_t *) mem_181212)[copy_arg0_177112];
                                    double copy_arg0_177119 = ((double *) mem_181214)[copy_arg0_177112];
                                    
                                    ((int8_t *) mem_181210)[j_177104] = copy_arg0_177117;
                                    ((int64_t *) mem_181212)[j_177104] = copy_arg0_177118;
                                    ((double *) mem_181214)[j_177104] = copy_arg0_177119;
                                    ((int8_t *) mem_181210)[copy_arg0_177112] = copy_arg0_177109;
                                    ((int64_t *) mem_181212)[copy_arg0_177112] = copy_arg0_177110;
                                    ((double *) mem_181214)[copy_arg0_177112] = copy_arg0_177111;
                                    
                                    int64_t tmp_177126 = sub64(j_177104, (int64_t) 1);
                                    bool cond_177127 = sle64((int64_t) 0, tmp_177126);
                                    bool loop_cond_177128;
                                    
                                    if (cond_177127) {
                                        bool y_180333 = slt64(tmp_177126, block_sizze_176995);
                                        bool bounds_check_180334 = cond_177127 && y_180333;
                                        bool index_certs_180335;
                                        
                                        if (!bounds_check_180334) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177126, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180330 = ((int8_t *) mem_181210)[j_177104];
                                        int64_t gt_arg1_180331 = ((int64_t *) mem_181212)[j_177104];
                                        double gt_arg1_180332 = ((double *) mem_181214)[j_177104];
                                        int8_t gt_arg0_180336 = ((int8_t *) mem_181210)[tmp_177126];
                                        int64_t gt_arg0_180337 = ((int64_t *) mem_181212)[tmp_177126];
                                        double gt_arg0_180338 = ((double *) mem_181214)[tmp_177126];
                                        bool cond_180339 = gt_arg0_180336 == gt_arg1_180330;
                                        bool defunc_0_leq_res_t_res_180340 = sle64(gt_arg0_180337, gt_arg1_180331);
                                        bool defunc_0_leq_res_180341 = gt_arg0_180338 <= gt_arg1_180332;
                                        bool x_180342 = cond_180339 && defunc_0_leq_res_t_res_180340;
                                        bool x_180343 = !cond_180339;
                                        bool y_180344 = defunc_0_leq_res_180341 && x_180343;
                                        bool defunc_0_leq_res_180345 = x_180342 || y_180344;
                                        bool defunc_0_lifted_gt_res_180346 = !defunc_0_leq_res_180345;
                                        
                                        loop_cond_177128 = defunc_0_lifted_gt_res_180346;
                                    } else {
                                        loop_cond_177128 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182698 = loop_cond_177128;
                                    int64_t j_tmp_182702 = tmp_177126;
                                    
                                    loop_while_177100 = loop_while_tmp_182698;
                                    j_177104 = j_tmp_182702;
                                }
                                s_177095 = loop_while_177100;
                                s_177099 = j_177104;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181191, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181194, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181212, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181197, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_176996, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint8_t *) mem_181191, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181193, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181193, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint64_t *) mem_181197, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    
                    int64_t data_177152;
                    bool data_177153;
                    int64_t data_177157;
                    int64_t loop_dz2084Uz2082U_177158;
                    bool loop_while_177159;
                    int64_t stride_177163;
                    
                    if (memblock_set(ctx, &mem_param_181303, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181306, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181309, &mem_181299, "mem_181299") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177158 = flat_dim_176996;
                    loop_while_177159 = loop_cond_177149;
                    stride_177163 = block_sizze_176995;
                    while (loop_while_177159) {
                        int64_t next_stride_177164 = mul64((int64_t) 2, stride_177163);
                        bool zzero_177165 = next_stride_177164 == (int64_t) 0;
                        bool nonzzero_177166 = !zzero_177165;
                        bool nonzzero_cert_177167;
                        
                        if (!nonzzero_177166) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177168 = sdiv64(flat_dim_176996, next_stride_177164);
                        bool bounds_invalid_upwards_177169 = slt64(num_merges_177168, (int64_t) 0);
                        bool valid_177170 = !bounds_invalid_upwards_177169;
                        bool range_valid_c_177171;
                        
                        if (!valid_177170) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177173 = sub64(next_stride_177164, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177174 = sle64((int64_t) 0, m_177173);
                        bool cond_177176 = slt64(next_stride_177164, (int64_t) 10);
                        bool protect_assert_disj_177177 = nonzzero_177151 || cond_177176;
                        bool nonzzero_cert_177178;
                        
                        if (!protect_assert_disj_177177) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177179 = smod_safe64(next_stride_177164, merge_block_sizze_177001);
                        bool num_blocks_177180 = zeze_lhs_177179 == (int64_t) 0;
                        bool protect_assert_disj_177181 = cond_177176 || num_blocks_177180;
                        bool assert_c_177182;
                        
                        if (!protect_assert_disj_177181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177184 = sdiv_safe64(next_stride_177164, merge_block_sizze_177001);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185 = add64((int64_t) 1, num_blocks_177184);
                        int64_t j_m_i_177186 = sub64(next_stride_177164, stride_177163);
                        int64_t flat_dim_177187 = merge_block_sizze_177001 * num_blocks_177184;
                        bool bounds_invalid_upwards_177188 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, (int64_t) 0);
                        bool empty_slice_177189 = j_m_i_177186 == (int64_t) 0;
                        int64_t m_177190 = sub64(j_m_i_177186, (int64_t) 1);
                        bool zzero_lte_i_177191 = sle64((int64_t) 0, stride_177163);
                        bool i_lte_j_177192 = sle64(stride_177163, next_stride_177164);
                        bool empty_slice_177193 = stride_177163 == (int64_t) 0;
                        int64_t m_177194 = sub64(stride_177163, (int64_t) 1);
                        bool bounds_invalid_upwards_177195 = slt64(num_blocks_177184, (int64_t) 0);
                        bool cond_177196 = slt64((int64_t) 0, stride_177163);
                        bool valid_177197 = !bounds_invalid_upwards_177188;
                        int64_t i_p_m_t_s_177198 = add64(stride_177163, m_177190);
                        bool zzero_leq_i_p_m_t_s_177199 = sle64((int64_t) 0, m_177194);
                        bool i_p_m_t_s_leq_w_177200 = slt64(m_177194, next_stride_177164);
                        bool valid_177201 = !bounds_invalid_upwards_177195;
                        bool i_p_m_t_s_leq_w_177202 = slt64(m_177173, flat_dim_177187);
                        bool y_177203 = slt64((int64_t) 0, j_m_i_177186);
                        bool protect_assert_disj_177204 = cond_177176 || valid_177197;
                        bool range_valid_c_177205;
                        
                        if (!protect_assert_disj_177204) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177206 = sle64((int64_t) 0, i_p_m_t_s_177198);
                        bool i_p_m_t_s_leq_w_177207 = slt64(i_p_m_t_s_177198, next_stride_177164);
                        bool y_177208 = zzero_leq_i_p_m_t_s_177199 && i_p_m_t_s_leq_w_177200;
                        bool protect_assert_disj_177209 = cond_177176 || valid_177201;
                        bool range_valid_c_177210;
                        
                        if (!protect_assert_disj_177209) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177184, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177211 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177202;
                        bool y_177212 = zzero_lte_i_177191 && i_p_m_t_s_leq_w_177207;
                        bool forwards_ok_177213 = zzero_lte_i_177191 && y_177208;
                        bool ok_or_empty_177214 = zzero_177165 || y_177211;
                        bool protect_assert_disj_177215 = cond_177196 || y_177203;
                        bool y_177216 = zzero_leq_i_p_m_t_s_177206 && y_177212;
                        bool ok_or_empty_177217 = empty_slice_177193 || forwards_ok_177213;
                        bool protect_assert_disj_177218 = cond_177176 || ok_or_empty_177214;
                        bool index_certs_177219;
                        
                        if (!protect_assert_disj_177218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) flat_dim_177187, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177220 = !cond_177176;
                        bool protect_assert_disj_177221 = protect_assert_disj_177215 || loop_not_taken_177220;
                        bool index_certs_177222;
                        
                        if (!protect_assert_disj_177221) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177223 = i_lte_j_177192 && y_177216;
                        bool protect_assert_disj_177224 = cond_177176 || ok_or_empty_177217;
                        bool index_certs_177225;
                        
                        if (!protect_assert_disj_177224) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177226 = ok_or_empty_177217 || loop_not_taken_177220;
                        bool index_certs_177227;
                        
                        if (!protect_assert_disj_177226) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177228 = empty_slice_177189 || forwards_ok_177223;
                        bool protect_assert_disj_177229 = cond_177176 || ok_or_empty_177228;
                        bool index_certs_177230;
                        
                        if (!protect_assert_disj_177229) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177231 = loop_not_taken_177220 || ok_or_empty_177228;
                        bool index_certs_177232;
                        
                        if (!protect_assert_disj_177231) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181310 = next_stride_177164 * num_merges_177168;
                        int64_t binop_x_181312 = (int64_t) 8 * num_merges_177168;
                        int64_t bytes_181313 = next_stride_177164 * binop_x_181312;
                        bool i_lte_j_177175 = sle64((int64_t) 0, next_stride_177164);
                        
                        if (mem_181311_cached_sizze_182883 < bytes_181310) {
                            err = lexical_realloc(ctx, &mem_181311, &mem_181311_cached_sizze_182883, bytes_181310);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181314_cached_sizze_182884 < bytes_181313) {
                            err = lexical_realloc(ctx, &mem_181314, &mem_181314_cached_sizze_182884, bytes_181313);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181317_cached_sizze_182885 < bytes_181313) {
                            err = lexical_realloc(ctx, &mem_181317, &mem_181317_cached_sizze_182885, bytes_181313);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181330 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185;
                        int64_t binop_x_181348 = (int64_t) 8 * num_blocks_177184;
                        int64_t bytes_181349 = merge_block_sizze_177001 * binop_x_181348;
                        int64_t bytes_181413 = (int64_t) 16 * stride_177163;
                        
                        for (int64_t i_180933 = 0; i_180933 < num_merges_177168; i_180933++) {
                            int64_t start_177237 = mul64(next_stride_177164, i_180933);
                            int64_t j_m_i_177238 = sub64(loop_dz2084Uz2082U_177158, start_177237);
                            bool empty_slice_177239 = j_m_i_177238 == (int64_t) 0;
                            int64_t m_177240 = sub64(j_m_i_177238, (int64_t) 1);
                            int64_t i_p_m_t_s_177241 = add64(start_177237, m_177240);
                            bool zzero_leq_i_p_m_t_s_177242 = sle64((int64_t) 0, i_p_m_t_s_177241);
                            bool i_p_m_t_s_leq_w_177243 = slt64(i_p_m_t_s_177241, loop_dz2084Uz2082U_177158);
                            bool zzero_lte_i_177244 = sle64((int64_t) 0, start_177237);
                            bool i_lte_j_177245 = sle64(start_177237, loop_dz2084Uz2082U_177158);
                            bool y_177246 = i_p_m_t_s_leq_w_177243 && zzero_lte_i_177244;
                            bool y_177247 = zzero_leq_i_p_m_t_s_177242 && y_177246;
                            bool forwards_ok_177248 = i_lte_j_177245 && y_177247;
                            bool ok_or_empty_177249 = empty_slice_177239 || forwards_ok_177248;
                            bool index_certs_177250;
                            
                            if (!ok_or_empty_177249) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177237, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177158, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177251 = slt64(m_177173, j_m_i_177238);
                            bool y_177252 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177251;
                            bool forwards_ok_177253 = i_lte_j_177175 && y_177252;
                            bool ok_or_empty_177254 = zzero_177165 || forwards_ok_177253;
                            bool index_certs_177255;
                            
                            if (!ok_or_empty_177254) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) j_m_i_177238, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177176) {
                                int8_t dummy_180385;
                                int64_t dummy_180386;
                                double dummy_180387;
                                
                                if (cond_177196) {
                                    int8_t head_res_180388 = ((int8_t *) mem_param_181303.mem)[start_177237];
                                    int64_t head_res_180389 = ((int64_t *) mem_param_181306.mem)[start_177237];
                                    double head_res_180390 = ((double *) mem_param_181309.mem)[start_177237];
                                    
                                    dummy_180385 = head_res_180388;
                                    dummy_180386 = head_res_180389;
                                    dummy_180387 = head_res_180390;
                                } else {
                                    int64_t slice_180391 = stride_177163 + start_177237;
                                    int8_t head_res_180392 = ((int8_t *) mem_param_181303.mem)[slice_180391];
                                    int64_t head_res_180393 = ((int64_t *) mem_param_181306.mem)[slice_180391];
                                    double head_res_180394 = ((double *) mem_param_181309.mem)[slice_180391];
                                    
                                    dummy_180385 = head_res_180392;
                                    dummy_180386 = head_res_180393;
                                    dummy_180387 = head_res_180394;
                                }
                                if (memblock_alloc(ctx, &mem_181412, next_stride_177164, "mem_181412")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182715 = 0; nest_i_182715 < next_stride_177164; nest_i_182715++) {
                                    ((int8_t *) mem_181412.mem)[nest_i_182715] = dummy_180385;
                                }
                                if (memblock_alloc(ctx, &mem_181414, bytes_181413, "mem_181414")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182716 = 0; nest_i_182716 < next_stride_177164; nest_i_182716++) {
                                    ((int64_t *) mem_181414.mem)[nest_i_182716] = dummy_180386;
                                }
                                if (memblock_alloc(ctx, &mem_181416, bytes_181413, "mem_181416")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182717 = 0; nest_i_182717 < next_stride_177164; nest_i_182717++) {
                                    ((double *) mem_181416.mem)[nest_i_182717] = dummy_180387;
                                }
                                
                                int64_t data_180398;
                                int64_t i_180403 = (int64_t) 0;
                                
                                for (int64_t k_180402 = 0; k_180402 < next_stride_177164; k_180402++) {
                                    int64_t j_180407 = sub64(k_180402, i_180403);
                                    bool cond_180408 = j_180407 == j_m_i_177186;
                                    bool cond_180409;
                                    
                                    if (cond_180408) {
                                        cond_180409 = 1;
                                    } else {
                                        bool cond_180410 = slt64(i_180403, stride_177163);
                                        bool cond_f_res_180411;
                                        
                                        if (cond_180410) {
                                            bool x_180412 = sle64((int64_t) 0, j_180407);
                                            bool y_180413 = slt64(j_180407, j_m_i_177186);
                                            bool bounds_check_180414 = x_180412 && y_180413;
                                            bool index_certs_180415;
                                            
                                            if (!bounds_check_180414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180421 = sle64((int64_t) 0, i_180403);
                                            bool bounds_check_180422 = cond_180410 && x_180421;
                                            bool index_certs_180423;
                                            
                                            if (!bounds_check_180422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180416 = stride_177163 + j_180407;
                                            int64_t slice_180417 = start_177237 + slice_180416;
                                            int8_t leq_arg1_180418 = ((int8_t *) mem_param_181303.mem)[slice_180417];
                                            int64_t leq_arg1_180419 = ((int64_t *) mem_param_181306.mem)[slice_180417];
                                            double leq_arg1_180420 = ((double *) mem_param_181309.mem)[slice_180417];
                                            int64_t slice_180424 = start_177237 + i_180403;
                                            int8_t leq_arg0_180425 = ((int8_t *) mem_param_181303.mem)[slice_180424];
                                            int64_t leq_arg0_180426 = ((int64_t *) mem_param_181306.mem)[slice_180424];
                                            double leq_arg0_180427 = ((double *) mem_param_181309.mem)[slice_180424];
                                            bool cond_180428 = leq_arg0_180425 == leq_arg1_180418;
                                            bool defunc_0_leq_res_t_res_180429 = sle64(leq_arg0_180426, leq_arg1_180419);
                                            bool defunc_0_leq_res_180430 = leq_arg0_180427 <= leq_arg1_180420;
                                            bool x_180431 = cond_180428 && defunc_0_leq_res_t_res_180429;
                                            bool x_180432 = !cond_180428;
                                            bool y_180433 = defunc_0_leq_res_180430 && x_180432;
                                            bool defunc_0_leq_res_180434 = x_180431 || y_180433;
                                            
                                            cond_f_res_180411 = defunc_0_leq_res_180434;
                                        } else {
                                            cond_f_res_180411 = 0;
                                        }
                                        cond_180409 = cond_f_res_180411;
                                    }
                                    
                                    int64_t loopres_180435;
                                    int8_t loopres_180436;
                                    int64_t loopres_180437;
                                    double loopres_180438;
                                    
                                    if (cond_180409) {
                                        bool x_180440 = sle64((int64_t) 0, i_180403);
                                        bool y_180441 = slt64(i_180403, stride_177163);
                                        bool bounds_check_180442 = x_180440 && y_180441;
                                        bool index_certs_180443;
                                        
                                        if (!bounds_check_180442) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180439 = add64((int64_t) 1, i_180403);
                                        int64_t slice_180444 = start_177237 + i_180403;
                                        int8_t tmp_180445 = ((int8_t *) mem_param_181303.mem)[slice_180444];
                                        int64_t tmp_180446 = ((int64_t *) mem_param_181306.mem)[slice_180444];
                                        double tmp_180447 = ((double *) mem_param_181309.mem)[slice_180444];
                                        
                                        loopres_180435 = tmp_180439;
                                        loopres_180436 = tmp_180445;
                                        loopres_180437 = tmp_180446;
                                        loopres_180438 = tmp_180447;
                                    } else {
                                        bool x_180448 = sle64((int64_t) 0, j_180407);
                                        bool y_180449 = slt64(j_180407, j_m_i_177186);
                                        bool bounds_check_180450 = x_180448 && y_180449;
                                        bool index_certs_180451;
                                        
                                        if (!bounds_check_180450) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180452 = stride_177163 + j_180407;
                                        int64_t slice_180453 = start_177237 + slice_180452;
                                        int8_t tmp_180454 = ((int8_t *) mem_param_181303.mem)[slice_180453];
                                        int64_t tmp_180455 = ((int64_t *) mem_param_181306.mem)[slice_180453];
                                        double tmp_180456 = ((double *) mem_param_181309.mem)[slice_180453];
                                        
                                        loopres_180435 = i_180403;
                                        loopres_180436 = tmp_180454;
                                        loopres_180437 = tmp_180455;
                                        loopres_180438 = tmp_180456;
                                    }
                                    ((int8_t *) mem_181412.mem)[k_180402] = loopres_180436;
                                    ((int64_t *) mem_181414.mem)[k_180402] = loopres_180437;
                                    ((double *) mem_181416.mem)[k_180402] = loopres_180438;
                                    
                                    int64_t i_tmp_182718 = loopres_180435;
                                    
                                    i_180403 = i_tmp_182718;
                                }
                                data_180398 = i_180403;
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181412, "mem_181412") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181414, "mem_181414") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181416, "mem_181416") != 0)
                                    return 1;
                            } else {
                                if (mem_181331_cached_sizze_182886 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181331, &mem_181331_cached_sizze_182886, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181333_cached_sizze_182887 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181333, &mem_181333_cached_sizze_182887, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180914 = 0; i_180914 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185; i_180914++) {
                                    int64_t split_count_arg3_177338 = mul64(merge_block_sizze_177001, i_180914);
                                    int64_t defunc_0_split_count_res_177339;
                                    int64_t defunc_0_split_count_res_177340;
                                    int64_t defunc_0_split_count_res_177341;
                                    int64_t defunc_0_split_count_res_177342;
                                    int64_t defunc_0_split_count_res_177343;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_177339, &defunc_0_split_count_res_177340, &defunc_0_split_count_res_177341, &defunc_0_split_count_res_177342, &defunc_0_split_count_res_177343, (int64_t) 0, stride_177163, (int64_t) 0, j_m_i_177186, split_count_arg3_177338) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177344 = slt64((int64_t) 0, defunc_0_split_count_res_177343);
                                    bool defunc_0_split_count_res_177345;
                                    int64_t defunc_0_split_count_res_177346;
                                    int64_t defunc_0_split_count_res_177347;
                                    int64_t defunc_0_split_count_res_177348;
                                    int64_t defunc_0_split_count_res_177349;
                                    int64_t defunc_0_split_count_res_177350;
                                    bool loop_while_177351;
                                    int64_t ss_177352;
                                    int64_t ss_177353;
                                    int64_t tt_177354;
                                    int64_t tt_177355;
                                    int64_t count_177356;
                                    
                                    loop_while_177351 = loop_cond_177344;
                                    ss_177352 = defunc_0_split_count_res_177339;
                                    ss_177353 = defunc_0_split_count_res_177340;
                                    tt_177354 = defunc_0_split_count_res_177341;
                                    tt_177355 = defunc_0_split_count_res_177342;
                                    count_177356 = defunc_0_split_count_res_177343;
                                    while (loop_while_177351) {
                                        int64_t zlze_lhs_177357 = sub64(ss_177353, ss_177352);
                                        bool cond_177358 = sle64(zlze_lhs_177357, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177359;
                                        int64_t defunc_0_lifted_step_res_177360;
                                        int64_t defunc_0_lifted_step_res_177361;
                                        int64_t defunc_0_lifted_step_res_177362;
                                        
                                        if (cond_177358) {
                                            int64_t tmp_180460 = add64(tt_177354, count_177356);
                                            
                                            defunc_0_lifted_step_res_177359 = ss_177352;
                                            defunc_0_lifted_step_res_177360 = tmp_180460;
                                            defunc_0_lifted_step_res_177361 = tt_177355;
                                            defunc_0_lifted_step_res_177362 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177364 = sub64(tt_177355, tt_177354);
                                            bool cond_177365 = sle64(zlze_lhs_177364, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177366;
                                            int64_t defunc_0_lifted_step_res_f_res_177367;
                                            int64_t defunc_0_lifted_step_res_f_res_177368;
                                            int64_t defunc_0_lifted_step_res_f_res_177369;
                                            
                                            if (cond_177365) {
                                                int64_t tmp_180461 = add64(ss_177352, count_177356);
                                                
                                                defunc_0_lifted_step_res_f_res_177366 = tmp_180461;
                                                defunc_0_lifted_step_res_f_res_177367 = tt_177354;
                                                defunc_0_lifted_step_res_f_res_177368 = tt_177355;
                                                defunc_0_lifted_step_res_f_res_177369 = (int64_t) 0;
                                            } else {
                                                bool cond_177371 = count_177356 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177372;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177373;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177374;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177375;
                                                
                                                if (cond_177371) {
                                                    bool x_180463 = sle64((int64_t) 0, ss_177352);
                                                    bool y_180464 = slt64(ss_177352, stride_177163);
                                                    bool bounds_check_180465 = x_180463 && y_180464;
                                                    bool index_certs_180466;
                                                    
                                                    if (!bounds_check_180465) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177352, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180471 = sle64((int64_t) 0, tt_177354);
                                                    bool y_180472 = slt64(tt_177354, j_m_i_177186);
                                                    bool bounds_check_180473 = x_180471 && y_180472;
                                                    bool index_certs_180474;
                                                    
                                                    if (!bounds_check_180473) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177354, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180467 = start_177237 + ss_177352;
                                                    int8_t leq_arg1_180468 = ((int8_t *) mem_param_181303.mem)[slice_180467];
                                                    int64_t leq_arg1_180469 = ((int64_t *) mem_param_181306.mem)[slice_180467];
                                                    double leq_arg1_180470 = ((double *) mem_param_181309.mem)[slice_180467];
                                                    int64_t slice_180475 = stride_177163 + tt_177354;
                                                    int64_t slice_180476 = start_177237 + slice_180475;
                                                    int8_t leq_arg0_180477 = ((int8_t *) mem_param_181303.mem)[slice_180476];
                                                    int64_t leq_arg0_180478 = ((int64_t *) mem_param_181306.mem)[slice_180476];
                                                    double leq_arg0_180479 = ((double *) mem_param_181309.mem)[slice_180476];
                                                    bool cond_180480 = leq_arg0_180477 == leq_arg1_180468;
                                                    bool defunc_0_leq_res_t_res_180481 = sle64(leq_arg0_180478, leq_arg1_180469);
                                                    bool defunc_0_leq_res_180482 = leq_arg0_180479 <= leq_arg1_180470;
                                                    bool x_180483 = cond_180480 && defunc_0_leq_res_t_res_180481;
                                                    bool x_180484 = !cond_180480;
                                                    bool y_180485 = defunc_0_leq_res_180482 && x_180484;
                                                    bool defunc_0_leq_res_180486 = x_180483 || y_180485;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    
                                                    if (defunc_0_leq_res_180486) {
                                                        int64_t tmp_180489 = add64((int64_t) 1, tt_177354);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = ss_177352;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tmp_180489;
                                                    } else {
                                                        int64_t tmp_180490 = add64((int64_t) 1, ss_177352);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = tmp_180490;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tt_177354;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = tt_177355;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177404 = sdiv64(count_177356, (int64_t) 2);
                                                    int64_t n_177405 = sub64(count_177356, m_177404);
                                                    bool cond_177406 = n_177405 == (int64_t) 0;
                                                    int64_t zgze_lhs_177407 = add64(ss_177352, m_177404);
                                                    bool cond_f_res_177408 = sle64(ss_177353, zgze_lhs_177407);
                                                    bool x_177409 = !cond_177406;
                                                    bool y_177410 = cond_f_res_177408 && x_177409;
                                                    bool cond_177411 = cond_177406 || y_177410;
                                                    bool leq_y_x_177412;
                                                    
                                                    if (cond_177411) {
                                                        leq_y_x_177412 = 1;
                                                    } else {
                                                        bool x_177413 = sle64((int64_t) 0, zgze_lhs_177407);
                                                        bool y_177414 = slt64(zgze_lhs_177407, stride_177163);
                                                        bool bounds_check_177415 = x_177413 && y_177414;
                                                        bool index_certs_177416;
                                                        
                                                        if (!bounds_check_177415) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177407, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177421 = add64(tt_177354, n_177405);
                                                        int64_t leq_arg0_177422 = sub64(zm_lhs_177421, (int64_t) 1);
                                                        bool x_177423 = sle64((int64_t) 0, leq_arg0_177422);
                                                        bool y_177424 = slt64(leq_arg0_177422, j_m_i_177186);
                                                        bool bounds_check_177425 = x_177423 && y_177424;
                                                        bool index_certs_177426;
                                                        
                                                        if (!bounds_check_177425) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177422, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177417 = start_177237 + zgze_lhs_177407;
                                                        int8_t leq_arg1_177418 = ((int8_t *) mem_param_181303.mem)[slice_177417];
                                                        int64_t leq_arg1_177419 = ((int64_t *) mem_param_181306.mem)[slice_177417];
                                                        double leq_arg1_177420 = ((double *) mem_param_181309.mem)[slice_177417];
                                                        int64_t slice_177427 = stride_177163 + leq_arg0_177422;
                                                        int64_t slice_177428 = start_177237 + slice_177427;
                                                        int8_t leq_arg0_177429 = ((int8_t *) mem_param_181303.mem)[slice_177428];
                                                        int64_t leq_arg0_177430 = ((int64_t *) mem_param_181306.mem)[slice_177428];
                                                        double leq_arg0_177431 = ((double *) mem_param_181309.mem)[slice_177428];
                                                        bool cond_177432 = leq_arg0_177429 == leq_arg1_177418;
                                                        bool defunc_0_leq_res_t_res_177433 = sle64(leq_arg0_177430, leq_arg1_177419);
                                                        bool defunc_0_leq_res_177434 = leq_arg0_177431 <= leq_arg1_177420;
                                                        bool x_177435 = cond_177432 && defunc_0_leq_res_t_res_177433;
                                                        bool x_177436 = !cond_177432;
                                                        bool y_177437 = defunc_0_leq_res_177434 && x_177436;
                                                        bool defunc_0_leq_res_177438 = x_177435 || y_177437;
                                                        
                                                        leq_y_x_177412 = defunc_0_leq_res_177438;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                    
                                                    if (leq_y_x_177412) {
                                                        int64_t tmp_180491 = add64(tt_177354, n_177405);
                                                        int64_t tmp_180492 = sub64(count_177356, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tmp_180491;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tt_177355;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = tmp_180492;
                                                    } else {
                                                        int64_t tmp_177444 = add64(tt_177354, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tt_177354;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tmp_177444;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = count_177356;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = ss_177352;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                }
                                                defunc_0_lifted_step_res_f_res_177366 = defunc_0_lifted_step_res_f_res_f_res_177372;
                                                defunc_0_lifted_step_res_f_res_177367 = defunc_0_lifted_step_res_f_res_f_res_177373;
                                                defunc_0_lifted_step_res_f_res_177368 = defunc_0_lifted_step_res_f_res_f_res_177374;
                                                defunc_0_lifted_step_res_f_res_177369 = defunc_0_lifted_step_res_f_res_f_res_177375;
                                            }
                                            defunc_0_lifted_step_res_177359 = defunc_0_lifted_step_res_f_res_177366;
                                            defunc_0_lifted_step_res_177360 = defunc_0_lifted_step_res_f_res_177367;
                                            defunc_0_lifted_step_res_177361 = defunc_0_lifted_step_res_f_res_177368;
                                            defunc_0_lifted_step_res_177362 = defunc_0_lifted_step_res_f_res_177369;
                                        }
                                        
                                        int64_t loopres_177445;
                                        int64_t loopres_177446;
                                        int64_t loopres_177447;
                                        int64_t loopres_177448;
                                        int64_t loopres_177449;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_177445, &loopres_177446, &loopres_177447, &loopres_177448, &loopres_177449, defunc_0_lifted_step_res_177359, ss_177353, defunc_0_lifted_step_res_177360, defunc_0_lifted_step_res_177361, defunc_0_lifted_step_res_177362) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177450 = slt64((int64_t) 0, loopres_177449);
                                        bool loop_while_tmp_182724 = loop_cond_177450;
                                        int64_t ss_tmp_182725 = loopres_177445;
                                        int64_t ss_tmp_182726 = loopres_177446;
                                        int64_t tt_tmp_182727 = loopres_177447;
                                        int64_t tt_tmp_182728 = loopres_177448;
                                        int64_t count_tmp_182729 = loopres_177449;
                                        
                                        loop_while_177351 = loop_while_tmp_182724;
                                        ss_177352 = ss_tmp_182725;
                                        ss_177353 = ss_tmp_182726;
                                        tt_177354 = tt_tmp_182727;
                                        tt_177355 = tt_tmp_182728;
                                        count_177356 = count_tmp_182729;
                                    }
                                    defunc_0_split_count_res_177345 = loop_while_177351;
                                    defunc_0_split_count_res_177346 = ss_177352;
                                    defunc_0_split_count_res_177347 = ss_177353;
                                    defunc_0_split_count_res_177348 = tt_177354;
                                    defunc_0_split_count_res_177349 = tt_177355;
                                    defunc_0_split_count_res_177350 = count_177356;
                                    ((int64_t *) mem_181331)[i_180914] = defunc_0_split_count_res_177346;
                                    ((int64_t *) mem_181333)[i_180914] = defunc_0_split_count_res_177348;
                                }
                                if (mem_181347_cached_sizze_182888 < flat_dim_177187) {
                                    err = lexical_realloc(ctx, &mem_181347, &mem_181347_cached_sizze_182888, flat_dim_177187);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181350_cached_sizze_182889 < bytes_181349) {
                                    err = lexical_realloc(ctx, &mem_181350, &mem_181350_cached_sizze_182889, bytes_181349);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181353_cached_sizze_182890 < bytes_181349) {
                                    err = lexical_realloc(ctx, &mem_181353, &mem_181353_cached_sizze_182890, bytes_181349);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180923 = 0; i_180923 < num_blocks_177184; i_180923++) {
                                    bool y_177457 = slt64(i_180923, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool index_certs_177459;
                                    
                                    if (!y_177457) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177460 = ((int64_t *) mem_181331)[i_180923];
                                    int64_t defunc_0_f_res_177461 = ((int64_t *) mem_181333)[i_180923];
                                    int64_t tmp_177462 = add64((int64_t) 1, i_180923);
                                    bool x_177463 = sle64((int64_t) 0, tmp_177462);
                                    bool y_177464 = slt64(tmp_177462, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool bounds_check_177465 = x_177463 && y_177464;
                                    bool index_certs_177466;
                                    
                                    if (!bounds_check_177465) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177462, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177467 = ((int64_t *) mem_181331)[tmp_177462];
                                    int64_t defunc_0_f_res_177468 = ((int64_t *) mem_181333)[tmp_177462];
                                    int64_t merge_sequential_arg2_177469 = add64(stride_177163, defunc_0_f_res_177461);
                                    int64_t merge_sequential_arg2_177470 = add64(stride_177163, defunc_0_f_res_177468);
                                    int64_t j_m_i_177471 = sub64(merge_sequential_arg2_177470, merge_sequential_arg2_177469);
                                    bool empty_slice_177472 = j_m_i_177471 == (int64_t) 0;
                                    int64_t m_177473 = sub64(j_m_i_177471, (int64_t) 1);
                                    int64_t i_p_m_t_s_177474 = add64(merge_sequential_arg2_177469, m_177473);
                                    bool zzero_leq_i_p_m_t_s_177475 = sle64((int64_t) 0, i_p_m_t_s_177474);
                                    bool i_p_m_t_s_leq_w_177476 = slt64(i_p_m_t_s_177474, next_stride_177164);
                                    bool zzero_lte_i_177477 = sle64((int64_t) 0, merge_sequential_arg2_177469);
                                    bool i_lte_j_177478 = sle64(merge_sequential_arg2_177469, merge_sequential_arg2_177470);
                                    bool y_177479 = i_p_m_t_s_leq_w_177476 && zzero_lte_i_177477;
                                    bool y_177480 = zzero_leq_i_p_m_t_s_177475 && y_177479;
                                    bool forwards_ok_177481 = i_lte_j_177478 && y_177480;
                                    bool ok_or_empty_177482 = empty_slice_177472 || forwards_ok_177481;
                                    bool index_certs_177483;
                                    
                                    if (!ok_or_empty_177482) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177469, ":", (long long) merge_sequential_arg2_177470, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177484 = sub64(defunc_0_f_res_177467, defunc_0_f_res_177460);
                                    bool empty_slice_177485 = j_m_i_177484 == (int64_t) 0;
                                    int64_t m_177486 = sub64(j_m_i_177484, (int64_t) 1);
                                    int64_t i_p_m_t_s_177487 = add64(defunc_0_f_res_177460, m_177486);
                                    bool zzero_leq_i_p_m_t_s_177488 = sle64((int64_t) 0, i_p_m_t_s_177487);
                                    bool i_p_m_t_s_leq_w_177489 = slt64(i_p_m_t_s_177487, next_stride_177164);
                                    bool zzero_lte_i_177490 = sle64((int64_t) 0, defunc_0_f_res_177460);
                                    bool i_lte_j_177491 = sle64(defunc_0_f_res_177460, defunc_0_f_res_177467);
                                    bool y_177492 = i_p_m_t_s_leq_w_177489 && zzero_lte_i_177490;
                                    bool y_177493 = zzero_leq_i_p_m_t_s_177488 && y_177492;
                                    bool forwards_ok_177494 = i_lte_j_177491 && y_177493;
                                    bool ok_or_empty_177495 = empty_slice_177485 || forwards_ok_177494;
                                    bool index_certs_177496;
                                    
                                    if (!ok_or_empty_177495) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177460, ":", (long long) defunc_0_f_res_177467, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177497 = slt64((int64_t) 0, j_m_i_177484);
                                    int8_t dummy_177498;
                                    int64_t dummy_177499;
                                    double dummy_177500;
                                    
                                    if (cond_177497) {
                                        bool index_certs_180493;
                                        
                                        if (!cond_177497) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180494 = start_177237 + defunc_0_f_res_177460;
                                        int8_t head_res_180495 = ((int8_t *) mem_param_181303.mem)[slice_180494];
                                        int64_t head_res_180496 = ((int64_t *) mem_param_181306.mem)[slice_180494];
                                        double head_res_180497 = ((double *) mem_param_181309.mem)[slice_180494];
                                        
                                        dummy_177498 = head_res_180495;
                                        dummy_177499 = head_res_180496;
                                        dummy_177500 = head_res_180497;
                                    } else {
                                        bool y_177506 = slt64((int64_t) 0, j_m_i_177471);
                                        bool index_certs_177507;
                                        
                                        if (!y_177506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177508 = start_177237 + merge_sequential_arg2_177469;
                                        int8_t head_res_177509 = ((int8_t *) mem_param_181303.mem)[slice_177508];
                                        int64_t head_res_177510 = ((int64_t *) mem_param_181306.mem)[slice_177508];
                                        double head_res_177511 = ((double *) mem_param_181309.mem)[slice_177508];
                                        
                                        dummy_177498 = head_res_177509;
                                        dummy_177499 = head_res_177510;
                                        dummy_177500 = head_res_177511;
                                    }
                                    for (int64_t nest_i_182733 = 0; nest_i_182733 < merge_block_sizze_177001; nest_i_182733++) {
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + nest_i_182733] = dummy_177498;
                                    }
                                    for (int64_t nest_i_182734 = 0; nest_i_182734 < merge_block_sizze_177001; nest_i_182734++) {
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + nest_i_182734] = dummy_177499;
                                    }
                                    for (int64_t nest_i_182735 = 0; nest_i_182735 < merge_block_sizze_177001; nest_i_182735++) {
                                        ((double *) mem_181353)[i_180923 * merge_block_sizze_177001 + nest_i_182735] = dummy_177500;
                                    }
                                    
                                    int64_t data_177515;
                                    int64_t i_177520 = (int64_t) 0;
                                    
                                    for (int64_t k_177519 = 0; k_177519 < merge_block_sizze_177001; k_177519++) {
                                        int64_t j_177524 = sub64(k_177519, i_177520);
                                        bool cond_177525 = j_177524 == j_m_i_177471;
                                        bool cond_177526;
                                        
                                        if (cond_177525) {
                                            cond_177526 = 1;
                                        } else {
                                            bool cond_177527 = slt64(i_177520, j_m_i_177484);
                                            bool cond_f_res_177528;
                                            
                                            if (cond_177527) {
                                                bool x_180498 = sle64((int64_t) 0, j_177524);
                                                bool y_180499 = slt64(j_177524, j_m_i_177471);
                                                bool bounds_check_180500 = x_180498 && y_180499;
                                                bool index_certs_180501;
                                                
                                                if (!bounds_check_180500) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180507 = sle64((int64_t) 0, i_177520);
                                                bool bounds_check_180508 = cond_177527 && x_180507;
                                                bool index_certs_180509;
                                                
                                                if (!bounds_check_180508) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180502 = merge_sequential_arg2_177469 + j_177524;
                                                int64_t slice_180503 = start_177237 + slice_180502;
                                                int8_t leq_arg1_180504 = ((int8_t *) mem_param_181303.mem)[slice_180503];
                                                int64_t leq_arg1_180505 = ((int64_t *) mem_param_181306.mem)[slice_180503];
                                                double leq_arg1_180506 = ((double *) mem_param_181309.mem)[slice_180503];
                                                int64_t slice_180510 = defunc_0_f_res_177460 + i_177520;
                                                int64_t slice_180511 = start_177237 + slice_180510;
                                                int8_t leq_arg0_180512 = ((int8_t *) mem_param_181303.mem)[slice_180511];
                                                int64_t leq_arg0_180513 = ((int64_t *) mem_param_181306.mem)[slice_180511];
                                                double leq_arg0_180514 = ((double *) mem_param_181309.mem)[slice_180511];
                                                bool cond_180515 = leq_arg0_180512 == leq_arg1_180504;
                                                bool defunc_0_leq_res_t_res_180516 = sle64(leq_arg0_180513, leq_arg1_180505);
                                                bool defunc_0_leq_res_180517 = leq_arg0_180514 <= leq_arg1_180506;
                                                bool x_180518 = cond_180515 && defunc_0_leq_res_t_res_180516;
                                                bool x_180519 = !cond_180515;
                                                bool y_180520 = defunc_0_leq_res_180517 && x_180519;
                                                bool defunc_0_leq_res_180521 = x_180518 || y_180520;
                                                
                                                cond_f_res_177528 = defunc_0_leq_res_180521;
                                            } else {
                                                cond_f_res_177528 = 0;
                                            }
                                            cond_177526 = cond_f_res_177528;
                                        }
                                        
                                        int64_t loopres_177553;
                                        int8_t loopres_177554;
                                        int64_t loopres_177555;
                                        double loopres_177556;
                                        
                                        if (cond_177526) {
                                            bool x_180523 = sle64((int64_t) 0, i_177520);
                                            bool y_180524 = slt64(i_177520, j_m_i_177484);
                                            bool bounds_check_180525 = x_180523 && y_180524;
                                            bool index_certs_180526;
                                            
                                            if (!bounds_check_180525) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180522 = add64((int64_t) 1, i_177520);
                                            int64_t slice_180527 = defunc_0_f_res_177460 + i_177520;
                                            int64_t slice_180528 = start_177237 + slice_180527;
                                            int8_t tmp_180529 = ((int8_t *) mem_param_181303.mem)[slice_180528];
                                            int64_t tmp_180530 = ((int64_t *) mem_param_181306.mem)[slice_180528];
                                            double tmp_180531 = ((double *) mem_param_181309.mem)[slice_180528];
                                            
                                            loopres_177553 = tmp_180522;
                                            loopres_177554 = tmp_180529;
                                            loopres_177555 = tmp_180530;
                                            loopres_177556 = tmp_180531;
                                        } else {
                                            bool x_177567 = sle64((int64_t) 0, j_177524);
                                            bool y_177568 = slt64(j_177524, j_m_i_177471);
                                            bool bounds_check_177569 = x_177567 && y_177568;
                                            bool index_certs_177570;
                                            
                                            if (!bounds_check_177569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177571 = merge_sequential_arg2_177469 + j_177524;
                                            int64_t slice_177572 = start_177237 + slice_177571;
                                            int8_t tmp_177573 = ((int8_t *) mem_param_181303.mem)[slice_177572];
                                            int64_t tmp_177574 = ((int64_t *) mem_param_181306.mem)[slice_177572];
                                            double tmp_177575 = ((double *) mem_param_181309.mem)[slice_177572];
                                            
                                            loopres_177553 = i_177520;
                                            loopres_177554 = tmp_177573;
                                            loopres_177555 = tmp_177574;
                                            loopres_177556 = tmp_177575;
                                        }
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177554;
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177555;
                                        ((double *) mem_181353)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177556;
                                        
                                        int64_t i_tmp_182736 = loopres_177553;
                                        
                                        i_177520 = i_tmp_182736;
                                    }
                                    data_177515 = i_177520;
                                }
                                if (memblock_alloc(ctx, &mem_181402, flat_dim_177187, "mem_181402")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181402.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint8_t *) mem_181347, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181406, bytes_181349, "mem_181406")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181406.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint64_t *) mem_181350, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181410, bytes_181349, "mem_181410")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181410.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint64_t *) mem_181353, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181402, "mem_181402") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181406, "mem_181406") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181410, "mem_181410") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181311, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181443.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181314, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181440.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181317, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181437.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181457, bytes_181310, "mem_181457")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181457.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint8_t *) mem_181311, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181461, bytes_181313, "mem_181461")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181461.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint64_t *) mem_181314, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181465, bytes_181313, "mem_181465")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181465.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint64_t *) mem_181317, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        
                        bool loop_cond_177589 = slt64(next_stride_177164, flat_dim_176996);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182703, &mem_181457, "mem_181457") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182704, &mem_181461, "mem_181461") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182705, &mem_181465, "mem_181465") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182706 = bytes_181310;
                        bool loop_while_tmp_182707 = loop_cond_177589;
                        int64_t stride_tmp_182711 = next_stride_177164;
                        
                        if (memblock_set(ctx, &mem_param_181303, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181306, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181309, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177158 = loop_dz2084Uz2082U_tmp_182706;
                        loop_while_177159 = loop_while_tmp_182707;
                        stride_177163 = stride_tmp_182711;
                    }
                    if (memblock_set(ctx, &ext_mem_181475, &mem_param_181303, "mem_param_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181474, &mem_param_181306, "mem_param_181306") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181473, &mem_param_181309, "mem_param_181309") != 0)
                        return 1;
                    data_177152 = loop_dz2084Uz2082U_177158;
                    data_177153 = loop_while_177159;
                    data_177157 = stride_177163;
                    if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
                        return 1;
                    
                    bool empty_slice_177590 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177591 = sle64((int64_t) 0, zs_lhs_176980);
                    bool i_p_m_t_s_leq_w_177592 = slt64(zs_lhs_176980, data_177152);
                    bool y_177593 = zzero_leq_i_p_m_t_s_177591 && i_p_m_t_s_leq_w_177592;
                    bool ok_or_empty_177594 = empty_slice_177590 || y_177593;
                    bool index_certs_177595;
                    
                    if (!ok_or_empty_177594) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] out of bounds for array of shape [", (long long) data_177152, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181484, &ext_mem_181475, "ext_mem_181475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &ext_mem_181474, "ext_mem_181474") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &ext_mem_181473, "ext_mem_181473") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181165.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181484.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181167.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181481.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181169.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181478.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
                    return 1;
                
                bool loop_cond_177631 = slt64(ubs_176923, threads_163380);
                bool loop_while_tmp_182670 = loop_cond_177631;
                int64_t p_tmp_182671 = ubs_176923;
                
                loop_while_176912 = loop_while_tmp_182670;
                p_176913 = p_tmp_182671;
            }
            defunc_0_mergeFunc_seq_res_176907 = loop_while_176912;
            defunc_0_mergeFunc_seq_res_176908 = p_176913;
            
            int64_t index_concat_branch_178448;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180546 = ((int64_t *) mem_181150)[index_concat_i_178445];
                
                index_concat_branch_178448 = index_concat_180546;
            } else {
                index_concat_branch_178448 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178442;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180547 = ((int64_t *) mem_181152)[index_concat_i_178445];
                
                index_concat_branch_178442 = index_concat_180547;
            } else {
                index_concat_branch_178442 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181165, "mem_181165") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181167, "mem_181167") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181169, "mem_181169") != 0)
                return 1;
            loopres_175671 = index_concat_branch_178448;
            loopres_175672 = index_concat_branch_178442;
        }
        for (int64_t i_180939 = 0; i_180939 < window_sizze_163379; i_180939++) {
            int8_t eta_p_177639 = ((int8_t *) ext_mem_181903.mem)[i_180939];
            int64_t eta_p_177640 = ((int64_t *) ext_mem_181900.mem)[i_180939];
            bool cond_177641 = eta_p_177639 == (int8_t) 0;
            int64_t tmp_177642;
            
            if (cond_177641) {
                int64_t tmp_t_res_180550 = add64(p_175643, eta_p_177640);
                
                tmp_177642 = tmp_t_res_180550;
            } else {
                int64_t tmp_f_res_177644 = add64(p_175644, eta_p_177640);
                
                tmp_177642 = tmp_f_res_177644;
            }
            ((int64_t *) mem_181137.mem)[ind_bottom_175647 + i_180939] = tmp_177642;
        }
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        
        int64_t next_lbs_177645 = add64(p_175643, loopres_175671);
        int64_t next_lbs_177646 = add64(p_175644, loopres_175672);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181903.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_163379});
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181139.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181897.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_163379});
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        
        bool cond_177660 = slt64(next_lbs_177645, zl_rhs_175626);
        bool loop_cond_t_res_177661 = slt64(next_lbs_177646, zl_rhs_175628);
        bool x_177662 = cond_177660 && loop_cond_t_res_177661;
        bool loop_while_tmp_182554 = x_177662;
        int64_t p_tmp_182558 = next_lbs_177645;
        int64_t p_tmp_182559 = next_lbs_177646;
        
        loop_while_175639 = loop_while_tmp_182554;
        p_175643 = p_tmp_182558;
        p_175644 = p_tmp_182559;
    }
    defunc_0_merge_pipeline_res_175633 = loop_while_175639;
    defunc_0_merge_pipeline_res_175637 = p_175643;
    defunc_0_merge_pipeline_res_175638 = p_175644;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 = sub64(nb_163378, defunc_0_merge_pipeline_res_175638);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 = sub64(na_163377, defunc_0_merge_pipeline_res_175637);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    bool empty_slice_177666 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 == (int64_t) 0;
    int64_t m_177667 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 1);
    int64_t i_p_m_t_s_177668 = add64(defunc_0_merge_pipeline_res_175637, m_177667);
    bool zzero_leq_i_p_m_t_s_177669 = sle64((int64_t) 0, i_p_m_t_s_177668);
    bool i_p_m_t_s_leq_w_177670 = slt64(i_p_m_t_s_177668, na_163377);
    bool zzero_lte_i_177671 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175637);
    bool i_lte_j_177672 = sle64(defunc_0_merge_pipeline_res_175637, na_163377);
    bool y_177673 = i_p_m_t_s_leq_w_177670 && zzero_lte_i_177671;
    bool y_177674 = zzero_leq_i_p_m_t_s_177669 && y_177673;
    bool forwards_ok_177675 = i_lte_j_177672 && y_177674;
    bool ok_or_empty_177676 = empty_slice_177666 || forwards_ok_177675;
    bool index_certs_177677;
    
    if (!ok_or_empty_177676) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175637, ":", (long long) na_163377, "] out of bounds for array of shape [", (long long) na_163377, "].", "-> #0  ftsort.fut:436:14-34\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177681 = slt64(na_163377, defunc_0_merge_pipeline_res_175637);
    bool valid_177682 = !bounds_invalid_upwards_177681;
    bool range_valid_c_177683;
    
    if (!valid_177682) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175637, "..<", (long long) na_163377, " is invalid.", "-> #0  ftsort.fut:440:9-25\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177687 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 == (int64_t) 0;
    int64_t m_177688 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, (int64_t) 1);
    int64_t i_p_m_t_s_177689 = add64(defunc_0_merge_pipeline_res_175638, m_177688);
    bool zzero_leq_i_p_m_t_s_177690 = sle64((int64_t) 0, i_p_m_t_s_177689);
    bool i_p_m_t_s_leq_w_177691 = slt64(i_p_m_t_s_177689, nb_163378);
    bool zzero_lte_i_177692 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175638);
    bool i_lte_j_177693 = sle64(defunc_0_merge_pipeline_res_175638, nb_163378);
    bool y_177694 = i_p_m_t_s_leq_w_177691 && zzero_lte_i_177692;
    bool y_177695 = zzero_leq_i_p_m_t_s_177690 && y_177694;
    bool forwards_ok_177696 = i_lte_j_177693 && y_177695;
    bool ok_or_empty_177697 = empty_slice_177687 || forwards_ok_177696;
    bool index_certs_177698;
    
    if (!ok_or_empty_177697) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175638, ":", (long long) nb_163378, "] out of bounds for array of shape [", (long long) nb_163378, "].", "-> #0  ftsort.fut:442:14-34\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177702 = slt64(nb_163378, defunc_0_merge_pipeline_res_175638);
    bool valid_177703 = !bounds_invalid_upwards_177702;
    bool range_valid_c_177704;
    
    if (!valid_177703) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175638, "..<", (long long) nb_163378, " is invalid.", "-> #0  ftsort.fut:446:9-25\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181928 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool cond_177711 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zs_lhs_177712 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zp_rhs_177713 = sdiv_safe64(zs_lhs_177712, (int64_t) 20);
    int64_t min_num_blocks_177714 = add64((int64_t) 1, zp_rhs_177713);
    bool loop_cond_177715 = slt64((int64_t) 1, min_num_blocks_177714);
    bool smallest_pow_2_geq_than_res_177716;
    int64_t smallest_pow_2_geq_than_res_177717;
    bool loop_while_177718;
    int64_t x_177719;
    
    loop_while_177718 = loop_cond_177715;
    x_177719 = (int64_t) 1;
    while (loop_while_177718) {
        int64_t loopres_177720 = mul64((int64_t) 2, x_177719);
        bool loop_cond_177721 = slt64(loopres_177720, min_num_blocks_177714);
        bool loop_while_tmp_182741 = loop_cond_177721;
        int64_t x_tmp_182742 = loopres_177720;
        
        loop_while_177718 = loop_while_tmp_182741;
        x_177719 = x_tmp_182742;
    }
    smallest_pow_2_geq_than_res_177716 = loop_while_177718;
    smallest_pow_2_geq_than_res_177717 = x_177719;
    
    bool zzero_177722 = smallest_pow_2_geq_than_res_177717 == (int64_t) 0;
    bool nonzzero_177723 = !zzero_177722;
    bool protect_assert_disj_177724 = cond_177711 || nonzzero_177723;
    bool nonzzero_cert_177725;
    
    if (!protect_assert_disj_177724) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177726 = sdiv_safe64(zs_lhs_177712, smallest_pow_2_geq_than_res_177717);
    int64_t block_sizze_177727 = add64((int64_t) 1, zp_rhs_177726);
    bool y_177734 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool protect_assert_disj_182256 = cond_177711 || y_177734;
    bool index_certs_177735;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177761 = slt64(smallest_pow_2_geq_than_res_177717, (int64_t) 0);
    bool valid_177762 = !bounds_invalid_upwards_177761;
    bool protect_assert_disj_182266 = cond_177711 || valid_177762;
    bool range_valid_c_177763;
    
    if (!protect_assert_disj_182266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177717, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177765 = slt64(block_sizze_177727, (int64_t) 0);
    bool valid_177766 = !bounds_invalid_upwards_177765;
    bool protect_assert_disj_182268 = cond_177711 || valid_177766;
    bool range_valid_c_177767;
    
    if (!protect_assert_disj_182268) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177727, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177769 = sle64(block_sizze_177727, (int64_t) 1);
    int64_t tmp_177770 = sub64(block_sizze_177727, (int64_t) 2);
    bool bounds_invalid_upwards_177771 = slt64(tmp_177770, (int64_t) 0);
    bool valid_177773 = !bounds_invalid_upwards_177771;
    bool protect_assert_disj_177774 = cond_177769 || valid_177773;
    bool protect_assert_disj_182270 = cond_177711 || protect_assert_disj_177774;
    bool range_valid_c_177775;
    
    if (!protect_assert_disj_182270) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177770, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178336 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178338 = sle64((int64_t) 0, zs_lhs_177712);
    bool i_p_m_t_s_leq_w_178339 = slt64(zs_lhs_177712, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool y_178340 = zzero_leq_i_p_m_t_s_178338 && i_p_m_t_s_leq_w_178339;
    bool ok_or_empty_178341 = empty_slice_178336 || y_178340;
    bool index_certs_178342;
    
    if (!ok_or_empty_178341) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  ftsort.fut:455:78-101\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178343 = add64(defunc_0_merge_pipeline_res_175637, defunc_0_merge_pipeline_res_175638);
    int64_t j_m_i_178344 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, final_buffer_178343);
    bool empty_slice_178345 = j_m_i_178344 == (int64_t) 0;
    int64_t m_178346 = sub64(j_m_i_178344, (int64_t) 1);
    int64_t i_p_m_t_s_178347 = add64(final_buffer_178343, m_178346);
    bool zzero_leq_i_p_m_t_s_178348 = sle64((int64_t) 0, i_p_m_t_s_178347);
    bool i_p_m_t_s_leq_w_178349 = slt64(i_p_m_t_s_178347, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool zzero_lte_i_178350 = sle64((int64_t) 0, final_buffer_178343);
    bool i_lte_j_178351 = sle64(final_buffer_178343, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool y_178352 = i_p_m_t_s_leq_w_178349 && zzero_lte_i_178350;
    bool y_178353 = zzero_leq_i_p_m_t_s_178348 && y_178352;
    bool forwards_ok_178354 = i_lte_j_178351 && y_178353;
    bool ok_or_empty_178355 = empty_slice_178345 || forwards_ok_178354;
    bool index_certs_178356;
    
    if (!ok_or_empty_178355) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178343, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178357 = j_m_i_178344 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool empty_or_match_cert_178358;
    
    if (!dim_match_178357) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178344, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "]", " of value.", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:502:63-73\n   #2  ftsort.fut:495:1-502:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181927, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "mem_181927")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182743 = 0; nest_i_182743 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; nest_i_182743++) {
        ((int8_t *) mem_181927.mem)[nest_i_182743] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181929, bytes_181928, "mem_181929")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182744 = 0; i_182744 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; i_182744++) {
        int64_t x_182745 = defunc_0_merge_pipeline_res_175637 + i_182744 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[i_182744] = x_182745;
    }
    for (int64_t nest_i_182746 = 0; nest_i_182746 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; nest_i_182746++) {
        ((int8_t *) mem_181927.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + nest_i_182746] = (int8_t) 1;
    }
    for (int64_t i_182747 = 0; i_182747 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; i_182747++) {
        int64_t x_182748 = defunc_0_merge_pipeline_res_175638 + i_182747 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + i_182747] = x_182748;
    }
    
    int64_t tmp_offs_182749 = (int64_t) 0;
    
    if (!(tmp_offs_182749 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182749 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t tmp_offs_182750 = (int64_t) 0;
    
    if (!(tmp_offs_182750 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182750 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    if (memblock_alloc(ctx, &mem_181931, bytes_181928, "mem_181931")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182751 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181133.mem, defunc_0_merge_pipeline_res_175637, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181134.mem, defunc_0_merge_pipeline_res_175638, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t flat_dim_177728 = smallest_pow_2_geq_than_res_177717 * block_sizze_177727;
    bool x_182251 = !cond_177711;
    int64_t greatest_divisor_leq_than_arg1_177732 = mul64((int64_t) 2, block_sizze_177727);
    int64_t merge_block_sizze_177733;
    
    if (x_182251) {
        int64_t x_182253;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182253, (int64_t) 8, greatest_divisor_leq_than_arg1_177732) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177733 = x_182253;
    } else {
        merge_block_sizze_177733 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178408 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 0);
    int8_t index_concat_branch_178412 = btoi_bool_i8(index_concat_cmp_178408);
    int64_t index_concat_i_180552 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    int64_t index_primexp_180553 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180552);
    int64_t index_concat_branch_178406;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178406 = index_primexp_180553;
    } else {
        index_concat_branch_178406 = defunc_0_merge_pipeline_res_175637;
    }
    
    bool x_182247 = !index_concat_cmp_178408;
    bool protect_cond_conj_182257 = x_182247 && x_182251;
    double index_concat_178399;
    
    if (protect_cond_conj_182257) {
        double x_182249 = ((double *) a_list_mem_181133.mem)[defunc_0_merge_pipeline_res_175637];
        
        index_concat_178399 = x_182249;
    } else {
        index_concat_178399 = 0.0;
    }
    
    bool protect_cond_conj_182258 = index_concat_cmp_178408 && x_182251;
    double index_concat_180556;
    
    if (protect_cond_conj_182258) {
        double x_182245 = ((double *) b_list_mem_181134.mem)[index_primexp_180553];
        
        index_concat_180556 = x_182245;
    } else {
        index_concat_180556 = 0.0;
    }
    
    double index_concat_branch_178400;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178400 = index_concat_180556;
    } else {
        index_concat_branch_178400 = index_concat_178399;
    }
    
    int8_t defunc_0_reduce_res_180787;
    int64_t defunc_0_reduce_res_180788;
    double defunc_0_reduce_res_180789;
    
    if (x_182251) {
        int8_t x_182259;
        int64_t x_182260;
        double x_182261;
        int8_t redout_180941;
        int64_t redout_180942;
        double redout_180943;
        
        redout_180941 = index_concat_branch_178412;
        redout_180942 = index_concat_branch_178406;
        redout_180943 = index_concat_branch_178400;
        for (int64_t i_180944 = 0; i_180944 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665; i_180944++) {
            bool index_concat_cmp_181015 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, i_180944);
            int8_t index_concat_branch_181019 = btoi_bool_i8(index_concat_cmp_181015);
            int64_t index_concat_branch_181013;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181010 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t index_primexp_181103 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_181010);
                
                index_concat_branch_181013 = index_primexp_181103;
            } else {
                int64_t index_primexp_181105 = add64(defunc_0_merge_pipeline_res_175637, i_180944);
                
                index_concat_branch_181013 = index_primexp_181105;
            }
            
            double index_concat_branch_181007;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181004 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t slice_181100 = defunc_0_merge_pipeline_res_175638 + index_concat_i_181004;
                double index_concat_181005 = ((double *) b_list_mem_181134.mem)[slice_181100];
                
                index_concat_branch_181007 = index_concat_181005;
            } else {
                int64_t slice_181101 = defunc_0_merge_pipeline_res_175637 + i_180944;
                double index_concat_181006 = ((double *) a_list_mem_181133.mem)[slice_181101];
                
                index_concat_branch_181007 = index_concat_181006;
            }
            
            bool eq_x_y_181118 = redout_180941 == (int8_t) 1;
            bool eq_x_zz_181119 = redout_180941 == (int8_t) 0;
            bool p_and_eq_x_y_181120 = index_concat_cmp_181015 && eq_x_y_181118;
            bool not_p_181121 = !index_concat_cmp_181015;
            bool p_and_eq_x_y_181122 = eq_x_zz_181119 && not_p_181121;
            bool cond_177751 = p_and_eq_x_y_181120 || p_and_eq_x_y_181122;
            bool defunc_0_leq_res_t_res_177752 = sle64(redout_180942, index_concat_branch_181013);
            bool defunc_0_leq_res_177753 = redout_180943 <= index_concat_branch_181007;
            bool x_177754 = cond_177751 && defunc_0_leq_res_t_res_177752;
            bool x_177755 = !cond_177751;
            bool y_177756 = defunc_0_leq_res_177753 && x_177755;
            bool defunc_0_leq_res_177757 = x_177754 || y_177756;
            int8_t defunc_0_op_res_177758;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177758 = index_concat_branch_181019;
            } else {
                defunc_0_op_res_177758 = redout_180941;
            }
            
            int64_t defunc_0_op_res_177759;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177759 = index_concat_branch_181013;
            } else {
                defunc_0_op_res_177759 = redout_180942;
            }
            
            double defunc_0_op_res_177760;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177760 = index_concat_branch_181007;
            } else {
                defunc_0_op_res_177760 = redout_180943;
            }
            
            int8_t redout_tmp_182752 = defunc_0_op_res_177758;
            int64_t redout_tmp_182753 = defunc_0_op_res_177759;
            double redout_tmp_182754 = defunc_0_op_res_177760;
            
            redout_180941 = redout_tmp_182752;
            redout_180942 = redout_tmp_182753;
            redout_180943 = redout_tmp_182754;
        }
        x_182259 = redout_180941;
        x_182260 = redout_180942;
        x_182261 = redout_180943;
        defunc_0_reduce_res_180787 = x_182259;
        defunc_0_reduce_res_180788 = x_182260;
        defunc_0_reduce_res_180789 = x_182261;
    } else {
        defunc_0_reduce_res_180787 = (int8_t) 0;
        defunc_0_reduce_res_180788 = (int64_t) 0;
        defunc_0_reduce_res_180789 = 0.0;
    }
    
    int64_t distance_177772 = add64((int64_t) 1, tmp_177770);
    int64_t binop_x_181934 = (int64_t) 8 * smallest_pow_2_geq_than_res_177717;
    int64_t bytes_181935 = block_sizze_177727 * binop_x_181934;
    int64_t bytes_181953 = (int64_t) 8 * block_sizze_177727;
    bool loop_cond_177881 = slt64(block_sizze_177727, flat_dim_177728);
    bool zzero_177882 = merge_block_sizze_177733 == (int64_t) 0;
    bool nonzzero_177883 = !zzero_177882;
    
    if (cond_177711) {
        if (memblock_set(ctx, &ext_mem_182226, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &mem_181931, "mem_181931") != 0)
            return 1;
    } else {
        if (mem_181933_cached_sizze_182911 < flat_dim_177728) {
            err = lexical_realloc(ctx, &mem_181933, &mem_181933_cached_sizze_182911, flat_dim_177728);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181936_cached_sizze_182912 < bytes_181935) {
            err = lexical_realloc(ctx, &mem_181936, &mem_181936_cached_sizze_182912, bytes_181935);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181939_cached_sizze_182913 < bytes_181935) {
            err = lexical_realloc(ctx, &mem_181939, &mem_181939_cached_sizze_182913, bytes_181935);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181952_cached_sizze_182914 < block_sizze_177727) {
            err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_182914, block_sizze_177727);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181954_cached_sizze_182915 < bytes_181953) {
            err = lexical_realloc(ctx, &mem_181954, &mem_181954_cached_sizze_182915, bytes_181953);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181956_cached_sizze_182916 < bytes_181953) {
            err = lexical_realloc(ctx, &mem_181956, &mem_181956_cached_sizze_182916, bytes_181953);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180961 = 0; i_180961 < smallest_pow_2_geq_than_res_177717; i_180961++) {
            int64_t zp_lhs_177780 = mul64(block_sizze_177727, i_180961);
            
            for (int64_t i_180951 = 0; i_180951 < block_sizze_177727; i_180951++) {
                int64_t k_177785 = add64(zp_lhs_177780, i_180951);
                bool cond_177786 = slt64(k_177785, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
                int8_t lifted_lambda_res_177787;
                int64_t lifted_lambda_res_177788;
                double lifted_lambda_res_177789;
                
                if (cond_177786) {
                    bool x_180562 = sle64((int64_t) 0, k_177785);
                    bool bounds_check_180563 = cond_177786 && x_180562;
                    bool index_certs_180564;
                    
                    if (!bounds_check_180563) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177785, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180565 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, k_177785);
                    int8_t index_concat_branch_180566 = btoi_bool_i8(index_concat_cmp_180565);
                    int64_t index_concat_branch_180567;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180568 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t index_primexp_180569 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180568);
                        
                        index_concat_branch_180567 = index_primexp_180569;
                    } else {
                        int64_t index_primexp_180570 = add64(defunc_0_merge_pipeline_res_175637, k_177785);
                        
                        index_concat_branch_180567 = index_primexp_180570;
                    }
                    
                    double index_concat_branch_180571;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180572 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t slice_180573 = defunc_0_merge_pipeline_res_175638 + index_concat_i_180572;
                        double index_concat_180574 = ((double *) b_list_mem_181134.mem)[slice_180573];
                        
                        index_concat_branch_180571 = index_concat_180574;
                    } else {
                        int64_t slice_180575 = defunc_0_merge_pipeline_res_175637 + k_177785;
                        double index_concat_180576 = ((double *) a_list_mem_181133.mem)[slice_180575];
                        
                        index_concat_branch_180571 = index_concat_180576;
                    }
                    lifted_lambda_res_177787 = index_concat_branch_180566;
                    lifted_lambda_res_177788 = index_concat_branch_180567;
                    lifted_lambda_res_177789 = index_concat_branch_180571;
                } else {
                    lifted_lambda_res_177787 = defunc_0_reduce_res_180787;
                    lifted_lambda_res_177788 = defunc_0_reduce_res_180788;
                    lifted_lambda_res_177789 = defunc_0_reduce_res_180789;
                }
                ((int8_t *) mem_181952)[i_180951] = lifted_lambda_res_177787;
                ((int64_t *) mem_181954)[i_180951] = lifted_lambda_res_177788;
                ((double *) mem_181956)[i_180951] = lifted_lambda_res_177789;
            }
            if (!cond_177769) {
                for (int64_t i_177802 = 0; i_177802 < distance_177772; i_177802++) {
                    int64_t gt_arg1_177806 = add64((int64_t) 1, i_177802);
                    bool x_177807 = sle64((int64_t) 0, gt_arg1_177806);
                    bool y_177808 = slt64(gt_arg1_177806, block_sizze_177727);
                    bool bounds_check_177809 = x_177807 && y_177808;
                    bool index_certs_177810;
                    
                    if (!bounds_check_177809) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177806, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177814 = slt64(i_177802, block_sizze_177727);
                    bool index_certs_177815;
                    
                    if (!y_177814) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177802, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177811 = ((int8_t *) mem_181952)[gt_arg1_177806];
                    int64_t gt_arg1_177812 = ((int64_t *) mem_181954)[gt_arg1_177806];
                    double gt_arg1_177813 = ((double *) mem_181956)[gt_arg1_177806];
                    int8_t gt_arg0_177816 = ((int8_t *) mem_181952)[i_177802];
                    int64_t gt_arg0_177817 = ((int64_t *) mem_181954)[i_177802];
                    double gt_arg0_177818 = ((double *) mem_181956)[i_177802];
                    bool cond_177819 = gt_arg0_177816 == gt_arg1_177811;
                    bool defunc_0_leq_res_t_res_177820 = sle64(gt_arg0_177817, gt_arg1_177812);
                    bool defunc_0_leq_res_177821 = gt_arg0_177818 <= gt_arg1_177813;
                    bool x_177822 = cond_177819 && defunc_0_leq_res_t_res_177820;
                    bool x_177823 = !cond_177819;
                    bool y_177824 = defunc_0_leq_res_177821 && x_177823;
                    bool defunc_0_leq_res_177825 = x_177822 || y_177824;
                    bool defunc_0_lifted_gt_res_177826 = !defunc_0_leq_res_177825;
                    bool s_177827;
                    int64_t s_177831;
                    bool loop_while_177832;
                    int64_t j_177836;
                    
                    loop_while_177832 = defunc_0_lifted_gt_res_177826;
                    j_177836 = i_177802;
                    while (loop_while_177832) {
                        bool x_177837 = sle64((int64_t) 0, j_177836);
                        bool y_177838 = slt64(j_177836, block_sizze_177727);
                        bool bounds_check_177839 = x_177837 && y_177838;
                        bool index_certs_177840;
                        
                        if (!bounds_check_177839) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177836, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177844 = add64((int64_t) 1, j_177836);
                        bool x_177845 = sle64((int64_t) 0, copy_arg0_177844);
                        bool y_177846 = slt64(copy_arg0_177844, block_sizze_177727);
                        bool bounds_check_177847 = x_177845 && y_177846;
                        bool index_certs_177848;
                        
                        if (!bounds_check_177847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177844, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177841 = ((int8_t *) mem_181952)[j_177836];
                        int64_t copy_arg0_177842 = ((int64_t *) mem_181954)[j_177836];
                        double copy_arg0_177843 = ((double *) mem_181956)[j_177836];
                        int8_t copy_arg0_177849 = ((int8_t *) mem_181952)[copy_arg0_177844];
                        int64_t copy_arg0_177850 = ((int64_t *) mem_181954)[copy_arg0_177844];
                        double copy_arg0_177851 = ((double *) mem_181956)[copy_arg0_177844];
                        
                        ((int8_t *) mem_181952)[j_177836] = copy_arg0_177849;
                        ((int64_t *) mem_181954)[j_177836] = copy_arg0_177850;
                        ((double *) mem_181956)[j_177836] = copy_arg0_177851;
                        ((int8_t *) mem_181952)[copy_arg0_177844] = copy_arg0_177841;
                        ((int64_t *) mem_181954)[copy_arg0_177844] = copy_arg0_177842;
                        ((double *) mem_181956)[copy_arg0_177844] = copy_arg0_177843;
                        
                        int64_t tmp_177858 = sub64(j_177836, (int64_t) 1);
                        bool cond_177859 = sle64((int64_t) 0, tmp_177858);
                        bool loop_cond_177860;
                        
                        if (cond_177859) {
                            bool y_180580 = slt64(tmp_177858, block_sizze_177727);
                            bool bounds_check_180581 = cond_177859 && y_180580;
                            bool index_certs_180582;
                            
                            if (!bounds_check_180581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177858, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180577 = ((int8_t *) mem_181952)[j_177836];
                            int64_t gt_arg1_180578 = ((int64_t *) mem_181954)[j_177836];
                            double gt_arg1_180579 = ((double *) mem_181956)[j_177836];
                            int8_t gt_arg0_180583 = ((int8_t *) mem_181952)[tmp_177858];
                            int64_t gt_arg0_180584 = ((int64_t *) mem_181954)[tmp_177858];
                            double gt_arg0_180585 = ((double *) mem_181956)[tmp_177858];
                            bool cond_180586 = gt_arg0_180583 == gt_arg1_180577;
                            bool defunc_0_leq_res_t_res_180587 = sle64(gt_arg0_180584, gt_arg1_180578);
                            bool defunc_0_leq_res_180588 = gt_arg0_180585 <= gt_arg1_180579;
                            bool x_180589 = cond_180586 && defunc_0_leq_res_t_res_180587;
                            bool x_180590 = !cond_180586;
                            bool y_180591 = defunc_0_leq_res_180588 && x_180590;
                            bool defunc_0_leq_res_180592 = x_180589 || y_180591;
                            bool defunc_0_lifted_gt_res_180593 = !defunc_0_leq_res_180592;
                            
                            loop_cond_177860 = defunc_0_lifted_gt_res_180593;
                        } else {
                            loop_cond_177860 = 0;
                        }
                        
                        bool loop_while_tmp_182764 = loop_cond_177860;
                        int64_t j_tmp_182768 = tmp_177858;
                        
                        loop_while_177832 = loop_while_tmp_182764;
                        j_177836 = j_tmp_182768;
                    }
                    s_177827 = loop_while_177832;
                    s_177831 = j_177836;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181933, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181936, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181954, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181939, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181956, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
        }
        if (memblock_alloc(ctx, &mem_182033, flat_dim_177728, "mem_182033")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_182033.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint8_t *) mem_181933, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182037, bytes_181935, "mem_182037")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_182037.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint64_t *) mem_181936, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182041, bytes_181935, "mem_182041")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_182041.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint64_t *) mem_181939, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        
        int64_t data_177884;
        bool data_177885;
        int64_t data_177889;
        int64_t loop_dz2084Uz2082U_177890;
        bool loop_while_177891;
        int64_t stride_177895;
        
        if (memblock_set(ctx, &mem_param_182045, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182048, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182051, &mem_182041, "mem_182041") != 0)
            return 1;
        loop_dz2084Uz2082U_177890 = flat_dim_177728;
        loop_while_177891 = loop_cond_177881;
        stride_177895 = block_sizze_177727;
        while (loop_while_177891) {
            int64_t next_stride_177896 = mul64((int64_t) 2, stride_177895);
            bool zzero_177897 = next_stride_177896 == (int64_t) 0;
            bool nonzzero_177898 = !zzero_177897;
            bool nonzzero_cert_177899;
            
            if (!nonzzero_177898) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:502:63-73\n   #4  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177900 = sdiv64(flat_dim_177728, next_stride_177896);
            bool bounds_invalid_upwards_177901 = slt64(num_merges_177900, (int64_t) 0);
            bool valid_177902 = !bounds_invalid_upwards_177901;
            bool range_valid_c_177903;
            
            if (!valid_177902) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177900, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177905 = sub64(next_stride_177896, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177906 = sle64((int64_t) 0, m_177905);
            bool cond_177908 = slt64(next_stride_177896, (int64_t) 10);
            bool protect_assert_disj_177909 = nonzzero_177883 || cond_177908;
            bool nonzzero_cert_177910;
            
            if (!protect_assert_disj_177909) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177911 = smod_safe64(next_stride_177896, merge_block_sizze_177733);
            bool num_blocks_177912 = zeze_lhs_177911 == (int64_t) 0;
            bool protect_assert_disj_177913 = cond_177908 || num_blocks_177912;
            bool assert_c_177914;
            
            if (!protect_assert_disj_177913) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177916 = sdiv_safe64(next_stride_177896, merge_block_sizze_177733);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917 = add64((int64_t) 1, num_blocks_177916);
            int64_t j_m_i_177918 = sub64(next_stride_177896, stride_177895);
            int64_t flat_dim_177919 = merge_block_sizze_177733 * num_blocks_177916;
            bool bounds_invalid_upwards_177920 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, (int64_t) 0);
            bool empty_slice_177921 = j_m_i_177918 == (int64_t) 0;
            int64_t m_177922 = sub64(j_m_i_177918, (int64_t) 1);
            bool zzero_lte_i_177923 = sle64((int64_t) 0, stride_177895);
            bool i_lte_j_177924 = sle64(stride_177895, next_stride_177896);
            bool empty_slice_177925 = stride_177895 == (int64_t) 0;
            int64_t m_177926 = sub64(stride_177895, (int64_t) 1);
            bool bounds_invalid_upwards_177927 = slt64(num_blocks_177916, (int64_t) 0);
            bool cond_177928 = slt64((int64_t) 0, stride_177895);
            bool valid_177929 = !bounds_invalid_upwards_177920;
            int64_t i_p_m_t_s_177930 = add64(stride_177895, m_177922);
            bool zzero_leq_i_p_m_t_s_177931 = sle64((int64_t) 0, m_177926);
            bool i_p_m_t_s_leq_w_177932 = slt64(m_177926, next_stride_177896);
            bool valid_177933 = !bounds_invalid_upwards_177927;
            bool i_p_m_t_s_leq_w_177934 = slt64(m_177905, flat_dim_177919);
            bool y_177935 = slt64((int64_t) 0, j_m_i_177918);
            bool protect_assert_disj_177936 = cond_177908 || valid_177929;
            bool range_valid_c_177937;
            
            if (!protect_assert_disj_177936) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177938 = sle64((int64_t) 0, i_p_m_t_s_177930);
            bool i_p_m_t_s_leq_w_177939 = slt64(i_p_m_t_s_177930, next_stride_177896);
            bool y_177940 = zzero_leq_i_p_m_t_s_177931 && i_p_m_t_s_leq_w_177932;
            bool protect_assert_disj_177941 = cond_177908 || valid_177933;
            bool range_valid_c_177942;
            
            if (!protect_assert_disj_177941) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177916, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177943 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177934;
            bool y_177944 = zzero_lte_i_177923 && i_p_m_t_s_leq_w_177939;
            bool forwards_ok_177945 = zzero_lte_i_177923 && y_177940;
            bool ok_or_empty_177946 = zzero_177897 || y_177943;
            bool protect_assert_disj_177947 = cond_177928 || y_177935;
            bool y_177948 = zzero_leq_i_p_m_t_s_177938 && y_177944;
            bool ok_or_empty_177949 = empty_slice_177925 || forwards_ok_177945;
            bool protect_assert_disj_177950 = cond_177908 || ok_or_empty_177946;
            bool index_certs_177951;
            
            if (!protect_assert_disj_177950) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) flat_dim_177919, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177952 = !cond_177908;
            bool protect_assert_disj_177953 = protect_assert_disj_177947 || loop_not_taken_177952;
            bool index_certs_177954;
            
            if (!protect_assert_disj_177953) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177955 = i_lte_j_177924 && y_177948;
            bool protect_assert_disj_177956 = cond_177908 || ok_or_empty_177949;
            bool index_certs_177957;
            
            if (!protect_assert_disj_177956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177958 = ok_or_empty_177949 || loop_not_taken_177952;
            bool index_certs_177959;
            
            if (!protect_assert_disj_177958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177960 = empty_slice_177921 || forwards_ok_177955;
            bool protect_assert_disj_177961 = cond_177908 || ok_or_empty_177960;
            bool index_certs_177962;
            
            if (!protect_assert_disj_177961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177963 = loop_not_taken_177952 || ok_or_empty_177960;
            bool index_certs_177964;
            
            if (!protect_assert_disj_177963) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_182052 = next_stride_177896 * num_merges_177900;
            int64_t binop_x_182054 = (int64_t) 8 * num_merges_177900;
            int64_t bytes_182055 = next_stride_177896 * binop_x_182054;
            bool i_lte_j_177907 = sle64((int64_t) 0, next_stride_177896);
            
            if (mem_182053_cached_sizze_182917 < bytes_182052) {
                err = lexical_realloc(ctx, &mem_182053, &mem_182053_cached_sizze_182917, bytes_182052);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182056_cached_sizze_182918 < bytes_182055) {
                err = lexical_realloc(ctx, &mem_182056, &mem_182056_cached_sizze_182918, bytes_182055);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182059_cached_sizze_182919 < bytes_182055) {
                err = lexical_realloc(ctx, &mem_182059, &mem_182059_cached_sizze_182919, bytes_182055);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_182072 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917;
            int64_t binop_x_182090 = (int64_t) 8 * num_blocks_177916;
            int64_t bytes_182091 = merge_block_sizze_177733 * binop_x_182090;
            int64_t bytes_182155 = (int64_t) 16 * stride_177895;
            
            for (int64_t i_180988 = 0; i_180988 < num_merges_177900; i_180988++) {
                int64_t start_177969 = mul64(next_stride_177896, i_180988);
                int64_t j_m_i_177970 = sub64(loop_dz2084Uz2082U_177890, start_177969);
                bool empty_slice_177971 = j_m_i_177970 == (int64_t) 0;
                int64_t m_177972 = sub64(j_m_i_177970, (int64_t) 1);
                int64_t i_p_m_t_s_177973 = add64(start_177969, m_177972);
                bool zzero_leq_i_p_m_t_s_177974 = sle64((int64_t) 0, i_p_m_t_s_177973);
                bool i_p_m_t_s_leq_w_177975 = slt64(i_p_m_t_s_177973, loop_dz2084Uz2082U_177890);
                bool zzero_lte_i_177976 = sle64((int64_t) 0, start_177969);
                bool i_lte_j_177977 = sle64(start_177969, loop_dz2084Uz2082U_177890);
                bool y_177978 = i_p_m_t_s_leq_w_177975 && zzero_lte_i_177976;
                bool y_177979 = zzero_leq_i_p_m_t_s_177974 && y_177978;
                bool forwards_ok_177980 = i_lte_j_177977 && y_177979;
                bool ok_or_empty_177981 = empty_slice_177971 || forwards_ok_177980;
                bool index_certs_177982;
                
                if (!ok_or_empty_177981) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177969, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177890, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177983 = slt64(m_177905, j_m_i_177970);
                bool y_177984 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177983;
                bool forwards_ok_177985 = i_lte_j_177907 && y_177984;
                bool ok_or_empty_177986 = zzero_177897 || forwards_ok_177985;
                bool index_certs_177987;
                
                if (!ok_or_empty_177986) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) j_m_i_177970, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:502:63-73\n   #7  ftsort.fut:495:1-502:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177908) {
                    int8_t dummy_180632;
                    int64_t dummy_180633;
                    double dummy_180634;
                    
                    if (cond_177928) {
                        int8_t head_res_180635 = ((int8_t *) mem_param_182045.mem)[start_177969];
                        int64_t head_res_180636 = ((int64_t *) mem_param_182048.mem)[start_177969];
                        double head_res_180637 = ((double *) mem_param_182051.mem)[start_177969];
                        
                        dummy_180632 = head_res_180635;
                        dummy_180633 = head_res_180636;
                        dummy_180634 = head_res_180637;
                    } else {
                        int64_t slice_180638 = stride_177895 + start_177969;
                        int8_t head_res_180639 = ((int8_t *) mem_param_182045.mem)[slice_180638];
                        int64_t head_res_180640 = ((int64_t *) mem_param_182048.mem)[slice_180638];
                        double head_res_180641 = ((double *) mem_param_182051.mem)[slice_180638];
                        
                        dummy_180632 = head_res_180639;
                        dummy_180633 = head_res_180640;
                        dummy_180634 = head_res_180641;
                    }
                    if (memblock_alloc(ctx, &mem_182154, next_stride_177896, "mem_182154")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182781 = 0; nest_i_182781 < next_stride_177896; nest_i_182781++) {
                        ((int8_t *) mem_182154.mem)[nest_i_182781] = dummy_180632;
                    }
                    if (memblock_alloc(ctx, &mem_182156, bytes_182155, "mem_182156")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182782 = 0; nest_i_182782 < next_stride_177896; nest_i_182782++) {
                        ((int64_t *) mem_182156.mem)[nest_i_182782] = dummy_180633;
                    }
                    if (memblock_alloc(ctx, &mem_182158, bytes_182155, "mem_182158")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182783 = 0; nest_i_182783 < next_stride_177896; nest_i_182783++) {
                        ((double *) mem_182158.mem)[nest_i_182783] = dummy_180634;
                    }
                    
                    int64_t data_180645;
                    int64_t i_180650 = (int64_t) 0;
                    
                    for (int64_t k_180649 = 0; k_180649 < next_stride_177896; k_180649++) {
                        int64_t j_180654 = sub64(k_180649, i_180650);
                        bool cond_180655 = j_180654 == j_m_i_177918;
                        bool cond_180656;
                        
                        if (cond_180655) {
                            cond_180656 = 1;
                        } else {
                            bool cond_180657 = slt64(i_180650, stride_177895);
                            bool cond_f_res_180658;
                            
                            if (cond_180657) {
                                bool x_180659 = sle64((int64_t) 0, j_180654);
                                bool y_180660 = slt64(j_180654, j_m_i_177918);
                                bool bounds_check_180661 = x_180659 && y_180660;
                                bool index_certs_180662;
                                
                                if (!bounds_check_180661) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180668 = sle64((int64_t) 0, i_180650);
                                bool bounds_check_180669 = cond_180657 && x_180668;
                                bool index_certs_180670;
                                
                                if (!bounds_check_180669) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180663 = stride_177895 + j_180654;
                                int64_t slice_180664 = start_177969 + slice_180663;
                                int8_t leq_arg1_180665 = ((int8_t *) mem_param_182045.mem)[slice_180664];
                                int64_t leq_arg1_180666 = ((int64_t *) mem_param_182048.mem)[slice_180664];
                                double leq_arg1_180667 = ((double *) mem_param_182051.mem)[slice_180664];
                                int64_t slice_180671 = start_177969 + i_180650;
                                int8_t leq_arg0_180672 = ((int8_t *) mem_param_182045.mem)[slice_180671];
                                int64_t leq_arg0_180673 = ((int64_t *) mem_param_182048.mem)[slice_180671];
                                double leq_arg0_180674 = ((double *) mem_param_182051.mem)[slice_180671];
                                bool cond_180675 = leq_arg0_180672 == leq_arg1_180665;
                                bool defunc_0_leq_res_t_res_180676 = sle64(leq_arg0_180673, leq_arg1_180666);
                                bool defunc_0_leq_res_180677 = leq_arg0_180674 <= leq_arg1_180667;
                                bool x_180678 = cond_180675 && defunc_0_leq_res_t_res_180676;
                                bool x_180679 = !cond_180675;
                                bool y_180680 = defunc_0_leq_res_180677 && x_180679;
                                bool defunc_0_leq_res_180681 = x_180678 || y_180680;
                                
                                cond_f_res_180658 = defunc_0_leq_res_180681;
                            } else {
                                cond_f_res_180658 = 0;
                            }
                            cond_180656 = cond_f_res_180658;
                        }
                        
                        int64_t loopres_180682;
                        int8_t loopres_180683;
                        int64_t loopres_180684;
                        double loopres_180685;
                        
                        if (cond_180656) {
                            bool x_180687 = sle64((int64_t) 0, i_180650);
                            bool y_180688 = slt64(i_180650, stride_177895);
                            bool bounds_check_180689 = x_180687 && y_180688;
                            bool index_certs_180690;
                            
                            if (!bounds_check_180689) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180686 = add64((int64_t) 1, i_180650);
                            int64_t slice_180691 = start_177969 + i_180650;
                            int8_t tmp_180692 = ((int8_t *) mem_param_182045.mem)[slice_180691];
                            int64_t tmp_180693 = ((int64_t *) mem_param_182048.mem)[slice_180691];
                            double tmp_180694 = ((double *) mem_param_182051.mem)[slice_180691];
                            
                            loopres_180682 = tmp_180686;
                            loopres_180683 = tmp_180692;
                            loopres_180684 = tmp_180693;
                            loopres_180685 = tmp_180694;
                        } else {
                            bool x_180695 = sle64((int64_t) 0, j_180654);
                            bool y_180696 = slt64(j_180654, j_m_i_177918);
                            bool bounds_check_180697 = x_180695 && y_180696;
                            bool index_certs_180698;
                            
                            if (!bounds_check_180697) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:502:63-73\n   #8  ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180699 = stride_177895 + j_180654;
                            int64_t slice_180700 = start_177969 + slice_180699;
                            int8_t tmp_180701 = ((int8_t *) mem_param_182045.mem)[slice_180700];
                            int64_t tmp_180702 = ((int64_t *) mem_param_182048.mem)[slice_180700];
                            double tmp_180703 = ((double *) mem_param_182051.mem)[slice_180700];
                            
                            loopres_180682 = i_180650;
                            loopres_180683 = tmp_180701;
                            loopres_180684 = tmp_180702;
                            loopres_180685 = tmp_180703;
                        }
                        ((int8_t *) mem_182154.mem)[k_180649] = loopres_180683;
                        ((int64_t *) mem_182156.mem)[k_180649] = loopres_180684;
                        ((double *) mem_182158.mem)[k_180649] = loopres_180685;
                        
                        int64_t i_tmp_182784 = loopres_180682;
                        
                        i_180650 = i_tmp_182784;
                    }
                    data_180645 = i_180650;
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182154, "mem_182154") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182156, "mem_182156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182158, "mem_182158") != 0)
                        return 1;
                } else {
                    if (mem_182073_cached_sizze_182920 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182073, &mem_182073_cached_sizze_182920, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182075_cached_sizze_182921 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182075, &mem_182075_cached_sizze_182921, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180969 = 0; i_180969 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917; i_180969++) {
                        int64_t split_count_arg3_178070 = mul64(merge_block_sizze_177733, i_180969);
                        int64_t defunc_0_split_count_res_178071;
                        int64_t defunc_0_split_count_res_178072;
                        int64_t defunc_0_split_count_res_178073;
                        int64_t defunc_0_split_count_res_178074;
                        int64_t defunc_0_split_count_res_178075;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_178071, &defunc_0_split_count_res_178072, &defunc_0_split_count_res_178073, &defunc_0_split_count_res_178074, &defunc_0_split_count_res_178075, (int64_t) 0, stride_177895, (int64_t) 0, j_m_i_177918, split_count_arg3_178070) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_178076 = slt64((int64_t) 0, defunc_0_split_count_res_178075);
                        bool defunc_0_split_count_res_178077;
                        int64_t defunc_0_split_count_res_178078;
                        int64_t defunc_0_split_count_res_178079;
                        int64_t defunc_0_split_count_res_178080;
                        int64_t defunc_0_split_count_res_178081;
                        int64_t defunc_0_split_count_res_178082;
                        bool loop_while_178083;
                        int64_t ss_178084;
                        int64_t ss_178085;
                        int64_t tt_178086;
                        int64_t tt_178087;
                        int64_t count_178088;
                        
                        loop_while_178083 = loop_cond_178076;
                        ss_178084 = defunc_0_split_count_res_178071;
                        ss_178085 = defunc_0_split_count_res_178072;
                        tt_178086 = defunc_0_split_count_res_178073;
                        tt_178087 = defunc_0_split_count_res_178074;
                        count_178088 = defunc_0_split_count_res_178075;
                        while (loop_while_178083) {
                            int64_t zlze_lhs_178089 = sub64(ss_178085, ss_178084);
                            bool cond_178090 = sle64(zlze_lhs_178089, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178091;
                            int64_t defunc_0_lifted_step_res_178092;
                            int64_t defunc_0_lifted_step_res_178093;
                            int64_t defunc_0_lifted_step_res_178094;
                            
                            if (cond_178090) {
                                int64_t tmp_180707 = add64(tt_178086, count_178088);
                                
                                defunc_0_lifted_step_res_178091 = ss_178084;
                                defunc_0_lifted_step_res_178092 = tmp_180707;
                                defunc_0_lifted_step_res_178093 = tt_178087;
                                defunc_0_lifted_step_res_178094 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178096 = sub64(tt_178087, tt_178086);
                                bool cond_178097 = sle64(zlze_lhs_178096, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178098;
                                int64_t defunc_0_lifted_step_res_f_res_178099;
                                int64_t defunc_0_lifted_step_res_f_res_178100;
                                int64_t defunc_0_lifted_step_res_f_res_178101;
                                
                                if (cond_178097) {
                                    int64_t tmp_180708 = add64(ss_178084, count_178088);
                                    
                                    defunc_0_lifted_step_res_f_res_178098 = tmp_180708;
                                    defunc_0_lifted_step_res_f_res_178099 = tt_178086;
                                    defunc_0_lifted_step_res_f_res_178100 = tt_178087;
                                    defunc_0_lifted_step_res_f_res_178101 = (int64_t) 0;
                                } else {
                                    bool cond_178103 = count_178088 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178104;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178107;
                                    
                                    if (cond_178103) {
                                        bool x_180710 = sle64((int64_t) 0, ss_178084);
                                        bool y_180711 = slt64(ss_178084, stride_177895);
                                        bool bounds_check_180712 = x_180710 && y_180711;
                                        bool index_certs_180713;
                                        
                                        if (!bounds_check_180712) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178084, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180718 = sle64((int64_t) 0, tt_178086);
                                        bool y_180719 = slt64(tt_178086, j_m_i_177918);
                                        bool bounds_check_180720 = x_180718 && y_180719;
                                        bool index_certs_180721;
                                        
                                        if (!bounds_check_180720) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178086, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180714 = start_177969 + ss_178084;
                                        int8_t leq_arg1_180715 = ((int8_t *) mem_param_182045.mem)[slice_180714];
                                        int64_t leq_arg1_180716 = ((int64_t *) mem_param_182048.mem)[slice_180714];
                                        double leq_arg1_180717 = ((double *) mem_param_182051.mem)[slice_180714];
                                        int64_t slice_180722 = stride_177895 + tt_178086;
                                        int64_t slice_180723 = start_177969 + slice_180722;
                                        int8_t leq_arg0_180724 = ((int8_t *) mem_param_182045.mem)[slice_180723];
                                        int64_t leq_arg0_180725 = ((int64_t *) mem_param_182048.mem)[slice_180723];
                                        double leq_arg0_180726 = ((double *) mem_param_182051.mem)[slice_180723];
                                        bool cond_180727 = leq_arg0_180724 == leq_arg1_180715;
                                        bool defunc_0_leq_res_t_res_180728 = sle64(leq_arg0_180725, leq_arg1_180716);
                                        bool defunc_0_leq_res_180729 = leq_arg0_180726 <= leq_arg1_180717;
                                        bool x_180730 = cond_180727 && defunc_0_leq_res_t_res_180728;
                                        bool x_180731 = !cond_180727;
                                        bool y_180732 = defunc_0_leq_res_180729 && x_180731;
                                        bool defunc_0_leq_res_180733 = x_180730 || y_180732;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        
                                        if (defunc_0_leq_res_180733) {
                                            int64_t tmp_180736 = add64((int64_t) 1, tt_178086);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = ss_178084;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tmp_180736;
                                        } else {
                                            int64_t tmp_180737 = add64((int64_t) 1, ss_178084);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = tmp_180737;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tt_178086;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = tt_178087;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = (int64_t) 0;
                                    } else {
                                        int64_t m_178136 = sdiv64(count_178088, (int64_t) 2);
                                        int64_t n_178137 = sub64(count_178088, m_178136);
                                        bool cond_178138 = n_178137 == (int64_t) 0;
                                        int64_t zgze_lhs_178139 = add64(ss_178084, m_178136);
                                        bool cond_f_res_178140 = sle64(ss_178085, zgze_lhs_178139);
                                        bool x_178141 = !cond_178138;
                                        bool y_178142 = cond_f_res_178140 && x_178141;
                                        bool cond_178143 = cond_178138 || y_178142;
                                        bool leq_y_x_178144;
                                        
                                        if (cond_178143) {
                                            leq_y_x_178144 = 1;
                                        } else {
                                            bool x_178145 = sle64((int64_t) 0, zgze_lhs_178139);
                                            bool y_178146 = slt64(zgze_lhs_178139, stride_177895);
                                            bool bounds_check_178147 = x_178145 && y_178146;
                                            bool index_certs_178148;
                                            
                                            if (!bounds_check_178147) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178139, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178153 = add64(tt_178086, n_178137);
                                            int64_t leq_arg0_178154 = sub64(zm_lhs_178153, (int64_t) 1);
                                            bool x_178155 = sle64((int64_t) 0, leq_arg0_178154);
                                            bool y_178156 = slt64(leq_arg0_178154, j_m_i_177918);
                                            bool bounds_check_178157 = x_178155 && y_178156;
                                            bool index_certs_178158;
                                            
                                            if (!bounds_check_178157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178154, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:502:63-73\n   #12 ftsort.fut:495:1-502:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178149 = start_177969 + zgze_lhs_178139;
                                            int8_t leq_arg1_178150 = ((int8_t *) mem_param_182045.mem)[slice_178149];
                                            int64_t leq_arg1_178151 = ((int64_t *) mem_param_182048.mem)[slice_178149];
                                            double leq_arg1_178152 = ((double *) mem_param_182051.mem)[slice_178149];
                                            int64_t slice_178159 = stride_177895 + leq_arg0_178154;
                                            int64_t slice_178160 = start_177969 + slice_178159;
                                            int8_t leq_arg0_178161 = ((int8_t *) mem_param_182045.mem)[slice_178160];
                                            int64_t leq_arg0_178162 = ((int64_t *) mem_param_182048.mem)[slice_178160];
                                            double leq_arg0_178163 = ((double *) mem_param_182051.mem)[slice_178160];
                                            bool cond_178164 = leq_arg0_178161 == leq_arg1_178150;
                                            bool defunc_0_leq_res_t_res_178165 = sle64(leq_arg0_178162, leq_arg1_178151);
                                            bool defunc_0_leq_res_178166 = leq_arg0_178163 <= leq_arg1_178152;
                                            bool x_178167 = cond_178164 && defunc_0_leq_res_t_res_178165;
                                            bool x_178168 = !cond_178164;
                                            bool y_178169 = defunc_0_leq_res_178166 && x_178168;
                                            bool defunc_0_leq_res_178170 = x_178167 || y_178169;
                                            
                                            leq_y_x_178144 = defunc_0_leq_res_178170;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                        
                                        if (leq_y_x_178144) {
                                            int64_t tmp_180738 = add64(tt_178086, n_178137);
                                            int64_t tmp_180739 = sub64(count_178088, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tmp_180738;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tt_178087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = tmp_180739;
                                        } else {
                                            int64_t tmp_178176 = add64(tt_178086, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tt_178086;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tmp_178176;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = count_178088;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = ss_178084;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                    }
                                    defunc_0_lifted_step_res_f_res_178098 = defunc_0_lifted_step_res_f_res_f_res_178104;
                                    defunc_0_lifted_step_res_f_res_178099 = defunc_0_lifted_step_res_f_res_f_res_178105;
                                    defunc_0_lifted_step_res_f_res_178100 = defunc_0_lifted_step_res_f_res_f_res_178106;
                                    defunc_0_lifted_step_res_f_res_178101 = defunc_0_lifted_step_res_f_res_f_res_178107;
                                }
                                defunc_0_lifted_step_res_178091 = defunc_0_lifted_step_res_f_res_178098;
                                defunc_0_lifted_step_res_178092 = defunc_0_lifted_step_res_f_res_178099;
                                defunc_0_lifted_step_res_178093 = defunc_0_lifted_step_res_f_res_178100;
                                defunc_0_lifted_step_res_178094 = defunc_0_lifted_step_res_f_res_178101;
                            }
                            
                            int64_t loopres_178177;
                            int64_t loopres_178178;
                            int64_t loopres_178179;
                            int64_t loopres_178180;
                            int64_t loopres_178181;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_178177, &loopres_178178, &loopres_178179, &loopres_178180, &loopres_178181, defunc_0_lifted_step_res_178091, ss_178085, defunc_0_lifted_step_res_178092, defunc_0_lifted_step_res_178093, defunc_0_lifted_step_res_178094) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178182 = slt64((int64_t) 0, loopres_178181);
                            bool loop_while_tmp_182790 = loop_cond_178182;
                            int64_t ss_tmp_182791 = loopres_178177;
                            int64_t ss_tmp_182792 = loopres_178178;
                            int64_t tt_tmp_182793 = loopres_178179;
                            int64_t tt_tmp_182794 = loopres_178180;
                            int64_t count_tmp_182795 = loopres_178181;
                            
                            loop_while_178083 = loop_while_tmp_182790;
                            ss_178084 = ss_tmp_182791;
                            ss_178085 = ss_tmp_182792;
                            tt_178086 = tt_tmp_182793;
                            tt_178087 = tt_tmp_182794;
                            count_178088 = count_tmp_182795;
                        }
                        defunc_0_split_count_res_178077 = loop_while_178083;
                        defunc_0_split_count_res_178078 = ss_178084;
                        defunc_0_split_count_res_178079 = ss_178085;
                        defunc_0_split_count_res_178080 = tt_178086;
                        defunc_0_split_count_res_178081 = tt_178087;
                        defunc_0_split_count_res_178082 = count_178088;
                        ((int64_t *) mem_182073)[i_180969] = defunc_0_split_count_res_178078;
                        ((int64_t *) mem_182075)[i_180969] = defunc_0_split_count_res_178080;
                    }
                    if (mem_182089_cached_sizze_182922 < flat_dim_177919) {
                        err = lexical_realloc(ctx, &mem_182089, &mem_182089_cached_sizze_182922, flat_dim_177919);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182092_cached_sizze_182923 < bytes_182091) {
                        err = lexical_realloc(ctx, &mem_182092, &mem_182092_cached_sizze_182923, bytes_182091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182095_cached_sizze_182924 < bytes_182091) {
                        err = lexical_realloc(ctx, &mem_182095, &mem_182095_cached_sizze_182924, bytes_182091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180978 = 0; i_180978 < num_blocks_177916; i_180978++) {
                        bool y_178189 = slt64(i_180978, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool index_certs_178191;
                        
                        if (!y_178189) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180978, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178192 = ((int64_t *) mem_182073)[i_180978];
                        int64_t defunc_0_f_res_178193 = ((int64_t *) mem_182075)[i_180978];
                        int64_t tmp_178194 = add64((int64_t) 1, i_180978);
                        bool x_178195 = sle64((int64_t) 0, tmp_178194);
                        bool y_178196 = slt64(tmp_178194, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool bounds_check_178197 = x_178195 && y_178196;
                        bool index_certs_178198;
                        
                        if (!bounds_check_178197) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178194, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178199 = ((int64_t *) mem_182073)[tmp_178194];
                        int64_t defunc_0_f_res_178200 = ((int64_t *) mem_182075)[tmp_178194];
                        int64_t merge_sequential_arg2_178201 = add64(stride_177895, defunc_0_f_res_178193);
                        int64_t merge_sequential_arg2_178202 = add64(stride_177895, defunc_0_f_res_178200);
                        int64_t j_m_i_178203 = sub64(merge_sequential_arg2_178202, merge_sequential_arg2_178201);
                        bool empty_slice_178204 = j_m_i_178203 == (int64_t) 0;
                        int64_t m_178205 = sub64(j_m_i_178203, (int64_t) 1);
                        int64_t i_p_m_t_s_178206 = add64(merge_sequential_arg2_178201, m_178205);
                        bool zzero_leq_i_p_m_t_s_178207 = sle64((int64_t) 0, i_p_m_t_s_178206);
                        bool i_p_m_t_s_leq_w_178208 = slt64(i_p_m_t_s_178206, next_stride_177896);
                        bool zzero_lte_i_178209 = sle64((int64_t) 0, merge_sequential_arg2_178201);
                        bool i_lte_j_178210 = sle64(merge_sequential_arg2_178201, merge_sequential_arg2_178202);
                        bool y_178211 = i_p_m_t_s_leq_w_178208 && zzero_lte_i_178209;
                        bool y_178212 = zzero_leq_i_p_m_t_s_178207 && y_178211;
                        bool forwards_ok_178213 = i_lte_j_178210 && y_178212;
                        bool ok_or_empty_178214 = empty_slice_178204 || forwards_ok_178213;
                        bool index_certs_178215;
                        
                        if (!ok_or_empty_178214) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178201, ":", (long long) merge_sequential_arg2_178202, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178216 = sub64(defunc_0_f_res_178199, defunc_0_f_res_178192);
                        bool empty_slice_178217 = j_m_i_178216 == (int64_t) 0;
                        int64_t m_178218 = sub64(j_m_i_178216, (int64_t) 1);
                        int64_t i_p_m_t_s_178219 = add64(defunc_0_f_res_178192, m_178218);
                        bool zzero_leq_i_p_m_t_s_178220 = sle64((int64_t) 0, i_p_m_t_s_178219);
                        bool i_p_m_t_s_leq_w_178221 = slt64(i_p_m_t_s_178219, next_stride_177896);
                        bool zzero_lte_i_178222 = sle64((int64_t) 0, defunc_0_f_res_178192);
                        bool i_lte_j_178223 = sle64(defunc_0_f_res_178192, defunc_0_f_res_178199);
                        bool y_178224 = i_p_m_t_s_leq_w_178221 && zzero_lte_i_178222;
                        bool y_178225 = zzero_leq_i_p_m_t_s_178220 && y_178224;
                        bool forwards_ok_178226 = i_lte_j_178223 && y_178225;
                        bool ok_or_empty_178227 = empty_slice_178217 || forwards_ok_178226;
                        bool index_certs_178228;
                        
                        if (!ok_or_empty_178227) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178192, ":", (long long) defunc_0_f_res_178199, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:502:63-73\n   #9  ftsort.fut:495:1-502:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178229 = slt64((int64_t) 0, j_m_i_178216);
                        int8_t dummy_178230;
                        int64_t dummy_178231;
                        double dummy_178232;
                        
                        if (cond_178229) {
                            bool index_certs_180740;
                            
                            if (!cond_178229) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180741 = start_177969 + defunc_0_f_res_178192;
                            int8_t head_res_180742 = ((int8_t *) mem_param_182045.mem)[slice_180741];
                            int64_t head_res_180743 = ((int64_t *) mem_param_182048.mem)[slice_180741];
                            double head_res_180744 = ((double *) mem_param_182051.mem)[slice_180741];
                            
                            dummy_178230 = head_res_180742;
                            dummy_178231 = head_res_180743;
                            dummy_178232 = head_res_180744;
                        } else {
                            bool y_178238 = slt64((int64_t) 0, j_m_i_178203);
                            bool index_certs_178239;
                            
                            if (!y_178238) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:502:63-73\n   #11 ftsort.fut:495:1-502:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178240 = start_177969 + merge_sequential_arg2_178201;
                            int8_t head_res_178241 = ((int8_t *) mem_param_182045.mem)[slice_178240];
                            int64_t head_res_178242 = ((int64_t *) mem_param_182048.mem)[slice_178240];
                            double head_res_178243 = ((double *) mem_param_182051.mem)[slice_178240];
                            
                            dummy_178230 = head_res_178241;
                            dummy_178231 = head_res_178242;
                            dummy_178232 = head_res_178243;
                        }
                        for (int64_t nest_i_182799 = 0; nest_i_182799 < merge_block_sizze_177733; nest_i_182799++) {
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + nest_i_182799] = dummy_178230;
                        }
                        for (int64_t nest_i_182800 = 0; nest_i_182800 < merge_block_sizze_177733; nest_i_182800++) {
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + nest_i_182800] = dummy_178231;
                        }
                        for (int64_t nest_i_182801 = 0; nest_i_182801 < merge_block_sizze_177733; nest_i_182801++) {
                            ((double *) mem_182095)[i_180978 * merge_block_sizze_177733 + nest_i_182801] = dummy_178232;
                        }
                        
                        int64_t data_178247;
                        int64_t i_178252 = (int64_t) 0;
                        
                        for (int64_t k_178251 = 0; k_178251 < merge_block_sizze_177733; k_178251++) {
                            int64_t j_178256 = sub64(k_178251, i_178252);
                            bool cond_178257 = j_178256 == j_m_i_178203;
                            bool cond_178258;
                            
                            if (cond_178257) {
                                cond_178258 = 1;
                            } else {
                                bool cond_178259 = slt64(i_178252, j_m_i_178216);
                                bool cond_f_res_178260;
                                
                                if (cond_178259) {
                                    bool x_180745 = sle64((int64_t) 0, j_178256);
                                    bool y_180746 = slt64(j_178256, j_m_i_178203);
                                    bool bounds_check_180747 = x_180745 && y_180746;
                                    bool index_certs_180748;
                                    
                                    if (!bounds_check_180747) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180754 = sle64((int64_t) 0, i_178252);
                                    bool bounds_check_180755 = cond_178259 && x_180754;
                                    bool index_certs_180756;
                                    
                                    if (!bounds_check_180755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180749 = merge_sequential_arg2_178201 + j_178256;
                                    int64_t slice_180750 = start_177969 + slice_180749;
                                    int8_t leq_arg1_180751 = ((int8_t *) mem_param_182045.mem)[slice_180750];
                                    int64_t leq_arg1_180752 = ((int64_t *) mem_param_182048.mem)[slice_180750];
                                    double leq_arg1_180753 = ((double *) mem_param_182051.mem)[slice_180750];
                                    int64_t slice_180757 = defunc_0_f_res_178192 + i_178252;
                                    int64_t slice_180758 = start_177969 + slice_180757;
                                    int8_t leq_arg0_180759 = ((int8_t *) mem_param_182045.mem)[slice_180758];
                                    int64_t leq_arg0_180760 = ((int64_t *) mem_param_182048.mem)[slice_180758];
                                    double leq_arg0_180761 = ((double *) mem_param_182051.mem)[slice_180758];
                                    bool cond_180762 = leq_arg0_180759 == leq_arg1_180751;
                                    bool defunc_0_leq_res_t_res_180763 = sle64(leq_arg0_180760, leq_arg1_180752);
                                    bool defunc_0_leq_res_180764 = leq_arg0_180761 <= leq_arg1_180753;
                                    bool x_180765 = cond_180762 && defunc_0_leq_res_t_res_180763;
                                    bool x_180766 = !cond_180762;
                                    bool y_180767 = defunc_0_leq_res_180764 && x_180766;
                                    bool defunc_0_leq_res_180768 = x_180765 || y_180767;
                                    
                                    cond_f_res_178260 = defunc_0_leq_res_180768;
                                } else {
                                    cond_f_res_178260 = 0;
                                }
                                cond_178258 = cond_f_res_178260;
                            }
                            
                            int64_t loopres_178285;
                            int8_t loopres_178286;
                            int64_t loopres_178287;
                            double loopres_178288;
                            
                            if (cond_178258) {
                                bool x_180770 = sle64((int64_t) 0, i_178252);
                                bool y_180771 = slt64(i_178252, j_m_i_178216);
                                bool bounds_check_180772 = x_180770 && y_180771;
                                bool index_certs_180773;
                                
                                if (!bounds_check_180772) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180769 = add64((int64_t) 1, i_178252);
                                int64_t slice_180774 = defunc_0_f_res_178192 + i_178252;
                                int64_t slice_180775 = start_177969 + slice_180774;
                                int8_t tmp_180776 = ((int8_t *) mem_param_182045.mem)[slice_180775];
                                int64_t tmp_180777 = ((int64_t *) mem_param_182048.mem)[slice_180775];
                                double tmp_180778 = ((double *) mem_param_182051.mem)[slice_180775];
                                
                                loopres_178285 = tmp_180769;
                                loopres_178286 = tmp_180776;
                                loopres_178287 = tmp_180777;
                                loopres_178288 = tmp_180778;
                            } else {
                                bool x_178299 = sle64((int64_t) 0, j_178256);
                                bool y_178300 = slt64(j_178256, j_m_i_178203);
                                bool bounds_check_178301 = x_178299 && y_178300;
                                bool index_certs_178302;
                                
                                if (!bounds_check_178301) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:502:63-73\n   #10 ftsort.fut:495:1-502:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178303 = merge_sequential_arg2_178201 + j_178256;
                                int64_t slice_178304 = start_177969 + slice_178303;
                                int8_t tmp_178305 = ((int8_t *) mem_param_182045.mem)[slice_178304];
                                int64_t tmp_178306 = ((int64_t *) mem_param_182048.mem)[slice_178304];
                                double tmp_178307 = ((double *) mem_param_182051.mem)[slice_178304];
                                
                                loopres_178285 = i_178252;
                                loopres_178286 = tmp_178305;
                                loopres_178287 = tmp_178306;
                                loopres_178288 = tmp_178307;
                            }
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178286;
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178287;
                            ((double *) mem_182095)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178288;
                            
                            int64_t i_tmp_182802 = loopres_178285;
                            
                            i_178252 = i_tmp_182802;
                        }
                        data_178247 = i_178252;
                    }
                    if (memblock_alloc(ctx, &mem_182144, flat_dim_177919, "mem_182144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182144.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint8_t *) mem_182089, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182148, bytes_182091, "mem_182148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182148.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint64_t *) mem_182092, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182152, bytes_182091, "mem_182152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182152.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint64_t *) mem_182095, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182144, "mem_182144") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182148, "mem_182148") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182152, "mem_182152") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_182053, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_182056, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182182.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_182059, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182179.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182199, bytes_182052, "mem_182199")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182199.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint8_t *) mem_182053, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182203, bytes_182055, "mem_182203")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182203.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint64_t *) mem_182056, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182207, bytes_182055, "mem_182207")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182207.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint64_t *) mem_182059, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            
            bool loop_cond_178321 = slt64(next_stride_177896, flat_dim_177728);
            
            if (memblock_set(ctx, &mem_param_tmp_182769, &mem_182199, "mem_182199") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182770, &mem_182203, "mem_182203") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182771, &mem_182207, "mem_182207") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182772 = bytes_182052;
            bool loop_while_tmp_182773 = loop_cond_178321;
            int64_t stride_tmp_182777 = next_stride_177896;
            
            if (memblock_set(ctx, &mem_param_182045, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182048, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182051, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
                return 1;
            loop_dz2084Uz2082U_177890 = loop_dz2084Uz2082U_tmp_182772;
            loop_while_177891 = loop_while_tmp_182773;
            stride_177895 = stride_tmp_182777;
        }
        if (memblock_set(ctx, &ext_mem_182217, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182216, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182215, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        data_177884 = loop_dz2084Uz2082U_177890;
        data_177885 = loop_while_177891;
        data_177889 = stride_177895;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178324 = slt64(zs_lhs_177712, data_177884);
        bool y_178325 = i_p_m_t_s_leq_w_178324 && zzero_leq_i_p_m_t_s_178338;
        bool ok_or_empty_178326 = y_178325 || empty_slice_178336;
        bool index_certs_178327;
        
        if (!ok_or_empty_178326) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) data_177884, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:502:63-73\n   #5  ftsort.fut:495:1-502:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182226, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182226.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182223.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181139.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182220.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181137, "mem_181137") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182549, &mem_181139, "mem_181139") != 0)
        return 1;
    prim_out_182550 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    if (memblock_set(ctx, &*mem_out_p_182871, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182872, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182873, &mem_out_182549, "mem_out_182549") != 0)
        return 1;
    *out_prim_out_182874 = prim_out_182550;
    
  cleanup:
    {
        free(mem_181150);
        free(mem_181152);
        free(mem_181191);
        free(mem_181194);
        free(mem_181197);
        free(mem_181210);
        free(mem_181212);
        free(mem_181214);
        free(mem_181311);
        free(mem_181314);
        free(mem_181317);
        free(mem_181331);
        free(mem_181333);
        free(mem_181347);
        free(mem_181350);
        free(mem_181353);
        free(mem_181495);
        free(mem_181497);
        free(mem_181512);
        free(mem_181514);
        free(mem_181517);
        free(mem_181520);
        free(mem_181554);
        free(mem_181557);
        free(mem_181560);
        free(mem_181573);
        free(mem_181575);
        free(mem_181577);
        free(mem_181674);
        free(mem_181677);
        free(mem_181680);
        free(mem_181694);
        free(mem_181696);
        free(mem_181710);
        free(mem_181713);
        free(mem_181716);
        free(mem_181933);
        free(mem_181936);
        free(mem_181939);
        free(mem_181952);
        free(mem_181954);
        free(mem_181956);
        free(mem_182053);
        free(mem_182056);
        free(mem_182059);
        free(mem_182073);
        free(mem_182075);
        free(mem_182089);
        free(mem_182092);
        free(mem_182095);
        if (memblock_unref(ctx, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182207, "mem_182207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182203, "mem_182203") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182199, "mem_182199") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182152, "mem_182152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182148, "mem_182148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182144, "mem_182144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182158, "mem_182158") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182156, "mem_182156") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182154, "mem_182154") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181465, "mem_181465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181461, "mem_181461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181457, "mem_181457") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181410, "mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181406, "mem_181406") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181402, "mem_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181416, "mem_181416") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181414, "mem_181414") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181412, "mem_181412") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181309, "mem_param_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181306, "mem_param_181306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181303, "mem_param_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181473, "ext_mem_181473") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181474, "ext_mem_181474") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181475, "ext_mem_181475") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181169, "mem_181169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181167, "mem_181167") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181165, "mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181876, "mem_181876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181875, "mem_181875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181873, "mem_181873") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181824, "mem_181824") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181820, "mem_181820") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181773, "mem_181773") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181769, "mem_181769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181765, "mem_181765") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181779, "mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181777, "mem_181777") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181672, "mem_param_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181669, "mem_param_181669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181666, "mem_param_181666") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181836, "ext_mem_181836") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181837, "ext_mem_181837") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181838, "ext_mem_181838") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181139, "mem_181139") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181137, "mem_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182549, "mem_out_182549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182925, struct memblock *mem_out_p_182926, struct memblock *mem_out_p_182927, int64_t *out_prim_out_182928, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_152854, int64_t nb_152855, int64_t window_sizze_152856, int64_t threads_152857, bool inParallel_152860)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181150_cached_sizze_182929 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_182930 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181191_cached_sizze_182931 = 0;
    unsigned char *mem_181191 = NULL;
    int64_t mem_181194_cached_sizze_182932 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181197_cached_sizze_182933 = 0;
    unsigned char *mem_181197 = NULL;
    int64_t mem_181210_cached_sizze_182934 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181212_cached_sizze_182935 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181214_cached_sizze_182936 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181311_cached_sizze_182937 = 0;
    unsigned char *mem_181311 = NULL;
    int64_t mem_181314_cached_sizze_182938 = 0;
    unsigned char *mem_181314 = NULL;
    int64_t mem_181317_cached_sizze_182939 = 0;
    unsigned char *mem_181317 = NULL;
    int64_t mem_181331_cached_sizze_182940 = 0;
    unsigned char *mem_181331 = NULL;
    int64_t mem_181333_cached_sizze_182941 = 0;
    unsigned char *mem_181333 = NULL;
    int64_t mem_181347_cached_sizze_182942 = 0;
    unsigned char *mem_181347 = NULL;
    int64_t mem_181350_cached_sizze_182943 = 0;
    unsigned char *mem_181350 = NULL;
    int64_t mem_181353_cached_sizze_182944 = 0;
    unsigned char *mem_181353 = NULL;
    int64_t mem_181495_cached_sizze_182945 = 0;
    unsigned char *mem_181495 = NULL;
    int64_t mem_181497_cached_sizze_182946 = 0;
    unsigned char *mem_181497 = NULL;
    int64_t mem_181512_cached_sizze_182947 = 0;
    unsigned char *mem_181512 = NULL;
    int64_t mem_181514_cached_sizze_182948 = 0;
    unsigned char *mem_181514 = NULL;
    int64_t mem_181517_cached_sizze_182949 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181520_cached_sizze_182950 = 0;
    unsigned char *mem_181520 = NULL;
    int64_t mem_181554_cached_sizze_182951 = 0;
    unsigned char *mem_181554 = NULL;
    int64_t mem_181557_cached_sizze_182952 = 0;
    unsigned char *mem_181557 = NULL;
    int64_t mem_181560_cached_sizze_182953 = 0;
    unsigned char *mem_181560 = NULL;
    int64_t mem_181573_cached_sizze_182954 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181575_cached_sizze_182955 = 0;
    unsigned char *mem_181575 = NULL;
    int64_t mem_181577_cached_sizze_182956 = 0;
    unsigned char *mem_181577 = NULL;
    int64_t mem_181674_cached_sizze_182957 = 0;
    unsigned char *mem_181674 = NULL;
    int64_t mem_181677_cached_sizze_182958 = 0;
    unsigned char *mem_181677 = NULL;
    int64_t mem_181680_cached_sizze_182959 = 0;
    unsigned char *mem_181680 = NULL;
    int64_t mem_181694_cached_sizze_182960 = 0;
    unsigned char *mem_181694 = NULL;
    int64_t mem_181696_cached_sizze_182961 = 0;
    unsigned char *mem_181696 = NULL;
    int64_t mem_181710_cached_sizze_182962 = 0;
    unsigned char *mem_181710 = NULL;
    int64_t mem_181713_cached_sizze_182963 = 0;
    unsigned char *mem_181713 = NULL;
    int64_t mem_181716_cached_sizze_182964 = 0;
    unsigned char *mem_181716 = NULL;
    int64_t mem_181933_cached_sizze_182965 = 0;
    unsigned char *mem_181933 = NULL;
    int64_t mem_181936_cached_sizze_182966 = 0;
    unsigned char *mem_181936 = NULL;
    int64_t mem_181939_cached_sizze_182967 = 0;
    unsigned char *mem_181939 = NULL;
    int64_t mem_181952_cached_sizze_182968 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181954_cached_sizze_182969 = 0;
    unsigned char *mem_181954 = NULL;
    int64_t mem_181956_cached_sizze_182970 = 0;
    unsigned char *mem_181956 = NULL;
    int64_t mem_182053_cached_sizze_182971 = 0;
    unsigned char *mem_182053 = NULL;
    int64_t mem_182056_cached_sizze_182972 = 0;
    unsigned char *mem_182056 = NULL;
    int64_t mem_182059_cached_sizze_182973 = 0;
    unsigned char *mem_182059 = NULL;
    int64_t mem_182073_cached_sizze_182974 = 0;
    unsigned char *mem_182073 = NULL;
    int64_t mem_182075_cached_sizze_182975 = 0;
    unsigned char *mem_182075 = NULL;
    int64_t mem_182089_cached_sizze_182976 = 0;
    unsigned char *mem_182089 = NULL;
    int64_t mem_182092_cached_sizze_182977 = 0;
    unsigned char *mem_182092 = NULL;
    int64_t mem_182095_cached_sizze_182978 = 0;
    unsigned char *mem_182095 = NULL;
    struct memblock mem_param_tmp_182771;
    
    mem_param_tmp_182771.references = NULL;
    
    struct memblock mem_param_tmp_182770;
    
    mem_param_tmp_182770.references = NULL;
    
    struct memblock mem_param_tmp_182769;
    
    mem_param_tmp_182769.references = NULL;
    
    struct memblock mem_182207;
    
    mem_182207.references = NULL;
    
    struct memblock mem_182203;
    
    mem_182203.references = NULL;
    
    struct memblock mem_182199;
    
    mem_182199.references = NULL;
    
    struct memblock mem_182152;
    
    mem_182152.references = NULL;
    
    struct memblock mem_182148;
    
    mem_182148.references = NULL;
    
    struct memblock mem_182144;
    
    mem_182144.references = NULL;
    
    struct memblock mem_182158;
    
    mem_182158.references = NULL;
    
    struct memblock mem_182156;
    
    mem_182156.references = NULL;
    
    struct memblock mem_182154;
    
    mem_182154.references = NULL;
    
    struct memblock ext_mem_182179;
    
    ext_mem_182179.references = NULL;
    
    struct memblock ext_mem_182182;
    
    ext_mem_182182.references = NULL;
    
    struct memblock ext_mem_182185;
    
    ext_mem_182185.references = NULL;
    
    struct memblock mem_param_182051;
    
    mem_param_182051.references = NULL;
    
    struct memblock mem_param_182048;
    
    mem_param_182048.references = NULL;
    
    struct memblock mem_param_182045;
    
    mem_param_182045.references = NULL;
    
    struct memblock ext_mem_182215;
    
    ext_mem_182215.references = NULL;
    
    struct memblock ext_mem_182216;
    
    ext_mem_182216.references = NULL;
    
    struct memblock ext_mem_182217;
    
    ext_mem_182217.references = NULL;
    
    struct memblock mem_182041;
    
    mem_182041.references = NULL;
    
    struct memblock mem_182037;
    
    mem_182037.references = NULL;
    
    struct memblock mem_182033;
    
    mem_182033.references = NULL;
    
    struct memblock ext_mem_182220;
    
    ext_mem_182220.references = NULL;
    
    struct memblock ext_mem_182223;
    
    ext_mem_182223.references = NULL;
    
    struct memblock ext_mem_182226;
    
    ext_mem_182226.references = NULL;
    
    struct memblock mem_181931;
    
    mem_181931.references = NULL;
    
    struct memblock mem_181929;
    
    mem_181929.references = NULL;
    
    struct memblock mem_181927;
    
    mem_181927.references = NULL;
    
    struct memblock mem_param_tmp_182705;
    
    mem_param_tmp_182705.references = NULL;
    
    struct memblock mem_param_tmp_182704;
    
    mem_param_tmp_182704.references = NULL;
    
    struct memblock mem_param_tmp_182703;
    
    mem_param_tmp_182703.references = NULL;
    
    struct memblock mem_181465;
    
    mem_181465.references = NULL;
    
    struct memblock mem_181461;
    
    mem_181461.references = NULL;
    
    struct memblock mem_181457;
    
    mem_181457.references = NULL;
    
    struct memblock mem_181410;
    
    mem_181410.references = NULL;
    
    struct memblock mem_181406;
    
    mem_181406.references = NULL;
    
    struct memblock mem_181402;
    
    mem_181402.references = NULL;
    
    struct memblock mem_181416;
    
    mem_181416.references = NULL;
    
    struct memblock mem_181414;
    
    mem_181414.references = NULL;
    
    struct memblock mem_181412;
    
    mem_181412.references = NULL;
    
    struct memblock ext_mem_181437;
    
    ext_mem_181437.references = NULL;
    
    struct memblock ext_mem_181440;
    
    ext_mem_181440.references = NULL;
    
    struct memblock ext_mem_181443;
    
    ext_mem_181443.references = NULL;
    
    struct memblock mem_param_181309;
    
    mem_param_181309.references = NULL;
    
    struct memblock mem_param_181306;
    
    mem_param_181306.references = NULL;
    
    struct memblock mem_param_181303;
    
    mem_param_181303.references = NULL;
    
    struct memblock ext_mem_181473;
    
    ext_mem_181473.references = NULL;
    
    struct memblock ext_mem_181474;
    
    ext_mem_181474.references = NULL;
    
    struct memblock ext_mem_181475;
    
    ext_mem_181475.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock ext_mem_181478;
    
    ext_mem_181478.references = NULL;
    
    struct memblock ext_mem_181481;
    
    ext_mem_181481.references = NULL;
    
    struct memblock ext_mem_181484;
    
    ext_mem_181484.references = NULL;
    
    struct memblock mem_181189;
    
    mem_181189.references = NULL;
    
    struct memblock mem_181187;
    
    mem_181187.references = NULL;
    
    struct memblock mem_181185;
    
    mem_181185.references = NULL;
    
    struct memblock mem_181169;
    
    mem_181169.references = NULL;
    
    struct memblock mem_181167;
    
    mem_181167.references = NULL;
    
    struct memblock mem_181165;
    
    mem_181165.references = NULL;
    
    struct memblock mem_181876;
    
    mem_181876.references = NULL;
    
    struct memblock mem_181875;
    
    mem_181875.references = NULL;
    
    struct memblock mem_181873;
    
    mem_181873.references = NULL;
    
    struct memblock mem_param_tmp_182611;
    
    mem_param_tmp_182611.references = NULL;
    
    struct memblock mem_param_tmp_182610;
    
    mem_param_tmp_182610.references = NULL;
    
    struct memblock mem_param_tmp_182609;
    
    mem_param_tmp_182609.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181824;
    
    mem_181824.references = NULL;
    
    struct memblock mem_181820;
    
    mem_181820.references = NULL;
    
    struct memblock mem_181773;
    
    mem_181773.references = NULL;
    
    struct memblock mem_181769;
    
    mem_181769.references = NULL;
    
    struct memblock mem_181765;
    
    mem_181765.references = NULL;
    
    struct memblock mem_181779;
    
    mem_181779.references = NULL;
    
    struct memblock mem_181777;
    
    mem_181777.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock ext_mem_181800;
    
    ext_mem_181800.references = NULL;
    
    struct memblock ext_mem_181803;
    
    ext_mem_181803.references = NULL;
    
    struct memblock ext_mem_181806;
    
    ext_mem_181806.references = NULL;
    
    struct memblock mem_param_181672;
    
    mem_param_181672.references = NULL;
    
    struct memblock mem_param_181669;
    
    mem_param_181669.references = NULL;
    
    struct memblock mem_param_181666;
    
    mem_param_181666.references = NULL;
    
    struct memblock ext_mem_181836;
    
    ext_mem_181836.references = NULL;
    
    struct memblock ext_mem_181837;
    
    ext_mem_181837.references = NULL;
    
    struct memblock ext_mem_181838;
    
    ext_mem_181838.references = NULL;
    
    struct memblock mem_181662;
    
    mem_181662.references = NULL;
    
    struct memblock mem_181658;
    
    mem_181658.references = NULL;
    
    struct memblock mem_181654;
    
    mem_181654.references = NULL;
    
    struct memblock ext_mem_181841;
    
    ext_mem_181841.references = NULL;
    
    struct memblock ext_mem_181844;
    
    ext_mem_181844.references = NULL;
    
    struct memblock ext_mem_181847;
    
    ext_mem_181847.references = NULL;
    
    struct memblock mem_181552;
    
    mem_181552.references = NULL;
    
    struct memblock mem_181550;
    
    mem_181550.references = NULL;
    
    struct memblock mem_181548;
    
    mem_181548.references = NULL;
    
    struct memblock ext_mem_181897;
    
    ext_mem_181897.references = NULL;
    
    struct memblock ext_mem_181900;
    
    ext_mem_181900.references = NULL;
    
    struct memblock ext_mem_181903;
    
    ext_mem_181903.references = NULL;
    
    struct memblock mem_181139;
    
    mem_181139.references = NULL;
    
    struct memblock mem_181137;
    
    mem_181137.references = NULL;
    
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t prim_out_182550;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622 = add64(na_152854, nb_152855);
    
    if (memblock_alloc(ctx, &mem_181135, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182551 = 0; nest_i_182551 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182551++) {
        ((int8_t *) mem_181135.mem)[nest_i_182551] = (int8_t) -1;
    }
    
    int64_t bytes_181136 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    
    if (memblock_alloc(ctx, &mem_181137, bytes_181136, "mem_181137")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182552 = 0; nest_i_182552 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182552++) {
        ((int64_t *) mem_181137.mem)[nest_i_182552] = (int64_t) -1;
    }
    
    int64_t bytes_181138 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    
    if (memblock_alloc(ctx, &mem_181139, bytes_181138, "mem_181139")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182553 = 0; nest_i_182553 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182553++) {
        ((float *) mem_181139.mem)[nest_i_182553] = 0.0F;
    }
    
    int64_t zl_rhs_175626 = sub64(na_152854, window_sizze_152856);
    bool cond_175627 = slt64((int64_t) 0, zl_rhs_175626);
    int64_t zl_rhs_175628 = sub64(nb_152855, window_sizze_152856);
    bool loop_cond_t_res_175629 = slt64((int64_t) 0, zl_rhs_175628);
    bool x_175630 = cond_175627 && loop_cond_t_res_175629;
    bool empty_slice_175631 = window_sizze_152856 == (int64_t) 0;
    int64_t m_175632 = sub64(window_sizze_152856, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657 = add64((int64_t) 1, threads_152857);
    int64_t partitionFunc_arg0_176658 = mul64((int64_t) 2, threads_152857);
    bool y_176660 = slt64((int64_t) 0, window_sizze_152856);
    bool loop_cond_176906 = slt64((int64_t) 0, threads_152857);
    bool zzero_175677 = threads_152857 == (int64_t) 0;
    bool nonzzero_175678 = !zzero_175677;
    bool loop_not_taken_178435 = !inParallel_152860;
    bool protect_assert_disj_178436 = nonzzero_175678 || loop_not_taken_178435;
    bool loop_not_taken_178525 = !x_175630;
    bool protect_assert_disj_178526 = protect_assert_disj_178436 || loop_not_taken_178525;
    bool nonzzero_cert_175679;
    
    if (!protect_assert_disj_178526) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:365:24-32\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175680 = sdiv_safe64(window_sizze_152856, threads_152857);
    int64_t perThread_175681 = add64((int64_t) 1, zp_rhs_175680);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682 = mul64(threads_152857, perThread_175681);
    bool protect_assert_disj_178572 = inParallel_152860 || y_176660;
    bool protect_assert_disj_178576 = loop_not_taken_178525 || protect_assert_disj_178572;
    bool index_certs_176661;
    
    if (!protect_assert_disj_178576) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176676 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, (int64_t) 1);
    bool y_177633 = slt64(threads_152857, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
    bool protect_assert_disj_178541 = y_176660 || loop_not_taken_178435;
    bool protect_assert_disj_178580 = loop_not_taken_178525 || protect_assert_disj_178541;
    bool index_certs_175685;
    
    if (!protect_assert_disj_178580) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176678 = !bounds_invalid_upwards_176676;
    bool protect_assert_disj_178588 = inParallel_152860 || y_177633;
    bool protect_assert_disj_178590 = loop_not_taken_178525 || protect_assert_disj_178588;
    bool index_certs_177635;
    
    if (!protect_assert_disj_178590) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152857, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:355:7-31\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178584 = y_177633 || loop_not_taken_178435;
    bool protect_assert_disj_178592 = loop_not_taken_178525 || protect_assert_disj_178584;
    bool index_certs_176639;
    
    if (!protect_assert_disj_178592) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152857, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:389:7-31\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178600 = inParallel_152860 || valid_176678;
    bool protect_assert_disj_178602 = loop_not_taken_178525 || protect_assert_disj_178600;
    bool range_valid_c_176679;
    
    if (!protect_assert_disj_178602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178444 = sle64((int64_t) 1, threads_152857);
    bool protect_assert_disj_178596 = valid_176678 || loop_not_taken_178435;
    bool protect_assert_disj_178604 = loop_not_taken_178525 || protect_assert_disj_178596;
    bool range_valid_c_175692;
    
    if (!protect_assert_disj_178604) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176681 = add64(window_sizze_152856, window_sizze_152856);
    bool zzero_176682 = partitionFunc_arg0_176658 == (int64_t) 0;
    int64_t index_concat_i_178445 = sub64(threads_152857, (int64_t) 1);
    bool nonzzero_176683 = !zzero_176682;
    bool protect_assert_disj_178612 = inParallel_152860 || nonzzero_176683;
    bool protect_assert_disj_178618 = loop_not_taken_178525 || protect_assert_disj_178612;
    bool nonzzero_cert_176684;
    
    if (!protect_assert_disj_178618) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178608 = nonzzero_176683 || loop_not_taken_178435;
    bool protect_assert_disj_178624 = loop_not_taken_178525 || protect_assert_disj_178608;
    bool nonzzero_cert_175697;
    
    if (!protect_assert_disj_178624) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181149 = (int64_t) 8 * threads_152857;
    int64_t bytes_181166 = (int64_t) 8 * window_sizze_152856;
    int64_t bytes_181168 = (int64_t) 4 * window_sizze_152856;
    int64_t bytes_181511 = perThread_175681 * bytes_181149;
    int64_t binop_x_181518 = (int64_t) 4 * threads_152857;
    int64_t bytes_181519 = perThread_175681 * binop_x_181518;
    bool defunc_0_merge_pipeline_res_175633;
    int64_t defunc_0_merge_pipeline_res_175637;
    int64_t defunc_0_merge_pipeline_res_175638;
    bool loop_while_175639;
    int64_t p_175643;
    int64_t p_175644;
    
    loop_while_175639 = x_175630;
    p_175643 = (int64_t) 0;
    p_175644 = (int64_t) 0;
    while (loop_while_175639) {
        int64_t ubs_175645 = add64(window_sizze_152856, p_175643);
        int64_t ubs_175646 = add64(window_sizze_152856, p_175644);
        int64_t ind_bottom_175647 = add64(p_175643, p_175644);
        int64_t ind_top_175648 = add64(window_sizze_152856, ind_bottom_175647);
        int64_t i_p_m_t_s_175649 = add64(m_175632, p_175643);
        bool zzero_leq_i_p_m_t_s_175650 = sle64((int64_t) 0, i_p_m_t_s_175649);
        bool i_p_m_t_s_leq_w_175651 = slt64(i_p_m_t_s_175649, na_152854);
        bool zzero_lte_i_175652 = sle64((int64_t) 0, p_175643);
        bool i_lte_j_175653 = sle64(p_175643, ubs_175645);
        bool y_175654 = i_p_m_t_s_leq_w_175651 && zzero_lte_i_175652;
        bool y_175655 = zzero_leq_i_p_m_t_s_175650 && y_175654;
        bool forwards_ok_175656 = i_lte_j_175653 && y_175655;
        bool ok_or_empty_175657 = empty_slice_175631 || forwards_ok_175656;
        bool index_certs_175658;
        
        if (!ok_or_empty_175657) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175643, ":", (long long) ubs_175645, "] out of bounds for array of shape [", (long long) na_152854, "].", "-> #0  ftsort.fut:421:14-35\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175660 = add64(m_175632, p_175644);
        bool zzero_leq_i_p_m_t_s_175661 = sle64((int64_t) 0, i_p_m_t_s_175660);
        bool i_p_m_t_s_leq_w_175662 = slt64(i_p_m_t_s_175660, nb_152855);
        bool zzero_lte_i_175663 = sle64((int64_t) 0, p_175644);
        bool i_lte_j_175664 = sle64(p_175644, ubs_175646);
        bool y_175665 = i_p_m_t_s_leq_w_175662 && zzero_lte_i_175663;
        bool y_175666 = zzero_leq_i_p_m_t_s_175661 && y_175665;
        bool forwards_ok_175667 = i_lte_j_175664 && y_175666;
        bool ok_or_empty_175668 = empty_slice_175631 || forwards_ok_175667;
        bool index_certs_175669;
        
        if (!ok_or_empty_175668) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175644, ":", (long long) ubs_175646, "] out of bounds for array of shape [", (long long) nb_152855, "].", "-> #0  ftsort.fut:422:14-35\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177647 = add64(m_175632, ind_bottom_175647);
        bool zzero_leq_i_p_m_t_s_177648 = sle64((int64_t) 0, i_p_m_t_s_177647);
        bool i_p_m_t_s_leq_w_177649 = slt64(i_p_m_t_s_177647, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
        bool zzero_lte_i_177650 = sle64((int64_t) 0, ind_bottom_175647);
        bool i_lte_j_177651 = sle64(ind_bottom_175647, ind_top_175648);
        bool y_177652 = i_p_m_t_s_leq_w_177649 && zzero_lte_i_177650;
        bool y_177653 = zzero_leq_i_p_m_t_s_177648 && y_177652;
        bool forwards_ok_177654 = i_lte_j_177651 && y_177653;
        bool ok_or_empty_177655 = empty_slice_175631 || forwards_ok_177654;
        bool index_certs_177656;
        
        if (!ok_or_empty_177655) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175647, ":", (long long) ind_top_175648, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:431:21-79\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175671;
        int64_t loopres_175672;
        
        if (inParallel_152860) {
            float leq_lhs_179105 = ((float *) a_list_mem_181133.mem)[p_175643];
            float leq_rhs_179106 = ((float *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_179107 = leq_lhs_179105 <= leq_rhs_179106;
            float lowest_179108;
            
            if (defunc_0_leq_res_179107) {
                lowest_179108 = leq_lhs_179105;
            } else {
                lowest_179108 = leq_rhs_179106;
            }
            if (mem_181495_cached_sizze_182945 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181495, &mem_181495_cached_sizze_182945, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181497_cached_sizze_182946 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181497, &mem_181497_cached_sizze_182946, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180797 = 0; i_180797 < threads_152857; i_180797++) {
                int64_t index_primexp_181069 = add64((int64_t) 1, i_180797);
                int64_t zs_lhs_179113 = mul64(zt_rhs_176681, index_primexp_181069);
                int64_t index_179114 = sdiv64(zs_lhs_179113, partitionFunc_arg0_176658);
                bool cond_179115 = slt64(window_sizze_152856, index_179114);
                int64_t loop_over_179116;
                
                if (cond_179115) {
                    loop_over_179116 = window_sizze_152856;
                } else {
                    loop_over_179116 = index_179114;
                }
                
                int64_t loop_over_179117;
                
                if (cond_179115) {
                    int64_t loop_over_t_res_179118 = sub64(index_179114, window_sizze_152856);
                    
                    loop_over_179117 = loop_over_t_res_179118;
                } else {
                    loop_over_179117 = (int64_t) 0;
                }
                
                int64_t loop_over_179119;
                
                if (cond_179115) {
                    int64_t zm_lhs_179120 = sub64(index_179114, window_sizze_152856);
                    int64_t loop_over_t_res_179121 = sub64(zm_lhs_179120, (int64_t) 1);
                    
                    loop_over_179119 = loop_over_t_res_179121;
                } else {
                    loop_over_179119 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179122;
                int64_t defunc_0_f_res_179123;
                int64_t defunc_0_f_res_179124;
                int64_t defunc_0_f_res_179125;
                bool loop_while_179126;
                int64_t p_179127;
                int64_t p_179128;
                int64_t p_179129;
                
                loop_while_179126 = 1;
                p_179127 = loop_over_179119;
                p_179128 = loop_over_179116;
                p_179129 = loop_over_179117;
                while (loop_while_179126) {
                    int64_t zs_lhs_179130 = sub64(p_179128, p_179127);
                    int64_t offset_179131 = sdiv64(zs_lhs_179130, (int64_t) 2);
                    int64_t ai_179132 = sub64(p_179128, offset_179131);
                    int64_t max_arg1_179133 = add64(p_179129, offset_179131);
                    int64_t max_res_179134 = smax64((int64_t) 0, max_arg1_179133);
                    bool cond_179135 = slt64((int64_t) 0, max_res_179134);
                    float b_prev_179136;
                    
                    if (cond_179135) {
                        int64_t tmp_179137 = sub64(max_res_179134, (int64_t) 1);
                        bool x_179138 = sle64((int64_t) 0, tmp_179137);
                        bool y_179139 = slt64(tmp_179137, window_sizze_152856);
                        bool bounds_check_179140 = x_179138 && y_179139;
                        bool index_certs_179141;
                        
                        if (!bounds_check_179140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179137, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179142 = p_175644 + tmp_179137;
                        float b_prev_t_res_179143 = ((float *) b_list_mem_181134.mem)[slice_179142];
                        
                        b_prev_179136 = b_prev_t_res_179143;
                    } else {
                        b_prev_179136 = lowest_179108;
                    }
                    
                    bool cond_179144 = sle64(ai_179132, (int64_t) 0);
                    int64_t loopres_179145;
                    int64_t loopres_179146;
                    int64_t loopres_179147;
                    bool loopres_179148;
                    
                    if (cond_179144) {
                        loopres_179145 = p_179127;
                        loopres_179146 = (int64_t) 0;
                        loopres_179147 = max_res_179134;
                        loopres_179148 = 0;
                    } else {
                        bool cond_179149 = sle64(window_sizze_152856, max_res_179134);
                        int64_t loopres_f_res_179150;
                        int64_t loopres_f_res_179151;
                        int64_t loopres_f_res_179152;
                        bool loopres_f_res_179153;
                        
                        if (cond_179149) {
                            int64_t min_res_179155 = smin64(m_175632, ai_179132);
                            bool x_179156 = sle64((int64_t) 0, m_175632);
                            bool y_179157 = slt64(m_175632, window_sizze_152856);
                            bool bounds_check_179158 = x_179156 && y_179157;
                            bool index_certs_179159;
                            
                            if (!bounds_check_179158) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179162 = sle64((int64_t) 0, min_res_179155);
                            bool y_179163 = slt64(min_res_179155, window_sizze_152856);
                            bool bounds_check_179164 = x_179162 && y_179163;
                            bool index_certs_179165;
                            
                            if (!bounds_check_179164) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179155, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_179161 = ((float *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_179166 = p_175643 + min_res_179155;
                            float leq_rhs_179167 = ((float *) a_list_mem_181133.mem)[slice_179166];
                            bool defunc_0_leq_res_179168 = leq_lhs_179161 <= leq_rhs_179167;
                            int64_t loopres_f_res_t_res_179169;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179169 = ai_179132;
                            } else {
                                loopres_f_res_t_res_179169 = p_179128;
                            }
                            
                            bool x_179170 = !defunc_0_leq_res_179168;
                            int64_t loopres_f_res_t_res_179171;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179171 = window_sizze_152856;
                            } else {
                                int64_t tmp_179172 = sub64(m_175632, offset_179131);
                                
                                loopres_f_res_t_res_179171 = tmp_179172;
                            }
                            loopres_f_res_179150 = p_179127;
                            loopres_f_res_179151 = loopres_f_res_t_res_179169;
                            loopres_f_res_179152 = loopres_f_res_t_res_179171;
                            loopres_f_res_179153 = x_179170;
                        } else {
                            bool cond_179173 = sle64(window_sizze_152856, ai_179132);
                            int64_t loopres_f_res_f_res_179174;
                            int64_t loopres_f_res_f_res_179175;
                            int64_t loopres_f_res_f_res_179176;
                            bool loopres_f_res_f_res_179177;
                            
                            if (cond_179173) {
                                int64_t min_res_179179 = smin64(m_175632, max_res_179134);
                                bool x_179180 = sle64((int64_t) 0, m_175632);
                                bool y_179181 = slt64(m_175632, window_sizze_152856);
                                bool bounds_check_179182 = x_179180 && y_179181;
                                bool index_certs_179183;
                                
                                if (!bounds_check_179182) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179186 = sle64((int64_t) 0, min_res_179179);
                                bool y_179187 = slt64(min_res_179179, window_sizze_152856);
                                bool bounds_check_179188 = x_179186 && y_179187;
                                bool index_certs_179189;
                                
                                if (!bounds_check_179188) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179179, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_179185 = ((float *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_179190 = p_175644 + min_res_179179;
                                float leq_rhs_179191 = ((float *) b_list_mem_181134.mem)[slice_179190];
                                bool defunc_0_leq_res_179192 = leq_lhs_179185 <= leq_rhs_179191;
                                int64_t loopres_f_res_f_res_t_res_179193;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179193 = max_res_179134;
                                } else {
                                    loopres_f_res_f_res_t_res_179193 = p_179129;
                                }
                                
                                bool x_179194 = !defunc_0_leq_res_179192;
                                int64_t loopres_f_res_f_res_t_res_179195;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179195 = window_sizze_152856;
                                } else {
                                    loopres_f_res_f_res_t_res_179195 = m_175632;
                                }
                                loopres_f_res_f_res_179174 = p_179127;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_t_res_179195;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_t_res_179193;
                                loopres_f_res_f_res_179177 = x_179194;
                            } else {
                                bool cond_179196 = sle64(p_179128, p_179127);
                                int64_t loopres_f_res_f_res_f_res_179197;
                                int64_t loopres_f_res_f_res_f_res_179198;
                                int64_t loopres_f_res_f_res_f_res_179199;
                                bool loopres_f_res_f_res_f_res_179200;
                                
                                if (cond_179196) {
                                    bool cond_179201 = slt64(ai_179132, window_sizze_152856);
                                    int64_t ai_179202;
                                    
                                    if (cond_179201) {
                                        ai_179202 = ai_179132;
                                    } else {
                                        ai_179202 = m_175632;
                                    }
                                    
                                    bool x_179215 = sle64((int64_t) 0, ai_179202);
                                    bool y_179216 = slt64(ai_179202, window_sizze_152856);
                                    bool bounds_check_179217 = x_179215 && y_179216;
                                    bool index_certs_179218;
                                    
                                    if (!bounds_check_179217) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179202, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_179204;
                                    
                                    if (cond_179135) {
                                        int64_t tmp_179205 = sub64(max_res_179134, (int64_t) 1);
                                        bool x_179206 = sle64((int64_t) 0, tmp_179205);
                                        bool y_179207 = slt64(tmp_179205, window_sizze_152856);
                                        bool bounds_check_179208 = x_179206 && y_179207;
                                        bool index_certs_179209;
                                        
                                        if (!bounds_check_179208) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179205, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179210 = p_175644 + tmp_179205;
                                        float b_prev_t_res_179211 = ((float *) b_list_mem_181134.mem)[slice_179210];
                                        
                                        b_prev_179204 = b_prev_t_res_179211;
                                    } else {
                                        bool index_certs_179213;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179204 = leq_rhs_179106;
                                    }
                                    
                                    int64_t slice_179219 = p_175643 + ai_179202;
                                    float gt_lhs_179220 = ((float *) a_list_mem_181133.mem)[slice_179219];
                                    bool defunc_0_gt_res_179221 = b_prev_179204 < gt_lhs_179220;
                                    int64_t defunc_0_partFunc_sequential_search_res_179222;
                                    int64_t defunc_0_partFunc_sequential_search_res_179223;
                                    
                                    if (defunc_0_gt_res_179221) {
                                        int64_t zl_rhs_179224 = sub64(window_sizze_152856, max_res_179134);
                                        bool loop_cond_179225 = slt64((int64_t) 0, zl_rhs_179224);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179226;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179228;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179229;
                                        bool loop_while_179230;
                                        int64_t p_179231;
                                        int64_t p_179232;
                                        int64_t p_179233;
                                        
                                        loop_while_179230 = loop_cond_179225;
                                        p_179231 = ai_179202;
                                        p_179232 = max_res_179134;
                                        p_179233 = (int64_t) 0;
                                        while (loop_while_179230) {
                                            int64_t i_a_179234 = sub64(ai_179202, p_179233);
                                            int64_t i_b_179235 = add64(max_res_179134, p_179233);
                                            int64_t leq_lhs_179236 = sub64(i_a_179234, (int64_t) 1);
                                            bool x_179237 = sle64((int64_t) 0, leq_lhs_179236);
                                            bool y_179238 = slt64(leq_lhs_179236, window_sizze_152856);
                                            bool bounds_check_179239 = x_179237 && y_179238;
                                            bool index_certs_179240;
                                            
                                            if (!bounds_check_179239) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179236, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179243 = sle64((int64_t) 0, i_b_179235);
                                            bool y_179244 = slt64(i_b_179235, window_sizze_152856);
                                            bool bounds_check_179245 = x_179243 && y_179244;
                                            bool index_certs_179246;
                                            
                                            if (!bounds_check_179245) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179235, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179241 = p_175643 + leq_lhs_179236;
                                            float leq_lhs_179242 = ((float *) a_list_mem_181133.mem)[slice_179241];
                                            int64_t slice_179247 = p_175644 + i_b_179235;
                                            float leq_rhs_179248 = ((float *) b_list_mem_181134.mem)[slice_179247];
                                            bool defunc_0_leq_res_179249 = leq_lhs_179242 <= leq_rhs_179248;
                                            int64_t loopres_179250;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179250 = i_a_179234;
                                            } else {
                                                loopres_179250 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179251;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179251 = i_b_179235;
                                            } else {
                                                loopres_179251 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179252;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179252 = zl_rhs_179224;
                                            } else {
                                                int64_t tmp_179253 = add64((int64_t) 1, p_179233);
                                                
                                                loopres_179252 = tmp_179253;
                                            }
                                            
                                            bool loop_cond_179254 = slt64(loopres_179252, zl_rhs_179224);
                                            bool loop_while_tmp_182566 = loop_cond_179254;
                                            int64_t p_tmp_182567 = loopres_179250;
                                            int64_t p_tmp_182568 = loopres_179251;
                                            int64_t p_tmp_182569 = loopres_179252;
                                            
                                            loop_while_179230 = loop_while_tmp_182566;
                                            p_179231 = p_tmp_182567;
                                            p_179232 = p_tmp_182568;
                                            p_179233 = p_tmp_182569;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179226 = loop_while_179230;
                                        defunc_0_partFunc_sequential_search_res_t_res_179227 = p_179231;
                                        defunc_0_partFunc_sequential_search_res_t_res_179228 = p_179232;
                                        defunc_0_partFunc_sequential_search_res_t_res_179229 = p_179233;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_t_res_179228;
                                    } else {
                                        int64_t zl_rhs_179255 = sub64(max_res_179134, (int64_t) 1);
                                        bool loop_cond_179256 = slt64((int64_t) 0, zl_rhs_179255);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179257;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179259;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179260;
                                        bool loop_while_179261;
                                        int64_t p_179262;
                                        int64_t p_179263;
                                        int64_t p_179264;
                                        
                                        loop_while_179261 = loop_cond_179256;
                                        p_179262 = ai_179202;
                                        p_179263 = max_res_179134;
                                        p_179264 = (int64_t) 0;
                                        while (loop_while_179261) {
                                            int64_t zp_lhs_179265 = add64(ai_179202, p_179264);
                                            int64_t hi_a_179266 = add64((int64_t) 1, zp_lhs_179265);
                                            bool cond_179267 = slt64(hi_a_179266, window_sizze_152856);
                                            int64_t i_a_179268;
                                            
                                            if (cond_179267) {
                                                i_a_179268 = hi_a_179266;
                                            } else {
                                                i_a_179268 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_179270 = sub64(max_res_179134, p_179264);
                                            int64_t i_b_179271 = sub64(zm_lhs_179270, (int64_t) 1);
                                            bool x_179272 = sle64((int64_t) 0, i_a_179268);
                                            bool y_179273 = slt64(i_a_179268, window_sizze_152856);
                                            bool bounds_check_179274 = x_179272 && y_179273;
                                            bool index_certs_179275;
                                            
                                            if (!bounds_check_179274) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179268, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179278 = sle64((int64_t) 0, i_b_179271);
                                            bool y_179279 = slt64(i_b_179271, window_sizze_152856);
                                            bool bounds_check_179280 = x_179278 && y_179279;
                                            bool index_certs_179281;
                                            
                                            if (!bounds_check_179280) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179271, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179276 = p_175643 + i_a_179268;
                                            float gt_lhs_179277 = ((float *) a_list_mem_181133.mem)[slice_179276];
                                            int64_t slice_179282 = p_175644 + i_b_179271;
                                            float gt_rhs_179283 = ((float *) b_list_mem_181134.mem)[slice_179282];
                                            bool defunc_0_gt_res_179284 = gt_rhs_179283 < gt_lhs_179277;
                                            int64_t loopres_179285;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179285 = i_a_179268;
                                            } else {
                                                loopres_179285 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179286;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179286 = zm_lhs_179270;
                                            } else {
                                                loopres_179286 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179287;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179287 = zl_rhs_179255;
                                            } else {
                                                int64_t tmp_179288 = add64((int64_t) 1, p_179264);
                                                
                                                loopres_179287 = tmp_179288;
                                            }
                                            
                                            bool loop_cond_179289 = slt64(loopres_179287, zl_rhs_179255);
                                            bool loop_while_tmp_182570 = loop_cond_179289;
                                            int64_t p_tmp_182571 = loopres_179285;
                                            int64_t p_tmp_182572 = loopres_179286;
                                            int64_t p_tmp_182573 = loopres_179287;
                                            
                                            loop_while_179261 = loop_while_tmp_182570;
                                            p_179262 = p_tmp_182571;
                                            p_179263 = p_tmp_182572;
                                            p_179264 = p_tmp_182573;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179257 = loop_while_179261;
                                        defunc_0_partFunc_sequential_search_res_f_res_179258 = p_179262;
                                        defunc_0_partFunc_sequential_search_res_f_res_179259 = p_179263;
                                        defunc_0_partFunc_sequential_search_res_f_res_179260 = p_179264;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_f_res_179259;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = p_179127;
                                    loopres_f_res_f_res_f_res_179198 = defunc_0_partFunc_sequential_search_res_179222;
                                    loopres_f_res_f_res_f_res_179199 = defunc_0_partFunc_sequential_search_res_179223;
                                    loopres_f_res_f_res_f_res_179200 = 0;
                                } else {
                                    bool x_179290 = sle64((int64_t) 0, ai_179132);
                                    bool y_179291 = slt64(ai_179132, window_sizze_152856);
                                    bool bounds_check_179292 = x_179290 && y_179291;
                                    bool index_certs_179293;
                                    
                                    if (!bounds_check_179292) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179132, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179294 = p_175643 + ai_179132;
                                    float gt_lhs_179295 = ((float *) a_list_mem_181133.mem)[slice_179294];
                                    bool defunc_0_gt_res_179296 = b_prev_179136 < gt_lhs_179295;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179297;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179298;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179299;
                                    bool loopres_f_res_f_res_f_res_f_res_179300;
                                    
                                    if (defunc_0_gt_res_179296) {
                                        int64_t leq_lhs_179301 = sub64(ai_179132, (int64_t) 1);
                                        bool x_179302 = sle64((int64_t) 0, leq_lhs_179301);
                                        bool y_179303 = slt64(leq_lhs_179301, window_sizze_152856);
                                        bool bounds_check_179304 = x_179302 && y_179303;
                                        bool index_certs_179305;
                                        
                                        if (!bounds_check_179304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179301, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179308 = sle64((int64_t) 0, max_res_179134);
                                        bool y_179309 = slt64(max_res_179134, window_sizze_152856);
                                        bool bounds_check_179310 = x_179308 && y_179309;
                                        bool index_certs_179311;
                                        
                                        if (!bounds_check_179310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179134, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179306 = p_175643 + leq_lhs_179301;
                                        float leq_lhs_179307 = ((float *) a_list_mem_181133.mem)[slice_179306];
                                        int64_t slice_179312 = p_175644 + max_res_179134;
                                        float leq_rhs_179313 = ((float *) b_list_mem_181134.mem)[slice_179312];
                                        bool defunc_0_leq_res_179314 = leq_lhs_179307 <= leq_rhs_179313;
                                        bool x_179315 = !defunc_0_leq_res_179314;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = ai_179132;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = leq_lhs_179301;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = max_res_179134;
                                        } else {
                                            int64_t tmp_179318 = add64((int64_t) 1, max_res_179134);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = tmp_179318;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179297 = p_179127;
                                        loopres_f_res_f_res_f_res_f_res_179298 = loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        loopres_f_res_f_res_f_res_f_res_179299 = loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        loopres_f_res_f_res_f_res_f_res_179300 = x_179315;
                                    } else {
                                        int64_t tmp_179319 = add64((int64_t) 1, ai_179132);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179297 = tmp_179319;
                                        loopres_f_res_f_res_f_res_f_res_179298 = p_179128;
                                        loopres_f_res_f_res_f_res_f_res_179299 = p_179129;
                                        loopres_f_res_f_res_f_res_f_res_179300 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_179297;
                                    loopres_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_179298;
                                    loopres_f_res_f_res_f_res_179199 = loopres_f_res_f_res_f_res_f_res_179299;
                                    loopres_f_res_f_res_f_res_179200 = loopres_f_res_f_res_f_res_f_res_179300;
                                }
                                loopres_f_res_f_res_179174 = loopres_f_res_f_res_f_res_179197;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_f_res_179198;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_f_res_179199;
                                loopres_f_res_f_res_179177 = loopres_f_res_f_res_f_res_179200;
                            }
                            loopres_f_res_179150 = loopres_f_res_f_res_179174;
                            loopres_f_res_179151 = loopres_f_res_f_res_179175;
                            loopres_f_res_179152 = loopres_f_res_f_res_179176;
                            loopres_f_res_179153 = loopres_f_res_f_res_179177;
                        }
                        loopres_179145 = loopres_f_res_179150;
                        loopres_179146 = loopres_f_res_179151;
                        loopres_179147 = loopres_f_res_179152;
                        loopres_179148 = loopres_f_res_179153;
                    }
                    
                    bool loop_while_tmp_182562 = loopres_179148;
                    int64_t p_tmp_182563 = loopres_179145;
                    int64_t p_tmp_182564 = loopres_179146;
                    int64_t p_tmp_182565 = loopres_179147;
                    
                    loop_while_179126 = loop_while_tmp_182562;
                    p_179127 = p_tmp_182563;
                    p_179128 = p_tmp_182564;
                    p_179129 = p_tmp_182565;
                }
                defunc_0_f_res_179122 = loop_while_179126;
                defunc_0_f_res_179123 = p_179127;
                defunc_0_f_res_179124 = p_179128;
                defunc_0_f_res_179125 = p_179129;
                ((int64_t *) mem_181495)[i_180797] = defunc_0_f_res_179124;
                ((int64_t *) mem_181497)[i_180797] = defunc_0_f_res_179125;
            }
            if (mem_181512_cached_sizze_182947 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181512, &mem_181512_cached_sizze_182947, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181514_cached_sizze_182948 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682) {
                err = lexical_realloc(ctx, &mem_181514, &mem_181514_cached_sizze_182948, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181517_cached_sizze_182949 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_182949, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181520_cached_sizze_182950 < bytes_181519) {
                err = lexical_realloc(ctx, &mem_181520, &mem_181520_cached_sizze_182950, bytes_181519);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180863 = 0; i_180863 < threads_152857; i_180863++) {
                bool y_179333 = slt64(i_180863, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool index_certs_179335;
                
                if (!y_179333) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180863, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:371:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179336 = sle64((int64_t) 1, i_180863);
                int64_t index_concat_i_179337 = sub64(i_180863, (int64_t) 1);
                int64_t index_concat_179338;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179339 = ((int64_t *) mem_181495)[index_concat_i_179337];
                    
                    index_concat_179338 = x_179339;
                } else {
                    index_concat_179338 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179340;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179340 = index_concat_179338;
                } else {
                    index_concat_branch_179340 = (int64_t) 0;
                }
                
                int64_t index_concat_179341;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179342 = ((int64_t *) mem_181497)[index_concat_i_179337];
                    
                    index_concat_179341 = x_179342;
                } else {
                    index_concat_179341 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179343;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179343 = index_concat_179341;
                } else {
                    index_concat_branch_179343 = (int64_t) 0;
                }
                
                int64_t ubs_179344 = add64((int64_t) 1, i_180863);
                bool x_179345 = sle64((int64_t) 0, ubs_179344);
                bool y_179346 = slt64(ubs_179344, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_179347 = x_179345 && y_179346;
                bool index_certs_179348;
                
                if (!bounds_check_179347) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179344, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:372:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179349 = sle64((int64_t) 1, ubs_179344);
                int64_t index_concat_179350;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179351 = ((int64_t *) mem_181495)[i_180863];
                    
                    index_concat_179350 = x_179351;
                } else {
                    index_concat_179350 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179352;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179352 = index_concat_179350;
                } else {
                    index_concat_branch_179352 = (int64_t) 0;
                }
                
                int64_t index_concat_179353;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179354 = ((int64_t *) mem_181497)[i_180863];
                    
                    index_concat_179353 = x_179354;
                } else {
                    index_concat_179353 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179355;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179355 = index_concat_179353;
                } else {
                    index_concat_branch_179355 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 = sub64(index_concat_branch_179355, index_concat_branch_179343);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 = sub64(index_concat_branch_179352, index_concat_branch_179340);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t zm_lhs_179359 = add64(index_concat_branch_179352, index_concat_branch_179355);
                int64_t zm_rhs_179360 = add64(index_concat_branch_179340, index_concat_branch_179343);
                int64_t card_179361 = sub64(zm_lhs_179359, zm_rhs_179360);
                bool empty_slice_179362 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 == (int64_t) 0;
                int64_t m_179363 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 1);
                int64_t i_p_m_t_s_179364 = add64(index_concat_branch_179340, m_179363);
                bool zzero_leq_i_p_m_t_s_179365 = sle64((int64_t) 0, i_p_m_t_s_179364);
                bool i_p_m_t_s_leq_w_179366 = slt64(i_p_m_t_s_179364, window_sizze_152856);
                bool zzero_lte_i_179367 = sle64((int64_t) 0, index_concat_branch_179340);
                bool i_lte_j_179368 = sle64(index_concat_branch_179340, index_concat_branch_179352);
                bool y_179369 = i_p_m_t_s_leq_w_179366 && zzero_lte_i_179367;
                bool y_179370 = zzero_leq_i_p_m_t_s_179365 && y_179369;
                bool forwards_ok_179371 = i_lte_j_179368 && y_179370;
                bool ok_or_empty_179372 = empty_slice_179362 || forwards_ok_179371;
                bool index_certs_179373;
                
                if (!ok_or_empty_179372) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179340, ":", (long long) index_concat_branch_179352, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:374:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179374 = slt64(index_concat_branch_179352, index_concat_branch_179340);
                bool valid_179375 = !bounds_invalid_upwards_179374;
                bool range_valid_c_179376;
                
                if (!valid_179375) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179340, "..<", (long long) index_concat_branch_179352, " is invalid.", "-> #0  ftsort.fut:374:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179381 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 == (int64_t) 0;
                int64_t m_179382 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, (int64_t) 1);
                int64_t i_p_m_t_s_179383 = add64(index_concat_branch_179343, m_179382);
                bool zzero_leq_i_p_m_t_s_179384 = sle64((int64_t) 0, i_p_m_t_s_179383);
                bool i_p_m_t_s_leq_w_179385 = slt64(i_p_m_t_s_179383, window_sizze_152856);
                bool zzero_lte_i_179386 = sle64((int64_t) 0, index_concat_branch_179343);
                bool i_lte_j_179387 = sle64(index_concat_branch_179343, index_concat_branch_179355);
                bool y_179388 = i_p_m_t_s_leq_w_179385 && zzero_lte_i_179386;
                bool y_179389 = zzero_leq_i_p_m_t_s_179384 && y_179388;
                bool forwards_ok_179390 = i_lte_j_179387 && y_179389;
                bool ok_or_empty_179391 = empty_slice_179381 || forwards_ok_179390;
                bool index_certs_179392;
                
                if (!ok_or_empty_179391) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179343, ":", (long long) index_concat_branch_179355, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:375:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179393 = slt64(index_concat_branch_179355, index_concat_branch_179343);
                bool valid_179394 = !bounds_invalid_upwards_179393;
                bool range_valid_c_179395;
                
                if (!valid_179394) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179343, "..<", (long long) index_concat_branch_179355, " is invalid.", "-> #0  ftsort.fut:375:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181549 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                int64_t bytes_181551 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool cond_179403 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zs_lhs_179404 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zp_rhs_179405 = sdiv_safe64(zs_lhs_179404, (int64_t) 20);
                int64_t min_num_blocks_179406 = add64((int64_t) 1, zp_rhs_179405);
                bool loop_cond_179407 = slt64((int64_t) 1, min_num_blocks_179406);
                bool smallest_pow_2_geq_than_res_179408;
                int64_t smallest_pow_2_geq_than_res_179409;
                bool loop_while_179410;
                int64_t x_179411;
                
                loop_while_179410 = loop_cond_179407;
                x_179411 = (int64_t) 1;
                while (loop_while_179410) {
                    int64_t loopres_179412 = mul64((int64_t) 2, x_179411);
                    bool loop_cond_179413 = slt64(loopres_179412, min_num_blocks_179406);
                    bool loop_while_tmp_182578 = loop_cond_179413;
                    int64_t x_tmp_182579 = loopres_179412;
                    
                    loop_while_179410 = loop_while_tmp_182578;
                    x_179411 = x_tmp_182579;
                }
                smallest_pow_2_geq_than_res_179408 = loop_while_179410;
                smallest_pow_2_geq_than_res_179409 = x_179411;
                
                bool zzero_179414 = smallest_pow_2_geq_than_res_179409 == (int64_t) 0;
                bool nonzzero_179415 = !zzero_179414;
                bool protect_assert_disj_179416 = cond_179403 || nonzzero_179415;
                bool nonzzero_cert_179417;
                
                if (!protect_assert_disj_179416) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179418 = sdiv_safe64(zs_lhs_179404, smallest_pow_2_geq_than_res_179409);
                int64_t block_sizze_179419 = add64((int64_t) 1, zp_rhs_179418);
                bool y_179426 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                bool protect_assert_disj_182295 = cond_179403 || y_179426;
                bool index_certs_179427;
                
                if (!protect_assert_disj_182295) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179464 = slt64(smallest_pow_2_geq_than_res_179409, (int64_t) 0);
                bool valid_179465 = !bounds_invalid_upwards_179464;
                bool protect_assert_disj_182305 = cond_179403 || valid_179465;
                bool range_valid_c_179466;
                
                if (!protect_assert_disj_182305) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179409, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:493:63-73\n   #6  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179468 = slt64(block_sizze_179419, (int64_t) 0);
                bool valid_179469 = !bounds_invalid_upwards_179468;
                bool protect_assert_disj_182307 = cond_179403 || valid_179469;
                bool range_valid_c_179470;
                
                if (!protect_assert_disj_182307) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179419, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179472 = sle64(block_sizze_179419, (int64_t) 1);
                int64_t tmp_179473 = sub64(block_sizze_179419, (int64_t) 2);
                bool bounds_invalid_upwards_179474 = slt64(tmp_179473, (int64_t) 0);
                bool valid_179476 = !bounds_invalid_upwards_179474;
                bool protect_assert_disj_179477 = cond_179472 || valid_179476;
                bool protect_assert_disj_182309 = cond_179403 || protect_assert_disj_179477;
                bool range_valid_c_179478;
                
                if (!protect_assert_disj_182309) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179473, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180058 = card_179361 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool empty_or_match_cert_180059;
                
                if (!dim_match_180058) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] cannot match shape of type `[", (long long) card_179361, "](i8, i64, f32)`.", "-> #0  ftsort.fut:376:20-382:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180060 = card_179361 == (int64_t) 0;
                int64_t m_180061 = sub64(card_179361, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180062 = sle64((int64_t) 0, m_180061);
                bool i_p_m_t_s_leq_w_180063 = slt64(m_180061, card_179361);
                bool y_180064 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180063;
                bool ok_or_empty_180065 = empty_slice_180060 || y_180064;
                bool index_certs_180066;
                
                if (!ok_or_empty_180065) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) card_179361, "].", "-> #0  ftsort.fut:383:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_180067 = slt64(m_180061, perThread_175681);
                bool y_180068 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180067;
                bool ok_or_empty_180069 = empty_slice_180060 || y_180068;
                bool index_certs_180070;
                
                if (!ok_or_empty_180069) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:383:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182580 = 0; nest_i_182580 < perThread_175681; nest_i_182580++) {
                    ((int8_t *) mem_181514)[i_180863 * perThread_175681 + nest_i_182580] = (int8_t) -1;
                }
                for (int64_t nest_i_182581 = 0; nest_i_182581 < perThread_175681; nest_i_182581++) {
                    ((int64_t *) mem_181517)[i_180863 * perThread_175681 + nest_i_182581] = (int64_t) -1;
                }
                for (int64_t nest_i_182582 = 0; nest_i_182582 < perThread_175681; nest_i_182582++) {
                    ((float *) mem_181520)[i_180863 * perThread_175681 + nest_i_182582] = 0.0F;
                }
                
                int64_t slice_179377 = p_175643 + index_concat_branch_179340;
                
                if (memblock_alloc(ctx, &mem_181548, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "mem_181548")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182583 = 0; nest_i_182583 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; nest_i_182583++) {
                    ((int8_t *) mem_181548.mem)[nest_i_182583] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181550, bytes_181549, "mem_181550")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182584 = 0; i_182584 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; i_182584++) {
                    int64_t x_182585 = index_concat_branch_179340 + i_182584 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[i_182584] = x_182585;
                }
                
                int64_t slice_179396 = p_175644 + index_concat_branch_179343;
                
                for (int64_t nest_i_182586 = 0; nest_i_182586 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; nest_i_182586++) {
                    ((int8_t *) mem_181548.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + nest_i_182586] = (int8_t) 1;
                }
                for (int64_t i_182587 = 0; i_182587 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; i_182587++) {
                    int64_t x_182588 = index_concat_branch_179343 + i_182587 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + i_182587] = x_182588;
                }
                
                int64_t tmp_offs_182589 = (int64_t) 0;
                
                if (!(tmp_offs_182589 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182589 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t tmp_offs_182590 = (int64_t) 0;
                
                if (!(tmp_offs_182590 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182590 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                if (memblock_alloc(ctx, &mem_181552, bytes_181551, "mem_181552")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182591 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181133.mem, slice_179377, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181134.mem, slice_179396, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t flat_dim_179420 = smallest_pow_2_geq_than_res_179409 * block_sizze_179419;
                bool x_182290 = !cond_179403;
                int64_t greatest_divisor_leq_than_arg1_179424 = mul64((int64_t) 2, block_sizze_179419);
                int64_t merge_block_sizze_179425;
                
                if (x_182290) {
                    int64_t x_182292;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182292, (int64_t) 8, greatest_divisor_leq_than_arg1_179424) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179425 = x_182292;
                } else {
                    merge_block_sizze_179425 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179428 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 0);
                int8_t index_concat_branch_179429 = btoi_bool_i8(index_concat_cmp_179428);
                int64_t index_concat_i_179431 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t index_primexp_179432 = add64(index_concat_branch_179343, index_concat_i_179431);
                int64_t index_concat_branch_179430;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179430 = index_primexp_179432;
                } else {
                    index_concat_branch_179430 = index_concat_branch_179340;
                }
                
                bool x_182286 = !index_concat_cmp_179428;
                bool protect_cond_conj_182296 = x_182286 && x_182290;
                float index_concat_179438;
                
                if (protect_cond_conj_182296) {
                    float x_182288 = ((float *) a_list_mem_181133.mem)[slice_179377];
                    
                    index_concat_179438 = x_182288;
                } else {
                    index_concat_179438 = 0.0F;
                }
                
                int64_t slice_179436 = p_175644 + index_primexp_179432;
                bool protect_cond_conj_182297 = index_concat_cmp_179428 && x_182290;
                float index_concat_179437;
                
                if (protect_cond_conj_182297) {
                    float x_182284 = ((float *) b_list_mem_181134.mem)[slice_179436];
                    
                    index_concat_179437 = x_182284;
                } else {
                    index_concat_179437 = 0.0F;
                }
                
                float index_concat_branch_179433;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179433 = index_concat_179437;
                } else {
                    index_concat_branch_179433 = index_concat_179438;
                }
                
                int8_t defunc_0_reduce_res_179439;
                int64_t defunc_0_reduce_res_179440;
                float defunc_0_reduce_res_179441;
                
                if (x_182290) {
                    int8_t x_182298;
                    int64_t x_182299;
                    float x_182300;
                    int8_t redout_180800;
                    int64_t redout_180801;
                    float redout_180802;
                    
                    redout_180800 = index_concat_branch_179429;
                    redout_180801 = index_concat_branch_179430;
                    redout_180802 = index_concat_branch_179433;
                    for (int64_t i_180803 = 0; i_180803 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358; i_180803++) {
                        bool index_concat_cmp_181061 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, i_180803);
                        int8_t index_concat_branch_181065 = btoi_bool_i8(index_concat_cmp_181061);
                        int64_t index_concat_branch_181059;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181056 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t index_primexp_181109 = add64(index_concat_branch_179343, index_concat_i_181056);
                            
                            index_concat_branch_181059 = index_primexp_181109;
                        } else {
                            int64_t index_primexp_181111 = add64(index_concat_branch_179340, i_180803);
                            
                            index_concat_branch_181059 = index_primexp_181111;
                        }
                        
                        float index_concat_branch_181053;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181050 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t slice_181106 = slice_179396 + index_concat_i_181050;
                            float index_concat_181051 = ((float *) b_list_mem_181134.mem)[slice_181106];
                            
                            index_concat_branch_181053 = index_concat_181051;
                        } else {
                            int64_t slice_181107 = slice_179377 + i_180803;
                            float index_concat_181052 = ((float *) a_list_mem_181133.mem)[slice_181107];
                            
                            index_concat_branch_181053 = index_concat_181052;
                        }
                        
                        bool eq_x_y_181123 = redout_180800 == (int8_t) 1;
                        bool eq_x_zz_181124 = redout_180800 == (int8_t) 0;
                        bool p_and_eq_x_y_181125 = index_concat_cmp_181061 && eq_x_y_181123;
                        bool not_p_181126 = !index_concat_cmp_181061;
                        bool p_and_eq_x_y_181127 = eq_x_zz_181124 && not_p_181126;
                        bool cond_179451 = p_and_eq_x_y_181125 || p_and_eq_x_y_181127;
                        bool defunc_0_leq_res_t_res_179452 = sle64(redout_180801, index_concat_branch_181059);
                        bool defunc_0_leq_res_179453 = redout_180802 <= index_concat_branch_181053;
                        bool x_179454 = cond_179451 && defunc_0_leq_res_t_res_179452;
                        bool x_179455 = !cond_179451;
                        bool y_179456 = defunc_0_leq_res_179453 && x_179455;
                        bool defunc_0_leq_res_179457 = x_179454 || y_179456;
                        int8_t defunc_0_op_res_179458;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179458 = index_concat_branch_181065;
                        } else {
                            defunc_0_op_res_179458 = redout_180800;
                        }
                        
                        int64_t defunc_0_op_res_179459;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179459 = index_concat_branch_181059;
                        } else {
                            defunc_0_op_res_179459 = redout_180801;
                        }
                        
                        float defunc_0_op_res_179460;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179460 = index_concat_branch_181053;
                        } else {
                            defunc_0_op_res_179460 = redout_180802;
                        }
                        
                        int8_t redout_tmp_182592 = defunc_0_op_res_179458;
                        int64_t redout_tmp_182593 = defunc_0_op_res_179459;
                        float redout_tmp_182594 = defunc_0_op_res_179460;
                        
                        redout_180800 = redout_tmp_182592;
                        redout_180801 = redout_tmp_182593;
                        redout_180802 = redout_tmp_182594;
                    }
                    x_182298 = redout_180800;
                    x_182299 = redout_180801;
                    x_182300 = redout_180802;
                    defunc_0_reduce_res_179439 = x_182298;
                    defunc_0_reduce_res_179440 = x_182299;
                    defunc_0_reduce_res_179441 = x_182300;
                } else {
                    defunc_0_reduce_res_179439 = (int8_t) 0;
                    defunc_0_reduce_res_179440 = (int64_t) 0;
                    defunc_0_reduce_res_179441 = 0.0F;
                }
                
                int64_t distance_179475 = add64((int64_t) 1, tmp_179473);
                int64_t binop_x_181555 = (int64_t) 8 * smallest_pow_2_geq_than_res_179409;
                int64_t bytes_181556 = block_sizze_179419 * binop_x_181555;
                int64_t binop_x_181558 = (int64_t) 4 * smallest_pow_2_geq_than_res_179409;
                int64_t bytes_181559 = block_sizze_179419 * binop_x_181558;
                int64_t bytes_181574 = (int64_t) 8 * block_sizze_179419;
                int64_t bytes_181576 = (int64_t) 4 * block_sizze_179419;
                bool loop_cond_179601 = slt64(block_sizze_179419, flat_dim_179420);
                bool zzero_179602 = merge_block_sizze_179425 == (int64_t) 0;
                bool nonzzero_179603 = !zzero_179602;
                
                if (cond_179403) {
                    if (memblock_set(ctx, &ext_mem_181847, &mem_181548, "mem_181548") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &mem_181550, "mem_181550") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &mem_181552, "mem_181552") != 0)
                        return 1;
                } else {
                    if (mem_181554_cached_sizze_182951 < flat_dim_179420) {
                        err = lexical_realloc(ctx, &mem_181554, &mem_181554_cached_sizze_182951, flat_dim_179420);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181557_cached_sizze_182952 < bytes_181556) {
                        err = lexical_realloc(ctx, &mem_181557, &mem_181557_cached_sizze_182952, bytes_181556);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181560_cached_sizze_182953 < bytes_181559) {
                        err = lexical_realloc(ctx, &mem_181560, &mem_181560_cached_sizze_182953, bytes_181559);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181573_cached_sizze_182954 < block_sizze_179419) {
                        err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_182954, block_sizze_179419);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181575_cached_sizze_182955 < bytes_181574) {
                        err = lexical_realloc(ctx, &mem_181575, &mem_181575_cached_sizze_182955, bytes_181574);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181577_cached_sizze_182956 < bytes_181576) {
                        err = lexical_realloc(ctx, &mem_181577, &mem_181577_cached_sizze_182956, bytes_181576);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180820 = 0; i_180820 < smallest_pow_2_geq_than_res_179409; i_180820++) {
                        int64_t zp_lhs_179483 = mul64(block_sizze_179419, i_180820);
                        
                        for (int64_t i_180810 = 0; i_180810 < block_sizze_179419; i_180810++) {
                            int64_t k_179488 = add64(zp_lhs_179483, i_180810);
                            bool cond_179489 = slt64(k_179488, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                            int8_t lifted_lambda_res_179490;
                            int64_t lifted_lambda_res_179491;
                            float lifted_lambda_res_179492;
                            
                            if (cond_179489) {
                                bool x_179493 = sle64((int64_t) 0, k_179488);
                                bool bounds_check_179494 = cond_179489 && x_179493;
                                bool index_certs_179495;
                                
                                if (!bounds_check_179494) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179488, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179496 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, k_179488);
                                int8_t index_concat_branch_179497 = btoi_bool_i8(index_concat_cmp_179496);
                                int64_t index_concat_branch_179498;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179499 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t index_primexp_179500 = add64(index_concat_branch_179343, index_concat_i_179499);
                                    
                                    index_concat_branch_179498 = index_primexp_179500;
                                } else {
                                    int64_t index_primexp_179501 = add64(index_concat_branch_179340, k_179488);
                                    
                                    index_concat_branch_179498 = index_primexp_179501;
                                }
                                
                                float index_concat_branch_179502;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179503 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t slice_179504 = index_concat_branch_179343 + index_concat_i_179503;
                                    int64_t slice_179505 = p_175644 + slice_179504;
                                    float index_concat_179506 = ((float *) b_list_mem_181134.mem)[slice_179505];
                                    
                                    index_concat_branch_179502 = index_concat_179506;
                                } else {
                                    int64_t slice_179507 = index_concat_branch_179340 + k_179488;
                                    int64_t slice_179508 = p_175643 + slice_179507;
                                    float index_concat_179509 = ((float *) a_list_mem_181133.mem)[slice_179508];
                                    
                                    index_concat_branch_179502 = index_concat_179509;
                                }
                                lifted_lambda_res_179490 = index_concat_branch_179497;
                                lifted_lambda_res_179491 = index_concat_branch_179498;
                                lifted_lambda_res_179492 = index_concat_branch_179502;
                            } else {
                                lifted_lambda_res_179490 = defunc_0_reduce_res_179439;
                                lifted_lambda_res_179491 = defunc_0_reduce_res_179440;
                                lifted_lambda_res_179492 = defunc_0_reduce_res_179441;
                            }
                            ((int8_t *) mem_181573)[i_180810] = lifted_lambda_res_179490;
                            ((int64_t *) mem_181575)[i_180810] = lifted_lambda_res_179491;
                            ((float *) mem_181577)[i_180810] = lifted_lambda_res_179492;
                        }
                        if (!cond_179472) {
                            for (int64_t i_179519 = 0; i_179519 < distance_179475; i_179519++) {
                                int64_t gt_arg1_179523 = add64((int64_t) 1, i_179519);
                                bool x_179524 = sle64((int64_t) 0, gt_arg1_179523);
                                bool y_179525 = slt64(gt_arg1_179523, block_sizze_179419);
                                bool bounds_check_179526 = x_179524 && y_179525;
                                bool index_certs_179527;
                                
                                if (!bounds_check_179526) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179523, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179531 = slt64(i_179519, block_sizze_179419);
                                bool index_certs_179532;
                                
                                if (!y_179531) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179519, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179528 = ((int8_t *) mem_181573)[gt_arg1_179523];
                                int64_t gt_arg1_179529 = ((int64_t *) mem_181575)[gt_arg1_179523];
                                float gt_arg1_179530 = ((float *) mem_181577)[gt_arg1_179523];
                                int8_t gt_arg0_179533 = ((int8_t *) mem_181573)[i_179519];
                                int64_t gt_arg0_179534 = ((int64_t *) mem_181575)[i_179519];
                                float gt_arg0_179535 = ((float *) mem_181577)[i_179519];
                                bool cond_179536 = gt_arg0_179533 == gt_arg1_179528;
                                bool defunc_0_leq_res_t_res_179537 = sle64(gt_arg0_179534, gt_arg1_179529);
                                bool defunc_0_leq_res_179538 = gt_arg0_179535 <= gt_arg1_179530;
                                bool x_179539 = cond_179536 && defunc_0_leq_res_t_res_179537;
                                bool x_179540 = !cond_179536;
                                bool y_179541 = defunc_0_leq_res_179538 && x_179540;
                                bool defunc_0_leq_res_179542 = x_179539 || y_179541;
                                bool defunc_0_lifted_gt_res_179543 = !defunc_0_leq_res_179542;
                                bool s_179544;
                                int64_t s_179548;
                                bool loop_while_179549;
                                int64_t j_179553;
                                
                                loop_while_179549 = defunc_0_lifted_gt_res_179543;
                                j_179553 = i_179519;
                                while (loop_while_179549) {
                                    bool x_179554 = sle64((int64_t) 0, j_179553);
                                    bool y_179555 = slt64(j_179553, block_sizze_179419);
                                    bool bounds_check_179556 = x_179554 && y_179555;
                                    bool index_certs_179557;
                                    
                                    if (!bounds_check_179556) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179553, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179561 = add64((int64_t) 1, j_179553);
                                    bool x_179562 = sle64((int64_t) 0, copy_arg0_179561);
                                    bool y_179563 = slt64(copy_arg0_179561, block_sizze_179419);
                                    bool bounds_check_179564 = x_179562 && y_179563;
                                    bool index_certs_179565;
                                    
                                    if (!bounds_check_179564) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179561, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179558 = ((int8_t *) mem_181573)[j_179553];
                                    int64_t copy_arg0_179559 = ((int64_t *) mem_181575)[j_179553];
                                    float copy_arg0_179560 = ((float *) mem_181577)[j_179553];
                                    int8_t copy_arg0_179566 = ((int8_t *) mem_181573)[copy_arg0_179561];
                                    int64_t copy_arg0_179567 = ((int64_t *) mem_181575)[copy_arg0_179561];
                                    float copy_arg0_179568 = ((float *) mem_181577)[copy_arg0_179561];
                                    
                                    ((int8_t *) mem_181573)[j_179553] = copy_arg0_179566;
                                    ((int64_t *) mem_181575)[j_179553] = copy_arg0_179567;
                                    ((float *) mem_181577)[j_179553] = copy_arg0_179568;
                                    ((int8_t *) mem_181573)[copy_arg0_179561] = copy_arg0_179558;
                                    ((int64_t *) mem_181575)[copy_arg0_179561] = copy_arg0_179559;
                                    ((float *) mem_181577)[copy_arg0_179561] = copy_arg0_179560;
                                    
                                    int64_t tmp_179575 = sub64(j_179553, (int64_t) 1);
                                    bool cond_179576 = sle64((int64_t) 0, tmp_179575);
                                    bool loop_cond_179577;
                                    
                                    if (cond_179576) {
                                        bool y_179581 = slt64(tmp_179575, block_sizze_179419);
                                        bool bounds_check_179582 = cond_179576 && y_179581;
                                        bool index_certs_179583;
                                        
                                        if (!bounds_check_179582) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179575, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179578 = ((int8_t *) mem_181573)[j_179553];
                                        int64_t gt_arg1_179579 = ((int64_t *) mem_181575)[j_179553];
                                        float gt_arg1_179580 = ((float *) mem_181577)[j_179553];
                                        int8_t gt_arg0_179584 = ((int8_t *) mem_181573)[tmp_179575];
                                        int64_t gt_arg0_179585 = ((int64_t *) mem_181575)[tmp_179575];
                                        float gt_arg0_179586 = ((float *) mem_181577)[tmp_179575];
                                        bool cond_179587 = gt_arg0_179584 == gt_arg1_179578;
                                        bool defunc_0_leq_res_t_res_179588 = sle64(gt_arg0_179585, gt_arg1_179579);
                                        bool defunc_0_leq_res_179589 = gt_arg0_179586 <= gt_arg1_179580;
                                        bool x_179590 = cond_179587 && defunc_0_leq_res_t_res_179588;
                                        bool x_179591 = !cond_179587;
                                        bool y_179592 = defunc_0_leq_res_179589 && x_179591;
                                        bool defunc_0_leq_res_179593 = x_179590 || y_179592;
                                        bool defunc_0_lifted_gt_res_179594 = !defunc_0_leq_res_179593;
                                        
                                        loop_cond_179577 = defunc_0_lifted_gt_res_179594;
                                    } else {
                                        loop_cond_179577 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182604 = loop_cond_179577;
                                    int64_t j_tmp_182608 = tmp_179575;
                                    
                                    loop_while_179549 = loop_while_tmp_182604;
                                    j_179553 = j_tmp_182608;
                                }
                                s_179544 = loop_while_179549;
                                s_179548 = j_179553;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181554, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181557, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181575, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181560, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181577, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                    }
                    if (memblock_alloc(ctx, &mem_181654, flat_dim_179420, "mem_181654")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181654.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint8_t *) mem_181554, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181658, bytes_181556, "mem_181658")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181658.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint64_t *) mem_181557, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181662, bytes_181559, "mem_181662")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181662.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint32_t *) mem_181560, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    
                    int64_t data_179604;
                    bool data_179605;
                    int64_t data_179609;
                    int64_t loop_dz2084Uz2082U_179610;
                    bool loop_while_179611;
                    int64_t stride_179615;
                    
                    if (memblock_set(ctx, &mem_param_181666, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181669, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181672, &mem_181662, "mem_181662") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179610 = flat_dim_179420;
                    loop_while_179611 = loop_cond_179601;
                    stride_179615 = block_sizze_179419;
                    while (loop_while_179611) {
                        int64_t next_stride_179616 = mul64((int64_t) 2, stride_179615);
                        bool zzero_179617 = next_stride_179616 == (int64_t) 0;
                        bool nonzzero_179618 = !zzero_179617;
                        bool nonzzero_cert_179619;
                        
                        if (!nonzzero_179618) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179620 = sdiv64(flat_dim_179420, next_stride_179616);
                        bool bounds_invalid_upwards_179621 = slt64(num_merges_179620, (int64_t) 0);
                        bool valid_179622 = !bounds_invalid_upwards_179621;
                        bool range_valid_c_179623;
                        
                        if (!valid_179622) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179620, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:493:63-73\n   #6  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179625 = sub64(next_stride_179616, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179626 = sle64((int64_t) 0, m_179625);
                        bool cond_179628 = slt64(next_stride_179616, (int64_t) 10);
                        bool protect_assert_disj_179629 = nonzzero_179603 || cond_179628;
                        bool nonzzero_cert_179630;
                        
                        if (!protect_assert_disj_179629) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179631 = smod_safe64(next_stride_179616, merge_block_sizze_179425);
                        bool num_blocks_179632 = zeze_lhs_179631 == (int64_t) 0;
                        bool protect_assert_disj_179633 = cond_179628 || num_blocks_179632;
                        bool assert_c_179634;
                        
                        if (!protect_assert_disj_179633) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179635 = sdiv_safe64(next_stride_179616, merge_block_sizze_179425);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636 = add64((int64_t) 1, num_blocks_179635);
                        int64_t j_m_i_179637 = sub64(next_stride_179616, stride_179615);
                        int64_t flat_dim_179638 = merge_block_sizze_179425 * num_blocks_179635;
                        bool bounds_invalid_upwards_179639 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, (int64_t) 0);
                        bool empty_slice_179640 = j_m_i_179637 == (int64_t) 0;
                        int64_t m_179641 = sub64(j_m_i_179637, (int64_t) 1);
                        bool zzero_lte_i_179642 = sle64((int64_t) 0, stride_179615);
                        bool i_lte_j_179643 = sle64(stride_179615, next_stride_179616);
                        bool empty_slice_179644 = stride_179615 == (int64_t) 0;
                        int64_t m_179645 = sub64(stride_179615, (int64_t) 1);
                        bool bounds_invalid_upwards_179646 = slt64(num_blocks_179635, (int64_t) 0);
                        bool cond_179647 = slt64((int64_t) 0, stride_179615);
                        bool valid_179648 = !bounds_invalid_upwards_179639;
                        int64_t i_p_m_t_s_179649 = add64(stride_179615, m_179641);
                        bool zzero_leq_i_p_m_t_s_179650 = sle64((int64_t) 0, m_179645);
                        bool i_p_m_t_s_leq_w_179651 = slt64(m_179645, next_stride_179616);
                        bool valid_179652 = !bounds_invalid_upwards_179646;
                        bool i_p_m_t_s_leq_w_179653 = slt64(m_179625, flat_dim_179638);
                        bool y_179654 = slt64((int64_t) 0, j_m_i_179637);
                        bool protect_assert_disj_179655 = cond_179628 || valid_179648;
                        bool range_valid_c_179656;
                        
                        if (!protect_assert_disj_179655) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179657 = sle64((int64_t) 0, i_p_m_t_s_179649);
                        bool i_p_m_t_s_leq_w_179658 = slt64(i_p_m_t_s_179649, next_stride_179616);
                        bool y_179659 = zzero_leq_i_p_m_t_s_179650 && i_p_m_t_s_leq_w_179651;
                        bool protect_assert_disj_179660 = cond_179628 || valid_179652;
                        bool range_valid_c_179661;
                        
                        if (!protect_assert_disj_179660) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179635, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179662 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179653;
                        bool y_179663 = zzero_lte_i_179642 && i_p_m_t_s_leq_w_179658;
                        bool forwards_ok_179664 = zzero_lte_i_179642 && y_179659;
                        bool ok_or_empty_179665 = zzero_179617 || y_179662;
                        bool protect_assert_disj_179666 = cond_179647 || y_179654;
                        bool y_179667 = zzero_leq_i_p_m_t_s_179657 && y_179663;
                        bool ok_or_empty_179668 = empty_slice_179644 || forwards_ok_179664;
                        bool protect_assert_disj_179669 = cond_179628 || ok_or_empty_179665;
                        bool index_certs_179670;
                        
                        if (!protect_assert_disj_179669) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) flat_dim_179638, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179671 = !cond_179628;
                        bool protect_assert_disj_179672 = protect_assert_disj_179666 || loop_not_taken_179671;
                        bool index_certs_179673;
                        
                        if (!protect_assert_disj_179672) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179674 = i_lte_j_179643 && y_179667;
                        bool protect_assert_disj_179675 = cond_179628 || ok_or_empty_179668;
                        bool index_certs_179676;
                        
                        if (!protect_assert_disj_179675) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179677 = ok_or_empty_179668 || loop_not_taken_179671;
                        bool index_certs_179678;
                        
                        if (!protect_assert_disj_179677) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179679 = empty_slice_179640 || forwards_ok_179674;
                        bool protect_assert_disj_179680 = cond_179628 || ok_or_empty_179679;
                        bool index_certs_179681;
                        
                        if (!protect_assert_disj_179680) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179682 = loop_not_taken_179671 || ok_or_empty_179679;
                        bool index_certs_179683;
                        
                        if (!protect_assert_disj_179682) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181673 = next_stride_179616 * num_merges_179620;
                        int64_t binop_x_181675 = (int64_t) 8 * num_merges_179620;
                        int64_t bytes_181676 = next_stride_179616 * binop_x_181675;
                        int64_t binop_x_181678 = (int64_t) 4 * num_merges_179620;
                        int64_t bytes_181679 = next_stride_179616 * binop_x_181678;
                        bool i_lte_j_179627 = sle64((int64_t) 0, next_stride_179616);
                        
                        if (mem_181674_cached_sizze_182957 < bytes_181673) {
                            err = lexical_realloc(ctx, &mem_181674, &mem_181674_cached_sizze_182957, bytes_181673);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181677_cached_sizze_182958 < bytes_181676) {
                            err = lexical_realloc(ctx, &mem_181677, &mem_181677_cached_sizze_182958, bytes_181676);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181680_cached_sizze_182959 < bytes_181679) {
                            err = lexical_realloc(ctx, &mem_181680, &mem_181680_cached_sizze_182959, bytes_181679);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181693 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636;
                        int64_t binop_x_181711 = (int64_t) 8 * num_blocks_179635;
                        int64_t bytes_181712 = merge_block_sizze_179425 * binop_x_181711;
                        int64_t binop_x_181714 = (int64_t) 4 * num_blocks_179635;
                        int64_t bytes_181715 = merge_block_sizze_179425 * binop_x_181714;
                        int64_t bytes_181776 = (int64_t) 16 * stride_179615;
                        int64_t bytes_181778 = (int64_t) 8 * stride_179615;
                        
                        for (int64_t i_180847 = 0; i_180847 < num_merges_179620; i_180847++) {
                            int64_t start_179688 = mul64(next_stride_179616, i_180847);
                            int64_t j_m_i_179689 = sub64(loop_dz2084Uz2082U_179610, start_179688);
                            bool empty_slice_179690 = j_m_i_179689 == (int64_t) 0;
                            int64_t m_179691 = sub64(j_m_i_179689, (int64_t) 1);
                            int64_t i_p_m_t_s_179692 = add64(start_179688, m_179691);
                            bool zzero_leq_i_p_m_t_s_179693 = sle64((int64_t) 0, i_p_m_t_s_179692);
                            bool i_p_m_t_s_leq_w_179694 = slt64(i_p_m_t_s_179692, loop_dz2084Uz2082U_179610);
                            bool zzero_lte_i_179695 = sle64((int64_t) 0, start_179688);
                            bool i_lte_j_179696 = sle64(start_179688, loop_dz2084Uz2082U_179610);
                            bool y_179697 = i_p_m_t_s_leq_w_179694 && zzero_lte_i_179695;
                            bool y_179698 = zzero_leq_i_p_m_t_s_179693 && y_179697;
                            bool forwards_ok_179699 = i_lte_j_179696 && y_179698;
                            bool ok_or_empty_179700 = empty_slice_179690 || forwards_ok_179699;
                            bool index_certs_179701;
                            
                            if (!ok_or_empty_179700) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179688, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179610, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179702 = slt64(m_179625, j_m_i_179689);
                            bool y_179703 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179702;
                            bool forwards_ok_179704 = i_lte_j_179627 && y_179703;
                            bool ok_or_empty_179705 = zzero_179617 || forwards_ok_179704;
                            bool index_certs_179706;
                            
                            if (!ok_or_empty_179705) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) j_m_i_179689, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179628) {
                                int8_t dummy_179710;
                                int64_t dummy_179711;
                                float dummy_179712;
                                
                                if (cond_179647) {
                                    int8_t head_res_179713 = ((int8_t *) mem_param_181666.mem)[start_179688];
                                    int64_t head_res_179714 = ((int64_t *) mem_param_181669.mem)[start_179688];
                                    float head_res_179715 = ((float *) mem_param_181672.mem)[start_179688];
                                    
                                    dummy_179710 = head_res_179713;
                                    dummy_179711 = head_res_179714;
                                    dummy_179712 = head_res_179715;
                                } else {
                                    int64_t slice_179716 = stride_179615 + start_179688;
                                    int8_t head_res_179717 = ((int8_t *) mem_param_181666.mem)[slice_179716];
                                    int64_t head_res_179718 = ((int64_t *) mem_param_181669.mem)[slice_179716];
                                    float head_res_179719 = ((float *) mem_param_181672.mem)[slice_179716];
                                    
                                    dummy_179710 = head_res_179717;
                                    dummy_179711 = head_res_179718;
                                    dummy_179712 = head_res_179719;
                                }
                                if (memblock_alloc(ctx, &mem_181775, next_stride_179616, "mem_181775")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182621 = 0; nest_i_182621 < next_stride_179616; nest_i_182621++) {
                                    ((int8_t *) mem_181775.mem)[nest_i_182621] = dummy_179710;
                                }
                                if (memblock_alloc(ctx, &mem_181777, bytes_181776, "mem_181777")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182622 = 0; nest_i_182622 < next_stride_179616; nest_i_182622++) {
                                    ((int64_t *) mem_181777.mem)[nest_i_182622] = dummy_179711;
                                }
                                if (memblock_alloc(ctx, &mem_181779, bytes_181778, "mem_181779")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182623 = 0; nest_i_182623 < next_stride_179616; nest_i_182623++) {
                                    ((float *) mem_181779.mem)[nest_i_182623] = dummy_179712;
                                }
                                
                                int64_t data_179723;
                                int64_t i_179728 = (int64_t) 0;
                                
                                for (int64_t k_179727 = 0; k_179727 < next_stride_179616; k_179727++) {
                                    int64_t j_179732 = sub64(k_179727, i_179728);
                                    bool cond_179733 = j_179732 == j_m_i_179637;
                                    bool cond_179734;
                                    
                                    if (cond_179733) {
                                        cond_179734 = 1;
                                    } else {
                                        bool cond_179735 = slt64(i_179728, stride_179615);
                                        bool cond_f_res_179736;
                                        
                                        if (cond_179735) {
                                            bool x_179737 = sle64((int64_t) 0, j_179732);
                                            bool y_179738 = slt64(j_179732, j_m_i_179637);
                                            bool bounds_check_179739 = x_179737 && y_179738;
                                            bool index_certs_179740;
                                            
                                            if (!bounds_check_179739) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179746 = sle64((int64_t) 0, i_179728);
                                            bool bounds_check_179747 = cond_179735 && x_179746;
                                            bool index_certs_179748;
                                            
                                            if (!bounds_check_179747) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179741 = stride_179615 + j_179732;
                                            int64_t slice_179742 = start_179688 + slice_179741;
                                            int8_t leq_arg1_179743 = ((int8_t *) mem_param_181666.mem)[slice_179742];
                                            int64_t leq_arg1_179744 = ((int64_t *) mem_param_181669.mem)[slice_179742];
                                            float leq_arg1_179745 = ((float *) mem_param_181672.mem)[slice_179742];
                                            int64_t slice_179749 = start_179688 + i_179728;
                                            int8_t leq_arg0_179750 = ((int8_t *) mem_param_181666.mem)[slice_179749];
                                            int64_t leq_arg0_179751 = ((int64_t *) mem_param_181669.mem)[slice_179749];
                                            float leq_arg0_179752 = ((float *) mem_param_181672.mem)[slice_179749];
                                            bool cond_179753 = leq_arg0_179750 == leq_arg1_179743;
                                            bool defunc_0_leq_res_t_res_179754 = sle64(leq_arg0_179751, leq_arg1_179744);
                                            bool defunc_0_leq_res_179755 = leq_arg0_179752 <= leq_arg1_179745;
                                            bool x_179756 = cond_179753 && defunc_0_leq_res_t_res_179754;
                                            bool x_179757 = !cond_179753;
                                            bool y_179758 = defunc_0_leq_res_179755 && x_179757;
                                            bool defunc_0_leq_res_179759 = x_179756 || y_179758;
                                            
                                            cond_f_res_179736 = defunc_0_leq_res_179759;
                                        } else {
                                            cond_f_res_179736 = 0;
                                        }
                                        cond_179734 = cond_f_res_179736;
                                    }
                                    
                                    int64_t loopres_179760;
                                    int8_t loopres_179761;
                                    int64_t loopres_179762;
                                    float loopres_179763;
                                    
                                    if (cond_179734) {
                                        bool x_179765 = sle64((int64_t) 0, i_179728);
                                        bool y_179766 = slt64(i_179728, stride_179615);
                                        bool bounds_check_179767 = x_179765 && y_179766;
                                        bool index_certs_179768;
                                        
                                        if (!bounds_check_179767) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179764 = add64((int64_t) 1, i_179728);
                                        int64_t slice_179769 = start_179688 + i_179728;
                                        int8_t tmp_179770 = ((int8_t *) mem_param_181666.mem)[slice_179769];
                                        int64_t tmp_179771 = ((int64_t *) mem_param_181669.mem)[slice_179769];
                                        float tmp_179772 = ((float *) mem_param_181672.mem)[slice_179769];
                                        
                                        loopres_179760 = tmp_179764;
                                        loopres_179761 = tmp_179770;
                                        loopres_179762 = tmp_179771;
                                        loopres_179763 = tmp_179772;
                                    } else {
                                        bool x_179773 = sle64((int64_t) 0, j_179732);
                                        bool y_179774 = slt64(j_179732, j_m_i_179637);
                                        bool bounds_check_179775 = x_179773 && y_179774;
                                        bool index_certs_179776;
                                        
                                        if (!bounds_check_179775) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179777 = stride_179615 + j_179732;
                                        int64_t slice_179778 = start_179688 + slice_179777;
                                        int8_t tmp_179779 = ((int8_t *) mem_param_181666.mem)[slice_179778];
                                        int64_t tmp_179780 = ((int64_t *) mem_param_181669.mem)[slice_179778];
                                        float tmp_179781 = ((float *) mem_param_181672.mem)[slice_179778];
                                        
                                        loopres_179760 = i_179728;
                                        loopres_179761 = tmp_179779;
                                        loopres_179762 = tmp_179780;
                                        loopres_179763 = tmp_179781;
                                    }
                                    ((int8_t *) mem_181775.mem)[k_179727] = loopres_179761;
                                    ((int64_t *) mem_181777.mem)[k_179727] = loopres_179762;
                                    ((float *) mem_181779.mem)[k_179727] = loopres_179763;
                                    
                                    int64_t i_tmp_182624 = loopres_179760;
                                    
                                    i_179728 = i_tmp_182624;
                                }
                                data_179723 = i_179728;
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181775, "mem_181775") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181777, "mem_181777") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181779, "mem_181779") != 0)
                                    return 1;
                            } else {
                                if (mem_181694_cached_sizze_182960 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181694, &mem_181694_cached_sizze_182960, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181696_cached_sizze_182961 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181696, &mem_181696_cached_sizze_182961, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180828 = 0; i_180828 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636; i_180828++) {
                                    int64_t split_count_arg3_179789 = mul64(merge_block_sizze_179425, i_180828);
                                    int64_t defunc_0_split_count_res_179790;
                                    int64_t defunc_0_split_count_res_179791;
                                    int64_t defunc_0_split_count_res_179792;
                                    int64_t defunc_0_split_count_res_179793;
                                    int64_t defunc_0_split_count_res_179794;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_179790, &defunc_0_split_count_res_179791, &defunc_0_split_count_res_179792, &defunc_0_split_count_res_179793, &defunc_0_split_count_res_179794, (int64_t) 0, stride_179615, (int64_t) 0, j_m_i_179637, split_count_arg3_179789) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179795 = slt64((int64_t) 0, defunc_0_split_count_res_179794);
                                    bool defunc_0_split_count_res_179796;
                                    int64_t defunc_0_split_count_res_179797;
                                    int64_t defunc_0_split_count_res_179798;
                                    int64_t defunc_0_split_count_res_179799;
                                    int64_t defunc_0_split_count_res_179800;
                                    int64_t defunc_0_split_count_res_179801;
                                    bool loop_while_179802;
                                    int64_t ss_179803;
                                    int64_t ss_179804;
                                    int64_t tt_179805;
                                    int64_t tt_179806;
                                    int64_t count_179807;
                                    
                                    loop_while_179802 = loop_cond_179795;
                                    ss_179803 = defunc_0_split_count_res_179790;
                                    ss_179804 = defunc_0_split_count_res_179791;
                                    tt_179805 = defunc_0_split_count_res_179792;
                                    tt_179806 = defunc_0_split_count_res_179793;
                                    count_179807 = defunc_0_split_count_res_179794;
                                    while (loop_while_179802) {
                                        int64_t zlze_lhs_179808 = sub64(ss_179804, ss_179803);
                                        bool cond_179809 = sle64(zlze_lhs_179808, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179810;
                                        int64_t defunc_0_lifted_step_res_179811;
                                        int64_t defunc_0_lifted_step_res_179812;
                                        int64_t defunc_0_lifted_step_res_179813;
                                        
                                        if (cond_179809) {
                                            int64_t tmp_179814 = add64(tt_179805, count_179807);
                                            
                                            defunc_0_lifted_step_res_179810 = ss_179803;
                                            defunc_0_lifted_step_res_179811 = tmp_179814;
                                            defunc_0_lifted_step_res_179812 = tt_179806;
                                            defunc_0_lifted_step_res_179813 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179815 = sub64(tt_179806, tt_179805);
                                            bool cond_179816 = sle64(zlze_lhs_179815, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179817;
                                            int64_t defunc_0_lifted_step_res_f_res_179818;
                                            int64_t defunc_0_lifted_step_res_f_res_179819;
                                            int64_t defunc_0_lifted_step_res_f_res_179820;
                                            
                                            if (cond_179816) {
                                                int64_t tmp_179821 = add64(ss_179803, count_179807);
                                                
                                                defunc_0_lifted_step_res_f_res_179817 = tmp_179821;
                                                defunc_0_lifted_step_res_f_res_179818 = tt_179805;
                                                defunc_0_lifted_step_res_f_res_179819 = tt_179806;
                                                defunc_0_lifted_step_res_f_res_179820 = (int64_t) 0;
                                            } else {
                                                bool cond_179822 = count_179807 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179823;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179824;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179825;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179826;
                                                
                                                if (cond_179822) {
                                                    bool x_179827 = sle64((int64_t) 0, ss_179803);
                                                    bool y_179828 = slt64(ss_179803, stride_179615);
                                                    bool bounds_check_179829 = x_179827 && y_179828;
                                                    bool index_certs_179830;
                                                    
                                                    if (!bounds_check_179829) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179803, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:493:63-73\n   #13 ftsort.fut:486:1-493:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179835 = sle64((int64_t) 0, tt_179805);
                                                    bool y_179836 = slt64(tt_179805, j_m_i_179637);
                                                    bool bounds_check_179837 = x_179835 && y_179836;
                                                    bool index_certs_179838;
                                                    
                                                    if (!bounds_check_179837) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179805, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:493:63-73\n   #13 ftsort.fut:486:1-493:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179831 = start_179688 + ss_179803;
                                                    int8_t leq_arg1_179832 = ((int8_t *) mem_param_181666.mem)[slice_179831];
                                                    int64_t leq_arg1_179833 = ((int64_t *) mem_param_181669.mem)[slice_179831];
                                                    float leq_arg1_179834 = ((float *) mem_param_181672.mem)[slice_179831];
                                                    int64_t slice_179839 = stride_179615 + tt_179805;
                                                    int64_t slice_179840 = start_179688 + slice_179839;
                                                    int8_t leq_arg0_179841 = ((int8_t *) mem_param_181666.mem)[slice_179840];
                                                    int64_t leq_arg0_179842 = ((int64_t *) mem_param_181669.mem)[slice_179840];
                                                    float leq_arg0_179843 = ((float *) mem_param_181672.mem)[slice_179840];
                                                    bool cond_179844 = leq_arg0_179841 == leq_arg1_179832;
                                                    bool defunc_0_leq_res_t_res_179845 = sle64(leq_arg0_179842, leq_arg1_179833);
                                                    bool defunc_0_leq_res_179846 = leq_arg0_179843 <= leq_arg1_179834;
                                                    bool x_179847 = cond_179844 && defunc_0_leq_res_t_res_179845;
                                                    bool x_179848 = !cond_179844;
                                                    bool y_179849 = defunc_0_leq_res_179846 && x_179848;
                                                    bool defunc_0_leq_res_179850 = x_179847 || y_179849;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    
                                                    if (defunc_0_leq_res_179850) {
                                                        int64_t tmp_179853 = add64((int64_t) 1, tt_179805);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = ss_179803;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tmp_179853;
                                                    } else {
                                                        int64_t tmp_179854 = add64((int64_t) 1, ss_179803);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = tmp_179854;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tt_179805;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = tt_179806;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179855 = sdiv64(count_179807, (int64_t) 2);
                                                    int64_t n_179856 = sub64(count_179807, m_179855);
                                                    bool cond_179857 = n_179856 == (int64_t) 0;
                                                    int64_t zgze_lhs_179858 = add64(ss_179803, m_179855);
                                                    bool cond_f_res_179859 = sle64(ss_179804, zgze_lhs_179858);
                                                    bool x_179860 = !cond_179857;
                                                    bool y_179861 = cond_f_res_179859 && x_179860;
                                                    bool cond_179862 = cond_179857 || y_179861;
                                                    bool leq_y_x_179863;
                                                    
                                                    if (cond_179862) {
                                                        leq_y_x_179863 = 1;
                                                    } else {
                                                        bool x_179864 = sle64((int64_t) 0, zgze_lhs_179858);
                                                        bool y_179865 = slt64(zgze_lhs_179858, stride_179615);
                                                        bool bounds_check_179866 = x_179864 && y_179865;
                                                        bool index_certs_179867;
                                                        
                                                        if (!bounds_check_179866) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179858, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:493:63-73\n   #13 ftsort.fut:486:1-493:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179872 = add64(tt_179805, n_179856);
                                                        int64_t leq_arg0_179873 = sub64(zm_lhs_179872, (int64_t) 1);
                                                        bool x_179874 = sle64((int64_t) 0, leq_arg0_179873);
                                                        bool y_179875 = slt64(leq_arg0_179873, j_m_i_179637);
                                                        bool bounds_check_179876 = x_179874 && y_179875;
                                                        bool index_certs_179877;
                                                        
                                                        if (!bounds_check_179876) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179873, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:493:63-73\n   #13 ftsort.fut:486:1-493:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179868 = start_179688 + zgze_lhs_179858;
                                                        int8_t leq_arg1_179869 = ((int8_t *) mem_param_181666.mem)[slice_179868];
                                                        int64_t leq_arg1_179870 = ((int64_t *) mem_param_181669.mem)[slice_179868];
                                                        float leq_arg1_179871 = ((float *) mem_param_181672.mem)[slice_179868];
                                                        int64_t slice_179878 = stride_179615 + leq_arg0_179873;
                                                        int64_t slice_179879 = start_179688 + slice_179878;
                                                        int8_t leq_arg0_179880 = ((int8_t *) mem_param_181666.mem)[slice_179879];
                                                        int64_t leq_arg0_179881 = ((int64_t *) mem_param_181669.mem)[slice_179879];
                                                        float leq_arg0_179882 = ((float *) mem_param_181672.mem)[slice_179879];
                                                        bool cond_179883 = leq_arg0_179880 == leq_arg1_179869;
                                                        bool defunc_0_leq_res_t_res_179884 = sle64(leq_arg0_179881, leq_arg1_179870);
                                                        bool defunc_0_leq_res_179885 = leq_arg0_179882 <= leq_arg1_179871;
                                                        bool x_179886 = cond_179883 && defunc_0_leq_res_t_res_179884;
                                                        bool x_179887 = !cond_179883;
                                                        bool y_179888 = defunc_0_leq_res_179885 && x_179887;
                                                        bool defunc_0_leq_res_179889 = x_179886 || y_179888;
                                                        
                                                        leq_y_x_179863 = defunc_0_leq_res_179889;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                    
                                                    if (leq_y_x_179863) {
                                                        int64_t tmp_179893 = add64(tt_179805, n_179856);
                                                        int64_t tmp_179894 = sub64(count_179807, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tmp_179893;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tt_179806;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = tmp_179894;
                                                    } else {
                                                        int64_t tmp_179895 = add64(tt_179805, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tt_179805;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tmp_179895;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = count_179807;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = ss_179803;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                }
                                                defunc_0_lifted_step_res_f_res_179817 = defunc_0_lifted_step_res_f_res_f_res_179823;
                                                defunc_0_lifted_step_res_f_res_179818 = defunc_0_lifted_step_res_f_res_f_res_179824;
                                                defunc_0_lifted_step_res_f_res_179819 = defunc_0_lifted_step_res_f_res_f_res_179825;
                                                defunc_0_lifted_step_res_f_res_179820 = defunc_0_lifted_step_res_f_res_f_res_179826;
                                            }
                                            defunc_0_lifted_step_res_179810 = defunc_0_lifted_step_res_f_res_179817;
                                            defunc_0_lifted_step_res_179811 = defunc_0_lifted_step_res_f_res_179818;
                                            defunc_0_lifted_step_res_179812 = defunc_0_lifted_step_res_f_res_179819;
                                            defunc_0_lifted_step_res_179813 = defunc_0_lifted_step_res_f_res_179820;
                                        }
                                        
                                        int64_t loopres_179896;
                                        int64_t loopres_179897;
                                        int64_t loopres_179898;
                                        int64_t loopres_179899;
                                        int64_t loopres_179900;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_179896, &loopres_179897, &loopres_179898, &loopres_179899, &loopres_179900, defunc_0_lifted_step_res_179810, ss_179804, defunc_0_lifted_step_res_179811, defunc_0_lifted_step_res_179812, defunc_0_lifted_step_res_179813) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179901 = slt64((int64_t) 0, loopres_179900);
                                        bool loop_while_tmp_182630 = loop_cond_179901;
                                        int64_t ss_tmp_182631 = loopres_179896;
                                        int64_t ss_tmp_182632 = loopres_179897;
                                        int64_t tt_tmp_182633 = loopres_179898;
                                        int64_t tt_tmp_182634 = loopres_179899;
                                        int64_t count_tmp_182635 = loopres_179900;
                                        
                                        loop_while_179802 = loop_while_tmp_182630;
                                        ss_179803 = ss_tmp_182631;
                                        ss_179804 = ss_tmp_182632;
                                        tt_179805 = tt_tmp_182633;
                                        tt_179806 = tt_tmp_182634;
                                        count_179807 = count_tmp_182635;
                                    }
                                    defunc_0_split_count_res_179796 = loop_while_179802;
                                    defunc_0_split_count_res_179797 = ss_179803;
                                    defunc_0_split_count_res_179798 = ss_179804;
                                    defunc_0_split_count_res_179799 = tt_179805;
                                    defunc_0_split_count_res_179800 = tt_179806;
                                    defunc_0_split_count_res_179801 = count_179807;
                                    ((int64_t *) mem_181694)[i_180828] = defunc_0_split_count_res_179797;
                                    ((int64_t *) mem_181696)[i_180828] = defunc_0_split_count_res_179799;
                                }
                                if (mem_181710_cached_sizze_182962 < flat_dim_179638) {
                                    err = lexical_realloc(ctx, &mem_181710, &mem_181710_cached_sizze_182962, flat_dim_179638);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181713_cached_sizze_182963 < bytes_181712) {
                                    err = lexical_realloc(ctx, &mem_181713, &mem_181713_cached_sizze_182963, bytes_181712);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181716_cached_sizze_182964 < bytes_181715) {
                                    err = lexical_realloc(ctx, &mem_181716, &mem_181716_cached_sizze_182964, bytes_181715);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180837 = 0; i_180837 < num_blocks_179635; i_180837++) {
                                    bool y_179910 = slt64(i_180837, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool index_certs_179912;
                                    
                                    if (!y_179910) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179913 = ((int64_t *) mem_181694)[i_180837];
                                    int64_t defunc_0_f_res_179914 = ((int64_t *) mem_181696)[i_180837];
                                    int64_t tmp_179915 = add64((int64_t) 1, i_180837);
                                    bool x_179916 = sle64((int64_t) 0, tmp_179915);
                                    bool y_179917 = slt64(tmp_179915, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool bounds_check_179918 = x_179916 && y_179917;
                                    bool index_certs_179919;
                                    
                                    if (!bounds_check_179918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179915, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179920 = ((int64_t *) mem_181694)[tmp_179915];
                                    int64_t defunc_0_f_res_179921 = ((int64_t *) mem_181696)[tmp_179915];
                                    int64_t merge_sequential_arg2_179922 = add64(stride_179615, defunc_0_f_res_179914);
                                    int64_t merge_sequential_arg2_179923 = add64(stride_179615, defunc_0_f_res_179921);
                                    int64_t j_m_i_179924 = sub64(merge_sequential_arg2_179923, merge_sequential_arg2_179922);
                                    bool empty_slice_179925 = j_m_i_179924 == (int64_t) 0;
                                    int64_t m_179926 = sub64(j_m_i_179924, (int64_t) 1);
                                    int64_t i_p_m_t_s_179927 = add64(merge_sequential_arg2_179922, m_179926);
                                    bool zzero_leq_i_p_m_t_s_179928 = sle64((int64_t) 0, i_p_m_t_s_179927);
                                    bool i_p_m_t_s_leq_w_179929 = slt64(i_p_m_t_s_179927, next_stride_179616);
                                    bool zzero_lte_i_179930 = sle64((int64_t) 0, merge_sequential_arg2_179922);
                                    bool i_lte_j_179931 = sle64(merge_sequential_arg2_179922, merge_sequential_arg2_179923);
                                    bool y_179932 = i_p_m_t_s_leq_w_179929 && zzero_lte_i_179930;
                                    bool y_179933 = zzero_leq_i_p_m_t_s_179928 && y_179932;
                                    bool forwards_ok_179934 = i_lte_j_179931 && y_179933;
                                    bool ok_or_empty_179935 = empty_slice_179925 || forwards_ok_179934;
                                    bool index_certs_179936;
                                    
                                    if (!ok_or_empty_179935) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179922, ":", (long long) merge_sequential_arg2_179923, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179937 = sub64(defunc_0_f_res_179920, defunc_0_f_res_179913);
                                    bool empty_slice_179938 = j_m_i_179937 == (int64_t) 0;
                                    int64_t m_179939 = sub64(j_m_i_179937, (int64_t) 1);
                                    int64_t i_p_m_t_s_179940 = add64(defunc_0_f_res_179913, m_179939);
                                    bool zzero_leq_i_p_m_t_s_179941 = sle64((int64_t) 0, i_p_m_t_s_179940);
                                    bool i_p_m_t_s_leq_w_179942 = slt64(i_p_m_t_s_179940, next_stride_179616);
                                    bool zzero_lte_i_179943 = sle64((int64_t) 0, defunc_0_f_res_179913);
                                    bool i_lte_j_179944 = sle64(defunc_0_f_res_179913, defunc_0_f_res_179920);
                                    bool y_179945 = i_p_m_t_s_leq_w_179942 && zzero_lte_i_179943;
                                    bool y_179946 = zzero_leq_i_p_m_t_s_179941 && y_179945;
                                    bool forwards_ok_179947 = i_lte_j_179944 && y_179946;
                                    bool ok_or_empty_179948 = empty_slice_179938 || forwards_ok_179947;
                                    bool index_certs_179949;
                                    
                                    if (!ok_or_empty_179948) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179913, ":", (long long) defunc_0_f_res_179920, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179950 = slt64((int64_t) 0, j_m_i_179937);
                                    int8_t dummy_179951;
                                    int64_t dummy_179952;
                                    float dummy_179953;
                                    
                                    if (cond_179950) {
                                        bool index_certs_179954;
                                        
                                        if (!cond_179950) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179955 = start_179688 + defunc_0_f_res_179913;
                                        int8_t head_res_179956 = ((int8_t *) mem_param_181666.mem)[slice_179955];
                                        int64_t head_res_179957 = ((int64_t *) mem_param_181669.mem)[slice_179955];
                                        float head_res_179958 = ((float *) mem_param_181672.mem)[slice_179955];
                                        
                                        dummy_179951 = head_res_179956;
                                        dummy_179952 = head_res_179957;
                                        dummy_179953 = head_res_179958;
                                    } else {
                                        bool y_179959 = slt64((int64_t) 0, j_m_i_179924);
                                        bool index_certs_179960;
                                        
                                        if (!y_179959) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179961 = start_179688 + merge_sequential_arg2_179922;
                                        int8_t head_res_179962 = ((int8_t *) mem_param_181666.mem)[slice_179961];
                                        int64_t head_res_179963 = ((int64_t *) mem_param_181669.mem)[slice_179961];
                                        float head_res_179964 = ((float *) mem_param_181672.mem)[slice_179961];
                                        
                                        dummy_179951 = head_res_179962;
                                        dummy_179952 = head_res_179963;
                                        dummy_179953 = head_res_179964;
                                    }
                                    for (int64_t nest_i_182639 = 0; nest_i_182639 < merge_block_sizze_179425; nest_i_182639++) {
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + nest_i_182639] = dummy_179951;
                                    }
                                    for (int64_t nest_i_182640 = 0; nest_i_182640 < merge_block_sizze_179425; nest_i_182640++) {
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + nest_i_182640] = dummy_179952;
                                    }
                                    for (int64_t nest_i_182641 = 0; nest_i_182641 < merge_block_sizze_179425; nest_i_182641++) {
                                        ((float *) mem_181716)[i_180837 * merge_block_sizze_179425 + nest_i_182641] = dummy_179953;
                                    }
                                    
                                    int64_t data_179968;
                                    int64_t i_179973 = (int64_t) 0;
                                    
                                    for (int64_t k_179972 = 0; k_179972 < merge_block_sizze_179425; k_179972++) {
                                        int64_t j_179977 = sub64(k_179972, i_179973);
                                        bool cond_179978 = j_179977 == j_m_i_179924;
                                        bool cond_179979;
                                        
                                        if (cond_179978) {
                                            cond_179979 = 1;
                                        } else {
                                            bool cond_179980 = slt64(i_179973, j_m_i_179937);
                                            bool cond_f_res_179981;
                                            
                                            if (cond_179980) {
                                                bool x_179982 = sle64((int64_t) 0, j_179977);
                                                bool y_179983 = slt64(j_179977, j_m_i_179924);
                                                bool bounds_check_179984 = x_179982 && y_179983;
                                                bool index_certs_179985;
                                                
                                                if (!bounds_check_179984) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179991 = sle64((int64_t) 0, i_179973);
                                                bool bounds_check_179992 = cond_179980 && x_179991;
                                                bool index_certs_179993;
                                                
                                                if (!bounds_check_179992) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179986 = merge_sequential_arg2_179922 + j_179977;
                                                int64_t slice_179987 = start_179688 + slice_179986;
                                                int8_t leq_arg1_179988 = ((int8_t *) mem_param_181666.mem)[slice_179987];
                                                int64_t leq_arg1_179989 = ((int64_t *) mem_param_181669.mem)[slice_179987];
                                                float leq_arg1_179990 = ((float *) mem_param_181672.mem)[slice_179987];
                                                int64_t slice_179994 = defunc_0_f_res_179913 + i_179973;
                                                int64_t slice_179995 = start_179688 + slice_179994;
                                                int8_t leq_arg0_179996 = ((int8_t *) mem_param_181666.mem)[slice_179995];
                                                int64_t leq_arg0_179997 = ((int64_t *) mem_param_181669.mem)[slice_179995];
                                                float leq_arg0_179998 = ((float *) mem_param_181672.mem)[slice_179995];
                                                bool cond_179999 = leq_arg0_179996 == leq_arg1_179988;
                                                bool defunc_0_leq_res_t_res_180000 = sle64(leq_arg0_179997, leq_arg1_179989);
                                                bool defunc_0_leq_res_180001 = leq_arg0_179998 <= leq_arg1_179990;
                                                bool x_180002 = cond_179999 && defunc_0_leq_res_t_res_180000;
                                                bool x_180003 = !cond_179999;
                                                bool y_180004 = defunc_0_leq_res_180001 && x_180003;
                                                bool defunc_0_leq_res_180005 = x_180002 || y_180004;
                                                
                                                cond_f_res_179981 = defunc_0_leq_res_180005;
                                            } else {
                                                cond_f_res_179981 = 0;
                                            }
                                            cond_179979 = cond_f_res_179981;
                                        }
                                        
                                        int64_t loopres_180006;
                                        int8_t loopres_180007;
                                        int64_t loopres_180008;
                                        float loopres_180009;
                                        
                                        if (cond_179979) {
                                            bool x_180011 = sle64((int64_t) 0, i_179973);
                                            bool y_180012 = slt64(i_179973, j_m_i_179937);
                                            bool bounds_check_180013 = x_180011 && y_180012;
                                            bool index_certs_180014;
                                            
                                            if (!bounds_check_180013) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180010 = add64((int64_t) 1, i_179973);
                                            int64_t slice_180015 = defunc_0_f_res_179913 + i_179973;
                                            int64_t slice_180016 = start_179688 + slice_180015;
                                            int8_t tmp_180017 = ((int8_t *) mem_param_181666.mem)[slice_180016];
                                            int64_t tmp_180018 = ((int64_t *) mem_param_181669.mem)[slice_180016];
                                            float tmp_180019 = ((float *) mem_param_181672.mem)[slice_180016];
                                            
                                            loopres_180006 = tmp_180010;
                                            loopres_180007 = tmp_180017;
                                            loopres_180008 = tmp_180018;
                                            loopres_180009 = tmp_180019;
                                        } else {
                                            bool x_180020 = sle64((int64_t) 0, j_179977);
                                            bool y_180021 = slt64(j_179977, j_m_i_179924);
                                            bool bounds_check_180022 = x_180020 && y_180021;
                                            bool index_certs_180023;
                                            
                                            if (!bounds_check_180022) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180024 = merge_sequential_arg2_179922 + j_179977;
                                            int64_t slice_180025 = start_179688 + slice_180024;
                                            int8_t tmp_180026 = ((int8_t *) mem_param_181666.mem)[slice_180025];
                                            int64_t tmp_180027 = ((int64_t *) mem_param_181669.mem)[slice_180025];
                                            float tmp_180028 = ((float *) mem_param_181672.mem)[slice_180025];
                                            
                                            loopres_180006 = i_179973;
                                            loopres_180007 = tmp_180026;
                                            loopres_180008 = tmp_180027;
                                            loopres_180009 = tmp_180028;
                                        }
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180007;
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180008;
                                        ((float *) mem_181716)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180009;
                                        
                                        int64_t i_tmp_182642 = loopres_180006;
                                        
                                        i_179973 = i_tmp_182642;
                                    }
                                    data_179968 = i_179973;
                                }
                                if (memblock_alloc(ctx, &mem_181765, flat_dim_179638, "mem_181765")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181765.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint8_t *) mem_181710, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181769, bytes_181712, "mem_181769")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181769.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint64_t *) mem_181713, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181773, bytes_181715, "mem_181773")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181773.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint32_t *) mem_181716, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181765, "mem_181765") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181769, "mem_181769") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181773, "mem_181773") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181674, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181806.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181677, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181803.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181680, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181800.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181820, bytes_181673, "mem_181820")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181820.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint8_t *) mem_181674, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181824, bytes_181676, "mem_181824")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181824.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint64_t *) mem_181677, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181828, bytes_181679, "mem_181828")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint32_t *) mem_181680, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        
                        bool loop_cond_180048 = slt64(next_stride_179616, flat_dim_179420);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182609, &mem_181820, "mem_181820") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182610, &mem_181824, "mem_181824") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182611, &mem_181828, "mem_181828") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182612 = bytes_181673;
                        bool loop_while_tmp_182613 = loop_cond_180048;
                        int64_t stride_tmp_182617 = next_stride_179616;
                        
                        if (memblock_set(ctx, &mem_param_181666, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181669, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181672, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179610 = loop_dz2084Uz2082U_tmp_182612;
                        loop_while_179611 = loop_while_tmp_182613;
                        stride_179615 = stride_tmp_182617;
                    }
                    if (memblock_set(ctx, &ext_mem_181838, &mem_param_181666, "mem_param_181666") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181837, &mem_param_181669, "mem_param_181669") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181836, &mem_param_181672, "mem_param_181672") != 0)
                        return 1;
                    data_179604 = loop_dz2084Uz2082U_179610;
                    data_179605 = loop_while_179611;
                    data_179609 = stride_179615;
                    if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
                        return 1;
                    
                    bool empty_slice_180049 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180050 = sle64((int64_t) 0, zs_lhs_179404);
                    bool i_p_m_t_s_leq_w_180051 = slt64(zs_lhs_179404, data_179604);
                    bool y_180052 = zzero_leq_i_p_m_t_s_180050 && i_p_m_t_s_leq_w_180051;
                    bool ok_or_empty_180053 = empty_slice_180049 || y_180052;
                    bool index_certs_180054;
                    
                    if (!ok_or_empty_180053) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] out of bounds for array of shape [", (long long) data_179604, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:493:63-73\n   #6  ftsort.fut:486:1-493:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181847, &ext_mem_181838, "ext_mem_181838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &ext_mem_181837, "ext_mem_181837") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &ext_mem_181836, "ext_mem_181836") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181514, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181847.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181517, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181844.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181520, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181841.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
                    return 1;
                for (int64_t i_180853 = 0; i_180853 < perThread_175681; i_180853++) {
                    int64_t lifted_lambda_res_180076 = add64(zm_rhs_179360, i_180853);
                    
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + i_180853] = lifted_lambda_res_180076;
                }
                
                bool cond_180078 = card_179361 == zp_rhs_175680;
                
                if (cond_180078) {
                    bool y_180080 = slt64(card_179361, perThread_175681);
                    bool index_certs_180081;
                    
                    if (!y_180080) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:385:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:493:63-73\n   #3  ftsort.fut:486:1-493:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + card_179361] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181873, bytes_181168, "mem_181873")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182647 = 0; nest_i_182647 < window_sizze_152856; nest_i_182647++) {
                ((float *) mem_181873.mem)[nest_i_182647] = 0.0F;
            }
            if (memblock_alloc(ctx, &mem_181875, bytes_181166, "mem_181875")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182648 = 0; nest_i_182648 < window_sizze_152856; nest_i_182648++) {
                ((int64_t *) mem_181875.mem)[nest_i_182648] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181876, window_sizze_152856, "mem_181876")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182649 = 0; nest_i_182649 < window_sizze_152856; nest_i_182649++) {
                ((int8_t *) mem_181876.mem)[nest_i_182649] = (int8_t) -1;
            }
            for (int64_t write_iter_180868 = 0; write_iter_180868 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682; write_iter_180868++) {
                int64_t new_index_181020 = squot64(write_iter_180868, perThread_175681);
                int64_t binop_y_181022 = perThread_175681 * new_index_181020;
                int64_t new_index_181023 = write_iter_180868 - binop_y_181022;
                int64_t write_iv_180872 = ((int64_t *) mem_181512)[new_index_181020 * perThread_175681 + new_index_181023];
                int8_t write_iv_180873 = ((int8_t *) mem_181514)[new_index_181020 * perThread_175681 + new_index_181023];
                int64_t write_iv_180874 = ((int64_t *) mem_181517)[new_index_181020 * perThread_175681 + new_index_181023];
                float write_iv_180875 = ((float *) mem_181520)[new_index_181020 * perThread_175681 + new_index_181023];
                
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_152856)) {
                    ((int8_t *) mem_181876.mem)[write_iv_180872] = write_iv_180873;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_152856)) {
                    ((int64_t *) mem_181875.mem)[write_iv_180872] = write_iv_180874;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_152856)) {
                    ((float *) mem_181873.mem)[write_iv_180872] = write_iv_180875;
                }
            }
            
            int64_t index_concat_branch_180104;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180105 = ((int64_t *) mem_181495)[index_concat_i_178445];
                
                index_concat_branch_180104 = index_concat_180105;
            } else {
                index_concat_branch_180104 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180106;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180107 = ((int64_t *) mem_181497)[index_concat_i_178445];
                
                index_concat_branch_180106 = index_concat_180107;
            } else {
                index_concat_branch_180106 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181876, "mem_181876") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181875, "mem_181875") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181873, "mem_181873") != 0)
                return 1;
            loopres_175671 = index_concat_branch_180104;
            loopres_175672 = index_concat_branch_180106;
        } else {
            float leq_lhs_176662 = ((float *) a_list_mem_181133.mem)[p_175643];
            float leq_rhs_176665 = ((float *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_176666 = leq_lhs_176662 <= leq_rhs_176665;
            float lowest_176667;
            
            if (defunc_0_leq_res_176666) {
                bool index_certs_180108;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:250:44-49\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_lhs_176662;
            } else {
                bool index_certs_176672;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:250:55-60\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_rhs_176665;
            }
            if (mem_181150_cached_sizze_182929 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_182929, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181152_cached_sizze_182930 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_182930, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180883 = 0; i_180883 < threads_152857; i_180883++) {
                int64_t index_primexp_181099 = add64((int64_t) 1, i_180883);
                int64_t zs_lhs_176688 = mul64(zt_rhs_176681, index_primexp_181099);
                int64_t index_176689 = sdiv64(zs_lhs_176688, partitionFunc_arg0_176658);
                bool cond_176690 = slt64(window_sizze_152856, index_176689);
                int64_t loop_over_176691;
                
                if (cond_176690) {
                    loop_over_176691 = window_sizze_152856;
                } else {
                    loop_over_176691 = index_176689;
                }
                
                int64_t loop_over_176692;
                
                if (cond_176690) {
                    int64_t loop_over_t_res_180109 = sub64(index_176689, window_sizze_152856);
                    
                    loop_over_176692 = loop_over_t_res_180109;
                } else {
                    loop_over_176692 = (int64_t) 0;
                }
                
                int64_t loop_over_176694;
                
                if (cond_176690) {
                    int64_t zm_lhs_180110 = sub64(index_176689, window_sizze_152856);
                    int64_t loop_over_t_res_180111 = sub64(zm_lhs_180110, (int64_t) 1);
                    
                    loop_over_176694 = loop_over_t_res_180111;
                } else {
                    loop_over_176694 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176697;
                int64_t defunc_0_f_res_176698;
                int64_t defunc_0_f_res_176699;
                int64_t defunc_0_f_res_176700;
                bool loop_while_176701;
                int64_t p_176702;
                int64_t p_176703;
                int64_t p_176704;
                
                loop_while_176701 = 1;
                p_176702 = loop_over_176694;
                p_176703 = loop_over_176691;
                p_176704 = loop_over_176692;
                while (loop_while_176701) {
                    int64_t zs_lhs_176705 = sub64(p_176703, p_176702);
                    int64_t offset_176706 = sdiv64(zs_lhs_176705, (int64_t) 2);
                    int64_t ai_176707 = sub64(p_176703, offset_176706);
                    int64_t max_arg1_176708 = add64(p_176704, offset_176706);
                    int64_t max_res_176709 = smax64((int64_t) 0, max_arg1_176708);
                    bool cond_176710 = slt64((int64_t) 0, max_res_176709);
                    float b_prev_176711;
                    
                    if (cond_176710) {
                        int64_t tmp_180112 = sub64(max_res_176709, (int64_t) 1);
                        bool x_180113 = sle64((int64_t) 0, tmp_180112);
                        bool y_180114 = slt64(tmp_180112, window_sizze_152856);
                        bool bounds_check_180115 = x_180113 && y_180114;
                        bool index_certs_180116;
                        
                        if (!bounds_check_180115) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180112, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180117 = p_175644 + tmp_180112;
                        float b_prev_t_res_180118 = ((float *) b_list_mem_181134.mem)[slice_180117];
                        
                        b_prev_176711 = b_prev_t_res_180118;
                    } else {
                        b_prev_176711 = lowest_176667;
                    }
                    
                    bool cond_176718 = sle64(ai_176707, (int64_t) 0);
                    int64_t loopres_176719;
                    int64_t loopres_176720;
                    int64_t loopres_176721;
                    bool loopres_176722;
                    
                    if (cond_176718) {
                        loopres_176719 = p_176702;
                        loopres_176720 = (int64_t) 0;
                        loopres_176721 = max_res_176709;
                        loopres_176722 = 0;
                    } else {
                        bool cond_176723 = sle64(window_sizze_152856, max_res_176709);
                        int64_t loopres_f_res_176724;
                        int64_t loopres_f_res_176725;
                        int64_t loopres_f_res_176726;
                        bool loopres_f_res_176727;
                        
                        if (cond_176723) {
                            int64_t min_res_180120 = smin64(m_175632, ai_176707);
                            bool x_180121 = sle64((int64_t) 0, m_175632);
                            bool y_180122 = slt64(m_175632, window_sizze_152856);
                            bool bounds_check_180123 = x_180121 && y_180122;
                            bool index_certs_180124;
                            
                            if (!bounds_check_180123) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180127 = sle64((int64_t) 0, min_res_180120);
                            bool y_180128 = slt64(min_res_180120, window_sizze_152856);
                            bool bounds_check_180129 = x_180127 && y_180128;
                            bool index_certs_180130;
                            
                            if (!bounds_check_180129) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180120, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_180126 = ((float *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_180131 = p_175643 + min_res_180120;
                            float leq_rhs_180132 = ((float *) a_list_mem_181133.mem)[slice_180131];
                            bool defunc_0_leq_res_180133 = leq_lhs_180126 <= leq_rhs_180132;
                            int64_t loopres_f_res_t_res_180134;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180134 = ai_176707;
                            } else {
                                loopres_f_res_t_res_180134 = p_176703;
                            }
                            
                            bool x_180135 = !defunc_0_leq_res_180133;
                            int64_t loopres_f_res_t_res_180136;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180136 = window_sizze_152856;
                            } else {
                                int64_t tmp_180137 = sub64(m_175632, offset_176706);
                                
                                loopres_f_res_t_res_180136 = tmp_180137;
                            }
                            loopres_f_res_176724 = p_176702;
                            loopres_f_res_176725 = loopres_f_res_t_res_180134;
                            loopres_f_res_176726 = loopres_f_res_t_res_180136;
                            loopres_f_res_176727 = x_180135;
                        } else {
                            bool cond_176745 = sle64(window_sizze_152856, ai_176707);
                            int64_t loopres_f_res_f_res_176746;
                            int64_t loopres_f_res_f_res_176747;
                            int64_t loopres_f_res_f_res_176748;
                            bool loopres_f_res_f_res_176749;
                            
                            if (cond_176745) {
                                int64_t min_res_180139 = smin64(m_175632, max_res_176709);
                                bool x_180140 = sle64((int64_t) 0, m_175632);
                                bool y_180141 = slt64(m_175632, window_sizze_152856);
                                bool bounds_check_180142 = x_180140 && y_180141;
                                bool index_certs_180143;
                                
                                if (!bounds_check_180142) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180146 = sle64((int64_t) 0, min_res_180139);
                                bool y_180147 = slt64(min_res_180139, window_sizze_152856);
                                bool bounds_check_180148 = x_180146 && y_180147;
                                bool index_certs_180149;
                                
                                if (!bounds_check_180148) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180139, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_180145 = ((float *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_180150 = p_175644 + min_res_180139;
                                float leq_rhs_180151 = ((float *) b_list_mem_181134.mem)[slice_180150];
                                bool defunc_0_leq_res_180152 = leq_lhs_180145 <= leq_rhs_180151;
                                int64_t loopres_f_res_f_res_t_res_180153;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180153 = max_res_176709;
                                } else {
                                    loopres_f_res_f_res_t_res_180153 = p_176704;
                                }
                                
                                bool x_180154 = !defunc_0_leq_res_180152;
                                int64_t loopres_f_res_f_res_t_res_180155;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180155 = window_sizze_152856;
                                } else {
                                    loopres_f_res_f_res_t_res_180155 = m_175632;
                                }
                                loopres_f_res_f_res_176746 = p_176702;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_t_res_180155;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_t_res_180153;
                                loopres_f_res_f_res_176749 = x_180154;
                            } else {
                                bool cond_176766 = sle64(p_176703, p_176702);
                                int64_t loopres_f_res_f_res_f_res_176767;
                                int64_t loopres_f_res_f_res_f_res_176768;
                                int64_t loopres_f_res_f_res_f_res_176769;
                                bool loopres_f_res_f_res_f_res_176770;
                                
                                if (cond_176766) {
                                    bool cond_180194 = slt64(ai_176707, window_sizze_152856);
                                    int64_t ai_180195;
                                    
                                    if (cond_180194) {
                                        ai_180195 = ai_176707;
                                    } else {
                                        ai_180195 = m_175632;
                                    }
                                    
                                    bool x_180208 = sle64((int64_t) 0, ai_180195);
                                    bool y_180209 = slt64(ai_180195, window_sizze_152856);
                                    bool bounds_check_180210 = x_180208 && y_180209;
                                    bool index_certs_180211;
                                    
                                    if (!bounds_check_180210) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180195, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_180197;
                                    
                                    if (cond_176710) {
                                        int64_t tmp_180198 = sub64(max_res_176709, (int64_t) 1);
                                        bool x_180199 = sle64((int64_t) 0, tmp_180198);
                                        bool y_180200 = slt64(tmp_180198, window_sizze_152856);
                                        bool bounds_check_180201 = x_180199 && y_180200;
                                        bool index_certs_180202;
                                        
                                        if (!bounds_check_180201) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180198, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180203 = p_175644 + tmp_180198;
                                        float b_prev_t_res_180204 = ((float *) b_list_mem_181134.mem)[slice_180203];
                                        
                                        b_prev_180197 = b_prev_t_res_180204;
                                    } else {
                                        bool index_certs_180206;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180197 = leq_rhs_176665;
                                    }
                                    
                                    int64_t slice_180212 = p_175643 + ai_180195;
                                    float gt_lhs_180213 = ((float *) a_list_mem_181133.mem)[slice_180212];
                                    bool defunc_0_gt_res_180214 = b_prev_180197 < gt_lhs_180213;
                                    int64_t defunc_0_partFunc_sequential_search_res_180215;
                                    int64_t defunc_0_partFunc_sequential_search_res_180216;
                                    
                                    if (defunc_0_gt_res_180214) {
                                        int64_t zl_rhs_180217 = sub64(window_sizze_152856, max_res_176709);
                                        bool loop_cond_180218 = slt64((int64_t) 0, zl_rhs_180217);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180219;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180221;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180222;
                                        bool loop_while_180223;
                                        int64_t p_180224;
                                        int64_t p_180225;
                                        int64_t p_180226;
                                        
                                        loop_while_180223 = loop_cond_180218;
                                        p_180224 = ai_180195;
                                        p_180225 = max_res_176709;
                                        p_180226 = (int64_t) 0;
                                        while (loop_while_180223) {
                                            int64_t i_a_180227 = sub64(ai_180195, p_180226);
                                            int64_t i_b_180228 = add64(max_res_176709, p_180226);
                                            int64_t leq_lhs_180229 = sub64(i_a_180227, (int64_t) 1);
                                            bool x_180230 = sle64((int64_t) 0, leq_lhs_180229);
                                            bool y_180231 = slt64(leq_lhs_180229, window_sizze_152856);
                                            bool bounds_check_180232 = x_180230 && y_180231;
                                            bool index_certs_180233;
                                            
                                            if (!bounds_check_180232) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180229, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180236 = sle64((int64_t) 0, i_b_180228);
                                            bool y_180237 = slt64(i_b_180228, window_sizze_152856);
                                            bool bounds_check_180238 = x_180236 && y_180237;
                                            bool index_certs_180239;
                                            
                                            if (!bounds_check_180238) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180228, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180234 = p_175643 + leq_lhs_180229;
                                            float leq_lhs_180235 = ((float *) a_list_mem_181133.mem)[slice_180234];
                                            int64_t slice_180240 = p_175644 + i_b_180228;
                                            float leq_rhs_180241 = ((float *) b_list_mem_181134.mem)[slice_180240];
                                            bool defunc_0_leq_res_180242 = leq_lhs_180235 <= leq_rhs_180241;
                                            int64_t loopres_180243;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180243 = i_a_180227;
                                            } else {
                                                loopres_180243 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180244;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180244 = i_b_180228;
                                            } else {
                                                loopres_180244 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180245;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180245 = zl_rhs_180217;
                                            } else {
                                                int64_t tmp_180246 = add64((int64_t) 1, p_180226);
                                                
                                                loopres_180245 = tmp_180246;
                                            }
                                            
                                            bool loop_cond_180247 = slt64(loopres_180245, zl_rhs_180217);
                                            bool loop_while_tmp_182659 = loop_cond_180247;
                                            int64_t p_tmp_182660 = loopres_180243;
                                            int64_t p_tmp_182661 = loopres_180244;
                                            int64_t p_tmp_182662 = loopres_180245;
                                            
                                            loop_while_180223 = loop_while_tmp_182659;
                                            p_180224 = p_tmp_182660;
                                            p_180225 = p_tmp_182661;
                                            p_180226 = p_tmp_182662;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180219 = loop_while_180223;
                                        defunc_0_partFunc_sequential_search_res_t_res_180220 = p_180224;
                                        defunc_0_partFunc_sequential_search_res_t_res_180221 = p_180225;
                                        defunc_0_partFunc_sequential_search_res_t_res_180222 = p_180226;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_t_res_180221;
                                    } else {
                                        int64_t zl_rhs_180248 = sub64(max_res_176709, (int64_t) 1);
                                        bool loop_cond_180249 = slt64((int64_t) 0, zl_rhs_180248);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180250;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180252;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180253;
                                        bool loop_while_180254;
                                        int64_t p_180255;
                                        int64_t p_180256;
                                        int64_t p_180257;
                                        
                                        loop_while_180254 = loop_cond_180249;
                                        p_180255 = ai_180195;
                                        p_180256 = max_res_176709;
                                        p_180257 = (int64_t) 0;
                                        while (loop_while_180254) {
                                            int64_t zp_lhs_180258 = add64(ai_180195, p_180257);
                                            int64_t hi_a_180259 = add64((int64_t) 1, zp_lhs_180258);
                                            bool cond_180260 = slt64(hi_a_180259, window_sizze_152856);
                                            int64_t i_a_180261;
                                            
                                            if (cond_180260) {
                                                i_a_180261 = hi_a_180259;
                                            } else {
                                                i_a_180261 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_180263 = sub64(max_res_176709, p_180257);
                                            int64_t i_b_180264 = sub64(zm_lhs_180263, (int64_t) 1);
                                            bool x_180265 = sle64((int64_t) 0, i_a_180261);
                                            bool y_180266 = slt64(i_a_180261, window_sizze_152856);
                                            bool bounds_check_180267 = x_180265 && y_180266;
                                            bool index_certs_180268;
                                            
                                            if (!bounds_check_180267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180261, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180271 = sle64((int64_t) 0, i_b_180264);
                                            bool y_180272 = slt64(i_b_180264, window_sizze_152856);
                                            bool bounds_check_180273 = x_180271 && y_180272;
                                            bool index_certs_180274;
                                            
                                            if (!bounds_check_180273) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180264, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180269 = p_175643 + i_a_180261;
                                            float gt_lhs_180270 = ((float *) a_list_mem_181133.mem)[slice_180269];
                                            int64_t slice_180275 = p_175644 + i_b_180264;
                                            float gt_rhs_180276 = ((float *) b_list_mem_181134.mem)[slice_180275];
                                            bool defunc_0_gt_res_180277 = gt_rhs_180276 < gt_lhs_180270;
                                            int64_t loopres_180278;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180278 = i_a_180261;
                                            } else {
                                                loopres_180278 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180279;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180279 = zm_lhs_180263;
                                            } else {
                                                loopres_180279 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180280;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180280 = zl_rhs_180248;
                                            } else {
                                                int64_t tmp_180281 = add64((int64_t) 1, p_180257);
                                                
                                                loopres_180280 = tmp_180281;
                                            }
                                            
                                            bool loop_cond_180282 = slt64(loopres_180280, zl_rhs_180248);
                                            bool loop_while_tmp_182663 = loop_cond_180282;
                                            int64_t p_tmp_182664 = loopres_180278;
                                            int64_t p_tmp_182665 = loopres_180279;
                                            int64_t p_tmp_182666 = loopres_180280;
                                            
                                            loop_while_180254 = loop_while_tmp_182663;
                                            p_180255 = p_tmp_182664;
                                            p_180256 = p_tmp_182665;
                                            p_180257 = p_tmp_182666;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180250 = loop_while_180254;
                                        defunc_0_partFunc_sequential_search_res_f_res_180251 = p_180255;
                                        defunc_0_partFunc_sequential_search_res_f_res_180252 = p_180256;
                                        defunc_0_partFunc_sequential_search_res_f_res_180253 = p_180257;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_f_res_180252;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = p_176702;
                                    loopres_f_res_f_res_f_res_176768 = defunc_0_partFunc_sequential_search_res_180215;
                                    loopres_f_res_f_res_f_res_176769 = defunc_0_partFunc_sequential_search_res_180216;
                                    loopres_f_res_f_res_f_res_176770 = 0;
                                } else {
                                    bool x_176854 = sle64((int64_t) 0, ai_176707);
                                    bool y_176855 = slt64(ai_176707, window_sizze_152856);
                                    bool bounds_check_176856 = x_176854 && y_176855;
                                    bool index_certs_176857;
                                    
                                    if (!bounds_check_176856) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176707, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178523 = p_175643 + ai_176707;
                                    float gt_lhs_176858 = ((float *) a_list_mem_181133.mem)[slice_178523];
                                    bool defunc_0_gt_res_176859 = b_prev_176711 < gt_lhs_176858;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176862;
                                    bool loopres_f_res_f_res_f_res_f_res_176863;
                                    
                                    if (defunc_0_gt_res_176859) {
                                        int64_t leq_lhs_180283 = sub64(ai_176707, (int64_t) 1);
                                        bool x_180284 = sle64((int64_t) 0, leq_lhs_180283);
                                        bool y_180285 = slt64(leq_lhs_180283, window_sizze_152856);
                                        bool bounds_check_180286 = x_180284 && y_180285;
                                        bool index_certs_180287;
                                        
                                        if (!bounds_check_180286) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180283, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180290 = sle64((int64_t) 0, max_res_176709);
                                        bool y_180291 = slt64(max_res_176709, window_sizze_152856);
                                        bool bounds_check_180292 = x_180290 && y_180291;
                                        bool index_certs_180293;
                                        
                                        if (!bounds_check_180292) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176709, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180288 = p_175643 + leq_lhs_180283;
                                        float leq_lhs_180289 = ((float *) a_list_mem_181133.mem)[slice_180288];
                                        int64_t slice_180294 = p_175644 + max_res_176709;
                                        float leq_rhs_180295 = ((float *) b_list_mem_181134.mem)[slice_180294];
                                        bool defunc_0_leq_res_180296 = leq_lhs_180289 <= leq_rhs_180295;
                                        bool x_180297 = !defunc_0_leq_res_180296;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = ai_176707;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = leq_lhs_180283;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = max_res_176709;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, max_res_176709);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = tmp_180300;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176860 = p_176702;
                                        loopres_f_res_f_res_f_res_f_res_176861 = loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        loopres_f_res_f_res_f_res_f_res_176862 = loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        loopres_f_res_f_res_f_res_f_res_176863 = x_180297;
                                    } else {
                                        int64_t tmp_176880 = add64((int64_t) 1, ai_176707);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176860 = tmp_176880;
                                        loopres_f_res_f_res_f_res_f_res_176861 = p_176703;
                                        loopres_f_res_f_res_f_res_f_res_176862 = p_176704;
                                        loopres_f_res_f_res_f_res_f_res_176863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = loopres_f_res_f_res_f_res_f_res_176860;
                                    loopres_f_res_f_res_f_res_176768 = loopres_f_res_f_res_f_res_f_res_176861;
                                    loopres_f_res_f_res_f_res_176769 = loopres_f_res_f_res_f_res_f_res_176862;
                                    loopres_f_res_f_res_f_res_176770 = loopres_f_res_f_res_f_res_f_res_176863;
                                }
                                loopres_f_res_f_res_176746 = loopres_f_res_f_res_f_res_176767;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_f_res_176768;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_f_res_176769;
                                loopres_f_res_f_res_176749 = loopres_f_res_f_res_f_res_176770;
                            }
                            loopres_f_res_176724 = loopres_f_res_f_res_176746;
                            loopres_f_res_176725 = loopres_f_res_f_res_176747;
                            loopres_f_res_176726 = loopres_f_res_f_res_176748;
                            loopres_f_res_176727 = loopres_f_res_f_res_176749;
                        }
                        loopres_176719 = loopres_f_res_176724;
                        loopres_176720 = loopres_f_res_176725;
                        loopres_176721 = loopres_f_res_176726;
                        loopres_176722 = loopres_f_res_176727;
                    }
                    
                    bool loop_while_tmp_182655 = loopres_176722;
                    int64_t p_tmp_182656 = loopres_176719;
                    int64_t p_tmp_182657 = loopres_176720;
                    int64_t p_tmp_182658 = loopres_176721;
                    
                    loop_while_176701 = loop_while_tmp_182655;
                    p_176702 = p_tmp_182656;
                    p_176703 = p_tmp_182657;
                    p_176704 = p_tmp_182658;
                }
                defunc_0_f_res_176697 = loop_while_176701;
                defunc_0_f_res_176698 = p_176702;
                defunc_0_f_res_176699 = p_176703;
                defunc_0_f_res_176700 = p_176704;
                ((int64_t *) mem_181150)[i_180883] = defunc_0_f_res_176699;
                ((int64_t *) mem_181152)[i_180883] = defunc_0_f_res_176700;
            }
            if (memblock_alloc(ctx, &mem_181165, window_sizze_152856, "mem_181165")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182667 = 0; nest_i_182667 < window_sizze_152856; nest_i_182667++) {
                ((int8_t *) mem_181165.mem)[nest_i_182667] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181167, bytes_181166, "mem_181167")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182668 = 0; nest_i_182668 < window_sizze_152856; nest_i_182668++) {
                ((int64_t *) mem_181167.mem)[nest_i_182668] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181169, bytes_181168, "mem_181169")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182669 = 0; nest_i_182669 < window_sizze_152856; nest_i_182669++) {
                ((float *) mem_181169.mem)[nest_i_182669] = 0.0F;
            }
            
            bool defunc_0_mergeFunc_seq_res_176907;
            int64_t defunc_0_mergeFunc_seq_res_176908;
            bool loop_while_176912;
            int64_t p_176913;
            
            loop_while_176912 = loop_cond_176906;
            p_176913 = (int64_t) 0;
            while (loop_while_176912) {
                bool x_176917 = sle64((int64_t) 0, p_176913);
                bool y_176918 = slt64(p_176913, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176919 = x_176917 && y_176918;
                bool index_certs_176920;
                
                if (!bounds_check_176919) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176913, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:339:19-39\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178506 = sle64((int64_t) 1, p_176913);
                int64_t index_concat_i_178507 = sub64(p_176913, (int64_t) 1);
                int64_t index_concat_178508;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180301 = ((int64_t *) mem_181150)[index_concat_i_178507];
                    
                    index_concat_178508 = x_180301;
                } else {
                    index_concat_178508 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178510;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178510 = index_concat_178508;
                } else {
                    index_concat_branch_178510 = (int64_t) 0;
                }
                
                int64_t index_concat_178502;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180302 = ((int64_t *) mem_181152)[index_concat_i_178507];
                    
                    index_concat_178502 = x_180302;
                } else {
                    index_concat_178502 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178504;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178504 = index_concat_178502;
                } else {
                    index_concat_branch_178504 = (int64_t) 0;
                }
                
                int64_t ubs_176923 = add64((int64_t) 1, p_176913);
                bool x_176924 = sle64((int64_t) 0, ubs_176923);
                bool y_176925 = slt64(ubs_176923, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176926 = x_176924 && y_176925;
                bool index_certs_176927;
                
                if (!bounds_check_176926) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:340:19-41\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178494 = sle64((int64_t) 1, ubs_176923);
                int64_t index_concat_178496;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180303 = ((int64_t *) mem_181150)[p_176913];
                    
                    index_concat_178496 = x_180303;
                } else {
                    index_concat_178496 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178498;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178498 = index_concat_178496;
                } else {
                    index_concat_branch_178498 = (int64_t) 0;
                }
                
                int64_t index_concat_178490;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180304 = ((int64_t *) mem_181152)[p_176913];
                    
                    index_concat_178490 = x_180304;
                } else {
                    index_concat_178490 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178492;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178492 = index_concat_178490;
                } else {
                    index_concat_branch_178492 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 = sub64(index_concat_branch_178492, index_concat_branch_178504);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 = sub64(index_concat_branch_178498, index_concat_branch_178510);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t ind_bottom_176933 = add64(index_concat_branch_178504, index_concat_branch_178510);
                int64_t ind_top_176934 = add64(index_concat_branch_178492, index_concat_branch_178498);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 = sub64(ind_top_176934, ind_bottom_176933);
                bool empty_slice_176936 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 == (int64_t) 0;
                int64_t m_176937 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 1);
                int64_t i_p_m_t_s_176938 = add64(m_176937, index_concat_branch_178510);
                bool zzero_leq_i_p_m_t_s_176939 = sle64((int64_t) 0, i_p_m_t_s_176938);
                bool i_p_m_t_s_leq_w_176940 = slt64(i_p_m_t_s_176938, window_sizze_152856);
                bool zzero_lte_i_176941 = sle64((int64_t) 0, index_concat_branch_178510);
                bool i_lte_j_176942 = sle64(index_concat_branch_178510, index_concat_branch_178498);
                bool y_176943 = i_p_m_t_s_leq_w_176940 && zzero_lte_i_176941;
                bool y_176944 = zzero_leq_i_p_m_t_s_176939 && y_176943;
                bool forwards_ok_176945 = i_lte_j_176942 && y_176944;
                bool ok_or_empty_176946 = empty_slice_176936 || forwards_ok_176945;
                bool index_certs_176947;
                
                if (!ok_or_empty_176946) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178510, ":", (long long) index_concat_branch_178498, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:343:71-86\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(index_concat_branch_178498, index_concat_branch_178510);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool range_valid_c_176950;
                
                if (!valid_176949) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178510, "..<", (long long) index_concat_branch_178498, " is invalid.", "-> #0  ftsort.fut:343:52-69\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176956 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 == (int64_t) 0;
                int64_t m_176957 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, (int64_t) 1);
                int64_t i_p_m_t_s_176958 = add64(m_176957, index_concat_branch_178504);
                bool zzero_leq_i_p_m_t_s_176959 = sle64((int64_t) 0, i_p_m_t_s_176958);
                bool i_p_m_t_s_leq_w_176960 = slt64(i_p_m_t_s_176958, window_sizze_152856);
                bool zzero_lte_i_176961 = sle64((int64_t) 0, index_concat_branch_178504);
                bool i_lte_j_176962 = sle64(index_concat_branch_178504, index_concat_branch_178492);
                bool y_176963 = i_p_m_t_s_leq_w_176960 && zzero_lte_i_176961;
                bool y_176964 = zzero_leq_i_p_m_t_s_176959 && y_176963;
                bool forwards_ok_176965 = i_lte_j_176962 && y_176964;
                bool ok_or_empty_176966 = empty_slice_176956 || forwards_ok_176965;
                bool index_certs_176967;
                
                if (!ok_or_empty_176966) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178504, ":", (long long) index_concat_branch_178492, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:344:71-86\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176968 = slt64(index_concat_branch_178492, index_concat_branch_178504);
                bool valid_176969 = !bounds_invalid_upwards_176968;
                bool range_valid_c_176970;
                
                if (!valid_176969) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178504, "..<", (long long) index_concat_branch_178492, " is invalid.", "-> #0  ftsort.fut:344:52-69\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181186 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                int64_t bytes_181188 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool cond_176979 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zs_lhs_176980 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zp_rhs_176981 = sdiv_safe64(zs_lhs_176980, (int64_t) 20);
                int64_t min_num_blocks_176982 = add64((int64_t) 1, zp_rhs_176981);
                bool loop_cond_176983 = slt64((int64_t) 1, min_num_blocks_176982);
                bool smallest_pow_2_geq_than_res_176984;
                int64_t smallest_pow_2_geq_than_res_176985;
                bool loop_while_176986;
                int64_t x_176987;
                
                loop_while_176986 = loop_cond_176983;
                x_176987 = (int64_t) 1;
                while (loop_while_176986) {
                    int64_t loopres_176988 = mul64((int64_t) 2, x_176987);
                    bool loop_cond_176989 = slt64(loopres_176988, min_num_blocks_176982);
                    bool loop_while_tmp_182675 = loop_cond_176989;
                    int64_t x_tmp_182676 = loopres_176988;
                    
                    loop_while_176986 = loop_while_tmp_182675;
                    x_176987 = x_tmp_182676;
                }
                smallest_pow_2_geq_than_res_176984 = loop_while_176986;
                smallest_pow_2_geq_than_res_176985 = x_176987;
                
                bool zzero_176990 = smallest_pow_2_geq_than_res_176985 == (int64_t) 0;
                bool nonzzero_176991 = !zzero_176990;
                bool protect_assert_disj_176992 = cond_176979 || nonzzero_176991;
                bool nonzzero_cert_176993;
                
                if (!protect_assert_disj_176992) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176994 = sdiv_safe64(zs_lhs_176980, smallest_pow_2_geq_than_res_176985);
                int64_t block_sizze_176995 = add64((int64_t) 1, zp_rhs_176994);
                bool y_177002 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                bool protect_assert_disj_182339 = cond_176979 || y_177002;
                bool index_certs_177003;
                
                if (!protect_assert_disj_182339) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177029 = slt64(smallest_pow_2_geq_than_res_176985, (int64_t) 0);
                bool valid_177030 = !bounds_invalid_upwards_177029;
                bool protect_assert_disj_182349 = cond_176979 || valid_177030;
                bool range_valid_c_177031;
                
                if (!protect_assert_disj_182349) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176985, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177033 = slt64(block_sizze_176995, (int64_t) 0);
                bool valid_177034 = !bounds_invalid_upwards_177033;
                bool protect_assert_disj_182351 = cond_176979 || valid_177034;
                bool range_valid_c_177035;
                
                if (!protect_assert_disj_182351) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176995, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_177037 = sle64(block_sizze_176995, (int64_t) 1);
                int64_t tmp_177038 = sub64(block_sizze_176995, (int64_t) 2);
                bool bounds_invalid_upwards_177039 = slt64(tmp_177038, (int64_t) 0);
                bool valid_177041 = !bounds_invalid_upwards_177039;
                bool protect_assert_disj_177042 = cond_177037 || valid_177041;
                bool protect_assert_disj_182353 = cond_176979 || protect_assert_disj_177042;
                bool range_valid_c_177043;
                
                if (!protect_assert_disj_182353) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177038, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177604 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool empty_or_match_cert_177605;
                
                if (!dim_match_177604) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "](i8, i64, f32)`.", "-> #0  ftsort.fut:345:22-351:50\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177606 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == (int64_t) 0;
                int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177608 = sle64((int64_t) 0, m_177607);
                bool i_p_m_t_s_leq_w_177609 = slt64(m_177607, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935);
                bool y_177610 = zzero_leq_i_p_m_t_s_177608 && i_p_m_t_s_leq_w_177609;
                bool ok_or_empty_177611 = empty_slice_177606 || y_177610;
                bool index_certs_177612;
                
                if (!ok_or_empty_177611) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "].", "-> #0  ftsort.fut:352:59-89\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177613 = add64(ind_bottom_176933, m_177607);
                bool zzero_leq_i_p_m_t_s_177614 = sle64((int64_t) 0, i_p_m_t_s_177613);
                bool i_p_m_t_s_leq_w_177615 = slt64(i_p_m_t_s_177613, window_sizze_152856);
                bool zzero_lte_i_177616 = sle64((int64_t) 0, ind_bottom_176933);
                bool i_lte_j_177617 = sle64(ind_bottom_176933, ind_top_176934);
                bool y_177618 = i_p_m_t_s_leq_w_177615 && zzero_lte_i_177616;
                bool y_177619 = zzero_leq_i_p_m_t_s_177614 && y_177618;
                bool forwards_ok_177620 = i_lte_j_177617 && y_177619;
                bool ok_or_empty_177621 = empty_slice_177606 || forwards_ok_177620;
                bool index_certs_177622;
                
                if (!ok_or_empty_177621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176933, ":", (long long) ind_top_176934, "] out of bounds for array of shape [", (long long) window_sizze_152856, "].", "-> #0  ftsort.fut:352:27-89\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178486 = p_175643 + index_concat_branch_178510;
                
                if (memblock_alloc(ctx, &mem_181185, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "mem_181185")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182677 = 0; nest_i_182677 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; nest_i_182677++) {
                    ((int8_t *) mem_181185.mem)[nest_i_182677] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181187, bytes_181186, "mem_181187")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182678 = 0; i_182678 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; i_182678++) {
                    int64_t x_182679 = index_concat_branch_178510 + i_182678 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[i_182678] = x_182679;
                }
                
                int64_t slice_178485 = p_175644 + index_concat_branch_178504;
                
                for (int64_t nest_i_182680 = 0; nest_i_182680 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; nest_i_182680++) {
                    ((int8_t *) mem_181185.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + nest_i_182680] = (int8_t) 1;
                }
                for (int64_t i_182681 = 0; i_182681 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; i_182681++) {
                    int64_t x_182682 = index_concat_branch_178504 + i_182681 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + i_182681] = x_182682;
                }
                
                int64_t tmp_offs_182683 = (int64_t) 0;
                
                if (!(tmp_offs_182683 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182683 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t tmp_offs_182684 = (int64_t) 0;
                
                if (!(tmp_offs_182684 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182684 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                if (memblock_alloc(ctx, &mem_181189, bytes_181188, "mem_181189")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182685 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181133.mem, slice_178486, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181134.mem, slice_178485, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t flat_dim_176996 = smallest_pow_2_geq_than_res_176985 * block_sizze_176995;
                bool x_182334 = !cond_176979;
                int64_t greatest_divisor_leq_than_arg1_177000 = mul64((int64_t) 2, block_sizze_176995);
                int64_t merge_block_sizze_177001;
                
                if (x_182334) {
                    int64_t x_182336;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182336, (int64_t) 8, greatest_divisor_leq_than_arg1_177000) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_177001 = x_182336;
                } else {
                    merge_block_sizze_177001 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178480 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 0);
                int8_t index_concat_branch_178484 = btoi_bool_i8(index_concat_cmp_178480);
                int64_t index_concat_i_180305 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t index_primexp_180306 = add64(index_concat_branch_178504, index_concat_i_180305);
                int64_t index_concat_branch_178478;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178478 = index_primexp_180306;
                } else {
                    index_concat_branch_178478 = index_concat_branch_178510;
                }
                
                bool x_182330 = !index_concat_cmp_178480;
                bool protect_cond_conj_182340 = x_182330 && x_182334;
                float index_concat_178471;
                
                if (protect_cond_conj_182340) {
                    float x_182332 = ((float *) a_list_mem_181133.mem)[slice_178486];
                    
                    index_concat_178471 = x_182332;
                } else {
                    index_concat_178471 = 0.0F;
                }
                
                int64_t slice_180308 = slice_178485 + index_concat_i_180305;
                bool protect_cond_conj_182341 = index_concat_cmp_178480 && x_182334;
                float index_concat_180309;
                
                if (protect_cond_conj_182341) {
                    float x_182328 = ((float *) b_list_mem_181134.mem)[slice_180308];
                    
                    index_concat_180309 = x_182328;
                } else {
                    index_concat_180309 = 0.0F;
                }
                
                float index_concat_branch_178472;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178472 = index_concat_180309;
                } else {
                    index_concat_branch_178472 = index_concat_178471;
                }
                
                int8_t defunc_0_reduce_res_180540;
                int64_t defunc_0_reduce_res_180541;
                float defunc_0_reduce_res_180542;
                
                if (x_182334) {
                    int8_t x_182342;
                    int64_t x_182343;
                    float x_182344;
                    int8_t redout_180886;
                    int64_t redout_180887;
                    float redout_180888;
                    
                    redout_180886 = index_concat_branch_178484;
                    redout_180887 = index_concat_branch_178478;
                    redout_180888 = index_concat_branch_178472;
                    for (int64_t i_180889 = 0; i_180889 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932; i_180889++) {
                        bool index_concat_cmp_181093 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, i_180889);
                        int8_t index_concat_branch_181097 = btoi_bool_i8(index_concat_cmp_181093);
                        int64_t index_concat_branch_181091;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181088 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t index_primexp_181115 = add64(index_concat_branch_178504, index_concat_i_181088);
                            
                            index_concat_branch_181091 = index_primexp_181115;
                        } else {
                            int64_t index_primexp_181117 = add64(index_concat_branch_178510, i_180889);
                            
                            index_concat_branch_181091 = index_primexp_181117;
                        }
                        
                        float index_concat_branch_181085;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181082 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t slice_181112 = slice_178485 + index_concat_i_181082;
                            float index_concat_181083 = ((float *) b_list_mem_181134.mem)[slice_181112];
                            
                            index_concat_branch_181085 = index_concat_181083;
                        } else {
                            int64_t slice_181113 = slice_178486 + i_180889;
                            float index_concat_181084 = ((float *) a_list_mem_181133.mem)[slice_181113];
                            
                            index_concat_branch_181085 = index_concat_181084;
                        }
                        
                        bool eq_x_y_181128 = redout_180886 == (int8_t) 1;
                        bool eq_x_zz_181129 = redout_180886 == (int8_t) 0;
                        bool p_and_eq_x_y_181130 = index_concat_cmp_181093 && eq_x_y_181128;
                        bool not_p_181131 = !index_concat_cmp_181093;
                        bool p_and_eq_x_y_181132 = eq_x_zz_181129 && not_p_181131;
                        bool cond_177019 = p_and_eq_x_y_181130 || p_and_eq_x_y_181132;
                        bool defunc_0_leq_res_t_res_177020 = sle64(redout_180887, index_concat_branch_181091);
                        bool defunc_0_leq_res_177021 = redout_180888 <= index_concat_branch_181085;
                        bool x_177022 = cond_177019 && defunc_0_leq_res_t_res_177020;
                        bool x_177023 = !cond_177019;
                        bool y_177024 = defunc_0_leq_res_177021 && x_177023;
                        bool defunc_0_leq_res_177025 = x_177022 || y_177024;
                        int8_t defunc_0_op_res_177026;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177026 = index_concat_branch_181097;
                        } else {
                            defunc_0_op_res_177026 = redout_180886;
                        }
                        
                        int64_t defunc_0_op_res_177027;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177027 = index_concat_branch_181091;
                        } else {
                            defunc_0_op_res_177027 = redout_180887;
                        }
                        
                        float defunc_0_op_res_177028;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177028 = index_concat_branch_181085;
                        } else {
                            defunc_0_op_res_177028 = redout_180888;
                        }
                        
                        int8_t redout_tmp_182686 = defunc_0_op_res_177026;
                        int64_t redout_tmp_182687 = defunc_0_op_res_177027;
                        float redout_tmp_182688 = defunc_0_op_res_177028;
                        
                        redout_180886 = redout_tmp_182686;
                        redout_180887 = redout_tmp_182687;
                        redout_180888 = redout_tmp_182688;
                    }
                    x_182342 = redout_180886;
                    x_182343 = redout_180887;
                    x_182344 = redout_180888;
                    defunc_0_reduce_res_180540 = x_182342;
                    defunc_0_reduce_res_180541 = x_182343;
                    defunc_0_reduce_res_180542 = x_182344;
                } else {
                    defunc_0_reduce_res_180540 = (int8_t) 0;
                    defunc_0_reduce_res_180541 = (int64_t) 0;
                    defunc_0_reduce_res_180542 = 0.0F;
                }
                
                int64_t distance_177040 = add64((int64_t) 1, tmp_177038);
                int64_t binop_x_181192 = (int64_t) 8 * smallest_pow_2_geq_than_res_176985;
                int64_t bytes_181193 = block_sizze_176995 * binop_x_181192;
                int64_t binop_x_181195 = (int64_t) 4 * smallest_pow_2_geq_than_res_176985;
                int64_t bytes_181196 = block_sizze_176995 * binop_x_181195;
                int64_t bytes_181211 = (int64_t) 8 * block_sizze_176995;
                int64_t bytes_181213 = (int64_t) 4 * block_sizze_176995;
                bool loop_cond_177149 = slt64(block_sizze_176995, flat_dim_176996);
                bool zzero_177150 = merge_block_sizze_177001 == (int64_t) 0;
                bool nonzzero_177151 = !zzero_177150;
                
                if (cond_176979) {
                    if (memblock_set(ctx, &ext_mem_181484, &mem_181185, "mem_181185") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &mem_181187, "mem_181187") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &mem_181189, "mem_181189") != 0)
                        return 1;
                } else {
                    if (mem_181191_cached_sizze_182931 < flat_dim_176996) {
                        err = lexical_realloc(ctx, &mem_181191, &mem_181191_cached_sizze_182931, flat_dim_176996);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181194_cached_sizze_182932 < bytes_181193) {
                        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_182932, bytes_181193);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181197_cached_sizze_182933 < bytes_181196) {
                        err = lexical_realloc(ctx, &mem_181197, &mem_181197_cached_sizze_182933, bytes_181196);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181210_cached_sizze_182934 < block_sizze_176995) {
                        err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_182934, block_sizze_176995);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181212_cached_sizze_182935 < bytes_181211) {
                        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_182935, bytes_181211);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181214_cached_sizze_182936 < bytes_181213) {
                        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_182936, bytes_181213);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180906 = 0; i_180906 < smallest_pow_2_geq_than_res_176985; i_180906++) {
                        int64_t zp_lhs_177048 = mul64(block_sizze_176995, i_180906);
                        
                        for (int64_t i_180896 = 0; i_180896 < block_sizze_176995; i_180896++) {
                            int64_t k_177053 = add64(zp_lhs_177048, i_180896);
                            bool cond_177054 = slt64(k_177053, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                            int8_t lifted_lambda_res_177055;
                            int64_t lifted_lambda_res_177056;
                            float lifted_lambda_res_177057;
                            
                            if (cond_177054) {
                                bool x_180315 = sle64((int64_t) 0, k_177053);
                                bool bounds_check_180316 = cond_177054 && x_180315;
                                bool index_certs_180317;
                                
                                if (!bounds_check_180316) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177053, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180318 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, k_177053);
                                int8_t index_concat_branch_180319 = btoi_bool_i8(index_concat_cmp_180318);
                                int64_t index_concat_branch_180320;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180321 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t index_primexp_180322 = add64(index_concat_branch_178504, index_concat_i_180321);
                                    
                                    index_concat_branch_180320 = index_primexp_180322;
                                } else {
                                    int64_t index_primexp_180323 = add64(k_177053, index_concat_branch_178510);
                                    
                                    index_concat_branch_180320 = index_primexp_180323;
                                }
                                
                                float index_concat_branch_180324;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180325 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t slice_180326 = slice_178485 + index_concat_i_180325;
                                    float index_concat_180327 = ((float *) b_list_mem_181134.mem)[slice_180326];
                                    
                                    index_concat_branch_180324 = index_concat_180327;
                                } else {
                                    int64_t slice_180328 = k_177053 + slice_178486;
                                    float index_concat_180329 = ((float *) a_list_mem_181133.mem)[slice_180328];
                                    
                                    index_concat_branch_180324 = index_concat_180329;
                                }
                                lifted_lambda_res_177055 = index_concat_branch_180319;
                                lifted_lambda_res_177056 = index_concat_branch_180320;
                                lifted_lambda_res_177057 = index_concat_branch_180324;
                            } else {
                                lifted_lambda_res_177055 = defunc_0_reduce_res_180540;
                                lifted_lambda_res_177056 = defunc_0_reduce_res_180541;
                                lifted_lambda_res_177057 = defunc_0_reduce_res_180542;
                            }
                            ((int8_t *) mem_181210)[i_180896] = lifted_lambda_res_177055;
                            ((int64_t *) mem_181212)[i_180896] = lifted_lambda_res_177056;
                            ((float *) mem_181214)[i_180896] = lifted_lambda_res_177057;
                        }
                        if (!cond_177037) {
                            for (int64_t i_177070 = 0; i_177070 < distance_177040; i_177070++) {
                                int64_t gt_arg1_177074 = add64((int64_t) 1, i_177070);
                                bool x_177075 = sle64((int64_t) 0, gt_arg1_177074);
                                bool y_177076 = slt64(gt_arg1_177074, block_sizze_176995);
                                bool bounds_check_177077 = x_177075 && y_177076;
                                bool index_certs_177078;
                                
                                if (!bounds_check_177077) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177074, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177082 = slt64(i_177070, block_sizze_176995);
                                bool index_certs_177083;
                                
                                if (!y_177082) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177070, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_177079 = ((int8_t *) mem_181210)[gt_arg1_177074];
                                int64_t gt_arg1_177080 = ((int64_t *) mem_181212)[gt_arg1_177074];
                                float gt_arg1_177081 = ((float *) mem_181214)[gt_arg1_177074];
                                int8_t gt_arg0_177084 = ((int8_t *) mem_181210)[i_177070];
                                int64_t gt_arg0_177085 = ((int64_t *) mem_181212)[i_177070];
                                float gt_arg0_177086 = ((float *) mem_181214)[i_177070];
                                bool cond_177087 = gt_arg0_177084 == gt_arg1_177079;
                                bool defunc_0_leq_res_t_res_177088 = sle64(gt_arg0_177085, gt_arg1_177080);
                                bool defunc_0_leq_res_177089 = gt_arg0_177086 <= gt_arg1_177081;
                                bool x_177090 = cond_177087 && defunc_0_leq_res_t_res_177088;
                                bool x_177091 = !cond_177087;
                                bool y_177092 = defunc_0_leq_res_177089 && x_177091;
                                bool defunc_0_leq_res_177093 = x_177090 || y_177092;
                                bool defunc_0_lifted_gt_res_177094 = !defunc_0_leq_res_177093;
                                bool s_177095;
                                int64_t s_177099;
                                bool loop_while_177100;
                                int64_t j_177104;
                                
                                loop_while_177100 = defunc_0_lifted_gt_res_177094;
                                j_177104 = i_177070;
                                while (loop_while_177100) {
                                    bool x_177105 = sle64((int64_t) 0, j_177104);
                                    bool y_177106 = slt64(j_177104, block_sizze_176995);
                                    bool bounds_check_177107 = x_177105 && y_177106;
                                    bool index_certs_177108;
                                    
                                    if (!bounds_check_177107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177104, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177112 = add64((int64_t) 1, j_177104);
                                    bool x_177113 = sle64((int64_t) 0, copy_arg0_177112);
                                    bool y_177114 = slt64(copy_arg0_177112, block_sizze_176995);
                                    bool bounds_check_177115 = x_177113 && y_177114;
                                    bool index_certs_177116;
                                    
                                    if (!bounds_check_177115) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177112, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177109 = ((int8_t *) mem_181210)[j_177104];
                                    int64_t copy_arg0_177110 = ((int64_t *) mem_181212)[j_177104];
                                    float copy_arg0_177111 = ((float *) mem_181214)[j_177104];
                                    int8_t copy_arg0_177117 = ((int8_t *) mem_181210)[copy_arg0_177112];
                                    int64_t copy_arg0_177118 = ((int64_t *) mem_181212)[copy_arg0_177112];
                                    float copy_arg0_177119 = ((float *) mem_181214)[copy_arg0_177112];
                                    
                                    ((int8_t *) mem_181210)[j_177104] = copy_arg0_177117;
                                    ((int64_t *) mem_181212)[j_177104] = copy_arg0_177118;
                                    ((float *) mem_181214)[j_177104] = copy_arg0_177119;
                                    ((int8_t *) mem_181210)[copy_arg0_177112] = copy_arg0_177109;
                                    ((int64_t *) mem_181212)[copy_arg0_177112] = copy_arg0_177110;
                                    ((float *) mem_181214)[copy_arg0_177112] = copy_arg0_177111;
                                    
                                    int64_t tmp_177126 = sub64(j_177104, (int64_t) 1);
                                    bool cond_177127 = sle64((int64_t) 0, tmp_177126);
                                    bool loop_cond_177128;
                                    
                                    if (cond_177127) {
                                        bool y_180333 = slt64(tmp_177126, block_sizze_176995);
                                        bool bounds_check_180334 = cond_177127 && y_180333;
                                        bool index_certs_180335;
                                        
                                        if (!bounds_check_180334) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177126, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180330 = ((int8_t *) mem_181210)[j_177104];
                                        int64_t gt_arg1_180331 = ((int64_t *) mem_181212)[j_177104];
                                        float gt_arg1_180332 = ((float *) mem_181214)[j_177104];
                                        int8_t gt_arg0_180336 = ((int8_t *) mem_181210)[tmp_177126];
                                        int64_t gt_arg0_180337 = ((int64_t *) mem_181212)[tmp_177126];
                                        float gt_arg0_180338 = ((float *) mem_181214)[tmp_177126];
                                        bool cond_180339 = gt_arg0_180336 == gt_arg1_180330;
                                        bool defunc_0_leq_res_t_res_180340 = sle64(gt_arg0_180337, gt_arg1_180331);
                                        bool defunc_0_leq_res_180341 = gt_arg0_180338 <= gt_arg1_180332;
                                        bool x_180342 = cond_180339 && defunc_0_leq_res_t_res_180340;
                                        bool x_180343 = !cond_180339;
                                        bool y_180344 = defunc_0_leq_res_180341 && x_180343;
                                        bool defunc_0_leq_res_180345 = x_180342 || y_180344;
                                        bool defunc_0_lifted_gt_res_180346 = !defunc_0_leq_res_180345;
                                        
                                        loop_cond_177128 = defunc_0_lifted_gt_res_180346;
                                    } else {
                                        loop_cond_177128 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182698 = loop_cond_177128;
                                    int64_t j_tmp_182702 = tmp_177126;
                                    
                                    loop_while_177100 = loop_while_tmp_182698;
                                    j_177104 = j_tmp_182702;
                                }
                                s_177095 = loop_while_177100;
                                s_177099 = j_177104;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181191, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181194, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181212, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181197, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_176996, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint8_t *) mem_181191, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181193, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181196, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint32_t *) mem_181197, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    
                    int64_t data_177152;
                    bool data_177153;
                    int64_t data_177157;
                    int64_t loop_dz2084Uz2082U_177158;
                    bool loop_while_177159;
                    int64_t stride_177163;
                    
                    if (memblock_set(ctx, &mem_param_181303, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181306, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181309, &mem_181299, "mem_181299") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177158 = flat_dim_176996;
                    loop_while_177159 = loop_cond_177149;
                    stride_177163 = block_sizze_176995;
                    while (loop_while_177159) {
                        int64_t next_stride_177164 = mul64((int64_t) 2, stride_177163);
                        bool zzero_177165 = next_stride_177164 == (int64_t) 0;
                        bool nonzzero_177166 = !zzero_177165;
                        bool nonzzero_cert_177167;
                        
                        if (!nonzzero_177166) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177168 = sdiv64(flat_dim_176996, next_stride_177164);
                        bool bounds_invalid_upwards_177169 = slt64(num_merges_177168, (int64_t) 0);
                        bool valid_177170 = !bounds_invalid_upwards_177169;
                        bool range_valid_c_177171;
                        
                        if (!valid_177170) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177173 = sub64(next_stride_177164, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177174 = sle64((int64_t) 0, m_177173);
                        bool cond_177176 = slt64(next_stride_177164, (int64_t) 10);
                        bool protect_assert_disj_177177 = nonzzero_177151 || cond_177176;
                        bool nonzzero_cert_177178;
                        
                        if (!protect_assert_disj_177177) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177179 = smod_safe64(next_stride_177164, merge_block_sizze_177001);
                        bool num_blocks_177180 = zeze_lhs_177179 == (int64_t) 0;
                        bool protect_assert_disj_177181 = cond_177176 || num_blocks_177180;
                        bool assert_c_177182;
                        
                        if (!protect_assert_disj_177181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177184 = sdiv_safe64(next_stride_177164, merge_block_sizze_177001);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185 = add64((int64_t) 1, num_blocks_177184);
                        int64_t j_m_i_177186 = sub64(next_stride_177164, stride_177163);
                        int64_t flat_dim_177187 = merge_block_sizze_177001 * num_blocks_177184;
                        bool bounds_invalid_upwards_177188 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, (int64_t) 0);
                        bool empty_slice_177189 = j_m_i_177186 == (int64_t) 0;
                        int64_t m_177190 = sub64(j_m_i_177186, (int64_t) 1);
                        bool zzero_lte_i_177191 = sle64((int64_t) 0, stride_177163);
                        bool i_lte_j_177192 = sle64(stride_177163, next_stride_177164);
                        bool empty_slice_177193 = stride_177163 == (int64_t) 0;
                        int64_t m_177194 = sub64(stride_177163, (int64_t) 1);
                        bool bounds_invalid_upwards_177195 = slt64(num_blocks_177184, (int64_t) 0);
                        bool cond_177196 = slt64((int64_t) 0, stride_177163);
                        bool valid_177197 = !bounds_invalid_upwards_177188;
                        int64_t i_p_m_t_s_177198 = add64(stride_177163, m_177190);
                        bool zzero_leq_i_p_m_t_s_177199 = sle64((int64_t) 0, m_177194);
                        bool i_p_m_t_s_leq_w_177200 = slt64(m_177194, next_stride_177164);
                        bool valid_177201 = !bounds_invalid_upwards_177195;
                        bool i_p_m_t_s_leq_w_177202 = slt64(m_177173, flat_dim_177187);
                        bool y_177203 = slt64((int64_t) 0, j_m_i_177186);
                        bool protect_assert_disj_177204 = cond_177176 || valid_177197;
                        bool range_valid_c_177205;
                        
                        if (!protect_assert_disj_177204) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177206 = sle64((int64_t) 0, i_p_m_t_s_177198);
                        bool i_p_m_t_s_leq_w_177207 = slt64(i_p_m_t_s_177198, next_stride_177164);
                        bool y_177208 = zzero_leq_i_p_m_t_s_177199 && i_p_m_t_s_leq_w_177200;
                        bool protect_assert_disj_177209 = cond_177176 || valid_177201;
                        bool range_valid_c_177210;
                        
                        if (!protect_assert_disj_177209) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177184, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177211 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177202;
                        bool y_177212 = zzero_lte_i_177191 && i_p_m_t_s_leq_w_177207;
                        bool forwards_ok_177213 = zzero_lte_i_177191 && y_177208;
                        bool ok_or_empty_177214 = zzero_177165 || y_177211;
                        bool protect_assert_disj_177215 = cond_177196 || y_177203;
                        bool y_177216 = zzero_leq_i_p_m_t_s_177206 && y_177212;
                        bool ok_or_empty_177217 = empty_slice_177193 || forwards_ok_177213;
                        bool protect_assert_disj_177218 = cond_177176 || ok_or_empty_177214;
                        bool index_certs_177219;
                        
                        if (!protect_assert_disj_177218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) flat_dim_177187, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177220 = !cond_177176;
                        bool protect_assert_disj_177221 = protect_assert_disj_177215 || loop_not_taken_177220;
                        bool index_certs_177222;
                        
                        if (!protect_assert_disj_177221) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177223 = i_lte_j_177192 && y_177216;
                        bool protect_assert_disj_177224 = cond_177176 || ok_or_empty_177217;
                        bool index_certs_177225;
                        
                        if (!protect_assert_disj_177224) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177226 = ok_or_empty_177217 || loop_not_taken_177220;
                        bool index_certs_177227;
                        
                        if (!protect_assert_disj_177226) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177228 = empty_slice_177189 || forwards_ok_177223;
                        bool protect_assert_disj_177229 = cond_177176 || ok_or_empty_177228;
                        bool index_certs_177230;
                        
                        if (!protect_assert_disj_177229) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177231 = loop_not_taken_177220 || ok_or_empty_177228;
                        bool index_certs_177232;
                        
                        if (!protect_assert_disj_177231) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181310 = next_stride_177164 * num_merges_177168;
                        int64_t binop_x_181312 = (int64_t) 8 * num_merges_177168;
                        int64_t bytes_181313 = next_stride_177164 * binop_x_181312;
                        int64_t binop_x_181315 = (int64_t) 4 * num_merges_177168;
                        int64_t bytes_181316 = next_stride_177164 * binop_x_181315;
                        bool i_lte_j_177175 = sle64((int64_t) 0, next_stride_177164);
                        
                        if (mem_181311_cached_sizze_182937 < bytes_181310) {
                            err = lexical_realloc(ctx, &mem_181311, &mem_181311_cached_sizze_182937, bytes_181310);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181314_cached_sizze_182938 < bytes_181313) {
                            err = lexical_realloc(ctx, &mem_181314, &mem_181314_cached_sizze_182938, bytes_181313);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181317_cached_sizze_182939 < bytes_181316) {
                            err = lexical_realloc(ctx, &mem_181317, &mem_181317_cached_sizze_182939, bytes_181316);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181330 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185;
                        int64_t binop_x_181348 = (int64_t) 8 * num_blocks_177184;
                        int64_t bytes_181349 = merge_block_sizze_177001 * binop_x_181348;
                        int64_t binop_x_181351 = (int64_t) 4 * num_blocks_177184;
                        int64_t bytes_181352 = merge_block_sizze_177001 * binop_x_181351;
                        int64_t bytes_181413 = (int64_t) 16 * stride_177163;
                        int64_t bytes_181415 = (int64_t) 8 * stride_177163;
                        
                        for (int64_t i_180933 = 0; i_180933 < num_merges_177168; i_180933++) {
                            int64_t start_177237 = mul64(next_stride_177164, i_180933);
                            int64_t j_m_i_177238 = sub64(loop_dz2084Uz2082U_177158, start_177237);
                            bool empty_slice_177239 = j_m_i_177238 == (int64_t) 0;
                            int64_t m_177240 = sub64(j_m_i_177238, (int64_t) 1);
                            int64_t i_p_m_t_s_177241 = add64(start_177237, m_177240);
                            bool zzero_leq_i_p_m_t_s_177242 = sle64((int64_t) 0, i_p_m_t_s_177241);
                            bool i_p_m_t_s_leq_w_177243 = slt64(i_p_m_t_s_177241, loop_dz2084Uz2082U_177158);
                            bool zzero_lte_i_177244 = sle64((int64_t) 0, start_177237);
                            bool i_lte_j_177245 = sle64(start_177237, loop_dz2084Uz2082U_177158);
                            bool y_177246 = i_p_m_t_s_leq_w_177243 && zzero_lte_i_177244;
                            bool y_177247 = zzero_leq_i_p_m_t_s_177242 && y_177246;
                            bool forwards_ok_177248 = i_lte_j_177245 && y_177247;
                            bool ok_or_empty_177249 = empty_slice_177239 || forwards_ok_177248;
                            bool index_certs_177250;
                            
                            if (!ok_or_empty_177249) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177237, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177158, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177251 = slt64(m_177173, j_m_i_177238);
                            bool y_177252 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177251;
                            bool forwards_ok_177253 = i_lte_j_177175 && y_177252;
                            bool ok_or_empty_177254 = zzero_177165 || forwards_ok_177253;
                            bool index_certs_177255;
                            
                            if (!ok_or_empty_177254) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) j_m_i_177238, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177176) {
                                int8_t dummy_180385;
                                int64_t dummy_180386;
                                float dummy_180387;
                                
                                if (cond_177196) {
                                    int8_t head_res_180388 = ((int8_t *) mem_param_181303.mem)[start_177237];
                                    int64_t head_res_180389 = ((int64_t *) mem_param_181306.mem)[start_177237];
                                    float head_res_180390 = ((float *) mem_param_181309.mem)[start_177237];
                                    
                                    dummy_180385 = head_res_180388;
                                    dummy_180386 = head_res_180389;
                                    dummy_180387 = head_res_180390;
                                } else {
                                    int64_t slice_180391 = stride_177163 + start_177237;
                                    int8_t head_res_180392 = ((int8_t *) mem_param_181303.mem)[slice_180391];
                                    int64_t head_res_180393 = ((int64_t *) mem_param_181306.mem)[slice_180391];
                                    float head_res_180394 = ((float *) mem_param_181309.mem)[slice_180391];
                                    
                                    dummy_180385 = head_res_180392;
                                    dummy_180386 = head_res_180393;
                                    dummy_180387 = head_res_180394;
                                }
                                if (memblock_alloc(ctx, &mem_181412, next_stride_177164, "mem_181412")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182715 = 0; nest_i_182715 < next_stride_177164; nest_i_182715++) {
                                    ((int8_t *) mem_181412.mem)[nest_i_182715] = dummy_180385;
                                }
                                if (memblock_alloc(ctx, &mem_181414, bytes_181413, "mem_181414")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182716 = 0; nest_i_182716 < next_stride_177164; nest_i_182716++) {
                                    ((int64_t *) mem_181414.mem)[nest_i_182716] = dummy_180386;
                                }
                                if (memblock_alloc(ctx, &mem_181416, bytes_181415, "mem_181416")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182717 = 0; nest_i_182717 < next_stride_177164; nest_i_182717++) {
                                    ((float *) mem_181416.mem)[nest_i_182717] = dummy_180387;
                                }
                                
                                int64_t data_180398;
                                int64_t i_180403 = (int64_t) 0;
                                
                                for (int64_t k_180402 = 0; k_180402 < next_stride_177164; k_180402++) {
                                    int64_t j_180407 = sub64(k_180402, i_180403);
                                    bool cond_180408 = j_180407 == j_m_i_177186;
                                    bool cond_180409;
                                    
                                    if (cond_180408) {
                                        cond_180409 = 1;
                                    } else {
                                        bool cond_180410 = slt64(i_180403, stride_177163);
                                        bool cond_f_res_180411;
                                        
                                        if (cond_180410) {
                                            bool x_180412 = sle64((int64_t) 0, j_180407);
                                            bool y_180413 = slt64(j_180407, j_m_i_177186);
                                            bool bounds_check_180414 = x_180412 && y_180413;
                                            bool index_certs_180415;
                                            
                                            if (!bounds_check_180414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180421 = sle64((int64_t) 0, i_180403);
                                            bool bounds_check_180422 = cond_180410 && x_180421;
                                            bool index_certs_180423;
                                            
                                            if (!bounds_check_180422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180416 = stride_177163 + j_180407;
                                            int64_t slice_180417 = start_177237 + slice_180416;
                                            int8_t leq_arg1_180418 = ((int8_t *) mem_param_181303.mem)[slice_180417];
                                            int64_t leq_arg1_180419 = ((int64_t *) mem_param_181306.mem)[slice_180417];
                                            float leq_arg1_180420 = ((float *) mem_param_181309.mem)[slice_180417];
                                            int64_t slice_180424 = start_177237 + i_180403;
                                            int8_t leq_arg0_180425 = ((int8_t *) mem_param_181303.mem)[slice_180424];
                                            int64_t leq_arg0_180426 = ((int64_t *) mem_param_181306.mem)[slice_180424];
                                            float leq_arg0_180427 = ((float *) mem_param_181309.mem)[slice_180424];
                                            bool cond_180428 = leq_arg0_180425 == leq_arg1_180418;
                                            bool defunc_0_leq_res_t_res_180429 = sle64(leq_arg0_180426, leq_arg1_180419);
                                            bool defunc_0_leq_res_180430 = leq_arg0_180427 <= leq_arg1_180420;
                                            bool x_180431 = cond_180428 && defunc_0_leq_res_t_res_180429;
                                            bool x_180432 = !cond_180428;
                                            bool y_180433 = defunc_0_leq_res_180430 && x_180432;
                                            bool defunc_0_leq_res_180434 = x_180431 || y_180433;
                                            
                                            cond_f_res_180411 = defunc_0_leq_res_180434;
                                        } else {
                                            cond_f_res_180411 = 0;
                                        }
                                        cond_180409 = cond_f_res_180411;
                                    }
                                    
                                    int64_t loopres_180435;
                                    int8_t loopres_180436;
                                    int64_t loopres_180437;
                                    float loopres_180438;
                                    
                                    if (cond_180409) {
                                        bool x_180440 = sle64((int64_t) 0, i_180403);
                                        bool y_180441 = slt64(i_180403, stride_177163);
                                        bool bounds_check_180442 = x_180440 && y_180441;
                                        bool index_certs_180443;
                                        
                                        if (!bounds_check_180442) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180439 = add64((int64_t) 1, i_180403);
                                        int64_t slice_180444 = start_177237 + i_180403;
                                        int8_t tmp_180445 = ((int8_t *) mem_param_181303.mem)[slice_180444];
                                        int64_t tmp_180446 = ((int64_t *) mem_param_181306.mem)[slice_180444];
                                        float tmp_180447 = ((float *) mem_param_181309.mem)[slice_180444];
                                        
                                        loopres_180435 = tmp_180439;
                                        loopres_180436 = tmp_180445;
                                        loopres_180437 = tmp_180446;
                                        loopres_180438 = tmp_180447;
                                    } else {
                                        bool x_180448 = sle64((int64_t) 0, j_180407);
                                        bool y_180449 = slt64(j_180407, j_m_i_177186);
                                        bool bounds_check_180450 = x_180448 && y_180449;
                                        bool index_certs_180451;
                                        
                                        if (!bounds_check_180450) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180452 = stride_177163 + j_180407;
                                        int64_t slice_180453 = start_177237 + slice_180452;
                                        int8_t tmp_180454 = ((int8_t *) mem_param_181303.mem)[slice_180453];
                                        int64_t tmp_180455 = ((int64_t *) mem_param_181306.mem)[slice_180453];
                                        float tmp_180456 = ((float *) mem_param_181309.mem)[slice_180453];
                                        
                                        loopres_180435 = i_180403;
                                        loopres_180436 = tmp_180454;
                                        loopres_180437 = tmp_180455;
                                        loopres_180438 = tmp_180456;
                                    }
                                    ((int8_t *) mem_181412.mem)[k_180402] = loopres_180436;
                                    ((int64_t *) mem_181414.mem)[k_180402] = loopres_180437;
                                    ((float *) mem_181416.mem)[k_180402] = loopres_180438;
                                    
                                    int64_t i_tmp_182718 = loopres_180435;
                                    
                                    i_180403 = i_tmp_182718;
                                }
                                data_180398 = i_180403;
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181412, "mem_181412") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181414, "mem_181414") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181416, "mem_181416") != 0)
                                    return 1;
                            } else {
                                if (mem_181331_cached_sizze_182940 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181331, &mem_181331_cached_sizze_182940, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181333_cached_sizze_182941 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181333, &mem_181333_cached_sizze_182941, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180914 = 0; i_180914 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185; i_180914++) {
                                    int64_t split_count_arg3_177338 = mul64(merge_block_sizze_177001, i_180914);
                                    int64_t defunc_0_split_count_res_177339;
                                    int64_t defunc_0_split_count_res_177340;
                                    int64_t defunc_0_split_count_res_177341;
                                    int64_t defunc_0_split_count_res_177342;
                                    int64_t defunc_0_split_count_res_177343;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_177339, &defunc_0_split_count_res_177340, &defunc_0_split_count_res_177341, &defunc_0_split_count_res_177342, &defunc_0_split_count_res_177343, (int64_t) 0, stride_177163, (int64_t) 0, j_m_i_177186, split_count_arg3_177338) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177344 = slt64((int64_t) 0, defunc_0_split_count_res_177343);
                                    bool defunc_0_split_count_res_177345;
                                    int64_t defunc_0_split_count_res_177346;
                                    int64_t defunc_0_split_count_res_177347;
                                    int64_t defunc_0_split_count_res_177348;
                                    int64_t defunc_0_split_count_res_177349;
                                    int64_t defunc_0_split_count_res_177350;
                                    bool loop_while_177351;
                                    int64_t ss_177352;
                                    int64_t ss_177353;
                                    int64_t tt_177354;
                                    int64_t tt_177355;
                                    int64_t count_177356;
                                    
                                    loop_while_177351 = loop_cond_177344;
                                    ss_177352 = defunc_0_split_count_res_177339;
                                    ss_177353 = defunc_0_split_count_res_177340;
                                    tt_177354 = defunc_0_split_count_res_177341;
                                    tt_177355 = defunc_0_split_count_res_177342;
                                    count_177356 = defunc_0_split_count_res_177343;
                                    while (loop_while_177351) {
                                        int64_t zlze_lhs_177357 = sub64(ss_177353, ss_177352);
                                        bool cond_177358 = sle64(zlze_lhs_177357, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177359;
                                        int64_t defunc_0_lifted_step_res_177360;
                                        int64_t defunc_0_lifted_step_res_177361;
                                        int64_t defunc_0_lifted_step_res_177362;
                                        
                                        if (cond_177358) {
                                            int64_t tmp_180460 = add64(tt_177354, count_177356);
                                            
                                            defunc_0_lifted_step_res_177359 = ss_177352;
                                            defunc_0_lifted_step_res_177360 = tmp_180460;
                                            defunc_0_lifted_step_res_177361 = tt_177355;
                                            defunc_0_lifted_step_res_177362 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177364 = sub64(tt_177355, tt_177354);
                                            bool cond_177365 = sle64(zlze_lhs_177364, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177366;
                                            int64_t defunc_0_lifted_step_res_f_res_177367;
                                            int64_t defunc_0_lifted_step_res_f_res_177368;
                                            int64_t defunc_0_lifted_step_res_f_res_177369;
                                            
                                            if (cond_177365) {
                                                int64_t tmp_180461 = add64(ss_177352, count_177356);
                                                
                                                defunc_0_lifted_step_res_f_res_177366 = tmp_180461;
                                                defunc_0_lifted_step_res_f_res_177367 = tt_177354;
                                                defunc_0_lifted_step_res_f_res_177368 = tt_177355;
                                                defunc_0_lifted_step_res_f_res_177369 = (int64_t) 0;
                                            } else {
                                                bool cond_177371 = count_177356 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177372;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177373;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177374;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177375;
                                                
                                                if (cond_177371) {
                                                    bool x_180463 = sle64((int64_t) 0, ss_177352);
                                                    bool y_180464 = slt64(ss_177352, stride_177163);
                                                    bool bounds_check_180465 = x_180463 && y_180464;
                                                    bool index_certs_180466;
                                                    
                                                    if (!bounds_check_180465) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177352, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180471 = sle64((int64_t) 0, tt_177354);
                                                    bool y_180472 = slt64(tt_177354, j_m_i_177186);
                                                    bool bounds_check_180473 = x_180471 && y_180472;
                                                    bool index_certs_180474;
                                                    
                                                    if (!bounds_check_180473) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177354, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180467 = start_177237 + ss_177352;
                                                    int8_t leq_arg1_180468 = ((int8_t *) mem_param_181303.mem)[slice_180467];
                                                    int64_t leq_arg1_180469 = ((int64_t *) mem_param_181306.mem)[slice_180467];
                                                    float leq_arg1_180470 = ((float *) mem_param_181309.mem)[slice_180467];
                                                    int64_t slice_180475 = stride_177163 + tt_177354;
                                                    int64_t slice_180476 = start_177237 + slice_180475;
                                                    int8_t leq_arg0_180477 = ((int8_t *) mem_param_181303.mem)[slice_180476];
                                                    int64_t leq_arg0_180478 = ((int64_t *) mem_param_181306.mem)[slice_180476];
                                                    float leq_arg0_180479 = ((float *) mem_param_181309.mem)[slice_180476];
                                                    bool cond_180480 = leq_arg0_180477 == leq_arg1_180468;
                                                    bool defunc_0_leq_res_t_res_180481 = sle64(leq_arg0_180478, leq_arg1_180469);
                                                    bool defunc_0_leq_res_180482 = leq_arg0_180479 <= leq_arg1_180470;
                                                    bool x_180483 = cond_180480 && defunc_0_leq_res_t_res_180481;
                                                    bool x_180484 = !cond_180480;
                                                    bool y_180485 = defunc_0_leq_res_180482 && x_180484;
                                                    bool defunc_0_leq_res_180486 = x_180483 || y_180485;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    
                                                    if (defunc_0_leq_res_180486) {
                                                        int64_t tmp_180489 = add64((int64_t) 1, tt_177354);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = ss_177352;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tmp_180489;
                                                    } else {
                                                        int64_t tmp_180490 = add64((int64_t) 1, ss_177352);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = tmp_180490;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tt_177354;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = tt_177355;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177404 = sdiv64(count_177356, (int64_t) 2);
                                                    int64_t n_177405 = sub64(count_177356, m_177404);
                                                    bool cond_177406 = n_177405 == (int64_t) 0;
                                                    int64_t zgze_lhs_177407 = add64(ss_177352, m_177404);
                                                    bool cond_f_res_177408 = sle64(ss_177353, zgze_lhs_177407);
                                                    bool x_177409 = !cond_177406;
                                                    bool y_177410 = cond_f_res_177408 && x_177409;
                                                    bool cond_177411 = cond_177406 || y_177410;
                                                    bool leq_y_x_177412;
                                                    
                                                    if (cond_177411) {
                                                        leq_y_x_177412 = 1;
                                                    } else {
                                                        bool x_177413 = sle64((int64_t) 0, zgze_lhs_177407);
                                                        bool y_177414 = slt64(zgze_lhs_177407, stride_177163);
                                                        bool bounds_check_177415 = x_177413 && y_177414;
                                                        bool index_certs_177416;
                                                        
                                                        if (!bounds_check_177415) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177407, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177421 = add64(tt_177354, n_177405);
                                                        int64_t leq_arg0_177422 = sub64(zm_lhs_177421, (int64_t) 1);
                                                        bool x_177423 = sle64((int64_t) 0, leq_arg0_177422);
                                                        bool y_177424 = slt64(leq_arg0_177422, j_m_i_177186);
                                                        bool bounds_check_177425 = x_177423 && y_177424;
                                                        bool index_certs_177426;
                                                        
                                                        if (!bounds_check_177425) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177422, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177417 = start_177237 + zgze_lhs_177407;
                                                        int8_t leq_arg1_177418 = ((int8_t *) mem_param_181303.mem)[slice_177417];
                                                        int64_t leq_arg1_177419 = ((int64_t *) mem_param_181306.mem)[slice_177417];
                                                        float leq_arg1_177420 = ((float *) mem_param_181309.mem)[slice_177417];
                                                        int64_t slice_177427 = stride_177163 + leq_arg0_177422;
                                                        int64_t slice_177428 = start_177237 + slice_177427;
                                                        int8_t leq_arg0_177429 = ((int8_t *) mem_param_181303.mem)[slice_177428];
                                                        int64_t leq_arg0_177430 = ((int64_t *) mem_param_181306.mem)[slice_177428];
                                                        float leq_arg0_177431 = ((float *) mem_param_181309.mem)[slice_177428];
                                                        bool cond_177432 = leq_arg0_177429 == leq_arg1_177418;
                                                        bool defunc_0_leq_res_t_res_177433 = sle64(leq_arg0_177430, leq_arg1_177419);
                                                        bool defunc_0_leq_res_177434 = leq_arg0_177431 <= leq_arg1_177420;
                                                        bool x_177435 = cond_177432 && defunc_0_leq_res_t_res_177433;
                                                        bool x_177436 = !cond_177432;
                                                        bool y_177437 = defunc_0_leq_res_177434 && x_177436;
                                                        bool defunc_0_leq_res_177438 = x_177435 || y_177437;
                                                        
                                                        leq_y_x_177412 = defunc_0_leq_res_177438;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                    
                                                    if (leq_y_x_177412) {
                                                        int64_t tmp_180491 = add64(tt_177354, n_177405);
                                                        int64_t tmp_180492 = sub64(count_177356, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tmp_180491;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tt_177355;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = tmp_180492;
                                                    } else {
                                                        int64_t tmp_177444 = add64(tt_177354, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tt_177354;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tmp_177444;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = count_177356;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = ss_177352;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                }
                                                defunc_0_lifted_step_res_f_res_177366 = defunc_0_lifted_step_res_f_res_f_res_177372;
                                                defunc_0_lifted_step_res_f_res_177367 = defunc_0_lifted_step_res_f_res_f_res_177373;
                                                defunc_0_lifted_step_res_f_res_177368 = defunc_0_lifted_step_res_f_res_f_res_177374;
                                                defunc_0_lifted_step_res_f_res_177369 = defunc_0_lifted_step_res_f_res_f_res_177375;
                                            }
                                            defunc_0_lifted_step_res_177359 = defunc_0_lifted_step_res_f_res_177366;
                                            defunc_0_lifted_step_res_177360 = defunc_0_lifted_step_res_f_res_177367;
                                            defunc_0_lifted_step_res_177361 = defunc_0_lifted_step_res_f_res_177368;
                                            defunc_0_lifted_step_res_177362 = defunc_0_lifted_step_res_f_res_177369;
                                        }
                                        
                                        int64_t loopres_177445;
                                        int64_t loopres_177446;
                                        int64_t loopres_177447;
                                        int64_t loopres_177448;
                                        int64_t loopres_177449;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_177445, &loopres_177446, &loopres_177447, &loopres_177448, &loopres_177449, defunc_0_lifted_step_res_177359, ss_177353, defunc_0_lifted_step_res_177360, defunc_0_lifted_step_res_177361, defunc_0_lifted_step_res_177362) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177450 = slt64((int64_t) 0, loopres_177449);
                                        bool loop_while_tmp_182724 = loop_cond_177450;
                                        int64_t ss_tmp_182725 = loopres_177445;
                                        int64_t ss_tmp_182726 = loopres_177446;
                                        int64_t tt_tmp_182727 = loopres_177447;
                                        int64_t tt_tmp_182728 = loopres_177448;
                                        int64_t count_tmp_182729 = loopres_177449;
                                        
                                        loop_while_177351 = loop_while_tmp_182724;
                                        ss_177352 = ss_tmp_182725;
                                        ss_177353 = ss_tmp_182726;
                                        tt_177354 = tt_tmp_182727;
                                        tt_177355 = tt_tmp_182728;
                                        count_177356 = count_tmp_182729;
                                    }
                                    defunc_0_split_count_res_177345 = loop_while_177351;
                                    defunc_0_split_count_res_177346 = ss_177352;
                                    defunc_0_split_count_res_177347 = ss_177353;
                                    defunc_0_split_count_res_177348 = tt_177354;
                                    defunc_0_split_count_res_177349 = tt_177355;
                                    defunc_0_split_count_res_177350 = count_177356;
                                    ((int64_t *) mem_181331)[i_180914] = defunc_0_split_count_res_177346;
                                    ((int64_t *) mem_181333)[i_180914] = defunc_0_split_count_res_177348;
                                }
                                if (mem_181347_cached_sizze_182942 < flat_dim_177187) {
                                    err = lexical_realloc(ctx, &mem_181347, &mem_181347_cached_sizze_182942, flat_dim_177187);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181350_cached_sizze_182943 < bytes_181349) {
                                    err = lexical_realloc(ctx, &mem_181350, &mem_181350_cached_sizze_182943, bytes_181349);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181353_cached_sizze_182944 < bytes_181352) {
                                    err = lexical_realloc(ctx, &mem_181353, &mem_181353_cached_sizze_182944, bytes_181352);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180923 = 0; i_180923 < num_blocks_177184; i_180923++) {
                                    bool y_177457 = slt64(i_180923, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool index_certs_177459;
                                    
                                    if (!y_177457) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177460 = ((int64_t *) mem_181331)[i_180923];
                                    int64_t defunc_0_f_res_177461 = ((int64_t *) mem_181333)[i_180923];
                                    int64_t tmp_177462 = add64((int64_t) 1, i_180923);
                                    bool x_177463 = sle64((int64_t) 0, tmp_177462);
                                    bool y_177464 = slt64(tmp_177462, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool bounds_check_177465 = x_177463 && y_177464;
                                    bool index_certs_177466;
                                    
                                    if (!bounds_check_177465) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177462, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177467 = ((int64_t *) mem_181331)[tmp_177462];
                                    int64_t defunc_0_f_res_177468 = ((int64_t *) mem_181333)[tmp_177462];
                                    int64_t merge_sequential_arg2_177469 = add64(stride_177163, defunc_0_f_res_177461);
                                    int64_t merge_sequential_arg2_177470 = add64(stride_177163, defunc_0_f_res_177468);
                                    int64_t j_m_i_177471 = sub64(merge_sequential_arg2_177470, merge_sequential_arg2_177469);
                                    bool empty_slice_177472 = j_m_i_177471 == (int64_t) 0;
                                    int64_t m_177473 = sub64(j_m_i_177471, (int64_t) 1);
                                    int64_t i_p_m_t_s_177474 = add64(merge_sequential_arg2_177469, m_177473);
                                    bool zzero_leq_i_p_m_t_s_177475 = sle64((int64_t) 0, i_p_m_t_s_177474);
                                    bool i_p_m_t_s_leq_w_177476 = slt64(i_p_m_t_s_177474, next_stride_177164);
                                    bool zzero_lte_i_177477 = sle64((int64_t) 0, merge_sequential_arg2_177469);
                                    bool i_lte_j_177478 = sle64(merge_sequential_arg2_177469, merge_sequential_arg2_177470);
                                    bool y_177479 = i_p_m_t_s_leq_w_177476 && zzero_lte_i_177477;
                                    bool y_177480 = zzero_leq_i_p_m_t_s_177475 && y_177479;
                                    bool forwards_ok_177481 = i_lte_j_177478 && y_177480;
                                    bool ok_or_empty_177482 = empty_slice_177472 || forwards_ok_177481;
                                    bool index_certs_177483;
                                    
                                    if (!ok_or_empty_177482) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177469, ":", (long long) merge_sequential_arg2_177470, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177484 = sub64(defunc_0_f_res_177467, defunc_0_f_res_177460);
                                    bool empty_slice_177485 = j_m_i_177484 == (int64_t) 0;
                                    int64_t m_177486 = sub64(j_m_i_177484, (int64_t) 1);
                                    int64_t i_p_m_t_s_177487 = add64(defunc_0_f_res_177460, m_177486);
                                    bool zzero_leq_i_p_m_t_s_177488 = sle64((int64_t) 0, i_p_m_t_s_177487);
                                    bool i_p_m_t_s_leq_w_177489 = slt64(i_p_m_t_s_177487, next_stride_177164);
                                    bool zzero_lte_i_177490 = sle64((int64_t) 0, defunc_0_f_res_177460);
                                    bool i_lte_j_177491 = sle64(defunc_0_f_res_177460, defunc_0_f_res_177467);
                                    bool y_177492 = i_p_m_t_s_leq_w_177489 && zzero_lte_i_177490;
                                    bool y_177493 = zzero_leq_i_p_m_t_s_177488 && y_177492;
                                    bool forwards_ok_177494 = i_lte_j_177491 && y_177493;
                                    bool ok_or_empty_177495 = empty_slice_177485 || forwards_ok_177494;
                                    bool index_certs_177496;
                                    
                                    if (!ok_or_empty_177495) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177460, ":", (long long) defunc_0_f_res_177467, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177497 = slt64((int64_t) 0, j_m_i_177484);
                                    int8_t dummy_177498;
                                    int64_t dummy_177499;
                                    float dummy_177500;
                                    
                                    if (cond_177497) {
                                        bool index_certs_180493;
                                        
                                        if (!cond_177497) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180494 = start_177237 + defunc_0_f_res_177460;
                                        int8_t head_res_180495 = ((int8_t *) mem_param_181303.mem)[slice_180494];
                                        int64_t head_res_180496 = ((int64_t *) mem_param_181306.mem)[slice_180494];
                                        float head_res_180497 = ((float *) mem_param_181309.mem)[slice_180494];
                                        
                                        dummy_177498 = head_res_180495;
                                        dummy_177499 = head_res_180496;
                                        dummy_177500 = head_res_180497;
                                    } else {
                                        bool y_177506 = slt64((int64_t) 0, j_m_i_177471);
                                        bool index_certs_177507;
                                        
                                        if (!y_177506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177508 = start_177237 + merge_sequential_arg2_177469;
                                        int8_t head_res_177509 = ((int8_t *) mem_param_181303.mem)[slice_177508];
                                        int64_t head_res_177510 = ((int64_t *) mem_param_181306.mem)[slice_177508];
                                        float head_res_177511 = ((float *) mem_param_181309.mem)[slice_177508];
                                        
                                        dummy_177498 = head_res_177509;
                                        dummy_177499 = head_res_177510;
                                        dummy_177500 = head_res_177511;
                                    }
                                    for (int64_t nest_i_182733 = 0; nest_i_182733 < merge_block_sizze_177001; nest_i_182733++) {
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + nest_i_182733] = dummy_177498;
                                    }
                                    for (int64_t nest_i_182734 = 0; nest_i_182734 < merge_block_sizze_177001; nest_i_182734++) {
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + nest_i_182734] = dummy_177499;
                                    }
                                    for (int64_t nest_i_182735 = 0; nest_i_182735 < merge_block_sizze_177001; nest_i_182735++) {
                                        ((float *) mem_181353)[i_180923 * merge_block_sizze_177001 + nest_i_182735] = dummy_177500;
                                    }
                                    
                                    int64_t data_177515;
                                    int64_t i_177520 = (int64_t) 0;
                                    
                                    for (int64_t k_177519 = 0; k_177519 < merge_block_sizze_177001; k_177519++) {
                                        int64_t j_177524 = sub64(k_177519, i_177520);
                                        bool cond_177525 = j_177524 == j_m_i_177471;
                                        bool cond_177526;
                                        
                                        if (cond_177525) {
                                            cond_177526 = 1;
                                        } else {
                                            bool cond_177527 = slt64(i_177520, j_m_i_177484);
                                            bool cond_f_res_177528;
                                            
                                            if (cond_177527) {
                                                bool x_180498 = sle64((int64_t) 0, j_177524);
                                                bool y_180499 = slt64(j_177524, j_m_i_177471);
                                                bool bounds_check_180500 = x_180498 && y_180499;
                                                bool index_certs_180501;
                                                
                                                if (!bounds_check_180500) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180507 = sle64((int64_t) 0, i_177520);
                                                bool bounds_check_180508 = cond_177527 && x_180507;
                                                bool index_certs_180509;
                                                
                                                if (!bounds_check_180508) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180502 = merge_sequential_arg2_177469 + j_177524;
                                                int64_t slice_180503 = start_177237 + slice_180502;
                                                int8_t leq_arg1_180504 = ((int8_t *) mem_param_181303.mem)[slice_180503];
                                                int64_t leq_arg1_180505 = ((int64_t *) mem_param_181306.mem)[slice_180503];
                                                float leq_arg1_180506 = ((float *) mem_param_181309.mem)[slice_180503];
                                                int64_t slice_180510 = defunc_0_f_res_177460 + i_177520;
                                                int64_t slice_180511 = start_177237 + slice_180510;
                                                int8_t leq_arg0_180512 = ((int8_t *) mem_param_181303.mem)[slice_180511];
                                                int64_t leq_arg0_180513 = ((int64_t *) mem_param_181306.mem)[slice_180511];
                                                float leq_arg0_180514 = ((float *) mem_param_181309.mem)[slice_180511];
                                                bool cond_180515 = leq_arg0_180512 == leq_arg1_180504;
                                                bool defunc_0_leq_res_t_res_180516 = sle64(leq_arg0_180513, leq_arg1_180505);
                                                bool defunc_0_leq_res_180517 = leq_arg0_180514 <= leq_arg1_180506;
                                                bool x_180518 = cond_180515 && defunc_0_leq_res_t_res_180516;
                                                bool x_180519 = !cond_180515;
                                                bool y_180520 = defunc_0_leq_res_180517 && x_180519;
                                                bool defunc_0_leq_res_180521 = x_180518 || y_180520;
                                                
                                                cond_f_res_177528 = defunc_0_leq_res_180521;
                                            } else {
                                                cond_f_res_177528 = 0;
                                            }
                                            cond_177526 = cond_f_res_177528;
                                        }
                                        
                                        int64_t loopres_177553;
                                        int8_t loopres_177554;
                                        int64_t loopres_177555;
                                        float loopres_177556;
                                        
                                        if (cond_177526) {
                                            bool x_180523 = sle64((int64_t) 0, i_177520);
                                            bool y_180524 = slt64(i_177520, j_m_i_177484);
                                            bool bounds_check_180525 = x_180523 && y_180524;
                                            bool index_certs_180526;
                                            
                                            if (!bounds_check_180525) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180522 = add64((int64_t) 1, i_177520);
                                            int64_t slice_180527 = defunc_0_f_res_177460 + i_177520;
                                            int64_t slice_180528 = start_177237 + slice_180527;
                                            int8_t tmp_180529 = ((int8_t *) mem_param_181303.mem)[slice_180528];
                                            int64_t tmp_180530 = ((int64_t *) mem_param_181306.mem)[slice_180528];
                                            float tmp_180531 = ((float *) mem_param_181309.mem)[slice_180528];
                                            
                                            loopres_177553 = tmp_180522;
                                            loopres_177554 = tmp_180529;
                                            loopres_177555 = tmp_180530;
                                            loopres_177556 = tmp_180531;
                                        } else {
                                            bool x_177567 = sle64((int64_t) 0, j_177524);
                                            bool y_177568 = slt64(j_177524, j_m_i_177471);
                                            bool bounds_check_177569 = x_177567 && y_177568;
                                            bool index_certs_177570;
                                            
                                            if (!bounds_check_177569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177571 = merge_sequential_arg2_177469 + j_177524;
                                            int64_t slice_177572 = start_177237 + slice_177571;
                                            int8_t tmp_177573 = ((int8_t *) mem_param_181303.mem)[slice_177572];
                                            int64_t tmp_177574 = ((int64_t *) mem_param_181306.mem)[slice_177572];
                                            float tmp_177575 = ((float *) mem_param_181309.mem)[slice_177572];
                                            
                                            loopres_177553 = i_177520;
                                            loopres_177554 = tmp_177573;
                                            loopres_177555 = tmp_177574;
                                            loopres_177556 = tmp_177575;
                                        }
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177554;
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177555;
                                        ((float *) mem_181353)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177556;
                                        
                                        int64_t i_tmp_182736 = loopres_177553;
                                        
                                        i_177520 = i_tmp_182736;
                                    }
                                    data_177515 = i_177520;
                                }
                                if (memblock_alloc(ctx, &mem_181402, flat_dim_177187, "mem_181402")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181402.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint8_t *) mem_181347, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181406, bytes_181349, "mem_181406")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181406.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint64_t *) mem_181350, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181410, bytes_181352, "mem_181410")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181410.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint32_t *) mem_181353, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181402, "mem_181402") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181406, "mem_181406") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181410, "mem_181410") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181311, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181443.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181314, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181440.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181317, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181437.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181457, bytes_181310, "mem_181457")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181457.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint8_t *) mem_181311, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181461, bytes_181313, "mem_181461")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181461.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint64_t *) mem_181314, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181465, bytes_181316, "mem_181465")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181465.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint32_t *) mem_181317, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        
                        bool loop_cond_177589 = slt64(next_stride_177164, flat_dim_176996);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182703, &mem_181457, "mem_181457") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182704, &mem_181461, "mem_181461") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182705, &mem_181465, "mem_181465") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182706 = bytes_181310;
                        bool loop_while_tmp_182707 = loop_cond_177589;
                        int64_t stride_tmp_182711 = next_stride_177164;
                        
                        if (memblock_set(ctx, &mem_param_181303, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181306, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181309, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177158 = loop_dz2084Uz2082U_tmp_182706;
                        loop_while_177159 = loop_while_tmp_182707;
                        stride_177163 = stride_tmp_182711;
                    }
                    if (memblock_set(ctx, &ext_mem_181475, &mem_param_181303, "mem_param_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181474, &mem_param_181306, "mem_param_181306") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181473, &mem_param_181309, "mem_param_181309") != 0)
                        return 1;
                    data_177152 = loop_dz2084Uz2082U_177158;
                    data_177153 = loop_while_177159;
                    data_177157 = stride_177163;
                    if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
                        return 1;
                    
                    bool empty_slice_177590 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177591 = sle64((int64_t) 0, zs_lhs_176980);
                    bool i_p_m_t_s_leq_w_177592 = slt64(zs_lhs_176980, data_177152);
                    bool y_177593 = zzero_leq_i_p_m_t_s_177591 && i_p_m_t_s_leq_w_177592;
                    bool ok_or_empty_177594 = empty_slice_177590 || y_177593;
                    bool index_certs_177595;
                    
                    if (!ok_or_empty_177594) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] out of bounds for array of shape [", (long long) data_177152, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181484, &ext_mem_181475, "ext_mem_181475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &ext_mem_181474, "ext_mem_181474") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &ext_mem_181473, "ext_mem_181473") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181165.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181484.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181167.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181481.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181169.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181478.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
                    return 1;
                
                bool loop_cond_177631 = slt64(ubs_176923, threads_152857);
                bool loop_while_tmp_182670 = loop_cond_177631;
                int64_t p_tmp_182671 = ubs_176923;
                
                loop_while_176912 = loop_while_tmp_182670;
                p_176913 = p_tmp_182671;
            }
            defunc_0_mergeFunc_seq_res_176907 = loop_while_176912;
            defunc_0_mergeFunc_seq_res_176908 = p_176913;
            
            int64_t index_concat_branch_178448;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180546 = ((int64_t *) mem_181150)[index_concat_i_178445];
                
                index_concat_branch_178448 = index_concat_180546;
            } else {
                index_concat_branch_178448 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178442;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180547 = ((int64_t *) mem_181152)[index_concat_i_178445];
                
                index_concat_branch_178442 = index_concat_180547;
            } else {
                index_concat_branch_178442 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181165, "mem_181165") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181167, "mem_181167") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181169, "mem_181169") != 0)
                return 1;
            loopres_175671 = index_concat_branch_178448;
            loopres_175672 = index_concat_branch_178442;
        }
        for (int64_t i_180939 = 0; i_180939 < window_sizze_152856; i_180939++) {
            int8_t eta_p_177639 = ((int8_t *) ext_mem_181903.mem)[i_180939];
            int64_t eta_p_177640 = ((int64_t *) ext_mem_181900.mem)[i_180939];
            bool cond_177641 = eta_p_177639 == (int8_t) 0;
            int64_t tmp_177642;
            
            if (cond_177641) {
                int64_t tmp_t_res_180550 = add64(p_175643, eta_p_177640);
                
                tmp_177642 = tmp_t_res_180550;
            } else {
                int64_t tmp_f_res_177644 = add64(p_175644, eta_p_177640);
                
                tmp_177642 = tmp_f_res_177644;
            }
            ((int64_t *) mem_181137.mem)[ind_bottom_175647 + i_180939] = tmp_177642;
        }
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        
        int64_t next_lbs_177645 = add64(p_175643, loopres_175671);
        int64_t next_lbs_177646 = add64(p_175644, loopres_175672);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181903.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152856});
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181139.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181897.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152856});
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        
        bool cond_177660 = slt64(next_lbs_177645, zl_rhs_175626);
        bool loop_cond_t_res_177661 = slt64(next_lbs_177646, zl_rhs_175628);
        bool x_177662 = cond_177660 && loop_cond_t_res_177661;
        bool loop_while_tmp_182554 = x_177662;
        int64_t p_tmp_182558 = next_lbs_177645;
        int64_t p_tmp_182559 = next_lbs_177646;
        
        loop_while_175639 = loop_while_tmp_182554;
        p_175643 = p_tmp_182558;
        p_175644 = p_tmp_182559;
    }
    defunc_0_merge_pipeline_res_175633 = loop_while_175639;
    defunc_0_merge_pipeline_res_175637 = p_175643;
    defunc_0_merge_pipeline_res_175638 = p_175644;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 = sub64(nb_152855, defunc_0_merge_pipeline_res_175638);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 = sub64(na_152854, defunc_0_merge_pipeline_res_175637);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    bool empty_slice_177666 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 == (int64_t) 0;
    int64_t m_177667 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 1);
    int64_t i_p_m_t_s_177668 = add64(defunc_0_merge_pipeline_res_175637, m_177667);
    bool zzero_leq_i_p_m_t_s_177669 = sle64((int64_t) 0, i_p_m_t_s_177668);
    bool i_p_m_t_s_leq_w_177670 = slt64(i_p_m_t_s_177668, na_152854);
    bool zzero_lte_i_177671 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175637);
    bool i_lte_j_177672 = sle64(defunc_0_merge_pipeline_res_175637, na_152854);
    bool y_177673 = i_p_m_t_s_leq_w_177670 && zzero_lte_i_177671;
    bool y_177674 = zzero_leq_i_p_m_t_s_177669 && y_177673;
    bool forwards_ok_177675 = i_lte_j_177672 && y_177674;
    bool ok_or_empty_177676 = empty_slice_177666 || forwards_ok_177675;
    bool index_certs_177677;
    
    if (!ok_or_empty_177676) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175637, ":", (long long) na_152854, "] out of bounds for array of shape [", (long long) na_152854, "].", "-> #0  ftsort.fut:436:14-34\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177681 = slt64(na_152854, defunc_0_merge_pipeline_res_175637);
    bool valid_177682 = !bounds_invalid_upwards_177681;
    bool range_valid_c_177683;
    
    if (!valid_177682) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175637, "..<", (long long) na_152854, " is invalid.", "-> #0  ftsort.fut:440:9-25\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177687 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 == (int64_t) 0;
    int64_t m_177688 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, (int64_t) 1);
    int64_t i_p_m_t_s_177689 = add64(defunc_0_merge_pipeline_res_175638, m_177688);
    bool zzero_leq_i_p_m_t_s_177690 = sle64((int64_t) 0, i_p_m_t_s_177689);
    bool i_p_m_t_s_leq_w_177691 = slt64(i_p_m_t_s_177689, nb_152855);
    bool zzero_lte_i_177692 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175638);
    bool i_lte_j_177693 = sle64(defunc_0_merge_pipeline_res_175638, nb_152855);
    bool y_177694 = i_p_m_t_s_leq_w_177691 && zzero_lte_i_177692;
    bool y_177695 = zzero_leq_i_p_m_t_s_177690 && y_177694;
    bool forwards_ok_177696 = i_lte_j_177693 && y_177695;
    bool ok_or_empty_177697 = empty_slice_177687 || forwards_ok_177696;
    bool index_certs_177698;
    
    if (!ok_or_empty_177697) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175638, ":", (long long) nb_152855, "] out of bounds for array of shape [", (long long) nb_152855, "].", "-> #0  ftsort.fut:442:14-34\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177702 = slt64(nb_152855, defunc_0_merge_pipeline_res_175638);
    bool valid_177703 = !bounds_invalid_upwards_177702;
    bool range_valid_c_177704;
    
    if (!valid_177703) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175638, "..<", (long long) nb_152855, " is invalid.", "-> #0  ftsort.fut:446:9-25\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181928 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    int64_t bytes_181930 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool cond_177711 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zs_lhs_177712 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zp_rhs_177713 = sdiv_safe64(zs_lhs_177712, (int64_t) 20);
    int64_t min_num_blocks_177714 = add64((int64_t) 1, zp_rhs_177713);
    bool loop_cond_177715 = slt64((int64_t) 1, min_num_blocks_177714);
    bool smallest_pow_2_geq_than_res_177716;
    int64_t smallest_pow_2_geq_than_res_177717;
    bool loop_while_177718;
    int64_t x_177719;
    
    loop_while_177718 = loop_cond_177715;
    x_177719 = (int64_t) 1;
    while (loop_while_177718) {
        int64_t loopres_177720 = mul64((int64_t) 2, x_177719);
        bool loop_cond_177721 = slt64(loopres_177720, min_num_blocks_177714);
        bool loop_while_tmp_182741 = loop_cond_177721;
        int64_t x_tmp_182742 = loopres_177720;
        
        loop_while_177718 = loop_while_tmp_182741;
        x_177719 = x_tmp_182742;
    }
    smallest_pow_2_geq_than_res_177716 = loop_while_177718;
    smallest_pow_2_geq_than_res_177717 = x_177719;
    
    bool zzero_177722 = smallest_pow_2_geq_than_res_177717 == (int64_t) 0;
    bool nonzzero_177723 = !zzero_177722;
    bool protect_assert_disj_177724 = cond_177711 || nonzzero_177723;
    bool nonzzero_cert_177725;
    
    if (!protect_assert_disj_177724) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177726 = sdiv_safe64(zs_lhs_177712, smallest_pow_2_geq_than_res_177717);
    int64_t block_sizze_177727 = add64((int64_t) 1, zp_rhs_177726);
    bool y_177734 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool protect_assert_disj_182256 = cond_177711 || y_177734;
    bool index_certs_177735;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177761 = slt64(smallest_pow_2_geq_than_res_177717, (int64_t) 0);
    bool valid_177762 = !bounds_invalid_upwards_177761;
    bool protect_assert_disj_182266 = cond_177711 || valid_177762;
    bool range_valid_c_177763;
    
    if (!protect_assert_disj_182266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177717, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177765 = slt64(block_sizze_177727, (int64_t) 0);
    bool valid_177766 = !bounds_invalid_upwards_177765;
    bool protect_assert_disj_182268 = cond_177711 || valid_177766;
    bool range_valid_c_177767;
    
    if (!protect_assert_disj_182268) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177727, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177769 = sle64(block_sizze_177727, (int64_t) 1);
    int64_t tmp_177770 = sub64(block_sizze_177727, (int64_t) 2);
    bool bounds_invalid_upwards_177771 = slt64(tmp_177770, (int64_t) 0);
    bool valid_177773 = !bounds_invalid_upwards_177771;
    bool protect_assert_disj_177774 = cond_177769 || valid_177773;
    bool protect_assert_disj_182270 = cond_177711 || protect_assert_disj_177774;
    bool range_valid_c_177775;
    
    if (!protect_assert_disj_182270) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177770, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178336 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178338 = sle64((int64_t) 0, zs_lhs_177712);
    bool i_p_m_t_s_leq_w_178339 = slt64(zs_lhs_177712, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool y_178340 = zzero_leq_i_p_m_t_s_178338 && i_p_m_t_s_leq_w_178339;
    bool ok_or_empty_178341 = empty_slice_178336 || y_178340;
    bool index_certs_178342;
    
    if (!ok_or_empty_178341) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  ftsort.fut:455:78-101\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178343 = add64(defunc_0_merge_pipeline_res_175637, defunc_0_merge_pipeline_res_175638);
    int64_t j_m_i_178344 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, final_buffer_178343);
    bool empty_slice_178345 = j_m_i_178344 == (int64_t) 0;
    int64_t m_178346 = sub64(j_m_i_178344, (int64_t) 1);
    int64_t i_p_m_t_s_178347 = add64(final_buffer_178343, m_178346);
    bool zzero_leq_i_p_m_t_s_178348 = sle64((int64_t) 0, i_p_m_t_s_178347);
    bool i_p_m_t_s_leq_w_178349 = slt64(i_p_m_t_s_178347, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool zzero_lte_i_178350 = sle64((int64_t) 0, final_buffer_178343);
    bool i_lte_j_178351 = sle64(final_buffer_178343, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool y_178352 = i_p_m_t_s_leq_w_178349 && zzero_lte_i_178350;
    bool y_178353 = zzero_leq_i_p_m_t_s_178348 && y_178352;
    bool forwards_ok_178354 = i_lte_j_178351 && y_178353;
    bool ok_or_empty_178355 = empty_slice_178345 || forwards_ok_178354;
    bool index_certs_178356;
    
    if (!ok_or_empty_178355) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178343, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178357 = j_m_i_178344 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool empty_or_match_cert_178358;
    
    if (!dim_match_178357) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178344, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "]", " of value.", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:493:63-73\n   #2  ftsort.fut:486:1-493:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181927, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "mem_181927")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182743 = 0; nest_i_182743 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; nest_i_182743++) {
        ((int8_t *) mem_181927.mem)[nest_i_182743] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181929, bytes_181928, "mem_181929")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182744 = 0; i_182744 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; i_182744++) {
        int64_t x_182745 = defunc_0_merge_pipeline_res_175637 + i_182744 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[i_182744] = x_182745;
    }
    for (int64_t nest_i_182746 = 0; nest_i_182746 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; nest_i_182746++) {
        ((int8_t *) mem_181927.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + nest_i_182746] = (int8_t) 1;
    }
    for (int64_t i_182747 = 0; i_182747 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; i_182747++) {
        int64_t x_182748 = defunc_0_merge_pipeline_res_175638 + i_182747 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + i_182747] = x_182748;
    }
    
    int64_t tmp_offs_182749 = (int64_t) 0;
    
    if (!(tmp_offs_182749 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182749 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t tmp_offs_182750 = (int64_t) 0;
    
    if (!(tmp_offs_182750 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182750 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    if (memblock_alloc(ctx, &mem_181931, bytes_181930, "mem_181931")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182751 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181133.mem, defunc_0_merge_pipeline_res_175637, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181134.mem, defunc_0_merge_pipeline_res_175638, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t flat_dim_177728 = smallest_pow_2_geq_than_res_177717 * block_sizze_177727;
    bool x_182251 = !cond_177711;
    int64_t greatest_divisor_leq_than_arg1_177732 = mul64((int64_t) 2, block_sizze_177727);
    int64_t merge_block_sizze_177733;
    
    if (x_182251) {
        int64_t x_182253;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182253, (int64_t) 8, greatest_divisor_leq_than_arg1_177732) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177733 = x_182253;
    } else {
        merge_block_sizze_177733 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178408 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 0);
    int8_t index_concat_branch_178412 = btoi_bool_i8(index_concat_cmp_178408);
    int64_t index_concat_i_180552 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    int64_t index_primexp_180553 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180552);
    int64_t index_concat_branch_178406;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178406 = index_primexp_180553;
    } else {
        index_concat_branch_178406 = defunc_0_merge_pipeline_res_175637;
    }
    
    bool x_182247 = !index_concat_cmp_178408;
    bool protect_cond_conj_182257 = x_182247 && x_182251;
    float index_concat_178399;
    
    if (protect_cond_conj_182257) {
        float x_182249 = ((float *) a_list_mem_181133.mem)[defunc_0_merge_pipeline_res_175637];
        
        index_concat_178399 = x_182249;
    } else {
        index_concat_178399 = 0.0F;
    }
    
    bool protect_cond_conj_182258 = index_concat_cmp_178408 && x_182251;
    float index_concat_180556;
    
    if (protect_cond_conj_182258) {
        float x_182245 = ((float *) b_list_mem_181134.mem)[index_primexp_180553];
        
        index_concat_180556 = x_182245;
    } else {
        index_concat_180556 = 0.0F;
    }
    
    float index_concat_branch_178400;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178400 = index_concat_180556;
    } else {
        index_concat_branch_178400 = index_concat_178399;
    }
    
    int8_t defunc_0_reduce_res_180787;
    int64_t defunc_0_reduce_res_180788;
    float defunc_0_reduce_res_180789;
    
    if (x_182251) {
        int8_t x_182259;
        int64_t x_182260;
        float x_182261;
        int8_t redout_180941;
        int64_t redout_180942;
        float redout_180943;
        
        redout_180941 = index_concat_branch_178412;
        redout_180942 = index_concat_branch_178406;
        redout_180943 = index_concat_branch_178400;
        for (int64_t i_180944 = 0; i_180944 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665; i_180944++) {
            bool index_concat_cmp_181015 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, i_180944);
            int8_t index_concat_branch_181019 = btoi_bool_i8(index_concat_cmp_181015);
            int64_t index_concat_branch_181013;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181010 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t index_primexp_181103 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_181010);
                
                index_concat_branch_181013 = index_primexp_181103;
            } else {
                int64_t index_primexp_181105 = add64(defunc_0_merge_pipeline_res_175637, i_180944);
                
                index_concat_branch_181013 = index_primexp_181105;
            }
            
            float index_concat_branch_181007;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181004 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t slice_181100 = defunc_0_merge_pipeline_res_175638 + index_concat_i_181004;
                float index_concat_181005 = ((float *) b_list_mem_181134.mem)[slice_181100];
                
                index_concat_branch_181007 = index_concat_181005;
            } else {
                int64_t slice_181101 = defunc_0_merge_pipeline_res_175637 + i_180944;
                float index_concat_181006 = ((float *) a_list_mem_181133.mem)[slice_181101];
                
                index_concat_branch_181007 = index_concat_181006;
            }
            
            bool eq_x_y_181118 = redout_180941 == (int8_t) 1;
            bool eq_x_zz_181119 = redout_180941 == (int8_t) 0;
            bool p_and_eq_x_y_181120 = index_concat_cmp_181015 && eq_x_y_181118;
            bool not_p_181121 = !index_concat_cmp_181015;
            bool p_and_eq_x_y_181122 = eq_x_zz_181119 && not_p_181121;
            bool cond_177751 = p_and_eq_x_y_181120 || p_and_eq_x_y_181122;
            bool defunc_0_leq_res_t_res_177752 = sle64(redout_180942, index_concat_branch_181013);
            bool defunc_0_leq_res_177753 = redout_180943 <= index_concat_branch_181007;
            bool x_177754 = cond_177751 && defunc_0_leq_res_t_res_177752;
            bool x_177755 = !cond_177751;
            bool y_177756 = defunc_0_leq_res_177753 && x_177755;
            bool defunc_0_leq_res_177757 = x_177754 || y_177756;
            int8_t defunc_0_op_res_177758;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177758 = index_concat_branch_181019;
            } else {
                defunc_0_op_res_177758 = redout_180941;
            }
            
            int64_t defunc_0_op_res_177759;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177759 = index_concat_branch_181013;
            } else {
                defunc_0_op_res_177759 = redout_180942;
            }
            
            float defunc_0_op_res_177760;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177760 = index_concat_branch_181007;
            } else {
                defunc_0_op_res_177760 = redout_180943;
            }
            
            int8_t redout_tmp_182752 = defunc_0_op_res_177758;
            int64_t redout_tmp_182753 = defunc_0_op_res_177759;
            float redout_tmp_182754 = defunc_0_op_res_177760;
            
            redout_180941 = redout_tmp_182752;
            redout_180942 = redout_tmp_182753;
            redout_180943 = redout_tmp_182754;
        }
        x_182259 = redout_180941;
        x_182260 = redout_180942;
        x_182261 = redout_180943;
        defunc_0_reduce_res_180787 = x_182259;
        defunc_0_reduce_res_180788 = x_182260;
        defunc_0_reduce_res_180789 = x_182261;
    } else {
        defunc_0_reduce_res_180787 = (int8_t) 0;
        defunc_0_reduce_res_180788 = (int64_t) 0;
        defunc_0_reduce_res_180789 = 0.0F;
    }
    
    int64_t distance_177772 = add64((int64_t) 1, tmp_177770);
    int64_t binop_x_181934 = (int64_t) 8 * smallest_pow_2_geq_than_res_177717;
    int64_t bytes_181935 = block_sizze_177727 * binop_x_181934;
    int64_t binop_x_181937 = (int64_t) 4 * smallest_pow_2_geq_than_res_177717;
    int64_t bytes_181938 = block_sizze_177727 * binop_x_181937;
    int64_t bytes_181953 = (int64_t) 8 * block_sizze_177727;
    int64_t bytes_181955 = (int64_t) 4 * block_sizze_177727;
    bool loop_cond_177881 = slt64(block_sizze_177727, flat_dim_177728);
    bool zzero_177882 = merge_block_sizze_177733 == (int64_t) 0;
    bool nonzzero_177883 = !zzero_177882;
    
    if (cond_177711) {
        if (memblock_set(ctx, &ext_mem_182226, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &mem_181931, "mem_181931") != 0)
            return 1;
    } else {
        if (mem_181933_cached_sizze_182965 < flat_dim_177728) {
            err = lexical_realloc(ctx, &mem_181933, &mem_181933_cached_sizze_182965, flat_dim_177728);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181936_cached_sizze_182966 < bytes_181935) {
            err = lexical_realloc(ctx, &mem_181936, &mem_181936_cached_sizze_182966, bytes_181935);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181939_cached_sizze_182967 < bytes_181938) {
            err = lexical_realloc(ctx, &mem_181939, &mem_181939_cached_sizze_182967, bytes_181938);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181952_cached_sizze_182968 < block_sizze_177727) {
            err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_182968, block_sizze_177727);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181954_cached_sizze_182969 < bytes_181953) {
            err = lexical_realloc(ctx, &mem_181954, &mem_181954_cached_sizze_182969, bytes_181953);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181956_cached_sizze_182970 < bytes_181955) {
            err = lexical_realloc(ctx, &mem_181956, &mem_181956_cached_sizze_182970, bytes_181955);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180961 = 0; i_180961 < smallest_pow_2_geq_than_res_177717; i_180961++) {
            int64_t zp_lhs_177780 = mul64(block_sizze_177727, i_180961);
            
            for (int64_t i_180951 = 0; i_180951 < block_sizze_177727; i_180951++) {
                int64_t k_177785 = add64(zp_lhs_177780, i_180951);
                bool cond_177786 = slt64(k_177785, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
                int8_t lifted_lambda_res_177787;
                int64_t lifted_lambda_res_177788;
                float lifted_lambda_res_177789;
                
                if (cond_177786) {
                    bool x_180562 = sle64((int64_t) 0, k_177785);
                    bool bounds_check_180563 = cond_177786 && x_180562;
                    bool index_certs_180564;
                    
                    if (!bounds_check_180563) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177785, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180565 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, k_177785);
                    int8_t index_concat_branch_180566 = btoi_bool_i8(index_concat_cmp_180565);
                    int64_t index_concat_branch_180567;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180568 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t index_primexp_180569 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180568);
                        
                        index_concat_branch_180567 = index_primexp_180569;
                    } else {
                        int64_t index_primexp_180570 = add64(defunc_0_merge_pipeline_res_175637, k_177785);
                        
                        index_concat_branch_180567 = index_primexp_180570;
                    }
                    
                    float index_concat_branch_180571;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180572 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t slice_180573 = defunc_0_merge_pipeline_res_175638 + index_concat_i_180572;
                        float index_concat_180574 = ((float *) b_list_mem_181134.mem)[slice_180573];
                        
                        index_concat_branch_180571 = index_concat_180574;
                    } else {
                        int64_t slice_180575 = defunc_0_merge_pipeline_res_175637 + k_177785;
                        float index_concat_180576 = ((float *) a_list_mem_181133.mem)[slice_180575];
                        
                        index_concat_branch_180571 = index_concat_180576;
                    }
                    lifted_lambda_res_177787 = index_concat_branch_180566;
                    lifted_lambda_res_177788 = index_concat_branch_180567;
                    lifted_lambda_res_177789 = index_concat_branch_180571;
                } else {
                    lifted_lambda_res_177787 = defunc_0_reduce_res_180787;
                    lifted_lambda_res_177788 = defunc_0_reduce_res_180788;
                    lifted_lambda_res_177789 = defunc_0_reduce_res_180789;
                }
                ((int8_t *) mem_181952)[i_180951] = lifted_lambda_res_177787;
                ((int64_t *) mem_181954)[i_180951] = lifted_lambda_res_177788;
                ((float *) mem_181956)[i_180951] = lifted_lambda_res_177789;
            }
            if (!cond_177769) {
                for (int64_t i_177802 = 0; i_177802 < distance_177772; i_177802++) {
                    int64_t gt_arg1_177806 = add64((int64_t) 1, i_177802);
                    bool x_177807 = sle64((int64_t) 0, gt_arg1_177806);
                    bool y_177808 = slt64(gt_arg1_177806, block_sizze_177727);
                    bool bounds_check_177809 = x_177807 && y_177808;
                    bool index_certs_177810;
                    
                    if (!bounds_check_177809) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177806, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177814 = slt64(i_177802, block_sizze_177727);
                    bool index_certs_177815;
                    
                    if (!y_177814) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177802, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177811 = ((int8_t *) mem_181952)[gt_arg1_177806];
                    int64_t gt_arg1_177812 = ((int64_t *) mem_181954)[gt_arg1_177806];
                    float gt_arg1_177813 = ((float *) mem_181956)[gt_arg1_177806];
                    int8_t gt_arg0_177816 = ((int8_t *) mem_181952)[i_177802];
                    int64_t gt_arg0_177817 = ((int64_t *) mem_181954)[i_177802];
                    float gt_arg0_177818 = ((float *) mem_181956)[i_177802];
                    bool cond_177819 = gt_arg0_177816 == gt_arg1_177811;
                    bool defunc_0_leq_res_t_res_177820 = sle64(gt_arg0_177817, gt_arg1_177812);
                    bool defunc_0_leq_res_177821 = gt_arg0_177818 <= gt_arg1_177813;
                    bool x_177822 = cond_177819 && defunc_0_leq_res_t_res_177820;
                    bool x_177823 = !cond_177819;
                    bool y_177824 = defunc_0_leq_res_177821 && x_177823;
                    bool defunc_0_leq_res_177825 = x_177822 || y_177824;
                    bool defunc_0_lifted_gt_res_177826 = !defunc_0_leq_res_177825;
                    bool s_177827;
                    int64_t s_177831;
                    bool loop_while_177832;
                    int64_t j_177836;
                    
                    loop_while_177832 = defunc_0_lifted_gt_res_177826;
                    j_177836 = i_177802;
                    while (loop_while_177832) {
                        bool x_177837 = sle64((int64_t) 0, j_177836);
                        bool y_177838 = slt64(j_177836, block_sizze_177727);
                        bool bounds_check_177839 = x_177837 && y_177838;
                        bool index_certs_177840;
                        
                        if (!bounds_check_177839) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177836, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177844 = add64((int64_t) 1, j_177836);
                        bool x_177845 = sle64((int64_t) 0, copy_arg0_177844);
                        bool y_177846 = slt64(copy_arg0_177844, block_sizze_177727);
                        bool bounds_check_177847 = x_177845 && y_177846;
                        bool index_certs_177848;
                        
                        if (!bounds_check_177847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177844, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177841 = ((int8_t *) mem_181952)[j_177836];
                        int64_t copy_arg0_177842 = ((int64_t *) mem_181954)[j_177836];
                        float copy_arg0_177843 = ((float *) mem_181956)[j_177836];
                        int8_t copy_arg0_177849 = ((int8_t *) mem_181952)[copy_arg0_177844];
                        int64_t copy_arg0_177850 = ((int64_t *) mem_181954)[copy_arg0_177844];
                        float copy_arg0_177851 = ((float *) mem_181956)[copy_arg0_177844];
                        
                        ((int8_t *) mem_181952)[j_177836] = copy_arg0_177849;
                        ((int64_t *) mem_181954)[j_177836] = copy_arg0_177850;
                        ((float *) mem_181956)[j_177836] = copy_arg0_177851;
                        ((int8_t *) mem_181952)[copy_arg0_177844] = copy_arg0_177841;
                        ((int64_t *) mem_181954)[copy_arg0_177844] = copy_arg0_177842;
                        ((float *) mem_181956)[copy_arg0_177844] = copy_arg0_177843;
                        
                        int64_t tmp_177858 = sub64(j_177836, (int64_t) 1);
                        bool cond_177859 = sle64((int64_t) 0, tmp_177858);
                        bool loop_cond_177860;
                        
                        if (cond_177859) {
                            bool y_180580 = slt64(tmp_177858, block_sizze_177727);
                            bool bounds_check_180581 = cond_177859 && y_180580;
                            bool index_certs_180582;
                            
                            if (!bounds_check_180581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177858, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180577 = ((int8_t *) mem_181952)[j_177836];
                            int64_t gt_arg1_180578 = ((int64_t *) mem_181954)[j_177836];
                            float gt_arg1_180579 = ((float *) mem_181956)[j_177836];
                            int8_t gt_arg0_180583 = ((int8_t *) mem_181952)[tmp_177858];
                            int64_t gt_arg0_180584 = ((int64_t *) mem_181954)[tmp_177858];
                            float gt_arg0_180585 = ((float *) mem_181956)[tmp_177858];
                            bool cond_180586 = gt_arg0_180583 == gt_arg1_180577;
                            bool defunc_0_leq_res_t_res_180587 = sle64(gt_arg0_180584, gt_arg1_180578);
                            bool defunc_0_leq_res_180588 = gt_arg0_180585 <= gt_arg1_180579;
                            bool x_180589 = cond_180586 && defunc_0_leq_res_t_res_180587;
                            bool x_180590 = !cond_180586;
                            bool y_180591 = defunc_0_leq_res_180588 && x_180590;
                            bool defunc_0_leq_res_180592 = x_180589 || y_180591;
                            bool defunc_0_lifted_gt_res_180593 = !defunc_0_leq_res_180592;
                            
                            loop_cond_177860 = defunc_0_lifted_gt_res_180593;
                        } else {
                            loop_cond_177860 = 0;
                        }
                        
                        bool loop_while_tmp_182764 = loop_cond_177860;
                        int64_t j_tmp_182768 = tmp_177858;
                        
                        loop_while_177832 = loop_while_tmp_182764;
                        j_177836 = j_tmp_182768;
                    }
                    s_177827 = loop_while_177832;
                    s_177831 = j_177836;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181933, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181936, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181954, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181939, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181956, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
        }
        if (memblock_alloc(ctx, &mem_182033, flat_dim_177728, "mem_182033")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_182033.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint8_t *) mem_181933, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182037, bytes_181935, "mem_182037")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_182037.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint64_t *) mem_181936, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182041, bytes_181938, "mem_182041")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_182041.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint32_t *) mem_181939, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        
        int64_t data_177884;
        bool data_177885;
        int64_t data_177889;
        int64_t loop_dz2084Uz2082U_177890;
        bool loop_while_177891;
        int64_t stride_177895;
        
        if (memblock_set(ctx, &mem_param_182045, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182048, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182051, &mem_182041, "mem_182041") != 0)
            return 1;
        loop_dz2084Uz2082U_177890 = flat_dim_177728;
        loop_while_177891 = loop_cond_177881;
        stride_177895 = block_sizze_177727;
        while (loop_while_177891) {
            int64_t next_stride_177896 = mul64((int64_t) 2, stride_177895);
            bool zzero_177897 = next_stride_177896 == (int64_t) 0;
            bool nonzzero_177898 = !zzero_177897;
            bool nonzzero_cert_177899;
            
            if (!nonzzero_177898) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:493:63-73\n   #4  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177900 = sdiv64(flat_dim_177728, next_stride_177896);
            bool bounds_invalid_upwards_177901 = slt64(num_merges_177900, (int64_t) 0);
            bool valid_177902 = !bounds_invalid_upwards_177901;
            bool range_valid_c_177903;
            
            if (!valid_177902) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177900, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177905 = sub64(next_stride_177896, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177906 = sle64((int64_t) 0, m_177905);
            bool cond_177908 = slt64(next_stride_177896, (int64_t) 10);
            bool protect_assert_disj_177909 = nonzzero_177883 || cond_177908;
            bool nonzzero_cert_177910;
            
            if (!protect_assert_disj_177909) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177911 = smod_safe64(next_stride_177896, merge_block_sizze_177733);
            bool num_blocks_177912 = zeze_lhs_177911 == (int64_t) 0;
            bool protect_assert_disj_177913 = cond_177908 || num_blocks_177912;
            bool assert_c_177914;
            
            if (!protect_assert_disj_177913) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177916 = sdiv_safe64(next_stride_177896, merge_block_sizze_177733);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917 = add64((int64_t) 1, num_blocks_177916);
            int64_t j_m_i_177918 = sub64(next_stride_177896, stride_177895);
            int64_t flat_dim_177919 = merge_block_sizze_177733 * num_blocks_177916;
            bool bounds_invalid_upwards_177920 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, (int64_t) 0);
            bool empty_slice_177921 = j_m_i_177918 == (int64_t) 0;
            int64_t m_177922 = sub64(j_m_i_177918, (int64_t) 1);
            bool zzero_lte_i_177923 = sle64((int64_t) 0, stride_177895);
            bool i_lte_j_177924 = sle64(stride_177895, next_stride_177896);
            bool empty_slice_177925 = stride_177895 == (int64_t) 0;
            int64_t m_177926 = sub64(stride_177895, (int64_t) 1);
            bool bounds_invalid_upwards_177927 = slt64(num_blocks_177916, (int64_t) 0);
            bool cond_177928 = slt64((int64_t) 0, stride_177895);
            bool valid_177929 = !bounds_invalid_upwards_177920;
            int64_t i_p_m_t_s_177930 = add64(stride_177895, m_177922);
            bool zzero_leq_i_p_m_t_s_177931 = sle64((int64_t) 0, m_177926);
            bool i_p_m_t_s_leq_w_177932 = slt64(m_177926, next_stride_177896);
            bool valid_177933 = !bounds_invalid_upwards_177927;
            bool i_p_m_t_s_leq_w_177934 = slt64(m_177905, flat_dim_177919);
            bool y_177935 = slt64((int64_t) 0, j_m_i_177918);
            bool protect_assert_disj_177936 = cond_177908 || valid_177929;
            bool range_valid_c_177937;
            
            if (!protect_assert_disj_177936) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177938 = sle64((int64_t) 0, i_p_m_t_s_177930);
            bool i_p_m_t_s_leq_w_177939 = slt64(i_p_m_t_s_177930, next_stride_177896);
            bool y_177940 = zzero_leq_i_p_m_t_s_177931 && i_p_m_t_s_leq_w_177932;
            bool protect_assert_disj_177941 = cond_177908 || valid_177933;
            bool range_valid_c_177942;
            
            if (!protect_assert_disj_177941) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177916, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177943 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177934;
            bool y_177944 = zzero_lte_i_177923 && i_p_m_t_s_leq_w_177939;
            bool forwards_ok_177945 = zzero_lte_i_177923 && y_177940;
            bool ok_or_empty_177946 = zzero_177897 || y_177943;
            bool protect_assert_disj_177947 = cond_177928 || y_177935;
            bool y_177948 = zzero_leq_i_p_m_t_s_177938 && y_177944;
            bool ok_or_empty_177949 = empty_slice_177925 || forwards_ok_177945;
            bool protect_assert_disj_177950 = cond_177908 || ok_or_empty_177946;
            bool index_certs_177951;
            
            if (!protect_assert_disj_177950) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) flat_dim_177919, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177952 = !cond_177908;
            bool protect_assert_disj_177953 = protect_assert_disj_177947 || loop_not_taken_177952;
            bool index_certs_177954;
            
            if (!protect_assert_disj_177953) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177955 = i_lte_j_177924 && y_177948;
            bool protect_assert_disj_177956 = cond_177908 || ok_or_empty_177949;
            bool index_certs_177957;
            
            if (!protect_assert_disj_177956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177958 = ok_or_empty_177949 || loop_not_taken_177952;
            bool index_certs_177959;
            
            if (!protect_assert_disj_177958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177960 = empty_slice_177921 || forwards_ok_177955;
            bool protect_assert_disj_177961 = cond_177908 || ok_or_empty_177960;
            bool index_certs_177962;
            
            if (!protect_assert_disj_177961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177963 = loop_not_taken_177952 || ok_or_empty_177960;
            bool index_certs_177964;
            
            if (!protect_assert_disj_177963) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_182052 = next_stride_177896 * num_merges_177900;
            int64_t binop_x_182054 = (int64_t) 8 * num_merges_177900;
            int64_t bytes_182055 = next_stride_177896 * binop_x_182054;
            int64_t binop_x_182057 = (int64_t) 4 * num_merges_177900;
            int64_t bytes_182058 = next_stride_177896 * binop_x_182057;
            bool i_lte_j_177907 = sle64((int64_t) 0, next_stride_177896);
            
            if (mem_182053_cached_sizze_182971 < bytes_182052) {
                err = lexical_realloc(ctx, &mem_182053, &mem_182053_cached_sizze_182971, bytes_182052);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182056_cached_sizze_182972 < bytes_182055) {
                err = lexical_realloc(ctx, &mem_182056, &mem_182056_cached_sizze_182972, bytes_182055);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182059_cached_sizze_182973 < bytes_182058) {
                err = lexical_realloc(ctx, &mem_182059, &mem_182059_cached_sizze_182973, bytes_182058);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_182072 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917;
            int64_t binop_x_182090 = (int64_t) 8 * num_blocks_177916;
            int64_t bytes_182091 = merge_block_sizze_177733 * binop_x_182090;
            int64_t binop_x_182093 = (int64_t) 4 * num_blocks_177916;
            int64_t bytes_182094 = merge_block_sizze_177733 * binop_x_182093;
            int64_t bytes_182155 = (int64_t) 16 * stride_177895;
            int64_t bytes_182157 = (int64_t) 8 * stride_177895;
            
            for (int64_t i_180988 = 0; i_180988 < num_merges_177900; i_180988++) {
                int64_t start_177969 = mul64(next_stride_177896, i_180988);
                int64_t j_m_i_177970 = sub64(loop_dz2084Uz2082U_177890, start_177969);
                bool empty_slice_177971 = j_m_i_177970 == (int64_t) 0;
                int64_t m_177972 = sub64(j_m_i_177970, (int64_t) 1);
                int64_t i_p_m_t_s_177973 = add64(start_177969, m_177972);
                bool zzero_leq_i_p_m_t_s_177974 = sle64((int64_t) 0, i_p_m_t_s_177973);
                bool i_p_m_t_s_leq_w_177975 = slt64(i_p_m_t_s_177973, loop_dz2084Uz2082U_177890);
                bool zzero_lte_i_177976 = sle64((int64_t) 0, start_177969);
                bool i_lte_j_177977 = sle64(start_177969, loop_dz2084Uz2082U_177890);
                bool y_177978 = i_p_m_t_s_leq_w_177975 && zzero_lte_i_177976;
                bool y_177979 = zzero_leq_i_p_m_t_s_177974 && y_177978;
                bool forwards_ok_177980 = i_lte_j_177977 && y_177979;
                bool ok_or_empty_177981 = empty_slice_177971 || forwards_ok_177980;
                bool index_certs_177982;
                
                if (!ok_or_empty_177981) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177969, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177890, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177983 = slt64(m_177905, j_m_i_177970);
                bool y_177984 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177983;
                bool forwards_ok_177985 = i_lte_j_177907 && y_177984;
                bool ok_or_empty_177986 = zzero_177897 || forwards_ok_177985;
                bool index_certs_177987;
                
                if (!ok_or_empty_177986) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) j_m_i_177970, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:493:63-73\n   #7  ftsort.fut:486:1-493:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177908) {
                    int8_t dummy_180632;
                    int64_t dummy_180633;
                    float dummy_180634;
                    
                    if (cond_177928) {
                        int8_t head_res_180635 = ((int8_t *) mem_param_182045.mem)[start_177969];
                        int64_t head_res_180636 = ((int64_t *) mem_param_182048.mem)[start_177969];
                        float head_res_180637 = ((float *) mem_param_182051.mem)[start_177969];
                        
                        dummy_180632 = head_res_180635;
                        dummy_180633 = head_res_180636;
                        dummy_180634 = head_res_180637;
                    } else {
                        int64_t slice_180638 = stride_177895 + start_177969;
                        int8_t head_res_180639 = ((int8_t *) mem_param_182045.mem)[slice_180638];
                        int64_t head_res_180640 = ((int64_t *) mem_param_182048.mem)[slice_180638];
                        float head_res_180641 = ((float *) mem_param_182051.mem)[slice_180638];
                        
                        dummy_180632 = head_res_180639;
                        dummy_180633 = head_res_180640;
                        dummy_180634 = head_res_180641;
                    }
                    if (memblock_alloc(ctx, &mem_182154, next_stride_177896, "mem_182154")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182781 = 0; nest_i_182781 < next_stride_177896; nest_i_182781++) {
                        ((int8_t *) mem_182154.mem)[nest_i_182781] = dummy_180632;
                    }
                    if (memblock_alloc(ctx, &mem_182156, bytes_182155, "mem_182156")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182782 = 0; nest_i_182782 < next_stride_177896; nest_i_182782++) {
                        ((int64_t *) mem_182156.mem)[nest_i_182782] = dummy_180633;
                    }
                    if (memblock_alloc(ctx, &mem_182158, bytes_182157, "mem_182158")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182783 = 0; nest_i_182783 < next_stride_177896; nest_i_182783++) {
                        ((float *) mem_182158.mem)[nest_i_182783] = dummy_180634;
                    }
                    
                    int64_t data_180645;
                    int64_t i_180650 = (int64_t) 0;
                    
                    for (int64_t k_180649 = 0; k_180649 < next_stride_177896; k_180649++) {
                        int64_t j_180654 = sub64(k_180649, i_180650);
                        bool cond_180655 = j_180654 == j_m_i_177918;
                        bool cond_180656;
                        
                        if (cond_180655) {
                            cond_180656 = 1;
                        } else {
                            bool cond_180657 = slt64(i_180650, stride_177895);
                            bool cond_f_res_180658;
                            
                            if (cond_180657) {
                                bool x_180659 = sle64((int64_t) 0, j_180654);
                                bool y_180660 = slt64(j_180654, j_m_i_177918);
                                bool bounds_check_180661 = x_180659 && y_180660;
                                bool index_certs_180662;
                                
                                if (!bounds_check_180661) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180668 = sle64((int64_t) 0, i_180650);
                                bool bounds_check_180669 = cond_180657 && x_180668;
                                bool index_certs_180670;
                                
                                if (!bounds_check_180669) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180663 = stride_177895 + j_180654;
                                int64_t slice_180664 = start_177969 + slice_180663;
                                int8_t leq_arg1_180665 = ((int8_t *) mem_param_182045.mem)[slice_180664];
                                int64_t leq_arg1_180666 = ((int64_t *) mem_param_182048.mem)[slice_180664];
                                float leq_arg1_180667 = ((float *) mem_param_182051.mem)[slice_180664];
                                int64_t slice_180671 = start_177969 + i_180650;
                                int8_t leq_arg0_180672 = ((int8_t *) mem_param_182045.mem)[slice_180671];
                                int64_t leq_arg0_180673 = ((int64_t *) mem_param_182048.mem)[slice_180671];
                                float leq_arg0_180674 = ((float *) mem_param_182051.mem)[slice_180671];
                                bool cond_180675 = leq_arg0_180672 == leq_arg1_180665;
                                bool defunc_0_leq_res_t_res_180676 = sle64(leq_arg0_180673, leq_arg1_180666);
                                bool defunc_0_leq_res_180677 = leq_arg0_180674 <= leq_arg1_180667;
                                bool x_180678 = cond_180675 && defunc_0_leq_res_t_res_180676;
                                bool x_180679 = !cond_180675;
                                bool y_180680 = defunc_0_leq_res_180677 && x_180679;
                                bool defunc_0_leq_res_180681 = x_180678 || y_180680;
                                
                                cond_f_res_180658 = defunc_0_leq_res_180681;
                            } else {
                                cond_f_res_180658 = 0;
                            }
                            cond_180656 = cond_f_res_180658;
                        }
                        
                        int64_t loopres_180682;
                        int8_t loopres_180683;
                        int64_t loopres_180684;
                        float loopres_180685;
                        
                        if (cond_180656) {
                            bool x_180687 = sle64((int64_t) 0, i_180650);
                            bool y_180688 = slt64(i_180650, stride_177895);
                            bool bounds_check_180689 = x_180687 && y_180688;
                            bool index_certs_180690;
                            
                            if (!bounds_check_180689) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180686 = add64((int64_t) 1, i_180650);
                            int64_t slice_180691 = start_177969 + i_180650;
                            int8_t tmp_180692 = ((int8_t *) mem_param_182045.mem)[slice_180691];
                            int64_t tmp_180693 = ((int64_t *) mem_param_182048.mem)[slice_180691];
                            float tmp_180694 = ((float *) mem_param_182051.mem)[slice_180691];
                            
                            loopres_180682 = tmp_180686;
                            loopres_180683 = tmp_180692;
                            loopres_180684 = tmp_180693;
                            loopres_180685 = tmp_180694;
                        } else {
                            bool x_180695 = sle64((int64_t) 0, j_180654);
                            bool y_180696 = slt64(j_180654, j_m_i_177918);
                            bool bounds_check_180697 = x_180695 && y_180696;
                            bool index_certs_180698;
                            
                            if (!bounds_check_180697) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:493:63-73\n   #8  ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180699 = stride_177895 + j_180654;
                            int64_t slice_180700 = start_177969 + slice_180699;
                            int8_t tmp_180701 = ((int8_t *) mem_param_182045.mem)[slice_180700];
                            int64_t tmp_180702 = ((int64_t *) mem_param_182048.mem)[slice_180700];
                            float tmp_180703 = ((float *) mem_param_182051.mem)[slice_180700];
                            
                            loopres_180682 = i_180650;
                            loopres_180683 = tmp_180701;
                            loopres_180684 = tmp_180702;
                            loopres_180685 = tmp_180703;
                        }
                        ((int8_t *) mem_182154.mem)[k_180649] = loopres_180683;
                        ((int64_t *) mem_182156.mem)[k_180649] = loopres_180684;
                        ((float *) mem_182158.mem)[k_180649] = loopres_180685;
                        
                        int64_t i_tmp_182784 = loopres_180682;
                        
                        i_180650 = i_tmp_182784;
                    }
                    data_180645 = i_180650;
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182154, "mem_182154") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182156, "mem_182156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182158, "mem_182158") != 0)
                        return 1;
                } else {
                    if (mem_182073_cached_sizze_182974 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182073, &mem_182073_cached_sizze_182974, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182075_cached_sizze_182975 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182075, &mem_182075_cached_sizze_182975, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180969 = 0; i_180969 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917; i_180969++) {
                        int64_t split_count_arg3_178070 = mul64(merge_block_sizze_177733, i_180969);
                        int64_t defunc_0_split_count_res_178071;
                        int64_t defunc_0_split_count_res_178072;
                        int64_t defunc_0_split_count_res_178073;
                        int64_t defunc_0_split_count_res_178074;
                        int64_t defunc_0_split_count_res_178075;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_178071, &defunc_0_split_count_res_178072, &defunc_0_split_count_res_178073, &defunc_0_split_count_res_178074, &defunc_0_split_count_res_178075, (int64_t) 0, stride_177895, (int64_t) 0, j_m_i_177918, split_count_arg3_178070) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_178076 = slt64((int64_t) 0, defunc_0_split_count_res_178075);
                        bool defunc_0_split_count_res_178077;
                        int64_t defunc_0_split_count_res_178078;
                        int64_t defunc_0_split_count_res_178079;
                        int64_t defunc_0_split_count_res_178080;
                        int64_t defunc_0_split_count_res_178081;
                        int64_t defunc_0_split_count_res_178082;
                        bool loop_while_178083;
                        int64_t ss_178084;
                        int64_t ss_178085;
                        int64_t tt_178086;
                        int64_t tt_178087;
                        int64_t count_178088;
                        
                        loop_while_178083 = loop_cond_178076;
                        ss_178084 = defunc_0_split_count_res_178071;
                        ss_178085 = defunc_0_split_count_res_178072;
                        tt_178086 = defunc_0_split_count_res_178073;
                        tt_178087 = defunc_0_split_count_res_178074;
                        count_178088 = defunc_0_split_count_res_178075;
                        while (loop_while_178083) {
                            int64_t zlze_lhs_178089 = sub64(ss_178085, ss_178084);
                            bool cond_178090 = sle64(zlze_lhs_178089, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178091;
                            int64_t defunc_0_lifted_step_res_178092;
                            int64_t defunc_0_lifted_step_res_178093;
                            int64_t defunc_0_lifted_step_res_178094;
                            
                            if (cond_178090) {
                                int64_t tmp_180707 = add64(tt_178086, count_178088);
                                
                                defunc_0_lifted_step_res_178091 = ss_178084;
                                defunc_0_lifted_step_res_178092 = tmp_180707;
                                defunc_0_lifted_step_res_178093 = tt_178087;
                                defunc_0_lifted_step_res_178094 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178096 = sub64(tt_178087, tt_178086);
                                bool cond_178097 = sle64(zlze_lhs_178096, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178098;
                                int64_t defunc_0_lifted_step_res_f_res_178099;
                                int64_t defunc_0_lifted_step_res_f_res_178100;
                                int64_t defunc_0_lifted_step_res_f_res_178101;
                                
                                if (cond_178097) {
                                    int64_t tmp_180708 = add64(ss_178084, count_178088);
                                    
                                    defunc_0_lifted_step_res_f_res_178098 = tmp_180708;
                                    defunc_0_lifted_step_res_f_res_178099 = tt_178086;
                                    defunc_0_lifted_step_res_f_res_178100 = tt_178087;
                                    defunc_0_lifted_step_res_f_res_178101 = (int64_t) 0;
                                } else {
                                    bool cond_178103 = count_178088 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178104;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178107;
                                    
                                    if (cond_178103) {
                                        bool x_180710 = sle64((int64_t) 0, ss_178084);
                                        bool y_180711 = slt64(ss_178084, stride_177895);
                                        bool bounds_check_180712 = x_180710 && y_180711;
                                        bool index_certs_180713;
                                        
                                        if (!bounds_check_180712) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178084, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180718 = sle64((int64_t) 0, tt_178086);
                                        bool y_180719 = slt64(tt_178086, j_m_i_177918);
                                        bool bounds_check_180720 = x_180718 && y_180719;
                                        bool index_certs_180721;
                                        
                                        if (!bounds_check_180720) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178086, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180714 = start_177969 + ss_178084;
                                        int8_t leq_arg1_180715 = ((int8_t *) mem_param_182045.mem)[slice_180714];
                                        int64_t leq_arg1_180716 = ((int64_t *) mem_param_182048.mem)[slice_180714];
                                        float leq_arg1_180717 = ((float *) mem_param_182051.mem)[slice_180714];
                                        int64_t slice_180722 = stride_177895 + tt_178086;
                                        int64_t slice_180723 = start_177969 + slice_180722;
                                        int8_t leq_arg0_180724 = ((int8_t *) mem_param_182045.mem)[slice_180723];
                                        int64_t leq_arg0_180725 = ((int64_t *) mem_param_182048.mem)[slice_180723];
                                        float leq_arg0_180726 = ((float *) mem_param_182051.mem)[slice_180723];
                                        bool cond_180727 = leq_arg0_180724 == leq_arg1_180715;
                                        bool defunc_0_leq_res_t_res_180728 = sle64(leq_arg0_180725, leq_arg1_180716);
                                        bool defunc_0_leq_res_180729 = leq_arg0_180726 <= leq_arg1_180717;
                                        bool x_180730 = cond_180727 && defunc_0_leq_res_t_res_180728;
                                        bool x_180731 = !cond_180727;
                                        bool y_180732 = defunc_0_leq_res_180729 && x_180731;
                                        bool defunc_0_leq_res_180733 = x_180730 || y_180732;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        
                                        if (defunc_0_leq_res_180733) {
                                            int64_t tmp_180736 = add64((int64_t) 1, tt_178086);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = ss_178084;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tmp_180736;
                                        } else {
                                            int64_t tmp_180737 = add64((int64_t) 1, ss_178084);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = tmp_180737;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tt_178086;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = tt_178087;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = (int64_t) 0;
                                    } else {
                                        int64_t m_178136 = sdiv64(count_178088, (int64_t) 2);
                                        int64_t n_178137 = sub64(count_178088, m_178136);
                                        bool cond_178138 = n_178137 == (int64_t) 0;
                                        int64_t zgze_lhs_178139 = add64(ss_178084, m_178136);
                                        bool cond_f_res_178140 = sle64(ss_178085, zgze_lhs_178139);
                                        bool x_178141 = !cond_178138;
                                        bool y_178142 = cond_f_res_178140 && x_178141;
                                        bool cond_178143 = cond_178138 || y_178142;
                                        bool leq_y_x_178144;
                                        
                                        if (cond_178143) {
                                            leq_y_x_178144 = 1;
                                        } else {
                                            bool x_178145 = sle64((int64_t) 0, zgze_lhs_178139);
                                            bool y_178146 = slt64(zgze_lhs_178139, stride_177895);
                                            bool bounds_check_178147 = x_178145 && y_178146;
                                            bool index_certs_178148;
                                            
                                            if (!bounds_check_178147) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178139, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178153 = add64(tt_178086, n_178137);
                                            int64_t leq_arg0_178154 = sub64(zm_lhs_178153, (int64_t) 1);
                                            bool x_178155 = sle64((int64_t) 0, leq_arg0_178154);
                                            bool y_178156 = slt64(leq_arg0_178154, j_m_i_177918);
                                            bool bounds_check_178157 = x_178155 && y_178156;
                                            bool index_certs_178158;
                                            
                                            if (!bounds_check_178157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178154, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:493:63-73\n   #12 ftsort.fut:486:1-493:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178149 = start_177969 + zgze_lhs_178139;
                                            int8_t leq_arg1_178150 = ((int8_t *) mem_param_182045.mem)[slice_178149];
                                            int64_t leq_arg1_178151 = ((int64_t *) mem_param_182048.mem)[slice_178149];
                                            float leq_arg1_178152 = ((float *) mem_param_182051.mem)[slice_178149];
                                            int64_t slice_178159 = stride_177895 + leq_arg0_178154;
                                            int64_t slice_178160 = start_177969 + slice_178159;
                                            int8_t leq_arg0_178161 = ((int8_t *) mem_param_182045.mem)[slice_178160];
                                            int64_t leq_arg0_178162 = ((int64_t *) mem_param_182048.mem)[slice_178160];
                                            float leq_arg0_178163 = ((float *) mem_param_182051.mem)[slice_178160];
                                            bool cond_178164 = leq_arg0_178161 == leq_arg1_178150;
                                            bool defunc_0_leq_res_t_res_178165 = sle64(leq_arg0_178162, leq_arg1_178151);
                                            bool defunc_0_leq_res_178166 = leq_arg0_178163 <= leq_arg1_178152;
                                            bool x_178167 = cond_178164 && defunc_0_leq_res_t_res_178165;
                                            bool x_178168 = !cond_178164;
                                            bool y_178169 = defunc_0_leq_res_178166 && x_178168;
                                            bool defunc_0_leq_res_178170 = x_178167 || y_178169;
                                            
                                            leq_y_x_178144 = defunc_0_leq_res_178170;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                        
                                        if (leq_y_x_178144) {
                                            int64_t tmp_180738 = add64(tt_178086, n_178137);
                                            int64_t tmp_180739 = sub64(count_178088, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tmp_180738;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tt_178087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = tmp_180739;
                                        } else {
                                            int64_t tmp_178176 = add64(tt_178086, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tt_178086;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tmp_178176;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = count_178088;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = ss_178084;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                    }
                                    defunc_0_lifted_step_res_f_res_178098 = defunc_0_lifted_step_res_f_res_f_res_178104;
                                    defunc_0_lifted_step_res_f_res_178099 = defunc_0_lifted_step_res_f_res_f_res_178105;
                                    defunc_0_lifted_step_res_f_res_178100 = defunc_0_lifted_step_res_f_res_f_res_178106;
                                    defunc_0_lifted_step_res_f_res_178101 = defunc_0_lifted_step_res_f_res_f_res_178107;
                                }
                                defunc_0_lifted_step_res_178091 = defunc_0_lifted_step_res_f_res_178098;
                                defunc_0_lifted_step_res_178092 = defunc_0_lifted_step_res_f_res_178099;
                                defunc_0_lifted_step_res_178093 = defunc_0_lifted_step_res_f_res_178100;
                                defunc_0_lifted_step_res_178094 = defunc_0_lifted_step_res_f_res_178101;
                            }
                            
                            int64_t loopres_178177;
                            int64_t loopres_178178;
                            int64_t loopres_178179;
                            int64_t loopres_178180;
                            int64_t loopres_178181;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_178177, &loopres_178178, &loopres_178179, &loopres_178180, &loopres_178181, defunc_0_lifted_step_res_178091, ss_178085, defunc_0_lifted_step_res_178092, defunc_0_lifted_step_res_178093, defunc_0_lifted_step_res_178094) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178182 = slt64((int64_t) 0, loopres_178181);
                            bool loop_while_tmp_182790 = loop_cond_178182;
                            int64_t ss_tmp_182791 = loopres_178177;
                            int64_t ss_tmp_182792 = loopres_178178;
                            int64_t tt_tmp_182793 = loopres_178179;
                            int64_t tt_tmp_182794 = loopres_178180;
                            int64_t count_tmp_182795 = loopres_178181;
                            
                            loop_while_178083 = loop_while_tmp_182790;
                            ss_178084 = ss_tmp_182791;
                            ss_178085 = ss_tmp_182792;
                            tt_178086 = tt_tmp_182793;
                            tt_178087 = tt_tmp_182794;
                            count_178088 = count_tmp_182795;
                        }
                        defunc_0_split_count_res_178077 = loop_while_178083;
                        defunc_0_split_count_res_178078 = ss_178084;
                        defunc_0_split_count_res_178079 = ss_178085;
                        defunc_0_split_count_res_178080 = tt_178086;
                        defunc_0_split_count_res_178081 = tt_178087;
                        defunc_0_split_count_res_178082 = count_178088;
                        ((int64_t *) mem_182073)[i_180969] = defunc_0_split_count_res_178078;
                        ((int64_t *) mem_182075)[i_180969] = defunc_0_split_count_res_178080;
                    }
                    if (mem_182089_cached_sizze_182976 < flat_dim_177919) {
                        err = lexical_realloc(ctx, &mem_182089, &mem_182089_cached_sizze_182976, flat_dim_177919);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182092_cached_sizze_182977 < bytes_182091) {
                        err = lexical_realloc(ctx, &mem_182092, &mem_182092_cached_sizze_182977, bytes_182091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182095_cached_sizze_182978 < bytes_182094) {
                        err = lexical_realloc(ctx, &mem_182095, &mem_182095_cached_sizze_182978, bytes_182094);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180978 = 0; i_180978 < num_blocks_177916; i_180978++) {
                        bool y_178189 = slt64(i_180978, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool index_certs_178191;
                        
                        if (!y_178189) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180978, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178192 = ((int64_t *) mem_182073)[i_180978];
                        int64_t defunc_0_f_res_178193 = ((int64_t *) mem_182075)[i_180978];
                        int64_t tmp_178194 = add64((int64_t) 1, i_180978);
                        bool x_178195 = sle64((int64_t) 0, tmp_178194);
                        bool y_178196 = slt64(tmp_178194, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool bounds_check_178197 = x_178195 && y_178196;
                        bool index_certs_178198;
                        
                        if (!bounds_check_178197) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178194, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178199 = ((int64_t *) mem_182073)[tmp_178194];
                        int64_t defunc_0_f_res_178200 = ((int64_t *) mem_182075)[tmp_178194];
                        int64_t merge_sequential_arg2_178201 = add64(stride_177895, defunc_0_f_res_178193);
                        int64_t merge_sequential_arg2_178202 = add64(stride_177895, defunc_0_f_res_178200);
                        int64_t j_m_i_178203 = sub64(merge_sequential_arg2_178202, merge_sequential_arg2_178201);
                        bool empty_slice_178204 = j_m_i_178203 == (int64_t) 0;
                        int64_t m_178205 = sub64(j_m_i_178203, (int64_t) 1);
                        int64_t i_p_m_t_s_178206 = add64(merge_sequential_arg2_178201, m_178205);
                        bool zzero_leq_i_p_m_t_s_178207 = sle64((int64_t) 0, i_p_m_t_s_178206);
                        bool i_p_m_t_s_leq_w_178208 = slt64(i_p_m_t_s_178206, next_stride_177896);
                        bool zzero_lte_i_178209 = sle64((int64_t) 0, merge_sequential_arg2_178201);
                        bool i_lte_j_178210 = sle64(merge_sequential_arg2_178201, merge_sequential_arg2_178202);
                        bool y_178211 = i_p_m_t_s_leq_w_178208 && zzero_lte_i_178209;
                        bool y_178212 = zzero_leq_i_p_m_t_s_178207 && y_178211;
                        bool forwards_ok_178213 = i_lte_j_178210 && y_178212;
                        bool ok_or_empty_178214 = empty_slice_178204 || forwards_ok_178213;
                        bool index_certs_178215;
                        
                        if (!ok_or_empty_178214) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178201, ":", (long long) merge_sequential_arg2_178202, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178216 = sub64(defunc_0_f_res_178199, defunc_0_f_res_178192);
                        bool empty_slice_178217 = j_m_i_178216 == (int64_t) 0;
                        int64_t m_178218 = sub64(j_m_i_178216, (int64_t) 1);
                        int64_t i_p_m_t_s_178219 = add64(defunc_0_f_res_178192, m_178218);
                        bool zzero_leq_i_p_m_t_s_178220 = sle64((int64_t) 0, i_p_m_t_s_178219);
                        bool i_p_m_t_s_leq_w_178221 = slt64(i_p_m_t_s_178219, next_stride_177896);
                        bool zzero_lte_i_178222 = sle64((int64_t) 0, defunc_0_f_res_178192);
                        bool i_lte_j_178223 = sle64(defunc_0_f_res_178192, defunc_0_f_res_178199);
                        bool y_178224 = i_p_m_t_s_leq_w_178221 && zzero_lte_i_178222;
                        bool y_178225 = zzero_leq_i_p_m_t_s_178220 && y_178224;
                        bool forwards_ok_178226 = i_lte_j_178223 && y_178225;
                        bool ok_or_empty_178227 = empty_slice_178217 || forwards_ok_178226;
                        bool index_certs_178228;
                        
                        if (!ok_or_empty_178227) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178192, ":", (long long) defunc_0_f_res_178199, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:493:63-73\n   #9  ftsort.fut:486:1-493:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178229 = slt64((int64_t) 0, j_m_i_178216);
                        int8_t dummy_178230;
                        int64_t dummy_178231;
                        float dummy_178232;
                        
                        if (cond_178229) {
                            bool index_certs_180740;
                            
                            if (!cond_178229) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180741 = start_177969 + defunc_0_f_res_178192;
                            int8_t head_res_180742 = ((int8_t *) mem_param_182045.mem)[slice_180741];
                            int64_t head_res_180743 = ((int64_t *) mem_param_182048.mem)[slice_180741];
                            float head_res_180744 = ((float *) mem_param_182051.mem)[slice_180741];
                            
                            dummy_178230 = head_res_180742;
                            dummy_178231 = head_res_180743;
                            dummy_178232 = head_res_180744;
                        } else {
                            bool y_178238 = slt64((int64_t) 0, j_m_i_178203);
                            bool index_certs_178239;
                            
                            if (!y_178238) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:493:63-73\n   #11 ftsort.fut:486:1-493:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178240 = start_177969 + merge_sequential_arg2_178201;
                            int8_t head_res_178241 = ((int8_t *) mem_param_182045.mem)[slice_178240];
                            int64_t head_res_178242 = ((int64_t *) mem_param_182048.mem)[slice_178240];
                            float head_res_178243 = ((float *) mem_param_182051.mem)[slice_178240];
                            
                            dummy_178230 = head_res_178241;
                            dummy_178231 = head_res_178242;
                            dummy_178232 = head_res_178243;
                        }
                        for (int64_t nest_i_182799 = 0; nest_i_182799 < merge_block_sizze_177733; nest_i_182799++) {
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + nest_i_182799] = dummy_178230;
                        }
                        for (int64_t nest_i_182800 = 0; nest_i_182800 < merge_block_sizze_177733; nest_i_182800++) {
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + nest_i_182800] = dummy_178231;
                        }
                        for (int64_t nest_i_182801 = 0; nest_i_182801 < merge_block_sizze_177733; nest_i_182801++) {
                            ((float *) mem_182095)[i_180978 * merge_block_sizze_177733 + nest_i_182801] = dummy_178232;
                        }
                        
                        int64_t data_178247;
                        int64_t i_178252 = (int64_t) 0;
                        
                        for (int64_t k_178251 = 0; k_178251 < merge_block_sizze_177733; k_178251++) {
                            int64_t j_178256 = sub64(k_178251, i_178252);
                            bool cond_178257 = j_178256 == j_m_i_178203;
                            bool cond_178258;
                            
                            if (cond_178257) {
                                cond_178258 = 1;
                            } else {
                                bool cond_178259 = slt64(i_178252, j_m_i_178216);
                                bool cond_f_res_178260;
                                
                                if (cond_178259) {
                                    bool x_180745 = sle64((int64_t) 0, j_178256);
                                    bool y_180746 = slt64(j_178256, j_m_i_178203);
                                    bool bounds_check_180747 = x_180745 && y_180746;
                                    bool index_certs_180748;
                                    
                                    if (!bounds_check_180747) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180754 = sle64((int64_t) 0, i_178252);
                                    bool bounds_check_180755 = cond_178259 && x_180754;
                                    bool index_certs_180756;
                                    
                                    if (!bounds_check_180755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180749 = merge_sequential_arg2_178201 + j_178256;
                                    int64_t slice_180750 = start_177969 + slice_180749;
                                    int8_t leq_arg1_180751 = ((int8_t *) mem_param_182045.mem)[slice_180750];
                                    int64_t leq_arg1_180752 = ((int64_t *) mem_param_182048.mem)[slice_180750];
                                    float leq_arg1_180753 = ((float *) mem_param_182051.mem)[slice_180750];
                                    int64_t slice_180757 = defunc_0_f_res_178192 + i_178252;
                                    int64_t slice_180758 = start_177969 + slice_180757;
                                    int8_t leq_arg0_180759 = ((int8_t *) mem_param_182045.mem)[slice_180758];
                                    int64_t leq_arg0_180760 = ((int64_t *) mem_param_182048.mem)[slice_180758];
                                    float leq_arg0_180761 = ((float *) mem_param_182051.mem)[slice_180758];
                                    bool cond_180762 = leq_arg0_180759 == leq_arg1_180751;
                                    bool defunc_0_leq_res_t_res_180763 = sle64(leq_arg0_180760, leq_arg1_180752);
                                    bool defunc_0_leq_res_180764 = leq_arg0_180761 <= leq_arg1_180753;
                                    bool x_180765 = cond_180762 && defunc_0_leq_res_t_res_180763;
                                    bool x_180766 = !cond_180762;
                                    bool y_180767 = defunc_0_leq_res_180764 && x_180766;
                                    bool defunc_0_leq_res_180768 = x_180765 || y_180767;
                                    
                                    cond_f_res_178260 = defunc_0_leq_res_180768;
                                } else {
                                    cond_f_res_178260 = 0;
                                }
                                cond_178258 = cond_f_res_178260;
                            }
                            
                            int64_t loopres_178285;
                            int8_t loopres_178286;
                            int64_t loopres_178287;
                            float loopres_178288;
                            
                            if (cond_178258) {
                                bool x_180770 = sle64((int64_t) 0, i_178252);
                                bool y_180771 = slt64(i_178252, j_m_i_178216);
                                bool bounds_check_180772 = x_180770 && y_180771;
                                bool index_certs_180773;
                                
                                if (!bounds_check_180772) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180769 = add64((int64_t) 1, i_178252);
                                int64_t slice_180774 = defunc_0_f_res_178192 + i_178252;
                                int64_t slice_180775 = start_177969 + slice_180774;
                                int8_t tmp_180776 = ((int8_t *) mem_param_182045.mem)[slice_180775];
                                int64_t tmp_180777 = ((int64_t *) mem_param_182048.mem)[slice_180775];
                                float tmp_180778 = ((float *) mem_param_182051.mem)[slice_180775];
                                
                                loopres_178285 = tmp_180769;
                                loopres_178286 = tmp_180776;
                                loopres_178287 = tmp_180777;
                                loopres_178288 = tmp_180778;
                            } else {
                                bool x_178299 = sle64((int64_t) 0, j_178256);
                                bool y_178300 = slt64(j_178256, j_m_i_178203);
                                bool bounds_check_178301 = x_178299 && y_178300;
                                bool index_certs_178302;
                                
                                if (!bounds_check_178301) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:493:63-73\n   #10 ftsort.fut:486:1-493:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178303 = merge_sequential_arg2_178201 + j_178256;
                                int64_t slice_178304 = start_177969 + slice_178303;
                                int8_t tmp_178305 = ((int8_t *) mem_param_182045.mem)[slice_178304];
                                int64_t tmp_178306 = ((int64_t *) mem_param_182048.mem)[slice_178304];
                                float tmp_178307 = ((float *) mem_param_182051.mem)[slice_178304];
                                
                                loopres_178285 = i_178252;
                                loopres_178286 = tmp_178305;
                                loopres_178287 = tmp_178306;
                                loopres_178288 = tmp_178307;
                            }
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178286;
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178287;
                            ((float *) mem_182095)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178288;
                            
                            int64_t i_tmp_182802 = loopres_178285;
                            
                            i_178252 = i_tmp_182802;
                        }
                        data_178247 = i_178252;
                    }
                    if (memblock_alloc(ctx, &mem_182144, flat_dim_177919, "mem_182144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182144.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint8_t *) mem_182089, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182148, bytes_182091, "mem_182148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182148.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint64_t *) mem_182092, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182152, bytes_182094, "mem_182152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_182152.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint32_t *) mem_182095, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182144, "mem_182144") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182148, "mem_182148") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182152, "mem_182152") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_182053, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_182056, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182182.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_182059, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182179.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182199, bytes_182052, "mem_182199")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182199.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint8_t *) mem_182053, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182203, bytes_182055, "mem_182203")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182203.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint64_t *) mem_182056, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182207, bytes_182058, "mem_182207")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_182207.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint32_t *) mem_182059, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            
            bool loop_cond_178321 = slt64(next_stride_177896, flat_dim_177728);
            
            if (memblock_set(ctx, &mem_param_tmp_182769, &mem_182199, "mem_182199") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182770, &mem_182203, "mem_182203") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182771, &mem_182207, "mem_182207") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182772 = bytes_182052;
            bool loop_while_tmp_182773 = loop_cond_178321;
            int64_t stride_tmp_182777 = next_stride_177896;
            
            if (memblock_set(ctx, &mem_param_182045, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182048, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182051, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
                return 1;
            loop_dz2084Uz2082U_177890 = loop_dz2084Uz2082U_tmp_182772;
            loop_while_177891 = loop_while_tmp_182773;
            stride_177895 = stride_tmp_182777;
        }
        if (memblock_set(ctx, &ext_mem_182217, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182216, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182215, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        data_177884 = loop_dz2084Uz2082U_177890;
        data_177885 = loop_while_177891;
        data_177889 = stride_177895;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178324 = slt64(zs_lhs_177712, data_177884);
        bool y_178325 = i_p_m_t_s_leq_w_178324 && zzero_leq_i_p_m_t_s_178338;
        bool ok_or_empty_178326 = y_178325 || empty_slice_178336;
        bool index_certs_178327;
        
        if (!ok_or_empty_178326) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) data_177884, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:493:63-73\n   #5  ftsort.fut:486:1-493:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182226, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182226.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182223.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181139.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182220.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181137, "mem_181137") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182549, &mem_181139, "mem_181139") != 0)
        return 1;
    prim_out_182550 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    if (memblock_set(ctx, &*mem_out_p_182925, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182926, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182927, &mem_out_182549, "mem_out_182549") != 0)
        return 1;
    *out_prim_out_182928 = prim_out_182550;
    
  cleanup:
    {
        free(mem_181150);
        free(mem_181152);
        free(mem_181191);
        free(mem_181194);
        free(mem_181197);
        free(mem_181210);
        free(mem_181212);
        free(mem_181214);
        free(mem_181311);
        free(mem_181314);
        free(mem_181317);
        free(mem_181331);
        free(mem_181333);
        free(mem_181347);
        free(mem_181350);
        free(mem_181353);
        free(mem_181495);
        free(mem_181497);
        free(mem_181512);
        free(mem_181514);
        free(mem_181517);
        free(mem_181520);
        free(mem_181554);
        free(mem_181557);
        free(mem_181560);
        free(mem_181573);
        free(mem_181575);
        free(mem_181577);
        free(mem_181674);
        free(mem_181677);
        free(mem_181680);
        free(mem_181694);
        free(mem_181696);
        free(mem_181710);
        free(mem_181713);
        free(mem_181716);
        free(mem_181933);
        free(mem_181936);
        free(mem_181939);
        free(mem_181952);
        free(mem_181954);
        free(mem_181956);
        free(mem_182053);
        free(mem_182056);
        free(mem_182059);
        free(mem_182073);
        free(mem_182075);
        free(mem_182089);
        free(mem_182092);
        free(mem_182095);
        if (memblock_unref(ctx, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182207, "mem_182207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182203, "mem_182203") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182199, "mem_182199") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182152, "mem_182152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182148, "mem_182148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182144, "mem_182144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182158, "mem_182158") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182156, "mem_182156") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182154, "mem_182154") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181465, "mem_181465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181461, "mem_181461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181457, "mem_181457") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181410, "mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181406, "mem_181406") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181402, "mem_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181416, "mem_181416") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181414, "mem_181414") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181412, "mem_181412") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181309, "mem_param_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181306, "mem_param_181306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181303, "mem_param_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181473, "ext_mem_181473") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181474, "ext_mem_181474") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181475, "ext_mem_181475") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181169, "mem_181169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181167, "mem_181167") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181165, "mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181876, "mem_181876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181875, "mem_181875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181873, "mem_181873") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181824, "mem_181824") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181820, "mem_181820") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181773, "mem_181773") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181769, "mem_181769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181765, "mem_181765") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181779, "mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181777, "mem_181777") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181672, "mem_param_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181669, "mem_param_181669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181666, "mem_param_181666") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181836, "ext_mem_181836") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181837, "ext_mem_181837") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181838, "ext_mem_181838") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181139, "mem_181139") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181137, "mem_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182549, "mem_out_182549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182979, struct memblock *mem_out_p_182980, struct memblock *mem_out_p_182981, int64_t *out_prim_out_182982, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_131808, int64_t nb_131809, int64_t window_sizze_131810, int64_t threads_131811, bool inParallel_131814)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181150_cached_sizze_182983 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_182984 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181191_cached_sizze_182985 = 0;
    unsigned char *mem_181191 = NULL;
    int64_t mem_181194_cached_sizze_182986 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181197_cached_sizze_182987 = 0;
    unsigned char *mem_181197 = NULL;
    int64_t mem_181210_cached_sizze_182988 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181212_cached_sizze_182989 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181214_cached_sizze_182990 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181311_cached_sizze_182991 = 0;
    unsigned char *mem_181311 = NULL;
    int64_t mem_181314_cached_sizze_182992 = 0;
    unsigned char *mem_181314 = NULL;
    int64_t mem_181317_cached_sizze_182993 = 0;
    unsigned char *mem_181317 = NULL;
    int64_t mem_181331_cached_sizze_182994 = 0;
    unsigned char *mem_181331 = NULL;
    int64_t mem_181333_cached_sizze_182995 = 0;
    unsigned char *mem_181333 = NULL;
    int64_t mem_181347_cached_sizze_182996 = 0;
    unsigned char *mem_181347 = NULL;
    int64_t mem_181350_cached_sizze_182997 = 0;
    unsigned char *mem_181350 = NULL;
    int64_t mem_181353_cached_sizze_182998 = 0;
    unsigned char *mem_181353 = NULL;
    int64_t mem_181495_cached_sizze_182999 = 0;
    unsigned char *mem_181495 = NULL;
    int64_t mem_181497_cached_sizze_183000 = 0;
    unsigned char *mem_181497 = NULL;
    int64_t mem_181512_cached_sizze_183001 = 0;
    unsigned char *mem_181512 = NULL;
    int64_t mem_181514_cached_sizze_183002 = 0;
    unsigned char *mem_181514 = NULL;
    int64_t mem_181517_cached_sizze_183003 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181520_cached_sizze_183004 = 0;
    unsigned char *mem_181520 = NULL;
    int64_t mem_181554_cached_sizze_183005 = 0;
    unsigned char *mem_181554 = NULL;
    int64_t mem_181557_cached_sizze_183006 = 0;
    unsigned char *mem_181557 = NULL;
    int64_t mem_181560_cached_sizze_183007 = 0;
    unsigned char *mem_181560 = NULL;
    int64_t mem_181573_cached_sizze_183008 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181575_cached_sizze_183009 = 0;
    unsigned char *mem_181575 = NULL;
    int64_t mem_181577_cached_sizze_183010 = 0;
    unsigned char *mem_181577 = NULL;
    int64_t mem_181674_cached_sizze_183011 = 0;
    unsigned char *mem_181674 = NULL;
    int64_t mem_181677_cached_sizze_183012 = 0;
    unsigned char *mem_181677 = NULL;
    int64_t mem_181680_cached_sizze_183013 = 0;
    unsigned char *mem_181680 = NULL;
    int64_t mem_181694_cached_sizze_183014 = 0;
    unsigned char *mem_181694 = NULL;
    int64_t mem_181696_cached_sizze_183015 = 0;
    unsigned char *mem_181696 = NULL;
    int64_t mem_181710_cached_sizze_183016 = 0;
    unsigned char *mem_181710 = NULL;
    int64_t mem_181713_cached_sizze_183017 = 0;
    unsigned char *mem_181713 = NULL;
    int64_t mem_181716_cached_sizze_183018 = 0;
    unsigned char *mem_181716 = NULL;
    int64_t mem_181933_cached_sizze_183019 = 0;
    unsigned char *mem_181933 = NULL;
    int64_t mem_181936_cached_sizze_183020 = 0;
    unsigned char *mem_181936 = NULL;
    int64_t mem_181939_cached_sizze_183021 = 0;
    unsigned char *mem_181939 = NULL;
    int64_t mem_181952_cached_sizze_183022 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181954_cached_sizze_183023 = 0;
    unsigned char *mem_181954 = NULL;
    int64_t mem_181956_cached_sizze_183024 = 0;
    unsigned char *mem_181956 = NULL;
    int64_t mem_182053_cached_sizze_183025 = 0;
    unsigned char *mem_182053 = NULL;
    int64_t mem_182056_cached_sizze_183026 = 0;
    unsigned char *mem_182056 = NULL;
    int64_t mem_182059_cached_sizze_183027 = 0;
    unsigned char *mem_182059 = NULL;
    int64_t mem_182073_cached_sizze_183028 = 0;
    unsigned char *mem_182073 = NULL;
    int64_t mem_182075_cached_sizze_183029 = 0;
    unsigned char *mem_182075 = NULL;
    int64_t mem_182089_cached_sizze_183030 = 0;
    unsigned char *mem_182089 = NULL;
    int64_t mem_182092_cached_sizze_183031 = 0;
    unsigned char *mem_182092 = NULL;
    int64_t mem_182095_cached_sizze_183032 = 0;
    unsigned char *mem_182095 = NULL;
    struct memblock mem_param_tmp_182771;
    
    mem_param_tmp_182771.references = NULL;
    
    struct memblock mem_param_tmp_182770;
    
    mem_param_tmp_182770.references = NULL;
    
    struct memblock mem_param_tmp_182769;
    
    mem_param_tmp_182769.references = NULL;
    
    struct memblock mem_182207;
    
    mem_182207.references = NULL;
    
    struct memblock mem_182203;
    
    mem_182203.references = NULL;
    
    struct memblock mem_182199;
    
    mem_182199.references = NULL;
    
    struct memblock mem_182152;
    
    mem_182152.references = NULL;
    
    struct memblock mem_182148;
    
    mem_182148.references = NULL;
    
    struct memblock mem_182144;
    
    mem_182144.references = NULL;
    
    struct memblock mem_182158;
    
    mem_182158.references = NULL;
    
    struct memblock mem_182156;
    
    mem_182156.references = NULL;
    
    struct memblock mem_182154;
    
    mem_182154.references = NULL;
    
    struct memblock ext_mem_182179;
    
    ext_mem_182179.references = NULL;
    
    struct memblock ext_mem_182182;
    
    ext_mem_182182.references = NULL;
    
    struct memblock ext_mem_182185;
    
    ext_mem_182185.references = NULL;
    
    struct memblock mem_param_182051;
    
    mem_param_182051.references = NULL;
    
    struct memblock mem_param_182048;
    
    mem_param_182048.references = NULL;
    
    struct memblock mem_param_182045;
    
    mem_param_182045.references = NULL;
    
    struct memblock ext_mem_182215;
    
    ext_mem_182215.references = NULL;
    
    struct memblock ext_mem_182216;
    
    ext_mem_182216.references = NULL;
    
    struct memblock ext_mem_182217;
    
    ext_mem_182217.references = NULL;
    
    struct memblock mem_182041;
    
    mem_182041.references = NULL;
    
    struct memblock mem_182037;
    
    mem_182037.references = NULL;
    
    struct memblock mem_182033;
    
    mem_182033.references = NULL;
    
    struct memblock ext_mem_182220;
    
    ext_mem_182220.references = NULL;
    
    struct memblock ext_mem_182223;
    
    ext_mem_182223.references = NULL;
    
    struct memblock ext_mem_182226;
    
    ext_mem_182226.references = NULL;
    
    struct memblock mem_181931;
    
    mem_181931.references = NULL;
    
    struct memblock mem_181929;
    
    mem_181929.references = NULL;
    
    struct memblock mem_181927;
    
    mem_181927.references = NULL;
    
    struct memblock mem_param_tmp_182705;
    
    mem_param_tmp_182705.references = NULL;
    
    struct memblock mem_param_tmp_182704;
    
    mem_param_tmp_182704.references = NULL;
    
    struct memblock mem_param_tmp_182703;
    
    mem_param_tmp_182703.references = NULL;
    
    struct memblock mem_181465;
    
    mem_181465.references = NULL;
    
    struct memblock mem_181461;
    
    mem_181461.references = NULL;
    
    struct memblock mem_181457;
    
    mem_181457.references = NULL;
    
    struct memblock mem_181410;
    
    mem_181410.references = NULL;
    
    struct memblock mem_181406;
    
    mem_181406.references = NULL;
    
    struct memblock mem_181402;
    
    mem_181402.references = NULL;
    
    struct memblock mem_181416;
    
    mem_181416.references = NULL;
    
    struct memblock mem_181414;
    
    mem_181414.references = NULL;
    
    struct memblock mem_181412;
    
    mem_181412.references = NULL;
    
    struct memblock ext_mem_181437;
    
    ext_mem_181437.references = NULL;
    
    struct memblock ext_mem_181440;
    
    ext_mem_181440.references = NULL;
    
    struct memblock ext_mem_181443;
    
    ext_mem_181443.references = NULL;
    
    struct memblock mem_param_181309;
    
    mem_param_181309.references = NULL;
    
    struct memblock mem_param_181306;
    
    mem_param_181306.references = NULL;
    
    struct memblock mem_param_181303;
    
    mem_param_181303.references = NULL;
    
    struct memblock ext_mem_181473;
    
    ext_mem_181473.references = NULL;
    
    struct memblock ext_mem_181474;
    
    ext_mem_181474.references = NULL;
    
    struct memblock ext_mem_181475;
    
    ext_mem_181475.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock ext_mem_181478;
    
    ext_mem_181478.references = NULL;
    
    struct memblock ext_mem_181481;
    
    ext_mem_181481.references = NULL;
    
    struct memblock ext_mem_181484;
    
    ext_mem_181484.references = NULL;
    
    struct memblock mem_181189;
    
    mem_181189.references = NULL;
    
    struct memblock mem_181187;
    
    mem_181187.references = NULL;
    
    struct memblock mem_181185;
    
    mem_181185.references = NULL;
    
    struct memblock mem_181169;
    
    mem_181169.references = NULL;
    
    struct memblock mem_181167;
    
    mem_181167.references = NULL;
    
    struct memblock mem_181165;
    
    mem_181165.references = NULL;
    
    struct memblock mem_181876;
    
    mem_181876.references = NULL;
    
    struct memblock mem_181875;
    
    mem_181875.references = NULL;
    
    struct memblock mem_181873;
    
    mem_181873.references = NULL;
    
    struct memblock mem_param_tmp_182611;
    
    mem_param_tmp_182611.references = NULL;
    
    struct memblock mem_param_tmp_182610;
    
    mem_param_tmp_182610.references = NULL;
    
    struct memblock mem_param_tmp_182609;
    
    mem_param_tmp_182609.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181824;
    
    mem_181824.references = NULL;
    
    struct memblock mem_181820;
    
    mem_181820.references = NULL;
    
    struct memblock mem_181773;
    
    mem_181773.references = NULL;
    
    struct memblock mem_181769;
    
    mem_181769.references = NULL;
    
    struct memblock mem_181765;
    
    mem_181765.references = NULL;
    
    struct memblock mem_181779;
    
    mem_181779.references = NULL;
    
    struct memblock mem_181777;
    
    mem_181777.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock ext_mem_181800;
    
    ext_mem_181800.references = NULL;
    
    struct memblock ext_mem_181803;
    
    ext_mem_181803.references = NULL;
    
    struct memblock ext_mem_181806;
    
    ext_mem_181806.references = NULL;
    
    struct memblock mem_param_181672;
    
    mem_param_181672.references = NULL;
    
    struct memblock mem_param_181669;
    
    mem_param_181669.references = NULL;
    
    struct memblock mem_param_181666;
    
    mem_param_181666.references = NULL;
    
    struct memblock ext_mem_181836;
    
    ext_mem_181836.references = NULL;
    
    struct memblock ext_mem_181837;
    
    ext_mem_181837.references = NULL;
    
    struct memblock ext_mem_181838;
    
    ext_mem_181838.references = NULL;
    
    struct memblock mem_181662;
    
    mem_181662.references = NULL;
    
    struct memblock mem_181658;
    
    mem_181658.references = NULL;
    
    struct memblock mem_181654;
    
    mem_181654.references = NULL;
    
    struct memblock ext_mem_181841;
    
    ext_mem_181841.references = NULL;
    
    struct memblock ext_mem_181844;
    
    ext_mem_181844.references = NULL;
    
    struct memblock ext_mem_181847;
    
    ext_mem_181847.references = NULL;
    
    struct memblock mem_181552;
    
    mem_181552.references = NULL;
    
    struct memblock mem_181550;
    
    mem_181550.references = NULL;
    
    struct memblock mem_181548;
    
    mem_181548.references = NULL;
    
    struct memblock ext_mem_181897;
    
    ext_mem_181897.references = NULL;
    
    struct memblock ext_mem_181900;
    
    ext_mem_181900.references = NULL;
    
    struct memblock ext_mem_181903;
    
    ext_mem_181903.references = NULL;
    
    struct memblock mem_181139;
    
    mem_181139.references = NULL;
    
    struct memblock mem_181137;
    
    mem_181137.references = NULL;
    
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t prim_out_182550;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622 = add64(na_131808, nb_131809);
    
    if (memblock_alloc(ctx, &mem_181135, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182551 = 0; nest_i_182551 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182551++) {
        ((int8_t *) mem_181135.mem)[nest_i_182551] = (int8_t) -1;
    }
    
    int64_t bytes_181136 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    
    if (memblock_alloc(ctx, &mem_181137, bytes_181136, "mem_181137")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182552 = 0; nest_i_182552 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182552++) {
        ((int64_t *) mem_181137.mem)[nest_i_182552] = (int64_t) -1;
    }
    
    int64_t bytes_181138 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    
    if (memblock_alloc(ctx, &mem_181139, bytes_181138, "mem_181139")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182553 = 0; nest_i_182553 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182553++) {
        ((int32_t *) mem_181139.mem)[nest_i_182553] = 0;
    }
    
    int64_t zl_rhs_175626 = sub64(na_131808, window_sizze_131810);
    bool cond_175627 = slt64((int64_t) 0, zl_rhs_175626);
    int64_t zl_rhs_175628 = sub64(nb_131809, window_sizze_131810);
    bool loop_cond_t_res_175629 = slt64((int64_t) 0, zl_rhs_175628);
    bool x_175630 = cond_175627 && loop_cond_t_res_175629;
    bool empty_slice_175631 = window_sizze_131810 == (int64_t) 0;
    int64_t m_175632 = sub64(window_sizze_131810, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657 = add64((int64_t) 1, threads_131811);
    int64_t partitionFunc_arg0_176658 = mul64((int64_t) 2, threads_131811);
    bool y_176660 = slt64((int64_t) 0, window_sizze_131810);
    bool loop_cond_176906 = slt64((int64_t) 0, threads_131811);
    bool zzero_175677 = threads_131811 == (int64_t) 0;
    bool nonzzero_175678 = !zzero_175677;
    bool loop_not_taken_178435 = !inParallel_131814;
    bool protect_assert_disj_178436 = nonzzero_175678 || loop_not_taken_178435;
    bool loop_not_taken_178525 = !x_175630;
    bool protect_assert_disj_178526 = protect_assert_disj_178436 || loop_not_taken_178525;
    bool nonzzero_cert_175679;
    
    if (!protect_assert_disj_178526) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:365:24-32\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175680 = sdiv_safe64(window_sizze_131810, threads_131811);
    int64_t perThread_175681 = add64((int64_t) 1, zp_rhs_175680);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682 = mul64(threads_131811, perThread_175681);
    bool protect_assert_disj_178572 = inParallel_131814 || y_176660;
    bool protect_assert_disj_178576 = loop_not_taken_178525 || protect_assert_disj_178572;
    bool index_certs_176661;
    
    if (!protect_assert_disj_178576) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176676 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, (int64_t) 1);
    bool y_177633 = slt64(threads_131811, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
    bool protect_assert_disj_178541 = y_176660 || loop_not_taken_178435;
    bool protect_assert_disj_178580 = loop_not_taken_178525 || protect_assert_disj_178541;
    bool index_certs_175685;
    
    if (!protect_assert_disj_178580) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176678 = !bounds_invalid_upwards_176676;
    bool protect_assert_disj_178588 = inParallel_131814 || y_177633;
    bool protect_assert_disj_178590 = loop_not_taken_178525 || protect_assert_disj_178588;
    bool index_certs_177635;
    
    if (!protect_assert_disj_178590) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_131811, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:355:7-31\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178584 = y_177633 || loop_not_taken_178435;
    bool protect_assert_disj_178592 = loop_not_taken_178525 || protect_assert_disj_178584;
    bool index_certs_176639;
    
    if (!protect_assert_disj_178592) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_131811, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:389:7-31\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178600 = inParallel_131814 || valid_176678;
    bool protect_assert_disj_178602 = loop_not_taken_178525 || protect_assert_disj_178600;
    bool range_valid_c_176679;
    
    if (!protect_assert_disj_178602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178444 = sle64((int64_t) 1, threads_131811);
    bool protect_assert_disj_178596 = valid_176678 || loop_not_taken_178435;
    bool protect_assert_disj_178604 = loop_not_taken_178525 || protect_assert_disj_178596;
    bool range_valid_c_175692;
    
    if (!protect_assert_disj_178604) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176681 = add64(window_sizze_131810, window_sizze_131810);
    bool zzero_176682 = partitionFunc_arg0_176658 == (int64_t) 0;
    int64_t index_concat_i_178445 = sub64(threads_131811, (int64_t) 1);
    bool nonzzero_176683 = !zzero_176682;
    bool protect_assert_disj_178612 = inParallel_131814 || nonzzero_176683;
    bool protect_assert_disj_178618 = loop_not_taken_178525 || protect_assert_disj_178612;
    bool nonzzero_cert_176684;
    
    if (!protect_assert_disj_178618) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178608 = nonzzero_176683 || loop_not_taken_178435;
    bool protect_assert_disj_178624 = loop_not_taken_178525 || protect_assert_disj_178608;
    bool nonzzero_cert_175697;
    
    if (!protect_assert_disj_178624) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181149 = (int64_t) 8 * threads_131811;
    int64_t bytes_181166 = (int64_t) 8 * window_sizze_131810;
    int64_t bytes_181168 = (int64_t) 4 * window_sizze_131810;
    int64_t bytes_181511 = perThread_175681 * bytes_181149;
    int64_t binop_x_181518 = (int64_t) 4 * threads_131811;
    int64_t bytes_181519 = perThread_175681 * binop_x_181518;
    bool defunc_0_merge_pipeline_res_175633;
    int64_t defunc_0_merge_pipeline_res_175637;
    int64_t defunc_0_merge_pipeline_res_175638;
    bool loop_while_175639;
    int64_t p_175643;
    int64_t p_175644;
    
    loop_while_175639 = x_175630;
    p_175643 = (int64_t) 0;
    p_175644 = (int64_t) 0;
    while (loop_while_175639) {
        int64_t ubs_175645 = add64(window_sizze_131810, p_175643);
        int64_t ubs_175646 = add64(window_sizze_131810, p_175644);
        int64_t ind_bottom_175647 = add64(p_175643, p_175644);
        int64_t ind_top_175648 = add64(window_sizze_131810, ind_bottom_175647);
        int64_t i_p_m_t_s_175649 = add64(m_175632, p_175643);
        bool zzero_leq_i_p_m_t_s_175650 = sle64((int64_t) 0, i_p_m_t_s_175649);
        bool i_p_m_t_s_leq_w_175651 = slt64(i_p_m_t_s_175649, na_131808);
        bool zzero_lte_i_175652 = sle64((int64_t) 0, p_175643);
        bool i_lte_j_175653 = sle64(p_175643, ubs_175645);
        bool y_175654 = i_p_m_t_s_leq_w_175651 && zzero_lte_i_175652;
        bool y_175655 = zzero_leq_i_p_m_t_s_175650 && y_175654;
        bool forwards_ok_175656 = i_lte_j_175653 && y_175655;
        bool ok_or_empty_175657 = empty_slice_175631 || forwards_ok_175656;
        bool index_certs_175658;
        
        if (!ok_or_empty_175657) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175643, ":", (long long) ubs_175645, "] out of bounds for array of shape [", (long long) na_131808, "].", "-> #0  ftsort.fut:421:14-35\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175660 = add64(m_175632, p_175644);
        bool zzero_leq_i_p_m_t_s_175661 = sle64((int64_t) 0, i_p_m_t_s_175660);
        bool i_p_m_t_s_leq_w_175662 = slt64(i_p_m_t_s_175660, nb_131809);
        bool zzero_lte_i_175663 = sle64((int64_t) 0, p_175644);
        bool i_lte_j_175664 = sle64(p_175644, ubs_175646);
        bool y_175665 = i_p_m_t_s_leq_w_175662 && zzero_lte_i_175663;
        bool y_175666 = zzero_leq_i_p_m_t_s_175661 && y_175665;
        bool forwards_ok_175667 = i_lte_j_175664 && y_175666;
        bool ok_or_empty_175668 = empty_slice_175631 || forwards_ok_175667;
        bool index_certs_175669;
        
        if (!ok_or_empty_175668) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175644, ":", (long long) ubs_175646, "] out of bounds for array of shape [", (long long) nb_131809, "].", "-> #0  ftsort.fut:422:14-35\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177647 = add64(m_175632, ind_bottom_175647);
        bool zzero_leq_i_p_m_t_s_177648 = sle64((int64_t) 0, i_p_m_t_s_177647);
        bool i_p_m_t_s_leq_w_177649 = slt64(i_p_m_t_s_177647, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
        bool zzero_lte_i_177650 = sle64((int64_t) 0, ind_bottom_175647);
        bool i_lte_j_177651 = sle64(ind_bottom_175647, ind_top_175648);
        bool y_177652 = i_p_m_t_s_leq_w_177649 && zzero_lte_i_177650;
        bool y_177653 = zzero_leq_i_p_m_t_s_177648 && y_177652;
        bool forwards_ok_177654 = i_lte_j_177651 && y_177653;
        bool ok_or_empty_177655 = empty_slice_175631 || forwards_ok_177654;
        bool index_certs_177656;
        
        if (!ok_or_empty_177655) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175647, ":", (long long) ind_top_175648, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:431:21-79\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175671;
        int64_t loopres_175672;
        
        if (inParallel_131814) {
            int32_t leq_lhs_179105 = ((int32_t *) a_list_mem_181133.mem)[p_175643];
            int32_t leq_rhs_179106 = ((int32_t *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_179107 = sle32(leq_lhs_179105, leq_rhs_179106);
            int32_t lowest_179108;
            
            if (defunc_0_leq_res_179107) {
                lowest_179108 = leq_lhs_179105;
            } else {
                lowest_179108 = leq_rhs_179106;
            }
            if (mem_181495_cached_sizze_182999 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181495, &mem_181495_cached_sizze_182999, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181497_cached_sizze_183000 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181497, &mem_181497_cached_sizze_183000, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180797 = 0; i_180797 < threads_131811; i_180797++) {
                int64_t index_primexp_181069 = add64((int64_t) 1, i_180797);
                int64_t zs_lhs_179113 = mul64(zt_rhs_176681, index_primexp_181069);
                int64_t index_179114 = sdiv64(zs_lhs_179113, partitionFunc_arg0_176658);
                bool cond_179115 = slt64(window_sizze_131810, index_179114);
                int64_t loop_over_179116;
                
                if (cond_179115) {
                    loop_over_179116 = window_sizze_131810;
                } else {
                    loop_over_179116 = index_179114;
                }
                
                int64_t loop_over_179117;
                
                if (cond_179115) {
                    int64_t loop_over_t_res_179118 = sub64(index_179114, window_sizze_131810);
                    
                    loop_over_179117 = loop_over_t_res_179118;
                } else {
                    loop_over_179117 = (int64_t) 0;
                }
                
                int64_t loop_over_179119;
                
                if (cond_179115) {
                    int64_t zm_lhs_179120 = sub64(index_179114, window_sizze_131810);
                    int64_t loop_over_t_res_179121 = sub64(zm_lhs_179120, (int64_t) 1);
                    
                    loop_over_179119 = loop_over_t_res_179121;
                } else {
                    loop_over_179119 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179122;
                int64_t defunc_0_f_res_179123;
                int64_t defunc_0_f_res_179124;
                int64_t defunc_0_f_res_179125;
                bool loop_while_179126;
                int64_t p_179127;
                int64_t p_179128;
                int64_t p_179129;
                
                loop_while_179126 = 1;
                p_179127 = loop_over_179119;
                p_179128 = loop_over_179116;
                p_179129 = loop_over_179117;
                while (loop_while_179126) {
                    int64_t zs_lhs_179130 = sub64(p_179128, p_179127);
                    int64_t offset_179131 = sdiv64(zs_lhs_179130, (int64_t) 2);
                    int64_t ai_179132 = sub64(p_179128, offset_179131);
                    int64_t max_arg1_179133 = add64(p_179129, offset_179131);
                    int64_t max_res_179134 = smax64((int64_t) 0, max_arg1_179133);
                    bool cond_179135 = slt64((int64_t) 0, max_res_179134);
                    int32_t b_prev_179136;
                    
                    if (cond_179135) {
                        int64_t tmp_179137 = sub64(max_res_179134, (int64_t) 1);
                        bool x_179138 = sle64((int64_t) 0, tmp_179137);
                        bool y_179139 = slt64(tmp_179137, window_sizze_131810);
                        bool bounds_check_179140 = x_179138 && y_179139;
                        bool index_certs_179141;
                        
                        if (!bounds_check_179140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179137, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179142 = p_175644 + tmp_179137;
                        int32_t b_prev_t_res_179143 = ((int32_t *) b_list_mem_181134.mem)[slice_179142];
                        
                        b_prev_179136 = b_prev_t_res_179143;
                    } else {
                        b_prev_179136 = lowest_179108;
                    }
                    
                    bool cond_179144 = sle64(ai_179132, (int64_t) 0);
                    int64_t loopres_179145;
                    int64_t loopres_179146;
                    int64_t loopres_179147;
                    bool loopres_179148;
                    
                    if (cond_179144) {
                        loopres_179145 = p_179127;
                        loopres_179146 = (int64_t) 0;
                        loopres_179147 = max_res_179134;
                        loopres_179148 = 0;
                    } else {
                        bool cond_179149 = sle64(window_sizze_131810, max_res_179134);
                        int64_t loopres_f_res_179150;
                        int64_t loopres_f_res_179151;
                        int64_t loopres_f_res_179152;
                        bool loopres_f_res_179153;
                        
                        if (cond_179149) {
                            int64_t min_res_179155 = smin64(m_175632, ai_179132);
                            bool x_179156 = sle64((int64_t) 0, m_175632);
                            bool y_179157 = slt64(m_175632, window_sizze_131810);
                            bool bounds_check_179158 = x_179156 && y_179157;
                            bool index_certs_179159;
                            
                            if (!bounds_check_179158) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179162 = sle64((int64_t) 0, min_res_179155);
                            bool y_179163 = slt64(min_res_179155, window_sizze_131810);
                            bool bounds_check_179164 = x_179162 && y_179163;
                            bool index_certs_179165;
                            
                            if (!bounds_check_179164) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179155, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_179161 = ((int32_t *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_179166 = p_175643 + min_res_179155;
                            int32_t leq_rhs_179167 = ((int32_t *) a_list_mem_181133.mem)[slice_179166];
                            bool defunc_0_leq_res_179168 = sle32(leq_lhs_179161, leq_rhs_179167);
                            int64_t loopres_f_res_t_res_179169;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179169 = ai_179132;
                            } else {
                                loopres_f_res_t_res_179169 = p_179128;
                            }
                            
                            bool x_179170 = !defunc_0_leq_res_179168;
                            int64_t loopres_f_res_t_res_179171;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179171 = window_sizze_131810;
                            } else {
                                int64_t tmp_179172 = sub64(m_175632, offset_179131);
                                
                                loopres_f_res_t_res_179171 = tmp_179172;
                            }
                            loopres_f_res_179150 = p_179127;
                            loopres_f_res_179151 = loopres_f_res_t_res_179169;
                            loopres_f_res_179152 = loopres_f_res_t_res_179171;
                            loopres_f_res_179153 = x_179170;
                        } else {
                            bool cond_179173 = sle64(window_sizze_131810, ai_179132);
                            int64_t loopres_f_res_f_res_179174;
                            int64_t loopres_f_res_f_res_179175;
                            int64_t loopres_f_res_f_res_179176;
                            bool loopres_f_res_f_res_179177;
                            
                            if (cond_179173) {
                                int64_t min_res_179179 = smin64(m_175632, max_res_179134);
                                bool x_179180 = sle64((int64_t) 0, m_175632);
                                bool y_179181 = slt64(m_175632, window_sizze_131810);
                                bool bounds_check_179182 = x_179180 && y_179181;
                                bool index_certs_179183;
                                
                                if (!bounds_check_179182) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179186 = sle64((int64_t) 0, min_res_179179);
                                bool y_179187 = slt64(min_res_179179, window_sizze_131810);
                                bool bounds_check_179188 = x_179186 && y_179187;
                                bool index_certs_179189;
                                
                                if (!bounds_check_179188) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179179, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_179185 = ((int32_t *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_179190 = p_175644 + min_res_179179;
                                int32_t leq_rhs_179191 = ((int32_t *) b_list_mem_181134.mem)[slice_179190];
                                bool defunc_0_leq_res_179192 = sle32(leq_lhs_179185, leq_rhs_179191);
                                int64_t loopres_f_res_f_res_t_res_179193;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179193 = max_res_179134;
                                } else {
                                    loopres_f_res_f_res_t_res_179193 = p_179129;
                                }
                                
                                bool x_179194 = !defunc_0_leq_res_179192;
                                int64_t loopres_f_res_f_res_t_res_179195;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179195 = window_sizze_131810;
                                } else {
                                    loopres_f_res_f_res_t_res_179195 = m_175632;
                                }
                                loopres_f_res_f_res_179174 = p_179127;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_t_res_179195;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_t_res_179193;
                                loopres_f_res_f_res_179177 = x_179194;
                            } else {
                                bool cond_179196 = sle64(p_179128, p_179127);
                                int64_t loopres_f_res_f_res_f_res_179197;
                                int64_t loopres_f_res_f_res_f_res_179198;
                                int64_t loopres_f_res_f_res_f_res_179199;
                                bool loopres_f_res_f_res_f_res_179200;
                                
                                if (cond_179196) {
                                    bool cond_179201 = slt64(ai_179132, window_sizze_131810);
                                    int64_t ai_179202;
                                    
                                    if (cond_179201) {
                                        ai_179202 = ai_179132;
                                    } else {
                                        ai_179202 = m_175632;
                                    }
                                    
                                    bool x_179215 = sle64((int64_t) 0, ai_179202);
                                    bool y_179216 = slt64(ai_179202, window_sizze_131810);
                                    bool bounds_check_179217 = x_179215 && y_179216;
                                    bool index_certs_179218;
                                    
                                    if (!bounds_check_179217) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179202, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_179204;
                                    
                                    if (cond_179135) {
                                        int64_t tmp_179205 = sub64(max_res_179134, (int64_t) 1);
                                        bool x_179206 = sle64((int64_t) 0, tmp_179205);
                                        bool y_179207 = slt64(tmp_179205, window_sizze_131810);
                                        bool bounds_check_179208 = x_179206 && y_179207;
                                        bool index_certs_179209;
                                        
                                        if (!bounds_check_179208) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179205, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179210 = p_175644 + tmp_179205;
                                        int32_t b_prev_t_res_179211 = ((int32_t *) b_list_mem_181134.mem)[slice_179210];
                                        
                                        b_prev_179204 = b_prev_t_res_179211;
                                    } else {
                                        bool index_certs_179213;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179204 = leq_rhs_179106;
                                    }
                                    
                                    int64_t slice_179219 = p_175643 + ai_179202;
                                    int32_t gt_lhs_179220 = ((int32_t *) a_list_mem_181133.mem)[slice_179219];
                                    bool defunc_0_gt_res_179221 = slt32(b_prev_179204, gt_lhs_179220);
                                    int64_t defunc_0_partFunc_sequential_search_res_179222;
                                    int64_t defunc_0_partFunc_sequential_search_res_179223;
                                    
                                    if (defunc_0_gt_res_179221) {
                                        int64_t zl_rhs_179224 = sub64(window_sizze_131810, max_res_179134);
                                        bool loop_cond_179225 = slt64((int64_t) 0, zl_rhs_179224);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179226;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179228;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179229;
                                        bool loop_while_179230;
                                        int64_t p_179231;
                                        int64_t p_179232;
                                        int64_t p_179233;
                                        
                                        loop_while_179230 = loop_cond_179225;
                                        p_179231 = ai_179202;
                                        p_179232 = max_res_179134;
                                        p_179233 = (int64_t) 0;
                                        while (loop_while_179230) {
                                            int64_t i_a_179234 = sub64(ai_179202, p_179233);
                                            int64_t i_b_179235 = add64(max_res_179134, p_179233);
                                            int64_t leq_lhs_179236 = sub64(i_a_179234, (int64_t) 1);
                                            bool x_179237 = sle64((int64_t) 0, leq_lhs_179236);
                                            bool y_179238 = slt64(leq_lhs_179236, window_sizze_131810);
                                            bool bounds_check_179239 = x_179237 && y_179238;
                                            bool index_certs_179240;
                                            
                                            if (!bounds_check_179239) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179236, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179243 = sle64((int64_t) 0, i_b_179235);
                                            bool y_179244 = slt64(i_b_179235, window_sizze_131810);
                                            bool bounds_check_179245 = x_179243 && y_179244;
                                            bool index_certs_179246;
                                            
                                            if (!bounds_check_179245) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179235, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179241 = p_175643 + leq_lhs_179236;
                                            int32_t leq_lhs_179242 = ((int32_t *) a_list_mem_181133.mem)[slice_179241];
                                            int64_t slice_179247 = p_175644 + i_b_179235;
                                            int32_t leq_rhs_179248 = ((int32_t *) b_list_mem_181134.mem)[slice_179247];
                                            bool defunc_0_leq_res_179249 = sle32(leq_lhs_179242, leq_rhs_179248);
                                            int64_t loopres_179250;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179250 = i_a_179234;
                                            } else {
                                                loopres_179250 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179251;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179251 = i_b_179235;
                                            } else {
                                                loopres_179251 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179252;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179252 = zl_rhs_179224;
                                            } else {
                                                int64_t tmp_179253 = add64((int64_t) 1, p_179233);
                                                
                                                loopres_179252 = tmp_179253;
                                            }
                                            
                                            bool loop_cond_179254 = slt64(loopres_179252, zl_rhs_179224);
                                            bool loop_while_tmp_182566 = loop_cond_179254;
                                            int64_t p_tmp_182567 = loopres_179250;
                                            int64_t p_tmp_182568 = loopres_179251;
                                            int64_t p_tmp_182569 = loopres_179252;
                                            
                                            loop_while_179230 = loop_while_tmp_182566;
                                            p_179231 = p_tmp_182567;
                                            p_179232 = p_tmp_182568;
                                            p_179233 = p_tmp_182569;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179226 = loop_while_179230;
                                        defunc_0_partFunc_sequential_search_res_t_res_179227 = p_179231;
                                        defunc_0_partFunc_sequential_search_res_t_res_179228 = p_179232;
                                        defunc_0_partFunc_sequential_search_res_t_res_179229 = p_179233;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_t_res_179228;
                                    } else {
                                        int64_t zl_rhs_179255 = sub64(max_res_179134, (int64_t) 1);
                                        bool loop_cond_179256 = slt64((int64_t) 0, zl_rhs_179255);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179257;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179259;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179260;
                                        bool loop_while_179261;
                                        int64_t p_179262;
                                        int64_t p_179263;
                                        int64_t p_179264;
                                        
                                        loop_while_179261 = loop_cond_179256;
                                        p_179262 = ai_179202;
                                        p_179263 = max_res_179134;
                                        p_179264 = (int64_t) 0;
                                        while (loop_while_179261) {
                                            int64_t zp_lhs_179265 = add64(ai_179202, p_179264);
                                            int64_t hi_a_179266 = add64((int64_t) 1, zp_lhs_179265);
                                            bool cond_179267 = slt64(hi_a_179266, window_sizze_131810);
                                            int64_t i_a_179268;
                                            
                                            if (cond_179267) {
                                                i_a_179268 = hi_a_179266;
                                            } else {
                                                i_a_179268 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_179270 = sub64(max_res_179134, p_179264);
                                            int64_t i_b_179271 = sub64(zm_lhs_179270, (int64_t) 1);
                                            bool x_179272 = sle64((int64_t) 0, i_a_179268);
                                            bool y_179273 = slt64(i_a_179268, window_sizze_131810);
                                            bool bounds_check_179274 = x_179272 && y_179273;
                                            bool index_certs_179275;
                                            
                                            if (!bounds_check_179274) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179268, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179278 = sle64((int64_t) 0, i_b_179271);
                                            bool y_179279 = slt64(i_b_179271, window_sizze_131810);
                                            bool bounds_check_179280 = x_179278 && y_179279;
                                            bool index_certs_179281;
                                            
                                            if (!bounds_check_179280) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179271, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179276 = p_175643 + i_a_179268;
                                            int32_t gt_lhs_179277 = ((int32_t *) a_list_mem_181133.mem)[slice_179276];
                                            int64_t slice_179282 = p_175644 + i_b_179271;
                                            int32_t gt_rhs_179283 = ((int32_t *) b_list_mem_181134.mem)[slice_179282];
                                            bool defunc_0_gt_res_179284 = slt32(gt_rhs_179283, gt_lhs_179277);
                                            int64_t loopres_179285;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179285 = i_a_179268;
                                            } else {
                                                loopres_179285 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179286;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179286 = zm_lhs_179270;
                                            } else {
                                                loopres_179286 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179287;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179287 = zl_rhs_179255;
                                            } else {
                                                int64_t tmp_179288 = add64((int64_t) 1, p_179264);
                                                
                                                loopres_179287 = tmp_179288;
                                            }
                                            
                                            bool loop_cond_179289 = slt64(loopres_179287, zl_rhs_179255);
                                            bool loop_while_tmp_182570 = loop_cond_179289;
                                            int64_t p_tmp_182571 = loopres_179285;
                                            int64_t p_tmp_182572 = loopres_179286;
                                            int64_t p_tmp_182573 = loopres_179287;
                                            
                                            loop_while_179261 = loop_while_tmp_182570;
                                            p_179262 = p_tmp_182571;
                                            p_179263 = p_tmp_182572;
                                            p_179264 = p_tmp_182573;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179257 = loop_while_179261;
                                        defunc_0_partFunc_sequential_search_res_f_res_179258 = p_179262;
                                        defunc_0_partFunc_sequential_search_res_f_res_179259 = p_179263;
                                        defunc_0_partFunc_sequential_search_res_f_res_179260 = p_179264;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_f_res_179259;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = p_179127;
                                    loopres_f_res_f_res_f_res_179198 = defunc_0_partFunc_sequential_search_res_179222;
                                    loopres_f_res_f_res_f_res_179199 = defunc_0_partFunc_sequential_search_res_179223;
                                    loopres_f_res_f_res_f_res_179200 = 0;
                                } else {
                                    bool x_179290 = sle64((int64_t) 0, ai_179132);
                                    bool y_179291 = slt64(ai_179132, window_sizze_131810);
                                    bool bounds_check_179292 = x_179290 && y_179291;
                                    bool index_certs_179293;
                                    
                                    if (!bounds_check_179292) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179132, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179294 = p_175643 + ai_179132;
                                    int32_t gt_lhs_179295 = ((int32_t *) a_list_mem_181133.mem)[slice_179294];
                                    bool defunc_0_gt_res_179296 = slt32(b_prev_179136, gt_lhs_179295);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179297;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179298;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179299;
                                    bool loopres_f_res_f_res_f_res_f_res_179300;
                                    
                                    if (defunc_0_gt_res_179296) {
                                        int64_t leq_lhs_179301 = sub64(ai_179132, (int64_t) 1);
                                        bool x_179302 = sle64((int64_t) 0, leq_lhs_179301);
                                        bool y_179303 = slt64(leq_lhs_179301, window_sizze_131810);
                                        bool bounds_check_179304 = x_179302 && y_179303;
                                        bool index_certs_179305;
                                        
                                        if (!bounds_check_179304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179301, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179308 = sle64((int64_t) 0, max_res_179134);
                                        bool y_179309 = slt64(max_res_179134, window_sizze_131810);
                                        bool bounds_check_179310 = x_179308 && y_179309;
                                        bool index_certs_179311;
                                        
                                        if (!bounds_check_179310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179134, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179306 = p_175643 + leq_lhs_179301;
                                        int32_t leq_lhs_179307 = ((int32_t *) a_list_mem_181133.mem)[slice_179306];
                                        int64_t slice_179312 = p_175644 + max_res_179134;
                                        int32_t leq_rhs_179313 = ((int32_t *) b_list_mem_181134.mem)[slice_179312];
                                        bool defunc_0_leq_res_179314 = sle32(leq_lhs_179307, leq_rhs_179313);
                                        bool x_179315 = !defunc_0_leq_res_179314;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = ai_179132;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = leq_lhs_179301;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = max_res_179134;
                                        } else {
                                            int64_t tmp_179318 = add64((int64_t) 1, max_res_179134);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = tmp_179318;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179297 = p_179127;
                                        loopres_f_res_f_res_f_res_f_res_179298 = loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        loopres_f_res_f_res_f_res_f_res_179299 = loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        loopres_f_res_f_res_f_res_f_res_179300 = x_179315;
                                    } else {
                                        int64_t tmp_179319 = add64((int64_t) 1, ai_179132);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179297 = tmp_179319;
                                        loopres_f_res_f_res_f_res_f_res_179298 = p_179128;
                                        loopres_f_res_f_res_f_res_f_res_179299 = p_179129;
                                        loopres_f_res_f_res_f_res_f_res_179300 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_179297;
                                    loopres_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_179298;
                                    loopres_f_res_f_res_f_res_179199 = loopres_f_res_f_res_f_res_f_res_179299;
                                    loopres_f_res_f_res_f_res_179200 = loopres_f_res_f_res_f_res_f_res_179300;
                                }
                                loopres_f_res_f_res_179174 = loopres_f_res_f_res_f_res_179197;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_f_res_179198;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_f_res_179199;
                                loopres_f_res_f_res_179177 = loopres_f_res_f_res_f_res_179200;
                            }
                            loopres_f_res_179150 = loopres_f_res_f_res_179174;
                            loopres_f_res_179151 = loopres_f_res_f_res_179175;
                            loopres_f_res_179152 = loopres_f_res_f_res_179176;
                            loopres_f_res_179153 = loopres_f_res_f_res_179177;
                        }
                        loopres_179145 = loopres_f_res_179150;
                        loopres_179146 = loopres_f_res_179151;
                        loopres_179147 = loopres_f_res_179152;
                        loopres_179148 = loopres_f_res_179153;
                    }
                    
                    bool loop_while_tmp_182562 = loopres_179148;
                    int64_t p_tmp_182563 = loopres_179145;
                    int64_t p_tmp_182564 = loopres_179146;
                    int64_t p_tmp_182565 = loopres_179147;
                    
                    loop_while_179126 = loop_while_tmp_182562;
                    p_179127 = p_tmp_182563;
                    p_179128 = p_tmp_182564;
                    p_179129 = p_tmp_182565;
                }
                defunc_0_f_res_179122 = loop_while_179126;
                defunc_0_f_res_179123 = p_179127;
                defunc_0_f_res_179124 = p_179128;
                defunc_0_f_res_179125 = p_179129;
                ((int64_t *) mem_181495)[i_180797] = defunc_0_f_res_179124;
                ((int64_t *) mem_181497)[i_180797] = defunc_0_f_res_179125;
            }
            if (mem_181512_cached_sizze_183001 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181512, &mem_181512_cached_sizze_183001, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181514_cached_sizze_183002 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682) {
                err = lexical_realloc(ctx, &mem_181514, &mem_181514_cached_sizze_183002, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181517_cached_sizze_183003 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_183003, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181520_cached_sizze_183004 < bytes_181519) {
                err = lexical_realloc(ctx, &mem_181520, &mem_181520_cached_sizze_183004, bytes_181519);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180863 = 0; i_180863 < threads_131811; i_180863++) {
                bool y_179333 = slt64(i_180863, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool index_certs_179335;
                
                if (!y_179333) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180863, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:371:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179336 = sle64((int64_t) 1, i_180863);
                int64_t index_concat_i_179337 = sub64(i_180863, (int64_t) 1);
                int64_t index_concat_179338;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179339 = ((int64_t *) mem_181495)[index_concat_i_179337];
                    
                    index_concat_179338 = x_179339;
                } else {
                    index_concat_179338 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179340;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179340 = index_concat_179338;
                } else {
                    index_concat_branch_179340 = (int64_t) 0;
                }
                
                int64_t index_concat_179341;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179342 = ((int64_t *) mem_181497)[index_concat_i_179337];
                    
                    index_concat_179341 = x_179342;
                } else {
                    index_concat_179341 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179343;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179343 = index_concat_179341;
                } else {
                    index_concat_branch_179343 = (int64_t) 0;
                }
                
                int64_t ubs_179344 = add64((int64_t) 1, i_180863);
                bool x_179345 = sle64((int64_t) 0, ubs_179344);
                bool y_179346 = slt64(ubs_179344, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_179347 = x_179345 && y_179346;
                bool index_certs_179348;
                
                if (!bounds_check_179347) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179344, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:372:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179349 = sle64((int64_t) 1, ubs_179344);
                int64_t index_concat_179350;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179351 = ((int64_t *) mem_181495)[i_180863];
                    
                    index_concat_179350 = x_179351;
                } else {
                    index_concat_179350 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179352;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179352 = index_concat_179350;
                } else {
                    index_concat_branch_179352 = (int64_t) 0;
                }
                
                int64_t index_concat_179353;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179354 = ((int64_t *) mem_181497)[i_180863];
                    
                    index_concat_179353 = x_179354;
                } else {
                    index_concat_179353 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179355;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179355 = index_concat_179353;
                } else {
                    index_concat_branch_179355 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 = sub64(index_concat_branch_179355, index_concat_branch_179343);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 = sub64(index_concat_branch_179352, index_concat_branch_179340);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t zm_lhs_179359 = add64(index_concat_branch_179352, index_concat_branch_179355);
                int64_t zm_rhs_179360 = add64(index_concat_branch_179340, index_concat_branch_179343);
                int64_t card_179361 = sub64(zm_lhs_179359, zm_rhs_179360);
                bool empty_slice_179362 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 == (int64_t) 0;
                int64_t m_179363 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 1);
                int64_t i_p_m_t_s_179364 = add64(index_concat_branch_179340, m_179363);
                bool zzero_leq_i_p_m_t_s_179365 = sle64((int64_t) 0, i_p_m_t_s_179364);
                bool i_p_m_t_s_leq_w_179366 = slt64(i_p_m_t_s_179364, window_sizze_131810);
                bool zzero_lte_i_179367 = sle64((int64_t) 0, index_concat_branch_179340);
                bool i_lte_j_179368 = sle64(index_concat_branch_179340, index_concat_branch_179352);
                bool y_179369 = i_p_m_t_s_leq_w_179366 && zzero_lte_i_179367;
                bool y_179370 = zzero_leq_i_p_m_t_s_179365 && y_179369;
                bool forwards_ok_179371 = i_lte_j_179368 && y_179370;
                bool ok_or_empty_179372 = empty_slice_179362 || forwards_ok_179371;
                bool index_certs_179373;
                
                if (!ok_or_empty_179372) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179340, ":", (long long) index_concat_branch_179352, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:374:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179374 = slt64(index_concat_branch_179352, index_concat_branch_179340);
                bool valid_179375 = !bounds_invalid_upwards_179374;
                bool range_valid_c_179376;
                
                if (!valid_179375) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179340, "..<", (long long) index_concat_branch_179352, " is invalid.", "-> #0  ftsort.fut:374:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179381 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 == (int64_t) 0;
                int64_t m_179382 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, (int64_t) 1);
                int64_t i_p_m_t_s_179383 = add64(index_concat_branch_179343, m_179382);
                bool zzero_leq_i_p_m_t_s_179384 = sle64((int64_t) 0, i_p_m_t_s_179383);
                bool i_p_m_t_s_leq_w_179385 = slt64(i_p_m_t_s_179383, window_sizze_131810);
                bool zzero_lte_i_179386 = sle64((int64_t) 0, index_concat_branch_179343);
                bool i_lte_j_179387 = sle64(index_concat_branch_179343, index_concat_branch_179355);
                bool y_179388 = i_p_m_t_s_leq_w_179385 && zzero_lte_i_179386;
                bool y_179389 = zzero_leq_i_p_m_t_s_179384 && y_179388;
                bool forwards_ok_179390 = i_lte_j_179387 && y_179389;
                bool ok_or_empty_179391 = empty_slice_179381 || forwards_ok_179390;
                bool index_certs_179392;
                
                if (!ok_or_empty_179391) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179343, ":", (long long) index_concat_branch_179355, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:375:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179393 = slt64(index_concat_branch_179355, index_concat_branch_179343);
                bool valid_179394 = !bounds_invalid_upwards_179393;
                bool range_valid_c_179395;
                
                if (!valid_179394) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179343, "..<", (long long) index_concat_branch_179355, " is invalid.", "-> #0  ftsort.fut:375:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181549 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                int64_t bytes_181551 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool cond_179403 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zs_lhs_179404 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zp_rhs_179405 = sdiv_safe64(zs_lhs_179404, (int64_t) 20);
                int64_t min_num_blocks_179406 = add64((int64_t) 1, zp_rhs_179405);
                bool loop_cond_179407 = slt64((int64_t) 1, min_num_blocks_179406);
                bool smallest_pow_2_geq_than_res_179408;
                int64_t smallest_pow_2_geq_than_res_179409;
                bool loop_while_179410;
                int64_t x_179411;
                
                loop_while_179410 = loop_cond_179407;
                x_179411 = (int64_t) 1;
                while (loop_while_179410) {
                    int64_t loopres_179412 = mul64((int64_t) 2, x_179411);
                    bool loop_cond_179413 = slt64(loopres_179412, min_num_blocks_179406);
                    bool loop_while_tmp_182578 = loop_cond_179413;
                    int64_t x_tmp_182579 = loopres_179412;
                    
                    loop_while_179410 = loop_while_tmp_182578;
                    x_179411 = x_tmp_182579;
                }
                smallest_pow_2_geq_than_res_179408 = loop_while_179410;
                smallest_pow_2_geq_than_res_179409 = x_179411;
                
                bool zzero_179414 = smallest_pow_2_geq_than_res_179409 == (int64_t) 0;
                bool nonzzero_179415 = !zzero_179414;
                bool protect_assert_disj_179416 = cond_179403 || nonzzero_179415;
                bool nonzzero_cert_179417;
                
                if (!protect_assert_disj_179416) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179418 = sdiv_safe64(zs_lhs_179404, smallest_pow_2_geq_than_res_179409);
                int64_t block_sizze_179419 = add64((int64_t) 1, zp_rhs_179418);
                bool y_179426 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                bool protect_assert_disj_182295 = cond_179403 || y_179426;
                bool index_certs_179427;
                
                if (!protect_assert_disj_182295) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179464 = slt64(smallest_pow_2_geq_than_res_179409, (int64_t) 0);
                bool valid_179465 = !bounds_invalid_upwards_179464;
                bool protect_assert_disj_182305 = cond_179403 || valid_179465;
                bool range_valid_c_179466;
                
                if (!protect_assert_disj_182305) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179409, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:475:63-73\n   #6  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179468 = slt64(block_sizze_179419, (int64_t) 0);
                bool valid_179469 = !bounds_invalid_upwards_179468;
                bool protect_assert_disj_182307 = cond_179403 || valid_179469;
                bool range_valid_c_179470;
                
                if (!protect_assert_disj_182307) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179419, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179472 = sle64(block_sizze_179419, (int64_t) 1);
                int64_t tmp_179473 = sub64(block_sizze_179419, (int64_t) 2);
                bool bounds_invalid_upwards_179474 = slt64(tmp_179473, (int64_t) 0);
                bool valid_179476 = !bounds_invalid_upwards_179474;
                bool protect_assert_disj_179477 = cond_179472 || valid_179476;
                bool protect_assert_disj_182309 = cond_179403 || protect_assert_disj_179477;
                bool range_valid_c_179478;
                
                if (!protect_assert_disj_182309) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179473, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180058 = card_179361 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool empty_or_match_cert_180059;
                
                if (!dim_match_180058) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] cannot match shape of type `[", (long long) card_179361, "](i8, i64, i32)`.", "-> #0  ftsort.fut:376:20-382:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180060 = card_179361 == (int64_t) 0;
                int64_t m_180061 = sub64(card_179361, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180062 = sle64((int64_t) 0, m_180061);
                bool i_p_m_t_s_leq_w_180063 = slt64(m_180061, card_179361);
                bool y_180064 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180063;
                bool ok_or_empty_180065 = empty_slice_180060 || y_180064;
                bool index_certs_180066;
                
                if (!ok_or_empty_180065) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) card_179361, "].", "-> #0  ftsort.fut:383:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_180067 = slt64(m_180061, perThread_175681);
                bool y_180068 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180067;
                bool ok_or_empty_180069 = empty_slice_180060 || y_180068;
                bool index_certs_180070;
                
                if (!ok_or_empty_180069) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:383:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182580 = 0; nest_i_182580 < perThread_175681; nest_i_182580++) {
                    ((int8_t *) mem_181514)[i_180863 * perThread_175681 + nest_i_182580] = (int8_t) -1;
                }
                for (int64_t nest_i_182581 = 0; nest_i_182581 < perThread_175681; nest_i_182581++) {
                    ((int64_t *) mem_181517)[i_180863 * perThread_175681 + nest_i_182581] = (int64_t) -1;
                }
                for (int64_t nest_i_182582 = 0; nest_i_182582 < perThread_175681; nest_i_182582++) {
                    ((int32_t *) mem_181520)[i_180863 * perThread_175681 + nest_i_182582] = 0;
                }
                
                int64_t slice_179377 = p_175643 + index_concat_branch_179340;
                
                if (memblock_alloc(ctx, &mem_181548, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "mem_181548")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182583 = 0; nest_i_182583 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; nest_i_182583++) {
                    ((int8_t *) mem_181548.mem)[nest_i_182583] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181550, bytes_181549, "mem_181550")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182584 = 0; i_182584 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; i_182584++) {
                    int64_t x_182585 = index_concat_branch_179340 + i_182584 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[i_182584] = x_182585;
                }
                
                int64_t slice_179396 = p_175644 + index_concat_branch_179343;
                
                for (int64_t nest_i_182586 = 0; nest_i_182586 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; nest_i_182586++) {
                    ((int8_t *) mem_181548.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + nest_i_182586] = (int8_t) 1;
                }
                for (int64_t i_182587 = 0; i_182587 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; i_182587++) {
                    int64_t x_182588 = index_concat_branch_179343 + i_182587 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + i_182587] = x_182588;
                }
                
                int64_t tmp_offs_182589 = (int64_t) 0;
                
                if (!(tmp_offs_182589 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182589 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t tmp_offs_182590 = (int64_t) 0;
                
                if (!(tmp_offs_182590 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182590 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                if (memblock_alloc(ctx, &mem_181552, bytes_181551, "mem_181552")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182591 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181133.mem, slice_179377, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181134.mem, slice_179396, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t flat_dim_179420 = smallest_pow_2_geq_than_res_179409 * block_sizze_179419;
                bool x_182290 = !cond_179403;
                int64_t greatest_divisor_leq_than_arg1_179424 = mul64((int64_t) 2, block_sizze_179419);
                int64_t merge_block_sizze_179425;
                
                if (x_182290) {
                    int64_t x_182292;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182292, (int64_t) 8, greatest_divisor_leq_than_arg1_179424) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179425 = x_182292;
                } else {
                    merge_block_sizze_179425 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179428 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 0);
                int8_t index_concat_branch_179429 = btoi_bool_i8(index_concat_cmp_179428);
                int64_t index_concat_i_179431 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t index_primexp_179432 = add64(index_concat_branch_179343, index_concat_i_179431);
                int64_t index_concat_branch_179430;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179430 = index_primexp_179432;
                } else {
                    index_concat_branch_179430 = index_concat_branch_179340;
                }
                
                bool x_182286 = !index_concat_cmp_179428;
                bool protect_cond_conj_182296 = x_182286 && x_182290;
                int32_t index_concat_179438;
                
                if (protect_cond_conj_182296) {
                    int32_t x_182288 = ((int32_t *) a_list_mem_181133.mem)[slice_179377];
                    
                    index_concat_179438 = x_182288;
                } else {
                    index_concat_179438 = 0;
                }
                
                int64_t slice_179436 = p_175644 + index_primexp_179432;
                bool protect_cond_conj_182297 = index_concat_cmp_179428 && x_182290;
                int32_t index_concat_179437;
                
                if (protect_cond_conj_182297) {
                    int32_t x_182284 = ((int32_t *) b_list_mem_181134.mem)[slice_179436];
                    
                    index_concat_179437 = x_182284;
                } else {
                    index_concat_179437 = 0;
                }
                
                int32_t index_concat_branch_179433;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179433 = index_concat_179437;
                } else {
                    index_concat_branch_179433 = index_concat_179438;
                }
                
                int8_t defunc_0_reduce_res_179439;
                int64_t defunc_0_reduce_res_179440;
                int32_t defunc_0_reduce_res_179441;
                
                if (x_182290) {
                    int8_t x_182298;
                    int64_t x_182299;
                    int32_t x_182300;
                    int8_t redout_180800;
                    int64_t redout_180801;
                    int32_t redout_180802;
                    
                    redout_180800 = index_concat_branch_179429;
                    redout_180801 = index_concat_branch_179430;
                    redout_180802 = index_concat_branch_179433;
                    for (int64_t i_180803 = 0; i_180803 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358; i_180803++) {
                        bool index_concat_cmp_181061 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, i_180803);
                        int8_t index_concat_branch_181065 = btoi_bool_i8(index_concat_cmp_181061);
                        int64_t index_concat_branch_181059;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181056 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t index_primexp_181109 = add64(index_concat_branch_179343, index_concat_i_181056);
                            
                            index_concat_branch_181059 = index_primexp_181109;
                        } else {
                            int64_t index_primexp_181111 = add64(index_concat_branch_179340, i_180803);
                            
                            index_concat_branch_181059 = index_primexp_181111;
                        }
                        
                        int32_t index_concat_branch_181053;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181050 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t slice_181106 = slice_179396 + index_concat_i_181050;
                            int32_t index_concat_181051 = ((int32_t *) b_list_mem_181134.mem)[slice_181106];
                            
                            index_concat_branch_181053 = index_concat_181051;
                        } else {
                            int64_t slice_181107 = slice_179377 + i_180803;
                            int32_t index_concat_181052 = ((int32_t *) a_list_mem_181133.mem)[slice_181107];
                            
                            index_concat_branch_181053 = index_concat_181052;
                        }
                        
                        bool eq_x_y_181123 = redout_180800 == (int8_t) 1;
                        bool eq_x_zz_181124 = redout_180800 == (int8_t) 0;
                        bool p_and_eq_x_y_181125 = index_concat_cmp_181061 && eq_x_y_181123;
                        bool not_p_181126 = !index_concat_cmp_181061;
                        bool p_and_eq_x_y_181127 = eq_x_zz_181124 && not_p_181126;
                        bool cond_179451 = p_and_eq_x_y_181125 || p_and_eq_x_y_181127;
                        bool defunc_0_leq_res_t_res_179452 = sle64(redout_180801, index_concat_branch_181059);
                        bool defunc_0_leq_res_179453 = sle32(redout_180802, index_concat_branch_181053);
                        bool x_179454 = cond_179451 && defunc_0_leq_res_t_res_179452;
                        bool x_179455 = !cond_179451;
                        bool y_179456 = defunc_0_leq_res_179453 && x_179455;
                        bool defunc_0_leq_res_179457 = x_179454 || y_179456;
                        int8_t defunc_0_op_res_179458;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179458 = index_concat_branch_181065;
                        } else {
                            defunc_0_op_res_179458 = redout_180800;
                        }
                        
                        int64_t defunc_0_op_res_179459;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179459 = index_concat_branch_181059;
                        } else {
                            defunc_0_op_res_179459 = redout_180801;
                        }
                        
                        int32_t defunc_0_op_res_179460;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179460 = index_concat_branch_181053;
                        } else {
                            defunc_0_op_res_179460 = redout_180802;
                        }
                        
                        int8_t redout_tmp_182592 = defunc_0_op_res_179458;
                        int64_t redout_tmp_182593 = defunc_0_op_res_179459;
                        int32_t redout_tmp_182594 = defunc_0_op_res_179460;
                        
                        redout_180800 = redout_tmp_182592;
                        redout_180801 = redout_tmp_182593;
                        redout_180802 = redout_tmp_182594;
                    }
                    x_182298 = redout_180800;
                    x_182299 = redout_180801;
                    x_182300 = redout_180802;
                    defunc_0_reduce_res_179439 = x_182298;
                    defunc_0_reduce_res_179440 = x_182299;
                    defunc_0_reduce_res_179441 = x_182300;
                } else {
                    defunc_0_reduce_res_179439 = (int8_t) 0;
                    defunc_0_reduce_res_179440 = (int64_t) 0;
                    defunc_0_reduce_res_179441 = 0;
                }
                
                int64_t distance_179475 = add64((int64_t) 1, tmp_179473);
                int64_t binop_x_181555 = (int64_t) 8 * smallest_pow_2_geq_than_res_179409;
                int64_t bytes_181556 = block_sizze_179419 * binop_x_181555;
                int64_t binop_x_181558 = (int64_t) 4 * smallest_pow_2_geq_than_res_179409;
                int64_t bytes_181559 = block_sizze_179419 * binop_x_181558;
                int64_t bytes_181574 = (int64_t) 8 * block_sizze_179419;
                int64_t bytes_181576 = (int64_t) 4 * block_sizze_179419;
                bool loop_cond_179601 = slt64(block_sizze_179419, flat_dim_179420);
                bool zzero_179602 = merge_block_sizze_179425 == (int64_t) 0;
                bool nonzzero_179603 = !zzero_179602;
                
                if (cond_179403) {
                    if (memblock_set(ctx, &ext_mem_181847, &mem_181548, "mem_181548") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &mem_181550, "mem_181550") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &mem_181552, "mem_181552") != 0)
                        return 1;
                } else {
                    if (mem_181554_cached_sizze_183005 < flat_dim_179420) {
                        err = lexical_realloc(ctx, &mem_181554, &mem_181554_cached_sizze_183005, flat_dim_179420);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181557_cached_sizze_183006 < bytes_181556) {
                        err = lexical_realloc(ctx, &mem_181557, &mem_181557_cached_sizze_183006, bytes_181556);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181560_cached_sizze_183007 < bytes_181559) {
                        err = lexical_realloc(ctx, &mem_181560, &mem_181560_cached_sizze_183007, bytes_181559);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181573_cached_sizze_183008 < block_sizze_179419) {
                        err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_183008, block_sizze_179419);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181575_cached_sizze_183009 < bytes_181574) {
                        err = lexical_realloc(ctx, &mem_181575, &mem_181575_cached_sizze_183009, bytes_181574);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181577_cached_sizze_183010 < bytes_181576) {
                        err = lexical_realloc(ctx, &mem_181577, &mem_181577_cached_sizze_183010, bytes_181576);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180820 = 0; i_180820 < smallest_pow_2_geq_than_res_179409; i_180820++) {
                        int64_t zp_lhs_179483 = mul64(block_sizze_179419, i_180820);
                        
                        for (int64_t i_180810 = 0; i_180810 < block_sizze_179419; i_180810++) {
                            int64_t k_179488 = add64(zp_lhs_179483, i_180810);
                            bool cond_179489 = slt64(k_179488, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                            int8_t lifted_lambda_res_179490;
                            int64_t lifted_lambda_res_179491;
                            int32_t lifted_lambda_res_179492;
                            
                            if (cond_179489) {
                                bool x_179493 = sle64((int64_t) 0, k_179488);
                                bool bounds_check_179494 = cond_179489 && x_179493;
                                bool index_certs_179495;
                                
                                if (!bounds_check_179494) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179488, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179496 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, k_179488);
                                int8_t index_concat_branch_179497 = btoi_bool_i8(index_concat_cmp_179496);
                                int64_t index_concat_branch_179498;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179499 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t index_primexp_179500 = add64(index_concat_branch_179343, index_concat_i_179499);
                                    
                                    index_concat_branch_179498 = index_primexp_179500;
                                } else {
                                    int64_t index_primexp_179501 = add64(index_concat_branch_179340, k_179488);
                                    
                                    index_concat_branch_179498 = index_primexp_179501;
                                }
                                
                                int32_t index_concat_branch_179502;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179503 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t slice_179504 = index_concat_branch_179343 + index_concat_i_179503;
                                    int64_t slice_179505 = p_175644 + slice_179504;
                                    int32_t index_concat_179506 = ((int32_t *) b_list_mem_181134.mem)[slice_179505];
                                    
                                    index_concat_branch_179502 = index_concat_179506;
                                } else {
                                    int64_t slice_179507 = index_concat_branch_179340 + k_179488;
                                    int64_t slice_179508 = p_175643 + slice_179507;
                                    int32_t index_concat_179509 = ((int32_t *) a_list_mem_181133.mem)[slice_179508];
                                    
                                    index_concat_branch_179502 = index_concat_179509;
                                }
                                lifted_lambda_res_179490 = index_concat_branch_179497;
                                lifted_lambda_res_179491 = index_concat_branch_179498;
                                lifted_lambda_res_179492 = index_concat_branch_179502;
                            } else {
                                lifted_lambda_res_179490 = defunc_0_reduce_res_179439;
                                lifted_lambda_res_179491 = defunc_0_reduce_res_179440;
                                lifted_lambda_res_179492 = defunc_0_reduce_res_179441;
                            }
                            ((int8_t *) mem_181573)[i_180810] = lifted_lambda_res_179490;
                            ((int64_t *) mem_181575)[i_180810] = lifted_lambda_res_179491;
                            ((int32_t *) mem_181577)[i_180810] = lifted_lambda_res_179492;
                        }
                        if (!cond_179472) {
                            for (int64_t i_179519 = 0; i_179519 < distance_179475; i_179519++) {
                                int64_t gt_arg1_179523 = add64((int64_t) 1, i_179519);
                                bool x_179524 = sle64((int64_t) 0, gt_arg1_179523);
                                bool y_179525 = slt64(gt_arg1_179523, block_sizze_179419);
                                bool bounds_check_179526 = x_179524 && y_179525;
                                bool index_certs_179527;
                                
                                if (!bounds_check_179526) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179523, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179531 = slt64(i_179519, block_sizze_179419);
                                bool index_certs_179532;
                                
                                if (!y_179531) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179519, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179528 = ((int8_t *) mem_181573)[gt_arg1_179523];
                                int64_t gt_arg1_179529 = ((int64_t *) mem_181575)[gt_arg1_179523];
                                int32_t gt_arg1_179530 = ((int32_t *) mem_181577)[gt_arg1_179523];
                                int8_t gt_arg0_179533 = ((int8_t *) mem_181573)[i_179519];
                                int64_t gt_arg0_179534 = ((int64_t *) mem_181575)[i_179519];
                                int32_t gt_arg0_179535 = ((int32_t *) mem_181577)[i_179519];
                                bool cond_179536 = gt_arg0_179533 == gt_arg1_179528;
                                bool defunc_0_leq_res_t_res_179537 = sle64(gt_arg0_179534, gt_arg1_179529);
                                bool defunc_0_leq_res_179538 = sle32(gt_arg0_179535, gt_arg1_179530);
                                bool x_179539 = cond_179536 && defunc_0_leq_res_t_res_179537;
                                bool x_179540 = !cond_179536;
                                bool y_179541 = defunc_0_leq_res_179538 && x_179540;
                                bool defunc_0_leq_res_179542 = x_179539 || y_179541;
                                bool defunc_0_lifted_gt_res_179543 = !defunc_0_leq_res_179542;
                                bool s_179544;
                                int64_t s_179548;
                                bool loop_while_179549;
                                int64_t j_179553;
                                
                                loop_while_179549 = defunc_0_lifted_gt_res_179543;
                                j_179553 = i_179519;
                                while (loop_while_179549) {
                                    bool x_179554 = sle64((int64_t) 0, j_179553);
                                    bool y_179555 = slt64(j_179553, block_sizze_179419);
                                    bool bounds_check_179556 = x_179554 && y_179555;
                                    bool index_certs_179557;
                                    
                                    if (!bounds_check_179556) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179553, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179561 = add64((int64_t) 1, j_179553);
                                    bool x_179562 = sle64((int64_t) 0, copy_arg0_179561);
                                    bool y_179563 = slt64(copy_arg0_179561, block_sizze_179419);
                                    bool bounds_check_179564 = x_179562 && y_179563;
                                    bool index_certs_179565;
                                    
                                    if (!bounds_check_179564) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179561, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179558 = ((int8_t *) mem_181573)[j_179553];
                                    int64_t copy_arg0_179559 = ((int64_t *) mem_181575)[j_179553];
                                    int32_t copy_arg0_179560 = ((int32_t *) mem_181577)[j_179553];
                                    int8_t copy_arg0_179566 = ((int8_t *) mem_181573)[copy_arg0_179561];
                                    int64_t copy_arg0_179567 = ((int64_t *) mem_181575)[copy_arg0_179561];
                                    int32_t copy_arg0_179568 = ((int32_t *) mem_181577)[copy_arg0_179561];
                                    
                                    ((int8_t *) mem_181573)[j_179553] = copy_arg0_179566;
                                    ((int64_t *) mem_181575)[j_179553] = copy_arg0_179567;
                                    ((int32_t *) mem_181577)[j_179553] = copy_arg0_179568;
                                    ((int8_t *) mem_181573)[copy_arg0_179561] = copy_arg0_179558;
                                    ((int64_t *) mem_181575)[copy_arg0_179561] = copy_arg0_179559;
                                    ((int32_t *) mem_181577)[copy_arg0_179561] = copy_arg0_179560;
                                    
                                    int64_t tmp_179575 = sub64(j_179553, (int64_t) 1);
                                    bool cond_179576 = sle64((int64_t) 0, tmp_179575);
                                    bool loop_cond_179577;
                                    
                                    if (cond_179576) {
                                        bool y_179581 = slt64(tmp_179575, block_sizze_179419);
                                        bool bounds_check_179582 = cond_179576 && y_179581;
                                        bool index_certs_179583;
                                        
                                        if (!bounds_check_179582) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179575, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179578 = ((int8_t *) mem_181573)[j_179553];
                                        int64_t gt_arg1_179579 = ((int64_t *) mem_181575)[j_179553];
                                        int32_t gt_arg1_179580 = ((int32_t *) mem_181577)[j_179553];
                                        int8_t gt_arg0_179584 = ((int8_t *) mem_181573)[tmp_179575];
                                        int64_t gt_arg0_179585 = ((int64_t *) mem_181575)[tmp_179575];
                                        int32_t gt_arg0_179586 = ((int32_t *) mem_181577)[tmp_179575];
                                        bool cond_179587 = gt_arg0_179584 == gt_arg1_179578;
                                        bool defunc_0_leq_res_t_res_179588 = sle64(gt_arg0_179585, gt_arg1_179579);
                                        bool defunc_0_leq_res_179589 = sle32(gt_arg0_179586, gt_arg1_179580);
                                        bool x_179590 = cond_179587 && defunc_0_leq_res_t_res_179588;
                                        bool x_179591 = !cond_179587;
                                        bool y_179592 = defunc_0_leq_res_179589 && x_179591;
                                        bool defunc_0_leq_res_179593 = x_179590 || y_179592;
                                        bool defunc_0_lifted_gt_res_179594 = !defunc_0_leq_res_179593;
                                        
                                        loop_cond_179577 = defunc_0_lifted_gt_res_179594;
                                    } else {
                                        loop_cond_179577 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182604 = loop_cond_179577;
                                    int64_t j_tmp_182608 = tmp_179575;
                                    
                                    loop_while_179549 = loop_while_tmp_182604;
                                    j_179553 = j_tmp_182608;
                                }
                                s_179544 = loop_while_179549;
                                s_179548 = j_179553;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181554, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181557, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181575, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181560, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181577, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                    }
                    if (memblock_alloc(ctx, &mem_181654, flat_dim_179420, "mem_181654")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181654.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint8_t *) mem_181554, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181658, bytes_181556, "mem_181658")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181658.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint64_t *) mem_181557, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181662, bytes_181559, "mem_181662")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181662.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint32_t *) mem_181560, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    
                    int64_t data_179604;
                    bool data_179605;
                    int64_t data_179609;
                    int64_t loop_dz2084Uz2082U_179610;
                    bool loop_while_179611;
                    int64_t stride_179615;
                    
                    if (memblock_set(ctx, &mem_param_181666, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181669, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181672, &mem_181662, "mem_181662") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179610 = flat_dim_179420;
                    loop_while_179611 = loop_cond_179601;
                    stride_179615 = block_sizze_179419;
                    while (loop_while_179611) {
                        int64_t next_stride_179616 = mul64((int64_t) 2, stride_179615);
                        bool zzero_179617 = next_stride_179616 == (int64_t) 0;
                        bool nonzzero_179618 = !zzero_179617;
                        bool nonzzero_cert_179619;
                        
                        if (!nonzzero_179618) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179620 = sdiv64(flat_dim_179420, next_stride_179616);
                        bool bounds_invalid_upwards_179621 = slt64(num_merges_179620, (int64_t) 0);
                        bool valid_179622 = !bounds_invalid_upwards_179621;
                        bool range_valid_c_179623;
                        
                        if (!valid_179622) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179620, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:475:63-73\n   #6  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179625 = sub64(next_stride_179616, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179626 = sle64((int64_t) 0, m_179625);
                        bool cond_179628 = slt64(next_stride_179616, (int64_t) 10);
                        bool protect_assert_disj_179629 = nonzzero_179603 || cond_179628;
                        bool nonzzero_cert_179630;
                        
                        if (!protect_assert_disj_179629) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179631 = smod_safe64(next_stride_179616, merge_block_sizze_179425);
                        bool num_blocks_179632 = zeze_lhs_179631 == (int64_t) 0;
                        bool protect_assert_disj_179633 = cond_179628 || num_blocks_179632;
                        bool assert_c_179634;
                        
                        if (!protect_assert_disj_179633) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179635 = sdiv_safe64(next_stride_179616, merge_block_sizze_179425);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636 = add64((int64_t) 1, num_blocks_179635);
                        int64_t j_m_i_179637 = sub64(next_stride_179616, stride_179615);
                        int64_t flat_dim_179638 = merge_block_sizze_179425 * num_blocks_179635;
                        bool bounds_invalid_upwards_179639 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, (int64_t) 0);
                        bool empty_slice_179640 = j_m_i_179637 == (int64_t) 0;
                        int64_t m_179641 = sub64(j_m_i_179637, (int64_t) 1);
                        bool zzero_lte_i_179642 = sle64((int64_t) 0, stride_179615);
                        bool i_lte_j_179643 = sle64(stride_179615, next_stride_179616);
                        bool empty_slice_179644 = stride_179615 == (int64_t) 0;
                        int64_t m_179645 = sub64(stride_179615, (int64_t) 1);
                        bool bounds_invalid_upwards_179646 = slt64(num_blocks_179635, (int64_t) 0);
                        bool cond_179647 = slt64((int64_t) 0, stride_179615);
                        bool valid_179648 = !bounds_invalid_upwards_179639;
                        int64_t i_p_m_t_s_179649 = add64(stride_179615, m_179641);
                        bool zzero_leq_i_p_m_t_s_179650 = sle64((int64_t) 0, m_179645);
                        bool i_p_m_t_s_leq_w_179651 = slt64(m_179645, next_stride_179616);
                        bool valid_179652 = !bounds_invalid_upwards_179646;
                        bool i_p_m_t_s_leq_w_179653 = slt64(m_179625, flat_dim_179638);
                        bool y_179654 = slt64((int64_t) 0, j_m_i_179637);
                        bool protect_assert_disj_179655 = cond_179628 || valid_179648;
                        bool range_valid_c_179656;
                        
                        if (!protect_assert_disj_179655) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179657 = sle64((int64_t) 0, i_p_m_t_s_179649);
                        bool i_p_m_t_s_leq_w_179658 = slt64(i_p_m_t_s_179649, next_stride_179616);
                        bool y_179659 = zzero_leq_i_p_m_t_s_179650 && i_p_m_t_s_leq_w_179651;
                        bool protect_assert_disj_179660 = cond_179628 || valid_179652;
                        bool range_valid_c_179661;
                        
                        if (!protect_assert_disj_179660) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179635, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179662 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179653;
                        bool y_179663 = zzero_lte_i_179642 && i_p_m_t_s_leq_w_179658;
                        bool forwards_ok_179664 = zzero_lte_i_179642 && y_179659;
                        bool ok_or_empty_179665 = zzero_179617 || y_179662;
                        bool protect_assert_disj_179666 = cond_179647 || y_179654;
                        bool y_179667 = zzero_leq_i_p_m_t_s_179657 && y_179663;
                        bool ok_or_empty_179668 = empty_slice_179644 || forwards_ok_179664;
                        bool protect_assert_disj_179669 = cond_179628 || ok_or_empty_179665;
                        bool index_certs_179670;
                        
                        if (!protect_assert_disj_179669) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) flat_dim_179638, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179671 = !cond_179628;
                        bool protect_assert_disj_179672 = protect_assert_disj_179666 || loop_not_taken_179671;
                        bool index_certs_179673;
                        
                        if (!protect_assert_disj_179672) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179674 = i_lte_j_179643 && y_179667;
                        bool protect_assert_disj_179675 = cond_179628 || ok_or_empty_179668;
                        bool index_certs_179676;
                        
                        if (!protect_assert_disj_179675) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179677 = ok_or_empty_179668 || loop_not_taken_179671;
                        bool index_certs_179678;
                        
                        if (!protect_assert_disj_179677) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179679 = empty_slice_179640 || forwards_ok_179674;
                        bool protect_assert_disj_179680 = cond_179628 || ok_or_empty_179679;
                        bool index_certs_179681;
                        
                        if (!protect_assert_disj_179680) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179682 = loop_not_taken_179671 || ok_or_empty_179679;
                        bool index_certs_179683;
                        
                        if (!protect_assert_disj_179682) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181673 = next_stride_179616 * num_merges_179620;
                        int64_t binop_x_181675 = (int64_t) 8 * num_merges_179620;
                        int64_t bytes_181676 = next_stride_179616 * binop_x_181675;
                        int64_t binop_x_181678 = (int64_t) 4 * num_merges_179620;
                        int64_t bytes_181679 = next_stride_179616 * binop_x_181678;
                        bool i_lte_j_179627 = sle64((int64_t) 0, next_stride_179616);
                        
                        if (mem_181674_cached_sizze_183011 < bytes_181673) {
                            err = lexical_realloc(ctx, &mem_181674, &mem_181674_cached_sizze_183011, bytes_181673);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181677_cached_sizze_183012 < bytes_181676) {
                            err = lexical_realloc(ctx, &mem_181677, &mem_181677_cached_sizze_183012, bytes_181676);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181680_cached_sizze_183013 < bytes_181679) {
                            err = lexical_realloc(ctx, &mem_181680, &mem_181680_cached_sizze_183013, bytes_181679);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181693 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636;
                        int64_t binop_x_181711 = (int64_t) 8 * num_blocks_179635;
                        int64_t bytes_181712 = merge_block_sizze_179425 * binop_x_181711;
                        int64_t binop_x_181714 = (int64_t) 4 * num_blocks_179635;
                        int64_t bytes_181715 = merge_block_sizze_179425 * binop_x_181714;
                        int64_t bytes_181776 = (int64_t) 16 * stride_179615;
                        int64_t bytes_181778 = (int64_t) 8 * stride_179615;
                        
                        for (int64_t i_180847 = 0; i_180847 < num_merges_179620; i_180847++) {
                            int64_t start_179688 = mul64(next_stride_179616, i_180847);
                            int64_t j_m_i_179689 = sub64(loop_dz2084Uz2082U_179610, start_179688);
                            bool empty_slice_179690 = j_m_i_179689 == (int64_t) 0;
                            int64_t m_179691 = sub64(j_m_i_179689, (int64_t) 1);
                            int64_t i_p_m_t_s_179692 = add64(start_179688, m_179691);
                            bool zzero_leq_i_p_m_t_s_179693 = sle64((int64_t) 0, i_p_m_t_s_179692);
                            bool i_p_m_t_s_leq_w_179694 = slt64(i_p_m_t_s_179692, loop_dz2084Uz2082U_179610);
                            bool zzero_lte_i_179695 = sle64((int64_t) 0, start_179688);
                            bool i_lte_j_179696 = sle64(start_179688, loop_dz2084Uz2082U_179610);
                            bool y_179697 = i_p_m_t_s_leq_w_179694 && zzero_lte_i_179695;
                            bool y_179698 = zzero_leq_i_p_m_t_s_179693 && y_179697;
                            bool forwards_ok_179699 = i_lte_j_179696 && y_179698;
                            bool ok_or_empty_179700 = empty_slice_179690 || forwards_ok_179699;
                            bool index_certs_179701;
                            
                            if (!ok_or_empty_179700) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179688, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179610, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179702 = slt64(m_179625, j_m_i_179689);
                            bool y_179703 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179702;
                            bool forwards_ok_179704 = i_lte_j_179627 && y_179703;
                            bool ok_or_empty_179705 = zzero_179617 || forwards_ok_179704;
                            bool index_certs_179706;
                            
                            if (!ok_or_empty_179705) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) j_m_i_179689, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179628) {
                                int8_t dummy_179710;
                                int64_t dummy_179711;
                                int32_t dummy_179712;
                                
                                if (cond_179647) {
                                    int8_t head_res_179713 = ((int8_t *) mem_param_181666.mem)[start_179688];
                                    int64_t head_res_179714 = ((int64_t *) mem_param_181669.mem)[start_179688];
                                    int32_t head_res_179715 = ((int32_t *) mem_param_181672.mem)[start_179688];
                                    
                                    dummy_179710 = head_res_179713;
                                    dummy_179711 = head_res_179714;
                                    dummy_179712 = head_res_179715;
                                } else {
                                    int64_t slice_179716 = stride_179615 + start_179688;
                                    int8_t head_res_179717 = ((int8_t *) mem_param_181666.mem)[slice_179716];
                                    int64_t head_res_179718 = ((int64_t *) mem_param_181669.mem)[slice_179716];
                                    int32_t head_res_179719 = ((int32_t *) mem_param_181672.mem)[slice_179716];
                                    
                                    dummy_179710 = head_res_179717;
                                    dummy_179711 = head_res_179718;
                                    dummy_179712 = head_res_179719;
                                }
                                if (memblock_alloc(ctx, &mem_181775, next_stride_179616, "mem_181775")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182621 = 0; nest_i_182621 < next_stride_179616; nest_i_182621++) {
                                    ((int8_t *) mem_181775.mem)[nest_i_182621] = dummy_179710;
                                }
                                if (memblock_alloc(ctx, &mem_181777, bytes_181776, "mem_181777")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182622 = 0; nest_i_182622 < next_stride_179616; nest_i_182622++) {
                                    ((int64_t *) mem_181777.mem)[nest_i_182622] = dummy_179711;
                                }
                                if (memblock_alloc(ctx, &mem_181779, bytes_181778, "mem_181779")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182623 = 0; nest_i_182623 < next_stride_179616; nest_i_182623++) {
                                    ((int32_t *) mem_181779.mem)[nest_i_182623] = dummy_179712;
                                }
                                
                                int64_t data_179723;
                                int64_t i_179728 = (int64_t) 0;
                                
                                for (int64_t k_179727 = 0; k_179727 < next_stride_179616; k_179727++) {
                                    int64_t j_179732 = sub64(k_179727, i_179728);
                                    bool cond_179733 = j_179732 == j_m_i_179637;
                                    bool cond_179734;
                                    
                                    if (cond_179733) {
                                        cond_179734 = 1;
                                    } else {
                                        bool cond_179735 = slt64(i_179728, stride_179615);
                                        bool cond_f_res_179736;
                                        
                                        if (cond_179735) {
                                            bool x_179737 = sle64((int64_t) 0, j_179732);
                                            bool y_179738 = slt64(j_179732, j_m_i_179637);
                                            bool bounds_check_179739 = x_179737 && y_179738;
                                            bool index_certs_179740;
                                            
                                            if (!bounds_check_179739) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179746 = sle64((int64_t) 0, i_179728);
                                            bool bounds_check_179747 = cond_179735 && x_179746;
                                            bool index_certs_179748;
                                            
                                            if (!bounds_check_179747) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179741 = stride_179615 + j_179732;
                                            int64_t slice_179742 = start_179688 + slice_179741;
                                            int8_t leq_arg1_179743 = ((int8_t *) mem_param_181666.mem)[slice_179742];
                                            int64_t leq_arg1_179744 = ((int64_t *) mem_param_181669.mem)[slice_179742];
                                            int32_t leq_arg1_179745 = ((int32_t *) mem_param_181672.mem)[slice_179742];
                                            int64_t slice_179749 = start_179688 + i_179728;
                                            int8_t leq_arg0_179750 = ((int8_t *) mem_param_181666.mem)[slice_179749];
                                            int64_t leq_arg0_179751 = ((int64_t *) mem_param_181669.mem)[slice_179749];
                                            int32_t leq_arg0_179752 = ((int32_t *) mem_param_181672.mem)[slice_179749];
                                            bool cond_179753 = leq_arg0_179750 == leq_arg1_179743;
                                            bool defunc_0_leq_res_t_res_179754 = sle64(leq_arg0_179751, leq_arg1_179744);
                                            bool defunc_0_leq_res_179755 = sle32(leq_arg0_179752, leq_arg1_179745);
                                            bool x_179756 = cond_179753 && defunc_0_leq_res_t_res_179754;
                                            bool x_179757 = !cond_179753;
                                            bool y_179758 = defunc_0_leq_res_179755 && x_179757;
                                            bool defunc_0_leq_res_179759 = x_179756 || y_179758;
                                            
                                            cond_f_res_179736 = defunc_0_leq_res_179759;
                                        } else {
                                            cond_f_res_179736 = 0;
                                        }
                                        cond_179734 = cond_f_res_179736;
                                    }
                                    
                                    int64_t loopres_179760;
                                    int8_t loopres_179761;
                                    int64_t loopres_179762;
                                    int32_t loopres_179763;
                                    
                                    if (cond_179734) {
                                        bool x_179765 = sle64((int64_t) 0, i_179728);
                                        bool y_179766 = slt64(i_179728, stride_179615);
                                        bool bounds_check_179767 = x_179765 && y_179766;
                                        bool index_certs_179768;
                                        
                                        if (!bounds_check_179767) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179764 = add64((int64_t) 1, i_179728);
                                        int64_t slice_179769 = start_179688 + i_179728;
                                        int8_t tmp_179770 = ((int8_t *) mem_param_181666.mem)[slice_179769];
                                        int64_t tmp_179771 = ((int64_t *) mem_param_181669.mem)[slice_179769];
                                        int32_t tmp_179772 = ((int32_t *) mem_param_181672.mem)[slice_179769];
                                        
                                        loopres_179760 = tmp_179764;
                                        loopres_179761 = tmp_179770;
                                        loopres_179762 = tmp_179771;
                                        loopres_179763 = tmp_179772;
                                    } else {
                                        bool x_179773 = sle64((int64_t) 0, j_179732);
                                        bool y_179774 = slt64(j_179732, j_m_i_179637);
                                        bool bounds_check_179775 = x_179773 && y_179774;
                                        bool index_certs_179776;
                                        
                                        if (!bounds_check_179775) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179777 = stride_179615 + j_179732;
                                        int64_t slice_179778 = start_179688 + slice_179777;
                                        int8_t tmp_179779 = ((int8_t *) mem_param_181666.mem)[slice_179778];
                                        int64_t tmp_179780 = ((int64_t *) mem_param_181669.mem)[slice_179778];
                                        int32_t tmp_179781 = ((int32_t *) mem_param_181672.mem)[slice_179778];
                                        
                                        loopres_179760 = i_179728;
                                        loopres_179761 = tmp_179779;
                                        loopres_179762 = tmp_179780;
                                        loopres_179763 = tmp_179781;
                                    }
                                    ((int8_t *) mem_181775.mem)[k_179727] = loopres_179761;
                                    ((int64_t *) mem_181777.mem)[k_179727] = loopres_179762;
                                    ((int32_t *) mem_181779.mem)[k_179727] = loopres_179763;
                                    
                                    int64_t i_tmp_182624 = loopres_179760;
                                    
                                    i_179728 = i_tmp_182624;
                                }
                                data_179723 = i_179728;
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181775, "mem_181775") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181777, "mem_181777") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181779, "mem_181779") != 0)
                                    return 1;
                            } else {
                                if (mem_181694_cached_sizze_183014 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181694, &mem_181694_cached_sizze_183014, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181696_cached_sizze_183015 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181696, &mem_181696_cached_sizze_183015, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180828 = 0; i_180828 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636; i_180828++) {
                                    int64_t split_count_arg3_179789 = mul64(merge_block_sizze_179425, i_180828);
                                    int64_t defunc_0_split_count_res_179790;
                                    int64_t defunc_0_split_count_res_179791;
                                    int64_t defunc_0_split_count_res_179792;
                                    int64_t defunc_0_split_count_res_179793;
                                    int64_t defunc_0_split_count_res_179794;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_179790, &defunc_0_split_count_res_179791, &defunc_0_split_count_res_179792, &defunc_0_split_count_res_179793, &defunc_0_split_count_res_179794, (int64_t) 0, stride_179615, (int64_t) 0, j_m_i_179637, split_count_arg3_179789) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179795 = slt64((int64_t) 0, defunc_0_split_count_res_179794);
                                    bool defunc_0_split_count_res_179796;
                                    int64_t defunc_0_split_count_res_179797;
                                    int64_t defunc_0_split_count_res_179798;
                                    int64_t defunc_0_split_count_res_179799;
                                    int64_t defunc_0_split_count_res_179800;
                                    int64_t defunc_0_split_count_res_179801;
                                    bool loop_while_179802;
                                    int64_t ss_179803;
                                    int64_t ss_179804;
                                    int64_t tt_179805;
                                    int64_t tt_179806;
                                    int64_t count_179807;
                                    
                                    loop_while_179802 = loop_cond_179795;
                                    ss_179803 = defunc_0_split_count_res_179790;
                                    ss_179804 = defunc_0_split_count_res_179791;
                                    tt_179805 = defunc_0_split_count_res_179792;
                                    tt_179806 = defunc_0_split_count_res_179793;
                                    count_179807 = defunc_0_split_count_res_179794;
                                    while (loop_while_179802) {
                                        int64_t zlze_lhs_179808 = sub64(ss_179804, ss_179803);
                                        bool cond_179809 = sle64(zlze_lhs_179808, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179810;
                                        int64_t defunc_0_lifted_step_res_179811;
                                        int64_t defunc_0_lifted_step_res_179812;
                                        int64_t defunc_0_lifted_step_res_179813;
                                        
                                        if (cond_179809) {
                                            int64_t tmp_179814 = add64(tt_179805, count_179807);
                                            
                                            defunc_0_lifted_step_res_179810 = ss_179803;
                                            defunc_0_lifted_step_res_179811 = tmp_179814;
                                            defunc_0_lifted_step_res_179812 = tt_179806;
                                            defunc_0_lifted_step_res_179813 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179815 = sub64(tt_179806, tt_179805);
                                            bool cond_179816 = sle64(zlze_lhs_179815, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179817;
                                            int64_t defunc_0_lifted_step_res_f_res_179818;
                                            int64_t defunc_0_lifted_step_res_f_res_179819;
                                            int64_t defunc_0_lifted_step_res_f_res_179820;
                                            
                                            if (cond_179816) {
                                                int64_t tmp_179821 = add64(ss_179803, count_179807);
                                                
                                                defunc_0_lifted_step_res_f_res_179817 = tmp_179821;
                                                defunc_0_lifted_step_res_f_res_179818 = tt_179805;
                                                defunc_0_lifted_step_res_f_res_179819 = tt_179806;
                                                defunc_0_lifted_step_res_f_res_179820 = (int64_t) 0;
                                            } else {
                                                bool cond_179822 = count_179807 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179823;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179824;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179825;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179826;
                                                
                                                if (cond_179822) {
                                                    bool x_179827 = sle64((int64_t) 0, ss_179803);
                                                    bool y_179828 = slt64(ss_179803, stride_179615);
                                                    bool bounds_check_179829 = x_179827 && y_179828;
                                                    bool index_certs_179830;
                                                    
                                                    if (!bounds_check_179829) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179803, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:475:63-73\n   #13 ftsort.fut:468:1-475:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179835 = sle64((int64_t) 0, tt_179805);
                                                    bool y_179836 = slt64(tt_179805, j_m_i_179637);
                                                    bool bounds_check_179837 = x_179835 && y_179836;
                                                    bool index_certs_179838;
                                                    
                                                    if (!bounds_check_179837) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179805, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:475:63-73\n   #13 ftsort.fut:468:1-475:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179831 = start_179688 + ss_179803;
                                                    int8_t leq_arg1_179832 = ((int8_t *) mem_param_181666.mem)[slice_179831];
                                                    int64_t leq_arg1_179833 = ((int64_t *) mem_param_181669.mem)[slice_179831];
                                                    int32_t leq_arg1_179834 = ((int32_t *) mem_param_181672.mem)[slice_179831];
                                                    int64_t slice_179839 = stride_179615 + tt_179805;
                                                    int64_t slice_179840 = start_179688 + slice_179839;
                                                    int8_t leq_arg0_179841 = ((int8_t *) mem_param_181666.mem)[slice_179840];
                                                    int64_t leq_arg0_179842 = ((int64_t *) mem_param_181669.mem)[slice_179840];
                                                    int32_t leq_arg0_179843 = ((int32_t *) mem_param_181672.mem)[slice_179840];
                                                    bool cond_179844 = leq_arg0_179841 == leq_arg1_179832;
                                                    bool defunc_0_leq_res_t_res_179845 = sle64(leq_arg0_179842, leq_arg1_179833);
                                                    bool defunc_0_leq_res_179846 = sle32(leq_arg0_179843, leq_arg1_179834);
                                                    bool x_179847 = cond_179844 && defunc_0_leq_res_t_res_179845;
                                                    bool x_179848 = !cond_179844;
                                                    bool y_179849 = defunc_0_leq_res_179846 && x_179848;
                                                    bool defunc_0_leq_res_179850 = x_179847 || y_179849;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    
                                                    if (defunc_0_leq_res_179850) {
                                                        int64_t tmp_179853 = add64((int64_t) 1, tt_179805);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = ss_179803;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tmp_179853;
                                                    } else {
                                                        int64_t tmp_179854 = add64((int64_t) 1, ss_179803);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = tmp_179854;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tt_179805;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = tt_179806;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179855 = sdiv64(count_179807, (int64_t) 2);
                                                    int64_t n_179856 = sub64(count_179807, m_179855);
                                                    bool cond_179857 = n_179856 == (int64_t) 0;
                                                    int64_t zgze_lhs_179858 = add64(ss_179803, m_179855);
                                                    bool cond_f_res_179859 = sle64(ss_179804, zgze_lhs_179858);
                                                    bool x_179860 = !cond_179857;
                                                    bool y_179861 = cond_f_res_179859 && x_179860;
                                                    bool cond_179862 = cond_179857 || y_179861;
                                                    bool leq_y_x_179863;
                                                    
                                                    if (cond_179862) {
                                                        leq_y_x_179863 = 1;
                                                    } else {
                                                        bool x_179864 = sle64((int64_t) 0, zgze_lhs_179858);
                                                        bool y_179865 = slt64(zgze_lhs_179858, stride_179615);
                                                        bool bounds_check_179866 = x_179864 && y_179865;
                                                        bool index_certs_179867;
                                                        
                                                        if (!bounds_check_179866) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179858, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:475:63-73\n   #13 ftsort.fut:468:1-475:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179872 = add64(tt_179805, n_179856);
                                                        int64_t leq_arg0_179873 = sub64(zm_lhs_179872, (int64_t) 1);
                                                        bool x_179874 = sle64((int64_t) 0, leq_arg0_179873);
                                                        bool y_179875 = slt64(leq_arg0_179873, j_m_i_179637);
                                                        bool bounds_check_179876 = x_179874 && y_179875;
                                                        bool index_certs_179877;
                                                        
                                                        if (!bounds_check_179876) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179873, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:475:63-73\n   #13 ftsort.fut:468:1-475:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179868 = start_179688 + zgze_lhs_179858;
                                                        int8_t leq_arg1_179869 = ((int8_t *) mem_param_181666.mem)[slice_179868];
                                                        int64_t leq_arg1_179870 = ((int64_t *) mem_param_181669.mem)[slice_179868];
                                                        int32_t leq_arg1_179871 = ((int32_t *) mem_param_181672.mem)[slice_179868];
                                                        int64_t slice_179878 = stride_179615 + leq_arg0_179873;
                                                        int64_t slice_179879 = start_179688 + slice_179878;
                                                        int8_t leq_arg0_179880 = ((int8_t *) mem_param_181666.mem)[slice_179879];
                                                        int64_t leq_arg0_179881 = ((int64_t *) mem_param_181669.mem)[slice_179879];
                                                        int32_t leq_arg0_179882 = ((int32_t *) mem_param_181672.mem)[slice_179879];
                                                        bool cond_179883 = leq_arg0_179880 == leq_arg1_179869;
                                                        bool defunc_0_leq_res_t_res_179884 = sle64(leq_arg0_179881, leq_arg1_179870);
                                                        bool defunc_0_leq_res_179885 = sle32(leq_arg0_179882, leq_arg1_179871);
                                                        bool x_179886 = cond_179883 && defunc_0_leq_res_t_res_179884;
                                                        bool x_179887 = !cond_179883;
                                                        bool y_179888 = defunc_0_leq_res_179885 && x_179887;
                                                        bool defunc_0_leq_res_179889 = x_179886 || y_179888;
                                                        
                                                        leq_y_x_179863 = defunc_0_leq_res_179889;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                    
                                                    if (leq_y_x_179863) {
                                                        int64_t tmp_179893 = add64(tt_179805, n_179856);
                                                        int64_t tmp_179894 = sub64(count_179807, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tmp_179893;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tt_179806;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = tmp_179894;
                                                    } else {
                                                        int64_t tmp_179895 = add64(tt_179805, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tt_179805;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tmp_179895;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = count_179807;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = ss_179803;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                }
                                                defunc_0_lifted_step_res_f_res_179817 = defunc_0_lifted_step_res_f_res_f_res_179823;
                                                defunc_0_lifted_step_res_f_res_179818 = defunc_0_lifted_step_res_f_res_f_res_179824;
                                                defunc_0_lifted_step_res_f_res_179819 = defunc_0_lifted_step_res_f_res_f_res_179825;
                                                defunc_0_lifted_step_res_f_res_179820 = defunc_0_lifted_step_res_f_res_f_res_179826;
                                            }
                                            defunc_0_lifted_step_res_179810 = defunc_0_lifted_step_res_f_res_179817;
                                            defunc_0_lifted_step_res_179811 = defunc_0_lifted_step_res_f_res_179818;
                                            defunc_0_lifted_step_res_179812 = defunc_0_lifted_step_res_f_res_179819;
                                            defunc_0_lifted_step_res_179813 = defunc_0_lifted_step_res_f_res_179820;
                                        }
                                        
                                        int64_t loopres_179896;
                                        int64_t loopres_179897;
                                        int64_t loopres_179898;
                                        int64_t loopres_179899;
                                        int64_t loopres_179900;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_179896, &loopres_179897, &loopres_179898, &loopres_179899, &loopres_179900, defunc_0_lifted_step_res_179810, ss_179804, defunc_0_lifted_step_res_179811, defunc_0_lifted_step_res_179812, defunc_0_lifted_step_res_179813) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179901 = slt64((int64_t) 0, loopres_179900);
                                        bool loop_while_tmp_182630 = loop_cond_179901;
                                        int64_t ss_tmp_182631 = loopres_179896;
                                        int64_t ss_tmp_182632 = loopres_179897;
                                        int64_t tt_tmp_182633 = loopres_179898;
                                        int64_t tt_tmp_182634 = loopres_179899;
                                        int64_t count_tmp_182635 = loopres_179900;
                                        
                                        loop_while_179802 = loop_while_tmp_182630;
                                        ss_179803 = ss_tmp_182631;
                                        ss_179804 = ss_tmp_182632;
                                        tt_179805 = tt_tmp_182633;
                                        tt_179806 = tt_tmp_182634;
                                        count_179807 = count_tmp_182635;
                                    }
                                    defunc_0_split_count_res_179796 = loop_while_179802;
                                    defunc_0_split_count_res_179797 = ss_179803;
                                    defunc_0_split_count_res_179798 = ss_179804;
                                    defunc_0_split_count_res_179799 = tt_179805;
                                    defunc_0_split_count_res_179800 = tt_179806;
                                    defunc_0_split_count_res_179801 = count_179807;
                                    ((int64_t *) mem_181694)[i_180828] = defunc_0_split_count_res_179797;
                                    ((int64_t *) mem_181696)[i_180828] = defunc_0_split_count_res_179799;
                                }
                                if (mem_181710_cached_sizze_183016 < flat_dim_179638) {
                                    err = lexical_realloc(ctx, &mem_181710, &mem_181710_cached_sizze_183016, flat_dim_179638);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181713_cached_sizze_183017 < bytes_181712) {
                                    err = lexical_realloc(ctx, &mem_181713, &mem_181713_cached_sizze_183017, bytes_181712);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181716_cached_sizze_183018 < bytes_181715) {
                                    err = lexical_realloc(ctx, &mem_181716, &mem_181716_cached_sizze_183018, bytes_181715);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180837 = 0; i_180837 < num_blocks_179635; i_180837++) {
                                    bool y_179910 = slt64(i_180837, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool index_certs_179912;
                                    
                                    if (!y_179910) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179913 = ((int64_t *) mem_181694)[i_180837];
                                    int64_t defunc_0_f_res_179914 = ((int64_t *) mem_181696)[i_180837];
                                    int64_t tmp_179915 = add64((int64_t) 1, i_180837);
                                    bool x_179916 = sle64((int64_t) 0, tmp_179915);
                                    bool y_179917 = slt64(tmp_179915, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool bounds_check_179918 = x_179916 && y_179917;
                                    bool index_certs_179919;
                                    
                                    if (!bounds_check_179918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179915, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179920 = ((int64_t *) mem_181694)[tmp_179915];
                                    int64_t defunc_0_f_res_179921 = ((int64_t *) mem_181696)[tmp_179915];
                                    int64_t merge_sequential_arg2_179922 = add64(stride_179615, defunc_0_f_res_179914);
                                    int64_t merge_sequential_arg2_179923 = add64(stride_179615, defunc_0_f_res_179921);
                                    int64_t j_m_i_179924 = sub64(merge_sequential_arg2_179923, merge_sequential_arg2_179922);
                                    bool empty_slice_179925 = j_m_i_179924 == (int64_t) 0;
                                    int64_t m_179926 = sub64(j_m_i_179924, (int64_t) 1);
                                    int64_t i_p_m_t_s_179927 = add64(merge_sequential_arg2_179922, m_179926);
                                    bool zzero_leq_i_p_m_t_s_179928 = sle64((int64_t) 0, i_p_m_t_s_179927);
                                    bool i_p_m_t_s_leq_w_179929 = slt64(i_p_m_t_s_179927, next_stride_179616);
                                    bool zzero_lte_i_179930 = sle64((int64_t) 0, merge_sequential_arg2_179922);
                                    bool i_lte_j_179931 = sle64(merge_sequential_arg2_179922, merge_sequential_arg2_179923);
                                    bool y_179932 = i_p_m_t_s_leq_w_179929 && zzero_lte_i_179930;
                                    bool y_179933 = zzero_leq_i_p_m_t_s_179928 && y_179932;
                                    bool forwards_ok_179934 = i_lte_j_179931 && y_179933;
                                    bool ok_or_empty_179935 = empty_slice_179925 || forwards_ok_179934;
                                    bool index_certs_179936;
                                    
                                    if (!ok_or_empty_179935) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179922, ":", (long long) merge_sequential_arg2_179923, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179937 = sub64(defunc_0_f_res_179920, defunc_0_f_res_179913);
                                    bool empty_slice_179938 = j_m_i_179937 == (int64_t) 0;
                                    int64_t m_179939 = sub64(j_m_i_179937, (int64_t) 1);
                                    int64_t i_p_m_t_s_179940 = add64(defunc_0_f_res_179913, m_179939);
                                    bool zzero_leq_i_p_m_t_s_179941 = sle64((int64_t) 0, i_p_m_t_s_179940);
                                    bool i_p_m_t_s_leq_w_179942 = slt64(i_p_m_t_s_179940, next_stride_179616);
                                    bool zzero_lte_i_179943 = sle64((int64_t) 0, defunc_0_f_res_179913);
                                    bool i_lte_j_179944 = sle64(defunc_0_f_res_179913, defunc_0_f_res_179920);
                                    bool y_179945 = i_p_m_t_s_leq_w_179942 && zzero_lte_i_179943;
                                    bool y_179946 = zzero_leq_i_p_m_t_s_179941 && y_179945;
                                    bool forwards_ok_179947 = i_lte_j_179944 && y_179946;
                                    bool ok_or_empty_179948 = empty_slice_179938 || forwards_ok_179947;
                                    bool index_certs_179949;
                                    
                                    if (!ok_or_empty_179948) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179913, ":", (long long) defunc_0_f_res_179920, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179950 = slt64((int64_t) 0, j_m_i_179937);
                                    int8_t dummy_179951;
                                    int64_t dummy_179952;
                                    int32_t dummy_179953;
                                    
                                    if (cond_179950) {
                                        bool index_certs_179954;
                                        
                                        if (!cond_179950) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179955 = start_179688 + defunc_0_f_res_179913;
                                        int8_t head_res_179956 = ((int8_t *) mem_param_181666.mem)[slice_179955];
                                        int64_t head_res_179957 = ((int64_t *) mem_param_181669.mem)[slice_179955];
                                        int32_t head_res_179958 = ((int32_t *) mem_param_181672.mem)[slice_179955];
                                        
                                        dummy_179951 = head_res_179956;
                                        dummy_179952 = head_res_179957;
                                        dummy_179953 = head_res_179958;
                                    } else {
                                        bool y_179959 = slt64((int64_t) 0, j_m_i_179924);
                                        bool index_certs_179960;
                                        
                                        if (!y_179959) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179961 = start_179688 + merge_sequential_arg2_179922;
                                        int8_t head_res_179962 = ((int8_t *) mem_param_181666.mem)[slice_179961];
                                        int64_t head_res_179963 = ((int64_t *) mem_param_181669.mem)[slice_179961];
                                        int32_t head_res_179964 = ((int32_t *) mem_param_181672.mem)[slice_179961];
                                        
                                        dummy_179951 = head_res_179962;
                                        dummy_179952 = head_res_179963;
                                        dummy_179953 = head_res_179964;
                                    }
                                    for (int64_t nest_i_182639 = 0; nest_i_182639 < merge_block_sizze_179425; nest_i_182639++) {
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + nest_i_182639] = dummy_179951;
                                    }
                                    for (int64_t nest_i_182640 = 0; nest_i_182640 < merge_block_sizze_179425; nest_i_182640++) {
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + nest_i_182640] = dummy_179952;
                                    }
                                    for (int64_t nest_i_182641 = 0; nest_i_182641 < merge_block_sizze_179425; nest_i_182641++) {
                                        ((int32_t *) mem_181716)[i_180837 * merge_block_sizze_179425 + nest_i_182641] = dummy_179953;
                                    }
                                    
                                    int64_t data_179968;
                                    int64_t i_179973 = (int64_t) 0;
                                    
                                    for (int64_t k_179972 = 0; k_179972 < merge_block_sizze_179425; k_179972++) {
                                        int64_t j_179977 = sub64(k_179972, i_179973);
                                        bool cond_179978 = j_179977 == j_m_i_179924;
                                        bool cond_179979;
                                        
                                        if (cond_179978) {
                                            cond_179979 = 1;
                                        } else {
                                            bool cond_179980 = slt64(i_179973, j_m_i_179937);
                                            bool cond_f_res_179981;
                                            
                                            if (cond_179980) {
                                                bool x_179982 = sle64((int64_t) 0, j_179977);
                                                bool y_179983 = slt64(j_179977, j_m_i_179924);
                                                bool bounds_check_179984 = x_179982 && y_179983;
                                                bool index_certs_179985;
                                                
                                                if (!bounds_check_179984) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179991 = sle64((int64_t) 0, i_179973);
                                                bool bounds_check_179992 = cond_179980 && x_179991;
                                                bool index_certs_179993;
                                                
                                                if (!bounds_check_179992) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179986 = merge_sequential_arg2_179922 + j_179977;
                                                int64_t slice_179987 = start_179688 + slice_179986;
                                                int8_t leq_arg1_179988 = ((int8_t *) mem_param_181666.mem)[slice_179987];
                                                int64_t leq_arg1_179989 = ((int64_t *) mem_param_181669.mem)[slice_179987];
                                                int32_t leq_arg1_179990 = ((int32_t *) mem_param_181672.mem)[slice_179987];
                                                int64_t slice_179994 = defunc_0_f_res_179913 + i_179973;
                                                int64_t slice_179995 = start_179688 + slice_179994;
                                                int8_t leq_arg0_179996 = ((int8_t *) mem_param_181666.mem)[slice_179995];
                                                int64_t leq_arg0_179997 = ((int64_t *) mem_param_181669.mem)[slice_179995];
                                                int32_t leq_arg0_179998 = ((int32_t *) mem_param_181672.mem)[slice_179995];
                                                bool cond_179999 = leq_arg0_179996 == leq_arg1_179988;
                                                bool defunc_0_leq_res_t_res_180000 = sle64(leq_arg0_179997, leq_arg1_179989);
                                                bool defunc_0_leq_res_180001 = sle32(leq_arg0_179998, leq_arg1_179990);
                                                bool x_180002 = cond_179999 && defunc_0_leq_res_t_res_180000;
                                                bool x_180003 = !cond_179999;
                                                bool y_180004 = defunc_0_leq_res_180001 && x_180003;
                                                bool defunc_0_leq_res_180005 = x_180002 || y_180004;
                                                
                                                cond_f_res_179981 = defunc_0_leq_res_180005;
                                            } else {
                                                cond_f_res_179981 = 0;
                                            }
                                            cond_179979 = cond_f_res_179981;
                                        }
                                        
                                        int64_t loopres_180006;
                                        int8_t loopres_180007;
                                        int64_t loopres_180008;
                                        int32_t loopres_180009;
                                        
                                        if (cond_179979) {
                                            bool x_180011 = sle64((int64_t) 0, i_179973);
                                            bool y_180012 = slt64(i_179973, j_m_i_179937);
                                            bool bounds_check_180013 = x_180011 && y_180012;
                                            bool index_certs_180014;
                                            
                                            if (!bounds_check_180013) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180010 = add64((int64_t) 1, i_179973);
                                            int64_t slice_180015 = defunc_0_f_res_179913 + i_179973;
                                            int64_t slice_180016 = start_179688 + slice_180015;
                                            int8_t tmp_180017 = ((int8_t *) mem_param_181666.mem)[slice_180016];
                                            int64_t tmp_180018 = ((int64_t *) mem_param_181669.mem)[slice_180016];
                                            int32_t tmp_180019 = ((int32_t *) mem_param_181672.mem)[slice_180016];
                                            
                                            loopres_180006 = tmp_180010;
                                            loopres_180007 = tmp_180017;
                                            loopres_180008 = tmp_180018;
                                            loopres_180009 = tmp_180019;
                                        } else {
                                            bool x_180020 = sle64((int64_t) 0, j_179977);
                                            bool y_180021 = slt64(j_179977, j_m_i_179924);
                                            bool bounds_check_180022 = x_180020 && y_180021;
                                            bool index_certs_180023;
                                            
                                            if (!bounds_check_180022) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180024 = merge_sequential_arg2_179922 + j_179977;
                                            int64_t slice_180025 = start_179688 + slice_180024;
                                            int8_t tmp_180026 = ((int8_t *) mem_param_181666.mem)[slice_180025];
                                            int64_t tmp_180027 = ((int64_t *) mem_param_181669.mem)[slice_180025];
                                            int32_t tmp_180028 = ((int32_t *) mem_param_181672.mem)[slice_180025];
                                            
                                            loopres_180006 = i_179973;
                                            loopres_180007 = tmp_180026;
                                            loopres_180008 = tmp_180027;
                                            loopres_180009 = tmp_180028;
                                        }
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180007;
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180008;
                                        ((int32_t *) mem_181716)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180009;
                                        
                                        int64_t i_tmp_182642 = loopres_180006;
                                        
                                        i_179973 = i_tmp_182642;
                                    }
                                    data_179968 = i_179973;
                                }
                                if (memblock_alloc(ctx, &mem_181765, flat_dim_179638, "mem_181765")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181765.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint8_t *) mem_181710, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181769, bytes_181712, "mem_181769")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181769.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint64_t *) mem_181713, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181773, bytes_181715, "mem_181773")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181773.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint32_t *) mem_181716, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181765, "mem_181765") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181769, "mem_181769") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181773, "mem_181773") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181674, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181806.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181677, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181803.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181680, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181800.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181820, bytes_181673, "mem_181820")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181820.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint8_t *) mem_181674, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181824, bytes_181676, "mem_181824")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181824.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint64_t *) mem_181677, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181828, bytes_181679, "mem_181828")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint32_t *) mem_181680, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        
                        bool loop_cond_180048 = slt64(next_stride_179616, flat_dim_179420);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182609, &mem_181820, "mem_181820") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182610, &mem_181824, "mem_181824") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182611, &mem_181828, "mem_181828") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182612 = bytes_181673;
                        bool loop_while_tmp_182613 = loop_cond_180048;
                        int64_t stride_tmp_182617 = next_stride_179616;
                        
                        if (memblock_set(ctx, &mem_param_181666, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181669, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181672, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179610 = loop_dz2084Uz2082U_tmp_182612;
                        loop_while_179611 = loop_while_tmp_182613;
                        stride_179615 = stride_tmp_182617;
                    }
                    if (memblock_set(ctx, &ext_mem_181838, &mem_param_181666, "mem_param_181666") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181837, &mem_param_181669, "mem_param_181669") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181836, &mem_param_181672, "mem_param_181672") != 0)
                        return 1;
                    data_179604 = loop_dz2084Uz2082U_179610;
                    data_179605 = loop_while_179611;
                    data_179609 = stride_179615;
                    if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
                        return 1;
                    
                    bool empty_slice_180049 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180050 = sle64((int64_t) 0, zs_lhs_179404);
                    bool i_p_m_t_s_leq_w_180051 = slt64(zs_lhs_179404, data_179604);
                    bool y_180052 = zzero_leq_i_p_m_t_s_180050 && i_p_m_t_s_leq_w_180051;
                    bool ok_or_empty_180053 = empty_slice_180049 || y_180052;
                    bool index_certs_180054;
                    
                    if (!ok_or_empty_180053) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] out of bounds for array of shape [", (long long) data_179604, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:475:63-73\n   #6  ftsort.fut:468:1-475:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181847, &ext_mem_181838, "ext_mem_181838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &ext_mem_181837, "ext_mem_181837") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &ext_mem_181836, "ext_mem_181836") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181514, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181847.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181517, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181844.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181520, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181841.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
                    return 1;
                for (int64_t i_180853 = 0; i_180853 < perThread_175681; i_180853++) {
                    int64_t lifted_lambda_res_180076 = add64(zm_rhs_179360, i_180853);
                    
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + i_180853] = lifted_lambda_res_180076;
                }
                
                bool cond_180078 = card_179361 == zp_rhs_175680;
                
                if (cond_180078) {
                    bool y_180080 = slt64(card_179361, perThread_175681);
                    bool index_certs_180081;
                    
                    if (!y_180080) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:385:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:475:63-73\n   #3  ftsort.fut:468:1-475:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + card_179361] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181873, bytes_181168, "mem_181873")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182647 = 0; nest_i_182647 < window_sizze_131810; nest_i_182647++) {
                ((int32_t *) mem_181873.mem)[nest_i_182647] = 0;
            }
            if (memblock_alloc(ctx, &mem_181875, bytes_181166, "mem_181875")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182648 = 0; nest_i_182648 < window_sizze_131810; nest_i_182648++) {
                ((int64_t *) mem_181875.mem)[nest_i_182648] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181876, window_sizze_131810, "mem_181876")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182649 = 0; nest_i_182649 < window_sizze_131810; nest_i_182649++) {
                ((int8_t *) mem_181876.mem)[nest_i_182649] = (int8_t) -1;
            }
            for (int64_t write_iter_180868 = 0; write_iter_180868 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682; write_iter_180868++) {
                int64_t new_index_181020 = squot64(write_iter_180868, perThread_175681);
                int64_t binop_y_181022 = perThread_175681 * new_index_181020;
                int64_t new_index_181023 = write_iter_180868 - binop_y_181022;
                int64_t write_iv_180872 = ((int64_t *) mem_181512)[new_index_181020 * perThread_175681 + new_index_181023];
                int8_t write_iv_180873 = ((int8_t *) mem_181514)[new_index_181020 * perThread_175681 + new_index_181023];
                int64_t write_iv_180874 = ((int64_t *) mem_181517)[new_index_181020 * perThread_175681 + new_index_181023];
                int32_t write_iv_180875 = ((int32_t *) mem_181520)[new_index_181020 * perThread_175681 + new_index_181023];
                
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_131810)) {
                    ((int8_t *) mem_181876.mem)[write_iv_180872] = write_iv_180873;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_131810)) {
                    ((int64_t *) mem_181875.mem)[write_iv_180872] = write_iv_180874;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_131810)) {
                    ((int32_t *) mem_181873.mem)[write_iv_180872] = write_iv_180875;
                }
            }
            
            int64_t index_concat_branch_180104;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180105 = ((int64_t *) mem_181495)[index_concat_i_178445];
                
                index_concat_branch_180104 = index_concat_180105;
            } else {
                index_concat_branch_180104 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180106;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180107 = ((int64_t *) mem_181497)[index_concat_i_178445];
                
                index_concat_branch_180106 = index_concat_180107;
            } else {
                index_concat_branch_180106 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181876, "mem_181876") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181875, "mem_181875") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181873, "mem_181873") != 0)
                return 1;
            loopres_175671 = index_concat_branch_180104;
            loopres_175672 = index_concat_branch_180106;
        } else {
            int32_t leq_lhs_176662 = ((int32_t *) a_list_mem_181133.mem)[p_175643];
            int32_t leq_rhs_176665 = ((int32_t *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_176666 = sle32(leq_lhs_176662, leq_rhs_176665);
            int32_t lowest_176667;
            
            if (defunc_0_leq_res_176666) {
                bool index_certs_180108;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:250:44-49\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_lhs_176662;
            } else {
                bool index_certs_176672;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:250:55-60\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_rhs_176665;
            }
            if (mem_181150_cached_sizze_182983 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_182983, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181152_cached_sizze_182984 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_182984, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180883 = 0; i_180883 < threads_131811; i_180883++) {
                int64_t index_primexp_181099 = add64((int64_t) 1, i_180883);
                int64_t zs_lhs_176688 = mul64(zt_rhs_176681, index_primexp_181099);
                int64_t index_176689 = sdiv64(zs_lhs_176688, partitionFunc_arg0_176658);
                bool cond_176690 = slt64(window_sizze_131810, index_176689);
                int64_t loop_over_176691;
                
                if (cond_176690) {
                    loop_over_176691 = window_sizze_131810;
                } else {
                    loop_over_176691 = index_176689;
                }
                
                int64_t loop_over_176692;
                
                if (cond_176690) {
                    int64_t loop_over_t_res_180109 = sub64(index_176689, window_sizze_131810);
                    
                    loop_over_176692 = loop_over_t_res_180109;
                } else {
                    loop_over_176692 = (int64_t) 0;
                }
                
                int64_t loop_over_176694;
                
                if (cond_176690) {
                    int64_t zm_lhs_180110 = sub64(index_176689, window_sizze_131810);
                    int64_t loop_over_t_res_180111 = sub64(zm_lhs_180110, (int64_t) 1);
                    
                    loop_over_176694 = loop_over_t_res_180111;
                } else {
                    loop_over_176694 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176697;
                int64_t defunc_0_f_res_176698;
                int64_t defunc_0_f_res_176699;
                int64_t defunc_0_f_res_176700;
                bool loop_while_176701;
                int64_t p_176702;
                int64_t p_176703;
                int64_t p_176704;
                
                loop_while_176701 = 1;
                p_176702 = loop_over_176694;
                p_176703 = loop_over_176691;
                p_176704 = loop_over_176692;
                while (loop_while_176701) {
                    int64_t zs_lhs_176705 = sub64(p_176703, p_176702);
                    int64_t offset_176706 = sdiv64(zs_lhs_176705, (int64_t) 2);
                    int64_t ai_176707 = sub64(p_176703, offset_176706);
                    int64_t max_arg1_176708 = add64(p_176704, offset_176706);
                    int64_t max_res_176709 = smax64((int64_t) 0, max_arg1_176708);
                    bool cond_176710 = slt64((int64_t) 0, max_res_176709);
                    int32_t b_prev_176711;
                    
                    if (cond_176710) {
                        int64_t tmp_180112 = sub64(max_res_176709, (int64_t) 1);
                        bool x_180113 = sle64((int64_t) 0, tmp_180112);
                        bool y_180114 = slt64(tmp_180112, window_sizze_131810);
                        bool bounds_check_180115 = x_180113 && y_180114;
                        bool index_certs_180116;
                        
                        if (!bounds_check_180115) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180112, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180117 = p_175644 + tmp_180112;
                        int32_t b_prev_t_res_180118 = ((int32_t *) b_list_mem_181134.mem)[slice_180117];
                        
                        b_prev_176711 = b_prev_t_res_180118;
                    } else {
                        b_prev_176711 = lowest_176667;
                    }
                    
                    bool cond_176718 = sle64(ai_176707, (int64_t) 0);
                    int64_t loopres_176719;
                    int64_t loopres_176720;
                    int64_t loopres_176721;
                    bool loopres_176722;
                    
                    if (cond_176718) {
                        loopres_176719 = p_176702;
                        loopres_176720 = (int64_t) 0;
                        loopres_176721 = max_res_176709;
                        loopres_176722 = 0;
                    } else {
                        bool cond_176723 = sle64(window_sizze_131810, max_res_176709);
                        int64_t loopres_f_res_176724;
                        int64_t loopres_f_res_176725;
                        int64_t loopres_f_res_176726;
                        bool loopres_f_res_176727;
                        
                        if (cond_176723) {
                            int64_t min_res_180120 = smin64(m_175632, ai_176707);
                            bool x_180121 = sle64((int64_t) 0, m_175632);
                            bool y_180122 = slt64(m_175632, window_sizze_131810);
                            bool bounds_check_180123 = x_180121 && y_180122;
                            bool index_certs_180124;
                            
                            if (!bounds_check_180123) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180127 = sle64((int64_t) 0, min_res_180120);
                            bool y_180128 = slt64(min_res_180120, window_sizze_131810);
                            bool bounds_check_180129 = x_180127 && y_180128;
                            bool index_certs_180130;
                            
                            if (!bounds_check_180129) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180120, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_180126 = ((int32_t *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_180131 = p_175643 + min_res_180120;
                            int32_t leq_rhs_180132 = ((int32_t *) a_list_mem_181133.mem)[slice_180131];
                            bool defunc_0_leq_res_180133 = sle32(leq_lhs_180126, leq_rhs_180132);
                            int64_t loopres_f_res_t_res_180134;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180134 = ai_176707;
                            } else {
                                loopres_f_res_t_res_180134 = p_176703;
                            }
                            
                            bool x_180135 = !defunc_0_leq_res_180133;
                            int64_t loopres_f_res_t_res_180136;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180136 = window_sizze_131810;
                            } else {
                                int64_t tmp_180137 = sub64(m_175632, offset_176706);
                                
                                loopres_f_res_t_res_180136 = tmp_180137;
                            }
                            loopres_f_res_176724 = p_176702;
                            loopres_f_res_176725 = loopres_f_res_t_res_180134;
                            loopres_f_res_176726 = loopres_f_res_t_res_180136;
                            loopres_f_res_176727 = x_180135;
                        } else {
                            bool cond_176745 = sle64(window_sizze_131810, ai_176707);
                            int64_t loopres_f_res_f_res_176746;
                            int64_t loopres_f_res_f_res_176747;
                            int64_t loopres_f_res_f_res_176748;
                            bool loopres_f_res_f_res_176749;
                            
                            if (cond_176745) {
                                int64_t min_res_180139 = smin64(m_175632, max_res_176709);
                                bool x_180140 = sle64((int64_t) 0, m_175632);
                                bool y_180141 = slt64(m_175632, window_sizze_131810);
                                bool bounds_check_180142 = x_180140 && y_180141;
                                bool index_certs_180143;
                                
                                if (!bounds_check_180142) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180146 = sle64((int64_t) 0, min_res_180139);
                                bool y_180147 = slt64(min_res_180139, window_sizze_131810);
                                bool bounds_check_180148 = x_180146 && y_180147;
                                bool index_certs_180149;
                                
                                if (!bounds_check_180148) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180139, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_180145 = ((int32_t *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_180150 = p_175644 + min_res_180139;
                                int32_t leq_rhs_180151 = ((int32_t *) b_list_mem_181134.mem)[slice_180150];
                                bool defunc_0_leq_res_180152 = sle32(leq_lhs_180145, leq_rhs_180151);
                                int64_t loopres_f_res_f_res_t_res_180153;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180153 = max_res_176709;
                                } else {
                                    loopres_f_res_f_res_t_res_180153 = p_176704;
                                }
                                
                                bool x_180154 = !defunc_0_leq_res_180152;
                                int64_t loopres_f_res_f_res_t_res_180155;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180155 = window_sizze_131810;
                                } else {
                                    loopres_f_res_f_res_t_res_180155 = m_175632;
                                }
                                loopres_f_res_f_res_176746 = p_176702;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_t_res_180155;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_t_res_180153;
                                loopres_f_res_f_res_176749 = x_180154;
                            } else {
                                bool cond_176766 = sle64(p_176703, p_176702);
                                int64_t loopres_f_res_f_res_f_res_176767;
                                int64_t loopres_f_res_f_res_f_res_176768;
                                int64_t loopres_f_res_f_res_f_res_176769;
                                bool loopres_f_res_f_res_f_res_176770;
                                
                                if (cond_176766) {
                                    bool cond_180194 = slt64(ai_176707, window_sizze_131810);
                                    int64_t ai_180195;
                                    
                                    if (cond_180194) {
                                        ai_180195 = ai_176707;
                                    } else {
                                        ai_180195 = m_175632;
                                    }
                                    
                                    bool x_180208 = sle64((int64_t) 0, ai_180195);
                                    bool y_180209 = slt64(ai_180195, window_sizze_131810);
                                    bool bounds_check_180210 = x_180208 && y_180209;
                                    bool index_certs_180211;
                                    
                                    if (!bounds_check_180210) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180195, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_180197;
                                    
                                    if (cond_176710) {
                                        int64_t tmp_180198 = sub64(max_res_176709, (int64_t) 1);
                                        bool x_180199 = sle64((int64_t) 0, tmp_180198);
                                        bool y_180200 = slt64(tmp_180198, window_sizze_131810);
                                        bool bounds_check_180201 = x_180199 && y_180200;
                                        bool index_certs_180202;
                                        
                                        if (!bounds_check_180201) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180198, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180203 = p_175644 + tmp_180198;
                                        int32_t b_prev_t_res_180204 = ((int32_t *) b_list_mem_181134.mem)[slice_180203];
                                        
                                        b_prev_180197 = b_prev_t_res_180204;
                                    } else {
                                        bool index_certs_180206;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180197 = leq_rhs_176665;
                                    }
                                    
                                    int64_t slice_180212 = p_175643 + ai_180195;
                                    int32_t gt_lhs_180213 = ((int32_t *) a_list_mem_181133.mem)[slice_180212];
                                    bool defunc_0_gt_res_180214 = slt32(b_prev_180197, gt_lhs_180213);
                                    int64_t defunc_0_partFunc_sequential_search_res_180215;
                                    int64_t defunc_0_partFunc_sequential_search_res_180216;
                                    
                                    if (defunc_0_gt_res_180214) {
                                        int64_t zl_rhs_180217 = sub64(window_sizze_131810, max_res_176709);
                                        bool loop_cond_180218 = slt64((int64_t) 0, zl_rhs_180217);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180219;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180221;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180222;
                                        bool loop_while_180223;
                                        int64_t p_180224;
                                        int64_t p_180225;
                                        int64_t p_180226;
                                        
                                        loop_while_180223 = loop_cond_180218;
                                        p_180224 = ai_180195;
                                        p_180225 = max_res_176709;
                                        p_180226 = (int64_t) 0;
                                        while (loop_while_180223) {
                                            int64_t i_a_180227 = sub64(ai_180195, p_180226);
                                            int64_t i_b_180228 = add64(max_res_176709, p_180226);
                                            int64_t leq_lhs_180229 = sub64(i_a_180227, (int64_t) 1);
                                            bool x_180230 = sle64((int64_t) 0, leq_lhs_180229);
                                            bool y_180231 = slt64(leq_lhs_180229, window_sizze_131810);
                                            bool bounds_check_180232 = x_180230 && y_180231;
                                            bool index_certs_180233;
                                            
                                            if (!bounds_check_180232) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180229, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180236 = sle64((int64_t) 0, i_b_180228);
                                            bool y_180237 = slt64(i_b_180228, window_sizze_131810);
                                            bool bounds_check_180238 = x_180236 && y_180237;
                                            bool index_certs_180239;
                                            
                                            if (!bounds_check_180238) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180228, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180234 = p_175643 + leq_lhs_180229;
                                            int32_t leq_lhs_180235 = ((int32_t *) a_list_mem_181133.mem)[slice_180234];
                                            int64_t slice_180240 = p_175644 + i_b_180228;
                                            int32_t leq_rhs_180241 = ((int32_t *) b_list_mem_181134.mem)[slice_180240];
                                            bool defunc_0_leq_res_180242 = sle32(leq_lhs_180235, leq_rhs_180241);
                                            int64_t loopres_180243;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180243 = i_a_180227;
                                            } else {
                                                loopres_180243 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180244;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180244 = i_b_180228;
                                            } else {
                                                loopres_180244 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180245;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180245 = zl_rhs_180217;
                                            } else {
                                                int64_t tmp_180246 = add64((int64_t) 1, p_180226);
                                                
                                                loopres_180245 = tmp_180246;
                                            }
                                            
                                            bool loop_cond_180247 = slt64(loopres_180245, zl_rhs_180217);
                                            bool loop_while_tmp_182659 = loop_cond_180247;
                                            int64_t p_tmp_182660 = loopres_180243;
                                            int64_t p_tmp_182661 = loopres_180244;
                                            int64_t p_tmp_182662 = loopres_180245;
                                            
                                            loop_while_180223 = loop_while_tmp_182659;
                                            p_180224 = p_tmp_182660;
                                            p_180225 = p_tmp_182661;
                                            p_180226 = p_tmp_182662;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180219 = loop_while_180223;
                                        defunc_0_partFunc_sequential_search_res_t_res_180220 = p_180224;
                                        defunc_0_partFunc_sequential_search_res_t_res_180221 = p_180225;
                                        defunc_0_partFunc_sequential_search_res_t_res_180222 = p_180226;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_t_res_180221;
                                    } else {
                                        int64_t zl_rhs_180248 = sub64(max_res_176709, (int64_t) 1);
                                        bool loop_cond_180249 = slt64((int64_t) 0, zl_rhs_180248);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180250;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180252;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180253;
                                        bool loop_while_180254;
                                        int64_t p_180255;
                                        int64_t p_180256;
                                        int64_t p_180257;
                                        
                                        loop_while_180254 = loop_cond_180249;
                                        p_180255 = ai_180195;
                                        p_180256 = max_res_176709;
                                        p_180257 = (int64_t) 0;
                                        while (loop_while_180254) {
                                            int64_t zp_lhs_180258 = add64(ai_180195, p_180257);
                                            int64_t hi_a_180259 = add64((int64_t) 1, zp_lhs_180258);
                                            bool cond_180260 = slt64(hi_a_180259, window_sizze_131810);
                                            int64_t i_a_180261;
                                            
                                            if (cond_180260) {
                                                i_a_180261 = hi_a_180259;
                                            } else {
                                                i_a_180261 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_180263 = sub64(max_res_176709, p_180257);
                                            int64_t i_b_180264 = sub64(zm_lhs_180263, (int64_t) 1);
                                            bool x_180265 = sle64((int64_t) 0, i_a_180261);
                                            bool y_180266 = slt64(i_a_180261, window_sizze_131810);
                                            bool bounds_check_180267 = x_180265 && y_180266;
                                            bool index_certs_180268;
                                            
                                            if (!bounds_check_180267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180261, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180271 = sle64((int64_t) 0, i_b_180264);
                                            bool y_180272 = slt64(i_b_180264, window_sizze_131810);
                                            bool bounds_check_180273 = x_180271 && y_180272;
                                            bool index_certs_180274;
                                            
                                            if (!bounds_check_180273) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180264, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180269 = p_175643 + i_a_180261;
                                            int32_t gt_lhs_180270 = ((int32_t *) a_list_mem_181133.mem)[slice_180269];
                                            int64_t slice_180275 = p_175644 + i_b_180264;
                                            int32_t gt_rhs_180276 = ((int32_t *) b_list_mem_181134.mem)[slice_180275];
                                            bool defunc_0_gt_res_180277 = slt32(gt_rhs_180276, gt_lhs_180270);
                                            int64_t loopres_180278;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180278 = i_a_180261;
                                            } else {
                                                loopres_180278 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180279;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180279 = zm_lhs_180263;
                                            } else {
                                                loopres_180279 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180280;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180280 = zl_rhs_180248;
                                            } else {
                                                int64_t tmp_180281 = add64((int64_t) 1, p_180257);
                                                
                                                loopres_180280 = tmp_180281;
                                            }
                                            
                                            bool loop_cond_180282 = slt64(loopres_180280, zl_rhs_180248);
                                            bool loop_while_tmp_182663 = loop_cond_180282;
                                            int64_t p_tmp_182664 = loopres_180278;
                                            int64_t p_tmp_182665 = loopres_180279;
                                            int64_t p_tmp_182666 = loopres_180280;
                                            
                                            loop_while_180254 = loop_while_tmp_182663;
                                            p_180255 = p_tmp_182664;
                                            p_180256 = p_tmp_182665;
                                            p_180257 = p_tmp_182666;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180250 = loop_while_180254;
                                        defunc_0_partFunc_sequential_search_res_f_res_180251 = p_180255;
                                        defunc_0_partFunc_sequential_search_res_f_res_180252 = p_180256;
                                        defunc_0_partFunc_sequential_search_res_f_res_180253 = p_180257;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_f_res_180252;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = p_176702;
                                    loopres_f_res_f_res_f_res_176768 = defunc_0_partFunc_sequential_search_res_180215;
                                    loopres_f_res_f_res_f_res_176769 = defunc_0_partFunc_sequential_search_res_180216;
                                    loopres_f_res_f_res_f_res_176770 = 0;
                                } else {
                                    bool x_176854 = sle64((int64_t) 0, ai_176707);
                                    bool y_176855 = slt64(ai_176707, window_sizze_131810);
                                    bool bounds_check_176856 = x_176854 && y_176855;
                                    bool index_certs_176857;
                                    
                                    if (!bounds_check_176856) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176707, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178523 = p_175643 + ai_176707;
                                    int32_t gt_lhs_176858 = ((int32_t *) a_list_mem_181133.mem)[slice_178523];
                                    bool defunc_0_gt_res_176859 = slt32(b_prev_176711, gt_lhs_176858);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176862;
                                    bool loopres_f_res_f_res_f_res_f_res_176863;
                                    
                                    if (defunc_0_gt_res_176859) {
                                        int64_t leq_lhs_180283 = sub64(ai_176707, (int64_t) 1);
                                        bool x_180284 = sle64((int64_t) 0, leq_lhs_180283);
                                        bool y_180285 = slt64(leq_lhs_180283, window_sizze_131810);
                                        bool bounds_check_180286 = x_180284 && y_180285;
                                        bool index_certs_180287;
                                        
                                        if (!bounds_check_180286) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180283, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180290 = sle64((int64_t) 0, max_res_176709);
                                        bool y_180291 = slt64(max_res_176709, window_sizze_131810);
                                        bool bounds_check_180292 = x_180290 && y_180291;
                                        bool index_certs_180293;
                                        
                                        if (!bounds_check_180292) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176709, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180288 = p_175643 + leq_lhs_180283;
                                        int32_t leq_lhs_180289 = ((int32_t *) a_list_mem_181133.mem)[slice_180288];
                                        int64_t slice_180294 = p_175644 + max_res_176709;
                                        int32_t leq_rhs_180295 = ((int32_t *) b_list_mem_181134.mem)[slice_180294];
                                        bool defunc_0_leq_res_180296 = sle32(leq_lhs_180289, leq_rhs_180295);
                                        bool x_180297 = !defunc_0_leq_res_180296;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = ai_176707;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = leq_lhs_180283;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = max_res_176709;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, max_res_176709);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = tmp_180300;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176860 = p_176702;
                                        loopres_f_res_f_res_f_res_f_res_176861 = loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        loopres_f_res_f_res_f_res_f_res_176862 = loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        loopres_f_res_f_res_f_res_f_res_176863 = x_180297;
                                    } else {
                                        int64_t tmp_176880 = add64((int64_t) 1, ai_176707);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176860 = tmp_176880;
                                        loopres_f_res_f_res_f_res_f_res_176861 = p_176703;
                                        loopres_f_res_f_res_f_res_f_res_176862 = p_176704;
                                        loopres_f_res_f_res_f_res_f_res_176863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = loopres_f_res_f_res_f_res_f_res_176860;
                                    loopres_f_res_f_res_f_res_176768 = loopres_f_res_f_res_f_res_f_res_176861;
                                    loopres_f_res_f_res_f_res_176769 = loopres_f_res_f_res_f_res_f_res_176862;
                                    loopres_f_res_f_res_f_res_176770 = loopres_f_res_f_res_f_res_f_res_176863;
                                }
                                loopres_f_res_f_res_176746 = loopres_f_res_f_res_f_res_176767;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_f_res_176768;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_f_res_176769;
                                loopres_f_res_f_res_176749 = loopres_f_res_f_res_f_res_176770;
                            }
                            loopres_f_res_176724 = loopres_f_res_f_res_176746;
                            loopres_f_res_176725 = loopres_f_res_f_res_176747;
                            loopres_f_res_176726 = loopres_f_res_f_res_176748;
                            loopres_f_res_176727 = loopres_f_res_f_res_176749;
                        }
                        loopres_176719 = loopres_f_res_176724;
                        loopres_176720 = loopres_f_res_176725;
                        loopres_176721 = loopres_f_res_176726;
                        loopres_176722 = loopres_f_res_176727;
                    }
                    
                    bool loop_while_tmp_182655 = loopres_176722;
                    int64_t p_tmp_182656 = loopres_176719;
                    int64_t p_tmp_182657 = loopres_176720;
                    int64_t p_tmp_182658 = loopres_176721;
                    
                    loop_while_176701 = loop_while_tmp_182655;
                    p_176702 = p_tmp_182656;
                    p_176703 = p_tmp_182657;
                    p_176704 = p_tmp_182658;
                }
                defunc_0_f_res_176697 = loop_while_176701;
                defunc_0_f_res_176698 = p_176702;
                defunc_0_f_res_176699 = p_176703;
                defunc_0_f_res_176700 = p_176704;
                ((int64_t *) mem_181150)[i_180883] = defunc_0_f_res_176699;
                ((int64_t *) mem_181152)[i_180883] = defunc_0_f_res_176700;
            }
            if (memblock_alloc(ctx, &mem_181165, window_sizze_131810, "mem_181165")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182667 = 0; nest_i_182667 < window_sizze_131810; nest_i_182667++) {
                ((int8_t *) mem_181165.mem)[nest_i_182667] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181167, bytes_181166, "mem_181167")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182668 = 0; nest_i_182668 < window_sizze_131810; nest_i_182668++) {
                ((int64_t *) mem_181167.mem)[nest_i_182668] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181169, bytes_181168, "mem_181169")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182669 = 0; nest_i_182669 < window_sizze_131810; nest_i_182669++) {
                ((int32_t *) mem_181169.mem)[nest_i_182669] = 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176907;
            int64_t defunc_0_mergeFunc_seq_res_176908;
            bool loop_while_176912;
            int64_t p_176913;
            
            loop_while_176912 = loop_cond_176906;
            p_176913 = (int64_t) 0;
            while (loop_while_176912) {
                bool x_176917 = sle64((int64_t) 0, p_176913);
                bool y_176918 = slt64(p_176913, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176919 = x_176917 && y_176918;
                bool index_certs_176920;
                
                if (!bounds_check_176919) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176913, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:339:19-39\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178506 = sle64((int64_t) 1, p_176913);
                int64_t index_concat_i_178507 = sub64(p_176913, (int64_t) 1);
                int64_t index_concat_178508;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180301 = ((int64_t *) mem_181150)[index_concat_i_178507];
                    
                    index_concat_178508 = x_180301;
                } else {
                    index_concat_178508 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178510;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178510 = index_concat_178508;
                } else {
                    index_concat_branch_178510 = (int64_t) 0;
                }
                
                int64_t index_concat_178502;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180302 = ((int64_t *) mem_181152)[index_concat_i_178507];
                    
                    index_concat_178502 = x_180302;
                } else {
                    index_concat_178502 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178504;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178504 = index_concat_178502;
                } else {
                    index_concat_branch_178504 = (int64_t) 0;
                }
                
                int64_t ubs_176923 = add64((int64_t) 1, p_176913);
                bool x_176924 = sle64((int64_t) 0, ubs_176923);
                bool y_176925 = slt64(ubs_176923, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176926 = x_176924 && y_176925;
                bool index_certs_176927;
                
                if (!bounds_check_176926) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:340:19-41\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178494 = sle64((int64_t) 1, ubs_176923);
                int64_t index_concat_178496;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180303 = ((int64_t *) mem_181150)[p_176913];
                    
                    index_concat_178496 = x_180303;
                } else {
                    index_concat_178496 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178498;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178498 = index_concat_178496;
                } else {
                    index_concat_branch_178498 = (int64_t) 0;
                }
                
                int64_t index_concat_178490;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180304 = ((int64_t *) mem_181152)[p_176913];
                    
                    index_concat_178490 = x_180304;
                } else {
                    index_concat_178490 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178492;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178492 = index_concat_178490;
                } else {
                    index_concat_branch_178492 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 = sub64(index_concat_branch_178492, index_concat_branch_178504);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 = sub64(index_concat_branch_178498, index_concat_branch_178510);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t ind_bottom_176933 = add64(index_concat_branch_178504, index_concat_branch_178510);
                int64_t ind_top_176934 = add64(index_concat_branch_178492, index_concat_branch_178498);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 = sub64(ind_top_176934, ind_bottom_176933);
                bool empty_slice_176936 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 == (int64_t) 0;
                int64_t m_176937 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 1);
                int64_t i_p_m_t_s_176938 = add64(m_176937, index_concat_branch_178510);
                bool zzero_leq_i_p_m_t_s_176939 = sle64((int64_t) 0, i_p_m_t_s_176938);
                bool i_p_m_t_s_leq_w_176940 = slt64(i_p_m_t_s_176938, window_sizze_131810);
                bool zzero_lte_i_176941 = sle64((int64_t) 0, index_concat_branch_178510);
                bool i_lte_j_176942 = sle64(index_concat_branch_178510, index_concat_branch_178498);
                bool y_176943 = i_p_m_t_s_leq_w_176940 && zzero_lte_i_176941;
                bool y_176944 = zzero_leq_i_p_m_t_s_176939 && y_176943;
                bool forwards_ok_176945 = i_lte_j_176942 && y_176944;
                bool ok_or_empty_176946 = empty_slice_176936 || forwards_ok_176945;
                bool index_certs_176947;
                
                if (!ok_or_empty_176946) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178510, ":", (long long) index_concat_branch_178498, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:343:71-86\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(index_concat_branch_178498, index_concat_branch_178510);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool range_valid_c_176950;
                
                if (!valid_176949) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178510, "..<", (long long) index_concat_branch_178498, " is invalid.", "-> #0  ftsort.fut:343:52-69\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176956 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 == (int64_t) 0;
                int64_t m_176957 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, (int64_t) 1);
                int64_t i_p_m_t_s_176958 = add64(m_176957, index_concat_branch_178504);
                bool zzero_leq_i_p_m_t_s_176959 = sle64((int64_t) 0, i_p_m_t_s_176958);
                bool i_p_m_t_s_leq_w_176960 = slt64(i_p_m_t_s_176958, window_sizze_131810);
                bool zzero_lte_i_176961 = sle64((int64_t) 0, index_concat_branch_178504);
                bool i_lte_j_176962 = sle64(index_concat_branch_178504, index_concat_branch_178492);
                bool y_176963 = i_p_m_t_s_leq_w_176960 && zzero_lte_i_176961;
                bool y_176964 = zzero_leq_i_p_m_t_s_176959 && y_176963;
                bool forwards_ok_176965 = i_lte_j_176962 && y_176964;
                bool ok_or_empty_176966 = empty_slice_176956 || forwards_ok_176965;
                bool index_certs_176967;
                
                if (!ok_or_empty_176966) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178504, ":", (long long) index_concat_branch_178492, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:344:71-86\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176968 = slt64(index_concat_branch_178492, index_concat_branch_178504);
                bool valid_176969 = !bounds_invalid_upwards_176968;
                bool range_valid_c_176970;
                
                if (!valid_176969) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178504, "..<", (long long) index_concat_branch_178492, " is invalid.", "-> #0  ftsort.fut:344:52-69\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181186 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                int64_t bytes_181188 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool cond_176979 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zs_lhs_176980 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zp_rhs_176981 = sdiv_safe64(zs_lhs_176980, (int64_t) 20);
                int64_t min_num_blocks_176982 = add64((int64_t) 1, zp_rhs_176981);
                bool loop_cond_176983 = slt64((int64_t) 1, min_num_blocks_176982);
                bool smallest_pow_2_geq_than_res_176984;
                int64_t smallest_pow_2_geq_than_res_176985;
                bool loop_while_176986;
                int64_t x_176987;
                
                loop_while_176986 = loop_cond_176983;
                x_176987 = (int64_t) 1;
                while (loop_while_176986) {
                    int64_t loopres_176988 = mul64((int64_t) 2, x_176987);
                    bool loop_cond_176989 = slt64(loopres_176988, min_num_blocks_176982);
                    bool loop_while_tmp_182675 = loop_cond_176989;
                    int64_t x_tmp_182676 = loopres_176988;
                    
                    loop_while_176986 = loop_while_tmp_182675;
                    x_176987 = x_tmp_182676;
                }
                smallest_pow_2_geq_than_res_176984 = loop_while_176986;
                smallest_pow_2_geq_than_res_176985 = x_176987;
                
                bool zzero_176990 = smallest_pow_2_geq_than_res_176985 == (int64_t) 0;
                bool nonzzero_176991 = !zzero_176990;
                bool protect_assert_disj_176992 = cond_176979 || nonzzero_176991;
                bool nonzzero_cert_176993;
                
                if (!protect_assert_disj_176992) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176994 = sdiv_safe64(zs_lhs_176980, smallest_pow_2_geq_than_res_176985);
                int64_t block_sizze_176995 = add64((int64_t) 1, zp_rhs_176994);
                bool y_177002 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                bool protect_assert_disj_182339 = cond_176979 || y_177002;
                bool index_certs_177003;
                
                if (!protect_assert_disj_182339) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177029 = slt64(smallest_pow_2_geq_than_res_176985, (int64_t) 0);
                bool valid_177030 = !bounds_invalid_upwards_177029;
                bool protect_assert_disj_182349 = cond_176979 || valid_177030;
                bool range_valid_c_177031;
                
                if (!protect_assert_disj_182349) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176985, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177033 = slt64(block_sizze_176995, (int64_t) 0);
                bool valid_177034 = !bounds_invalid_upwards_177033;
                bool protect_assert_disj_182351 = cond_176979 || valid_177034;
                bool range_valid_c_177035;
                
                if (!protect_assert_disj_182351) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176995, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_177037 = sle64(block_sizze_176995, (int64_t) 1);
                int64_t tmp_177038 = sub64(block_sizze_176995, (int64_t) 2);
                bool bounds_invalid_upwards_177039 = slt64(tmp_177038, (int64_t) 0);
                bool valid_177041 = !bounds_invalid_upwards_177039;
                bool protect_assert_disj_177042 = cond_177037 || valid_177041;
                bool protect_assert_disj_182353 = cond_176979 || protect_assert_disj_177042;
                bool range_valid_c_177043;
                
                if (!protect_assert_disj_182353) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177038, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177604 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool empty_or_match_cert_177605;
                
                if (!dim_match_177604) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "](i8, i64, i32)`.", "-> #0  ftsort.fut:345:22-351:50\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177606 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == (int64_t) 0;
                int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177608 = sle64((int64_t) 0, m_177607);
                bool i_p_m_t_s_leq_w_177609 = slt64(m_177607, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935);
                bool y_177610 = zzero_leq_i_p_m_t_s_177608 && i_p_m_t_s_leq_w_177609;
                bool ok_or_empty_177611 = empty_slice_177606 || y_177610;
                bool index_certs_177612;
                
                if (!ok_or_empty_177611) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "].", "-> #0  ftsort.fut:352:59-89\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177613 = add64(ind_bottom_176933, m_177607);
                bool zzero_leq_i_p_m_t_s_177614 = sle64((int64_t) 0, i_p_m_t_s_177613);
                bool i_p_m_t_s_leq_w_177615 = slt64(i_p_m_t_s_177613, window_sizze_131810);
                bool zzero_lte_i_177616 = sle64((int64_t) 0, ind_bottom_176933);
                bool i_lte_j_177617 = sle64(ind_bottom_176933, ind_top_176934);
                bool y_177618 = i_p_m_t_s_leq_w_177615 && zzero_lte_i_177616;
                bool y_177619 = zzero_leq_i_p_m_t_s_177614 && y_177618;
                bool forwards_ok_177620 = i_lte_j_177617 && y_177619;
                bool ok_or_empty_177621 = empty_slice_177606 || forwards_ok_177620;
                bool index_certs_177622;
                
                if (!ok_or_empty_177621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176933, ":", (long long) ind_top_176934, "] out of bounds for array of shape [", (long long) window_sizze_131810, "].", "-> #0  ftsort.fut:352:27-89\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178486 = p_175643 + index_concat_branch_178510;
                
                if (memblock_alloc(ctx, &mem_181185, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "mem_181185")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182677 = 0; nest_i_182677 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; nest_i_182677++) {
                    ((int8_t *) mem_181185.mem)[nest_i_182677] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181187, bytes_181186, "mem_181187")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182678 = 0; i_182678 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; i_182678++) {
                    int64_t x_182679 = index_concat_branch_178510 + i_182678 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[i_182678] = x_182679;
                }
                
                int64_t slice_178485 = p_175644 + index_concat_branch_178504;
                
                for (int64_t nest_i_182680 = 0; nest_i_182680 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; nest_i_182680++) {
                    ((int8_t *) mem_181185.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + nest_i_182680] = (int8_t) 1;
                }
                for (int64_t i_182681 = 0; i_182681 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; i_182681++) {
                    int64_t x_182682 = index_concat_branch_178504 + i_182681 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + i_182681] = x_182682;
                }
                
                int64_t tmp_offs_182683 = (int64_t) 0;
                
                if (!(tmp_offs_182683 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182683 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t tmp_offs_182684 = (int64_t) 0;
                
                if (!(tmp_offs_182684 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182684 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                if (memblock_alloc(ctx, &mem_181189, bytes_181188, "mem_181189")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182685 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181133.mem, slice_178486, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181134.mem, slice_178485, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t flat_dim_176996 = smallest_pow_2_geq_than_res_176985 * block_sizze_176995;
                bool x_182334 = !cond_176979;
                int64_t greatest_divisor_leq_than_arg1_177000 = mul64((int64_t) 2, block_sizze_176995);
                int64_t merge_block_sizze_177001;
                
                if (x_182334) {
                    int64_t x_182336;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182336, (int64_t) 8, greatest_divisor_leq_than_arg1_177000) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_177001 = x_182336;
                } else {
                    merge_block_sizze_177001 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178480 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 0);
                int8_t index_concat_branch_178484 = btoi_bool_i8(index_concat_cmp_178480);
                int64_t index_concat_i_180305 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t index_primexp_180306 = add64(index_concat_branch_178504, index_concat_i_180305);
                int64_t index_concat_branch_178478;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178478 = index_primexp_180306;
                } else {
                    index_concat_branch_178478 = index_concat_branch_178510;
                }
                
                bool x_182330 = !index_concat_cmp_178480;
                bool protect_cond_conj_182340 = x_182330 && x_182334;
                int32_t index_concat_178471;
                
                if (protect_cond_conj_182340) {
                    int32_t x_182332 = ((int32_t *) a_list_mem_181133.mem)[slice_178486];
                    
                    index_concat_178471 = x_182332;
                } else {
                    index_concat_178471 = 0;
                }
                
                int64_t slice_180308 = slice_178485 + index_concat_i_180305;
                bool protect_cond_conj_182341 = index_concat_cmp_178480 && x_182334;
                int32_t index_concat_180309;
                
                if (protect_cond_conj_182341) {
                    int32_t x_182328 = ((int32_t *) b_list_mem_181134.mem)[slice_180308];
                    
                    index_concat_180309 = x_182328;
                } else {
                    index_concat_180309 = 0;
                }
                
                int32_t index_concat_branch_178472;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178472 = index_concat_180309;
                } else {
                    index_concat_branch_178472 = index_concat_178471;
                }
                
                int8_t defunc_0_reduce_res_180540;
                int64_t defunc_0_reduce_res_180541;
                int32_t defunc_0_reduce_res_180542;
                
                if (x_182334) {
                    int8_t x_182342;
                    int64_t x_182343;
                    int32_t x_182344;
                    int8_t redout_180886;
                    int64_t redout_180887;
                    int32_t redout_180888;
                    
                    redout_180886 = index_concat_branch_178484;
                    redout_180887 = index_concat_branch_178478;
                    redout_180888 = index_concat_branch_178472;
                    for (int64_t i_180889 = 0; i_180889 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932; i_180889++) {
                        bool index_concat_cmp_181093 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, i_180889);
                        int8_t index_concat_branch_181097 = btoi_bool_i8(index_concat_cmp_181093);
                        int64_t index_concat_branch_181091;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181088 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t index_primexp_181115 = add64(index_concat_branch_178504, index_concat_i_181088);
                            
                            index_concat_branch_181091 = index_primexp_181115;
                        } else {
                            int64_t index_primexp_181117 = add64(index_concat_branch_178510, i_180889);
                            
                            index_concat_branch_181091 = index_primexp_181117;
                        }
                        
                        int32_t index_concat_branch_181085;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181082 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t slice_181112 = slice_178485 + index_concat_i_181082;
                            int32_t index_concat_181083 = ((int32_t *) b_list_mem_181134.mem)[slice_181112];
                            
                            index_concat_branch_181085 = index_concat_181083;
                        } else {
                            int64_t slice_181113 = slice_178486 + i_180889;
                            int32_t index_concat_181084 = ((int32_t *) a_list_mem_181133.mem)[slice_181113];
                            
                            index_concat_branch_181085 = index_concat_181084;
                        }
                        
                        bool eq_x_y_181128 = redout_180886 == (int8_t) 1;
                        bool eq_x_zz_181129 = redout_180886 == (int8_t) 0;
                        bool p_and_eq_x_y_181130 = index_concat_cmp_181093 && eq_x_y_181128;
                        bool not_p_181131 = !index_concat_cmp_181093;
                        bool p_and_eq_x_y_181132 = eq_x_zz_181129 && not_p_181131;
                        bool cond_177019 = p_and_eq_x_y_181130 || p_and_eq_x_y_181132;
                        bool defunc_0_leq_res_t_res_177020 = sle64(redout_180887, index_concat_branch_181091);
                        bool defunc_0_leq_res_177021 = sle32(redout_180888, index_concat_branch_181085);
                        bool x_177022 = cond_177019 && defunc_0_leq_res_t_res_177020;
                        bool x_177023 = !cond_177019;
                        bool y_177024 = defunc_0_leq_res_177021 && x_177023;
                        bool defunc_0_leq_res_177025 = x_177022 || y_177024;
                        int8_t defunc_0_op_res_177026;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177026 = index_concat_branch_181097;
                        } else {
                            defunc_0_op_res_177026 = redout_180886;
                        }
                        
                        int64_t defunc_0_op_res_177027;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177027 = index_concat_branch_181091;
                        } else {
                            defunc_0_op_res_177027 = redout_180887;
                        }
                        
                        int32_t defunc_0_op_res_177028;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177028 = index_concat_branch_181085;
                        } else {
                            defunc_0_op_res_177028 = redout_180888;
                        }
                        
                        int8_t redout_tmp_182686 = defunc_0_op_res_177026;
                        int64_t redout_tmp_182687 = defunc_0_op_res_177027;
                        int32_t redout_tmp_182688 = defunc_0_op_res_177028;
                        
                        redout_180886 = redout_tmp_182686;
                        redout_180887 = redout_tmp_182687;
                        redout_180888 = redout_tmp_182688;
                    }
                    x_182342 = redout_180886;
                    x_182343 = redout_180887;
                    x_182344 = redout_180888;
                    defunc_0_reduce_res_180540 = x_182342;
                    defunc_0_reduce_res_180541 = x_182343;
                    defunc_0_reduce_res_180542 = x_182344;
                } else {
                    defunc_0_reduce_res_180540 = (int8_t) 0;
                    defunc_0_reduce_res_180541 = (int64_t) 0;
                    defunc_0_reduce_res_180542 = 0;
                }
                
                int64_t distance_177040 = add64((int64_t) 1, tmp_177038);
                int64_t binop_x_181192 = (int64_t) 8 * smallest_pow_2_geq_than_res_176985;
                int64_t bytes_181193 = block_sizze_176995 * binop_x_181192;
                int64_t binop_x_181195 = (int64_t) 4 * smallest_pow_2_geq_than_res_176985;
                int64_t bytes_181196 = block_sizze_176995 * binop_x_181195;
                int64_t bytes_181211 = (int64_t) 8 * block_sizze_176995;
                int64_t bytes_181213 = (int64_t) 4 * block_sizze_176995;
                bool loop_cond_177149 = slt64(block_sizze_176995, flat_dim_176996);
                bool zzero_177150 = merge_block_sizze_177001 == (int64_t) 0;
                bool nonzzero_177151 = !zzero_177150;
                
                if (cond_176979) {
                    if (memblock_set(ctx, &ext_mem_181484, &mem_181185, "mem_181185") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &mem_181187, "mem_181187") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &mem_181189, "mem_181189") != 0)
                        return 1;
                } else {
                    if (mem_181191_cached_sizze_182985 < flat_dim_176996) {
                        err = lexical_realloc(ctx, &mem_181191, &mem_181191_cached_sizze_182985, flat_dim_176996);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181194_cached_sizze_182986 < bytes_181193) {
                        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_182986, bytes_181193);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181197_cached_sizze_182987 < bytes_181196) {
                        err = lexical_realloc(ctx, &mem_181197, &mem_181197_cached_sizze_182987, bytes_181196);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181210_cached_sizze_182988 < block_sizze_176995) {
                        err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_182988, block_sizze_176995);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181212_cached_sizze_182989 < bytes_181211) {
                        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_182989, bytes_181211);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181214_cached_sizze_182990 < bytes_181213) {
                        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_182990, bytes_181213);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180906 = 0; i_180906 < smallest_pow_2_geq_than_res_176985; i_180906++) {
                        int64_t zp_lhs_177048 = mul64(block_sizze_176995, i_180906);
                        
                        for (int64_t i_180896 = 0; i_180896 < block_sizze_176995; i_180896++) {
                            int64_t k_177053 = add64(zp_lhs_177048, i_180896);
                            bool cond_177054 = slt64(k_177053, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                            int8_t lifted_lambda_res_177055;
                            int64_t lifted_lambda_res_177056;
                            int32_t lifted_lambda_res_177057;
                            
                            if (cond_177054) {
                                bool x_180315 = sle64((int64_t) 0, k_177053);
                                bool bounds_check_180316 = cond_177054 && x_180315;
                                bool index_certs_180317;
                                
                                if (!bounds_check_180316) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177053, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180318 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, k_177053);
                                int8_t index_concat_branch_180319 = btoi_bool_i8(index_concat_cmp_180318);
                                int64_t index_concat_branch_180320;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180321 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t index_primexp_180322 = add64(index_concat_branch_178504, index_concat_i_180321);
                                    
                                    index_concat_branch_180320 = index_primexp_180322;
                                } else {
                                    int64_t index_primexp_180323 = add64(k_177053, index_concat_branch_178510);
                                    
                                    index_concat_branch_180320 = index_primexp_180323;
                                }
                                
                                int32_t index_concat_branch_180324;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180325 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t slice_180326 = slice_178485 + index_concat_i_180325;
                                    int32_t index_concat_180327 = ((int32_t *) b_list_mem_181134.mem)[slice_180326];
                                    
                                    index_concat_branch_180324 = index_concat_180327;
                                } else {
                                    int64_t slice_180328 = k_177053 + slice_178486;
                                    int32_t index_concat_180329 = ((int32_t *) a_list_mem_181133.mem)[slice_180328];
                                    
                                    index_concat_branch_180324 = index_concat_180329;
                                }
                                lifted_lambda_res_177055 = index_concat_branch_180319;
                                lifted_lambda_res_177056 = index_concat_branch_180320;
                                lifted_lambda_res_177057 = index_concat_branch_180324;
                            } else {
                                lifted_lambda_res_177055 = defunc_0_reduce_res_180540;
                                lifted_lambda_res_177056 = defunc_0_reduce_res_180541;
                                lifted_lambda_res_177057 = defunc_0_reduce_res_180542;
                            }
                            ((int8_t *) mem_181210)[i_180896] = lifted_lambda_res_177055;
                            ((int64_t *) mem_181212)[i_180896] = lifted_lambda_res_177056;
                            ((int32_t *) mem_181214)[i_180896] = lifted_lambda_res_177057;
                        }
                        if (!cond_177037) {
                            for (int64_t i_177070 = 0; i_177070 < distance_177040; i_177070++) {
                                int64_t gt_arg1_177074 = add64((int64_t) 1, i_177070);
                                bool x_177075 = sle64((int64_t) 0, gt_arg1_177074);
                                bool y_177076 = slt64(gt_arg1_177074, block_sizze_176995);
                                bool bounds_check_177077 = x_177075 && y_177076;
                                bool index_certs_177078;
                                
                                if (!bounds_check_177077) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177074, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177082 = slt64(i_177070, block_sizze_176995);
                                bool index_certs_177083;
                                
                                if (!y_177082) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177070, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_177079 = ((int8_t *) mem_181210)[gt_arg1_177074];
                                int64_t gt_arg1_177080 = ((int64_t *) mem_181212)[gt_arg1_177074];
                                int32_t gt_arg1_177081 = ((int32_t *) mem_181214)[gt_arg1_177074];
                                int8_t gt_arg0_177084 = ((int8_t *) mem_181210)[i_177070];
                                int64_t gt_arg0_177085 = ((int64_t *) mem_181212)[i_177070];
                                int32_t gt_arg0_177086 = ((int32_t *) mem_181214)[i_177070];
                                bool cond_177087 = gt_arg0_177084 == gt_arg1_177079;
                                bool defunc_0_leq_res_t_res_177088 = sle64(gt_arg0_177085, gt_arg1_177080);
                                bool defunc_0_leq_res_177089 = sle32(gt_arg0_177086, gt_arg1_177081);
                                bool x_177090 = cond_177087 && defunc_0_leq_res_t_res_177088;
                                bool x_177091 = !cond_177087;
                                bool y_177092 = defunc_0_leq_res_177089 && x_177091;
                                bool defunc_0_leq_res_177093 = x_177090 || y_177092;
                                bool defunc_0_lifted_gt_res_177094 = !defunc_0_leq_res_177093;
                                bool s_177095;
                                int64_t s_177099;
                                bool loop_while_177100;
                                int64_t j_177104;
                                
                                loop_while_177100 = defunc_0_lifted_gt_res_177094;
                                j_177104 = i_177070;
                                while (loop_while_177100) {
                                    bool x_177105 = sle64((int64_t) 0, j_177104);
                                    bool y_177106 = slt64(j_177104, block_sizze_176995);
                                    bool bounds_check_177107 = x_177105 && y_177106;
                                    bool index_certs_177108;
                                    
                                    if (!bounds_check_177107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177104, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177112 = add64((int64_t) 1, j_177104);
                                    bool x_177113 = sle64((int64_t) 0, copy_arg0_177112);
                                    bool y_177114 = slt64(copy_arg0_177112, block_sizze_176995);
                                    bool bounds_check_177115 = x_177113 && y_177114;
                                    bool index_certs_177116;
                                    
                                    if (!bounds_check_177115) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177112, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177109 = ((int8_t *) mem_181210)[j_177104];
                                    int64_t copy_arg0_177110 = ((int64_t *) mem_181212)[j_177104];
                                    int32_t copy_arg0_177111 = ((int32_t *) mem_181214)[j_177104];
                                    int8_t copy_arg0_177117 = ((int8_t *) mem_181210)[copy_arg0_177112];
                                    int64_t copy_arg0_177118 = ((int64_t *) mem_181212)[copy_arg0_177112];
                                    int32_t copy_arg0_177119 = ((int32_t *) mem_181214)[copy_arg0_177112];
                                    
                                    ((int8_t *) mem_181210)[j_177104] = copy_arg0_177117;
                                    ((int64_t *) mem_181212)[j_177104] = copy_arg0_177118;
                                    ((int32_t *) mem_181214)[j_177104] = copy_arg0_177119;
                                    ((int8_t *) mem_181210)[copy_arg0_177112] = copy_arg0_177109;
                                    ((int64_t *) mem_181212)[copy_arg0_177112] = copy_arg0_177110;
                                    ((int32_t *) mem_181214)[copy_arg0_177112] = copy_arg0_177111;
                                    
                                    int64_t tmp_177126 = sub64(j_177104, (int64_t) 1);
                                    bool cond_177127 = sle64((int64_t) 0, tmp_177126);
                                    bool loop_cond_177128;
                                    
                                    if (cond_177127) {
                                        bool y_180333 = slt64(tmp_177126, block_sizze_176995);
                                        bool bounds_check_180334 = cond_177127 && y_180333;
                                        bool index_certs_180335;
                                        
                                        if (!bounds_check_180334) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177126, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180330 = ((int8_t *) mem_181210)[j_177104];
                                        int64_t gt_arg1_180331 = ((int64_t *) mem_181212)[j_177104];
                                        int32_t gt_arg1_180332 = ((int32_t *) mem_181214)[j_177104];
                                        int8_t gt_arg0_180336 = ((int8_t *) mem_181210)[tmp_177126];
                                        int64_t gt_arg0_180337 = ((int64_t *) mem_181212)[tmp_177126];
                                        int32_t gt_arg0_180338 = ((int32_t *) mem_181214)[tmp_177126];
                                        bool cond_180339 = gt_arg0_180336 == gt_arg1_180330;
                                        bool defunc_0_leq_res_t_res_180340 = sle64(gt_arg0_180337, gt_arg1_180331);
                                        bool defunc_0_leq_res_180341 = sle32(gt_arg0_180338, gt_arg1_180332);
                                        bool x_180342 = cond_180339 && defunc_0_leq_res_t_res_180340;
                                        bool x_180343 = !cond_180339;
                                        bool y_180344 = defunc_0_leq_res_180341 && x_180343;
                                        bool defunc_0_leq_res_180345 = x_180342 || y_180344;
                                        bool defunc_0_lifted_gt_res_180346 = !defunc_0_leq_res_180345;
                                        
                                        loop_cond_177128 = defunc_0_lifted_gt_res_180346;
                                    } else {
                                        loop_cond_177128 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182698 = loop_cond_177128;
                                    int64_t j_tmp_182702 = tmp_177126;
                                    
                                    loop_while_177100 = loop_while_tmp_182698;
                                    j_177104 = j_tmp_182702;
                                }
                                s_177095 = loop_while_177100;
                                s_177099 = j_177104;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181191, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181194, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181212, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181197, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_176996, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint8_t *) mem_181191, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181193, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181196, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint32_t *) mem_181197, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    
                    int64_t data_177152;
                    bool data_177153;
                    int64_t data_177157;
                    int64_t loop_dz2084Uz2082U_177158;
                    bool loop_while_177159;
                    int64_t stride_177163;
                    
                    if (memblock_set(ctx, &mem_param_181303, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181306, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181309, &mem_181299, "mem_181299") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177158 = flat_dim_176996;
                    loop_while_177159 = loop_cond_177149;
                    stride_177163 = block_sizze_176995;
                    while (loop_while_177159) {
                        int64_t next_stride_177164 = mul64((int64_t) 2, stride_177163);
                        bool zzero_177165 = next_stride_177164 == (int64_t) 0;
                        bool nonzzero_177166 = !zzero_177165;
                        bool nonzzero_cert_177167;
                        
                        if (!nonzzero_177166) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177168 = sdiv64(flat_dim_176996, next_stride_177164);
                        bool bounds_invalid_upwards_177169 = slt64(num_merges_177168, (int64_t) 0);
                        bool valid_177170 = !bounds_invalid_upwards_177169;
                        bool range_valid_c_177171;
                        
                        if (!valid_177170) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177173 = sub64(next_stride_177164, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177174 = sle64((int64_t) 0, m_177173);
                        bool cond_177176 = slt64(next_stride_177164, (int64_t) 10);
                        bool protect_assert_disj_177177 = nonzzero_177151 || cond_177176;
                        bool nonzzero_cert_177178;
                        
                        if (!protect_assert_disj_177177) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177179 = smod_safe64(next_stride_177164, merge_block_sizze_177001);
                        bool num_blocks_177180 = zeze_lhs_177179 == (int64_t) 0;
                        bool protect_assert_disj_177181 = cond_177176 || num_blocks_177180;
                        bool assert_c_177182;
                        
                        if (!protect_assert_disj_177181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177184 = sdiv_safe64(next_stride_177164, merge_block_sizze_177001);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185 = add64((int64_t) 1, num_blocks_177184);
                        int64_t j_m_i_177186 = sub64(next_stride_177164, stride_177163);
                        int64_t flat_dim_177187 = merge_block_sizze_177001 * num_blocks_177184;
                        bool bounds_invalid_upwards_177188 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, (int64_t) 0);
                        bool empty_slice_177189 = j_m_i_177186 == (int64_t) 0;
                        int64_t m_177190 = sub64(j_m_i_177186, (int64_t) 1);
                        bool zzero_lte_i_177191 = sle64((int64_t) 0, stride_177163);
                        bool i_lte_j_177192 = sle64(stride_177163, next_stride_177164);
                        bool empty_slice_177193 = stride_177163 == (int64_t) 0;
                        int64_t m_177194 = sub64(stride_177163, (int64_t) 1);
                        bool bounds_invalid_upwards_177195 = slt64(num_blocks_177184, (int64_t) 0);
                        bool cond_177196 = slt64((int64_t) 0, stride_177163);
                        bool valid_177197 = !bounds_invalid_upwards_177188;
                        int64_t i_p_m_t_s_177198 = add64(stride_177163, m_177190);
                        bool zzero_leq_i_p_m_t_s_177199 = sle64((int64_t) 0, m_177194);
                        bool i_p_m_t_s_leq_w_177200 = slt64(m_177194, next_stride_177164);
                        bool valid_177201 = !bounds_invalid_upwards_177195;
                        bool i_p_m_t_s_leq_w_177202 = slt64(m_177173, flat_dim_177187);
                        bool y_177203 = slt64((int64_t) 0, j_m_i_177186);
                        bool protect_assert_disj_177204 = cond_177176 || valid_177197;
                        bool range_valid_c_177205;
                        
                        if (!protect_assert_disj_177204) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177206 = sle64((int64_t) 0, i_p_m_t_s_177198);
                        bool i_p_m_t_s_leq_w_177207 = slt64(i_p_m_t_s_177198, next_stride_177164);
                        bool y_177208 = zzero_leq_i_p_m_t_s_177199 && i_p_m_t_s_leq_w_177200;
                        bool protect_assert_disj_177209 = cond_177176 || valid_177201;
                        bool range_valid_c_177210;
                        
                        if (!protect_assert_disj_177209) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177184, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177211 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177202;
                        bool y_177212 = zzero_lte_i_177191 && i_p_m_t_s_leq_w_177207;
                        bool forwards_ok_177213 = zzero_lte_i_177191 && y_177208;
                        bool ok_or_empty_177214 = zzero_177165 || y_177211;
                        bool protect_assert_disj_177215 = cond_177196 || y_177203;
                        bool y_177216 = zzero_leq_i_p_m_t_s_177206 && y_177212;
                        bool ok_or_empty_177217 = empty_slice_177193 || forwards_ok_177213;
                        bool protect_assert_disj_177218 = cond_177176 || ok_or_empty_177214;
                        bool index_certs_177219;
                        
                        if (!protect_assert_disj_177218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) flat_dim_177187, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177220 = !cond_177176;
                        bool protect_assert_disj_177221 = protect_assert_disj_177215 || loop_not_taken_177220;
                        bool index_certs_177222;
                        
                        if (!protect_assert_disj_177221) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177223 = i_lte_j_177192 && y_177216;
                        bool protect_assert_disj_177224 = cond_177176 || ok_or_empty_177217;
                        bool index_certs_177225;
                        
                        if (!protect_assert_disj_177224) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177226 = ok_or_empty_177217 || loop_not_taken_177220;
                        bool index_certs_177227;
                        
                        if (!protect_assert_disj_177226) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177228 = empty_slice_177189 || forwards_ok_177223;
                        bool protect_assert_disj_177229 = cond_177176 || ok_or_empty_177228;
                        bool index_certs_177230;
                        
                        if (!protect_assert_disj_177229) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177231 = loop_not_taken_177220 || ok_or_empty_177228;
                        bool index_certs_177232;
                        
                        if (!protect_assert_disj_177231) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181310 = next_stride_177164 * num_merges_177168;
                        int64_t binop_x_181312 = (int64_t) 8 * num_merges_177168;
                        int64_t bytes_181313 = next_stride_177164 * binop_x_181312;
                        int64_t binop_x_181315 = (int64_t) 4 * num_merges_177168;
                        int64_t bytes_181316 = next_stride_177164 * binop_x_181315;
                        bool i_lte_j_177175 = sle64((int64_t) 0, next_stride_177164);
                        
                        if (mem_181311_cached_sizze_182991 < bytes_181310) {
                            err = lexical_realloc(ctx, &mem_181311, &mem_181311_cached_sizze_182991, bytes_181310);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181314_cached_sizze_182992 < bytes_181313) {
                            err = lexical_realloc(ctx, &mem_181314, &mem_181314_cached_sizze_182992, bytes_181313);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181317_cached_sizze_182993 < bytes_181316) {
                            err = lexical_realloc(ctx, &mem_181317, &mem_181317_cached_sizze_182993, bytes_181316);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181330 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185;
                        int64_t binop_x_181348 = (int64_t) 8 * num_blocks_177184;
                        int64_t bytes_181349 = merge_block_sizze_177001 * binop_x_181348;
                        int64_t binop_x_181351 = (int64_t) 4 * num_blocks_177184;
                        int64_t bytes_181352 = merge_block_sizze_177001 * binop_x_181351;
                        int64_t bytes_181413 = (int64_t) 16 * stride_177163;
                        int64_t bytes_181415 = (int64_t) 8 * stride_177163;
                        
                        for (int64_t i_180933 = 0; i_180933 < num_merges_177168; i_180933++) {
                            int64_t start_177237 = mul64(next_stride_177164, i_180933);
                            int64_t j_m_i_177238 = sub64(loop_dz2084Uz2082U_177158, start_177237);
                            bool empty_slice_177239 = j_m_i_177238 == (int64_t) 0;
                            int64_t m_177240 = sub64(j_m_i_177238, (int64_t) 1);
                            int64_t i_p_m_t_s_177241 = add64(start_177237, m_177240);
                            bool zzero_leq_i_p_m_t_s_177242 = sle64((int64_t) 0, i_p_m_t_s_177241);
                            bool i_p_m_t_s_leq_w_177243 = slt64(i_p_m_t_s_177241, loop_dz2084Uz2082U_177158);
                            bool zzero_lte_i_177244 = sle64((int64_t) 0, start_177237);
                            bool i_lte_j_177245 = sle64(start_177237, loop_dz2084Uz2082U_177158);
                            bool y_177246 = i_p_m_t_s_leq_w_177243 && zzero_lte_i_177244;
                            bool y_177247 = zzero_leq_i_p_m_t_s_177242 && y_177246;
                            bool forwards_ok_177248 = i_lte_j_177245 && y_177247;
                            bool ok_or_empty_177249 = empty_slice_177239 || forwards_ok_177248;
                            bool index_certs_177250;
                            
                            if (!ok_or_empty_177249) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177237, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177158, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177251 = slt64(m_177173, j_m_i_177238);
                            bool y_177252 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177251;
                            bool forwards_ok_177253 = i_lte_j_177175 && y_177252;
                            bool ok_or_empty_177254 = zzero_177165 || forwards_ok_177253;
                            bool index_certs_177255;
                            
                            if (!ok_or_empty_177254) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) j_m_i_177238, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177176) {
                                int8_t dummy_180385;
                                int64_t dummy_180386;
                                int32_t dummy_180387;
                                
                                if (cond_177196) {
                                    int8_t head_res_180388 = ((int8_t *) mem_param_181303.mem)[start_177237];
                                    int64_t head_res_180389 = ((int64_t *) mem_param_181306.mem)[start_177237];
                                    int32_t head_res_180390 = ((int32_t *) mem_param_181309.mem)[start_177237];
                                    
                                    dummy_180385 = head_res_180388;
                                    dummy_180386 = head_res_180389;
                                    dummy_180387 = head_res_180390;
                                } else {
                                    int64_t slice_180391 = stride_177163 + start_177237;
                                    int8_t head_res_180392 = ((int8_t *) mem_param_181303.mem)[slice_180391];
                                    int64_t head_res_180393 = ((int64_t *) mem_param_181306.mem)[slice_180391];
                                    int32_t head_res_180394 = ((int32_t *) mem_param_181309.mem)[slice_180391];
                                    
                                    dummy_180385 = head_res_180392;
                                    dummy_180386 = head_res_180393;
                                    dummy_180387 = head_res_180394;
                                }
                                if (memblock_alloc(ctx, &mem_181412, next_stride_177164, "mem_181412")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182715 = 0; nest_i_182715 < next_stride_177164; nest_i_182715++) {
                                    ((int8_t *) mem_181412.mem)[nest_i_182715] = dummy_180385;
                                }
                                if (memblock_alloc(ctx, &mem_181414, bytes_181413, "mem_181414")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182716 = 0; nest_i_182716 < next_stride_177164; nest_i_182716++) {
                                    ((int64_t *) mem_181414.mem)[nest_i_182716] = dummy_180386;
                                }
                                if (memblock_alloc(ctx, &mem_181416, bytes_181415, "mem_181416")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182717 = 0; nest_i_182717 < next_stride_177164; nest_i_182717++) {
                                    ((int32_t *) mem_181416.mem)[nest_i_182717] = dummy_180387;
                                }
                                
                                int64_t data_180398;
                                int64_t i_180403 = (int64_t) 0;
                                
                                for (int64_t k_180402 = 0; k_180402 < next_stride_177164; k_180402++) {
                                    int64_t j_180407 = sub64(k_180402, i_180403);
                                    bool cond_180408 = j_180407 == j_m_i_177186;
                                    bool cond_180409;
                                    
                                    if (cond_180408) {
                                        cond_180409 = 1;
                                    } else {
                                        bool cond_180410 = slt64(i_180403, stride_177163);
                                        bool cond_f_res_180411;
                                        
                                        if (cond_180410) {
                                            bool x_180412 = sle64((int64_t) 0, j_180407);
                                            bool y_180413 = slt64(j_180407, j_m_i_177186);
                                            bool bounds_check_180414 = x_180412 && y_180413;
                                            bool index_certs_180415;
                                            
                                            if (!bounds_check_180414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180421 = sle64((int64_t) 0, i_180403);
                                            bool bounds_check_180422 = cond_180410 && x_180421;
                                            bool index_certs_180423;
                                            
                                            if (!bounds_check_180422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180416 = stride_177163 + j_180407;
                                            int64_t slice_180417 = start_177237 + slice_180416;
                                            int8_t leq_arg1_180418 = ((int8_t *) mem_param_181303.mem)[slice_180417];
                                            int64_t leq_arg1_180419 = ((int64_t *) mem_param_181306.mem)[slice_180417];
                                            int32_t leq_arg1_180420 = ((int32_t *) mem_param_181309.mem)[slice_180417];
                                            int64_t slice_180424 = start_177237 + i_180403;
                                            int8_t leq_arg0_180425 = ((int8_t *) mem_param_181303.mem)[slice_180424];
                                            int64_t leq_arg0_180426 = ((int64_t *) mem_param_181306.mem)[slice_180424];
                                            int32_t leq_arg0_180427 = ((int32_t *) mem_param_181309.mem)[slice_180424];
                                            bool cond_180428 = leq_arg0_180425 == leq_arg1_180418;
                                            bool defunc_0_leq_res_t_res_180429 = sle64(leq_arg0_180426, leq_arg1_180419);
                                            bool defunc_0_leq_res_180430 = sle32(leq_arg0_180427, leq_arg1_180420);
                                            bool x_180431 = cond_180428 && defunc_0_leq_res_t_res_180429;
                                            bool x_180432 = !cond_180428;
                                            bool y_180433 = defunc_0_leq_res_180430 && x_180432;
                                            bool defunc_0_leq_res_180434 = x_180431 || y_180433;
                                            
                                            cond_f_res_180411 = defunc_0_leq_res_180434;
                                        } else {
                                            cond_f_res_180411 = 0;
                                        }
                                        cond_180409 = cond_f_res_180411;
                                    }
                                    
                                    int64_t loopres_180435;
                                    int8_t loopres_180436;
                                    int64_t loopres_180437;
                                    int32_t loopres_180438;
                                    
                                    if (cond_180409) {
                                        bool x_180440 = sle64((int64_t) 0, i_180403);
                                        bool y_180441 = slt64(i_180403, stride_177163);
                                        bool bounds_check_180442 = x_180440 && y_180441;
                                        bool index_certs_180443;
                                        
                                        if (!bounds_check_180442) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180439 = add64((int64_t) 1, i_180403);
                                        int64_t slice_180444 = start_177237 + i_180403;
                                        int8_t tmp_180445 = ((int8_t *) mem_param_181303.mem)[slice_180444];
                                        int64_t tmp_180446 = ((int64_t *) mem_param_181306.mem)[slice_180444];
                                        int32_t tmp_180447 = ((int32_t *) mem_param_181309.mem)[slice_180444];
                                        
                                        loopres_180435 = tmp_180439;
                                        loopres_180436 = tmp_180445;
                                        loopres_180437 = tmp_180446;
                                        loopres_180438 = tmp_180447;
                                    } else {
                                        bool x_180448 = sle64((int64_t) 0, j_180407);
                                        bool y_180449 = slt64(j_180407, j_m_i_177186);
                                        bool bounds_check_180450 = x_180448 && y_180449;
                                        bool index_certs_180451;
                                        
                                        if (!bounds_check_180450) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180452 = stride_177163 + j_180407;
                                        int64_t slice_180453 = start_177237 + slice_180452;
                                        int8_t tmp_180454 = ((int8_t *) mem_param_181303.mem)[slice_180453];
                                        int64_t tmp_180455 = ((int64_t *) mem_param_181306.mem)[slice_180453];
                                        int32_t tmp_180456 = ((int32_t *) mem_param_181309.mem)[slice_180453];
                                        
                                        loopres_180435 = i_180403;
                                        loopres_180436 = tmp_180454;
                                        loopres_180437 = tmp_180455;
                                        loopres_180438 = tmp_180456;
                                    }
                                    ((int8_t *) mem_181412.mem)[k_180402] = loopres_180436;
                                    ((int64_t *) mem_181414.mem)[k_180402] = loopres_180437;
                                    ((int32_t *) mem_181416.mem)[k_180402] = loopres_180438;
                                    
                                    int64_t i_tmp_182718 = loopres_180435;
                                    
                                    i_180403 = i_tmp_182718;
                                }
                                data_180398 = i_180403;
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181412, "mem_181412") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181414, "mem_181414") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181416, "mem_181416") != 0)
                                    return 1;
                            } else {
                                if (mem_181331_cached_sizze_182994 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181331, &mem_181331_cached_sizze_182994, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181333_cached_sizze_182995 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181333, &mem_181333_cached_sizze_182995, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180914 = 0; i_180914 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185; i_180914++) {
                                    int64_t split_count_arg3_177338 = mul64(merge_block_sizze_177001, i_180914);
                                    int64_t defunc_0_split_count_res_177339;
                                    int64_t defunc_0_split_count_res_177340;
                                    int64_t defunc_0_split_count_res_177341;
                                    int64_t defunc_0_split_count_res_177342;
                                    int64_t defunc_0_split_count_res_177343;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_177339, &defunc_0_split_count_res_177340, &defunc_0_split_count_res_177341, &defunc_0_split_count_res_177342, &defunc_0_split_count_res_177343, (int64_t) 0, stride_177163, (int64_t) 0, j_m_i_177186, split_count_arg3_177338) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177344 = slt64((int64_t) 0, defunc_0_split_count_res_177343);
                                    bool defunc_0_split_count_res_177345;
                                    int64_t defunc_0_split_count_res_177346;
                                    int64_t defunc_0_split_count_res_177347;
                                    int64_t defunc_0_split_count_res_177348;
                                    int64_t defunc_0_split_count_res_177349;
                                    int64_t defunc_0_split_count_res_177350;
                                    bool loop_while_177351;
                                    int64_t ss_177352;
                                    int64_t ss_177353;
                                    int64_t tt_177354;
                                    int64_t tt_177355;
                                    int64_t count_177356;
                                    
                                    loop_while_177351 = loop_cond_177344;
                                    ss_177352 = defunc_0_split_count_res_177339;
                                    ss_177353 = defunc_0_split_count_res_177340;
                                    tt_177354 = defunc_0_split_count_res_177341;
                                    tt_177355 = defunc_0_split_count_res_177342;
                                    count_177356 = defunc_0_split_count_res_177343;
                                    while (loop_while_177351) {
                                        int64_t zlze_lhs_177357 = sub64(ss_177353, ss_177352);
                                        bool cond_177358 = sle64(zlze_lhs_177357, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177359;
                                        int64_t defunc_0_lifted_step_res_177360;
                                        int64_t defunc_0_lifted_step_res_177361;
                                        int64_t defunc_0_lifted_step_res_177362;
                                        
                                        if (cond_177358) {
                                            int64_t tmp_180460 = add64(tt_177354, count_177356);
                                            
                                            defunc_0_lifted_step_res_177359 = ss_177352;
                                            defunc_0_lifted_step_res_177360 = tmp_180460;
                                            defunc_0_lifted_step_res_177361 = tt_177355;
                                            defunc_0_lifted_step_res_177362 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177364 = sub64(tt_177355, tt_177354);
                                            bool cond_177365 = sle64(zlze_lhs_177364, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177366;
                                            int64_t defunc_0_lifted_step_res_f_res_177367;
                                            int64_t defunc_0_lifted_step_res_f_res_177368;
                                            int64_t defunc_0_lifted_step_res_f_res_177369;
                                            
                                            if (cond_177365) {
                                                int64_t tmp_180461 = add64(ss_177352, count_177356);
                                                
                                                defunc_0_lifted_step_res_f_res_177366 = tmp_180461;
                                                defunc_0_lifted_step_res_f_res_177367 = tt_177354;
                                                defunc_0_lifted_step_res_f_res_177368 = tt_177355;
                                                defunc_0_lifted_step_res_f_res_177369 = (int64_t) 0;
                                            } else {
                                                bool cond_177371 = count_177356 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177372;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177373;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177374;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177375;
                                                
                                                if (cond_177371) {
                                                    bool x_180463 = sle64((int64_t) 0, ss_177352);
                                                    bool y_180464 = slt64(ss_177352, stride_177163);
                                                    bool bounds_check_180465 = x_180463 && y_180464;
                                                    bool index_certs_180466;
                                                    
                                                    if (!bounds_check_180465) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177352, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180471 = sle64((int64_t) 0, tt_177354);
                                                    bool y_180472 = slt64(tt_177354, j_m_i_177186);
                                                    bool bounds_check_180473 = x_180471 && y_180472;
                                                    bool index_certs_180474;
                                                    
                                                    if (!bounds_check_180473) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177354, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180467 = start_177237 + ss_177352;
                                                    int8_t leq_arg1_180468 = ((int8_t *) mem_param_181303.mem)[slice_180467];
                                                    int64_t leq_arg1_180469 = ((int64_t *) mem_param_181306.mem)[slice_180467];
                                                    int32_t leq_arg1_180470 = ((int32_t *) mem_param_181309.mem)[slice_180467];
                                                    int64_t slice_180475 = stride_177163 + tt_177354;
                                                    int64_t slice_180476 = start_177237 + slice_180475;
                                                    int8_t leq_arg0_180477 = ((int8_t *) mem_param_181303.mem)[slice_180476];
                                                    int64_t leq_arg0_180478 = ((int64_t *) mem_param_181306.mem)[slice_180476];
                                                    int32_t leq_arg0_180479 = ((int32_t *) mem_param_181309.mem)[slice_180476];
                                                    bool cond_180480 = leq_arg0_180477 == leq_arg1_180468;
                                                    bool defunc_0_leq_res_t_res_180481 = sle64(leq_arg0_180478, leq_arg1_180469);
                                                    bool defunc_0_leq_res_180482 = sle32(leq_arg0_180479, leq_arg1_180470);
                                                    bool x_180483 = cond_180480 && defunc_0_leq_res_t_res_180481;
                                                    bool x_180484 = !cond_180480;
                                                    bool y_180485 = defunc_0_leq_res_180482 && x_180484;
                                                    bool defunc_0_leq_res_180486 = x_180483 || y_180485;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    
                                                    if (defunc_0_leq_res_180486) {
                                                        int64_t tmp_180489 = add64((int64_t) 1, tt_177354);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = ss_177352;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tmp_180489;
                                                    } else {
                                                        int64_t tmp_180490 = add64((int64_t) 1, ss_177352);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = tmp_180490;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tt_177354;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = tt_177355;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177404 = sdiv64(count_177356, (int64_t) 2);
                                                    int64_t n_177405 = sub64(count_177356, m_177404);
                                                    bool cond_177406 = n_177405 == (int64_t) 0;
                                                    int64_t zgze_lhs_177407 = add64(ss_177352, m_177404);
                                                    bool cond_f_res_177408 = sle64(ss_177353, zgze_lhs_177407);
                                                    bool x_177409 = !cond_177406;
                                                    bool y_177410 = cond_f_res_177408 && x_177409;
                                                    bool cond_177411 = cond_177406 || y_177410;
                                                    bool leq_y_x_177412;
                                                    
                                                    if (cond_177411) {
                                                        leq_y_x_177412 = 1;
                                                    } else {
                                                        bool x_177413 = sle64((int64_t) 0, zgze_lhs_177407);
                                                        bool y_177414 = slt64(zgze_lhs_177407, stride_177163);
                                                        bool bounds_check_177415 = x_177413 && y_177414;
                                                        bool index_certs_177416;
                                                        
                                                        if (!bounds_check_177415) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177407, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177421 = add64(tt_177354, n_177405);
                                                        int64_t leq_arg0_177422 = sub64(zm_lhs_177421, (int64_t) 1);
                                                        bool x_177423 = sle64((int64_t) 0, leq_arg0_177422);
                                                        bool y_177424 = slt64(leq_arg0_177422, j_m_i_177186);
                                                        bool bounds_check_177425 = x_177423 && y_177424;
                                                        bool index_certs_177426;
                                                        
                                                        if (!bounds_check_177425) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177422, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177417 = start_177237 + zgze_lhs_177407;
                                                        int8_t leq_arg1_177418 = ((int8_t *) mem_param_181303.mem)[slice_177417];
                                                        int64_t leq_arg1_177419 = ((int64_t *) mem_param_181306.mem)[slice_177417];
                                                        int32_t leq_arg1_177420 = ((int32_t *) mem_param_181309.mem)[slice_177417];
                                                        int64_t slice_177427 = stride_177163 + leq_arg0_177422;
                                                        int64_t slice_177428 = start_177237 + slice_177427;
                                                        int8_t leq_arg0_177429 = ((int8_t *) mem_param_181303.mem)[slice_177428];
                                                        int64_t leq_arg0_177430 = ((int64_t *) mem_param_181306.mem)[slice_177428];
                                                        int32_t leq_arg0_177431 = ((int32_t *) mem_param_181309.mem)[slice_177428];
                                                        bool cond_177432 = leq_arg0_177429 == leq_arg1_177418;
                                                        bool defunc_0_leq_res_t_res_177433 = sle64(leq_arg0_177430, leq_arg1_177419);
                                                        bool defunc_0_leq_res_177434 = sle32(leq_arg0_177431, leq_arg1_177420);
                                                        bool x_177435 = cond_177432 && defunc_0_leq_res_t_res_177433;
                                                        bool x_177436 = !cond_177432;
                                                        bool y_177437 = defunc_0_leq_res_177434 && x_177436;
                                                        bool defunc_0_leq_res_177438 = x_177435 || y_177437;
                                                        
                                                        leq_y_x_177412 = defunc_0_leq_res_177438;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                    
                                                    if (leq_y_x_177412) {
                                                        int64_t tmp_180491 = add64(tt_177354, n_177405);
                                                        int64_t tmp_180492 = sub64(count_177356, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tmp_180491;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tt_177355;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = tmp_180492;
                                                    } else {
                                                        int64_t tmp_177444 = add64(tt_177354, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tt_177354;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tmp_177444;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = count_177356;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = ss_177352;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                }
                                                defunc_0_lifted_step_res_f_res_177366 = defunc_0_lifted_step_res_f_res_f_res_177372;
                                                defunc_0_lifted_step_res_f_res_177367 = defunc_0_lifted_step_res_f_res_f_res_177373;
                                                defunc_0_lifted_step_res_f_res_177368 = defunc_0_lifted_step_res_f_res_f_res_177374;
                                                defunc_0_lifted_step_res_f_res_177369 = defunc_0_lifted_step_res_f_res_f_res_177375;
                                            }
                                            defunc_0_lifted_step_res_177359 = defunc_0_lifted_step_res_f_res_177366;
                                            defunc_0_lifted_step_res_177360 = defunc_0_lifted_step_res_f_res_177367;
                                            defunc_0_lifted_step_res_177361 = defunc_0_lifted_step_res_f_res_177368;
                                            defunc_0_lifted_step_res_177362 = defunc_0_lifted_step_res_f_res_177369;
                                        }
                                        
                                        int64_t loopres_177445;
                                        int64_t loopres_177446;
                                        int64_t loopres_177447;
                                        int64_t loopres_177448;
                                        int64_t loopres_177449;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_177445, &loopres_177446, &loopres_177447, &loopres_177448, &loopres_177449, defunc_0_lifted_step_res_177359, ss_177353, defunc_0_lifted_step_res_177360, defunc_0_lifted_step_res_177361, defunc_0_lifted_step_res_177362) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177450 = slt64((int64_t) 0, loopres_177449);
                                        bool loop_while_tmp_182724 = loop_cond_177450;
                                        int64_t ss_tmp_182725 = loopres_177445;
                                        int64_t ss_tmp_182726 = loopres_177446;
                                        int64_t tt_tmp_182727 = loopres_177447;
                                        int64_t tt_tmp_182728 = loopres_177448;
                                        int64_t count_tmp_182729 = loopres_177449;
                                        
                                        loop_while_177351 = loop_while_tmp_182724;
                                        ss_177352 = ss_tmp_182725;
                                        ss_177353 = ss_tmp_182726;
                                        tt_177354 = tt_tmp_182727;
                                        tt_177355 = tt_tmp_182728;
                                        count_177356 = count_tmp_182729;
                                    }
                                    defunc_0_split_count_res_177345 = loop_while_177351;
                                    defunc_0_split_count_res_177346 = ss_177352;
                                    defunc_0_split_count_res_177347 = ss_177353;
                                    defunc_0_split_count_res_177348 = tt_177354;
                                    defunc_0_split_count_res_177349 = tt_177355;
                                    defunc_0_split_count_res_177350 = count_177356;
                                    ((int64_t *) mem_181331)[i_180914] = defunc_0_split_count_res_177346;
                                    ((int64_t *) mem_181333)[i_180914] = defunc_0_split_count_res_177348;
                                }
                                if (mem_181347_cached_sizze_182996 < flat_dim_177187) {
                                    err = lexical_realloc(ctx, &mem_181347, &mem_181347_cached_sizze_182996, flat_dim_177187);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181350_cached_sizze_182997 < bytes_181349) {
                                    err = lexical_realloc(ctx, &mem_181350, &mem_181350_cached_sizze_182997, bytes_181349);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181353_cached_sizze_182998 < bytes_181352) {
                                    err = lexical_realloc(ctx, &mem_181353, &mem_181353_cached_sizze_182998, bytes_181352);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180923 = 0; i_180923 < num_blocks_177184; i_180923++) {
                                    bool y_177457 = slt64(i_180923, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool index_certs_177459;
                                    
                                    if (!y_177457) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177460 = ((int64_t *) mem_181331)[i_180923];
                                    int64_t defunc_0_f_res_177461 = ((int64_t *) mem_181333)[i_180923];
                                    int64_t tmp_177462 = add64((int64_t) 1, i_180923);
                                    bool x_177463 = sle64((int64_t) 0, tmp_177462);
                                    bool y_177464 = slt64(tmp_177462, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool bounds_check_177465 = x_177463 && y_177464;
                                    bool index_certs_177466;
                                    
                                    if (!bounds_check_177465) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177462, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177467 = ((int64_t *) mem_181331)[tmp_177462];
                                    int64_t defunc_0_f_res_177468 = ((int64_t *) mem_181333)[tmp_177462];
                                    int64_t merge_sequential_arg2_177469 = add64(stride_177163, defunc_0_f_res_177461);
                                    int64_t merge_sequential_arg2_177470 = add64(stride_177163, defunc_0_f_res_177468);
                                    int64_t j_m_i_177471 = sub64(merge_sequential_arg2_177470, merge_sequential_arg2_177469);
                                    bool empty_slice_177472 = j_m_i_177471 == (int64_t) 0;
                                    int64_t m_177473 = sub64(j_m_i_177471, (int64_t) 1);
                                    int64_t i_p_m_t_s_177474 = add64(merge_sequential_arg2_177469, m_177473);
                                    bool zzero_leq_i_p_m_t_s_177475 = sle64((int64_t) 0, i_p_m_t_s_177474);
                                    bool i_p_m_t_s_leq_w_177476 = slt64(i_p_m_t_s_177474, next_stride_177164);
                                    bool zzero_lte_i_177477 = sle64((int64_t) 0, merge_sequential_arg2_177469);
                                    bool i_lte_j_177478 = sle64(merge_sequential_arg2_177469, merge_sequential_arg2_177470);
                                    bool y_177479 = i_p_m_t_s_leq_w_177476 && zzero_lte_i_177477;
                                    bool y_177480 = zzero_leq_i_p_m_t_s_177475 && y_177479;
                                    bool forwards_ok_177481 = i_lte_j_177478 && y_177480;
                                    bool ok_or_empty_177482 = empty_slice_177472 || forwards_ok_177481;
                                    bool index_certs_177483;
                                    
                                    if (!ok_or_empty_177482) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177469, ":", (long long) merge_sequential_arg2_177470, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177484 = sub64(defunc_0_f_res_177467, defunc_0_f_res_177460);
                                    bool empty_slice_177485 = j_m_i_177484 == (int64_t) 0;
                                    int64_t m_177486 = sub64(j_m_i_177484, (int64_t) 1);
                                    int64_t i_p_m_t_s_177487 = add64(defunc_0_f_res_177460, m_177486);
                                    bool zzero_leq_i_p_m_t_s_177488 = sle64((int64_t) 0, i_p_m_t_s_177487);
                                    bool i_p_m_t_s_leq_w_177489 = slt64(i_p_m_t_s_177487, next_stride_177164);
                                    bool zzero_lte_i_177490 = sle64((int64_t) 0, defunc_0_f_res_177460);
                                    bool i_lte_j_177491 = sle64(defunc_0_f_res_177460, defunc_0_f_res_177467);
                                    bool y_177492 = i_p_m_t_s_leq_w_177489 && zzero_lte_i_177490;
                                    bool y_177493 = zzero_leq_i_p_m_t_s_177488 && y_177492;
                                    bool forwards_ok_177494 = i_lte_j_177491 && y_177493;
                                    bool ok_or_empty_177495 = empty_slice_177485 || forwards_ok_177494;
                                    bool index_certs_177496;
                                    
                                    if (!ok_or_empty_177495) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177460, ":", (long long) defunc_0_f_res_177467, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177497 = slt64((int64_t) 0, j_m_i_177484);
                                    int8_t dummy_177498;
                                    int64_t dummy_177499;
                                    int32_t dummy_177500;
                                    
                                    if (cond_177497) {
                                        bool index_certs_180493;
                                        
                                        if (!cond_177497) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180494 = start_177237 + defunc_0_f_res_177460;
                                        int8_t head_res_180495 = ((int8_t *) mem_param_181303.mem)[slice_180494];
                                        int64_t head_res_180496 = ((int64_t *) mem_param_181306.mem)[slice_180494];
                                        int32_t head_res_180497 = ((int32_t *) mem_param_181309.mem)[slice_180494];
                                        
                                        dummy_177498 = head_res_180495;
                                        dummy_177499 = head_res_180496;
                                        dummy_177500 = head_res_180497;
                                    } else {
                                        bool y_177506 = slt64((int64_t) 0, j_m_i_177471);
                                        bool index_certs_177507;
                                        
                                        if (!y_177506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177508 = start_177237 + merge_sequential_arg2_177469;
                                        int8_t head_res_177509 = ((int8_t *) mem_param_181303.mem)[slice_177508];
                                        int64_t head_res_177510 = ((int64_t *) mem_param_181306.mem)[slice_177508];
                                        int32_t head_res_177511 = ((int32_t *) mem_param_181309.mem)[slice_177508];
                                        
                                        dummy_177498 = head_res_177509;
                                        dummy_177499 = head_res_177510;
                                        dummy_177500 = head_res_177511;
                                    }
                                    for (int64_t nest_i_182733 = 0; nest_i_182733 < merge_block_sizze_177001; nest_i_182733++) {
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + nest_i_182733] = dummy_177498;
                                    }
                                    for (int64_t nest_i_182734 = 0; nest_i_182734 < merge_block_sizze_177001; nest_i_182734++) {
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + nest_i_182734] = dummy_177499;
                                    }
                                    for (int64_t nest_i_182735 = 0; nest_i_182735 < merge_block_sizze_177001; nest_i_182735++) {
                                        ((int32_t *) mem_181353)[i_180923 * merge_block_sizze_177001 + nest_i_182735] = dummy_177500;
                                    }
                                    
                                    int64_t data_177515;
                                    int64_t i_177520 = (int64_t) 0;
                                    
                                    for (int64_t k_177519 = 0; k_177519 < merge_block_sizze_177001; k_177519++) {
                                        int64_t j_177524 = sub64(k_177519, i_177520);
                                        bool cond_177525 = j_177524 == j_m_i_177471;
                                        bool cond_177526;
                                        
                                        if (cond_177525) {
                                            cond_177526 = 1;
                                        } else {
                                            bool cond_177527 = slt64(i_177520, j_m_i_177484);
                                            bool cond_f_res_177528;
                                            
                                            if (cond_177527) {
                                                bool x_180498 = sle64((int64_t) 0, j_177524);
                                                bool y_180499 = slt64(j_177524, j_m_i_177471);
                                                bool bounds_check_180500 = x_180498 && y_180499;
                                                bool index_certs_180501;
                                                
                                                if (!bounds_check_180500) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180507 = sle64((int64_t) 0, i_177520);
                                                bool bounds_check_180508 = cond_177527 && x_180507;
                                                bool index_certs_180509;
                                                
                                                if (!bounds_check_180508) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180502 = merge_sequential_arg2_177469 + j_177524;
                                                int64_t slice_180503 = start_177237 + slice_180502;
                                                int8_t leq_arg1_180504 = ((int8_t *) mem_param_181303.mem)[slice_180503];
                                                int64_t leq_arg1_180505 = ((int64_t *) mem_param_181306.mem)[slice_180503];
                                                int32_t leq_arg1_180506 = ((int32_t *) mem_param_181309.mem)[slice_180503];
                                                int64_t slice_180510 = defunc_0_f_res_177460 + i_177520;
                                                int64_t slice_180511 = start_177237 + slice_180510;
                                                int8_t leq_arg0_180512 = ((int8_t *) mem_param_181303.mem)[slice_180511];
                                                int64_t leq_arg0_180513 = ((int64_t *) mem_param_181306.mem)[slice_180511];
                                                int32_t leq_arg0_180514 = ((int32_t *) mem_param_181309.mem)[slice_180511];
                                                bool cond_180515 = leq_arg0_180512 == leq_arg1_180504;
                                                bool defunc_0_leq_res_t_res_180516 = sle64(leq_arg0_180513, leq_arg1_180505);
                                                bool defunc_0_leq_res_180517 = sle32(leq_arg0_180514, leq_arg1_180506);
                                                bool x_180518 = cond_180515 && defunc_0_leq_res_t_res_180516;
                                                bool x_180519 = !cond_180515;
                                                bool y_180520 = defunc_0_leq_res_180517 && x_180519;
                                                bool defunc_0_leq_res_180521 = x_180518 || y_180520;
                                                
                                                cond_f_res_177528 = defunc_0_leq_res_180521;
                                            } else {
                                                cond_f_res_177528 = 0;
                                            }
                                            cond_177526 = cond_f_res_177528;
                                        }
                                        
                                        int64_t loopres_177553;
                                        int8_t loopres_177554;
                                        int64_t loopres_177555;
                                        int32_t loopres_177556;
                                        
                                        if (cond_177526) {
                                            bool x_180523 = sle64((int64_t) 0, i_177520);
                                            bool y_180524 = slt64(i_177520, j_m_i_177484);
                                            bool bounds_check_180525 = x_180523 && y_180524;
                                            bool index_certs_180526;
                                            
                                            if (!bounds_check_180525) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180522 = add64((int64_t) 1, i_177520);
                                            int64_t slice_180527 = defunc_0_f_res_177460 + i_177520;
                                            int64_t slice_180528 = start_177237 + slice_180527;
                                            int8_t tmp_180529 = ((int8_t *) mem_param_181303.mem)[slice_180528];
                                            int64_t tmp_180530 = ((int64_t *) mem_param_181306.mem)[slice_180528];
                                            int32_t tmp_180531 = ((int32_t *) mem_param_181309.mem)[slice_180528];
                                            
                                            loopres_177553 = tmp_180522;
                                            loopres_177554 = tmp_180529;
                                            loopres_177555 = tmp_180530;
                                            loopres_177556 = tmp_180531;
                                        } else {
                                            bool x_177567 = sle64((int64_t) 0, j_177524);
                                            bool y_177568 = slt64(j_177524, j_m_i_177471);
                                            bool bounds_check_177569 = x_177567 && y_177568;
                                            bool index_certs_177570;
                                            
                                            if (!bounds_check_177569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177571 = merge_sequential_arg2_177469 + j_177524;
                                            int64_t slice_177572 = start_177237 + slice_177571;
                                            int8_t tmp_177573 = ((int8_t *) mem_param_181303.mem)[slice_177572];
                                            int64_t tmp_177574 = ((int64_t *) mem_param_181306.mem)[slice_177572];
                                            int32_t tmp_177575 = ((int32_t *) mem_param_181309.mem)[slice_177572];
                                            
                                            loopres_177553 = i_177520;
                                            loopres_177554 = tmp_177573;
                                            loopres_177555 = tmp_177574;
                                            loopres_177556 = tmp_177575;
                                        }
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177554;
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177555;
                                        ((int32_t *) mem_181353)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177556;
                                        
                                        int64_t i_tmp_182736 = loopres_177553;
                                        
                                        i_177520 = i_tmp_182736;
                                    }
                                    data_177515 = i_177520;
                                }
                                if (memblock_alloc(ctx, &mem_181402, flat_dim_177187, "mem_181402")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181402.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint8_t *) mem_181347, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181406, bytes_181349, "mem_181406")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181406.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint64_t *) mem_181350, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181410, bytes_181352, "mem_181410")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181410.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint32_t *) mem_181353, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181402, "mem_181402") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181406, "mem_181406") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181410, "mem_181410") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181311, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181443.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181314, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181440.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181317, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181437.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181457, bytes_181310, "mem_181457")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181457.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint8_t *) mem_181311, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181461, bytes_181313, "mem_181461")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181461.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint64_t *) mem_181314, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181465, bytes_181316, "mem_181465")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181465.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint32_t *) mem_181317, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        
                        bool loop_cond_177589 = slt64(next_stride_177164, flat_dim_176996);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182703, &mem_181457, "mem_181457") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182704, &mem_181461, "mem_181461") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182705, &mem_181465, "mem_181465") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182706 = bytes_181310;
                        bool loop_while_tmp_182707 = loop_cond_177589;
                        int64_t stride_tmp_182711 = next_stride_177164;
                        
                        if (memblock_set(ctx, &mem_param_181303, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181306, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181309, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177158 = loop_dz2084Uz2082U_tmp_182706;
                        loop_while_177159 = loop_while_tmp_182707;
                        stride_177163 = stride_tmp_182711;
                    }
                    if (memblock_set(ctx, &ext_mem_181475, &mem_param_181303, "mem_param_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181474, &mem_param_181306, "mem_param_181306") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181473, &mem_param_181309, "mem_param_181309") != 0)
                        return 1;
                    data_177152 = loop_dz2084Uz2082U_177158;
                    data_177153 = loop_while_177159;
                    data_177157 = stride_177163;
                    if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
                        return 1;
                    
                    bool empty_slice_177590 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177591 = sle64((int64_t) 0, zs_lhs_176980);
                    bool i_p_m_t_s_leq_w_177592 = slt64(zs_lhs_176980, data_177152);
                    bool y_177593 = zzero_leq_i_p_m_t_s_177591 && i_p_m_t_s_leq_w_177592;
                    bool ok_or_empty_177594 = empty_slice_177590 || y_177593;
                    bool index_certs_177595;
                    
                    if (!ok_or_empty_177594) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] out of bounds for array of shape [", (long long) data_177152, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181484, &ext_mem_181475, "ext_mem_181475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &ext_mem_181474, "ext_mem_181474") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &ext_mem_181473, "ext_mem_181473") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181165.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181484.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181167.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181481.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181169.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181478.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
                    return 1;
                
                bool loop_cond_177631 = slt64(ubs_176923, threads_131811);
                bool loop_while_tmp_182670 = loop_cond_177631;
                int64_t p_tmp_182671 = ubs_176923;
                
                loop_while_176912 = loop_while_tmp_182670;
                p_176913 = p_tmp_182671;
            }
            defunc_0_mergeFunc_seq_res_176907 = loop_while_176912;
            defunc_0_mergeFunc_seq_res_176908 = p_176913;
            
            int64_t index_concat_branch_178448;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180546 = ((int64_t *) mem_181150)[index_concat_i_178445];
                
                index_concat_branch_178448 = index_concat_180546;
            } else {
                index_concat_branch_178448 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178442;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180547 = ((int64_t *) mem_181152)[index_concat_i_178445];
                
                index_concat_branch_178442 = index_concat_180547;
            } else {
                index_concat_branch_178442 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181165, "mem_181165") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181167, "mem_181167") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181169, "mem_181169") != 0)
                return 1;
            loopres_175671 = index_concat_branch_178448;
            loopres_175672 = index_concat_branch_178442;
        }
        for (int64_t i_180939 = 0; i_180939 < window_sizze_131810; i_180939++) {
            int8_t eta_p_177639 = ((int8_t *) ext_mem_181903.mem)[i_180939];
            int64_t eta_p_177640 = ((int64_t *) ext_mem_181900.mem)[i_180939];
            bool cond_177641 = eta_p_177639 == (int8_t) 0;
            int64_t tmp_177642;
            
            if (cond_177641) {
                int64_t tmp_t_res_180550 = add64(p_175643, eta_p_177640);
                
                tmp_177642 = tmp_t_res_180550;
            } else {
                int64_t tmp_f_res_177644 = add64(p_175644, eta_p_177640);
                
                tmp_177642 = tmp_f_res_177644;
            }
            ((int64_t *) mem_181137.mem)[ind_bottom_175647 + i_180939] = tmp_177642;
        }
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        
        int64_t next_lbs_177645 = add64(p_175643, loopres_175671);
        int64_t next_lbs_177646 = add64(p_175644, loopres_175672);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181903.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_131810});
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181139.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181897.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_131810});
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        
        bool cond_177660 = slt64(next_lbs_177645, zl_rhs_175626);
        bool loop_cond_t_res_177661 = slt64(next_lbs_177646, zl_rhs_175628);
        bool x_177662 = cond_177660 && loop_cond_t_res_177661;
        bool loop_while_tmp_182554 = x_177662;
        int64_t p_tmp_182558 = next_lbs_177645;
        int64_t p_tmp_182559 = next_lbs_177646;
        
        loop_while_175639 = loop_while_tmp_182554;
        p_175643 = p_tmp_182558;
        p_175644 = p_tmp_182559;
    }
    defunc_0_merge_pipeline_res_175633 = loop_while_175639;
    defunc_0_merge_pipeline_res_175637 = p_175643;
    defunc_0_merge_pipeline_res_175638 = p_175644;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 = sub64(nb_131809, defunc_0_merge_pipeline_res_175638);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 = sub64(na_131808, defunc_0_merge_pipeline_res_175637);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    bool empty_slice_177666 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 == (int64_t) 0;
    int64_t m_177667 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 1);
    int64_t i_p_m_t_s_177668 = add64(defunc_0_merge_pipeline_res_175637, m_177667);
    bool zzero_leq_i_p_m_t_s_177669 = sle64((int64_t) 0, i_p_m_t_s_177668);
    bool i_p_m_t_s_leq_w_177670 = slt64(i_p_m_t_s_177668, na_131808);
    bool zzero_lte_i_177671 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175637);
    bool i_lte_j_177672 = sle64(defunc_0_merge_pipeline_res_175637, na_131808);
    bool y_177673 = i_p_m_t_s_leq_w_177670 && zzero_lte_i_177671;
    bool y_177674 = zzero_leq_i_p_m_t_s_177669 && y_177673;
    bool forwards_ok_177675 = i_lte_j_177672 && y_177674;
    bool ok_or_empty_177676 = empty_slice_177666 || forwards_ok_177675;
    bool index_certs_177677;
    
    if (!ok_or_empty_177676) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175637, ":", (long long) na_131808, "] out of bounds for array of shape [", (long long) na_131808, "].", "-> #0  ftsort.fut:436:14-34\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177681 = slt64(na_131808, defunc_0_merge_pipeline_res_175637);
    bool valid_177682 = !bounds_invalid_upwards_177681;
    bool range_valid_c_177683;
    
    if (!valid_177682) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175637, "..<", (long long) na_131808, " is invalid.", "-> #0  ftsort.fut:440:9-25\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177687 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 == (int64_t) 0;
    int64_t m_177688 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, (int64_t) 1);
    int64_t i_p_m_t_s_177689 = add64(defunc_0_merge_pipeline_res_175638, m_177688);
    bool zzero_leq_i_p_m_t_s_177690 = sle64((int64_t) 0, i_p_m_t_s_177689);
    bool i_p_m_t_s_leq_w_177691 = slt64(i_p_m_t_s_177689, nb_131809);
    bool zzero_lte_i_177692 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175638);
    bool i_lte_j_177693 = sle64(defunc_0_merge_pipeline_res_175638, nb_131809);
    bool y_177694 = i_p_m_t_s_leq_w_177691 && zzero_lte_i_177692;
    bool y_177695 = zzero_leq_i_p_m_t_s_177690 && y_177694;
    bool forwards_ok_177696 = i_lte_j_177693 && y_177695;
    bool ok_or_empty_177697 = empty_slice_177687 || forwards_ok_177696;
    bool index_certs_177698;
    
    if (!ok_or_empty_177697) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175638, ":", (long long) nb_131809, "] out of bounds for array of shape [", (long long) nb_131809, "].", "-> #0  ftsort.fut:442:14-34\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177702 = slt64(nb_131809, defunc_0_merge_pipeline_res_175638);
    bool valid_177703 = !bounds_invalid_upwards_177702;
    bool range_valid_c_177704;
    
    if (!valid_177703) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175638, "..<", (long long) nb_131809, " is invalid.", "-> #0  ftsort.fut:446:9-25\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181928 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    int64_t bytes_181930 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool cond_177711 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zs_lhs_177712 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zp_rhs_177713 = sdiv_safe64(zs_lhs_177712, (int64_t) 20);
    int64_t min_num_blocks_177714 = add64((int64_t) 1, zp_rhs_177713);
    bool loop_cond_177715 = slt64((int64_t) 1, min_num_blocks_177714);
    bool smallest_pow_2_geq_than_res_177716;
    int64_t smallest_pow_2_geq_than_res_177717;
    bool loop_while_177718;
    int64_t x_177719;
    
    loop_while_177718 = loop_cond_177715;
    x_177719 = (int64_t) 1;
    while (loop_while_177718) {
        int64_t loopres_177720 = mul64((int64_t) 2, x_177719);
        bool loop_cond_177721 = slt64(loopres_177720, min_num_blocks_177714);
        bool loop_while_tmp_182741 = loop_cond_177721;
        int64_t x_tmp_182742 = loopres_177720;
        
        loop_while_177718 = loop_while_tmp_182741;
        x_177719 = x_tmp_182742;
    }
    smallest_pow_2_geq_than_res_177716 = loop_while_177718;
    smallest_pow_2_geq_than_res_177717 = x_177719;
    
    bool zzero_177722 = smallest_pow_2_geq_than_res_177717 == (int64_t) 0;
    bool nonzzero_177723 = !zzero_177722;
    bool protect_assert_disj_177724 = cond_177711 || nonzzero_177723;
    bool nonzzero_cert_177725;
    
    if (!protect_assert_disj_177724) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177726 = sdiv_safe64(zs_lhs_177712, smallest_pow_2_geq_than_res_177717);
    int64_t block_sizze_177727 = add64((int64_t) 1, zp_rhs_177726);
    bool y_177734 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool protect_assert_disj_182256 = cond_177711 || y_177734;
    bool index_certs_177735;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177761 = slt64(smallest_pow_2_geq_than_res_177717, (int64_t) 0);
    bool valid_177762 = !bounds_invalid_upwards_177761;
    bool protect_assert_disj_182266 = cond_177711 || valid_177762;
    bool range_valid_c_177763;
    
    if (!protect_assert_disj_182266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177717, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177765 = slt64(block_sizze_177727, (int64_t) 0);
    bool valid_177766 = !bounds_invalid_upwards_177765;
    bool protect_assert_disj_182268 = cond_177711 || valid_177766;
    bool range_valid_c_177767;
    
    if (!protect_assert_disj_182268) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177727, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177769 = sle64(block_sizze_177727, (int64_t) 1);
    int64_t tmp_177770 = sub64(block_sizze_177727, (int64_t) 2);
    bool bounds_invalid_upwards_177771 = slt64(tmp_177770, (int64_t) 0);
    bool valid_177773 = !bounds_invalid_upwards_177771;
    bool protect_assert_disj_177774 = cond_177769 || valid_177773;
    bool protect_assert_disj_182270 = cond_177711 || protect_assert_disj_177774;
    bool range_valid_c_177775;
    
    if (!protect_assert_disj_182270) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177770, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178336 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178338 = sle64((int64_t) 0, zs_lhs_177712);
    bool i_p_m_t_s_leq_w_178339 = slt64(zs_lhs_177712, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool y_178340 = zzero_leq_i_p_m_t_s_178338 && i_p_m_t_s_leq_w_178339;
    bool ok_or_empty_178341 = empty_slice_178336 || y_178340;
    bool index_certs_178342;
    
    if (!ok_or_empty_178341) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  ftsort.fut:455:78-101\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178343 = add64(defunc_0_merge_pipeline_res_175637, defunc_0_merge_pipeline_res_175638);
    int64_t j_m_i_178344 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, final_buffer_178343);
    bool empty_slice_178345 = j_m_i_178344 == (int64_t) 0;
    int64_t m_178346 = sub64(j_m_i_178344, (int64_t) 1);
    int64_t i_p_m_t_s_178347 = add64(final_buffer_178343, m_178346);
    bool zzero_leq_i_p_m_t_s_178348 = sle64((int64_t) 0, i_p_m_t_s_178347);
    bool i_p_m_t_s_leq_w_178349 = slt64(i_p_m_t_s_178347, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool zzero_lte_i_178350 = sle64((int64_t) 0, final_buffer_178343);
    bool i_lte_j_178351 = sle64(final_buffer_178343, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool y_178352 = i_p_m_t_s_leq_w_178349 && zzero_lte_i_178350;
    bool y_178353 = zzero_leq_i_p_m_t_s_178348 && y_178352;
    bool forwards_ok_178354 = i_lte_j_178351 && y_178353;
    bool ok_or_empty_178355 = empty_slice_178345 || forwards_ok_178354;
    bool index_certs_178356;
    
    if (!ok_or_empty_178355) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178343, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178357 = j_m_i_178344 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool empty_or_match_cert_178358;
    
    if (!dim_match_178357) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178344, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "]", " of value.", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:475:63-73\n   #2  ftsort.fut:468:1-475:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181927, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "mem_181927")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182743 = 0; nest_i_182743 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; nest_i_182743++) {
        ((int8_t *) mem_181927.mem)[nest_i_182743] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181929, bytes_181928, "mem_181929")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182744 = 0; i_182744 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; i_182744++) {
        int64_t x_182745 = defunc_0_merge_pipeline_res_175637 + i_182744 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[i_182744] = x_182745;
    }
    for (int64_t nest_i_182746 = 0; nest_i_182746 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; nest_i_182746++) {
        ((int8_t *) mem_181927.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + nest_i_182746] = (int8_t) 1;
    }
    for (int64_t i_182747 = 0; i_182747 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; i_182747++) {
        int64_t x_182748 = defunc_0_merge_pipeline_res_175638 + i_182747 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + i_182747] = x_182748;
    }
    
    int64_t tmp_offs_182749 = (int64_t) 0;
    
    if (!(tmp_offs_182749 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182749 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t tmp_offs_182750 = (int64_t) 0;
    
    if (!(tmp_offs_182750 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182750 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    if (memblock_alloc(ctx, &mem_181931, bytes_181930, "mem_181931")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182751 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181133.mem, defunc_0_merge_pipeline_res_175637, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181134.mem, defunc_0_merge_pipeline_res_175638, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t flat_dim_177728 = smallest_pow_2_geq_than_res_177717 * block_sizze_177727;
    bool x_182251 = !cond_177711;
    int64_t greatest_divisor_leq_than_arg1_177732 = mul64((int64_t) 2, block_sizze_177727);
    int64_t merge_block_sizze_177733;
    
    if (x_182251) {
        int64_t x_182253;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182253, (int64_t) 8, greatest_divisor_leq_than_arg1_177732) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177733 = x_182253;
    } else {
        merge_block_sizze_177733 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178408 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 0);
    int8_t index_concat_branch_178412 = btoi_bool_i8(index_concat_cmp_178408);
    int64_t index_concat_i_180552 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    int64_t index_primexp_180553 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180552);
    int64_t index_concat_branch_178406;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178406 = index_primexp_180553;
    } else {
        index_concat_branch_178406 = defunc_0_merge_pipeline_res_175637;
    }
    
    bool x_182247 = !index_concat_cmp_178408;
    bool protect_cond_conj_182257 = x_182247 && x_182251;
    int32_t index_concat_178399;
    
    if (protect_cond_conj_182257) {
        int32_t x_182249 = ((int32_t *) a_list_mem_181133.mem)[defunc_0_merge_pipeline_res_175637];
        
        index_concat_178399 = x_182249;
    } else {
        index_concat_178399 = 0;
    }
    
    bool protect_cond_conj_182258 = index_concat_cmp_178408 && x_182251;
    int32_t index_concat_180556;
    
    if (protect_cond_conj_182258) {
        int32_t x_182245 = ((int32_t *) b_list_mem_181134.mem)[index_primexp_180553];
        
        index_concat_180556 = x_182245;
    } else {
        index_concat_180556 = 0;
    }
    
    int32_t index_concat_branch_178400;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178400 = index_concat_180556;
    } else {
        index_concat_branch_178400 = index_concat_178399;
    }
    
    int8_t defunc_0_reduce_res_180787;
    int64_t defunc_0_reduce_res_180788;
    int32_t defunc_0_reduce_res_180789;
    
    if (x_182251) {
        int8_t x_182259;
        int64_t x_182260;
        int32_t x_182261;
        int8_t redout_180941;
        int64_t redout_180942;
        int32_t redout_180943;
        
        redout_180941 = index_concat_branch_178412;
        redout_180942 = index_concat_branch_178406;
        redout_180943 = index_concat_branch_178400;
        for (int64_t i_180944 = 0; i_180944 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665; i_180944++) {
            bool index_concat_cmp_181015 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, i_180944);
            int8_t index_concat_branch_181019 = btoi_bool_i8(index_concat_cmp_181015);
            int64_t index_concat_branch_181013;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181010 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t index_primexp_181103 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_181010);
                
                index_concat_branch_181013 = index_primexp_181103;
            } else {
                int64_t index_primexp_181105 = add64(defunc_0_merge_pipeline_res_175637, i_180944);
                
                index_concat_branch_181013 = index_primexp_181105;
            }
            
            int32_t index_concat_branch_181007;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181004 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t slice_181100 = defunc_0_merge_pipeline_res_175638 + index_concat_i_181004;
                int32_t index_concat_181005 = ((int32_t *) b_list_mem_181134.mem)[slice_181100];
                
                index_concat_branch_181007 = index_concat_181005;
            } else {
                int64_t slice_181101 = defunc_0_merge_pipeline_res_175637 + i_180944;
                int32_t index_concat_181006 = ((int32_t *) a_list_mem_181133.mem)[slice_181101];
                
                index_concat_branch_181007 = index_concat_181006;
            }
            
            bool eq_x_y_181118 = redout_180941 == (int8_t) 1;
            bool eq_x_zz_181119 = redout_180941 == (int8_t) 0;
            bool p_and_eq_x_y_181120 = index_concat_cmp_181015 && eq_x_y_181118;
            bool not_p_181121 = !index_concat_cmp_181015;
            bool p_and_eq_x_y_181122 = eq_x_zz_181119 && not_p_181121;
            bool cond_177751 = p_and_eq_x_y_181120 || p_and_eq_x_y_181122;
            bool defunc_0_leq_res_t_res_177752 = sle64(redout_180942, index_concat_branch_181013);
            bool defunc_0_leq_res_177753 = sle32(redout_180943, index_concat_branch_181007);
            bool x_177754 = cond_177751 && defunc_0_leq_res_t_res_177752;
            bool x_177755 = !cond_177751;
            bool y_177756 = defunc_0_leq_res_177753 && x_177755;
            bool defunc_0_leq_res_177757 = x_177754 || y_177756;
            int8_t defunc_0_op_res_177758;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177758 = index_concat_branch_181019;
            } else {
                defunc_0_op_res_177758 = redout_180941;
            }
            
            int64_t defunc_0_op_res_177759;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177759 = index_concat_branch_181013;
            } else {
                defunc_0_op_res_177759 = redout_180942;
            }
            
            int32_t defunc_0_op_res_177760;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177760 = index_concat_branch_181007;
            } else {
                defunc_0_op_res_177760 = redout_180943;
            }
            
            int8_t redout_tmp_182752 = defunc_0_op_res_177758;
            int64_t redout_tmp_182753 = defunc_0_op_res_177759;
            int32_t redout_tmp_182754 = defunc_0_op_res_177760;
            
            redout_180941 = redout_tmp_182752;
            redout_180942 = redout_tmp_182753;
            redout_180943 = redout_tmp_182754;
        }
        x_182259 = redout_180941;
        x_182260 = redout_180942;
        x_182261 = redout_180943;
        defunc_0_reduce_res_180787 = x_182259;
        defunc_0_reduce_res_180788 = x_182260;
        defunc_0_reduce_res_180789 = x_182261;
    } else {
        defunc_0_reduce_res_180787 = (int8_t) 0;
        defunc_0_reduce_res_180788 = (int64_t) 0;
        defunc_0_reduce_res_180789 = 0;
    }
    
    int64_t distance_177772 = add64((int64_t) 1, tmp_177770);
    int64_t binop_x_181934 = (int64_t) 8 * smallest_pow_2_geq_than_res_177717;
    int64_t bytes_181935 = block_sizze_177727 * binop_x_181934;
    int64_t binop_x_181937 = (int64_t) 4 * smallest_pow_2_geq_than_res_177717;
    int64_t bytes_181938 = block_sizze_177727 * binop_x_181937;
    int64_t bytes_181953 = (int64_t) 8 * block_sizze_177727;
    int64_t bytes_181955 = (int64_t) 4 * block_sizze_177727;
    bool loop_cond_177881 = slt64(block_sizze_177727, flat_dim_177728);
    bool zzero_177882 = merge_block_sizze_177733 == (int64_t) 0;
    bool nonzzero_177883 = !zzero_177882;
    
    if (cond_177711) {
        if (memblock_set(ctx, &ext_mem_182226, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &mem_181931, "mem_181931") != 0)
            return 1;
    } else {
        if (mem_181933_cached_sizze_183019 < flat_dim_177728) {
            err = lexical_realloc(ctx, &mem_181933, &mem_181933_cached_sizze_183019, flat_dim_177728);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181936_cached_sizze_183020 < bytes_181935) {
            err = lexical_realloc(ctx, &mem_181936, &mem_181936_cached_sizze_183020, bytes_181935);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181939_cached_sizze_183021 < bytes_181938) {
            err = lexical_realloc(ctx, &mem_181939, &mem_181939_cached_sizze_183021, bytes_181938);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181952_cached_sizze_183022 < block_sizze_177727) {
            err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_183022, block_sizze_177727);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181954_cached_sizze_183023 < bytes_181953) {
            err = lexical_realloc(ctx, &mem_181954, &mem_181954_cached_sizze_183023, bytes_181953);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181956_cached_sizze_183024 < bytes_181955) {
            err = lexical_realloc(ctx, &mem_181956, &mem_181956_cached_sizze_183024, bytes_181955);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180961 = 0; i_180961 < smallest_pow_2_geq_than_res_177717; i_180961++) {
            int64_t zp_lhs_177780 = mul64(block_sizze_177727, i_180961);
            
            for (int64_t i_180951 = 0; i_180951 < block_sizze_177727; i_180951++) {
                int64_t k_177785 = add64(zp_lhs_177780, i_180951);
                bool cond_177786 = slt64(k_177785, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
                int8_t lifted_lambda_res_177787;
                int64_t lifted_lambda_res_177788;
                int32_t lifted_lambda_res_177789;
                
                if (cond_177786) {
                    bool x_180562 = sle64((int64_t) 0, k_177785);
                    bool bounds_check_180563 = cond_177786 && x_180562;
                    bool index_certs_180564;
                    
                    if (!bounds_check_180563) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177785, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180565 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, k_177785);
                    int8_t index_concat_branch_180566 = btoi_bool_i8(index_concat_cmp_180565);
                    int64_t index_concat_branch_180567;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180568 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t index_primexp_180569 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180568);
                        
                        index_concat_branch_180567 = index_primexp_180569;
                    } else {
                        int64_t index_primexp_180570 = add64(defunc_0_merge_pipeline_res_175637, k_177785);
                        
                        index_concat_branch_180567 = index_primexp_180570;
                    }
                    
                    int32_t index_concat_branch_180571;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180572 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t slice_180573 = defunc_0_merge_pipeline_res_175638 + index_concat_i_180572;
                        int32_t index_concat_180574 = ((int32_t *) b_list_mem_181134.mem)[slice_180573];
                        
                        index_concat_branch_180571 = index_concat_180574;
                    } else {
                        int64_t slice_180575 = defunc_0_merge_pipeline_res_175637 + k_177785;
                        int32_t index_concat_180576 = ((int32_t *) a_list_mem_181133.mem)[slice_180575];
                        
                        index_concat_branch_180571 = index_concat_180576;
                    }
                    lifted_lambda_res_177787 = index_concat_branch_180566;
                    lifted_lambda_res_177788 = index_concat_branch_180567;
                    lifted_lambda_res_177789 = index_concat_branch_180571;
                } else {
                    lifted_lambda_res_177787 = defunc_0_reduce_res_180787;
                    lifted_lambda_res_177788 = defunc_0_reduce_res_180788;
                    lifted_lambda_res_177789 = defunc_0_reduce_res_180789;
                }
                ((int8_t *) mem_181952)[i_180951] = lifted_lambda_res_177787;
                ((int64_t *) mem_181954)[i_180951] = lifted_lambda_res_177788;
                ((int32_t *) mem_181956)[i_180951] = lifted_lambda_res_177789;
            }
            if (!cond_177769) {
                for (int64_t i_177802 = 0; i_177802 < distance_177772; i_177802++) {
                    int64_t gt_arg1_177806 = add64((int64_t) 1, i_177802);
                    bool x_177807 = sle64((int64_t) 0, gt_arg1_177806);
                    bool y_177808 = slt64(gt_arg1_177806, block_sizze_177727);
                    bool bounds_check_177809 = x_177807 && y_177808;
                    bool index_certs_177810;
                    
                    if (!bounds_check_177809) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177806, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177814 = slt64(i_177802, block_sizze_177727);
                    bool index_certs_177815;
                    
                    if (!y_177814) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177802, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177811 = ((int8_t *) mem_181952)[gt_arg1_177806];
                    int64_t gt_arg1_177812 = ((int64_t *) mem_181954)[gt_arg1_177806];
                    int32_t gt_arg1_177813 = ((int32_t *) mem_181956)[gt_arg1_177806];
                    int8_t gt_arg0_177816 = ((int8_t *) mem_181952)[i_177802];
                    int64_t gt_arg0_177817 = ((int64_t *) mem_181954)[i_177802];
                    int32_t gt_arg0_177818 = ((int32_t *) mem_181956)[i_177802];
                    bool cond_177819 = gt_arg0_177816 == gt_arg1_177811;
                    bool defunc_0_leq_res_t_res_177820 = sle64(gt_arg0_177817, gt_arg1_177812);
                    bool defunc_0_leq_res_177821 = sle32(gt_arg0_177818, gt_arg1_177813);
                    bool x_177822 = cond_177819 && defunc_0_leq_res_t_res_177820;
                    bool x_177823 = !cond_177819;
                    bool y_177824 = defunc_0_leq_res_177821 && x_177823;
                    bool defunc_0_leq_res_177825 = x_177822 || y_177824;
                    bool defunc_0_lifted_gt_res_177826 = !defunc_0_leq_res_177825;
                    bool s_177827;
                    int64_t s_177831;
                    bool loop_while_177832;
                    int64_t j_177836;
                    
                    loop_while_177832 = defunc_0_lifted_gt_res_177826;
                    j_177836 = i_177802;
                    while (loop_while_177832) {
                        bool x_177837 = sle64((int64_t) 0, j_177836);
                        bool y_177838 = slt64(j_177836, block_sizze_177727);
                        bool bounds_check_177839 = x_177837 && y_177838;
                        bool index_certs_177840;
                        
                        if (!bounds_check_177839) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177836, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177844 = add64((int64_t) 1, j_177836);
                        bool x_177845 = sle64((int64_t) 0, copy_arg0_177844);
                        bool y_177846 = slt64(copy_arg0_177844, block_sizze_177727);
                        bool bounds_check_177847 = x_177845 && y_177846;
                        bool index_certs_177848;
                        
                        if (!bounds_check_177847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177844, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177841 = ((int8_t *) mem_181952)[j_177836];
                        int64_t copy_arg0_177842 = ((int64_t *) mem_181954)[j_177836];
                        int32_t copy_arg0_177843 = ((int32_t *) mem_181956)[j_177836];
                        int8_t copy_arg0_177849 = ((int8_t *) mem_181952)[copy_arg0_177844];
                        int64_t copy_arg0_177850 = ((int64_t *) mem_181954)[copy_arg0_177844];
                        int32_t copy_arg0_177851 = ((int32_t *) mem_181956)[copy_arg0_177844];
                        
                        ((int8_t *) mem_181952)[j_177836] = copy_arg0_177849;
                        ((int64_t *) mem_181954)[j_177836] = copy_arg0_177850;
                        ((int32_t *) mem_181956)[j_177836] = copy_arg0_177851;
                        ((int8_t *) mem_181952)[copy_arg0_177844] = copy_arg0_177841;
                        ((int64_t *) mem_181954)[copy_arg0_177844] = copy_arg0_177842;
                        ((int32_t *) mem_181956)[copy_arg0_177844] = copy_arg0_177843;
                        
                        int64_t tmp_177858 = sub64(j_177836, (int64_t) 1);
                        bool cond_177859 = sle64((int64_t) 0, tmp_177858);
                        bool loop_cond_177860;
                        
                        if (cond_177859) {
                            bool y_180580 = slt64(tmp_177858, block_sizze_177727);
                            bool bounds_check_180581 = cond_177859 && y_180580;
                            bool index_certs_180582;
                            
                            if (!bounds_check_180581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177858, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180577 = ((int8_t *) mem_181952)[j_177836];
                            int64_t gt_arg1_180578 = ((int64_t *) mem_181954)[j_177836];
                            int32_t gt_arg1_180579 = ((int32_t *) mem_181956)[j_177836];
                            int8_t gt_arg0_180583 = ((int8_t *) mem_181952)[tmp_177858];
                            int64_t gt_arg0_180584 = ((int64_t *) mem_181954)[tmp_177858];
                            int32_t gt_arg0_180585 = ((int32_t *) mem_181956)[tmp_177858];
                            bool cond_180586 = gt_arg0_180583 == gt_arg1_180577;
                            bool defunc_0_leq_res_t_res_180587 = sle64(gt_arg0_180584, gt_arg1_180578);
                            bool defunc_0_leq_res_180588 = sle32(gt_arg0_180585, gt_arg1_180579);
                            bool x_180589 = cond_180586 && defunc_0_leq_res_t_res_180587;
                            bool x_180590 = !cond_180586;
                            bool y_180591 = defunc_0_leq_res_180588 && x_180590;
                            bool defunc_0_leq_res_180592 = x_180589 || y_180591;
                            bool defunc_0_lifted_gt_res_180593 = !defunc_0_leq_res_180592;
                            
                            loop_cond_177860 = defunc_0_lifted_gt_res_180593;
                        } else {
                            loop_cond_177860 = 0;
                        }
                        
                        bool loop_while_tmp_182764 = loop_cond_177860;
                        int64_t j_tmp_182768 = tmp_177858;
                        
                        loop_while_177832 = loop_while_tmp_182764;
                        j_177836 = j_tmp_182768;
                    }
                    s_177827 = loop_while_177832;
                    s_177831 = j_177836;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181933, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181936, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181954, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181939, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181956, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
        }
        if (memblock_alloc(ctx, &mem_182033, flat_dim_177728, "mem_182033")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_182033.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint8_t *) mem_181933, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182037, bytes_181935, "mem_182037")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_182037.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint64_t *) mem_181936, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182041, bytes_181938, "mem_182041")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_182041.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint32_t *) mem_181939, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        
        int64_t data_177884;
        bool data_177885;
        int64_t data_177889;
        int64_t loop_dz2084Uz2082U_177890;
        bool loop_while_177891;
        int64_t stride_177895;
        
        if (memblock_set(ctx, &mem_param_182045, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182048, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182051, &mem_182041, "mem_182041") != 0)
            return 1;
        loop_dz2084Uz2082U_177890 = flat_dim_177728;
        loop_while_177891 = loop_cond_177881;
        stride_177895 = block_sizze_177727;
        while (loop_while_177891) {
            int64_t next_stride_177896 = mul64((int64_t) 2, stride_177895);
            bool zzero_177897 = next_stride_177896 == (int64_t) 0;
            bool nonzzero_177898 = !zzero_177897;
            bool nonzzero_cert_177899;
            
            if (!nonzzero_177898) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:475:63-73\n   #4  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177900 = sdiv64(flat_dim_177728, next_stride_177896);
            bool bounds_invalid_upwards_177901 = slt64(num_merges_177900, (int64_t) 0);
            bool valid_177902 = !bounds_invalid_upwards_177901;
            bool range_valid_c_177903;
            
            if (!valid_177902) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177900, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177905 = sub64(next_stride_177896, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177906 = sle64((int64_t) 0, m_177905);
            bool cond_177908 = slt64(next_stride_177896, (int64_t) 10);
            bool protect_assert_disj_177909 = nonzzero_177883 || cond_177908;
            bool nonzzero_cert_177910;
            
            if (!protect_assert_disj_177909) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177911 = smod_safe64(next_stride_177896, merge_block_sizze_177733);
            bool num_blocks_177912 = zeze_lhs_177911 == (int64_t) 0;
            bool protect_assert_disj_177913 = cond_177908 || num_blocks_177912;
            bool assert_c_177914;
            
            if (!protect_assert_disj_177913) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177916 = sdiv_safe64(next_stride_177896, merge_block_sizze_177733);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917 = add64((int64_t) 1, num_blocks_177916);
            int64_t j_m_i_177918 = sub64(next_stride_177896, stride_177895);
            int64_t flat_dim_177919 = merge_block_sizze_177733 * num_blocks_177916;
            bool bounds_invalid_upwards_177920 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, (int64_t) 0);
            bool empty_slice_177921 = j_m_i_177918 == (int64_t) 0;
            int64_t m_177922 = sub64(j_m_i_177918, (int64_t) 1);
            bool zzero_lte_i_177923 = sle64((int64_t) 0, stride_177895);
            bool i_lte_j_177924 = sle64(stride_177895, next_stride_177896);
            bool empty_slice_177925 = stride_177895 == (int64_t) 0;
            int64_t m_177926 = sub64(stride_177895, (int64_t) 1);
            bool bounds_invalid_upwards_177927 = slt64(num_blocks_177916, (int64_t) 0);
            bool cond_177928 = slt64((int64_t) 0, stride_177895);
            bool valid_177929 = !bounds_invalid_upwards_177920;
            int64_t i_p_m_t_s_177930 = add64(stride_177895, m_177922);
            bool zzero_leq_i_p_m_t_s_177931 = sle64((int64_t) 0, m_177926);
            bool i_p_m_t_s_leq_w_177932 = slt64(m_177926, next_stride_177896);
            bool valid_177933 = !bounds_invalid_upwards_177927;
            bool i_p_m_t_s_leq_w_177934 = slt64(m_177905, flat_dim_177919);
            bool y_177935 = slt64((int64_t) 0, j_m_i_177918);
            bool protect_assert_disj_177936 = cond_177908 || valid_177929;
            bool range_valid_c_177937;
            
            if (!protect_assert_disj_177936) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177938 = sle64((int64_t) 0, i_p_m_t_s_177930);
            bool i_p_m_t_s_leq_w_177939 = slt64(i_p_m_t_s_177930, next_stride_177896);
            bool y_177940 = zzero_leq_i_p_m_t_s_177931 && i_p_m_t_s_leq_w_177932;
            bool protect_assert_disj_177941 = cond_177908 || valid_177933;
            bool range_valid_c_177942;
            
            if (!protect_assert_disj_177941) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177916, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177943 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177934;
            bool y_177944 = zzero_lte_i_177923 && i_p_m_t_s_leq_w_177939;
            bool forwards_ok_177945 = zzero_lte_i_177923 && y_177940;
            bool ok_or_empty_177946 = zzero_177897 || y_177943;
            bool protect_assert_disj_177947 = cond_177928 || y_177935;
            bool y_177948 = zzero_leq_i_p_m_t_s_177938 && y_177944;
            bool ok_or_empty_177949 = empty_slice_177925 || forwards_ok_177945;
            bool protect_assert_disj_177950 = cond_177908 || ok_or_empty_177946;
            bool index_certs_177951;
            
            if (!protect_assert_disj_177950) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) flat_dim_177919, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177952 = !cond_177908;
            bool protect_assert_disj_177953 = protect_assert_disj_177947 || loop_not_taken_177952;
            bool index_certs_177954;
            
            if (!protect_assert_disj_177953) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177955 = i_lte_j_177924 && y_177948;
            bool protect_assert_disj_177956 = cond_177908 || ok_or_empty_177949;
            bool index_certs_177957;
            
            if (!protect_assert_disj_177956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177958 = ok_or_empty_177949 || loop_not_taken_177952;
            bool index_certs_177959;
            
            if (!protect_assert_disj_177958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177960 = empty_slice_177921 || forwards_ok_177955;
            bool protect_assert_disj_177961 = cond_177908 || ok_or_empty_177960;
            bool index_certs_177962;
            
            if (!protect_assert_disj_177961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177963 = loop_not_taken_177952 || ok_or_empty_177960;
            bool index_certs_177964;
            
            if (!protect_assert_disj_177963) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_182052 = next_stride_177896 * num_merges_177900;
            int64_t binop_x_182054 = (int64_t) 8 * num_merges_177900;
            int64_t bytes_182055 = next_stride_177896 * binop_x_182054;
            int64_t binop_x_182057 = (int64_t) 4 * num_merges_177900;
            int64_t bytes_182058 = next_stride_177896 * binop_x_182057;
            bool i_lte_j_177907 = sle64((int64_t) 0, next_stride_177896);
            
            if (mem_182053_cached_sizze_183025 < bytes_182052) {
                err = lexical_realloc(ctx, &mem_182053, &mem_182053_cached_sizze_183025, bytes_182052);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182056_cached_sizze_183026 < bytes_182055) {
                err = lexical_realloc(ctx, &mem_182056, &mem_182056_cached_sizze_183026, bytes_182055);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182059_cached_sizze_183027 < bytes_182058) {
                err = lexical_realloc(ctx, &mem_182059, &mem_182059_cached_sizze_183027, bytes_182058);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_182072 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917;
            int64_t binop_x_182090 = (int64_t) 8 * num_blocks_177916;
            int64_t bytes_182091 = merge_block_sizze_177733 * binop_x_182090;
            int64_t binop_x_182093 = (int64_t) 4 * num_blocks_177916;
            int64_t bytes_182094 = merge_block_sizze_177733 * binop_x_182093;
            int64_t bytes_182155 = (int64_t) 16 * stride_177895;
            int64_t bytes_182157 = (int64_t) 8 * stride_177895;
            
            for (int64_t i_180988 = 0; i_180988 < num_merges_177900; i_180988++) {
                int64_t start_177969 = mul64(next_stride_177896, i_180988);
                int64_t j_m_i_177970 = sub64(loop_dz2084Uz2082U_177890, start_177969);
                bool empty_slice_177971 = j_m_i_177970 == (int64_t) 0;
                int64_t m_177972 = sub64(j_m_i_177970, (int64_t) 1);
                int64_t i_p_m_t_s_177973 = add64(start_177969, m_177972);
                bool zzero_leq_i_p_m_t_s_177974 = sle64((int64_t) 0, i_p_m_t_s_177973);
                bool i_p_m_t_s_leq_w_177975 = slt64(i_p_m_t_s_177973, loop_dz2084Uz2082U_177890);
                bool zzero_lte_i_177976 = sle64((int64_t) 0, start_177969);
                bool i_lte_j_177977 = sle64(start_177969, loop_dz2084Uz2082U_177890);
                bool y_177978 = i_p_m_t_s_leq_w_177975 && zzero_lte_i_177976;
                bool y_177979 = zzero_leq_i_p_m_t_s_177974 && y_177978;
                bool forwards_ok_177980 = i_lte_j_177977 && y_177979;
                bool ok_or_empty_177981 = empty_slice_177971 || forwards_ok_177980;
                bool index_certs_177982;
                
                if (!ok_or_empty_177981) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177969, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177890, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177983 = slt64(m_177905, j_m_i_177970);
                bool y_177984 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177983;
                bool forwards_ok_177985 = i_lte_j_177907 && y_177984;
                bool ok_or_empty_177986 = zzero_177897 || forwards_ok_177985;
                bool index_certs_177987;
                
                if (!ok_or_empty_177986) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) j_m_i_177970, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:475:63-73\n   #7  ftsort.fut:468:1-475:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177908) {
                    int8_t dummy_180632;
                    int64_t dummy_180633;
                    int32_t dummy_180634;
                    
                    if (cond_177928) {
                        int8_t head_res_180635 = ((int8_t *) mem_param_182045.mem)[start_177969];
                        int64_t head_res_180636 = ((int64_t *) mem_param_182048.mem)[start_177969];
                        int32_t head_res_180637 = ((int32_t *) mem_param_182051.mem)[start_177969];
                        
                        dummy_180632 = head_res_180635;
                        dummy_180633 = head_res_180636;
                        dummy_180634 = head_res_180637;
                    } else {
                        int64_t slice_180638 = stride_177895 + start_177969;
                        int8_t head_res_180639 = ((int8_t *) mem_param_182045.mem)[slice_180638];
                        int64_t head_res_180640 = ((int64_t *) mem_param_182048.mem)[slice_180638];
                        int32_t head_res_180641 = ((int32_t *) mem_param_182051.mem)[slice_180638];
                        
                        dummy_180632 = head_res_180639;
                        dummy_180633 = head_res_180640;
                        dummy_180634 = head_res_180641;
                    }
                    if (memblock_alloc(ctx, &mem_182154, next_stride_177896, "mem_182154")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182781 = 0; nest_i_182781 < next_stride_177896; nest_i_182781++) {
                        ((int8_t *) mem_182154.mem)[nest_i_182781] = dummy_180632;
                    }
                    if (memblock_alloc(ctx, &mem_182156, bytes_182155, "mem_182156")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182782 = 0; nest_i_182782 < next_stride_177896; nest_i_182782++) {
                        ((int64_t *) mem_182156.mem)[nest_i_182782] = dummy_180633;
                    }
                    if (memblock_alloc(ctx, &mem_182158, bytes_182157, "mem_182158")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182783 = 0; nest_i_182783 < next_stride_177896; nest_i_182783++) {
                        ((int32_t *) mem_182158.mem)[nest_i_182783] = dummy_180634;
                    }
                    
                    int64_t data_180645;
                    int64_t i_180650 = (int64_t) 0;
                    
                    for (int64_t k_180649 = 0; k_180649 < next_stride_177896; k_180649++) {
                        int64_t j_180654 = sub64(k_180649, i_180650);
                        bool cond_180655 = j_180654 == j_m_i_177918;
                        bool cond_180656;
                        
                        if (cond_180655) {
                            cond_180656 = 1;
                        } else {
                            bool cond_180657 = slt64(i_180650, stride_177895);
                            bool cond_f_res_180658;
                            
                            if (cond_180657) {
                                bool x_180659 = sle64((int64_t) 0, j_180654);
                                bool y_180660 = slt64(j_180654, j_m_i_177918);
                                bool bounds_check_180661 = x_180659 && y_180660;
                                bool index_certs_180662;
                                
                                if (!bounds_check_180661) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180668 = sle64((int64_t) 0, i_180650);
                                bool bounds_check_180669 = cond_180657 && x_180668;
                                bool index_certs_180670;
                                
                                if (!bounds_check_180669) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180663 = stride_177895 + j_180654;
                                int64_t slice_180664 = start_177969 + slice_180663;
                                int8_t leq_arg1_180665 = ((int8_t *) mem_param_182045.mem)[slice_180664];
                                int64_t leq_arg1_180666 = ((int64_t *) mem_param_182048.mem)[slice_180664];
                                int32_t leq_arg1_180667 = ((int32_t *) mem_param_182051.mem)[slice_180664];
                                int64_t slice_180671 = start_177969 + i_180650;
                                int8_t leq_arg0_180672 = ((int8_t *) mem_param_182045.mem)[slice_180671];
                                int64_t leq_arg0_180673 = ((int64_t *) mem_param_182048.mem)[slice_180671];
                                int32_t leq_arg0_180674 = ((int32_t *) mem_param_182051.mem)[slice_180671];
                                bool cond_180675 = leq_arg0_180672 == leq_arg1_180665;
                                bool defunc_0_leq_res_t_res_180676 = sle64(leq_arg0_180673, leq_arg1_180666);
                                bool defunc_0_leq_res_180677 = sle32(leq_arg0_180674, leq_arg1_180667);
                                bool x_180678 = cond_180675 && defunc_0_leq_res_t_res_180676;
                                bool x_180679 = !cond_180675;
                                bool y_180680 = defunc_0_leq_res_180677 && x_180679;
                                bool defunc_0_leq_res_180681 = x_180678 || y_180680;
                                
                                cond_f_res_180658 = defunc_0_leq_res_180681;
                            } else {
                                cond_f_res_180658 = 0;
                            }
                            cond_180656 = cond_f_res_180658;
                        }
                        
                        int64_t loopres_180682;
                        int8_t loopres_180683;
                        int64_t loopres_180684;
                        int32_t loopres_180685;
                        
                        if (cond_180656) {
                            bool x_180687 = sle64((int64_t) 0, i_180650);
                            bool y_180688 = slt64(i_180650, stride_177895);
                            bool bounds_check_180689 = x_180687 && y_180688;
                            bool index_certs_180690;
                            
                            if (!bounds_check_180689) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180686 = add64((int64_t) 1, i_180650);
                            int64_t slice_180691 = start_177969 + i_180650;
                            int8_t tmp_180692 = ((int8_t *) mem_param_182045.mem)[slice_180691];
                            int64_t tmp_180693 = ((int64_t *) mem_param_182048.mem)[slice_180691];
                            int32_t tmp_180694 = ((int32_t *) mem_param_182051.mem)[slice_180691];
                            
                            loopres_180682 = tmp_180686;
                            loopres_180683 = tmp_180692;
                            loopres_180684 = tmp_180693;
                            loopres_180685 = tmp_180694;
                        } else {
                            bool x_180695 = sle64((int64_t) 0, j_180654);
                            bool y_180696 = slt64(j_180654, j_m_i_177918);
                            bool bounds_check_180697 = x_180695 && y_180696;
                            bool index_certs_180698;
                            
                            if (!bounds_check_180697) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:475:63-73\n   #8  ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180699 = stride_177895 + j_180654;
                            int64_t slice_180700 = start_177969 + slice_180699;
                            int8_t tmp_180701 = ((int8_t *) mem_param_182045.mem)[slice_180700];
                            int64_t tmp_180702 = ((int64_t *) mem_param_182048.mem)[slice_180700];
                            int32_t tmp_180703 = ((int32_t *) mem_param_182051.mem)[slice_180700];
                            
                            loopres_180682 = i_180650;
                            loopres_180683 = tmp_180701;
                            loopres_180684 = tmp_180702;
                            loopres_180685 = tmp_180703;
                        }
                        ((int8_t *) mem_182154.mem)[k_180649] = loopres_180683;
                        ((int64_t *) mem_182156.mem)[k_180649] = loopres_180684;
                        ((int32_t *) mem_182158.mem)[k_180649] = loopres_180685;
                        
                        int64_t i_tmp_182784 = loopres_180682;
                        
                        i_180650 = i_tmp_182784;
                    }
                    data_180645 = i_180650;
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182154, "mem_182154") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182156, "mem_182156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182158, "mem_182158") != 0)
                        return 1;
                } else {
                    if (mem_182073_cached_sizze_183028 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182073, &mem_182073_cached_sizze_183028, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182075_cached_sizze_183029 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182075, &mem_182075_cached_sizze_183029, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180969 = 0; i_180969 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917; i_180969++) {
                        int64_t split_count_arg3_178070 = mul64(merge_block_sizze_177733, i_180969);
                        int64_t defunc_0_split_count_res_178071;
                        int64_t defunc_0_split_count_res_178072;
                        int64_t defunc_0_split_count_res_178073;
                        int64_t defunc_0_split_count_res_178074;
                        int64_t defunc_0_split_count_res_178075;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_178071, &defunc_0_split_count_res_178072, &defunc_0_split_count_res_178073, &defunc_0_split_count_res_178074, &defunc_0_split_count_res_178075, (int64_t) 0, stride_177895, (int64_t) 0, j_m_i_177918, split_count_arg3_178070) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_178076 = slt64((int64_t) 0, defunc_0_split_count_res_178075);
                        bool defunc_0_split_count_res_178077;
                        int64_t defunc_0_split_count_res_178078;
                        int64_t defunc_0_split_count_res_178079;
                        int64_t defunc_0_split_count_res_178080;
                        int64_t defunc_0_split_count_res_178081;
                        int64_t defunc_0_split_count_res_178082;
                        bool loop_while_178083;
                        int64_t ss_178084;
                        int64_t ss_178085;
                        int64_t tt_178086;
                        int64_t tt_178087;
                        int64_t count_178088;
                        
                        loop_while_178083 = loop_cond_178076;
                        ss_178084 = defunc_0_split_count_res_178071;
                        ss_178085 = defunc_0_split_count_res_178072;
                        tt_178086 = defunc_0_split_count_res_178073;
                        tt_178087 = defunc_0_split_count_res_178074;
                        count_178088 = defunc_0_split_count_res_178075;
                        while (loop_while_178083) {
                            int64_t zlze_lhs_178089 = sub64(ss_178085, ss_178084);
                            bool cond_178090 = sle64(zlze_lhs_178089, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178091;
                            int64_t defunc_0_lifted_step_res_178092;
                            int64_t defunc_0_lifted_step_res_178093;
                            int64_t defunc_0_lifted_step_res_178094;
                            
                            if (cond_178090) {
                                int64_t tmp_180707 = add64(tt_178086, count_178088);
                                
                                defunc_0_lifted_step_res_178091 = ss_178084;
                                defunc_0_lifted_step_res_178092 = tmp_180707;
                                defunc_0_lifted_step_res_178093 = tt_178087;
                                defunc_0_lifted_step_res_178094 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178096 = sub64(tt_178087, tt_178086);
                                bool cond_178097 = sle64(zlze_lhs_178096, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178098;
                                int64_t defunc_0_lifted_step_res_f_res_178099;
                                int64_t defunc_0_lifted_step_res_f_res_178100;
                                int64_t defunc_0_lifted_step_res_f_res_178101;
                                
                                if (cond_178097) {
                                    int64_t tmp_180708 = add64(ss_178084, count_178088);
                                    
                                    defunc_0_lifted_step_res_f_res_178098 = tmp_180708;
                                    defunc_0_lifted_step_res_f_res_178099 = tt_178086;
                                    defunc_0_lifted_step_res_f_res_178100 = tt_178087;
                                    defunc_0_lifted_step_res_f_res_178101 = (int64_t) 0;
                                } else {
                                    bool cond_178103 = count_178088 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178104;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178107;
                                    
                                    if (cond_178103) {
                                        bool x_180710 = sle64((int64_t) 0, ss_178084);
                                        bool y_180711 = slt64(ss_178084, stride_177895);
                                        bool bounds_check_180712 = x_180710 && y_180711;
                                        bool index_certs_180713;
                                        
                                        if (!bounds_check_180712) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178084, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180718 = sle64((int64_t) 0, tt_178086);
                                        bool y_180719 = slt64(tt_178086, j_m_i_177918);
                                        bool bounds_check_180720 = x_180718 && y_180719;
                                        bool index_certs_180721;
                                        
                                        if (!bounds_check_180720) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178086, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180714 = start_177969 + ss_178084;
                                        int8_t leq_arg1_180715 = ((int8_t *) mem_param_182045.mem)[slice_180714];
                                        int64_t leq_arg1_180716 = ((int64_t *) mem_param_182048.mem)[slice_180714];
                                        int32_t leq_arg1_180717 = ((int32_t *) mem_param_182051.mem)[slice_180714];
                                        int64_t slice_180722 = stride_177895 + tt_178086;
                                        int64_t slice_180723 = start_177969 + slice_180722;
                                        int8_t leq_arg0_180724 = ((int8_t *) mem_param_182045.mem)[slice_180723];
                                        int64_t leq_arg0_180725 = ((int64_t *) mem_param_182048.mem)[slice_180723];
                                        int32_t leq_arg0_180726 = ((int32_t *) mem_param_182051.mem)[slice_180723];
                                        bool cond_180727 = leq_arg0_180724 == leq_arg1_180715;
                                        bool defunc_0_leq_res_t_res_180728 = sle64(leq_arg0_180725, leq_arg1_180716);
                                        bool defunc_0_leq_res_180729 = sle32(leq_arg0_180726, leq_arg1_180717);
                                        bool x_180730 = cond_180727 && defunc_0_leq_res_t_res_180728;
                                        bool x_180731 = !cond_180727;
                                        bool y_180732 = defunc_0_leq_res_180729 && x_180731;
                                        bool defunc_0_leq_res_180733 = x_180730 || y_180732;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        
                                        if (defunc_0_leq_res_180733) {
                                            int64_t tmp_180736 = add64((int64_t) 1, tt_178086);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = ss_178084;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tmp_180736;
                                        } else {
                                            int64_t tmp_180737 = add64((int64_t) 1, ss_178084);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = tmp_180737;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tt_178086;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = tt_178087;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = (int64_t) 0;
                                    } else {
                                        int64_t m_178136 = sdiv64(count_178088, (int64_t) 2);
                                        int64_t n_178137 = sub64(count_178088, m_178136);
                                        bool cond_178138 = n_178137 == (int64_t) 0;
                                        int64_t zgze_lhs_178139 = add64(ss_178084, m_178136);
                                        bool cond_f_res_178140 = sle64(ss_178085, zgze_lhs_178139);
                                        bool x_178141 = !cond_178138;
                                        bool y_178142 = cond_f_res_178140 && x_178141;
                                        bool cond_178143 = cond_178138 || y_178142;
                                        bool leq_y_x_178144;
                                        
                                        if (cond_178143) {
                                            leq_y_x_178144 = 1;
                                        } else {
                                            bool x_178145 = sle64((int64_t) 0, zgze_lhs_178139);
                                            bool y_178146 = slt64(zgze_lhs_178139, stride_177895);
                                            bool bounds_check_178147 = x_178145 && y_178146;
                                            bool index_certs_178148;
                                            
                                            if (!bounds_check_178147) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178139, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178153 = add64(tt_178086, n_178137);
                                            int64_t leq_arg0_178154 = sub64(zm_lhs_178153, (int64_t) 1);
                                            bool x_178155 = sle64((int64_t) 0, leq_arg0_178154);
                                            bool y_178156 = slt64(leq_arg0_178154, j_m_i_177918);
                                            bool bounds_check_178157 = x_178155 && y_178156;
                                            bool index_certs_178158;
                                            
                                            if (!bounds_check_178157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178154, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:475:63-73\n   #12 ftsort.fut:468:1-475:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178149 = start_177969 + zgze_lhs_178139;
                                            int8_t leq_arg1_178150 = ((int8_t *) mem_param_182045.mem)[slice_178149];
                                            int64_t leq_arg1_178151 = ((int64_t *) mem_param_182048.mem)[slice_178149];
                                            int32_t leq_arg1_178152 = ((int32_t *) mem_param_182051.mem)[slice_178149];
                                            int64_t slice_178159 = stride_177895 + leq_arg0_178154;
                                            int64_t slice_178160 = start_177969 + slice_178159;
                                            int8_t leq_arg0_178161 = ((int8_t *) mem_param_182045.mem)[slice_178160];
                                            int64_t leq_arg0_178162 = ((int64_t *) mem_param_182048.mem)[slice_178160];
                                            int32_t leq_arg0_178163 = ((int32_t *) mem_param_182051.mem)[slice_178160];
                                            bool cond_178164 = leq_arg0_178161 == leq_arg1_178150;
                                            bool defunc_0_leq_res_t_res_178165 = sle64(leq_arg0_178162, leq_arg1_178151);
                                            bool defunc_0_leq_res_178166 = sle32(leq_arg0_178163, leq_arg1_178152);
                                            bool x_178167 = cond_178164 && defunc_0_leq_res_t_res_178165;
                                            bool x_178168 = !cond_178164;
                                            bool y_178169 = defunc_0_leq_res_178166 && x_178168;
                                            bool defunc_0_leq_res_178170 = x_178167 || y_178169;
                                            
                                            leq_y_x_178144 = defunc_0_leq_res_178170;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                        
                                        if (leq_y_x_178144) {
                                            int64_t tmp_180738 = add64(tt_178086, n_178137);
                                            int64_t tmp_180739 = sub64(count_178088, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tmp_180738;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tt_178087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = tmp_180739;
                                        } else {
                                            int64_t tmp_178176 = add64(tt_178086, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tt_178086;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tmp_178176;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = count_178088;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = ss_178084;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                    }
                                    defunc_0_lifted_step_res_f_res_178098 = defunc_0_lifted_step_res_f_res_f_res_178104;
                                    defunc_0_lifted_step_res_f_res_178099 = defunc_0_lifted_step_res_f_res_f_res_178105;
                                    defunc_0_lifted_step_res_f_res_178100 = defunc_0_lifted_step_res_f_res_f_res_178106;
                                    defunc_0_lifted_step_res_f_res_178101 = defunc_0_lifted_step_res_f_res_f_res_178107;
                                }
                                defunc_0_lifted_step_res_178091 = defunc_0_lifted_step_res_f_res_178098;
                                defunc_0_lifted_step_res_178092 = defunc_0_lifted_step_res_f_res_178099;
                                defunc_0_lifted_step_res_178093 = defunc_0_lifted_step_res_f_res_178100;
                                defunc_0_lifted_step_res_178094 = defunc_0_lifted_step_res_f_res_178101;
                            }
                            
                            int64_t loopres_178177;
                            int64_t loopres_178178;
                            int64_t loopres_178179;
                            int64_t loopres_178180;
                            int64_t loopres_178181;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_178177, &loopres_178178, &loopres_178179, &loopres_178180, &loopres_178181, defunc_0_lifted_step_res_178091, ss_178085, defunc_0_lifted_step_res_178092, defunc_0_lifted_step_res_178093, defunc_0_lifted_step_res_178094) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178182 = slt64((int64_t) 0, loopres_178181);
                            bool loop_while_tmp_182790 = loop_cond_178182;
                            int64_t ss_tmp_182791 = loopres_178177;
                            int64_t ss_tmp_182792 = loopres_178178;
                            int64_t tt_tmp_182793 = loopres_178179;
                            int64_t tt_tmp_182794 = loopres_178180;
                            int64_t count_tmp_182795 = loopres_178181;
                            
                            loop_while_178083 = loop_while_tmp_182790;
                            ss_178084 = ss_tmp_182791;
                            ss_178085 = ss_tmp_182792;
                            tt_178086 = tt_tmp_182793;
                            tt_178087 = tt_tmp_182794;
                            count_178088 = count_tmp_182795;
                        }
                        defunc_0_split_count_res_178077 = loop_while_178083;
                        defunc_0_split_count_res_178078 = ss_178084;
                        defunc_0_split_count_res_178079 = ss_178085;
                        defunc_0_split_count_res_178080 = tt_178086;
                        defunc_0_split_count_res_178081 = tt_178087;
                        defunc_0_split_count_res_178082 = count_178088;
                        ((int64_t *) mem_182073)[i_180969] = defunc_0_split_count_res_178078;
                        ((int64_t *) mem_182075)[i_180969] = defunc_0_split_count_res_178080;
                    }
                    if (mem_182089_cached_sizze_183030 < flat_dim_177919) {
                        err = lexical_realloc(ctx, &mem_182089, &mem_182089_cached_sizze_183030, flat_dim_177919);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182092_cached_sizze_183031 < bytes_182091) {
                        err = lexical_realloc(ctx, &mem_182092, &mem_182092_cached_sizze_183031, bytes_182091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182095_cached_sizze_183032 < bytes_182094) {
                        err = lexical_realloc(ctx, &mem_182095, &mem_182095_cached_sizze_183032, bytes_182094);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180978 = 0; i_180978 < num_blocks_177916; i_180978++) {
                        bool y_178189 = slt64(i_180978, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool index_certs_178191;
                        
                        if (!y_178189) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180978, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178192 = ((int64_t *) mem_182073)[i_180978];
                        int64_t defunc_0_f_res_178193 = ((int64_t *) mem_182075)[i_180978];
                        int64_t tmp_178194 = add64((int64_t) 1, i_180978);
                        bool x_178195 = sle64((int64_t) 0, tmp_178194);
                        bool y_178196 = slt64(tmp_178194, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool bounds_check_178197 = x_178195 && y_178196;
                        bool index_certs_178198;
                        
                        if (!bounds_check_178197) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178194, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178199 = ((int64_t *) mem_182073)[tmp_178194];
                        int64_t defunc_0_f_res_178200 = ((int64_t *) mem_182075)[tmp_178194];
                        int64_t merge_sequential_arg2_178201 = add64(stride_177895, defunc_0_f_res_178193);
                        int64_t merge_sequential_arg2_178202 = add64(stride_177895, defunc_0_f_res_178200);
                        int64_t j_m_i_178203 = sub64(merge_sequential_arg2_178202, merge_sequential_arg2_178201);
                        bool empty_slice_178204 = j_m_i_178203 == (int64_t) 0;
                        int64_t m_178205 = sub64(j_m_i_178203, (int64_t) 1);
                        int64_t i_p_m_t_s_178206 = add64(merge_sequential_arg2_178201, m_178205);
                        bool zzero_leq_i_p_m_t_s_178207 = sle64((int64_t) 0, i_p_m_t_s_178206);
                        bool i_p_m_t_s_leq_w_178208 = slt64(i_p_m_t_s_178206, next_stride_177896);
                        bool zzero_lte_i_178209 = sle64((int64_t) 0, merge_sequential_arg2_178201);
                        bool i_lte_j_178210 = sle64(merge_sequential_arg2_178201, merge_sequential_arg2_178202);
                        bool y_178211 = i_p_m_t_s_leq_w_178208 && zzero_lte_i_178209;
                        bool y_178212 = zzero_leq_i_p_m_t_s_178207 && y_178211;
                        bool forwards_ok_178213 = i_lte_j_178210 && y_178212;
                        bool ok_or_empty_178214 = empty_slice_178204 || forwards_ok_178213;
                        bool index_certs_178215;
                        
                        if (!ok_or_empty_178214) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178201, ":", (long long) merge_sequential_arg2_178202, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178216 = sub64(defunc_0_f_res_178199, defunc_0_f_res_178192);
                        bool empty_slice_178217 = j_m_i_178216 == (int64_t) 0;
                        int64_t m_178218 = sub64(j_m_i_178216, (int64_t) 1);
                        int64_t i_p_m_t_s_178219 = add64(defunc_0_f_res_178192, m_178218);
                        bool zzero_leq_i_p_m_t_s_178220 = sle64((int64_t) 0, i_p_m_t_s_178219);
                        bool i_p_m_t_s_leq_w_178221 = slt64(i_p_m_t_s_178219, next_stride_177896);
                        bool zzero_lte_i_178222 = sle64((int64_t) 0, defunc_0_f_res_178192);
                        bool i_lte_j_178223 = sle64(defunc_0_f_res_178192, defunc_0_f_res_178199);
                        bool y_178224 = i_p_m_t_s_leq_w_178221 && zzero_lte_i_178222;
                        bool y_178225 = zzero_leq_i_p_m_t_s_178220 && y_178224;
                        bool forwards_ok_178226 = i_lte_j_178223 && y_178225;
                        bool ok_or_empty_178227 = empty_slice_178217 || forwards_ok_178226;
                        bool index_certs_178228;
                        
                        if (!ok_or_empty_178227) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178192, ":", (long long) defunc_0_f_res_178199, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:475:63-73\n   #9  ftsort.fut:468:1-475:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178229 = slt64((int64_t) 0, j_m_i_178216);
                        int8_t dummy_178230;
                        int64_t dummy_178231;
                        int32_t dummy_178232;
                        
                        if (cond_178229) {
                            bool index_certs_180740;
                            
                            if (!cond_178229) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180741 = start_177969 + defunc_0_f_res_178192;
                            int8_t head_res_180742 = ((int8_t *) mem_param_182045.mem)[slice_180741];
                            int64_t head_res_180743 = ((int64_t *) mem_param_182048.mem)[slice_180741];
                            int32_t head_res_180744 = ((int32_t *) mem_param_182051.mem)[slice_180741];
                            
                            dummy_178230 = head_res_180742;
                            dummy_178231 = head_res_180743;
                            dummy_178232 = head_res_180744;
                        } else {
                            bool y_178238 = slt64((int64_t) 0, j_m_i_178203);
                            bool index_certs_178239;
                            
                            if (!y_178238) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:475:63-73\n   #11 ftsort.fut:468:1-475:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178240 = start_177969 + merge_sequential_arg2_178201;
                            int8_t head_res_178241 = ((int8_t *) mem_param_182045.mem)[slice_178240];
                            int64_t head_res_178242 = ((int64_t *) mem_param_182048.mem)[slice_178240];
                            int32_t head_res_178243 = ((int32_t *) mem_param_182051.mem)[slice_178240];
                            
                            dummy_178230 = head_res_178241;
                            dummy_178231 = head_res_178242;
                            dummy_178232 = head_res_178243;
                        }
                        for (int64_t nest_i_182799 = 0; nest_i_182799 < merge_block_sizze_177733; nest_i_182799++) {
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + nest_i_182799] = dummy_178230;
                        }
                        for (int64_t nest_i_182800 = 0; nest_i_182800 < merge_block_sizze_177733; nest_i_182800++) {
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + nest_i_182800] = dummy_178231;
                        }
                        for (int64_t nest_i_182801 = 0; nest_i_182801 < merge_block_sizze_177733; nest_i_182801++) {
                            ((int32_t *) mem_182095)[i_180978 * merge_block_sizze_177733 + nest_i_182801] = dummy_178232;
                        }
                        
                        int64_t data_178247;
                        int64_t i_178252 = (int64_t) 0;
                        
                        for (int64_t k_178251 = 0; k_178251 < merge_block_sizze_177733; k_178251++) {
                            int64_t j_178256 = sub64(k_178251, i_178252);
                            bool cond_178257 = j_178256 == j_m_i_178203;
                            bool cond_178258;
                            
                            if (cond_178257) {
                                cond_178258 = 1;
                            } else {
                                bool cond_178259 = slt64(i_178252, j_m_i_178216);
                                bool cond_f_res_178260;
                                
                                if (cond_178259) {
                                    bool x_180745 = sle64((int64_t) 0, j_178256);
                                    bool y_180746 = slt64(j_178256, j_m_i_178203);
                                    bool bounds_check_180747 = x_180745 && y_180746;
                                    bool index_certs_180748;
                                    
                                    if (!bounds_check_180747) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180754 = sle64((int64_t) 0, i_178252);
                                    bool bounds_check_180755 = cond_178259 && x_180754;
                                    bool index_certs_180756;
                                    
                                    if (!bounds_check_180755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180749 = merge_sequential_arg2_178201 + j_178256;
                                    int64_t slice_180750 = start_177969 + slice_180749;
                                    int8_t leq_arg1_180751 = ((int8_t *) mem_param_182045.mem)[slice_180750];
                                    int64_t leq_arg1_180752 = ((int64_t *) mem_param_182048.mem)[slice_180750];
                                    int32_t leq_arg1_180753 = ((int32_t *) mem_param_182051.mem)[slice_180750];
                                    int64_t slice_180757 = defunc_0_f_res_178192 + i_178252;
                                    int64_t slice_180758 = start_177969 + slice_180757;
                                    int8_t leq_arg0_180759 = ((int8_t *) mem_param_182045.mem)[slice_180758];
                                    int64_t leq_arg0_180760 = ((int64_t *) mem_param_182048.mem)[slice_180758];
                                    int32_t leq_arg0_180761 = ((int32_t *) mem_param_182051.mem)[slice_180758];
                                    bool cond_180762 = leq_arg0_180759 == leq_arg1_180751;
                                    bool defunc_0_leq_res_t_res_180763 = sle64(leq_arg0_180760, leq_arg1_180752);
                                    bool defunc_0_leq_res_180764 = sle32(leq_arg0_180761, leq_arg1_180753);
                                    bool x_180765 = cond_180762 && defunc_0_leq_res_t_res_180763;
                                    bool x_180766 = !cond_180762;
                                    bool y_180767 = defunc_0_leq_res_180764 && x_180766;
                                    bool defunc_0_leq_res_180768 = x_180765 || y_180767;
                                    
                                    cond_f_res_178260 = defunc_0_leq_res_180768;
                                } else {
                                    cond_f_res_178260 = 0;
                                }
                                cond_178258 = cond_f_res_178260;
                            }
                            
                            int64_t loopres_178285;
                            int8_t loopres_178286;
                            int64_t loopres_178287;
                            int32_t loopres_178288;
                            
                            if (cond_178258) {
                                bool x_180770 = sle64((int64_t) 0, i_178252);
                                bool y_180771 = slt64(i_178252, j_m_i_178216);
                                bool bounds_check_180772 = x_180770 && y_180771;
                                bool index_certs_180773;
                                
                                if (!bounds_check_180772) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180769 = add64((int64_t) 1, i_178252);
                                int64_t slice_180774 = defunc_0_f_res_178192 + i_178252;
                                int64_t slice_180775 = start_177969 + slice_180774;
                                int8_t tmp_180776 = ((int8_t *) mem_param_182045.mem)[slice_180775];
                                int64_t tmp_180777 = ((int64_t *) mem_param_182048.mem)[slice_180775];
                                int32_t tmp_180778 = ((int32_t *) mem_param_182051.mem)[slice_180775];
                                
                                loopres_178285 = tmp_180769;
                                loopres_178286 = tmp_180776;
                                loopres_178287 = tmp_180777;
                                loopres_178288 = tmp_180778;
                            } else {
                                bool x_178299 = sle64((int64_t) 0, j_178256);
                                bool y_178300 = slt64(j_178256, j_m_i_178203);
                                bool bounds_check_178301 = x_178299 && y_178300;
                                bool index_certs_178302;
                                
                                if (!bounds_check_178301) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:475:63-73\n   #10 ftsort.fut:468:1-475:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178303 = merge_sequential_arg2_178201 + j_178256;
                                int64_t slice_178304 = start_177969 + slice_178303;
                                int8_t tmp_178305 = ((int8_t *) mem_param_182045.mem)[slice_178304];
                                int64_t tmp_178306 = ((int64_t *) mem_param_182048.mem)[slice_178304];
                                int32_t tmp_178307 = ((int32_t *) mem_param_182051.mem)[slice_178304];
                                
                                loopres_178285 = i_178252;
                                loopres_178286 = tmp_178305;
                                loopres_178287 = tmp_178306;
                                loopres_178288 = tmp_178307;
                            }
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178286;
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178287;
                            ((int32_t *) mem_182095)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178288;
                            
                            int64_t i_tmp_182802 = loopres_178285;
                            
                            i_178252 = i_tmp_182802;
                        }
                        data_178247 = i_178252;
                    }
                    if (memblock_alloc(ctx, &mem_182144, flat_dim_177919, "mem_182144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182144.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint8_t *) mem_182089, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182148, bytes_182091, "mem_182148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182148.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint64_t *) mem_182092, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182152, bytes_182094, "mem_182152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_182152.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint32_t *) mem_182095, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182144, "mem_182144") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182148, "mem_182148") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182152, "mem_182152") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_182053, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_182056, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182182.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_182059, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182179.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182199, bytes_182052, "mem_182199")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182199.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint8_t *) mem_182053, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182203, bytes_182055, "mem_182203")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182203.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint64_t *) mem_182056, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182207, bytes_182058, "mem_182207")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_182207.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint32_t *) mem_182059, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            
            bool loop_cond_178321 = slt64(next_stride_177896, flat_dim_177728);
            
            if (memblock_set(ctx, &mem_param_tmp_182769, &mem_182199, "mem_182199") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182770, &mem_182203, "mem_182203") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182771, &mem_182207, "mem_182207") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182772 = bytes_182052;
            bool loop_while_tmp_182773 = loop_cond_178321;
            int64_t stride_tmp_182777 = next_stride_177896;
            
            if (memblock_set(ctx, &mem_param_182045, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182048, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182051, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
                return 1;
            loop_dz2084Uz2082U_177890 = loop_dz2084Uz2082U_tmp_182772;
            loop_while_177891 = loop_while_tmp_182773;
            stride_177895 = stride_tmp_182777;
        }
        if (memblock_set(ctx, &ext_mem_182217, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182216, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182215, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        data_177884 = loop_dz2084Uz2082U_177890;
        data_177885 = loop_while_177891;
        data_177889 = stride_177895;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178324 = slt64(zs_lhs_177712, data_177884);
        bool y_178325 = i_p_m_t_s_leq_w_178324 && zzero_leq_i_p_m_t_s_178338;
        bool ok_or_empty_178326 = y_178325 || empty_slice_178336;
        bool index_certs_178327;
        
        if (!ok_or_empty_178326) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) data_177884, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:475:63-73\n   #5  ftsort.fut:468:1-475:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182226, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182226.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182223.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181139.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182220.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181137, "mem_181137") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182549, &mem_181139, "mem_181139") != 0)
        return 1;
    prim_out_182550 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    if (memblock_set(ctx, &*mem_out_p_182979, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182980, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182981, &mem_out_182549, "mem_out_182549") != 0)
        return 1;
    *out_prim_out_182982 = prim_out_182550;
    
  cleanup:
    {
        free(mem_181150);
        free(mem_181152);
        free(mem_181191);
        free(mem_181194);
        free(mem_181197);
        free(mem_181210);
        free(mem_181212);
        free(mem_181214);
        free(mem_181311);
        free(mem_181314);
        free(mem_181317);
        free(mem_181331);
        free(mem_181333);
        free(mem_181347);
        free(mem_181350);
        free(mem_181353);
        free(mem_181495);
        free(mem_181497);
        free(mem_181512);
        free(mem_181514);
        free(mem_181517);
        free(mem_181520);
        free(mem_181554);
        free(mem_181557);
        free(mem_181560);
        free(mem_181573);
        free(mem_181575);
        free(mem_181577);
        free(mem_181674);
        free(mem_181677);
        free(mem_181680);
        free(mem_181694);
        free(mem_181696);
        free(mem_181710);
        free(mem_181713);
        free(mem_181716);
        free(mem_181933);
        free(mem_181936);
        free(mem_181939);
        free(mem_181952);
        free(mem_181954);
        free(mem_181956);
        free(mem_182053);
        free(mem_182056);
        free(mem_182059);
        free(mem_182073);
        free(mem_182075);
        free(mem_182089);
        free(mem_182092);
        free(mem_182095);
        if (memblock_unref(ctx, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182207, "mem_182207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182203, "mem_182203") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182199, "mem_182199") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182152, "mem_182152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182148, "mem_182148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182144, "mem_182144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182158, "mem_182158") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182156, "mem_182156") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182154, "mem_182154") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181465, "mem_181465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181461, "mem_181461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181457, "mem_181457") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181410, "mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181406, "mem_181406") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181402, "mem_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181416, "mem_181416") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181414, "mem_181414") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181412, "mem_181412") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181309, "mem_param_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181306, "mem_param_181306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181303, "mem_param_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181473, "ext_mem_181473") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181474, "ext_mem_181474") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181475, "ext_mem_181475") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181169, "mem_181169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181167, "mem_181167") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181165, "mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181876, "mem_181876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181875, "mem_181875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181873, "mem_181873") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181824, "mem_181824") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181820, "mem_181820") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181773, "mem_181773") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181769, "mem_181769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181765, "mem_181765") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181779, "mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181777, "mem_181777") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181672, "mem_param_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181669, "mem_param_181669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181666, "mem_param_181666") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181836, "ext_mem_181836") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181837, "ext_mem_181837") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181838, "ext_mem_181838") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181139, "mem_181139") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181137, "mem_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182549, "mem_out_182549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_183033, struct memblock *mem_out_p_183034, struct memblock *mem_out_p_183035, int64_t *out_prim_out_183036, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_142331, int64_t nb_142332, int64_t window_sizze_142333, int64_t threads_142334, bool inParallel_142337)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181150_cached_sizze_183037 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_183038 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181191_cached_sizze_183039 = 0;
    unsigned char *mem_181191 = NULL;
    int64_t mem_181194_cached_sizze_183040 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181197_cached_sizze_183041 = 0;
    unsigned char *mem_181197 = NULL;
    int64_t mem_181210_cached_sizze_183042 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181212_cached_sizze_183043 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181214_cached_sizze_183044 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181311_cached_sizze_183045 = 0;
    unsigned char *mem_181311 = NULL;
    int64_t mem_181314_cached_sizze_183046 = 0;
    unsigned char *mem_181314 = NULL;
    int64_t mem_181317_cached_sizze_183047 = 0;
    unsigned char *mem_181317 = NULL;
    int64_t mem_181331_cached_sizze_183048 = 0;
    unsigned char *mem_181331 = NULL;
    int64_t mem_181333_cached_sizze_183049 = 0;
    unsigned char *mem_181333 = NULL;
    int64_t mem_181347_cached_sizze_183050 = 0;
    unsigned char *mem_181347 = NULL;
    int64_t mem_181350_cached_sizze_183051 = 0;
    unsigned char *mem_181350 = NULL;
    int64_t mem_181353_cached_sizze_183052 = 0;
    unsigned char *mem_181353 = NULL;
    int64_t mem_181495_cached_sizze_183053 = 0;
    unsigned char *mem_181495 = NULL;
    int64_t mem_181497_cached_sizze_183054 = 0;
    unsigned char *mem_181497 = NULL;
    int64_t mem_181512_cached_sizze_183055 = 0;
    unsigned char *mem_181512 = NULL;
    int64_t mem_181514_cached_sizze_183056 = 0;
    unsigned char *mem_181514 = NULL;
    int64_t mem_181517_cached_sizze_183057 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181520_cached_sizze_183058 = 0;
    unsigned char *mem_181520 = NULL;
    int64_t mem_181554_cached_sizze_183059 = 0;
    unsigned char *mem_181554 = NULL;
    int64_t mem_181557_cached_sizze_183060 = 0;
    unsigned char *mem_181557 = NULL;
    int64_t mem_181560_cached_sizze_183061 = 0;
    unsigned char *mem_181560 = NULL;
    int64_t mem_181573_cached_sizze_183062 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181575_cached_sizze_183063 = 0;
    unsigned char *mem_181575 = NULL;
    int64_t mem_181577_cached_sizze_183064 = 0;
    unsigned char *mem_181577 = NULL;
    int64_t mem_181674_cached_sizze_183065 = 0;
    unsigned char *mem_181674 = NULL;
    int64_t mem_181677_cached_sizze_183066 = 0;
    unsigned char *mem_181677 = NULL;
    int64_t mem_181680_cached_sizze_183067 = 0;
    unsigned char *mem_181680 = NULL;
    int64_t mem_181694_cached_sizze_183068 = 0;
    unsigned char *mem_181694 = NULL;
    int64_t mem_181696_cached_sizze_183069 = 0;
    unsigned char *mem_181696 = NULL;
    int64_t mem_181710_cached_sizze_183070 = 0;
    unsigned char *mem_181710 = NULL;
    int64_t mem_181713_cached_sizze_183071 = 0;
    unsigned char *mem_181713 = NULL;
    int64_t mem_181716_cached_sizze_183072 = 0;
    unsigned char *mem_181716 = NULL;
    int64_t mem_181933_cached_sizze_183073 = 0;
    unsigned char *mem_181933 = NULL;
    int64_t mem_181936_cached_sizze_183074 = 0;
    unsigned char *mem_181936 = NULL;
    int64_t mem_181939_cached_sizze_183075 = 0;
    unsigned char *mem_181939 = NULL;
    int64_t mem_181952_cached_sizze_183076 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181954_cached_sizze_183077 = 0;
    unsigned char *mem_181954 = NULL;
    int64_t mem_181956_cached_sizze_183078 = 0;
    unsigned char *mem_181956 = NULL;
    int64_t mem_182053_cached_sizze_183079 = 0;
    unsigned char *mem_182053 = NULL;
    int64_t mem_182056_cached_sizze_183080 = 0;
    unsigned char *mem_182056 = NULL;
    int64_t mem_182059_cached_sizze_183081 = 0;
    unsigned char *mem_182059 = NULL;
    int64_t mem_182073_cached_sizze_183082 = 0;
    unsigned char *mem_182073 = NULL;
    int64_t mem_182075_cached_sizze_183083 = 0;
    unsigned char *mem_182075 = NULL;
    int64_t mem_182089_cached_sizze_183084 = 0;
    unsigned char *mem_182089 = NULL;
    int64_t mem_182092_cached_sizze_183085 = 0;
    unsigned char *mem_182092 = NULL;
    int64_t mem_182095_cached_sizze_183086 = 0;
    unsigned char *mem_182095 = NULL;
    struct memblock mem_param_tmp_182771;
    
    mem_param_tmp_182771.references = NULL;
    
    struct memblock mem_param_tmp_182770;
    
    mem_param_tmp_182770.references = NULL;
    
    struct memblock mem_param_tmp_182769;
    
    mem_param_tmp_182769.references = NULL;
    
    struct memblock mem_182207;
    
    mem_182207.references = NULL;
    
    struct memblock mem_182203;
    
    mem_182203.references = NULL;
    
    struct memblock mem_182199;
    
    mem_182199.references = NULL;
    
    struct memblock mem_182152;
    
    mem_182152.references = NULL;
    
    struct memblock mem_182148;
    
    mem_182148.references = NULL;
    
    struct memblock mem_182144;
    
    mem_182144.references = NULL;
    
    struct memblock mem_182158;
    
    mem_182158.references = NULL;
    
    struct memblock mem_182156;
    
    mem_182156.references = NULL;
    
    struct memblock mem_182154;
    
    mem_182154.references = NULL;
    
    struct memblock ext_mem_182179;
    
    ext_mem_182179.references = NULL;
    
    struct memblock ext_mem_182182;
    
    ext_mem_182182.references = NULL;
    
    struct memblock ext_mem_182185;
    
    ext_mem_182185.references = NULL;
    
    struct memblock mem_param_182051;
    
    mem_param_182051.references = NULL;
    
    struct memblock mem_param_182048;
    
    mem_param_182048.references = NULL;
    
    struct memblock mem_param_182045;
    
    mem_param_182045.references = NULL;
    
    struct memblock ext_mem_182215;
    
    ext_mem_182215.references = NULL;
    
    struct memblock ext_mem_182216;
    
    ext_mem_182216.references = NULL;
    
    struct memblock ext_mem_182217;
    
    ext_mem_182217.references = NULL;
    
    struct memblock mem_182041;
    
    mem_182041.references = NULL;
    
    struct memblock mem_182037;
    
    mem_182037.references = NULL;
    
    struct memblock mem_182033;
    
    mem_182033.references = NULL;
    
    struct memblock ext_mem_182220;
    
    ext_mem_182220.references = NULL;
    
    struct memblock ext_mem_182223;
    
    ext_mem_182223.references = NULL;
    
    struct memblock ext_mem_182226;
    
    ext_mem_182226.references = NULL;
    
    struct memblock mem_181931;
    
    mem_181931.references = NULL;
    
    struct memblock mem_181929;
    
    mem_181929.references = NULL;
    
    struct memblock mem_181927;
    
    mem_181927.references = NULL;
    
    struct memblock mem_param_tmp_182705;
    
    mem_param_tmp_182705.references = NULL;
    
    struct memblock mem_param_tmp_182704;
    
    mem_param_tmp_182704.references = NULL;
    
    struct memblock mem_param_tmp_182703;
    
    mem_param_tmp_182703.references = NULL;
    
    struct memblock mem_181465;
    
    mem_181465.references = NULL;
    
    struct memblock mem_181461;
    
    mem_181461.references = NULL;
    
    struct memblock mem_181457;
    
    mem_181457.references = NULL;
    
    struct memblock mem_181410;
    
    mem_181410.references = NULL;
    
    struct memblock mem_181406;
    
    mem_181406.references = NULL;
    
    struct memblock mem_181402;
    
    mem_181402.references = NULL;
    
    struct memblock mem_181416;
    
    mem_181416.references = NULL;
    
    struct memblock mem_181414;
    
    mem_181414.references = NULL;
    
    struct memblock mem_181412;
    
    mem_181412.references = NULL;
    
    struct memblock ext_mem_181437;
    
    ext_mem_181437.references = NULL;
    
    struct memblock ext_mem_181440;
    
    ext_mem_181440.references = NULL;
    
    struct memblock ext_mem_181443;
    
    ext_mem_181443.references = NULL;
    
    struct memblock mem_param_181309;
    
    mem_param_181309.references = NULL;
    
    struct memblock mem_param_181306;
    
    mem_param_181306.references = NULL;
    
    struct memblock mem_param_181303;
    
    mem_param_181303.references = NULL;
    
    struct memblock ext_mem_181473;
    
    ext_mem_181473.references = NULL;
    
    struct memblock ext_mem_181474;
    
    ext_mem_181474.references = NULL;
    
    struct memblock ext_mem_181475;
    
    ext_mem_181475.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock ext_mem_181478;
    
    ext_mem_181478.references = NULL;
    
    struct memblock ext_mem_181481;
    
    ext_mem_181481.references = NULL;
    
    struct memblock ext_mem_181484;
    
    ext_mem_181484.references = NULL;
    
    struct memblock mem_181189;
    
    mem_181189.references = NULL;
    
    struct memblock mem_181187;
    
    mem_181187.references = NULL;
    
    struct memblock mem_181185;
    
    mem_181185.references = NULL;
    
    struct memblock mem_181169;
    
    mem_181169.references = NULL;
    
    struct memblock mem_181167;
    
    mem_181167.references = NULL;
    
    struct memblock mem_181165;
    
    mem_181165.references = NULL;
    
    struct memblock mem_181876;
    
    mem_181876.references = NULL;
    
    struct memblock mem_181875;
    
    mem_181875.references = NULL;
    
    struct memblock mem_181873;
    
    mem_181873.references = NULL;
    
    struct memblock mem_param_tmp_182611;
    
    mem_param_tmp_182611.references = NULL;
    
    struct memblock mem_param_tmp_182610;
    
    mem_param_tmp_182610.references = NULL;
    
    struct memblock mem_param_tmp_182609;
    
    mem_param_tmp_182609.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181824;
    
    mem_181824.references = NULL;
    
    struct memblock mem_181820;
    
    mem_181820.references = NULL;
    
    struct memblock mem_181773;
    
    mem_181773.references = NULL;
    
    struct memblock mem_181769;
    
    mem_181769.references = NULL;
    
    struct memblock mem_181765;
    
    mem_181765.references = NULL;
    
    struct memblock mem_181779;
    
    mem_181779.references = NULL;
    
    struct memblock mem_181777;
    
    mem_181777.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock ext_mem_181800;
    
    ext_mem_181800.references = NULL;
    
    struct memblock ext_mem_181803;
    
    ext_mem_181803.references = NULL;
    
    struct memblock ext_mem_181806;
    
    ext_mem_181806.references = NULL;
    
    struct memblock mem_param_181672;
    
    mem_param_181672.references = NULL;
    
    struct memblock mem_param_181669;
    
    mem_param_181669.references = NULL;
    
    struct memblock mem_param_181666;
    
    mem_param_181666.references = NULL;
    
    struct memblock ext_mem_181836;
    
    ext_mem_181836.references = NULL;
    
    struct memblock ext_mem_181837;
    
    ext_mem_181837.references = NULL;
    
    struct memblock ext_mem_181838;
    
    ext_mem_181838.references = NULL;
    
    struct memblock mem_181662;
    
    mem_181662.references = NULL;
    
    struct memblock mem_181658;
    
    mem_181658.references = NULL;
    
    struct memblock mem_181654;
    
    mem_181654.references = NULL;
    
    struct memblock ext_mem_181841;
    
    ext_mem_181841.references = NULL;
    
    struct memblock ext_mem_181844;
    
    ext_mem_181844.references = NULL;
    
    struct memblock ext_mem_181847;
    
    ext_mem_181847.references = NULL;
    
    struct memblock mem_181552;
    
    mem_181552.references = NULL;
    
    struct memblock mem_181550;
    
    mem_181550.references = NULL;
    
    struct memblock mem_181548;
    
    mem_181548.references = NULL;
    
    struct memblock ext_mem_181897;
    
    ext_mem_181897.references = NULL;
    
    struct memblock ext_mem_181900;
    
    ext_mem_181900.references = NULL;
    
    struct memblock ext_mem_181903;
    
    ext_mem_181903.references = NULL;
    
    struct memblock mem_181139;
    
    mem_181139.references = NULL;
    
    struct memblock mem_181137;
    
    mem_181137.references = NULL;
    
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t prim_out_182550;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622 = add64(na_142331, nb_142332);
    
    if (memblock_alloc(ctx, &mem_181135, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182551 = 0; nest_i_182551 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182551++) {
        ((int8_t *) mem_181135.mem)[nest_i_182551] = (int8_t) -1;
    }
    
    int64_t bytes_181136 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    
    if (memblock_alloc(ctx, &mem_181137, bytes_181136, "mem_181137")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182552 = 0; nest_i_182552 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182552++) {
        ((int64_t *) mem_181137.mem)[nest_i_182552] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_181139, bytes_181136, "mem_181139")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182553 = 0; nest_i_182553 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182553++) {
        ((int64_t *) mem_181139.mem)[nest_i_182553] = (int64_t) 0;
    }
    
    int64_t zl_rhs_175626 = sub64(na_142331, window_sizze_142333);
    bool cond_175627 = slt64((int64_t) 0, zl_rhs_175626);
    int64_t zl_rhs_175628 = sub64(nb_142332, window_sizze_142333);
    bool loop_cond_t_res_175629 = slt64((int64_t) 0, zl_rhs_175628);
    bool x_175630 = cond_175627 && loop_cond_t_res_175629;
    bool empty_slice_175631 = window_sizze_142333 == (int64_t) 0;
    int64_t m_175632 = sub64(window_sizze_142333, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657 = add64((int64_t) 1, threads_142334);
    int64_t partitionFunc_arg0_176658 = mul64((int64_t) 2, threads_142334);
    bool y_176660 = slt64((int64_t) 0, window_sizze_142333);
    bool loop_cond_176906 = slt64((int64_t) 0, threads_142334);
    bool zzero_175677 = threads_142334 == (int64_t) 0;
    bool nonzzero_175678 = !zzero_175677;
    bool loop_not_taken_178435 = !inParallel_142337;
    bool protect_assert_disj_178436 = nonzzero_175678 || loop_not_taken_178435;
    bool loop_not_taken_178525 = !x_175630;
    bool protect_assert_disj_178526 = protect_assert_disj_178436 || loop_not_taken_178525;
    bool nonzzero_cert_175679;
    
    if (!protect_assert_disj_178526) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:365:24-32\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175680 = sdiv_safe64(window_sizze_142333, threads_142334);
    int64_t perThread_175681 = add64((int64_t) 1, zp_rhs_175680);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682 = mul64(threads_142334, perThread_175681);
    bool protect_assert_disj_178572 = inParallel_142337 || y_176660;
    bool protect_assert_disj_178576 = loop_not_taken_178525 || protect_assert_disj_178572;
    bool index_certs_176661;
    
    if (!protect_assert_disj_178576) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176676 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, (int64_t) 1);
    bool y_177633 = slt64(threads_142334, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
    bool protect_assert_disj_178541 = y_176660 || loop_not_taken_178435;
    bool protect_assert_disj_178580 = loop_not_taken_178525 || protect_assert_disj_178541;
    bool index_certs_175685;
    
    if (!protect_assert_disj_178580) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176678 = !bounds_invalid_upwards_176676;
    bool protect_assert_disj_178588 = inParallel_142337 || y_177633;
    bool protect_assert_disj_178590 = loop_not_taken_178525 || protect_assert_disj_178588;
    bool index_certs_177635;
    
    if (!protect_assert_disj_178590) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_142334, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:355:7-31\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178584 = y_177633 || loop_not_taken_178435;
    bool protect_assert_disj_178592 = loop_not_taken_178525 || protect_assert_disj_178584;
    bool index_certs_176639;
    
    if (!protect_assert_disj_178592) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_142334, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:389:7-31\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178600 = inParallel_142337 || valid_176678;
    bool protect_assert_disj_178602 = loop_not_taken_178525 || protect_assert_disj_178600;
    bool range_valid_c_176679;
    
    if (!protect_assert_disj_178602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178444 = sle64((int64_t) 1, threads_142334);
    bool protect_assert_disj_178596 = valid_176678 || loop_not_taken_178435;
    bool protect_assert_disj_178604 = loop_not_taken_178525 || protect_assert_disj_178596;
    bool range_valid_c_175692;
    
    if (!protect_assert_disj_178604) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176681 = add64(window_sizze_142333, window_sizze_142333);
    bool zzero_176682 = partitionFunc_arg0_176658 == (int64_t) 0;
    int64_t index_concat_i_178445 = sub64(threads_142334, (int64_t) 1);
    bool nonzzero_176683 = !zzero_176682;
    bool protect_assert_disj_178612 = inParallel_142337 || nonzzero_176683;
    bool protect_assert_disj_178618 = loop_not_taken_178525 || protect_assert_disj_178612;
    bool nonzzero_cert_176684;
    
    if (!protect_assert_disj_178618) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178608 = nonzzero_176683 || loop_not_taken_178435;
    bool protect_assert_disj_178624 = loop_not_taken_178525 || protect_assert_disj_178608;
    bool nonzzero_cert_175697;
    
    if (!protect_assert_disj_178624) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181149 = (int64_t) 8 * threads_142334;
    int64_t bytes_181166 = (int64_t) 8 * window_sizze_142333;
    int64_t bytes_181511 = perThread_175681 * bytes_181149;
    bool defunc_0_merge_pipeline_res_175633;
    int64_t defunc_0_merge_pipeline_res_175637;
    int64_t defunc_0_merge_pipeline_res_175638;
    bool loop_while_175639;
    int64_t p_175643;
    int64_t p_175644;
    
    loop_while_175639 = x_175630;
    p_175643 = (int64_t) 0;
    p_175644 = (int64_t) 0;
    while (loop_while_175639) {
        int64_t ubs_175645 = add64(window_sizze_142333, p_175643);
        int64_t ubs_175646 = add64(window_sizze_142333, p_175644);
        int64_t ind_bottom_175647 = add64(p_175643, p_175644);
        int64_t ind_top_175648 = add64(window_sizze_142333, ind_bottom_175647);
        int64_t i_p_m_t_s_175649 = add64(m_175632, p_175643);
        bool zzero_leq_i_p_m_t_s_175650 = sle64((int64_t) 0, i_p_m_t_s_175649);
        bool i_p_m_t_s_leq_w_175651 = slt64(i_p_m_t_s_175649, na_142331);
        bool zzero_lte_i_175652 = sle64((int64_t) 0, p_175643);
        bool i_lte_j_175653 = sle64(p_175643, ubs_175645);
        bool y_175654 = i_p_m_t_s_leq_w_175651 && zzero_lte_i_175652;
        bool y_175655 = zzero_leq_i_p_m_t_s_175650 && y_175654;
        bool forwards_ok_175656 = i_lte_j_175653 && y_175655;
        bool ok_or_empty_175657 = empty_slice_175631 || forwards_ok_175656;
        bool index_certs_175658;
        
        if (!ok_or_empty_175657) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175643, ":", (long long) ubs_175645, "] out of bounds for array of shape [", (long long) na_142331, "].", "-> #0  ftsort.fut:421:14-35\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175660 = add64(m_175632, p_175644);
        bool zzero_leq_i_p_m_t_s_175661 = sle64((int64_t) 0, i_p_m_t_s_175660);
        bool i_p_m_t_s_leq_w_175662 = slt64(i_p_m_t_s_175660, nb_142332);
        bool zzero_lte_i_175663 = sle64((int64_t) 0, p_175644);
        bool i_lte_j_175664 = sle64(p_175644, ubs_175646);
        bool y_175665 = i_p_m_t_s_leq_w_175662 && zzero_lte_i_175663;
        bool y_175666 = zzero_leq_i_p_m_t_s_175661 && y_175665;
        bool forwards_ok_175667 = i_lte_j_175664 && y_175666;
        bool ok_or_empty_175668 = empty_slice_175631 || forwards_ok_175667;
        bool index_certs_175669;
        
        if (!ok_or_empty_175668) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175644, ":", (long long) ubs_175646, "] out of bounds for array of shape [", (long long) nb_142332, "].", "-> #0  ftsort.fut:422:14-35\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177647 = add64(m_175632, ind_bottom_175647);
        bool zzero_leq_i_p_m_t_s_177648 = sle64((int64_t) 0, i_p_m_t_s_177647);
        bool i_p_m_t_s_leq_w_177649 = slt64(i_p_m_t_s_177647, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
        bool zzero_lte_i_177650 = sle64((int64_t) 0, ind_bottom_175647);
        bool i_lte_j_177651 = sle64(ind_bottom_175647, ind_top_175648);
        bool y_177652 = i_p_m_t_s_leq_w_177649 && zzero_lte_i_177650;
        bool y_177653 = zzero_leq_i_p_m_t_s_177648 && y_177652;
        bool forwards_ok_177654 = i_lte_j_177651 && y_177653;
        bool ok_or_empty_177655 = empty_slice_175631 || forwards_ok_177654;
        bool index_certs_177656;
        
        if (!ok_or_empty_177655) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175647, ":", (long long) ind_top_175648, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:431:21-79\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175671;
        int64_t loopres_175672;
        
        if (inParallel_142337) {
            int64_t leq_lhs_179105 = ((int64_t *) a_list_mem_181133.mem)[p_175643];
            int64_t leq_rhs_179106 = ((int64_t *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_179107 = sle64(leq_lhs_179105, leq_rhs_179106);
            int64_t lowest_179108;
            
            if (defunc_0_leq_res_179107) {
                lowest_179108 = leq_lhs_179105;
            } else {
                lowest_179108 = leq_rhs_179106;
            }
            if (mem_181495_cached_sizze_183053 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181495, &mem_181495_cached_sizze_183053, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181497_cached_sizze_183054 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181497, &mem_181497_cached_sizze_183054, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180797 = 0; i_180797 < threads_142334; i_180797++) {
                int64_t index_primexp_181069 = add64((int64_t) 1, i_180797);
                int64_t zs_lhs_179113 = mul64(zt_rhs_176681, index_primexp_181069);
                int64_t index_179114 = sdiv64(zs_lhs_179113, partitionFunc_arg0_176658);
                bool cond_179115 = slt64(window_sizze_142333, index_179114);
                int64_t loop_over_179116;
                
                if (cond_179115) {
                    loop_over_179116 = window_sizze_142333;
                } else {
                    loop_over_179116 = index_179114;
                }
                
                int64_t loop_over_179117;
                
                if (cond_179115) {
                    int64_t loop_over_t_res_179118 = sub64(index_179114, window_sizze_142333);
                    
                    loop_over_179117 = loop_over_t_res_179118;
                } else {
                    loop_over_179117 = (int64_t) 0;
                }
                
                int64_t loop_over_179119;
                
                if (cond_179115) {
                    int64_t zm_lhs_179120 = sub64(index_179114, window_sizze_142333);
                    int64_t loop_over_t_res_179121 = sub64(zm_lhs_179120, (int64_t) 1);
                    
                    loop_over_179119 = loop_over_t_res_179121;
                } else {
                    loop_over_179119 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179122;
                int64_t defunc_0_f_res_179123;
                int64_t defunc_0_f_res_179124;
                int64_t defunc_0_f_res_179125;
                bool loop_while_179126;
                int64_t p_179127;
                int64_t p_179128;
                int64_t p_179129;
                
                loop_while_179126 = 1;
                p_179127 = loop_over_179119;
                p_179128 = loop_over_179116;
                p_179129 = loop_over_179117;
                while (loop_while_179126) {
                    int64_t zs_lhs_179130 = sub64(p_179128, p_179127);
                    int64_t offset_179131 = sdiv64(zs_lhs_179130, (int64_t) 2);
                    int64_t ai_179132 = sub64(p_179128, offset_179131);
                    int64_t max_arg1_179133 = add64(p_179129, offset_179131);
                    int64_t max_res_179134 = smax64((int64_t) 0, max_arg1_179133);
                    bool cond_179135 = slt64((int64_t) 0, max_res_179134);
                    int64_t b_prev_179136;
                    
                    if (cond_179135) {
                        int64_t tmp_179137 = sub64(max_res_179134, (int64_t) 1);
                        bool x_179138 = sle64((int64_t) 0, tmp_179137);
                        bool y_179139 = slt64(tmp_179137, window_sizze_142333);
                        bool bounds_check_179140 = x_179138 && y_179139;
                        bool index_certs_179141;
                        
                        if (!bounds_check_179140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179137, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179142 = p_175644 + tmp_179137;
                        int64_t b_prev_t_res_179143 = ((int64_t *) b_list_mem_181134.mem)[slice_179142];
                        
                        b_prev_179136 = b_prev_t_res_179143;
                    } else {
                        b_prev_179136 = lowest_179108;
                    }
                    
                    bool cond_179144 = sle64(ai_179132, (int64_t) 0);
                    int64_t loopres_179145;
                    int64_t loopres_179146;
                    int64_t loopres_179147;
                    bool loopres_179148;
                    
                    if (cond_179144) {
                        loopres_179145 = p_179127;
                        loopres_179146 = (int64_t) 0;
                        loopres_179147 = max_res_179134;
                        loopres_179148 = 0;
                    } else {
                        bool cond_179149 = sle64(window_sizze_142333, max_res_179134);
                        int64_t loopres_f_res_179150;
                        int64_t loopres_f_res_179151;
                        int64_t loopres_f_res_179152;
                        bool loopres_f_res_179153;
                        
                        if (cond_179149) {
                            int64_t min_res_179155 = smin64(m_175632, ai_179132);
                            bool x_179156 = sle64((int64_t) 0, m_175632);
                            bool y_179157 = slt64(m_175632, window_sizze_142333);
                            bool bounds_check_179158 = x_179156 && y_179157;
                            bool index_certs_179159;
                            
                            if (!bounds_check_179158) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179162 = sle64((int64_t) 0, min_res_179155);
                            bool y_179163 = slt64(min_res_179155, window_sizze_142333);
                            bool bounds_check_179164 = x_179162 && y_179163;
                            bool index_certs_179165;
                            
                            if (!bounds_check_179164) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179155, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_179161 = ((int64_t *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_179166 = p_175643 + min_res_179155;
                            int64_t leq_rhs_179167 = ((int64_t *) a_list_mem_181133.mem)[slice_179166];
                            bool defunc_0_leq_res_179168 = sle64(leq_lhs_179161, leq_rhs_179167);
                            int64_t loopres_f_res_t_res_179169;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179169 = ai_179132;
                            } else {
                                loopres_f_res_t_res_179169 = p_179128;
                            }
                            
                            bool x_179170 = !defunc_0_leq_res_179168;
                            int64_t loopres_f_res_t_res_179171;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179171 = window_sizze_142333;
                            } else {
                                int64_t tmp_179172 = sub64(m_175632, offset_179131);
                                
                                loopres_f_res_t_res_179171 = tmp_179172;
                            }
                            loopres_f_res_179150 = p_179127;
                            loopres_f_res_179151 = loopres_f_res_t_res_179169;
                            loopres_f_res_179152 = loopres_f_res_t_res_179171;
                            loopres_f_res_179153 = x_179170;
                        } else {
                            bool cond_179173 = sle64(window_sizze_142333, ai_179132);
                            int64_t loopres_f_res_f_res_179174;
                            int64_t loopres_f_res_f_res_179175;
                            int64_t loopres_f_res_f_res_179176;
                            bool loopres_f_res_f_res_179177;
                            
                            if (cond_179173) {
                                int64_t min_res_179179 = smin64(m_175632, max_res_179134);
                                bool x_179180 = sle64((int64_t) 0, m_175632);
                                bool y_179181 = slt64(m_175632, window_sizze_142333);
                                bool bounds_check_179182 = x_179180 && y_179181;
                                bool index_certs_179183;
                                
                                if (!bounds_check_179182) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179186 = sle64((int64_t) 0, min_res_179179);
                                bool y_179187 = slt64(min_res_179179, window_sizze_142333);
                                bool bounds_check_179188 = x_179186 && y_179187;
                                bool index_certs_179189;
                                
                                if (!bounds_check_179188) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179179, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_179185 = ((int64_t *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_179190 = p_175644 + min_res_179179;
                                int64_t leq_rhs_179191 = ((int64_t *) b_list_mem_181134.mem)[slice_179190];
                                bool defunc_0_leq_res_179192 = sle64(leq_lhs_179185, leq_rhs_179191);
                                int64_t loopres_f_res_f_res_t_res_179193;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179193 = max_res_179134;
                                } else {
                                    loopres_f_res_f_res_t_res_179193 = p_179129;
                                }
                                
                                bool x_179194 = !defunc_0_leq_res_179192;
                                int64_t loopres_f_res_f_res_t_res_179195;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179195 = window_sizze_142333;
                                } else {
                                    loopres_f_res_f_res_t_res_179195 = m_175632;
                                }
                                loopres_f_res_f_res_179174 = p_179127;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_t_res_179195;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_t_res_179193;
                                loopres_f_res_f_res_179177 = x_179194;
                            } else {
                                bool cond_179196 = sle64(p_179128, p_179127);
                                int64_t loopres_f_res_f_res_f_res_179197;
                                int64_t loopres_f_res_f_res_f_res_179198;
                                int64_t loopres_f_res_f_res_f_res_179199;
                                bool loopres_f_res_f_res_f_res_179200;
                                
                                if (cond_179196) {
                                    bool cond_179201 = slt64(ai_179132, window_sizze_142333);
                                    int64_t ai_179202;
                                    
                                    if (cond_179201) {
                                        ai_179202 = ai_179132;
                                    } else {
                                        ai_179202 = m_175632;
                                    }
                                    
                                    bool x_179215 = sle64((int64_t) 0, ai_179202);
                                    bool y_179216 = slt64(ai_179202, window_sizze_142333);
                                    bool bounds_check_179217 = x_179215 && y_179216;
                                    bool index_certs_179218;
                                    
                                    if (!bounds_check_179217) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179202, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_179204;
                                    
                                    if (cond_179135) {
                                        int64_t tmp_179205 = sub64(max_res_179134, (int64_t) 1);
                                        bool x_179206 = sle64((int64_t) 0, tmp_179205);
                                        bool y_179207 = slt64(tmp_179205, window_sizze_142333);
                                        bool bounds_check_179208 = x_179206 && y_179207;
                                        bool index_certs_179209;
                                        
                                        if (!bounds_check_179208) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179205, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179210 = p_175644 + tmp_179205;
                                        int64_t b_prev_t_res_179211 = ((int64_t *) b_list_mem_181134.mem)[slice_179210];
                                        
                                        b_prev_179204 = b_prev_t_res_179211;
                                    } else {
                                        bool index_certs_179213;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179204 = leq_rhs_179106;
                                    }
                                    
                                    int64_t slice_179219 = p_175643 + ai_179202;
                                    int64_t gt_lhs_179220 = ((int64_t *) a_list_mem_181133.mem)[slice_179219];
                                    bool defunc_0_gt_res_179221 = slt64(b_prev_179204, gt_lhs_179220);
                                    int64_t defunc_0_partFunc_sequential_search_res_179222;
                                    int64_t defunc_0_partFunc_sequential_search_res_179223;
                                    
                                    if (defunc_0_gt_res_179221) {
                                        int64_t zl_rhs_179224 = sub64(window_sizze_142333, max_res_179134);
                                        bool loop_cond_179225 = slt64((int64_t) 0, zl_rhs_179224);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179226;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179228;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179229;
                                        bool loop_while_179230;
                                        int64_t p_179231;
                                        int64_t p_179232;
                                        int64_t p_179233;
                                        
                                        loop_while_179230 = loop_cond_179225;
                                        p_179231 = ai_179202;
                                        p_179232 = max_res_179134;
                                        p_179233 = (int64_t) 0;
                                        while (loop_while_179230) {
                                            int64_t i_a_179234 = sub64(ai_179202, p_179233);
                                            int64_t i_b_179235 = add64(max_res_179134, p_179233);
                                            int64_t leq_lhs_179236 = sub64(i_a_179234, (int64_t) 1);
                                            bool x_179237 = sle64((int64_t) 0, leq_lhs_179236);
                                            bool y_179238 = slt64(leq_lhs_179236, window_sizze_142333);
                                            bool bounds_check_179239 = x_179237 && y_179238;
                                            bool index_certs_179240;
                                            
                                            if (!bounds_check_179239) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179236, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179243 = sle64((int64_t) 0, i_b_179235);
                                            bool y_179244 = slt64(i_b_179235, window_sizze_142333);
                                            bool bounds_check_179245 = x_179243 && y_179244;
                                            bool index_certs_179246;
                                            
                                            if (!bounds_check_179245) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179235, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179241 = p_175643 + leq_lhs_179236;
                                            int64_t leq_lhs_179242 = ((int64_t *) a_list_mem_181133.mem)[slice_179241];
                                            int64_t slice_179247 = p_175644 + i_b_179235;
                                            int64_t leq_rhs_179248 = ((int64_t *) b_list_mem_181134.mem)[slice_179247];
                                            bool defunc_0_leq_res_179249 = sle64(leq_lhs_179242, leq_rhs_179248);
                                            int64_t loopres_179250;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179250 = i_a_179234;
                                            } else {
                                                loopres_179250 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179251;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179251 = i_b_179235;
                                            } else {
                                                loopres_179251 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179252;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179252 = zl_rhs_179224;
                                            } else {
                                                int64_t tmp_179253 = add64((int64_t) 1, p_179233);
                                                
                                                loopres_179252 = tmp_179253;
                                            }
                                            
                                            bool loop_cond_179254 = slt64(loopres_179252, zl_rhs_179224);
                                            bool loop_while_tmp_182566 = loop_cond_179254;
                                            int64_t p_tmp_182567 = loopres_179250;
                                            int64_t p_tmp_182568 = loopres_179251;
                                            int64_t p_tmp_182569 = loopres_179252;
                                            
                                            loop_while_179230 = loop_while_tmp_182566;
                                            p_179231 = p_tmp_182567;
                                            p_179232 = p_tmp_182568;
                                            p_179233 = p_tmp_182569;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179226 = loop_while_179230;
                                        defunc_0_partFunc_sequential_search_res_t_res_179227 = p_179231;
                                        defunc_0_partFunc_sequential_search_res_t_res_179228 = p_179232;
                                        defunc_0_partFunc_sequential_search_res_t_res_179229 = p_179233;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_t_res_179228;
                                    } else {
                                        int64_t zl_rhs_179255 = sub64(max_res_179134, (int64_t) 1);
                                        bool loop_cond_179256 = slt64((int64_t) 0, zl_rhs_179255);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179257;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179259;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179260;
                                        bool loop_while_179261;
                                        int64_t p_179262;
                                        int64_t p_179263;
                                        int64_t p_179264;
                                        
                                        loop_while_179261 = loop_cond_179256;
                                        p_179262 = ai_179202;
                                        p_179263 = max_res_179134;
                                        p_179264 = (int64_t) 0;
                                        while (loop_while_179261) {
                                            int64_t zp_lhs_179265 = add64(ai_179202, p_179264);
                                            int64_t hi_a_179266 = add64((int64_t) 1, zp_lhs_179265);
                                            bool cond_179267 = slt64(hi_a_179266, window_sizze_142333);
                                            int64_t i_a_179268;
                                            
                                            if (cond_179267) {
                                                i_a_179268 = hi_a_179266;
                                            } else {
                                                i_a_179268 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_179270 = sub64(max_res_179134, p_179264);
                                            int64_t i_b_179271 = sub64(zm_lhs_179270, (int64_t) 1);
                                            bool x_179272 = sle64((int64_t) 0, i_a_179268);
                                            bool y_179273 = slt64(i_a_179268, window_sizze_142333);
                                            bool bounds_check_179274 = x_179272 && y_179273;
                                            bool index_certs_179275;
                                            
                                            if (!bounds_check_179274) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179268, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179278 = sle64((int64_t) 0, i_b_179271);
                                            bool y_179279 = slt64(i_b_179271, window_sizze_142333);
                                            bool bounds_check_179280 = x_179278 && y_179279;
                                            bool index_certs_179281;
                                            
                                            if (!bounds_check_179280) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179271, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179276 = p_175643 + i_a_179268;
                                            int64_t gt_lhs_179277 = ((int64_t *) a_list_mem_181133.mem)[slice_179276];
                                            int64_t slice_179282 = p_175644 + i_b_179271;
                                            int64_t gt_rhs_179283 = ((int64_t *) b_list_mem_181134.mem)[slice_179282];
                                            bool defunc_0_gt_res_179284 = slt64(gt_rhs_179283, gt_lhs_179277);
                                            int64_t loopres_179285;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179285 = i_a_179268;
                                            } else {
                                                loopres_179285 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179286;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179286 = zm_lhs_179270;
                                            } else {
                                                loopres_179286 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179287;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179287 = zl_rhs_179255;
                                            } else {
                                                int64_t tmp_179288 = add64((int64_t) 1, p_179264);
                                                
                                                loopres_179287 = tmp_179288;
                                            }
                                            
                                            bool loop_cond_179289 = slt64(loopres_179287, zl_rhs_179255);
                                            bool loop_while_tmp_182570 = loop_cond_179289;
                                            int64_t p_tmp_182571 = loopres_179285;
                                            int64_t p_tmp_182572 = loopres_179286;
                                            int64_t p_tmp_182573 = loopres_179287;
                                            
                                            loop_while_179261 = loop_while_tmp_182570;
                                            p_179262 = p_tmp_182571;
                                            p_179263 = p_tmp_182572;
                                            p_179264 = p_tmp_182573;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179257 = loop_while_179261;
                                        defunc_0_partFunc_sequential_search_res_f_res_179258 = p_179262;
                                        defunc_0_partFunc_sequential_search_res_f_res_179259 = p_179263;
                                        defunc_0_partFunc_sequential_search_res_f_res_179260 = p_179264;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_f_res_179259;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = p_179127;
                                    loopres_f_res_f_res_f_res_179198 = defunc_0_partFunc_sequential_search_res_179222;
                                    loopres_f_res_f_res_f_res_179199 = defunc_0_partFunc_sequential_search_res_179223;
                                    loopres_f_res_f_res_f_res_179200 = 0;
                                } else {
                                    bool x_179290 = sle64((int64_t) 0, ai_179132);
                                    bool y_179291 = slt64(ai_179132, window_sizze_142333);
                                    bool bounds_check_179292 = x_179290 && y_179291;
                                    bool index_certs_179293;
                                    
                                    if (!bounds_check_179292) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179132, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179294 = p_175643 + ai_179132;
                                    int64_t gt_lhs_179295 = ((int64_t *) a_list_mem_181133.mem)[slice_179294];
                                    bool defunc_0_gt_res_179296 = slt64(b_prev_179136, gt_lhs_179295);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179297;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179298;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179299;
                                    bool loopres_f_res_f_res_f_res_f_res_179300;
                                    
                                    if (defunc_0_gt_res_179296) {
                                        int64_t leq_lhs_179301 = sub64(ai_179132, (int64_t) 1);
                                        bool x_179302 = sle64((int64_t) 0, leq_lhs_179301);
                                        bool y_179303 = slt64(leq_lhs_179301, window_sizze_142333);
                                        bool bounds_check_179304 = x_179302 && y_179303;
                                        bool index_certs_179305;
                                        
                                        if (!bounds_check_179304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179301, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179308 = sle64((int64_t) 0, max_res_179134);
                                        bool y_179309 = slt64(max_res_179134, window_sizze_142333);
                                        bool bounds_check_179310 = x_179308 && y_179309;
                                        bool index_certs_179311;
                                        
                                        if (!bounds_check_179310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179134, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179306 = p_175643 + leq_lhs_179301;
                                        int64_t leq_lhs_179307 = ((int64_t *) a_list_mem_181133.mem)[slice_179306];
                                        int64_t slice_179312 = p_175644 + max_res_179134;
                                        int64_t leq_rhs_179313 = ((int64_t *) b_list_mem_181134.mem)[slice_179312];
                                        bool defunc_0_leq_res_179314 = sle64(leq_lhs_179307, leq_rhs_179313);
                                        bool x_179315 = !defunc_0_leq_res_179314;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = ai_179132;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = leq_lhs_179301;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = max_res_179134;
                                        } else {
                                            int64_t tmp_179318 = add64((int64_t) 1, max_res_179134);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = tmp_179318;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179297 = p_179127;
                                        loopres_f_res_f_res_f_res_f_res_179298 = loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        loopres_f_res_f_res_f_res_f_res_179299 = loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        loopres_f_res_f_res_f_res_f_res_179300 = x_179315;
                                    } else {
                                        int64_t tmp_179319 = add64((int64_t) 1, ai_179132);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179297 = tmp_179319;
                                        loopres_f_res_f_res_f_res_f_res_179298 = p_179128;
                                        loopres_f_res_f_res_f_res_f_res_179299 = p_179129;
                                        loopres_f_res_f_res_f_res_f_res_179300 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_179297;
                                    loopres_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_179298;
                                    loopres_f_res_f_res_f_res_179199 = loopres_f_res_f_res_f_res_f_res_179299;
                                    loopres_f_res_f_res_f_res_179200 = loopres_f_res_f_res_f_res_f_res_179300;
                                }
                                loopres_f_res_f_res_179174 = loopres_f_res_f_res_f_res_179197;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_f_res_179198;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_f_res_179199;
                                loopres_f_res_f_res_179177 = loopres_f_res_f_res_f_res_179200;
                            }
                            loopres_f_res_179150 = loopres_f_res_f_res_179174;
                            loopres_f_res_179151 = loopres_f_res_f_res_179175;
                            loopres_f_res_179152 = loopres_f_res_f_res_179176;
                            loopres_f_res_179153 = loopres_f_res_f_res_179177;
                        }
                        loopres_179145 = loopres_f_res_179150;
                        loopres_179146 = loopres_f_res_179151;
                        loopres_179147 = loopres_f_res_179152;
                        loopres_179148 = loopres_f_res_179153;
                    }
                    
                    bool loop_while_tmp_182562 = loopres_179148;
                    int64_t p_tmp_182563 = loopres_179145;
                    int64_t p_tmp_182564 = loopres_179146;
                    int64_t p_tmp_182565 = loopres_179147;
                    
                    loop_while_179126 = loop_while_tmp_182562;
                    p_179127 = p_tmp_182563;
                    p_179128 = p_tmp_182564;
                    p_179129 = p_tmp_182565;
                }
                defunc_0_f_res_179122 = loop_while_179126;
                defunc_0_f_res_179123 = p_179127;
                defunc_0_f_res_179124 = p_179128;
                defunc_0_f_res_179125 = p_179129;
                ((int64_t *) mem_181495)[i_180797] = defunc_0_f_res_179124;
                ((int64_t *) mem_181497)[i_180797] = defunc_0_f_res_179125;
            }
            if (mem_181512_cached_sizze_183055 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181512, &mem_181512_cached_sizze_183055, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181514_cached_sizze_183056 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682) {
                err = lexical_realloc(ctx, &mem_181514, &mem_181514_cached_sizze_183056, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181517_cached_sizze_183057 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_183057, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181520_cached_sizze_183058 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181520, &mem_181520_cached_sizze_183058, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180863 = 0; i_180863 < threads_142334; i_180863++) {
                bool y_179333 = slt64(i_180863, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool index_certs_179335;
                
                if (!y_179333) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180863, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:371:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179336 = sle64((int64_t) 1, i_180863);
                int64_t index_concat_i_179337 = sub64(i_180863, (int64_t) 1);
                int64_t index_concat_179338;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179339 = ((int64_t *) mem_181495)[index_concat_i_179337];
                    
                    index_concat_179338 = x_179339;
                } else {
                    index_concat_179338 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179340;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179340 = index_concat_179338;
                } else {
                    index_concat_branch_179340 = (int64_t) 0;
                }
                
                int64_t index_concat_179341;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179342 = ((int64_t *) mem_181497)[index_concat_i_179337];
                    
                    index_concat_179341 = x_179342;
                } else {
                    index_concat_179341 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179343;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179343 = index_concat_179341;
                } else {
                    index_concat_branch_179343 = (int64_t) 0;
                }
                
                int64_t ubs_179344 = add64((int64_t) 1, i_180863);
                bool x_179345 = sle64((int64_t) 0, ubs_179344);
                bool y_179346 = slt64(ubs_179344, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_179347 = x_179345 && y_179346;
                bool index_certs_179348;
                
                if (!bounds_check_179347) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179344, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:372:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179349 = sle64((int64_t) 1, ubs_179344);
                int64_t index_concat_179350;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179351 = ((int64_t *) mem_181495)[i_180863];
                    
                    index_concat_179350 = x_179351;
                } else {
                    index_concat_179350 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179352;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179352 = index_concat_179350;
                } else {
                    index_concat_branch_179352 = (int64_t) 0;
                }
                
                int64_t index_concat_179353;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179354 = ((int64_t *) mem_181497)[i_180863];
                    
                    index_concat_179353 = x_179354;
                } else {
                    index_concat_179353 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179355;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179355 = index_concat_179353;
                } else {
                    index_concat_branch_179355 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 = sub64(index_concat_branch_179355, index_concat_branch_179343);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 = sub64(index_concat_branch_179352, index_concat_branch_179340);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t zm_lhs_179359 = add64(index_concat_branch_179352, index_concat_branch_179355);
                int64_t zm_rhs_179360 = add64(index_concat_branch_179340, index_concat_branch_179343);
                int64_t card_179361 = sub64(zm_lhs_179359, zm_rhs_179360);
                bool empty_slice_179362 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 == (int64_t) 0;
                int64_t m_179363 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 1);
                int64_t i_p_m_t_s_179364 = add64(index_concat_branch_179340, m_179363);
                bool zzero_leq_i_p_m_t_s_179365 = sle64((int64_t) 0, i_p_m_t_s_179364);
                bool i_p_m_t_s_leq_w_179366 = slt64(i_p_m_t_s_179364, window_sizze_142333);
                bool zzero_lte_i_179367 = sle64((int64_t) 0, index_concat_branch_179340);
                bool i_lte_j_179368 = sle64(index_concat_branch_179340, index_concat_branch_179352);
                bool y_179369 = i_p_m_t_s_leq_w_179366 && zzero_lte_i_179367;
                bool y_179370 = zzero_leq_i_p_m_t_s_179365 && y_179369;
                bool forwards_ok_179371 = i_lte_j_179368 && y_179370;
                bool ok_or_empty_179372 = empty_slice_179362 || forwards_ok_179371;
                bool index_certs_179373;
                
                if (!ok_or_empty_179372) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179340, ":", (long long) index_concat_branch_179352, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:374:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179374 = slt64(index_concat_branch_179352, index_concat_branch_179340);
                bool valid_179375 = !bounds_invalid_upwards_179374;
                bool range_valid_c_179376;
                
                if (!valid_179375) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179340, "..<", (long long) index_concat_branch_179352, " is invalid.", "-> #0  ftsort.fut:374:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179381 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 == (int64_t) 0;
                int64_t m_179382 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, (int64_t) 1);
                int64_t i_p_m_t_s_179383 = add64(index_concat_branch_179343, m_179382);
                bool zzero_leq_i_p_m_t_s_179384 = sle64((int64_t) 0, i_p_m_t_s_179383);
                bool i_p_m_t_s_leq_w_179385 = slt64(i_p_m_t_s_179383, window_sizze_142333);
                bool zzero_lte_i_179386 = sle64((int64_t) 0, index_concat_branch_179343);
                bool i_lte_j_179387 = sle64(index_concat_branch_179343, index_concat_branch_179355);
                bool y_179388 = i_p_m_t_s_leq_w_179385 && zzero_lte_i_179386;
                bool y_179389 = zzero_leq_i_p_m_t_s_179384 && y_179388;
                bool forwards_ok_179390 = i_lte_j_179387 && y_179389;
                bool ok_or_empty_179391 = empty_slice_179381 || forwards_ok_179390;
                bool index_certs_179392;
                
                if (!ok_or_empty_179391) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179343, ":", (long long) index_concat_branch_179355, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:375:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179393 = slt64(index_concat_branch_179355, index_concat_branch_179343);
                bool valid_179394 = !bounds_invalid_upwards_179393;
                bool range_valid_c_179395;
                
                if (!valid_179394) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179343, "..<", (long long) index_concat_branch_179355, " is invalid.", "-> #0  ftsort.fut:375:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181549 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool cond_179403 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zs_lhs_179404 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zp_rhs_179405 = sdiv_safe64(zs_lhs_179404, (int64_t) 20);
                int64_t min_num_blocks_179406 = add64((int64_t) 1, zp_rhs_179405);
                bool loop_cond_179407 = slt64((int64_t) 1, min_num_blocks_179406);
                bool smallest_pow_2_geq_than_res_179408;
                int64_t smallest_pow_2_geq_than_res_179409;
                bool loop_while_179410;
                int64_t x_179411;
                
                loop_while_179410 = loop_cond_179407;
                x_179411 = (int64_t) 1;
                while (loop_while_179410) {
                    int64_t loopres_179412 = mul64((int64_t) 2, x_179411);
                    bool loop_cond_179413 = slt64(loopres_179412, min_num_blocks_179406);
                    bool loop_while_tmp_182578 = loop_cond_179413;
                    int64_t x_tmp_182579 = loopres_179412;
                    
                    loop_while_179410 = loop_while_tmp_182578;
                    x_179411 = x_tmp_182579;
                }
                smallest_pow_2_geq_than_res_179408 = loop_while_179410;
                smallest_pow_2_geq_than_res_179409 = x_179411;
                
                bool zzero_179414 = smallest_pow_2_geq_than_res_179409 == (int64_t) 0;
                bool nonzzero_179415 = !zzero_179414;
                bool protect_assert_disj_179416 = cond_179403 || nonzzero_179415;
                bool nonzzero_cert_179417;
                
                if (!protect_assert_disj_179416) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179418 = sdiv_safe64(zs_lhs_179404, smallest_pow_2_geq_than_res_179409);
                int64_t block_sizze_179419 = add64((int64_t) 1, zp_rhs_179418);
                bool y_179426 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                bool protect_assert_disj_182295 = cond_179403 || y_179426;
                bool index_certs_179427;
                
                if (!protect_assert_disj_182295) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179464 = slt64(smallest_pow_2_geq_than_res_179409, (int64_t) 0);
                bool valid_179465 = !bounds_invalid_upwards_179464;
                bool protect_assert_disj_182305 = cond_179403 || valid_179465;
                bool range_valid_c_179466;
                
                if (!protect_assert_disj_182305) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179409, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:484:63-73\n   #6  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179468 = slt64(block_sizze_179419, (int64_t) 0);
                bool valid_179469 = !bounds_invalid_upwards_179468;
                bool protect_assert_disj_182307 = cond_179403 || valid_179469;
                bool range_valid_c_179470;
                
                if (!protect_assert_disj_182307) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179419, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179472 = sle64(block_sizze_179419, (int64_t) 1);
                int64_t tmp_179473 = sub64(block_sizze_179419, (int64_t) 2);
                bool bounds_invalid_upwards_179474 = slt64(tmp_179473, (int64_t) 0);
                bool valid_179476 = !bounds_invalid_upwards_179474;
                bool protect_assert_disj_179477 = cond_179472 || valid_179476;
                bool protect_assert_disj_182309 = cond_179403 || protect_assert_disj_179477;
                bool range_valid_c_179478;
                
                if (!protect_assert_disj_182309) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179473, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180058 = card_179361 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool empty_or_match_cert_180059;
                
                if (!dim_match_180058) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] cannot match shape of type `[", (long long) card_179361, "](i8, i64, i64)`.", "-> #0  ftsort.fut:376:20-382:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180060 = card_179361 == (int64_t) 0;
                int64_t m_180061 = sub64(card_179361, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180062 = sle64((int64_t) 0, m_180061);
                bool i_p_m_t_s_leq_w_180063 = slt64(m_180061, card_179361);
                bool y_180064 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180063;
                bool ok_or_empty_180065 = empty_slice_180060 || y_180064;
                bool index_certs_180066;
                
                if (!ok_or_empty_180065) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) card_179361, "].", "-> #0  ftsort.fut:383:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_180067 = slt64(m_180061, perThread_175681);
                bool y_180068 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180067;
                bool ok_or_empty_180069 = empty_slice_180060 || y_180068;
                bool index_certs_180070;
                
                if (!ok_or_empty_180069) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:383:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182580 = 0; nest_i_182580 < perThread_175681; nest_i_182580++) {
                    ((int8_t *) mem_181514)[i_180863 * perThread_175681 + nest_i_182580] = (int8_t) -1;
                }
                for (int64_t nest_i_182581 = 0; nest_i_182581 < perThread_175681; nest_i_182581++) {
                    ((int64_t *) mem_181517)[i_180863 * perThread_175681 + nest_i_182581] = (int64_t) -1;
                }
                for (int64_t nest_i_182582 = 0; nest_i_182582 < perThread_175681; nest_i_182582++) {
                    ((int64_t *) mem_181520)[i_180863 * perThread_175681 + nest_i_182582] = (int64_t) 0;
                }
                
                int64_t slice_179377 = p_175643 + index_concat_branch_179340;
                
                if (memblock_alloc(ctx, &mem_181548, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "mem_181548")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182583 = 0; nest_i_182583 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; nest_i_182583++) {
                    ((int8_t *) mem_181548.mem)[nest_i_182583] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181550, bytes_181549, "mem_181550")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182584 = 0; i_182584 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; i_182584++) {
                    int64_t x_182585 = index_concat_branch_179340 + i_182584 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[i_182584] = x_182585;
                }
                
                int64_t slice_179396 = p_175644 + index_concat_branch_179343;
                
                for (int64_t nest_i_182586 = 0; nest_i_182586 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; nest_i_182586++) {
                    ((int8_t *) mem_181548.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + nest_i_182586] = (int8_t) 1;
                }
                for (int64_t i_182587 = 0; i_182587 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; i_182587++) {
                    int64_t x_182588 = index_concat_branch_179343 + i_182587 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + i_182587] = x_182588;
                }
                
                int64_t tmp_offs_182589 = (int64_t) 0;
                
                if (!(tmp_offs_182589 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182589 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t tmp_offs_182590 = (int64_t) 0;
                
                if (!(tmp_offs_182590 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182590 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                if (memblock_alloc(ctx, &mem_181552, bytes_181549, "mem_181552")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182591 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181133.mem, slice_179377, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181134.mem, slice_179396, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t flat_dim_179420 = smallest_pow_2_geq_than_res_179409 * block_sizze_179419;
                bool x_182290 = !cond_179403;
                int64_t greatest_divisor_leq_than_arg1_179424 = mul64((int64_t) 2, block_sizze_179419);
                int64_t merge_block_sizze_179425;
                
                if (x_182290) {
                    int64_t x_182292;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182292, (int64_t) 8, greatest_divisor_leq_than_arg1_179424) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179425 = x_182292;
                } else {
                    merge_block_sizze_179425 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179428 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 0);
                int8_t index_concat_branch_179429 = btoi_bool_i8(index_concat_cmp_179428);
                int64_t index_concat_i_179431 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t index_primexp_179432 = add64(index_concat_branch_179343, index_concat_i_179431);
                int64_t index_concat_branch_179430;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179430 = index_primexp_179432;
                } else {
                    index_concat_branch_179430 = index_concat_branch_179340;
                }
                
                bool x_182286 = !index_concat_cmp_179428;
                bool protect_cond_conj_182296 = x_182286 && x_182290;
                int64_t index_concat_179438;
                
                if (protect_cond_conj_182296) {
                    int64_t x_182288 = ((int64_t *) a_list_mem_181133.mem)[slice_179377];
                    
                    index_concat_179438 = x_182288;
                } else {
                    index_concat_179438 = (int64_t) 0;
                }
                
                int64_t slice_179436 = p_175644 + index_primexp_179432;
                bool protect_cond_conj_182297 = index_concat_cmp_179428 && x_182290;
                int64_t index_concat_179437;
                
                if (protect_cond_conj_182297) {
                    int64_t x_182284 = ((int64_t *) b_list_mem_181134.mem)[slice_179436];
                    
                    index_concat_179437 = x_182284;
                } else {
                    index_concat_179437 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179433;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179433 = index_concat_179437;
                } else {
                    index_concat_branch_179433 = index_concat_179438;
                }
                
                int8_t defunc_0_reduce_res_179439;
                int64_t defunc_0_reduce_res_179440;
                int64_t defunc_0_reduce_res_179441;
                
                if (x_182290) {
                    int8_t x_182298;
                    int64_t x_182299;
                    int64_t x_182300;
                    int8_t redout_180800;
                    int64_t redout_180801;
                    int64_t redout_180802;
                    
                    redout_180800 = index_concat_branch_179429;
                    redout_180801 = index_concat_branch_179430;
                    redout_180802 = index_concat_branch_179433;
                    for (int64_t i_180803 = 0; i_180803 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358; i_180803++) {
                        bool index_concat_cmp_181061 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, i_180803);
                        int8_t index_concat_branch_181065 = btoi_bool_i8(index_concat_cmp_181061);
                        int64_t index_concat_branch_181059;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181056 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t index_primexp_181109 = add64(index_concat_branch_179343, index_concat_i_181056);
                            
                            index_concat_branch_181059 = index_primexp_181109;
                        } else {
                            int64_t index_primexp_181111 = add64(index_concat_branch_179340, i_180803);
                            
                            index_concat_branch_181059 = index_primexp_181111;
                        }
                        
                        int64_t index_concat_branch_181053;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181050 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t slice_181106 = slice_179396 + index_concat_i_181050;
                            int64_t index_concat_181051 = ((int64_t *) b_list_mem_181134.mem)[slice_181106];
                            
                            index_concat_branch_181053 = index_concat_181051;
                        } else {
                            int64_t slice_181107 = slice_179377 + i_180803;
                            int64_t index_concat_181052 = ((int64_t *) a_list_mem_181133.mem)[slice_181107];
                            
                            index_concat_branch_181053 = index_concat_181052;
                        }
                        
                        bool eq_x_y_181123 = redout_180800 == (int8_t) 1;
                        bool eq_x_zz_181124 = redout_180800 == (int8_t) 0;
                        bool p_and_eq_x_y_181125 = index_concat_cmp_181061 && eq_x_y_181123;
                        bool not_p_181126 = !index_concat_cmp_181061;
                        bool p_and_eq_x_y_181127 = eq_x_zz_181124 && not_p_181126;
                        bool cond_179451 = p_and_eq_x_y_181125 || p_and_eq_x_y_181127;
                        bool defunc_0_leq_res_t_res_179452 = sle64(redout_180801, index_concat_branch_181059);
                        bool defunc_0_leq_res_179453 = sle64(redout_180802, index_concat_branch_181053);
                        bool x_179454 = cond_179451 && defunc_0_leq_res_t_res_179452;
                        bool x_179455 = !cond_179451;
                        bool y_179456 = defunc_0_leq_res_179453 && x_179455;
                        bool defunc_0_leq_res_179457 = x_179454 || y_179456;
                        int8_t defunc_0_op_res_179458;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179458 = index_concat_branch_181065;
                        } else {
                            defunc_0_op_res_179458 = redout_180800;
                        }
                        
                        int64_t defunc_0_op_res_179459;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179459 = index_concat_branch_181059;
                        } else {
                            defunc_0_op_res_179459 = redout_180801;
                        }
                        
                        int64_t defunc_0_op_res_179460;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179460 = index_concat_branch_181053;
                        } else {
                            defunc_0_op_res_179460 = redout_180802;
                        }
                        
                        int8_t redout_tmp_182592 = defunc_0_op_res_179458;
                        int64_t redout_tmp_182593 = defunc_0_op_res_179459;
                        int64_t redout_tmp_182594 = defunc_0_op_res_179460;
                        
                        redout_180800 = redout_tmp_182592;
                        redout_180801 = redout_tmp_182593;
                        redout_180802 = redout_tmp_182594;
                    }
                    x_182298 = redout_180800;
                    x_182299 = redout_180801;
                    x_182300 = redout_180802;
                    defunc_0_reduce_res_179439 = x_182298;
                    defunc_0_reduce_res_179440 = x_182299;
                    defunc_0_reduce_res_179441 = x_182300;
                } else {
                    defunc_0_reduce_res_179439 = (int8_t) 0;
                    defunc_0_reduce_res_179440 = (int64_t) 0;
                    defunc_0_reduce_res_179441 = (int64_t) 0;
                }
                
                int64_t distance_179475 = add64((int64_t) 1, tmp_179473);
                int64_t binop_x_181555 = (int64_t) 8 * smallest_pow_2_geq_than_res_179409;
                int64_t bytes_181556 = block_sizze_179419 * binop_x_181555;
                int64_t bytes_181574 = (int64_t) 8 * block_sizze_179419;
                bool loop_cond_179601 = slt64(block_sizze_179419, flat_dim_179420);
                bool zzero_179602 = merge_block_sizze_179425 == (int64_t) 0;
                bool nonzzero_179603 = !zzero_179602;
                
                if (cond_179403) {
                    if (memblock_set(ctx, &ext_mem_181847, &mem_181548, "mem_181548") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &mem_181550, "mem_181550") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &mem_181552, "mem_181552") != 0)
                        return 1;
                } else {
                    if (mem_181554_cached_sizze_183059 < flat_dim_179420) {
                        err = lexical_realloc(ctx, &mem_181554, &mem_181554_cached_sizze_183059, flat_dim_179420);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181557_cached_sizze_183060 < bytes_181556) {
                        err = lexical_realloc(ctx, &mem_181557, &mem_181557_cached_sizze_183060, bytes_181556);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181560_cached_sizze_183061 < bytes_181556) {
                        err = lexical_realloc(ctx, &mem_181560, &mem_181560_cached_sizze_183061, bytes_181556);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181573_cached_sizze_183062 < block_sizze_179419) {
                        err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_183062, block_sizze_179419);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181575_cached_sizze_183063 < bytes_181574) {
                        err = lexical_realloc(ctx, &mem_181575, &mem_181575_cached_sizze_183063, bytes_181574);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181577_cached_sizze_183064 < bytes_181574) {
                        err = lexical_realloc(ctx, &mem_181577, &mem_181577_cached_sizze_183064, bytes_181574);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180820 = 0; i_180820 < smallest_pow_2_geq_than_res_179409; i_180820++) {
                        int64_t zp_lhs_179483 = mul64(block_sizze_179419, i_180820);
                        
                        for (int64_t i_180810 = 0; i_180810 < block_sizze_179419; i_180810++) {
                            int64_t k_179488 = add64(zp_lhs_179483, i_180810);
                            bool cond_179489 = slt64(k_179488, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                            int8_t lifted_lambda_res_179490;
                            int64_t lifted_lambda_res_179491;
                            int64_t lifted_lambda_res_179492;
                            
                            if (cond_179489) {
                                bool x_179493 = sle64((int64_t) 0, k_179488);
                                bool bounds_check_179494 = cond_179489 && x_179493;
                                bool index_certs_179495;
                                
                                if (!bounds_check_179494) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179488, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179496 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, k_179488);
                                int8_t index_concat_branch_179497 = btoi_bool_i8(index_concat_cmp_179496);
                                int64_t index_concat_branch_179498;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179499 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t index_primexp_179500 = add64(index_concat_branch_179343, index_concat_i_179499);
                                    
                                    index_concat_branch_179498 = index_primexp_179500;
                                } else {
                                    int64_t index_primexp_179501 = add64(index_concat_branch_179340, k_179488);
                                    
                                    index_concat_branch_179498 = index_primexp_179501;
                                }
                                
                                int64_t index_concat_branch_179502;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179503 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t slice_179504 = index_concat_branch_179343 + index_concat_i_179503;
                                    int64_t slice_179505 = p_175644 + slice_179504;
                                    int64_t index_concat_179506 = ((int64_t *) b_list_mem_181134.mem)[slice_179505];
                                    
                                    index_concat_branch_179502 = index_concat_179506;
                                } else {
                                    int64_t slice_179507 = index_concat_branch_179340 + k_179488;
                                    int64_t slice_179508 = p_175643 + slice_179507;
                                    int64_t index_concat_179509 = ((int64_t *) a_list_mem_181133.mem)[slice_179508];
                                    
                                    index_concat_branch_179502 = index_concat_179509;
                                }
                                lifted_lambda_res_179490 = index_concat_branch_179497;
                                lifted_lambda_res_179491 = index_concat_branch_179498;
                                lifted_lambda_res_179492 = index_concat_branch_179502;
                            } else {
                                lifted_lambda_res_179490 = defunc_0_reduce_res_179439;
                                lifted_lambda_res_179491 = defunc_0_reduce_res_179440;
                                lifted_lambda_res_179492 = defunc_0_reduce_res_179441;
                            }
                            ((int8_t *) mem_181573)[i_180810] = lifted_lambda_res_179490;
                            ((int64_t *) mem_181575)[i_180810] = lifted_lambda_res_179491;
                            ((int64_t *) mem_181577)[i_180810] = lifted_lambda_res_179492;
                        }
                        if (!cond_179472) {
                            for (int64_t i_179519 = 0; i_179519 < distance_179475; i_179519++) {
                                int64_t gt_arg1_179523 = add64((int64_t) 1, i_179519);
                                bool x_179524 = sle64((int64_t) 0, gt_arg1_179523);
                                bool y_179525 = slt64(gt_arg1_179523, block_sizze_179419);
                                bool bounds_check_179526 = x_179524 && y_179525;
                                bool index_certs_179527;
                                
                                if (!bounds_check_179526) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179523, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179531 = slt64(i_179519, block_sizze_179419);
                                bool index_certs_179532;
                                
                                if (!y_179531) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179519, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179528 = ((int8_t *) mem_181573)[gt_arg1_179523];
                                int64_t gt_arg1_179529 = ((int64_t *) mem_181575)[gt_arg1_179523];
                                int64_t gt_arg1_179530 = ((int64_t *) mem_181577)[gt_arg1_179523];
                                int8_t gt_arg0_179533 = ((int8_t *) mem_181573)[i_179519];
                                int64_t gt_arg0_179534 = ((int64_t *) mem_181575)[i_179519];
                                int64_t gt_arg0_179535 = ((int64_t *) mem_181577)[i_179519];
                                bool cond_179536 = gt_arg0_179533 == gt_arg1_179528;
                                bool defunc_0_leq_res_t_res_179537 = sle64(gt_arg0_179534, gt_arg1_179529);
                                bool defunc_0_leq_res_179538 = sle64(gt_arg0_179535, gt_arg1_179530);
                                bool x_179539 = cond_179536 && defunc_0_leq_res_t_res_179537;
                                bool x_179540 = !cond_179536;
                                bool y_179541 = defunc_0_leq_res_179538 && x_179540;
                                bool defunc_0_leq_res_179542 = x_179539 || y_179541;
                                bool defunc_0_lifted_gt_res_179543 = !defunc_0_leq_res_179542;
                                bool s_179544;
                                int64_t s_179548;
                                bool loop_while_179549;
                                int64_t j_179553;
                                
                                loop_while_179549 = defunc_0_lifted_gt_res_179543;
                                j_179553 = i_179519;
                                while (loop_while_179549) {
                                    bool x_179554 = sle64((int64_t) 0, j_179553);
                                    bool y_179555 = slt64(j_179553, block_sizze_179419);
                                    bool bounds_check_179556 = x_179554 && y_179555;
                                    bool index_certs_179557;
                                    
                                    if (!bounds_check_179556) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179553, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179561 = add64((int64_t) 1, j_179553);
                                    bool x_179562 = sle64((int64_t) 0, copy_arg0_179561);
                                    bool y_179563 = slt64(copy_arg0_179561, block_sizze_179419);
                                    bool bounds_check_179564 = x_179562 && y_179563;
                                    bool index_certs_179565;
                                    
                                    if (!bounds_check_179564) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179561, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179558 = ((int8_t *) mem_181573)[j_179553];
                                    int64_t copy_arg0_179559 = ((int64_t *) mem_181575)[j_179553];
                                    int64_t copy_arg0_179560 = ((int64_t *) mem_181577)[j_179553];
                                    int8_t copy_arg0_179566 = ((int8_t *) mem_181573)[copy_arg0_179561];
                                    int64_t copy_arg0_179567 = ((int64_t *) mem_181575)[copy_arg0_179561];
                                    int64_t copy_arg0_179568 = ((int64_t *) mem_181577)[copy_arg0_179561];
                                    
                                    ((int8_t *) mem_181573)[j_179553] = copy_arg0_179566;
                                    ((int64_t *) mem_181575)[j_179553] = copy_arg0_179567;
                                    ((int64_t *) mem_181577)[j_179553] = copy_arg0_179568;
                                    ((int8_t *) mem_181573)[copy_arg0_179561] = copy_arg0_179558;
                                    ((int64_t *) mem_181575)[copy_arg0_179561] = copy_arg0_179559;
                                    ((int64_t *) mem_181577)[copy_arg0_179561] = copy_arg0_179560;
                                    
                                    int64_t tmp_179575 = sub64(j_179553, (int64_t) 1);
                                    bool cond_179576 = sle64((int64_t) 0, tmp_179575);
                                    bool loop_cond_179577;
                                    
                                    if (cond_179576) {
                                        bool y_179581 = slt64(tmp_179575, block_sizze_179419);
                                        bool bounds_check_179582 = cond_179576 && y_179581;
                                        bool index_certs_179583;
                                        
                                        if (!bounds_check_179582) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179575, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179578 = ((int8_t *) mem_181573)[j_179553];
                                        int64_t gt_arg1_179579 = ((int64_t *) mem_181575)[j_179553];
                                        int64_t gt_arg1_179580 = ((int64_t *) mem_181577)[j_179553];
                                        int8_t gt_arg0_179584 = ((int8_t *) mem_181573)[tmp_179575];
                                        int64_t gt_arg0_179585 = ((int64_t *) mem_181575)[tmp_179575];
                                        int64_t gt_arg0_179586 = ((int64_t *) mem_181577)[tmp_179575];
                                        bool cond_179587 = gt_arg0_179584 == gt_arg1_179578;
                                        bool defunc_0_leq_res_t_res_179588 = sle64(gt_arg0_179585, gt_arg1_179579);
                                        bool defunc_0_leq_res_179589 = sle64(gt_arg0_179586, gt_arg1_179580);
                                        bool x_179590 = cond_179587 && defunc_0_leq_res_t_res_179588;
                                        bool x_179591 = !cond_179587;
                                        bool y_179592 = defunc_0_leq_res_179589 && x_179591;
                                        bool defunc_0_leq_res_179593 = x_179590 || y_179592;
                                        bool defunc_0_lifted_gt_res_179594 = !defunc_0_leq_res_179593;
                                        
                                        loop_cond_179577 = defunc_0_lifted_gt_res_179594;
                                    } else {
                                        loop_cond_179577 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182604 = loop_cond_179577;
                                    int64_t j_tmp_182608 = tmp_179575;
                                    
                                    loop_while_179549 = loop_while_tmp_182604;
                                    j_179553 = j_tmp_182608;
                                }
                                s_179544 = loop_while_179549;
                                s_179548 = j_179553;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181554, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181557, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181575, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181560, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181577, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                    }
                    if (memblock_alloc(ctx, &mem_181654, flat_dim_179420, "mem_181654")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181654.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint8_t *) mem_181554, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181658, bytes_181556, "mem_181658")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181658.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint64_t *) mem_181557, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181662, bytes_181556, "mem_181662")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181662.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint64_t *) mem_181560, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    
                    int64_t data_179604;
                    bool data_179605;
                    int64_t data_179609;
                    int64_t loop_dz2084Uz2082U_179610;
                    bool loop_while_179611;
                    int64_t stride_179615;
                    
                    if (memblock_set(ctx, &mem_param_181666, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181669, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181672, &mem_181662, "mem_181662") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179610 = flat_dim_179420;
                    loop_while_179611 = loop_cond_179601;
                    stride_179615 = block_sizze_179419;
                    while (loop_while_179611) {
                        int64_t next_stride_179616 = mul64((int64_t) 2, stride_179615);
                        bool zzero_179617 = next_stride_179616 == (int64_t) 0;
                        bool nonzzero_179618 = !zzero_179617;
                        bool nonzzero_cert_179619;
                        
                        if (!nonzzero_179618) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179620 = sdiv64(flat_dim_179420, next_stride_179616);
                        bool bounds_invalid_upwards_179621 = slt64(num_merges_179620, (int64_t) 0);
                        bool valid_179622 = !bounds_invalid_upwards_179621;
                        bool range_valid_c_179623;
                        
                        if (!valid_179622) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179620, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:484:63-73\n   #6  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179625 = sub64(next_stride_179616, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179626 = sle64((int64_t) 0, m_179625);
                        bool cond_179628 = slt64(next_stride_179616, (int64_t) 10);
                        bool protect_assert_disj_179629 = nonzzero_179603 || cond_179628;
                        bool nonzzero_cert_179630;
                        
                        if (!protect_assert_disj_179629) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179631 = smod_safe64(next_stride_179616, merge_block_sizze_179425);
                        bool num_blocks_179632 = zeze_lhs_179631 == (int64_t) 0;
                        bool protect_assert_disj_179633 = cond_179628 || num_blocks_179632;
                        bool assert_c_179634;
                        
                        if (!protect_assert_disj_179633) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179635 = sdiv_safe64(next_stride_179616, merge_block_sizze_179425);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636 = add64((int64_t) 1, num_blocks_179635);
                        int64_t j_m_i_179637 = sub64(next_stride_179616, stride_179615);
                        int64_t flat_dim_179638 = merge_block_sizze_179425 * num_blocks_179635;
                        bool bounds_invalid_upwards_179639 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, (int64_t) 0);
                        bool empty_slice_179640 = j_m_i_179637 == (int64_t) 0;
                        int64_t m_179641 = sub64(j_m_i_179637, (int64_t) 1);
                        bool zzero_lte_i_179642 = sle64((int64_t) 0, stride_179615);
                        bool i_lte_j_179643 = sle64(stride_179615, next_stride_179616);
                        bool empty_slice_179644 = stride_179615 == (int64_t) 0;
                        int64_t m_179645 = sub64(stride_179615, (int64_t) 1);
                        bool bounds_invalid_upwards_179646 = slt64(num_blocks_179635, (int64_t) 0);
                        bool cond_179647 = slt64((int64_t) 0, stride_179615);
                        bool valid_179648 = !bounds_invalid_upwards_179639;
                        int64_t i_p_m_t_s_179649 = add64(stride_179615, m_179641);
                        bool zzero_leq_i_p_m_t_s_179650 = sle64((int64_t) 0, m_179645);
                        bool i_p_m_t_s_leq_w_179651 = slt64(m_179645, next_stride_179616);
                        bool valid_179652 = !bounds_invalid_upwards_179646;
                        bool i_p_m_t_s_leq_w_179653 = slt64(m_179625, flat_dim_179638);
                        bool y_179654 = slt64((int64_t) 0, j_m_i_179637);
                        bool protect_assert_disj_179655 = cond_179628 || valid_179648;
                        bool range_valid_c_179656;
                        
                        if (!protect_assert_disj_179655) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179657 = sle64((int64_t) 0, i_p_m_t_s_179649);
                        bool i_p_m_t_s_leq_w_179658 = slt64(i_p_m_t_s_179649, next_stride_179616);
                        bool y_179659 = zzero_leq_i_p_m_t_s_179650 && i_p_m_t_s_leq_w_179651;
                        bool protect_assert_disj_179660 = cond_179628 || valid_179652;
                        bool range_valid_c_179661;
                        
                        if (!protect_assert_disj_179660) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179635, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179662 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179653;
                        bool y_179663 = zzero_lte_i_179642 && i_p_m_t_s_leq_w_179658;
                        bool forwards_ok_179664 = zzero_lte_i_179642 && y_179659;
                        bool ok_or_empty_179665 = zzero_179617 || y_179662;
                        bool protect_assert_disj_179666 = cond_179647 || y_179654;
                        bool y_179667 = zzero_leq_i_p_m_t_s_179657 && y_179663;
                        bool ok_or_empty_179668 = empty_slice_179644 || forwards_ok_179664;
                        bool protect_assert_disj_179669 = cond_179628 || ok_or_empty_179665;
                        bool index_certs_179670;
                        
                        if (!protect_assert_disj_179669) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) flat_dim_179638, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179671 = !cond_179628;
                        bool protect_assert_disj_179672 = protect_assert_disj_179666 || loop_not_taken_179671;
                        bool index_certs_179673;
                        
                        if (!protect_assert_disj_179672) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179674 = i_lte_j_179643 && y_179667;
                        bool protect_assert_disj_179675 = cond_179628 || ok_or_empty_179668;
                        bool index_certs_179676;
                        
                        if (!protect_assert_disj_179675) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179677 = ok_or_empty_179668 || loop_not_taken_179671;
                        bool index_certs_179678;
                        
                        if (!protect_assert_disj_179677) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179679 = empty_slice_179640 || forwards_ok_179674;
                        bool protect_assert_disj_179680 = cond_179628 || ok_or_empty_179679;
                        bool index_certs_179681;
                        
                        if (!protect_assert_disj_179680) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179682 = loop_not_taken_179671 || ok_or_empty_179679;
                        bool index_certs_179683;
                        
                        if (!protect_assert_disj_179682) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181673 = next_stride_179616 * num_merges_179620;
                        int64_t binop_x_181675 = (int64_t) 8 * num_merges_179620;
                        int64_t bytes_181676 = next_stride_179616 * binop_x_181675;
                        bool i_lte_j_179627 = sle64((int64_t) 0, next_stride_179616);
                        
                        if (mem_181674_cached_sizze_183065 < bytes_181673) {
                            err = lexical_realloc(ctx, &mem_181674, &mem_181674_cached_sizze_183065, bytes_181673);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181677_cached_sizze_183066 < bytes_181676) {
                            err = lexical_realloc(ctx, &mem_181677, &mem_181677_cached_sizze_183066, bytes_181676);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181680_cached_sizze_183067 < bytes_181676) {
                            err = lexical_realloc(ctx, &mem_181680, &mem_181680_cached_sizze_183067, bytes_181676);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181693 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636;
                        int64_t binop_x_181711 = (int64_t) 8 * num_blocks_179635;
                        int64_t bytes_181712 = merge_block_sizze_179425 * binop_x_181711;
                        int64_t bytes_181776 = (int64_t) 16 * stride_179615;
                        
                        for (int64_t i_180847 = 0; i_180847 < num_merges_179620; i_180847++) {
                            int64_t start_179688 = mul64(next_stride_179616, i_180847);
                            int64_t j_m_i_179689 = sub64(loop_dz2084Uz2082U_179610, start_179688);
                            bool empty_slice_179690 = j_m_i_179689 == (int64_t) 0;
                            int64_t m_179691 = sub64(j_m_i_179689, (int64_t) 1);
                            int64_t i_p_m_t_s_179692 = add64(start_179688, m_179691);
                            bool zzero_leq_i_p_m_t_s_179693 = sle64((int64_t) 0, i_p_m_t_s_179692);
                            bool i_p_m_t_s_leq_w_179694 = slt64(i_p_m_t_s_179692, loop_dz2084Uz2082U_179610);
                            bool zzero_lte_i_179695 = sle64((int64_t) 0, start_179688);
                            bool i_lte_j_179696 = sle64(start_179688, loop_dz2084Uz2082U_179610);
                            bool y_179697 = i_p_m_t_s_leq_w_179694 && zzero_lte_i_179695;
                            bool y_179698 = zzero_leq_i_p_m_t_s_179693 && y_179697;
                            bool forwards_ok_179699 = i_lte_j_179696 && y_179698;
                            bool ok_or_empty_179700 = empty_slice_179690 || forwards_ok_179699;
                            bool index_certs_179701;
                            
                            if (!ok_or_empty_179700) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179688, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179610, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179702 = slt64(m_179625, j_m_i_179689);
                            bool y_179703 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179702;
                            bool forwards_ok_179704 = i_lte_j_179627 && y_179703;
                            bool ok_or_empty_179705 = zzero_179617 || forwards_ok_179704;
                            bool index_certs_179706;
                            
                            if (!ok_or_empty_179705) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) j_m_i_179689, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179628) {
                                int8_t dummy_179710;
                                int64_t dummy_179711;
                                int64_t dummy_179712;
                                
                                if (cond_179647) {
                                    int8_t head_res_179713 = ((int8_t *) mem_param_181666.mem)[start_179688];
                                    int64_t head_res_179714 = ((int64_t *) mem_param_181669.mem)[start_179688];
                                    int64_t head_res_179715 = ((int64_t *) mem_param_181672.mem)[start_179688];
                                    
                                    dummy_179710 = head_res_179713;
                                    dummy_179711 = head_res_179714;
                                    dummy_179712 = head_res_179715;
                                } else {
                                    int64_t slice_179716 = stride_179615 + start_179688;
                                    int8_t head_res_179717 = ((int8_t *) mem_param_181666.mem)[slice_179716];
                                    int64_t head_res_179718 = ((int64_t *) mem_param_181669.mem)[slice_179716];
                                    int64_t head_res_179719 = ((int64_t *) mem_param_181672.mem)[slice_179716];
                                    
                                    dummy_179710 = head_res_179717;
                                    dummy_179711 = head_res_179718;
                                    dummy_179712 = head_res_179719;
                                }
                                if (memblock_alloc(ctx, &mem_181775, next_stride_179616, "mem_181775")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182621 = 0; nest_i_182621 < next_stride_179616; nest_i_182621++) {
                                    ((int8_t *) mem_181775.mem)[nest_i_182621] = dummy_179710;
                                }
                                if (memblock_alloc(ctx, &mem_181777, bytes_181776, "mem_181777")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182622 = 0; nest_i_182622 < next_stride_179616; nest_i_182622++) {
                                    ((int64_t *) mem_181777.mem)[nest_i_182622] = dummy_179711;
                                }
                                if (memblock_alloc(ctx, &mem_181779, bytes_181776, "mem_181779")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182623 = 0; nest_i_182623 < next_stride_179616; nest_i_182623++) {
                                    ((int64_t *) mem_181779.mem)[nest_i_182623] = dummy_179712;
                                }
                                
                                int64_t data_179723;
                                int64_t i_179728 = (int64_t) 0;
                                
                                for (int64_t k_179727 = 0; k_179727 < next_stride_179616; k_179727++) {
                                    int64_t j_179732 = sub64(k_179727, i_179728);
                                    bool cond_179733 = j_179732 == j_m_i_179637;
                                    bool cond_179734;
                                    
                                    if (cond_179733) {
                                        cond_179734 = 1;
                                    } else {
                                        bool cond_179735 = slt64(i_179728, stride_179615);
                                        bool cond_f_res_179736;
                                        
                                        if (cond_179735) {
                                            bool x_179737 = sle64((int64_t) 0, j_179732);
                                            bool y_179738 = slt64(j_179732, j_m_i_179637);
                                            bool bounds_check_179739 = x_179737 && y_179738;
                                            bool index_certs_179740;
                                            
                                            if (!bounds_check_179739) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179746 = sle64((int64_t) 0, i_179728);
                                            bool bounds_check_179747 = cond_179735 && x_179746;
                                            bool index_certs_179748;
                                            
                                            if (!bounds_check_179747) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179741 = stride_179615 + j_179732;
                                            int64_t slice_179742 = start_179688 + slice_179741;
                                            int8_t leq_arg1_179743 = ((int8_t *) mem_param_181666.mem)[slice_179742];
                                            int64_t leq_arg1_179744 = ((int64_t *) mem_param_181669.mem)[slice_179742];
                                            int64_t leq_arg1_179745 = ((int64_t *) mem_param_181672.mem)[slice_179742];
                                            int64_t slice_179749 = start_179688 + i_179728;
                                            int8_t leq_arg0_179750 = ((int8_t *) mem_param_181666.mem)[slice_179749];
                                            int64_t leq_arg0_179751 = ((int64_t *) mem_param_181669.mem)[slice_179749];
                                            int64_t leq_arg0_179752 = ((int64_t *) mem_param_181672.mem)[slice_179749];
                                            bool cond_179753 = leq_arg0_179750 == leq_arg1_179743;
                                            bool defunc_0_leq_res_t_res_179754 = sle64(leq_arg0_179751, leq_arg1_179744);
                                            bool defunc_0_leq_res_179755 = sle64(leq_arg0_179752, leq_arg1_179745);
                                            bool x_179756 = cond_179753 && defunc_0_leq_res_t_res_179754;
                                            bool x_179757 = !cond_179753;
                                            bool y_179758 = defunc_0_leq_res_179755 && x_179757;
                                            bool defunc_0_leq_res_179759 = x_179756 || y_179758;
                                            
                                            cond_f_res_179736 = defunc_0_leq_res_179759;
                                        } else {
                                            cond_f_res_179736 = 0;
                                        }
                                        cond_179734 = cond_f_res_179736;
                                    }
                                    
                                    int64_t loopres_179760;
                                    int8_t loopres_179761;
                                    int64_t loopres_179762;
                                    int64_t loopres_179763;
                                    
                                    if (cond_179734) {
                                        bool x_179765 = sle64((int64_t) 0, i_179728);
                                        bool y_179766 = slt64(i_179728, stride_179615);
                                        bool bounds_check_179767 = x_179765 && y_179766;
                                        bool index_certs_179768;
                                        
                                        if (!bounds_check_179767) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179764 = add64((int64_t) 1, i_179728);
                                        int64_t slice_179769 = start_179688 + i_179728;
                                        int8_t tmp_179770 = ((int8_t *) mem_param_181666.mem)[slice_179769];
                                        int64_t tmp_179771 = ((int64_t *) mem_param_181669.mem)[slice_179769];
                                        int64_t tmp_179772 = ((int64_t *) mem_param_181672.mem)[slice_179769];
                                        
                                        loopres_179760 = tmp_179764;
                                        loopres_179761 = tmp_179770;
                                        loopres_179762 = tmp_179771;
                                        loopres_179763 = tmp_179772;
                                    } else {
                                        bool x_179773 = sle64((int64_t) 0, j_179732);
                                        bool y_179774 = slt64(j_179732, j_m_i_179637);
                                        bool bounds_check_179775 = x_179773 && y_179774;
                                        bool index_certs_179776;
                                        
                                        if (!bounds_check_179775) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179777 = stride_179615 + j_179732;
                                        int64_t slice_179778 = start_179688 + slice_179777;
                                        int8_t tmp_179779 = ((int8_t *) mem_param_181666.mem)[slice_179778];
                                        int64_t tmp_179780 = ((int64_t *) mem_param_181669.mem)[slice_179778];
                                        int64_t tmp_179781 = ((int64_t *) mem_param_181672.mem)[slice_179778];
                                        
                                        loopres_179760 = i_179728;
                                        loopres_179761 = tmp_179779;
                                        loopres_179762 = tmp_179780;
                                        loopres_179763 = tmp_179781;
                                    }
                                    ((int8_t *) mem_181775.mem)[k_179727] = loopres_179761;
                                    ((int64_t *) mem_181777.mem)[k_179727] = loopres_179762;
                                    ((int64_t *) mem_181779.mem)[k_179727] = loopres_179763;
                                    
                                    int64_t i_tmp_182624 = loopres_179760;
                                    
                                    i_179728 = i_tmp_182624;
                                }
                                data_179723 = i_179728;
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181775, "mem_181775") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181777, "mem_181777") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181779, "mem_181779") != 0)
                                    return 1;
                            } else {
                                if (mem_181694_cached_sizze_183068 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181694, &mem_181694_cached_sizze_183068, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181696_cached_sizze_183069 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181696, &mem_181696_cached_sizze_183069, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180828 = 0; i_180828 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636; i_180828++) {
                                    int64_t split_count_arg3_179789 = mul64(merge_block_sizze_179425, i_180828);
                                    int64_t defunc_0_split_count_res_179790;
                                    int64_t defunc_0_split_count_res_179791;
                                    int64_t defunc_0_split_count_res_179792;
                                    int64_t defunc_0_split_count_res_179793;
                                    int64_t defunc_0_split_count_res_179794;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_179790, &defunc_0_split_count_res_179791, &defunc_0_split_count_res_179792, &defunc_0_split_count_res_179793, &defunc_0_split_count_res_179794, (int64_t) 0, stride_179615, (int64_t) 0, j_m_i_179637, split_count_arg3_179789) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179795 = slt64((int64_t) 0, defunc_0_split_count_res_179794);
                                    bool defunc_0_split_count_res_179796;
                                    int64_t defunc_0_split_count_res_179797;
                                    int64_t defunc_0_split_count_res_179798;
                                    int64_t defunc_0_split_count_res_179799;
                                    int64_t defunc_0_split_count_res_179800;
                                    int64_t defunc_0_split_count_res_179801;
                                    bool loop_while_179802;
                                    int64_t ss_179803;
                                    int64_t ss_179804;
                                    int64_t tt_179805;
                                    int64_t tt_179806;
                                    int64_t count_179807;
                                    
                                    loop_while_179802 = loop_cond_179795;
                                    ss_179803 = defunc_0_split_count_res_179790;
                                    ss_179804 = defunc_0_split_count_res_179791;
                                    tt_179805 = defunc_0_split_count_res_179792;
                                    tt_179806 = defunc_0_split_count_res_179793;
                                    count_179807 = defunc_0_split_count_res_179794;
                                    while (loop_while_179802) {
                                        int64_t zlze_lhs_179808 = sub64(ss_179804, ss_179803);
                                        bool cond_179809 = sle64(zlze_lhs_179808, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179810;
                                        int64_t defunc_0_lifted_step_res_179811;
                                        int64_t defunc_0_lifted_step_res_179812;
                                        int64_t defunc_0_lifted_step_res_179813;
                                        
                                        if (cond_179809) {
                                            int64_t tmp_179814 = add64(tt_179805, count_179807);
                                            
                                            defunc_0_lifted_step_res_179810 = ss_179803;
                                            defunc_0_lifted_step_res_179811 = tmp_179814;
                                            defunc_0_lifted_step_res_179812 = tt_179806;
                                            defunc_0_lifted_step_res_179813 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179815 = sub64(tt_179806, tt_179805);
                                            bool cond_179816 = sle64(zlze_lhs_179815, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179817;
                                            int64_t defunc_0_lifted_step_res_f_res_179818;
                                            int64_t defunc_0_lifted_step_res_f_res_179819;
                                            int64_t defunc_0_lifted_step_res_f_res_179820;
                                            
                                            if (cond_179816) {
                                                int64_t tmp_179821 = add64(ss_179803, count_179807);
                                                
                                                defunc_0_lifted_step_res_f_res_179817 = tmp_179821;
                                                defunc_0_lifted_step_res_f_res_179818 = tt_179805;
                                                defunc_0_lifted_step_res_f_res_179819 = tt_179806;
                                                defunc_0_lifted_step_res_f_res_179820 = (int64_t) 0;
                                            } else {
                                                bool cond_179822 = count_179807 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179823;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179824;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179825;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179826;
                                                
                                                if (cond_179822) {
                                                    bool x_179827 = sle64((int64_t) 0, ss_179803);
                                                    bool y_179828 = slt64(ss_179803, stride_179615);
                                                    bool bounds_check_179829 = x_179827 && y_179828;
                                                    bool index_certs_179830;
                                                    
                                                    if (!bounds_check_179829) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179803, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:484:63-73\n   #13 ftsort.fut:477:1-484:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179835 = sle64((int64_t) 0, tt_179805);
                                                    bool y_179836 = slt64(tt_179805, j_m_i_179637);
                                                    bool bounds_check_179837 = x_179835 && y_179836;
                                                    bool index_certs_179838;
                                                    
                                                    if (!bounds_check_179837) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179805, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:484:63-73\n   #13 ftsort.fut:477:1-484:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179831 = start_179688 + ss_179803;
                                                    int8_t leq_arg1_179832 = ((int8_t *) mem_param_181666.mem)[slice_179831];
                                                    int64_t leq_arg1_179833 = ((int64_t *) mem_param_181669.mem)[slice_179831];
                                                    int64_t leq_arg1_179834 = ((int64_t *) mem_param_181672.mem)[slice_179831];
                                                    int64_t slice_179839 = stride_179615 + tt_179805;
                                                    int64_t slice_179840 = start_179688 + slice_179839;
                                                    int8_t leq_arg0_179841 = ((int8_t *) mem_param_181666.mem)[slice_179840];
                                                    int64_t leq_arg0_179842 = ((int64_t *) mem_param_181669.mem)[slice_179840];
                                                    int64_t leq_arg0_179843 = ((int64_t *) mem_param_181672.mem)[slice_179840];
                                                    bool cond_179844 = leq_arg0_179841 == leq_arg1_179832;
                                                    bool defunc_0_leq_res_t_res_179845 = sle64(leq_arg0_179842, leq_arg1_179833);
                                                    bool defunc_0_leq_res_179846 = sle64(leq_arg0_179843, leq_arg1_179834);
                                                    bool x_179847 = cond_179844 && defunc_0_leq_res_t_res_179845;
                                                    bool x_179848 = !cond_179844;
                                                    bool y_179849 = defunc_0_leq_res_179846 && x_179848;
                                                    bool defunc_0_leq_res_179850 = x_179847 || y_179849;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    
                                                    if (defunc_0_leq_res_179850) {
                                                        int64_t tmp_179853 = add64((int64_t) 1, tt_179805);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = ss_179803;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tmp_179853;
                                                    } else {
                                                        int64_t tmp_179854 = add64((int64_t) 1, ss_179803);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = tmp_179854;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tt_179805;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = tt_179806;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179855 = sdiv64(count_179807, (int64_t) 2);
                                                    int64_t n_179856 = sub64(count_179807, m_179855);
                                                    bool cond_179857 = n_179856 == (int64_t) 0;
                                                    int64_t zgze_lhs_179858 = add64(ss_179803, m_179855);
                                                    bool cond_f_res_179859 = sle64(ss_179804, zgze_lhs_179858);
                                                    bool x_179860 = !cond_179857;
                                                    bool y_179861 = cond_f_res_179859 && x_179860;
                                                    bool cond_179862 = cond_179857 || y_179861;
                                                    bool leq_y_x_179863;
                                                    
                                                    if (cond_179862) {
                                                        leq_y_x_179863 = 1;
                                                    } else {
                                                        bool x_179864 = sle64((int64_t) 0, zgze_lhs_179858);
                                                        bool y_179865 = slt64(zgze_lhs_179858, stride_179615);
                                                        bool bounds_check_179866 = x_179864 && y_179865;
                                                        bool index_certs_179867;
                                                        
                                                        if (!bounds_check_179866) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179858, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:484:63-73\n   #13 ftsort.fut:477:1-484:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179872 = add64(tt_179805, n_179856);
                                                        int64_t leq_arg0_179873 = sub64(zm_lhs_179872, (int64_t) 1);
                                                        bool x_179874 = sle64((int64_t) 0, leq_arg0_179873);
                                                        bool y_179875 = slt64(leq_arg0_179873, j_m_i_179637);
                                                        bool bounds_check_179876 = x_179874 && y_179875;
                                                        bool index_certs_179877;
                                                        
                                                        if (!bounds_check_179876) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179873, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:484:63-73\n   #13 ftsort.fut:477:1-484:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179868 = start_179688 + zgze_lhs_179858;
                                                        int8_t leq_arg1_179869 = ((int8_t *) mem_param_181666.mem)[slice_179868];
                                                        int64_t leq_arg1_179870 = ((int64_t *) mem_param_181669.mem)[slice_179868];
                                                        int64_t leq_arg1_179871 = ((int64_t *) mem_param_181672.mem)[slice_179868];
                                                        int64_t slice_179878 = stride_179615 + leq_arg0_179873;
                                                        int64_t slice_179879 = start_179688 + slice_179878;
                                                        int8_t leq_arg0_179880 = ((int8_t *) mem_param_181666.mem)[slice_179879];
                                                        int64_t leq_arg0_179881 = ((int64_t *) mem_param_181669.mem)[slice_179879];
                                                        int64_t leq_arg0_179882 = ((int64_t *) mem_param_181672.mem)[slice_179879];
                                                        bool cond_179883 = leq_arg0_179880 == leq_arg1_179869;
                                                        bool defunc_0_leq_res_t_res_179884 = sle64(leq_arg0_179881, leq_arg1_179870);
                                                        bool defunc_0_leq_res_179885 = sle64(leq_arg0_179882, leq_arg1_179871);
                                                        bool x_179886 = cond_179883 && defunc_0_leq_res_t_res_179884;
                                                        bool x_179887 = !cond_179883;
                                                        bool y_179888 = defunc_0_leq_res_179885 && x_179887;
                                                        bool defunc_0_leq_res_179889 = x_179886 || y_179888;
                                                        
                                                        leq_y_x_179863 = defunc_0_leq_res_179889;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                    
                                                    if (leq_y_x_179863) {
                                                        int64_t tmp_179893 = add64(tt_179805, n_179856);
                                                        int64_t tmp_179894 = sub64(count_179807, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tmp_179893;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tt_179806;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = tmp_179894;
                                                    } else {
                                                        int64_t tmp_179895 = add64(tt_179805, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tt_179805;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tmp_179895;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = count_179807;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = ss_179803;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                }
                                                defunc_0_lifted_step_res_f_res_179817 = defunc_0_lifted_step_res_f_res_f_res_179823;
                                                defunc_0_lifted_step_res_f_res_179818 = defunc_0_lifted_step_res_f_res_f_res_179824;
                                                defunc_0_lifted_step_res_f_res_179819 = defunc_0_lifted_step_res_f_res_f_res_179825;
                                                defunc_0_lifted_step_res_f_res_179820 = defunc_0_lifted_step_res_f_res_f_res_179826;
                                            }
                                            defunc_0_lifted_step_res_179810 = defunc_0_lifted_step_res_f_res_179817;
                                            defunc_0_lifted_step_res_179811 = defunc_0_lifted_step_res_f_res_179818;
                                            defunc_0_lifted_step_res_179812 = defunc_0_lifted_step_res_f_res_179819;
                                            defunc_0_lifted_step_res_179813 = defunc_0_lifted_step_res_f_res_179820;
                                        }
                                        
                                        int64_t loopres_179896;
                                        int64_t loopres_179897;
                                        int64_t loopres_179898;
                                        int64_t loopres_179899;
                                        int64_t loopres_179900;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_179896, &loopres_179897, &loopres_179898, &loopres_179899, &loopres_179900, defunc_0_lifted_step_res_179810, ss_179804, defunc_0_lifted_step_res_179811, defunc_0_lifted_step_res_179812, defunc_0_lifted_step_res_179813) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179901 = slt64((int64_t) 0, loopres_179900);
                                        bool loop_while_tmp_182630 = loop_cond_179901;
                                        int64_t ss_tmp_182631 = loopres_179896;
                                        int64_t ss_tmp_182632 = loopres_179897;
                                        int64_t tt_tmp_182633 = loopres_179898;
                                        int64_t tt_tmp_182634 = loopres_179899;
                                        int64_t count_tmp_182635 = loopres_179900;
                                        
                                        loop_while_179802 = loop_while_tmp_182630;
                                        ss_179803 = ss_tmp_182631;
                                        ss_179804 = ss_tmp_182632;
                                        tt_179805 = tt_tmp_182633;
                                        tt_179806 = tt_tmp_182634;
                                        count_179807 = count_tmp_182635;
                                    }
                                    defunc_0_split_count_res_179796 = loop_while_179802;
                                    defunc_0_split_count_res_179797 = ss_179803;
                                    defunc_0_split_count_res_179798 = ss_179804;
                                    defunc_0_split_count_res_179799 = tt_179805;
                                    defunc_0_split_count_res_179800 = tt_179806;
                                    defunc_0_split_count_res_179801 = count_179807;
                                    ((int64_t *) mem_181694)[i_180828] = defunc_0_split_count_res_179797;
                                    ((int64_t *) mem_181696)[i_180828] = defunc_0_split_count_res_179799;
                                }
                                if (mem_181710_cached_sizze_183070 < flat_dim_179638) {
                                    err = lexical_realloc(ctx, &mem_181710, &mem_181710_cached_sizze_183070, flat_dim_179638);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181713_cached_sizze_183071 < bytes_181712) {
                                    err = lexical_realloc(ctx, &mem_181713, &mem_181713_cached_sizze_183071, bytes_181712);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181716_cached_sizze_183072 < bytes_181712) {
                                    err = lexical_realloc(ctx, &mem_181716, &mem_181716_cached_sizze_183072, bytes_181712);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180837 = 0; i_180837 < num_blocks_179635; i_180837++) {
                                    bool y_179910 = slt64(i_180837, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool index_certs_179912;
                                    
                                    if (!y_179910) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179913 = ((int64_t *) mem_181694)[i_180837];
                                    int64_t defunc_0_f_res_179914 = ((int64_t *) mem_181696)[i_180837];
                                    int64_t tmp_179915 = add64((int64_t) 1, i_180837);
                                    bool x_179916 = sle64((int64_t) 0, tmp_179915);
                                    bool y_179917 = slt64(tmp_179915, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool bounds_check_179918 = x_179916 && y_179917;
                                    bool index_certs_179919;
                                    
                                    if (!bounds_check_179918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179915, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179920 = ((int64_t *) mem_181694)[tmp_179915];
                                    int64_t defunc_0_f_res_179921 = ((int64_t *) mem_181696)[tmp_179915];
                                    int64_t merge_sequential_arg2_179922 = add64(stride_179615, defunc_0_f_res_179914);
                                    int64_t merge_sequential_arg2_179923 = add64(stride_179615, defunc_0_f_res_179921);
                                    int64_t j_m_i_179924 = sub64(merge_sequential_arg2_179923, merge_sequential_arg2_179922);
                                    bool empty_slice_179925 = j_m_i_179924 == (int64_t) 0;
                                    int64_t m_179926 = sub64(j_m_i_179924, (int64_t) 1);
                                    int64_t i_p_m_t_s_179927 = add64(merge_sequential_arg2_179922, m_179926);
                                    bool zzero_leq_i_p_m_t_s_179928 = sle64((int64_t) 0, i_p_m_t_s_179927);
                                    bool i_p_m_t_s_leq_w_179929 = slt64(i_p_m_t_s_179927, next_stride_179616);
                                    bool zzero_lte_i_179930 = sle64((int64_t) 0, merge_sequential_arg2_179922);
                                    bool i_lte_j_179931 = sle64(merge_sequential_arg2_179922, merge_sequential_arg2_179923);
                                    bool y_179932 = i_p_m_t_s_leq_w_179929 && zzero_lte_i_179930;
                                    bool y_179933 = zzero_leq_i_p_m_t_s_179928 && y_179932;
                                    bool forwards_ok_179934 = i_lte_j_179931 && y_179933;
                                    bool ok_or_empty_179935 = empty_slice_179925 || forwards_ok_179934;
                                    bool index_certs_179936;
                                    
                                    if (!ok_or_empty_179935) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179922, ":", (long long) merge_sequential_arg2_179923, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179937 = sub64(defunc_0_f_res_179920, defunc_0_f_res_179913);
                                    bool empty_slice_179938 = j_m_i_179937 == (int64_t) 0;
                                    int64_t m_179939 = sub64(j_m_i_179937, (int64_t) 1);
                                    int64_t i_p_m_t_s_179940 = add64(defunc_0_f_res_179913, m_179939);
                                    bool zzero_leq_i_p_m_t_s_179941 = sle64((int64_t) 0, i_p_m_t_s_179940);
                                    bool i_p_m_t_s_leq_w_179942 = slt64(i_p_m_t_s_179940, next_stride_179616);
                                    bool zzero_lte_i_179943 = sle64((int64_t) 0, defunc_0_f_res_179913);
                                    bool i_lte_j_179944 = sle64(defunc_0_f_res_179913, defunc_0_f_res_179920);
                                    bool y_179945 = i_p_m_t_s_leq_w_179942 && zzero_lte_i_179943;
                                    bool y_179946 = zzero_leq_i_p_m_t_s_179941 && y_179945;
                                    bool forwards_ok_179947 = i_lte_j_179944 && y_179946;
                                    bool ok_or_empty_179948 = empty_slice_179938 || forwards_ok_179947;
                                    bool index_certs_179949;
                                    
                                    if (!ok_or_empty_179948) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179913, ":", (long long) defunc_0_f_res_179920, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179950 = slt64((int64_t) 0, j_m_i_179937);
                                    int8_t dummy_179951;
                                    int64_t dummy_179952;
                                    int64_t dummy_179953;
                                    
                                    if (cond_179950) {
                                        bool index_certs_179954;
                                        
                                        if (!cond_179950) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179955 = start_179688 + defunc_0_f_res_179913;
                                        int8_t head_res_179956 = ((int8_t *) mem_param_181666.mem)[slice_179955];
                                        int64_t head_res_179957 = ((int64_t *) mem_param_181669.mem)[slice_179955];
                                        int64_t head_res_179958 = ((int64_t *) mem_param_181672.mem)[slice_179955];
                                        
                                        dummy_179951 = head_res_179956;
                                        dummy_179952 = head_res_179957;
                                        dummy_179953 = head_res_179958;
                                    } else {
                                        bool y_179959 = slt64((int64_t) 0, j_m_i_179924);
                                        bool index_certs_179960;
                                        
                                        if (!y_179959) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179961 = start_179688 + merge_sequential_arg2_179922;
                                        int8_t head_res_179962 = ((int8_t *) mem_param_181666.mem)[slice_179961];
                                        int64_t head_res_179963 = ((int64_t *) mem_param_181669.mem)[slice_179961];
                                        int64_t head_res_179964 = ((int64_t *) mem_param_181672.mem)[slice_179961];
                                        
                                        dummy_179951 = head_res_179962;
                                        dummy_179952 = head_res_179963;
                                        dummy_179953 = head_res_179964;
                                    }
                                    for (int64_t nest_i_182639 = 0; nest_i_182639 < merge_block_sizze_179425; nest_i_182639++) {
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + nest_i_182639] = dummy_179951;
                                    }
                                    for (int64_t nest_i_182640 = 0; nest_i_182640 < merge_block_sizze_179425; nest_i_182640++) {
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + nest_i_182640] = dummy_179952;
                                    }
                                    for (int64_t nest_i_182641 = 0; nest_i_182641 < merge_block_sizze_179425; nest_i_182641++) {
                                        ((int64_t *) mem_181716)[i_180837 * merge_block_sizze_179425 + nest_i_182641] = dummy_179953;
                                    }
                                    
                                    int64_t data_179968;
                                    int64_t i_179973 = (int64_t) 0;
                                    
                                    for (int64_t k_179972 = 0; k_179972 < merge_block_sizze_179425; k_179972++) {
                                        int64_t j_179977 = sub64(k_179972, i_179973);
                                        bool cond_179978 = j_179977 == j_m_i_179924;
                                        bool cond_179979;
                                        
                                        if (cond_179978) {
                                            cond_179979 = 1;
                                        } else {
                                            bool cond_179980 = slt64(i_179973, j_m_i_179937);
                                            bool cond_f_res_179981;
                                            
                                            if (cond_179980) {
                                                bool x_179982 = sle64((int64_t) 0, j_179977);
                                                bool y_179983 = slt64(j_179977, j_m_i_179924);
                                                bool bounds_check_179984 = x_179982 && y_179983;
                                                bool index_certs_179985;
                                                
                                                if (!bounds_check_179984) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179991 = sle64((int64_t) 0, i_179973);
                                                bool bounds_check_179992 = cond_179980 && x_179991;
                                                bool index_certs_179993;
                                                
                                                if (!bounds_check_179992) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179986 = merge_sequential_arg2_179922 + j_179977;
                                                int64_t slice_179987 = start_179688 + slice_179986;
                                                int8_t leq_arg1_179988 = ((int8_t *) mem_param_181666.mem)[slice_179987];
                                                int64_t leq_arg1_179989 = ((int64_t *) mem_param_181669.mem)[slice_179987];
                                                int64_t leq_arg1_179990 = ((int64_t *) mem_param_181672.mem)[slice_179987];
                                                int64_t slice_179994 = defunc_0_f_res_179913 + i_179973;
                                                int64_t slice_179995 = start_179688 + slice_179994;
                                                int8_t leq_arg0_179996 = ((int8_t *) mem_param_181666.mem)[slice_179995];
                                                int64_t leq_arg0_179997 = ((int64_t *) mem_param_181669.mem)[slice_179995];
                                                int64_t leq_arg0_179998 = ((int64_t *) mem_param_181672.mem)[slice_179995];
                                                bool cond_179999 = leq_arg0_179996 == leq_arg1_179988;
                                                bool defunc_0_leq_res_t_res_180000 = sle64(leq_arg0_179997, leq_arg1_179989);
                                                bool defunc_0_leq_res_180001 = sle64(leq_arg0_179998, leq_arg1_179990);
                                                bool x_180002 = cond_179999 && defunc_0_leq_res_t_res_180000;
                                                bool x_180003 = !cond_179999;
                                                bool y_180004 = defunc_0_leq_res_180001 && x_180003;
                                                bool defunc_0_leq_res_180005 = x_180002 || y_180004;
                                                
                                                cond_f_res_179981 = defunc_0_leq_res_180005;
                                            } else {
                                                cond_f_res_179981 = 0;
                                            }
                                            cond_179979 = cond_f_res_179981;
                                        }
                                        
                                        int64_t loopres_180006;
                                        int8_t loopres_180007;
                                        int64_t loopres_180008;
                                        int64_t loopres_180009;
                                        
                                        if (cond_179979) {
                                            bool x_180011 = sle64((int64_t) 0, i_179973);
                                            bool y_180012 = slt64(i_179973, j_m_i_179937);
                                            bool bounds_check_180013 = x_180011 && y_180012;
                                            bool index_certs_180014;
                                            
                                            if (!bounds_check_180013) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180010 = add64((int64_t) 1, i_179973);
                                            int64_t slice_180015 = defunc_0_f_res_179913 + i_179973;
                                            int64_t slice_180016 = start_179688 + slice_180015;
                                            int8_t tmp_180017 = ((int8_t *) mem_param_181666.mem)[slice_180016];
                                            int64_t tmp_180018 = ((int64_t *) mem_param_181669.mem)[slice_180016];
                                            int64_t tmp_180019 = ((int64_t *) mem_param_181672.mem)[slice_180016];
                                            
                                            loopres_180006 = tmp_180010;
                                            loopres_180007 = tmp_180017;
                                            loopres_180008 = tmp_180018;
                                            loopres_180009 = tmp_180019;
                                        } else {
                                            bool x_180020 = sle64((int64_t) 0, j_179977);
                                            bool y_180021 = slt64(j_179977, j_m_i_179924);
                                            bool bounds_check_180022 = x_180020 && y_180021;
                                            bool index_certs_180023;
                                            
                                            if (!bounds_check_180022) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180024 = merge_sequential_arg2_179922 + j_179977;
                                            int64_t slice_180025 = start_179688 + slice_180024;
                                            int8_t tmp_180026 = ((int8_t *) mem_param_181666.mem)[slice_180025];
                                            int64_t tmp_180027 = ((int64_t *) mem_param_181669.mem)[slice_180025];
                                            int64_t tmp_180028 = ((int64_t *) mem_param_181672.mem)[slice_180025];
                                            
                                            loopres_180006 = i_179973;
                                            loopres_180007 = tmp_180026;
                                            loopres_180008 = tmp_180027;
                                            loopres_180009 = tmp_180028;
                                        }
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180007;
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180008;
                                        ((int64_t *) mem_181716)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180009;
                                        
                                        int64_t i_tmp_182642 = loopres_180006;
                                        
                                        i_179973 = i_tmp_182642;
                                    }
                                    data_179968 = i_179973;
                                }
                                if (memblock_alloc(ctx, &mem_181765, flat_dim_179638, "mem_181765")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181765.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint8_t *) mem_181710, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181769, bytes_181712, "mem_181769")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181769.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint64_t *) mem_181713, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181773, bytes_181712, "mem_181773")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181773.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint64_t *) mem_181716, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181765, "mem_181765") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181769, "mem_181769") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181773, "mem_181773") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181674, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181806.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181677, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181803.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181680, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181800.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181820, bytes_181673, "mem_181820")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181820.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint8_t *) mem_181674, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181824, bytes_181676, "mem_181824")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181824.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint64_t *) mem_181677, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181828, bytes_181676, "mem_181828")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint64_t *) mem_181680, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        
                        bool loop_cond_180048 = slt64(next_stride_179616, flat_dim_179420);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182609, &mem_181820, "mem_181820") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182610, &mem_181824, "mem_181824") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182611, &mem_181828, "mem_181828") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182612 = bytes_181673;
                        bool loop_while_tmp_182613 = loop_cond_180048;
                        int64_t stride_tmp_182617 = next_stride_179616;
                        
                        if (memblock_set(ctx, &mem_param_181666, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181669, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181672, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179610 = loop_dz2084Uz2082U_tmp_182612;
                        loop_while_179611 = loop_while_tmp_182613;
                        stride_179615 = stride_tmp_182617;
                    }
                    if (memblock_set(ctx, &ext_mem_181838, &mem_param_181666, "mem_param_181666") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181837, &mem_param_181669, "mem_param_181669") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181836, &mem_param_181672, "mem_param_181672") != 0)
                        return 1;
                    data_179604 = loop_dz2084Uz2082U_179610;
                    data_179605 = loop_while_179611;
                    data_179609 = stride_179615;
                    if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
                        return 1;
                    
                    bool empty_slice_180049 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180050 = sle64((int64_t) 0, zs_lhs_179404);
                    bool i_p_m_t_s_leq_w_180051 = slt64(zs_lhs_179404, data_179604);
                    bool y_180052 = zzero_leq_i_p_m_t_s_180050 && i_p_m_t_s_leq_w_180051;
                    bool ok_or_empty_180053 = empty_slice_180049 || y_180052;
                    bool index_certs_180054;
                    
                    if (!ok_or_empty_180053) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] out of bounds for array of shape [", (long long) data_179604, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:484:63-73\n   #6  ftsort.fut:477:1-484:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181847, &ext_mem_181838, "ext_mem_181838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &ext_mem_181837, "ext_mem_181837") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &ext_mem_181836, "ext_mem_181836") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181514, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181847.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181517, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181844.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181520, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181841.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
                    return 1;
                for (int64_t i_180853 = 0; i_180853 < perThread_175681; i_180853++) {
                    int64_t lifted_lambda_res_180076 = add64(zm_rhs_179360, i_180853);
                    
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + i_180853] = lifted_lambda_res_180076;
                }
                
                bool cond_180078 = card_179361 == zp_rhs_175680;
                
                if (cond_180078) {
                    bool y_180080 = slt64(card_179361, perThread_175681);
                    bool index_certs_180081;
                    
                    if (!y_180080) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:385:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:484:63-73\n   #3  ftsort.fut:477:1-484:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + card_179361] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181873, bytes_181166, "mem_181873")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182647 = 0; nest_i_182647 < window_sizze_142333; nest_i_182647++) {
                ((int64_t *) mem_181873.mem)[nest_i_182647] = (int64_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181875, bytes_181166, "mem_181875")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182648 = 0; nest_i_182648 < window_sizze_142333; nest_i_182648++) {
                ((int64_t *) mem_181875.mem)[nest_i_182648] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181876, window_sizze_142333, "mem_181876")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182649 = 0; nest_i_182649 < window_sizze_142333; nest_i_182649++) {
                ((int8_t *) mem_181876.mem)[nest_i_182649] = (int8_t) -1;
            }
            for (int64_t write_iter_180868 = 0; write_iter_180868 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682; write_iter_180868++) {
                int64_t new_index_181020 = squot64(write_iter_180868, perThread_175681);
                int64_t binop_y_181022 = perThread_175681 * new_index_181020;
                int64_t new_index_181023 = write_iter_180868 - binop_y_181022;
                int64_t write_iv_180872 = ((int64_t *) mem_181512)[new_index_181020 * perThread_175681 + new_index_181023];
                int8_t write_iv_180873 = ((int8_t *) mem_181514)[new_index_181020 * perThread_175681 + new_index_181023];
                int64_t write_iv_180874 = ((int64_t *) mem_181517)[new_index_181020 * perThread_175681 + new_index_181023];
                int64_t write_iv_180875 = ((int64_t *) mem_181520)[new_index_181020 * perThread_175681 + new_index_181023];
                
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_142333)) {
                    ((int8_t *) mem_181876.mem)[write_iv_180872] = write_iv_180873;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_142333)) {
                    ((int64_t *) mem_181875.mem)[write_iv_180872] = write_iv_180874;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_142333)) {
                    ((int64_t *) mem_181873.mem)[write_iv_180872] = write_iv_180875;
                }
            }
            
            int64_t index_concat_branch_180104;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180105 = ((int64_t *) mem_181495)[index_concat_i_178445];
                
                index_concat_branch_180104 = index_concat_180105;
            } else {
                index_concat_branch_180104 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180106;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180107 = ((int64_t *) mem_181497)[index_concat_i_178445];
                
                index_concat_branch_180106 = index_concat_180107;
            } else {
                index_concat_branch_180106 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181876, "mem_181876") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181875, "mem_181875") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181873, "mem_181873") != 0)
                return 1;
            loopres_175671 = index_concat_branch_180104;
            loopres_175672 = index_concat_branch_180106;
        } else {
            int64_t leq_lhs_176662 = ((int64_t *) a_list_mem_181133.mem)[p_175643];
            int64_t leq_rhs_176665 = ((int64_t *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_176666 = sle64(leq_lhs_176662, leq_rhs_176665);
            int64_t lowest_176667;
            
            if (defunc_0_leq_res_176666) {
                bool index_certs_180108;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:250:44-49\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_lhs_176662;
            } else {
                bool index_certs_176672;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:250:55-60\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_rhs_176665;
            }
            if (mem_181150_cached_sizze_183037 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183037, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181152_cached_sizze_183038 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_183038, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180883 = 0; i_180883 < threads_142334; i_180883++) {
                int64_t index_primexp_181099 = add64((int64_t) 1, i_180883);
                int64_t zs_lhs_176688 = mul64(zt_rhs_176681, index_primexp_181099);
                int64_t index_176689 = sdiv64(zs_lhs_176688, partitionFunc_arg0_176658);
                bool cond_176690 = slt64(window_sizze_142333, index_176689);
                int64_t loop_over_176691;
                
                if (cond_176690) {
                    loop_over_176691 = window_sizze_142333;
                } else {
                    loop_over_176691 = index_176689;
                }
                
                int64_t loop_over_176692;
                
                if (cond_176690) {
                    int64_t loop_over_t_res_180109 = sub64(index_176689, window_sizze_142333);
                    
                    loop_over_176692 = loop_over_t_res_180109;
                } else {
                    loop_over_176692 = (int64_t) 0;
                }
                
                int64_t loop_over_176694;
                
                if (cond_176690) {
                    int64_t zm_lhs_180110 = sub64(index_176689, window_sizze_142333);
                    int64_t loop_over_t_res_180111 = sub64(zm_lhs_180110, (int64_t) 1);
                    
                    loop_over_176694 = loop_over_t_res_180111;
                } else {
                    loop_over_176694 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176697;
                int64_t defunc_0_f_res_176698;
                int64_t defunc_0_f_res_176699;
                int64_t defunc_0_f_res_176700;
                bool loop_while_176701;
                int64_t p_176702;
                int64_t p_176703;
                int64_t p_176704;
                
                loop_while_176701 = 1;
                p_176702 = loop_over_176694;
                p_176703 = loop_over_176691;
                p_176704 = loop_over_176692;
                while (loop_while_176701) {
                    int64_t zs_lhs_176705 = sub64(p_176703, p_176702);
                    int64_t offset_176706 = sdiv64(zs_lhs_176705, (int64_t) 2);
                    int64_t ai_176707 = sub64(p_176703, offset_176706);
                    int64_t max_arg1_176708 = add64(p_176704, offset_176706);
                    int64_t max_res_176709 = smax64((int64_t) 0, max_arg1_176708);
                    bool cond_176710 = slt64((int64_t) 0, max_res_176709);
                    int64_t b_prev_176711;
                    
                    if (cond_176710) {
                        int64_t tmp_180112 = sub64(max_res_176709, (int64_t) 1);
                        bool x_180113 = sle64((int64_t) 0, tmp_180112);
                        bool y_180114 = slt64(tmp_180112, window_sizze_142333);
                        bool bounds_check_180115 = x_180113 && y_180114;
                        bool index_certs_180116;
                        
                        if (!bounds_check_180115) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180112, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180117 = p_175644 + tmp_180112;
                        int64_t b_prev_t_res_180118 = ((int64_t *) b_list_mem_181134.mem)[slice_180117];
                        
                        b_prev_176711 = b_prev_t_res_180118;
                    } else {
                        b_prev_176711 = lowest_176667;
                    }
                    
                    bool cond_176718 = sle64(ai_176707, (int64_t) 0);
                    int64_t loopres_176719;
                    int64_t loopres_176720;
                    int64_t loopres_176721;
                    bool loopres_176722;
                    
                    if (cond_176718) {
                        loopres_176719 = p_176702;
                        loopres_176720 = (int64_t) 0;
                        loopres_176721 = max_res_176709;
                        loopres_176722 = 0;
                    } else {
                        bool cond_176723 = sle64(window_sizze_142333, max_res_176709);
                        int64_t loopres_f_res_176724;
                        int64_t loopres_f_res_176725;
                        int64_t loopres_f_res_176726;
                        bool loopres_f_res_176727;
                        
                        if (cond_176723) {
                            int64_t min_res_180120 = smin64(m_175632, ai_176707);
                            bool x_180121 = sle64((int64_t) 0, m_175632);
                            bool y_180122 = slt64(m_175632, window_sizze_142333);
                            bool bounds_check_180123 = x_180121 && y_180122;
                            bool index_certs_180124;
                            
                            if (!bounds_check_180123) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180127 = sle64((int64_t) 0, min_res_180120);
                            bool y_180128 = slt64(min_res_180120, window_sizze_142333);
                            bool bounds_check_180129 = x_180127 && y_180128;
                            bool index_certs_180130;
                            
                            if (!bounds_check_180129) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180120, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_180126 = ((int64_t *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_180131 = p_175643 + min_res_180120;
                            int64_t leq_rhs_180132 = ((int64_t *) a_list_mem_181133.mem)[slice_180131];
                            bool defunc_0_leq_res_180133 = sle64(leq_lhs_180126, leq_rhs_180132);
                            int64_t loopres_f_res_t_res_180134;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180134 = ai_176707;
                            } else {
                                loopres_f_res_t_res_180134 = p_176703;
                            }
                            
                            bool x_180135 = !defunc_0_leq_res_180133;
                            int64_t loopres_f_res_t_res_180136;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180136 = window_sizze_142333;
                            } else {
                                int64_t tmp_180137 = sub64(m_175632, offset_176706);
                                
                                loopres_f_res_t_res_180136 = tmp_180137;
                            }
                            loopres_f_res_176724 = p_176702;
                            loopres_f_res_176725 = loopres_f_res_t_res_180134;
                            loopres_f_res_176726 = loopres_f_res_t_res_180136;
                            loopres_f_res_176727 = x_180135;
                        } else {
                            bool cond_176745 = sle64(window_sizze_142333, ai_176707);
                            int64_t loopres_f_res_f_res_176746;
                            int64_t loopres_f_res_f_res_176747;
                            int64_t loopres_f_res_f_res_176748;
                            bool loopres_f_res_f_res_176749;
                            
                            if (cond_176745) {
                                int64_t min_res_180139 = smin64(m_175632, max_res_176709);
                                bool x_180140 = sle64((int64_t) 0, m_175632);
                                bool y_180141 = slt64(m_175632, window_sizze_142333);
                                bool bounds_check_180142 = x_180140 && y_180141;
                                bool index_certs_180143;
                                
                                if (!bounds_check_180142) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180146 = sle64((int64_t) 0, min_res_180139);
                                bool y_180147 = slt64(min_res_180139, window_sizze_142333);
                                bool bounds_check_180148 = x_180146 && y_180147;
                                bool index_certs_180149;
                                
                                if (!bounds_check_180148) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180139, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_180145 = ((int64_t *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_180150 = p_175644 + min_res_180139;
                                int64_t leq_rhs_180151 = ((int64_t *) b_list_mem_181134.mem)[slice_180150];
                                bool defunc_0_leq_res_180152 = sle64(leq_lhs_180145, leq_rhs_180151);
                                int64_t loopres_f_res_f_res_t_res_180153;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180153 = max_res_176709;
                                } else {
                                    loopres_f_res_f_res_t_res_180153 = p_176704;
                                }
                                
                                bool x_180154 = !defunc_0_leq_res_180152;
                                int64_t loopres_f_res_f_res_t_res_180155;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180155 = window_sizze_142333;
                                } else {
                                    loopres_f_res_f_res_t_res_180155 = m_175632;
                                }
                                loopres_f_res_f_res_176746 = p_176702;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_t_res_180155;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_t_res_180153;
                                loopres_f_res_f_res_176749 = x_180154;
                            } else {
                                bool cond_176766 = sle64(p_176703, p_176702);
                                int64_t loopres_f_res_f_res_f_res_176767;
                                int64_t loopres_f_res_f_res_f_res_176768;
                                int64_t loopres_f_res_f_res_f_res_176769;
                                bool loopres_f_res_f_res_f_res_176770;
                                
                                if (cond_176766) {
                                    bool cond_180194 = slt64(ai_176707, window_sizze_142333);
                                    int64_t ai_180195;
                                    
                                    if (cond_180194) {
                                        ai_180195 = ai_176707;
                                    } else {
                                        ai_180195 = m_175632;
                                    }
                                    
                                    bool x_180208 = sle64((int64_t) 0, ai_180195);
                                    bool y_180209 = slt64(ai_180195, window_sizze_142333);
                                    bool bounds_check_180210 = x_180208 && y_180209;
                                    bool index_certs_180211;
                                    
                                    if (!bounds_check_180210) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180195, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_180197;
                                    
                                    if (cond_176710) {
                                        int64_t tmp_180198 = sub64(max_res_176709, (int64_t) 1);
                                        bool x_180199 = sle64((int64_t) 0, tmp_180198);
                                        bool y_180200 = slt64(tmp_180198, window_sizze_142333);
                                        bool bounds_check_180201 = x_180199 && y_180200;
                                        bool index_certs_180202;
                                        
                                        if (!bounds_check_180201) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180198, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180203 = p_175644 + tmp_180198;
                                        int64_t b_prev_t_res_180204 = ((int64_t *) b_list_mem_181134.mem)[slice_180203];
                                        
                                        b_prev_180197 = b_prev_t_res_180204;
                                    } else {
                                        bool index_certs_180206;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180197 = leq_rhs_176665;
                                    }
                                    
                                    int64_t slice_180212 = p_175643 + ai_180195;
                                    int64_t gt_lhs_180213 = ((int64_t *) a_list_mem_181133.mem)[slice_180212];
                                    bool defunc_0_gt_res_180214 = slt64(b_prev_180197, gt_lhs_180213);
                                    int64_t defunc_0_partFunc_sequential_search_res_180215;
                                    int64_t defunc_0_partFunc_sequential_search_res_180216;
                                    
                                    if (defunc_0_gt_res_180214) {
                                        int64_t zl_rhs_180217 = sub64(window_sizze_142333, max_res_176709);
                                        bool loop_cond_180218 = slt64((int64_t) 0, zl_rhs_180217);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180219;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180221;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180222;
                                        bool loop_while_180223;
                                        int64_t p_180224;
                                        int64_t p_180225;
                                        int64_t p_180226;
                                        
                                        loop_while_180223 = loop_cond_180218;
                                        p_180224 = ai_180195;
                                        p_180225 = max_res_176709;
                                        p_180226 = (int64_t) 0;
                                        while (loop_while_180223) {
                                            int64_t i_a_180227 = sub64(ai_180195, p_180226);
                                            int64_t i_b_180228 = add64(max_res_176709, p_180226);
                                            int64_t leq_lhs_180229 = sub64(i_a_180227, (int64_t) 1);
                                            bool x_180230 = sle64((int64_t) 0, leq_lhs_180229);
                                            bool y_180231 = slt64(leq_lhs_180229, window_sizze_142333);
                                            bool bounds_check_180232 = x_180230 && y_180231;
                                            bool index_certs_180233;
                                            
                                            if (!bounds_check_180232) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180229, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180236 = sle64((int64_t) 0, i_b_180228);
                                            bool y_180237 = slt64(i_b_180228, window_sizze_142333);
                                            bool bounds_check_180238 = x_180236 && y_180237;
                                            bool index_certs_180239;
                                            
                                            if (!bounds_check_180238) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180228, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180234 = p_175643 + leq_lhs_180229;
                                            int64_t leq_lhs_180235 = ((int64_t *) a_list_mem_181133.mem)[slice_180234];
                                            int64_t slice_180240 = p_175644 + i_b_180228;
                                            int64_t leq_rhs_180241 = ((int64_t *) b_list_mem_181134.mem)[slice_180240];
                                            bool defunc_0_leq_res_180242 = sle64(leq_lhs_180235, leq_rhs_180241);
                                            int64_t loopres_180243;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180243 = i_a_180227;
                                            } else {
                                                loopres_180243 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180244;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180244 = i_b_180228;
                                            } else {
                                                loopres_180244 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180245;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180245 = zl_rhs_180217;
                                            } else {
                                                int64_t tmp_180246 = add64((int64_t) 1, p_180226);
                                                
                                                loopres_180245 = tmp_180246;
                                            }
                                            
                                            bool loop_cond_180247 = slt64(loopres_180245, zl_rhs_180217);
                                            bool loop_while_tmp_182659 = loop_cond_180247;
                                            int64_t p_tmp_182660 = loopres_180243;
                                            int64_t p_tmp_182661 = loopres_180244;
                                            int64_t p_tmp_182662 = loopres_180245;
                                            
                                            loop_while_180223 = loop_while_tmp_182659;
                                            p_180224 = p_tmp_182660;
                                            p_180225 = p_tmp_182661;
                                            p_180226 = p_tmp_182662;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180219 = loop_while_180223;
                                        defunc_0_partFunc_sequential_search_res_t_res_180220 = p_180224;
                                        defunc_0_partFunc_sequential_search_res_t_res_180221 = p_180225;
                                        defunc_0_partFunc_sequential_search_res_t_res_180222 = p_180226;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_t_res_180221;
                                    } else {
                                        int64_t zl_rhs_180248 = sub64(max_res_176709, (int64_t) 1);
                                        bool loop_cond_180249 = slt64((int64_t) 0, zl_rhs_180248);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180250;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180252;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180253;
                                        bool loop_while_180254;
                                        int64_t p_180255;
                                        int64_t p_180256;
                                        int64_t p_180257;
                                        
                                        loop_while_180254 = loop_cond_180249;
                                        p_180255 = ai_180195;
                                        p_180256 = max_res_176709;
                                        p_180257 = (int64_t) 0;
                                        while (loop_while_180254) {
                                            int64_t zp_lhs_180258 = add64(ai_180195, p_180257);
                                            int64_t hi_a_180259 = add64((int64_t) 1, zp_lhs_180258);
                                            bool cond_180260 = slt64(hi_a_180259, window_sizze_142333);
                                            int64_t i_a_180261;
                                            
                                            if (cond_180260) {
                                                i_a_180261 = hi_a_180259;
                                            } else {
                                                i_a_180261 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_180263 = sub64(max_res_176709, p_180257);
                                            int64_t i_b_180264 = sub64(zm_lhs_180263, (int64_t) 1);
                                            bool x_180265 = sle64((int64_t) 0, i_a_180261);
                                            bool y_180266 = slt64(i_a_180261, window_sizze_142333);
                                            bool bounds_check_180267 = x_180265 && y_180266;
                                            bool index_certs_180268;
                                            
                                            if (!bounds_check_180267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180261, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180271 = sle64((int64_t) 0, i_b_180264);
                                            bool y_180272 = slt64(i_b_180264, window_sizze_142333);
                                            bool bounds_check_180273 = x_180271 && y_180272;
                                            bool index_certs_180274;
                                            
                                            if (!bounds_check_180273) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180264, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180269 = p_175643 + i_a_180261;
                                            int64_t gt_lhs_180270 = ((int64_t *) a_list_mem_181133.mem)[slice_180269];
                                            int64_t slice_180275 = p_175644 + i_b_180264;
                                            int64_t gt_rhs_180276 = ((int64_t *) b_list_mem_181134.mem)[slice_180275];
                                            bool defunc_0_gt_res_180277 = slt64(gt_rhs_180276, gt_lhs_180270);
                                            int64_t loopres_180278;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180278 = i_a_180261;
                                            } else {
                                                loopres_180278 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180279;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180279 = zm_lhs_180263;
                                            } else {
                                                loopres_180279 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180280;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180280 = zl_rhs_180248;
                                            } else {
                                                int64_t tmp_180281 = add64((int64_t) 1, p_180257);
                                                
                                                loopres_180280 = tmp_180281;
                                            }
                                            
                                            bool loop_cond_180282 = slt64(loopres_180280, zl_rhs_180248);
                                            bool loop_while_tmp_182663 = loop_cond_180282;
                                            int64_t p_tmp_182664 = loopres_180278;
                                            int64_t p_tmp_182665 = loopres_180279;
                                            int64_t p_tmp_182666 = loopres_180280;
                                            
                                            loop_while_180254 = loop_while_tmp_182663;
                                            p_180255 = p_tmp_182664;
                                            p_180256 = p_tmp_182665;
                                            p_180257 = p_tmp_182666;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180250 = loop_while_180254;
                                        defunc_0_partFunc_sequential_search_res_f_res_180251 = p_180255;
                                        defunc_0_partFunc_sequential_search_res_f_res_180252 = p_180256;
                                        defunc_0_partFunc_sequential_search_res_f_res_180253 = p_180257;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_f_res_180252;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = p_176702;
                                    loopres_f_res_f_res_f_res_176768 = defunc_0_partFunc_sequential_search_res_180215;
                                    loopres_f_res_f_res_f_res_176769 = defunc_0_partFunc_sequential_search_res_180216;
                                    loopres_f_res_f_res_f_res_176770 = 0;
                                } else {
                                    bool x_176854 = sle64((int64_t) 0, ai_176707);
                                    bool y_176855 = slt64(ai_176707, window_sizze_142333);
                                    bool bounds_check_176856 = x_176854 && y_176855;
                                    bool index_certs_176857;
                                    
                                    if (!bounds_check_176856) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176707, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178523 = p_175643 + ai_176707;
                                    int64_t gt_lhs_176858 = ((int64_t *) a_list_mem_181133.mem)[slice_178523];
                                    bool defunc_0_gt_res_176859 = slt64(b_prev_176711, gt_lhs_176858);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176862;
                                    bool loopres_f_res_f_res_f_res_f_res_176863;
                                    
                                    if (defunc_0_gt_res_176859) {
                                        int64_t leq_lhs_180283 = sub64(ai_176707, (int64_t) 1);
                                        bool x_180284 = sle64((int64_t) 0, leq_lhs_180283);
                                        bool y_180285 = slt64(leq_lhs_180283, window_sizze_142333);
                                        bool bounds_check_180286 = x_180284 && y_180285;
                                        bool index_certs_180287;
                                        
                                        if (!bounds_check_180286) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180283, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180290 = sle64((int64_t) 0, max_res_176709);
                                        bool y_180291 = slt64(max_res_176709, window_sizze_142333);
                                        bool bounds_check_180292 = x_180290 && y_180291;
                                        bool index_certs_180293;
                                        
                                        if (!bounds_check_180292) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176709, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180288 = p_175643 + leq_lhs_180283;
                                        int64_t leq_lhs_180289 = ((int64_t *) a_list_mem_181133.mem)[slice_180288];
                                        int64_t slice_180294 = p_175644 + max_res_176709;
                                        int64_t leq_rhs_180295 = ((int64_t *) b_list_mem_181134.mem)[slice_180294];
                                        bool defunc_0_leq_res_180296 = sle64(leq_lhs_180289, leq_rhs_180295);
                                        bool x_180297 = !defunc_0_leq_res_180296;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = ai_176707;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = leq_lhs_180283;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = max_res_176709;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, max_res_176709);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = tmp_180300;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176860 = p_176702;
                                        loopres_f_res_f_res_f_res_f_res_176861 = loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        loopres_f_res_f_res_f_res_f_res_176862 = loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        loopres_f_res_f_res_f_res_f_res_176863 = x_180297;
                                    } else {
                                        int64_t tmp_176880 = add64((int64_t) 1, ai_176707);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176860 = tmp_176880;
                                        loopres_f_res_f_res_f_res_f_res_176861 = p_176703;
                                        loopres_f_res_f_res_f_res_f_res_176862 = p_176704;
                                        loopres_f_res_f_res_f_res_f_res_176863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = loopres_f_res_f_res_f_res_f_res_176860;
                                    loopres_f_res_f_res_f_res_176768 = loopres_f_res_f_res_f_res_f_res_176861;
                                    loopres_f_res_f_res_f_res_176769 = loopres_f_res_f_res_f_res_f_res_176862;
                                    loopres_f_res_f_res_f_res_176770 = loopres_f_res_f_res_f_res_f_res_176863;
                                }
                                loopres_f_res_f_res_176746 = loopres_f_res_f_res_f_res_176767;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_f_res_176768;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_f_res_176769;
                                loopres_f_res_f_res_176749 = loopres_f_res_f_res_f_res_176770;
                            }
                            loopres_f_res_176724 = loopres_f_res_f_res_176746;
                            loopres_f_res_176725 = loopres_f_res_f_res_176747;
                            loopres_f_res_176726 = loopres_f_res_f_res_176748;
                            loopres_f_res_176727 = loopres_f_res_f_res_176749;
                        }
                        loopres_176719 = loopres_f_res_176724;
                        loopres_176720 = loopres_f_res_176725;
                        loopres_176721 = loopres_f_res_176726;
                        loopres_176722 = loopres_f_res_176727;
                    }
                    
                    bool loop_while_tmp_182655 = loopres_176722;
                    int64_t p_tmp_182656 = loopres_176719;
                    int64_t p_tmp_182657 = loopres_176720;
                    int64_t p_tmp_182658 = loopres_176721;
                    
                    loop_while_176701 = loop_while_tmp_182655;
                    p_176702 = p_tmp_182656;
                    p_176703 = p_tmp_182657;
                    p_176704 = p_tmp_182658;
                }
                defunc_0_f_res_176697 = loop_while_176701;
                defunc_0_f_res_176698 = p_176702;
                defunc_0_f_res_176699 = p_176703;
                defunc_0_f_res_176700 = p_176704;
                ((int64_t *) mem_181150)[i_180883] = defunc_0_f_res_176699;
                ((int64_t *) mem_181152)[i_180883] = defunc_0_f_res_176700;
            }
            if (memblock_alloc(ctx, &mem_181165, window_sizze_142333, "mem_181165")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182667 = 0; nest_i_182667 < window_sizze_142333; nest_i_182667++) {
                ((int8_t *) mem_181165.mem)[nest_i_182667] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181167, bytes_181166, "mem_181167")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182668 = 0; nest_i_182668 < window_sizze_142333; nest_i_182668++) {
                ((int64_t *) mem_181167.mem)[nest_i_182668] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181169, bytes_181166, "mem_181169")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182669 = 0; nest_i_182669 < window_sizze_142333; nest_i_182669++) {
                ((int64_t *) mem_181169.mem)[nest_i_182669] = (int64_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176907;
            int64_t defunc_0_mergeFunc_seq_res_176908;
            bool loop_while_176912;
            int64_t p_176913;
            
            loop_while_176912 = loop_cond_176906;
            p_176913 = (int64_t) 0;
            while (loop_while_176912) {
                bool x_176917 = sle64((int64_t) 0, p_176913);
                bool y_176918 = slt64(p_176913, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176919 = x_176917 && y_176918;
                bool index_certs_176920;
                
                if (!bounds_check_176919) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176913, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:339:19-39\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178506 = sle64((int64_t) 1, p_176913);
                int64_t index_concat_i_178507 = sub64(p_176913, (int64_t) 1);
                int64_t index_concat_178508;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180301 = ((int64_t *) mem_181150)[index_concat_i_178507];
                    
                    index_concat_178508 = x_180301;
                } else {
                    index_concat_178508 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178510;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178510 = index_concat_178508;
                } else {
                    index_concat_branch_178510 = (int64_t) 0;
                }
                
                int64_t index_concat_178502;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180302 = ((int64_t *) mem_181152)[index_concat_i_178507];
                    
                    index_concat_178502 = x_180302;
                } else {
                    index_concat_178502 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178504;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178504 = index_concat_178502;
                } else {
                    index_concat_branch_178504 = (int64_t) 0;
                }
                
                int64_t ubs_176923 = add64((int64_t) 1, p_176913);
                bool x_176924 = sle64((int64_t) 0, ubs_176923);
                bool y_176925 = slt64(ubs_176923, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176926 = x_176924 && y_176925;
                bool index_certs_176927;
                
                if (!bounds_check_176926) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:340:19-41\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178494 = sle64((int64_t) 1, ubs_176923);
                int64_t index_concat_178496;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180303 = ((int64_t *) mem_181150)[p_176913];
                    
                    index_concat_178496 = x_180303;
                } else {
                    index_concat_178496 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178498;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178498 = index_concat_178496;
                } else {
                    index_concat_branch_178498 = (int64_t) 0;
                }
                
                int64_t index_concat_178490;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180304 = ((int64_t *) mem_181152)[p_176913];
                    
                    index_concat_178490 = x_180304;
                } else {
                    index_concat_178490 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178492;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178492 = index_concat_178490;
                } else {
                    index_concat_branch_178492 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 = sub64(index_concat_branch_178492, index_concat_branch_178504);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 = sub64(index_concat_branch_178498, index_concat_branch_178510);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t ind_bottom_176933 = add64(index_concat_branch_178504, index_concat_branch_178510);
                int64_t ind_top_176934 = add64(index_concat_branch_178492, index_concat_branch_178498);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 = sub64(ind_top_176934, ind_bottom_176933);
                bool empty_slice_176936 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 == (int64_t) 0;
                int64_t m_176937 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 1);
                int64_t i_p_m_t_s_176938 = add64(m_176937, index_concat_branch_178510);
                bool zzero_leq_i_p_m_t_s_176939 = sle64((int64_t) 0, i_p_m_t_s_176938);
                bool i_p_m_t_s_leq_w_176940 = slt64(i_p_m_t_s_176938, window_sizze_142333);
                bool zzero_lte_i_176941 = sle64((int64_t) 0, index_concat_branch_178510);
                bool i_lte_j_176942 = sle64(index_concat_branch_178510, index_concat_branch_178498);
                bool y_176943 = i_p_m_t_s_leq_w_176940 && zzero_lte_i_176941;
                bool y_176944 = zzero_leq_i_p_m_t_s_176939 && y_176943;
                bool forwards_ok_176945 = i_lte_j_176942 && y_176944;
                bool ok_or_empty_176946 = empty_slice_176936 || forwards_ok_176945;
                bool index_certs_176947;
                
                if (!ok_or_empty_176946) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178510, ":", (long long) index_concat_branch_178498, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:343:71-86\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(index_concat_branch_178498, index_concat_branch_178510);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool range_valid_c_176950;
                
                if (!valid_176949) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178510, "..<", (long long) index_concat_branch_178498, " is invalid.", "-> #0  ftsort.fut:343:52-69\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176956 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 == (int64_t) 0;
                int64_t m_176957 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, (int64_t) 1);
                int64_t i_p_m_t_s_176958 = add64(m_176957, index_concat_branch_178504);
                bool zzero_leq_i_p_m_t_s_176959 = sle64((int64_t) 0, i_p_m_t_s_176958);
                bool i_p_m_t_s_leq_w_176960 = slt64(i_p_m_t_s_176958, window_sizze_142333);
                bool zzero_lte_i_176961 = sle64((int64_t) 0, index_concat_branch_178504);
                bool i_lte_j_176962 = sle64(index_concat_branch_178504, index_concat_branch_178492);
                bool y_176963 = i_p_m_t_s_leq_w_176960 && zzero_lte_i_176961;
                bool y_176964 = zzero_leq_i_p_m_t_s_176959 && y_176963;
                bool forwards_ok_176965 = i_lte_j_176962 && y_176964;
                bool ok_or_empty_176966 = empty_slice_176956 || forwards_ok_176965;
                bool index_certs_176967;
                
                if (!ok_or_empty_176966) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178504, ":", (long long) index_concat_branch_178492, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:344:71-86\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176968 = slt64(index_concat_branch_178492, index_concat_branch_178504);
                bool valid_176969 = !bounds_invalid_upwards_176968;
                bool range_valid_c_176970;
                
                if (!valid_176969) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178504, "..<", (long long) index_concat_branch_178492, " is invalid.", "-> #0  ftsort.fut:344:52-69\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181186 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool cond_176979 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zs_lhs_176980 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zp_rhs_176981 = sdiv_safe64(zs_lhs_176980, (int64_t) 20);
                int64_t min_num_blocks_176982 = add64((int64_t) 1, zp_rhs_176981);
                bool loop_cond_176983 = slt64((int64_t) 1, min_num_blocks_176982);
                bool smallest_pow_2_geq_than_res_176984;
                int64_t smallest_pow_2_geq_than_res_176985;
                bool loop_while_176986;
                int64_t x_176987;
                
                loop_while_176986 = loop_cond_176983;
                x_176987 = (int64_t) 1;
                while (loop_while_176986) {
                    int64_t loopres_176988 = mul64((int64_t) 2, x_176987);
                    bool loop_cond_176989 = slt64(loopres_176988, min_num_blocks_176982);
                    bool loop_while_tmp_182675 = loop_cond_176989;
                    int64_t x_tmp_182676 = loopres_176988;
                    
                    loop_while_176986 = loop_while_tmp_182675;
                    x_176987 = x_tmp_182676;
                }
                smallest_pow_2_geq_than_res_176984 = loop_while_176986;
                smallest_pow_2_geq_than_res_176985 = x_176987;
                
                bool zzero_176990 = smallest_pow_2_geq_than_res_176985 == (int64_t) 0;
                bool nonzzero_176991 = !zzero_176990;
                bool protect_assert_disj_176992 = cond_176979 || nonzzero_176991;
                bool nonzzero_cert_176993;
                
                if (!protect_assert_disj_176992) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176994 = sdiv_safe64(zs_lhs_176980, smallest_pow_2_geq_than_res_176985);
                int64_t block_sizze_176995 = add64((int64_t) 1, zp_rhs_176994);
                bool y_177002 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                bool protect_assert_disj_182339 = cond_176979 || y_177002;
                bool index_certs_177003;
                
                if (!protect_assert_disj_182339) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177029 = slt64(smallest_pow_2_geq_than_res_176985, (int64_t) 0);
                bool valid_177030 = !bounds_invalid_upwards_177029;
                bool protect_assert_disj_182349 = cond_176979 || valid_177030;
                bool range_valid_c_177031;
                
                if (!protect_assert_disj_182349) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176985, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177033 = slt64(block_sizze_176995, (int64_t) 0);
                bool valid_177034 = !bounds_invalid_upwards_177033;
                bool protect_assert_disj_182351 = cond_176979 || valid_177034;
                bool range_valid_c_177035;
                
                if (!protect_assert_disj_182351) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176995, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_177037 = sle64(block_sizze_176995, (int64_t) 1);
                int64_t tmp_177038 = sub64(block_sizze_176995, (int64_t) 2);
                bool bounds_invalid_upwards_177039 = slt64(tmp_177038, (int64_t) 0);
                bool valid_177041 = !bounds_invalid_upwards_177039;
                bool protect_assert_disj_177042 = cond_177037 || valid_177041;
                bool protect_assert_disj_182353 = cond_176979 || protect_assert_disj_177042;
                bool range_valid_c_177043;
                
                if (!protect_assert_disj_182353) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177038, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177604 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool empty_or_match_cert_177605;
                
                if (!dim_match_177604) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "](i8, i64, i64)`.", "-> #0  ftsort.fut:345:22-351:50\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177606 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == (int64_t) 0;
                int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177608 = sle64((int64_t) 0, m_177607);
                bool i_p_m_t_s_leq_w_177609 = slt64(m_177607, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935);
                bool y_177610 = zzero_leq_i_p_m_t_s_177608 && i_p_m_t_s_leq_w_177609;
                bool ok_or_empty_177611 = empty_slice_177606 || y_177610;
                bool index_certs_177612;
                
                if (!ok_or_empty_177611) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "].", "-> #0  ftsort.fut:352:59-89\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177613 = add64(ind_bottom_176933, m_177607);
                bool zzero_leq_i_p_m_t_s_177614 = sle64((int64_t) 0, i_p_m_t_s_177613);
                bool i_p_m_t_s_leq_w_177615 = slt64(i_p_m_t_s_177613, window_sizze_142333);
                bool zzero_lte_i_177616 = sle64((int64_t) 0, ind_bottom_176933);
                bool i_lte_j_177617 = sle64(ind_bottom_176933, ind_top_176934);
                bool y_177618 = i_p_m_t_s_leq_w_177615 && zzero_lte_i_177616;
                bool y_177619 = zzero_leq_i_p_m_t_s_177614 && y_177618;
                bool forwards_ok_177620 = i_lte_j_177617 && y_177619;
                bool ok_or_empty_177621 = empty_slice_177606 || forwards_ok_177620;
                bool index_certs_177622;
                
                if (!ok_or_empty_177621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176933, ":", (long long) ind_top_176934, "] out of bounds for array of shape [", (long long) window_sizze_142333, "].", "-> #0  ftsort.fut:352:27-89\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178486 = p_175643 + index_concat_branch_178510;
                
                if (memblock_alloc(ctx, &mem_181185, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "mem_181185")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182677 = 0; nest_i_182677 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; nest_i_182677++) {
                    ((int8_t *) mem_181185.mem)[nest_i_182677] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181187, bytes_181186, "mem_181187")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182678 = 0; i_182678 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; i_182678++) {
                    int64_t x_182679 = index_concat_branch_178510 + i_182678 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[i_182678] = x_182679;
                }
                
                int64_t slice_178485 = p_175644 + index_concat_branch_178504;
                
                for (int64_t nest_i_182680 = 0; nest_i_182680 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; nest_i_182680++) {
                    ((int8_t *) mem_181185.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + nest_i_182680] = (int8_t) 1;
                }
                for (int64_t i_182681 = 0; i_182681 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; i_182681++) {
                    int64_t x_182682 = index_concat_branch_178504 + i_182681 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + i_182681] = x_182682;
                }
                
                int64_t tmp_offs_182683 = (int64_t) 0;
                
                if (!(tmp_offs_182683 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182683 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t tmp_offs_182684 = (int64_t) 0;
                
                if (!(tmp_offs_182684 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182684 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                if (memblock_alloc(ctx, &mem_181189, bytes_181186, "mem_181189")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182685 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181133.mem, slice_178486, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181134.mem, slice_178485, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t flat_dim_176996 = smallest_pow_2_geq_than_res_176985 * block_sizze_176995;
                bool x_182334 = !cond_176979;
                int64_t greatest_divisor_leq_than_arg1_177000 = mul64((int64_t) 2, block_sizze_176995);
                int64_t merge_block_sizze_177001;
                
                if (x_182334) {
                    int64_t x_182336;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182336, (int64_t) 8, greatest_divisor_leq_than_arg1_177000) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_177001 = x_182336;
                } else {
                    merge_block_sizze_177001 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178480 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 0);
                int8_t index_concat_branch_178484 = btoi_bool_i8(index_concat_cmp_178480);
                int64_t index_concat_i_180305 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t index_primexp_180306 = add64(index_concat_branch_178504, index_concat_i_180305);
                int64_t index_concat_branch_178478;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178478 = index_primexp_180306;
                } else {
                    index_concat_branch_178478 = index_concat_branch_178510;
                }
                
                bool x_182330 = !index_concat_cmp_178480;
                bool protect_cond_conj_182340 = x_182330 && x_182334;
                int64_t index_concat_178471;
                
                if (protect_cond_conj_182340) {
                    int64_t x_182332 = ((int64_t *) a_list_mem_181133.mem)[slice_178486];
                    
                    index_concat_178471 = x_182332;
                } else {
                    index_concat_178471 = (int64_t) 0;
                }
                
                int64_t slice_180308 = slice_178485 + index_concat_i_180305;
                bool protect_cond_conj_182341 = index_concat_cmp_178480 && x_182334;
                int64_t index_concat_180309;
                
                if (protect_cond_conj_182341) {
                    int64_t x_182328 = ((int64_t *) b_list_mem_181134.mem)[slice_180308];
                    
                    index_concat_180309 = x_182328;
                } else {
                    index_concat_180309 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178472;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178472 = index_concat_180309;
                } else {
                    index_concat_branch_178472 = index_concat_178471;
                }
                
                int8_t defunc_0_reduce_res_180540;
                int64_t defunc_0_reduce_res_180541;
                int64_t defunc_0_reduce_res_180542;
                
                if (x_182334) {
                    int8_t x_182342;
                    int64_t x_182343;
                    int64_t x_182344;
                    int8_t redout_180886;
                    int64_t redout_180887;
                    int64_t redout_180888;
                    
                    redout_180886 = index_concat_branch_178484;
                    redout_180887 = index_concat_branch_178478;
                    redout_180888 = index_concat_branch_178472;
                    for (int64_t i_180889 = 0; i_180889 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932; i_180889++) {
                        bool index_concat_cmp_181093 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, i_180889);
                        int8_t index_concat_branch_181097 = btoi_bool_i8(index_concat_cmp_181093);
                        int64_t index_concat_branch_181091;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181088 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t index_primexp_181115 = add64(index_concat_branch_178504, index_concat_i_181088);
                            
                            index_concat_branch_181091 = index_primexp_181115;
                        } else {
                            int64_t index_primexp_181117 = add64(index_concat_branch_178510, i_180889);
                            
                            index_concat_branch_181091 = index_primexp_181117;
                        }
                        
                        int64_t index_concat_branch_181085;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181082 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t slice_181112 = slice_178485 + index_concat_i_181082;
                            int64_t index_concat_181083 = ((int64_t *) b_list_mem_181134.mem)[slice_181112];
                            
                            index_concat_branch_181085 = index_concat_181083;
                        } else {
                            int64_t slice_181113 = slice_178486 + i_180889;
                            int64_t index_concat_181084 = ((int64_t *) a_list_mem_181133.mem)[slice_181113];
                            
                            index_concat_branch_181085 = index_concat_181084;
                        }
                        
                        bool eq_x_y_181128 = redout_180886 == (int8_t) 1;
                        bool eq_x_zz_181129 = redout_180886 == (int8_t) 0;
                        bool p_and_eq_x_y_181130 = index_concat_cmp_181093 && eq_x_y_181128;
                        bool not_p_181131 = !index_concat_cmp_181093;
                        bool p_and_eq_x_y_181132 = eq_x_zz_181129 && not_p_181131;
                        bool cond_177019 = p_and_eq_x_y_181130 || p_and_eq_x_y_181132;
                        bool defunc_0_leq_res_t_res_177020 = sle64(redout_180887, index_concat_branch_181091);
                        bool defunc_0_leq_res_177021 = sle64(redout_180888, index_concat_branch_181085);
                        bool x_177022 = cond_177019 && defunc_0_leq_res_t_res_177020;
                        bool x_177023 = !cond_177019;
                        bool y_177024 = defunc_0_leq_res_177021 && x_177023;
                        bool defunc_0_leq_res_177025 = x_177022 || y_177024;
                        int8_t defunc_0_op_res_177026;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177026 = index_concat_branch_181097;
                        } else {
                            defunc_0_op_res_177026 = redout_180886;
                        }
                        
                        int64_t defunc_0_op_res_177027;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177027 = index_concat_branch_181091;
                        } else {
                            defunc_0_op_res_177027 = redout_180887;
                        }
                        
                        int64_t defunc_0_op_res_177028;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177028 = index_concat_branch_181085;
                        } else {
                            defunc_0_op_res_177028 = redout_180888;
                        }
                        
                        int8_t redout_tmp_182686 = defunc_0_op_res_177026;
                        int64_t redout_tmp_182687 = defunc_0_op_res_177027;
                        int64_t redout_tmp_182688 = defunc_0_op_res_177028;
                        
                        redout_180886 = redout_tmp_182686;
                        redout_180887 = redout_tmp_182687;
                        redout_180888 = redout_tmp_182688;
                    }
                    x_182342 = redout_180886;
                    x_182343 = redout_180887;
                    x_182344 = redout_180888;
                    defunc_0_reduce_res_180540 = x_182342;
                    defunc_0_reduce_res_180541 = x_182343;
                    defunc_0_reduce_res_180542 = x_182344;
                } else {
                    defunc_0_reduce_res_180540 = (int8_t) 0;
                    defunc_0_reduce_res_180541 = (int64_t) 0;
                    defunc_0_reduce_res_180542 = (int64_t) 0;
                }
                
                int64_t distance_177040 = add64((int64_t) 1, tmp_177038);
                int64_t binop_x_181192 = (int64_t) 8 * smallest_pow_2_geq_than_res_176985;
                int64_t bytes_181193 = block_sizze_176995 * binop_x_181192;
                int64_t bytes_181211 = (int64_t) 8 * block_sizze_176995;
                bool loop_cond_177149 = slt64(block_sizze_176995, flat_dim_176996);
                bool zzero_177150 = merge_block_sizze_177001 == (int64_t) 0;
                bool nonzzero_177151 = !zzero_177150;
                
                if (cond_176979) {
                    if (memblock_set(ctx, &ext_mem_181484, &mem_181185, "mem_181185") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &mem_181187, "mem_181187") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &mem_181189, "mem_181189") != 0)
                        return 1;
                } else {
                    if (mem_181191_cached_sizze_183039 < flat_dim_176996) {
                        err = lexical_realloc(ctx, &mem_181191, &mem_181191_cached_sizze_183039, flat_dim_176996);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181194_cached_sizze_183040 < bytes_181193) {
                        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_183040, bytes_181193);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181197_cached_sizze_183041 < bytes_181193) {
                        err = lexical_realloc(ctx, &mem_181197, &mem_181197_cached_sizze_183041, bytes_181193);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181210_cached_sizze_183042 < block_sizze_176995) {
                        err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_183042, block_sizze_176995);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181212_cached_sizze_183043 < bytes_181211) {
                        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_183043, bytes_181211);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181214_cached_sizze_183044 < bytes_181211) {
                        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_183044, bytes_181211);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180906 = 0; i_180906 < smallest_pow_2_geq_than_res_176985; i_180906++) {
                        int64_t zp_lhs_177048 = mul64(block_sizze_176995, i_180906);
                        
                        for (int64_t i_180896 = 0; i_180896 < block_sizze_176995; i_180896++) {
                            int64_t k_177053 = add64(zp_lhs_177048, i_180896);
                            bool cond_177054 = slt64(k_177053, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                            int8_t lifted_lambda_res_177055;
                            int64_t lifted_lambda_res_177056;
                            int64_t lifted_lambda_res_177057;
                            
                            if (cond_177054) {
                                bool x_180315 = sle64((int64_t) 0, k_177053);
                                bool bounds_check_180316 = cond_177054 && x_180315;
                                bool index_certs_180317;
                                
                                if (!bounds_check_180316) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177053, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180318 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, k_177053);
                                int8_t index_concat_branch_180319 = btoi_bool_i8(index_concat_cmp_180318);
                                int64_t index_concat_branch_180320;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180321 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t index_primexp_180322 = add64(index_concat_branch_178504, index_concat_i_180321);
                                    
                                    index_concat_branch_180320 = index_primexp_180322;
                                } else {
                                    int64_t index_primexp_180323 = add64(k_177053, index_concat_branch_178510);
                                    
                                    index_concat_branch_180320 = index_primexp_180323;
                                }
                                
                                int64_t index_concat_branch_180324;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180325 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t slice_180326 = slice_178485 + index_concat_i_180325;
                                    int64_t index_concat_180327 = ((int64_t *) b_list_mem_181134.mem)[slice_180326];
                                    
                                    index_concat_branch_180324 = index_concat_180327;
                                } else {
                                    int64_t slice_180328 = k_177053 + slice_178486;
                                    int64_t index_concat_180329 = ((int64_t *) a_list_mem_181133.mem)[slice_180328];
                                    
                                    index_concat_branch_180324 = index_concat_180329;
                                }
                                lifted_lambda_res_177055 = index_concat_branch_180319;
                                lifted_lambda_res_177056 = index_concat_branch_180320;
                                lifted_lambda_res_177057 = index_concat_branch_180324;
                            } else {
                                lifted_lambda_res_177055 = defunc_0_reduce_res_180540;
                                lifted_lambda_res_177056 = defunc_0_reduce_res_180541;
                                lifted_lambda_res_177057 = defunc_0_reduce_res_180542;
                            }
                            ((int8_t *) mem_181210)[i_180896] = lifted_lambda_res_177055;
                            ((int64_t *) mem_181212)[i_180896] = lifted_lambda_res_177056;
                            ((int64_t *) mem_181214)[i_180896] = lifted_lambda_res_177057;
                        }
                        if (!cond_177037) {
                            for (int64_t i_177070 = 0; i_177070 < distance_177040; i_177070++) {
                                int64_t gt_arg1_177074 = add64((int64_t) 1, i_177070);
                                bool x_177075 = sle64((int64_t) 0, gt_arg1_177074);
                                bool y_177076 = slt64(gt_arg1_177074, block_sizze_176995);
                                bool bounds_check_177077 = x_177075 && y_177076;
                                bool index_certs_177078;
                                
                                if (!bounds_check_177077) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177074, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177082 = slt64(i_177070, block_sizze_176995);
                                bool index_certs_177083;
                                
                                if (!y_177082) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177070, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_177079 = ((int8_t *) mem_181210)[gt_arg1_177074];
                                int64_t gt_arg1_177080 = ((int64_t *) mem_181212)[gt_arg1_177074];
                                int64_t gt_arg1_177081 = ((int64_t *) mem_181214)[gt_arg1_177074];
                                int8_t gt_arg0_177084 = ((int8_t *) mem_181210)[i_177070];
                                int64_t gt_arg0_177085 = ((int64_t *) mem_181212)[i_177070];
                                int64_t gt_arg0_177086 = ((int64_t *) mem_181214)[i_177070];
                                bool cond_177087 = gt_arg0_177084 == gt_arg1_177079;
                                bool defunc_0_leq_res_t_res_177088 = sle64(gt_arg0_177085, gt_arg1_177080);
                                bool defunc_0_leq_res_177089 = sle64(gt_arg0_177086, gt_arg1_177081);
                                bool x_177090 = cond_177087 && defunc_0_leq_res_t_res_177088;
                                bool x_177091 = !cond_177087;
                                bool y_177092 = defunc_0_leq_res_177089 && x_177091;
                                bool defunc_0_leq_res_177093 = x_177090 || y_177092;
                                bool defunc_0_lifted_gt_res_177094 = !defunc_0_leq_res_177093;
                                bool s_177095;
                                int64_t s_177099;
                                bool loop_while_177100;
                                int64_t j_177104;
                                
                                loop_while_177100 = defunc_0_lifted_gt_res_177094;
                                j_177104 = i_177070;
                                while (loop_while_177100) {
                                    bool x_177105 = sle64((int64_t) 0, j_177104);
                                    bool y_177106 = slt64(j_177104, block_sizze_176995);
                                    bool bounds_check_177107 = x_177105 && y_177106;
                                    bool index_certs_177108;
                                    
                                    if (!bounds_check_177107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177104, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177112 = add64((int64_t) 1, j_177104);
                                    bool x_177113 = sle64((int64_t) 0, copy_arg0_177112);
                                    bool y_177114 = slt64(copy_arg0_177112, block_sizze_176995);
                                    bool bounds_check_177115 = x_177113 && y_177114;
                                    bool index_certs_177116;
                                    
                                    if (!bounds_check_177115) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177112, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177109 = ((int8_t *) mem_181210)[j_177104];
                                    int64_t copy_arg0_177110 = ((int64_t *) mem_181212)[j_177104];
                                    int64_t copy_arg0_177111 = ((int64_t *) mem_181214)[j_177104];
                                    int8_t copy_arg0_177117 = ((int8_t *) mem_181210)[copy_arg0_177112];
                                    int64_t copy_arg0_177118 = ((int64_t *) mem_181212)[copy_arg0_177112];
                                    int64_t copy_arg0_177119 = ((int64_t *) mem_181214)[copy_arg0_177112];
                                    
                                    ((int8_t *) mem_181210)[j_177104] = copy_arg0_177117;
                                    ((int64_t *) mem_181212)[j_177104] = copy_arg0_177118;
                                    ((int64_t *) mem_181214)[j_177104] = copy_arg0_177119;
                                    ((int8_t *) mem_181210)[copy_arg0_177112] = copy_arg0_177109;
                                    ((int64_t *) mem_181212)[copy_arg0_177112] = copy_arg0_177110;
                                    ((int64_t *) mem_181214)[copy_arg0_177112] = copy_arg0_177111;
                                    
                                    int64_t tmp_177126 = sub64(j_177104, (int64_t) 1);
                                    bool cond_177127 = sle64((int64_t) 0, tmp_177126);
                                    bool loop_cond_177128;
                                    
                                    if (cond_177127) {
                                        bool y_180333 = slt64(tmp_177126, block_sizze_176995);
                                        bool bounds_check_180334 = cond_177127 && y_180333;
                                        bool index_certs_180335;
                                        
                                        if (!bounds_check_180334) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177126, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180330 = ((int8_t *) mem_181210)[j_177104];
                                        int64_t gt_arg1_180331 = ((int64_t *) mem_181212)[j_177104];
                                        int64_t gt_arg1_180332 = ((int64_t *) mem_181214)[j_177104];
                                        int8_t gt_arg0_180336 = ((int8_t *) mem_181210)[tmp_177126];
                                        int64_t gt_arg0_180337 = ((int64_t *) mem_181212)[tmp_177126];
                                        int64_t gt_arg0_180338 = ((int64_t *) mem_181214)[tmp_177126];
                                        bool cond_180339 = gt_arg0_180336 == gt_arg1_180330;
                                        bool defunc_0_leq_res_t_res_180340 = sle64(gt_arg0_180337, gt_arg1_180331);
                                        bool defunc_0_leq_res_180341 = sle64(gt_arg0_180338, gt_arg1_180332);
                                        bool x_180342 = cond_180339 && defunc_0_leq_res_t_res_180340;
                                        bool x_180343 = !cond_180339;
                                        bool y_180344 = defunc_0_leq_res_180341 && x_180343;
                                        bool defunc_0_leq_res_180345 = x_180342 || y_180344;
                                        bool defunc_0_lifted_gt_res_180346 = !defunc_0_leq_res_180345;
                                        
                                        loop_cond_177128 = defunc_0_lifted_gt_res_180346;
                                    } else {
                                        loop_cond_177128 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182698 = loop_cond_177128;
                                    int64_t j_tmp_182702 = tmp_177126;
                                    
                                    loop_while_177100 = loop_while_tmp_182698;
                                    j_177104 = j_tmp_182702;
                                }
                                s_177095 = loop_while_177100;
                                s_177099 = j_177104;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181191, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181194, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181212, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181197, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_176996, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint8_t *) mem_181191, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181193, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181193, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint64_t *) mem_181197, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    
                    int64_t data_177152;
                    bool data_177153;
                    int64_t data_177157;
                    int64_t loop_dz2084Uz2082U_177158;
                    bool loop_while_177159;
                    int64_t stride_177163;
                    
                    if (memblock_set(ctx, &mem_param_181303, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181306, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181309, &mem_181299, "mem_181299") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177158 = flat_dim_176996;
                    loop_while_177159 = loop_cond_177149;
                    stride_177163 = block_sizze_176995;
                    while (loop_while_177159) {
                        int64_t next_stride_177164 = mul64((int64_t) 2, stride_177163);
                        bool zzero_177165 = next_stride_177164 == (int64_t) 0;
                        bool nonzzero_177166 = !zzero_177165;
                        bool nonzzero_cert_177167;
                        
                        if (!nonzzero_177166) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177168 = sdiv64(flat_dim_176996, next_stride_177164);
                        bool bounds_invalid_upwards_177169 = slt64(num_merges_177168, (int64_t) 0);
                        bool valid_177170 = !bounds_invalid_upwards_177169;
                        bool range_valid_c_177171;
                        
                        if (!valid_177170) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177173 = sub64(next_stride_177164, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177174 = sle64((int64_t) 0, m_177173);
                        bool cond_177176 = slt64(next_stride_177164, (int64_t) 10);
                        bool protect_assert_disj_177177 = nonzzero_177151 || cond_177176;
                        bool nonzzero_cert_177178;
                        
                        if (!protect_assert_disj_177177) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177179 = smod_safe64(next_stride_177164, merge_block_sizze_177001);
                        bool num_blocks_177180 = zeze_lhs_177179 == (int64_t) 0;
                        bool protect_assert_disj_177181 = cond_177176 || num_blocks_177180;
                        bool assert_c_177182;
                        
                        if (!protect_assert_disj_177181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177184 = sdiv_safe64(next_stride_177164, merge_block_sizze_177001);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185 = add64((int64_t) 1, num_blocks_177184);
                        int64_t j_m_i_177186 = sub64(next_stride_177164, stride_177163);
                        int64_t flat_dim_177187 = merge_block_sizze_177001 * num_blocks_177184;
                        bool bounds_invalid_upwards_177188 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, (int64_t) 0);
                        bool empty_slice_177189 = j_m_i_177186 == (int64_t) 0;
                        int64_t m_177190 = sub64(j_m_i_177186, (int64_t) 1);
                        bool zzero_lte_i_177191 = sle64((int64_t) 0, stride_177163);
                        bool i_lte_j_177192 = sle64(stride_177163, next_stride_177164);
                        bool empty_slice_177193 = stride_177163 == (int64_t) 0;
                        int64_t m_177194 = sub64(stride_177163, (int64_t) 1);
                        bool bounds_invalid_upwards_177195 = slt64(num_blocks_177184, (int64_t) 0);
                        bool cond_177196 = slt64((int64_t) 0, stride_177163);
                        bool valid_177197 = !bounds_invalid_upwards_177188;
                        int64_t i_p_m_t_s_177198 = add64(stride_177163, m_177190);
                        bool zzero_leq_i_p_m_t_s_177199 = sle64((int64_t) 0, m_177194);
                        bool i_p_m_t_s_leq_w_177200 = slt64(m_177194, next_stride_177164);
                        bool valid_177201 = !bounds_invalid_upwards_177195;
                        bool i_p_m_t_s_leq_w_177202 = slt64(m_177173, flat_dim_177187);
                        bool y_177203 = slt64((int64_t) 0, j_m_i_177186);
                        bool protect_assert_disj_177204 = cond_177176 || valid_177197;
                        bool range_valid_c_177205;
                        
                        if (!protect_assert_disj_177204) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177206 = sle64((int64_t) 0, i_p_m_t_s_177198);
                        bool i_p_m_t_s_leq_w_177207 = slt64(i_p_m_t_s_177198, next_stride_177164);
                        bool y_177208 = zzero_leq_i_p_m_t_s_177199 && i_p_m_t_s_leq_w_177200;
                        bool protect_assert_disj_177209 = cond_177176 || valid_177201;
                        bool range_valid_c_177210;
                        
                        if (!protect_assert_disj_177209) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177184, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177211 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177202;
                        bool y_177212 = zzero_lte_i_177191 && i_p_m_t_s_leq_w_177207;
                        bool forwards_ok_177213 = zzero_lte_i_177191 && y_177208;
                        bool ok_or_empty_177214 = zzero_177165 || y_177211;
                        bool protect_assert_disj_177215 = cond_177196 || y_177203;
                        bool y_177216 = zzero_leq_i_p_m_t_s_177206 && y_177212;
                        bool ok_or_empty_177217 = empty_slice_177193 || forwards_ok_177213;
                        bool protect_assert_disj_177218 = cond_177176 || ok_or_empty_177214;
                        bool index_certs_177219;
                        
                        if (!protect_assert_disj_177218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) flat_dim_177187, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177220 = !cond_177176;
                        bool protect_assert_disj_177221 = protect_assert_disj_177215 || loop_not_taken_177220;
                        bool index_certs_177222;
                        
                        if (!protect_assert_disj_177221) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177223 = i_lte_j_177192 && y_177216;
                        bool protect_assert_disj_177224 = cond_177176 || ok_or_empty_177217;
                        bool index_certs_177225;
                        
                        if (!protect_assert_disj_177224) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177226 = ok_or_empty_177217 || loop_not_taken_177220;
                        bool index_certs_177227;
                        
                        if (!protect_assert_disj_177226) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177228 = empty_slice_177189 || forwards_ok_177223;
                        bool protect_assert_disj_177229 = cond_177176 || ok_or_empty_177228;
                        bool index_certs_177230;
                        
                        if (!protect_assert_disj_177229) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177231 = loop_not_taken_177220 || ok_or_empty_177228;
                        bool index_certs_177232;
                        
                        if (!protect_assert_disj_177231) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181310 = next_stride_177164 * num_merges_177168;
                        int64_t binop_x_181312 = (int64_t) 8 * num_merges_177168;
                        int64_t bytes_181313 = next_stride_177164 * binop_x_181312;
                        bool i_lte_j_177175 = sle64((int64_t) 0, next_stride_177164);
                        
                        if (mem_181311_cached_sizze_183045 < bytes_181310) {
                            err = lexical_realloc(ctx, &mem_181311, &mem_181311_cached_sizze_183045, bytes_181310);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181314_cached_sizze_183046 < bytes_181313) {
                            err = lexical_realloc(ctx, &mem_181314, &mem_181314_cached_sizze_183046, bytes_181313);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181317_cached_sizze_183047 < bytes_181313) {
                            err = lexical_realloc(ctx, &mem_181317, &mem_181317_cached_sizze_183047, bytes_181313);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181330 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185;
                        int64_t binop_x_181348 = (int64_t) 8 * num_blocks_177184;
                        int64_t bytes_181349 = merge_block_sizze_177001 * binop_x_181348;
                        int64_t bytes_181413 = (int64_t) 16 * stride_177163;
                        
                        for (int64_t i_180933 = 0; i_180933 < num_merges_177168; i_180933++) {
                            int64_t start_177237 = mul64(next_stride_177164, i_180933);
                            int64_t j_m_i_177238 = sub64(loop_dz2084Uz2082U_177158, start_177237);
                            bool empty_slice_177239 = j_m_i_177238 == (int64_t) 0;
                            int64_t m_177240 = sub64(j_m_i_177238, (int64_t) 1);
                            int64_t i_p_m_t_s_177241 = add64(start_177237, m_177240);
                            bool zzero_leq_i_p_m_t_s_177242 = sle64((int64_t) 0, i_p_m_t_s_177241);
                            bool i_p_m_t_s_leq_w_177243 = slt64(i_p_m_t_s_177241, loop_dz2084Uz2082U_177158);
                            bool zzero_lte_i_177244 = sle64((int64_t) 0, start_177237);
                            bool i_lte_j_177245 = sle64(start_177237, loop_dz2084Uz2082U_177158);
                            bool y_177246 = i_p_m_t_s_leq_w_177243 && zzero_lte_i_177244;
                            bool y_177247 = zzero_leq_i_p_m_t_s_177242 && y_177246;
                            bool forwards_ok_177248 = i_lte_j_177245 && y_177247;
                            bool ok_or_empty_177249 = empty_slice_177239 || forwards_ok_177248;
                            bool index_certs_177250;
                            
                            if (!ok_or_empty_177249) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177237, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177158, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177251 = slt64(m_177173, j_m_i_177238);
                            bool y_177252 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177251;
                            bool forwards_ok_177253 = i_lte_j_177175 && y_177252;
                            bool ok_or_empty_177254 = zzero_177165 || forwards_ok_177253;
                            bool index_certs_177255;
                            
                            if (!ok_or_empty_177254) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) j_m_i_177238, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177176) {
                                int8_t dummy_180385;
                                int64_t dummy_180386;
                                int64_t dummy_180387;
                                
                                if (cond_177196) {
                                    int8_t head_res_180388 = ((int8_t *) mem_param_181303.mem)[start_177237];
                                    int64_t head_res_180389 = ((int64_t *) mem_param_181306.mem)[start_177237];
                                    int64_t head_res_180390 = ((int64_t *) mem_param_181309.mem)[start_177237];
                                    
                                    dummy_180385 = head_res_180388;
                                    dummy_180386 = head_res_180389;
                                    dummy_180387 = head_res_180390;
                                } else {
                                    int64_t slice_180391 = stride_177163 + start_177237;
                                    int8_t head_res_180392 = ((int8_t *) mem_param_181303.mem)[slice_180391];
                                    int64_t head_res_180393 = ((int64_t *) mem_param_181306.mem)[slice_180391];
                                    int64_t head_res_180394 = ((int64_t *) mem_param_181309.mem)[slice_180391];
                                    
                                    dummy_180385 = head_res_180392;
                                    dummy_180386 = head_res_180393;
                                    dummy_180387 = head_res_180394;
                                }
                                if (memblock_alloc(ctx, &mem_181412, next_stride_177164, "mem_181412")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182715 = 0; nest_i_182715 < next_stride_177164; nest_i_182715++) {
                                    ((int8_t *) mem_181412.mem)[nest_i_182715] = dummy_180385;
                                }
                                if (memblock_alloc(ctx, &mem_181414, bytes_181413, "mem_181414")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182716 = 0; nest_i_182716 < next_stride_177164; nest_i_182716++) {
                                    ((int64_t *) mem_181414.mem)[nest_i_182716] = dummy_180386;
                                }
                                if (memblock_alloc(ctx, &mem_181416, bytes_181413, "mem_181416")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182717 = 0; nest_i_182717 < next_stride_177164; nest_i_182717++) {
                                    ((int64_t *) mem_181416.mem)[nest_i_182717] = dummy_180387;
                                }
                                
                                int64_t data_180398;
                                int64_t i_180403 = (int64_t) 0;
                                
                                for (int64_t k_180402 = 0; k_180402 < next_stride_177164; k_180402++) {
                                    int64_t j_180407 = sub64(k_180402, i_180403);
                                    bool cond_180408 = j_180407 == j_m_i_177186;
                                    bool cond_180409;
                                    
                                    if (cond_180408) {
                                        cond_180409 = 1;
                                    } else {
                                        bool cond_180410 = slt64(i_180403, stride_177163);
                                        bool cond_f_res_180411;
                                        
                                        if (cond_180410) {
                                            bool x_180412 = sle64((int64_t) 0, j_180407);
                                            bool y_180413 = slt64(j_180407, j_m_i_177186);
                                            bool bounds_check_180414 = x_180412 && y_180413;
                                            bool index_certs_180415;
                                            
                                            if (!bounds_check_180414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180421 = sle64((int64_t) 0, i_180403);
                                            bool bounds_check_180422 = cond_180410 && x_180421;
                                            bool index_certs_180423;
                                            
                                            if (!bounds_check_180422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180416 = stride_177163 + j_180407;
                                            int64_t slice_180417 = start_177237 + slice_180416;
                                            int8_t leq_arg1_180418 = ((int8_t *) mem_param_181303.mem)[slice_180417];
                                            int64_t leq_arg1_180419 = ((int64_t *) mem_param_181306.mem)[slice_180417];
                                            int64_t leq_arg1_180420 = ((int64_t *) mem_param_181309.mem)[slice_180417];
                                            int64_t slice_180424 = start_177237 + i_180403;
                                            int8_t leq_arg0_180425 = ((int8_t *) mem_param_181303.mem)[slice_180424];
                                            int64_t leq_arg0_180426 = ((int64_t *) mem_param_181306.mem)[slice_180424];
                                            int64_t leq_arg0_180427 = ((int64_t *) mem_param_181309.mem)[slice_180424];
                                            bool cond_180428 = leq_arg0_180425 == leq_arg1_180418;
                                            bool defunc_0_leq_res_t_res_180429 = sle64(leq_arg0_180426, leq_arg1_180419);
                                            bool defunc_0_leq_res_180430 = sle64(leq_arg0_180427, leq_arg1_180420);
                                            bool x_180431 = cond_180428 && defunc_0_leq_res_t_res_180429;
                                            bool x_180432 = !cond_180428;
                                            bool y_180433 = defunc_0_leq_res_180430 && x_180432;
                                            bool defunc_0_leq_res_180434 = x_180431 || y_180433;
                                            
                                            cond_f_res_180411 = defunc_0_leq_res_180434;
                                        } else {
                                            cond_f_res_180411 = 0;
                                        }
                                        cond_180409 = cond_f_res_180411;
                                    }
                                    
                                    int64_t loopres_180435;
                                    int8_t loopres_180436;
                                    int64_t loopres_180437;
                                    int64_t loopres_180438;
                                    
                                    if (cond_180409) {
                                        bool x_180440 = sle64((int64_t) 0, i_180403);
                                        bool y_180441 = slt64(i_180403, stride_177163);
                                        bool bounds_check_180442 = x_180440 && y_180441;
                                        bool index_certs_180443;
                                        
                                        if (!bounds_check_180442) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180439 = add64((int64_t) 1, i_180403);
                                        int64_t slice_180444 = start_177237 + i_180403;
                                        int8_t tmp_180445 = ((int8_t *) mem_param_181303.mem)[slice_180444];
                                        int64_t tmp_180446 = ((int64_t *) mem_param_181306.mem)[slice_180444];
                                        int64_t tmp_180447 = ((int64_t *) mem_param_181309.mem)[slice_180444];
                                        
                                        loopres_180435 = tmp_180439;
                                        loopres_180436 = tmp_180445;
                                        loopres_180437 = tmp_180446;
                                        loopres_180438 = tmp_180447;
                                    } else {
                                        bool x_180448 = sle64((int64_t) 0, j_180407);
                                        bool y_180449 = slt64(j_180407, j_m_i_177186);
                                        bool bounds_check_180450 = x_180448 && y_180449;
                                        bool index_certs_180451;
                                        
                                        if (!bounds_check_180450) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180452 = stride_177163 + j_180407;
                                        int64_t slice_180453 = start_177237 + slice_180452;
                                        int8_t tmp_180454 = ((int8_t *) mem_param_181303.mem)[slice_180453];
                                        int64_t tmp_180455 = ((int64_t *) mem_param_181306.mem)[slice_180453];
                                        int64_t tmp_180456 = ((int64_t *) mem_param_181309.mem)[slice_180453];
                                        
                                        loopres_180435 = i_180403;
                                        loopres_180436 = tmp_180454;
                                        loopres_180437 = tmp_180455;
                                        loopres_180438 = tmp_180456;
                                    }
                                    ((int8_t *) mem_181412.mem)[k_180402] = loopres_180436;
                                    ((int64_t *) mem_181414.mem)[k_180402] = loopres_180437;
                                    ((int64_t *) mem_181416.mem)[k_180402] = loopres_180438;
                                    
                                    int64_t i_tmp_182718 = loopres_180435;
                                    
                                    i_180403 = i_tmp_182718;
                                }
                                data_180398 = i_180403;
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181412, "mem_181412") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181414, "mem_181414") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181416, "mem_181416") != 0)
                                    return 1;
                            } else {
                                if (mem_181331_cached_sizze_183048 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181331, &mem_181331_cached_sizze_183048, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181333_cached_sizze_183049 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181333, &mem_181333_cached_sizze_183049, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180914 = 0; i_180914 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185; i_180914++) {
                                    int64_t split_count_arg3_177338 = mul64(merge_block_sizze_177001, i_180914);
                                    int64_t defunc_0_split_count_res_177339;
                                    int64_t defunc_0_split_count_res_177340;
                                    int64_t defunc_0_split_count_res_177341;
                                    int64_t defunc_0_split_count_res_177342;
                                    int64_t defunc_0_split_count_res_177343;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_177339, &defunc_0_split_count_res_177340, &defunc_0_split_count_res_177341, &defunc_0_split_count_res_177342, &defunc_0_split_count_res_177343, (int64_t) 0, stride_177163, (int64_t) 0, j_m_i_177186, split_count_arg3_177338) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177344 = slt64((int64_t) 0, defunc_0_split_count_res_177343);
                                    bool defunc_0_split_count_res_177345;
                                    int64_t defunc_0_split_count_res_177346;
                                    int64_t defunc_0_split_count_res_177347;
                                    int64_t defunc_0_split_count_res_177348;
                                    int64_t defunc_0_split_count_res_177349;
                                    int64_t defunc_0_split_count_res_177350;
                                    bool loop_while_177351;
                                    int64_t ss_177352;
                                    int64_t ss_177353;
                                    int64_t tt_177354;
                                    int64_t tt_177355;
                                    int64_t count_177356;
                                    
                                    loop_while_177351 = loop_cond_177344;
                                    ss_177352 = defunc_0_split_count_res_177339;
                                    ss_177353 = defunc_0_split_count_res_177340;
                                    tt_177354 = defunc_0_split_count_res_177341;
                                    tt_177355 = defunc_0_split_count_res_177342;
                                    count_177356 = defunc_0_split_count_res_177343;
                                    while (loop_while_177351) {
                                        int64_t zlze_lhs_177357 = sub64(ss_177353, ss_177352);
                                        bool cond_177358 = sle64(zlze_lhs_177357, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177359;
                                        int64_t defunc_0_lifted_step_res_177360;
                                        int64_t defunc_0_lifted_step_res_177361;
                                        int64_t defunc_0_lifted_step_res_177362;
                                        
                                        if (cond_177358) {
                                            int64_t tmp_180460 = add64(tt_177354, count_177356);
                                            
                                            defunc_0_lifted_step_res_177359 = ss_177352;
                                            defunc_0_lifted_step_res_177360 = tmp_180460;
                                            defunc_0_lifted_step_res_177361 = tt_177355;
                                            defunc_0_lifted_step_res_177362 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177364 = sub64(tt_177355, tt_177354);
                                            bool cond_177365 = sle64(zlze_lhs_177364, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177366;
                                            int64_t defunc_0_lifted_step_res_f_res_177367;
                                            int64_t defunc_0_lifted_step_res_f_res_177368;
                                            int64_t defunc_0_lifted_step_res_f_res_177369;
                                            
                                            if (cond_177365) {
                                                int64_t tmp_180461 = add64(ss_177352, count_177356);
                                                
                                                defunc_0_lifted_step_res_f_res_177366 = tmp_180461;
                                                defunc_0_lifted_step_res_f_res_177367 = tt_177354;
                                                defunc_0_lifted_step_res_f_res_177368 = tt_177355;
                                                defunc_0_lifted_step_res_f_res_177369 = (int64_t) 0;
                                            } else {
                                                bool cond_177371 = count_177356 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177372;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177373;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177374;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177375;
                                                
                                                if (cond_177371) {
                                                    bool x_180463 = sle64((int64_t) 0, ss_177352);
                                                    bool y_180464 = slt64(ss_177352, stride_177163);
                                                    bool bounds_check_180465 = x_180463 && y_180464;
                                                    bool index_certs_180466;
                                                    
                                                    if (!bounds_check_180465) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177352, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180471 = sle64((int64_t) 0, tt_177354);
                                                    bool y_180472 = slt64(tt_177354, j_m_i_177186);
                                                    bool bounds_check_180473 = x_180471 && y_180472;
                                                    bool index_certs_180474;
                                                    
                                                    if (!bounds_check_180473) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177354, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180467 = start_177237 + ss_177352;
                                                    int8_t leq_arg1_180468 = ((int8_t *) mem_param_181303.mem)[slice_180467];
                                                    int64_t leq_arg1_180469 = ((int64_t *) mem_param_181306.mem)[slice_180467];
                                                    int64_t leq_arg1_180470 = ((int64_t *) mem_param_181309.mem)[slice_180467];
                                                    int64_t slice_180475 = stride_177163 + tt_177354;
                                                    int64_t slice_180476 = start_177237 + slice_180475;
                                                    int8_t leq_arg0_180477 = ((int8_t *) mem_param_181303.mem)[slice_180476];
                                                    int64_t leq_arg0_180478 = ((int64_t *) mem_param_181306.mem)[slice_180476];
                                                    int64_t leq_arg0_180479 = ((int64_t *) mem_param_181309.mem)[slice_180476];
                                                    bool cond_180480 = leq_arg0_180477 == leq_arg1_180468;
                                                    bool defunc_0_leq_res_t_res_180481 = sle64(leq_arg0_180478, leq_arg1_180469);
                                                    bool defunc_0_leq_res_180482 = sle64(leq_arg0_180479, leq_arg1_180470);
                                                    bool x_180483 = cond_180480 && defunc_0_leq_res_t_res_180481;
                                                    bool x_180484 = !cond_180480;
                                                    bool y_180485 = defunc_0_leq_res_180482 && x_180484;
                                                    bool defunc_0_leq_res_180486 = x_180483 || y_180485;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    
                                                    if (defunc_0_leq_res_180486) {
                                                        int64_t tmp_180489 = add64((int64_t) 1, tt_177354);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = ss_177352;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tmp_180489;
                                                    } else {
                                                        int64_t tmp_180490 = add64((int64_t) 1, ss_177352);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = tmp_180490;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tt_177354;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = tt_177355;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177404 = sdiv64(count_177356, (int64_t) 2);
                                                    int64_t n_177405 = sub64(count_177356, m_177404);
                                                    bool cond_177406 = n_177405 == (int64_t) 0;
                                                    int64_t zgze_lhs_177407 = add64(ss_177352, m_177404);
                                                    bool cond_f_res_177408 = sle64(ss_177353, zgze_lhs_177407);
                                                    bool x_177409 = !cond_177406;
                                                    bool y_177410 = cond_f_res_177408 && x_177409;
                                                    bool cond_177411 = cond_177406 || y_177410;
                                                    bool leq_y_x_177412;
                                                    
                                                    if (cond_177411) {
                                                        leq_y_x_177412 = 1;
                                                    } else {
                                                        bool x_177413 = sle64((int64_t) 0, zgze_lhs_177407);
                                                        bool y_177414 = slt64(zgze_lhs_177407, stride_177163);
                                                        bool bounds_check_177415 = x_177413 && y_177414;
                                                        bool index_certs_177416;
                                                        
                                                        if (!bounds_check_177415) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177407, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177421 = add64(tt_177354, n_177405);
                                                        int64_t leq_arg0_177422 = sub64(zm_lhs_177421, (int64_t) 1);
                                                        bool x_177423 = sle64((int64_t) 0, leq_arg0_177422);
                                                        bool y_177424 = slt64(leq_arg0_177422, j_m_i_177186);
                                                        bool bounds_check_177425 = x_177423 && y_177424;
                                                        bool index_certs_177426;
                                                        
                                                        if (!bounds_check_177425) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177422, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177417 = start_177237 + zgze_lhs_177407;
                                                        int8_t leq_arg1_177418 = ((int8_t *) mem_param_181303.mem)[slice_177417];
                                                        int64_t leq_arg1_177419 = ((int64_t *) mem_param_181306.mem)[slice_177417];
                                                        int64_t leq_arg1_177420 = ((int64_t *) mem_param_181309.mem)[slice_177417];
                                                        int64_t slice_177427 = stride_177163 + leq_arg0_177422;
                                                        int64_t slice_177428 = start_177237 + slice_177427;
                                                        int8_t leq_arg0_177429 = ((int8_t *) mem_param_181303.mem)[slice_177428];
                                                        int64_t leq_arg0_177430 = ((int64_t *) mem_param_181306.mem)[slice_177428];
                                                        int64_t leq_arg0_177431 = ((int64_t *) mem_param_181309.mem)[slice_177428];
                                                        bool cond_177432 = leq_arg0_177429 == leq_arg1_177418;
                                                        bool defunc_0_leq_res_t_res_177433 = sle64(leq_arg0_177430, leq_arg1_177419);
                                                        bool defunc_0_leq_res_177434 = sle64(leq_arg0_177431, leq_arg1_177420);
                                                        bool x_177435 = cond_177432 && defunc_0_leq_res_t_res_177433;
                                                        bool x_177436 = !cond_177432;
                                                        bool y_177437 = defunc_0_leq_res_177434 && x_177436;
                                                        bool defunc_0_leq_res_177438 = x_177435 || y_177437;
                                                        
                                                        leq_y_x_177412 = defunc_0_leq_res_177438;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                    
                                                    if (leq_y_x_177412) {
                                                        int64_t tmp_180491 = add64(tt_177354, n_177405);
                                                        int64_t tmp_180492 = sub64(count_177356, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tmp_180491;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tt_177355;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = tmp_180492;
                                                    } else {
                                                        int64_t tmp_177444 = add64(tt_177354, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tt_177354;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tmp_177444;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = count_177356;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = ss_177352;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                }
                                                defunc_0_lifted_step_res_f_res_177366 = defunc_0_lifted_step_res_f_res_f_res_177372;
                                                defunc_0_lifted_step_res_f_res_177367 = defunc_0_lifted_step_res_f_res_f_res_177373;
                                                defunc_0_lifted_step_res_f_res_177368 = defunc_0_lifted_step_res_f_res_f_res_177374;
                                                defunc_0_lifted_step_res_f_res_177369 = defunc_0_lifted_step_res_f_res_f_res_177375;
                                            }
                                            defunc_0_lifted_step_res_177359 = defunc_0_lifted_step_res_f_res_177366;
                                            defunc_0_lifted_step_res_177360 = defunc_0_lifted_step_res_f_res_177367;
                                            defunc_0_lifted_step_res_177361 = defunc_0_lifted_step_res_f_res_177368;
                                            defunc_0_lifted_step_res_177362 = defunc_0_lifted_step_res_f_res_177369;
                                        }
                                        
                                        int64_t loopres_177445;
                                        int64_t loopres_177446;
                                        int64_t loopres_177447;
                                        int64_t loopres_177448;
                                        int64_t loopres_177449;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_177445, &loopres_177446, &loopres_177447, &loopres_177448, &loopres_177449, defunc_0_lifted_step_res_177359, ss_177353, defunc_0_lifted_step_res_177360, defunc_0_lifted_step_res_177361, defunc_0_lifted_step_res_177362) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177450 = slt64((int64_t) 0, loopres_177449);
                                        bool loop_while_tmp_182724 = loop_cond_177450;
                                        int64_t ss_tmp_182725 = loopres_177445;
                                        int64_t ss_tmp_182726 = loopres_177446;
                                        int64_t tt_tmp_182727 = loopres_177447;
                                        int64_t tt_tmp_182728 = loopres_177448;
                                        int64_t count_tmp_182729 = loopres_177449;
                                        
                                        loop_while_177351 = loop_while_tmp_182724;
                                        ss_177352 = ss_tmp_182725;
                                        ss_177353 = ss_tmp_182726;
                                        tt_177354 = tt_tmp_182727;
                                        tt_177355 = tt_tmp_182728;
                                        count_177356 = count_tmp_182729;
                                    }
                                    defunc_0_split_count_res_177345 = loop_while_177351;
                                    defunc_0_split_count_res_177346 = ss_177352;
                                    defunc_0_split_count_res_177347 = ss_177353;
                                    defunc_0_split_count_res_177348 = tt_177354;
                                    defunc_0_split_count_res_177349 = tt_177355;
                                    defunc_0_split_count_res_177350 = count_177356;
                                    ((int64_t *) mem_181331)[i_180914] = defunc_0_split_count_res_177346;
                                    ((int64_t *) mem_181333)[i_180914] = defunc_0_split_count_res_177348;
                                }
                                if (mem_181347_cached_sizze_183050 < flat_dim_177187) {
                                    err = lexical_realloc(ctx, &mem_181347, &mem_181347_cached_sizze_183050, flat_dim_177187);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181350_cached_sizze_183051 < bytes_181349) {
                                    err = lexical_realloc(ctx, &mem_181350, &mem_181350_cached_sizze_183051, bytes_181349);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181353_cached_sizze_183052 < bytes_181349) {
                                    err = lexical_realloc(ctx, &mem_181353, &mem_181353_cached_sizze_183052, bytes_181349);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180923 = 0; i_180923 < num_blocks_177184; i_180923++) {
                                    bool y_177457 = slt64(i_180923, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool index_certs_177459;
                                    
                                    if (!y_177457) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177460 = ((int64_t *) mem_181331)[i_180923];
                                    int64_t defunc_0_f_res_177461 = ((int64_t *) mem_181333)[i_180923];
                                    int64_t tmp_177462 = add64((int64_t) 1, i_180923);
                                    bool x_177463 = sle64((int64_t) 0, tmp_177462);
                                    bool y_177464 = slt64(tmp_177462, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool bounds_check_177465 = x_177463 && y_177464;
                                    bool index_certs_177466;
                                    
                                    if (!bounds_check_177465) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177462, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177467 = ((int64_t *) mem_181331)[tmp_177462];
                                    int64_t defunc_0_f_res_177468 = ((int64_t *) mem_181333)[tmp_177462];
                                    int64_t merge_sequential_arg2_177469 = add64(stride_177163, defunc_0_f_res_177461);
                                    int64_t merge_sequential_arg2_177470 = add64(stride_177163, defunc_0_f_res_177468);
                                    int64_t j_m_i_177471 = sub64(merge_sequential_arg2_177470, merge_sequential_arg2_177469);
                                    bool empty_slice_177472 = j_m_i_177471 == (int64_t) 0;
                                    int64_t m_177473 = sub64(j_m_i_177471, (int64_t) 1);
                                    int64_t i_p_m_t_s_177474 = add64(merge_sequential_arg2_177469, m_177473);
                                    bool zzero_leq_i_p_m_t_s_177475 = sle64((int64_t) 0, i_p_m_t_s_177474);
                                    bool i_p_m_t_s_leq_w_177476 = slt64(i_p_m_t_s_177474, next_stride_177164);
                                    bool zzero_lte_i_177477 = sle64((int64_t) 0, merge_sequential_arg2_177469);
                                    bool i_lte_j_177478 = sle64(merge_sequential_arg2_177469, merge_sequential_arg2_177470);
                                    bool y_177479 = i_p_m_t_s_leq_w_177476 && zzero_lte_i_177477;
                                    bool y_177480 = zzero_leq_i_p_m_t_s_177475 && y_177479;
                                    bool forwards_ok_177481 = i_lte_j_177478 && y_177480;
                                    bool ok_or_empty_177482 = empty_slice_177472 || forwards_ok_177481;
                                    bool index_certs_177483;
                                    
                                    if (!ok_or_empty_177482) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177469, ":", (long long) merge_sequential_arg2_177470, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177484 = sub64(defunc_0_f_res_177467, defunc_0_f_res_177460);
                                    bool empty_slice_177485 = j_m_i_177484 == (int64_t) 0;
                                    int64_t m_177486 = sub64(j_m_i_177484, (int64_t) 1);
                                    int64_t i_p_m_t_s_177487 = add64(defunc_0_f_res_177460, m_177486);
                                    bool zzero_leq_i_p_m_t_s_177488 = sle64((int64_t) 0, i_p_m_t_s_177487);
                                    bool i_p_m_t_s_leq_w_177489 = slt64(i_p_m_t_s_177487, next_stride_177164);
                                    bool zzero_lte_i_177490 = sle64((int64_t) 0, defunc_0_f_res_177460);
                                    bool i_lte_j_177491 = sle64(defunc_0_f_res_177460, defunc_0_f_res_177467);
                                    bool y_177492 = i_p_m_t_s_leq_w_177489 && zzero_lte_i_177490;
                                    bool y_177493 = zzero_leq_i_p_m_t_s_177488 && y_177492;
                                    bool forwards_ok_177494 = i_lte_j_177491 && y_177493;
                                    bool ok_or_empty_177495 = empty_slice_177485 || forwards_ok_177494;
                                    bool index_certs_177496;
                                    
                                    if (!ok_or_empty_177495) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177460, ":", (long long) defunc_0_f_res_177467, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177497 = slt64((int64_t) 0, j_m_i_177484);
                                    int8_t dummy_177498;
                                    int64_t dummy_177499;
                                    int64_t dummy_177500;
                                    
                                    if (cond_177497) {
                                        bool index_certs_180493;
                                        
                                        if (!cond_177497) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180494 = start_177237 + defunc_0_f_res_177460;
                                        int8_t head_res_180495 = ((int8_t *) mem_param_181303.mem)[slice_180494];
                                        int64_t head_res_180496 = ((int64_t *) mem_param_181306.mem)[slice_180494];
                                        int64_t head_res_180497 = ((int64_t *) mem_param_181309.mem)[slice_180494];
                                        
                                        dummy_177498 = head_res_180495;
                                        dummy_177499 = head_res_180496;
                                        dummy_177500 = head_res_180497;
                                    } else {
                                        bool y_177506 = slt64((int64_t) 0, j_m_i_177471);
                                        bool index_certs_177507;
                                        
                                        if (!y_177506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177508 = start_177237 + merge_sequential_arg2_177469;
                                        int8_t head_res_177509 = ((int8_t *) mem_param_181303.mem)[slice_177508];
                                        int64_t head_res_177510 = ((int64_t *) mem_param_181306.mem)[slice_177508];
                                        int64_t head_res_177511 = ((int64_t *) mem_param_181309.mem)[slice_177508];
                                        
                                        dummy_177498 = head_res_177509;
                                        dummy_177499 = head_res_177510;
                                        dummy_177500 = head_res_177511;
                                    }
                                    for (int64_t nest_i_182733 = 0; nest_i_182733 < merge_block_sizze_177001; nest_i_182733++) {
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + nest_i_182733] = dummy_177498;
                                    }
                                    for (int64_t nest_i_182734 = 0; nest_i_182734 < merge_block_sizze_177001; nest_i_182734++) {
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + nest_i_182734] = dummy_177499;
                                    }
                                    for (int64_t nest_i_182735 = 0; nest_i_182735 < merge_block_sizze_177001; nest_i_182735++) {
                                        ((int64_t *) mem_181353)[i_180923 * merge_block_sizze_177001 + nest_i_182735] = dummy_177500;
                                    }
                                    
                                    int64_t data_177515;
                                    int64_t i_177520 = (int64_t) 0;
                                    
                                    for (int64_t k_177519 = 0; k_177519 < merge_block_sizze_177001; k_177519++) {
                                        int64_t j_177524 = sub64(k_177519, i_177520);
                                        bool cond_177525 = j_177524 == j_m_i_177471;
                                        bool cond_177526;
                                        
                                        if (cond_177525) {
                                            cond_177526 = 1;
                                        } else {
                                            bool cond_177527 = slt64(i_177520, j_m_i_177484);
                                            bool cond_f_res_177528;
                                            
                                            if (cond_177527) {
                                                bool x_180498 = sle64((int64_t) 0, j_177524);
                                                bool y_180499 = slt64(j_177524, j_m_i_177471);
                                                bool bounds_check_180500 = x_180498 && y_180499;
                                                bool index_certs_180501;
                                                
                                                if (!bounds_check_180500) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180507 = sle64((int64_t) 0, i_177520);
                                                bool bounds_check_180508 = cond_177527 && x_180507;
                                                bool index_certs_180509;
                                                
                                                if (!bounds_check_180508) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180502 = merge_sequential_arg2_177469 + j_177524;
                                                int64_t slice_180503 = start_177237 + slice_180502;
                                                int8_t leq_arg1_180504 = ((int8_t *) mem_param_181303.mem)[slice_180503];
                                                int64_t leq_arg1_180505 = ((int64_t *) mem_param_181306.mem)[slice_180503];
                                                int64_t leq_arg1_180506 = ((int64_t *) mem_param_181309.mem)[slice_180503];
                                                int64_t slice_180510 = defunc_0_f_res_177460 + i_177520;
                                                int64_t slice_180511 = start_177237 + slice_180510;
                                                int8_t leq_arg0_180512 = ((int8_t *) mem_param_181303.mem)[slice_180511];
                                                int64_t leq_arg0_180513 = ((int64_t *) mem_param_181306.mem)[slice_180511];
                                                int64_t leq_arg0_180514 = ((int64_t *) mem_param_181309.mem)[slice_180511];
                                                bool cond_180515 = leq_arg0_180512 == leq_arg1_180504;
                                                bool defunc_0_leq_res_t_res_180516 = sle64(leq_arg0_180513, leq_arg1_180505);
                                                bool defunc_0_leq_res_180517 = sle64(leq_arg0_180514, leq_arg1_180506);
                                                bool x_180518 = cond_180515 && defunc_0_leq_res_t_res_180516;
                                                bool x_180519 = !cond_180515;
                                                bool y_180520 = defunc_0_leq_res_180517 && x_180519;
                                                bool defunc_0_leq_res_180521 = x_180518 || y_180520;
                                                
                                                cond_f_res_177528 = defunc_0_leq_res_180521;
                                            } else {
                                                cond_f_res_177528 = 0;
                                            }
                                            cond_177526 = cond_f_res_177528;
                                        }
                                        
                                        int64_t loopres_177553;
                                        int8_t loopres_177554;
                                        int64_t loopres_177555;
                                        int64_t loopres_177556;
                                        
                                        if (cond_177526) {
                                            bool x_180523 = sle64((int64_t) 0, i_177520);
                                            bool y_180524 = slt64(i_177520, j_m_i_177484);
                                            bool bounds_check_180525 = x_180523 && y_180524;
                                            bool index_certs_180526;
                                            
                                            if (!bounds_check_180525) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180522 = add64((int64_t) 1, i_177520);
                                            int64_t slice_180527 = defunc_0_f_res_177460 + i_177520;
                                            int64_t slice_180528 = start_177237 + slice_180527;
                                            int8_t tmp_180529 = ((int8_t *) mem_param_181303.mem)[slice_180528];
                                            int64_t tmp_180530 = ((int64_t *) mem_param_181306.mem)[slice_180528];
                                            int64_t tmp_180531 = ((int64_t *) mem_param_181309.mem)[slice_180528];
                                            
                                            loopres_177553 = tmp_180522;
                                            loopres_177554 = tmp_180529;
                                            loopres_177555 = tmp_180530;
                                            loopres_177556 = tmp_180531;
                                        } else {
                                            bool x_177567 = sle64((int64_t) 0, j_177524);
                                            bool y_177568 = slt64(j_177524, j_m_i_177471);
                                            bool bounds_check_177569 = x_177567 && y_177568;
                                            bool index_certs_177570;
                                            
                                            if (!bounds_check_177569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177571 = merge_sequential_arg2_177469 + j_177524;
                                            int64_t slice_177572 = start_177237 + slice_177571;
                                            int8_t tmp_177573 = ((int8_t *) mem_param_181303.mem)[slice_177572];
                                            int64_t tmp_177574 = ((int64_t *) mem_param_181306.mem)[slice_177572];
                                            int64_t tmp_177575 = ((int64_t *) mem_param_181309.mem)[slice_177572];
                                            
                                            loopres_177553 = i_177520;
                                            loopres_177554 = tmp_177573;
                                            loopres_177555 = tmp_177574;
                                            loopres_177556 = tmp_177575;
                                        }
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177554;
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177555;
                                        ((int64_t *) mem_181353)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177556;
                                        
                                        int64_t i_tmp_182736 = loopres_177553;
                                        
                                        i_177520 = i_tmp_182736;
                                    }
                                    data_177515 = i_177520;
                                }
                                if (memblock_alloc(ctx, &mem_181402, flat_dim_177187, "mem_181402")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181402.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint8_t *) mem_181347, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181406, bytes_181349, "mem_181406")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181406.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint64_t *) mem_181350, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181410, bytes_181349, "mem_181410")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181410.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint64_t *) mem_181353, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181402, "mem_181402") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181406, "mem_181406") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181410, "mem_181410") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181311, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181443.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181314, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181440.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181317, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181437.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181457, bytes_181310, "mem_181457")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181457.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint8_t *) mem_181311, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181461, bytes_181313, "mem_181461")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181461.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint64_t *) mem_181314, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181465, bytes_181313, "mem_181465")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181465.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint64_t *) mem_181317, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        
                        bool loop_cond_177589 = slt64(next_stride_177164, flat_dim_176996);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182703, &mem_181457, "mem_181457") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182704, &mem_181461, "mem_181461") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182705, &mem_181465, "mem_181465") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182706 = bytes_181310;
                        bool loop_while_tmp_182707 = loop_cond_177589;
                        int64_t stride_tmp_182711 = next_stride_177164;
                        
                        if (memblock_set(ctx, &mem_param_181303, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181306, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181309, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177158 = loop_dz2084Uz2082U_tmp_182706;
                        loop_while_177159 = loop_while_tmp_182707;
                        stride_177163 = stride_tmp_182711;
                    }
                    if (memblock_set(ctx, &ext_mem_181475, &mem_param_181303, "mem_param_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181474, &mem_param_181306, "mem_param_181306") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181473, &mem_param_181309, "mem_param_181309") != 0)
                        return 1;
                    data_177152 = loop_dz2084Uz2082U_177158;
                    data_177153 = loop_while_177159;
                    data_177157 = stride_177163;
                    if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
                        return 1;
                    
                    bool empty_slice_177590 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177591 = sle64((int64_t) 0, zs_lhs_176980);
                    bool i_p_m_t_s_leq_w_177592 = slt64(zs_lhs_176980, data_177152);
                    bool y_177593 = zzero_leq_i_p_m_t_s_177591 && i_p_m_t_s_leq_w_177592;
                    bool ok_or_empty_177594 = empty_slice_177590 || y_177593;
                    bool index_certs_177595;
                    
                    if (!ok_or_empty_177594) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] out of bounds for array of shape [", (long long) data_177152, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181484, &ext_mem_181475, "ext_mem_181475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &ext_mem_181474, "ext_mem_181474") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &ext_mem_181473, "ext_mem_181473") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181165.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181484.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181167.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181481.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181169.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181478.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
                    return 1;
                
                bool loop_cond_177631 = slt64(ubs_176923, threads_142334);
                bool loop_while_tmp_182670 = loop_cond_177631;
                int64_t p_tmp_182671 = ubs_176923;
                
                loop_while_176912 = loop_while_tmp_182670;
                p_176913 = p_tmp_182671;
            }
            defunc_0_mergeFunc_seq_res_176907 = loop_while_176912;
            defunc_0_mergeFunc_seq_res_176908 = p_176913;
            
            int64_t index_concat_branch_178448;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180546 = ((int64_t *) mem_181150)[index_concat_i_178445];
                
                index_concat_branch_178448 = index_concat_180546;
            } else {
                index_concat_branch_178448 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178442;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180547 = ((int64_t *) mem_181152)[index_concat_i_178445];
                
                index_concat_branch_178442 = index_concat_180547;
            } else {
                index_concat_branch_178442 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181165, "mem_181165") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181167, "mem_181167") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181169, "mem_181169") != 0)
                return 1;
            loopres_175671 = index_concat_branch_178448;
            loopres_175672 = index_concat_branch_178442;
        }
        for (int64_t i_180939 = 0; i_180939 < window_sizze_142333; i_180939++) {
            int8_t eta_p_177639 = ((int8_t *) ext_mem_181903.mem)[i_180939];
            int64_t eta_p_177640 = ((int64_t *) ext_mem_181900.mem)[i_180939];
            bool cond_177641 = eta_p_177639 == (int8_t) 0;
            int64_t tmp_177642;
            
            if (cond_177641) {
                int64_t tmp_t_res_180550 = add64(p_175643, eta_p_177640);
                
                tmp_177642 = tmp_t_res_180550;
            } else {
                int64_t tmp_f_res_177644 = add64(p_175644, eta_p_177640);
                
                tmp_177642 = tmp_f_res_177644;
            }
            ((int64_t *) mem_181137.mem)[ind_bottom_175647 + i_180939] = tmp_177642;
        }
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        
        int64_t next_lbs_177645 = add64(p_175643, loopres_175671);
        int64_t next_lbs_177646 = add64(p_175644, loopres_175672);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181903.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_142333});
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181139.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181897.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_142333});
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        
        bool cond_177660 = slt64(next_lbs_177645, zl_rhs_175626);
        bool loop_cond_t_res_177661 = slt64(next_lbs_177646, zl_rhs_175628);
        bool x_177662 = cond_177660 && loop_cond_t_res_177661;
        bool loop_while_tmp_182554 = x_177662;
        int64_t p_tmp_182558 = next_lbs_177645;
        int64_t p_tmp_182559 = next_lbs_177646;
        
        loop_while_175639 = loop_while_tmp_182554;
        p_175643 = p_tmp_182558;
        p_175644 = p_tmp_182559;
    }
    defunc_0_merge_pipeline_res_175633 = loop_while_175639;
    defunc_0_merge_pipeline_res_175637 = p_175643;
    defunc_0_merge_pipeline_res_175638 = p_175644;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 = sub64(nb_142332, defunc_0_merge_pipeline_res_175638);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 = sub64(na_142331, defunc_0_merge_pipeline_res_175637);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    bool empty_slice_177666 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 == (int64_t) 0;
    int64_t m_177667 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 1);
    int64_t i_p_m_t_s_177668 = add64(defunc_0_merge_pipeline_res_175637, m_177667);
    bool zzero_leq_i_p_m_t_s_177669 = sle64((int64_t) 0, i_p_m_t_s_177668);
    bool i_p_m_t_s_leq_w_177670 = slt64(i_p_m_t_s_177668, na_142331);
    bool zzero_lte_i_177671 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175637);
    bool i_lte_j_177672 = sle64(defunc_0_merge_pipeline_res_175637, na_142331);
    bool y_177673 = i_p_m_t_s_leq_w_177670 && zzero_lte_i_177671;
    bool y_177674 = zzero_leq_i_p_m_t_s_177669 && y_177673;
    bool forwards_ok_177675 = i_lte_j_177672 && y_177674;
    bool ok_or_empty_177676 = empty_slice_177666 || forwards_ok_177675;
    bool index_certs_177677;
    
    if (!ok_or_empty_177676) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175637, ":", (long long) na_142331, "] out of bounds for array of shape [", (long long) na_142331, "].", "-> #0  ftsort.fut:436:14-34\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177681 = slt64(na_142331, defunc_0_merge_pipeline_res_175637);
    bool valid_177682 = !bounds_invalid_upwards_177681;
    bool range_valid_c_177683;
    
    if (!valid_177682) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175637, "..<", (long long) na_142331, " is invalid.", "-> #0  ftsort.fut:440:9-25\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177687 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 == (int64_t) 0;
    int64_t m_177688 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, (int64_t) 1);
    int64_t i_p_m_t_s_177689 = add64(defunc_0_merge_pipeline_res_175638, m_177688);
    bool zzero_leq_i_p_m_t_s_177690 = sle64((int64_t) 0, i_p_m_t_s_177689);
    bool i_p_m_t_s_leq_w_177691 = slt64(i_p_m_t_s_177689, nb_142332);
    bool zzero_lte_i_177692 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175638);
    bool i_lte_j_177693 = sle64(defunc_0_merge_pipeline_res_175638, nb_142332);
    bool y_177694 = i_p_m_t_s_leq_w_177691 && zzero_lte_i_177692;
    bool y_177695 = zzero_leq_i_p_m_t_s_177690 && y_177694;
    bool forwards_ok_177696 = i_lte_j_177693 && y_177695;
    bool ok_or_empty_177697 = empty_slice_177687 || forwards_ok_177696;
    bool index_certs_177698;
    
    if (!ok_or_empty_177697) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175638, ":", (long long) nb_142332, "] out of bounds for array of shape [", (long long) nb_142332, "].", "-> #0  ftsort.fut:442:14-34\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177702 = slt64(nb_142332, defunc_0_merge_pipeline_res_175638);
    bool valid_177703 = !bounds_invalid_upwards_177702;
    bool range_valid_c_177704;
    
    if (!valid_177703) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175638, "..<", (long long) nb_142332, " is invalid.", "-> #0  ftsort.fut:446:9-25\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181928 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool cond_177711 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zs_lhs_177712 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zp_rhs_177713 = sdiv_safe64(zs_lhs_177712, (int64_t) 20);
    int64_t min_num_blocks_177714 = add64((int64_t) 1, zp_rhs_177713);
    bool loop_cond_177715 = slt64((int64_t) 1, min_num_blocks_177714);
    bool smallest_pow_2_geq_than_res_177716;
    int64_t smallest_pow_2_geq_than_res_177717;
    bool loop_while_177718;
    int64_t x_177719;
    
    loop_while_177718 = loop_cond_177715;
    x_177719 = (int64_t) 1;
    while (loop_while_177718) {
        int64_t loopres_177720 = mul64((int64_t) 2, x_177719);
        bool loop_cond_177721 = slt64(loopres_177720, min_num_blocks_177714);
        bool loop_while_tmp_182741 = loop_cond_177721;
        int64_t x_tmp_182742 = loopres_177720;
        
        loop_while_177718 = loop_while_tmp_182741;
        x_177719 = x_tmp_182742;
    }
    smallest_pow_2_geq_than_res_177716 = loop_while_177718;
    smallest_pow_2_geq_than_res_177717 = x_177719;
    
    bool zzero_177722 = smallest_pow_2_geq_than_res_177717 == (int64_t) 0;
    bool nonzzero_177723 = !zzero_177722;
    bool protect_assert_disj_177724 = cond_177711 || nonzzero_177723;
    bool nonzzero_cert_177725;
    
    if (!protect_assert_disj_177724) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177726 = sdiv_safe64(zs_lhs_177712, smallest_pow_2_geq_than_res_177717);
    int64_t block_sizze_177727 = add64((int64_t) 1, zp_rhs_177726);
    bool y_177734 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool protect_assert_disj_182256 = cond_177711 || y_177734;
    bool index_certs_177735;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177761 = slt64(smallest_pow_2_geq_than_res_177717, (int64_t) 0);
    bool valid_177762 = !bounds_invalid_upwards_177761;
    bool protect_assert_disj_182266 = cond_177711 || valid_177762;
    bool range_valid_c_177763;
    
    if (!protect_assert_disj_182266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177717, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177765 = slt64(block_sizze_177727, (int64_t) 0);
    bool valid_177766 = !bounds_invalid_upwards_177765;
    bool protect_assert_disj_182268 = cond_177711 || valid_177766;
    bool range_valid_c_177767;
    
    if (!protect_assert_disj_182268) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177727, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177769 = sle64(block_sizze_177727, (int64_t) 1);
    int64_t tmp_177770 = sub64(block_sizze_177727, (int64_t) 2);
    bool bounds_invalid_upwards_177771 = slt64(tmp_177770, (int64_t) 0);
    bool valid_177773 = !bounds_invalid_upwards_177771;
    bool protect_assert_disj_177774 = cond_177769 || valid_177773;
    bool protect_assert_disj_182270 = cond_177711 || protect_assert_disj_177774;
    bool range_valid_c_177775;
    
    if (!protect_assert_disj_182270) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177770, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178336 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178338 = sle64((int64_t) 0, zs_lhs_177712);
    bool i_p_m_t_s_leq_w_178339 = slt64(zs_lhs_177712, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool y_178340 = zzero_leq_i_p_m_t_s_178338 && i_p_m_t_s_leq_w_178339;
    bool ok_or_empty_178341 = empty_slice_178336 || y_178340;
    bool index_certs_178342;
    
    if (!ok_or_empty_178341) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  ftsort.fut:455:78-101\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178343 = add64(defunc_0_merge_pipeline_res_175637, defunc_0_merge_pipeline_res_175638);
    int64_t j_m_i_178344 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, final_buffer_178343);
    bool empty_slice_178345 = j_m_i_178344 == (int64_t) 0;
    int64_t m_178346 = sub64(j_m_i_178344, (int64_t) 1);
    int64_t i_p_m_t_s_178347 = add64(final_buffer_178343, m_178346);
    bool zzero_leq_i_p_m_t_s_178348 = sle64((int64_t) 0, i_p_m_t_s_178347);
    bool i_p_m_t_s_leq_w_178349 = slt64(i_p_m_t_s_178347, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool zzero_lte_i_178350 = sle64((int64_t) 0, final_buffer_178343);
    bool i_lte_j_178351 = sle64(final_buffer_178343, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool y_178352 = i_p_m_t_s_leq_w_178349 && zzero_lte_i_178350;
    bool y_178353 = zzero_leq_i_p_m_t_s_178348 && y_178352;
    bool forwards_ok_178354 = i_lte_j_178351 && y_178353;
    bool ok_or_empty_178355 = empty_slice_178345 || forwards_ok_178354;
    bool index_certs_178356;
    
    if (!ok_or_empty_178355) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178343, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178357 = j_m_i_178344 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool empty_or_match_cert_178358;
    
    if (!dim_match_178357) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178344, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "]", " of value.", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:484:63-73\n   #2  ftsort.fut:477:1-484:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181927, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "mem_181927")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182743 = 0; nest_i_182743 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; nest_i_182743++) {
        ((int8_t *) mem_181927.mem)[nest_i_182743] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181929, bytes_181928, "mem_181929")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182744 = 0; i_182744 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; i_182744++) {
        int64_t x_182745 = defunc_0_merge_pipeline_res_175637 + i_182744 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[i_182744] = x_182745;
    }
    for (int64_t nest_i_182746 = 0; nest_i_182746 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; nest_i_182746++) {
        ((int8_t *) mem_181927.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + nest_i_182746] = (int8_t) 1;
    }
    for (int64_t i_182747 = 0; i_182747 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; i_182747++) {
        int64_t x_182748 = defunc_0_merge_pipeline_res_175638 + i_182747 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + i_182747] = x_182748;
    }
    
    int64_t tmp_offs_182749 = (int64_t) 0;
    
    if (!(tmp_offs_182749 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182749 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t tmp_offs_182750 = (int64_t) 0;
    
    if (!(tmp_offs_182750 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182750 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    if (memblock_alloc(ctx, &mem_181931, bytes_181928, "mem_181931")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182751 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181133.mem, defunc_0_merge_pipeline_res_175637, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181134.mem, defunc_0_merge_pipeline_res_175638, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t flat_dim_177728 = smallest_pow_2_geq_than_res_177717 * block_sizze_177727;
    bool x_182251 = !cond_177711;
    int64_t greatest_divisor_leq_than_arg1_177732 = mul64((int64_t) 2, block_sizze_177727);
    int64_t merge_block_sizze_177733;
    
    if (x_182251) {
        int64_t x_182253;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182253, (int64_t) 8, greatest_divisor_leq_than_arg1_177732) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177733 = x_182253;
    } else {
        merge_block_sizze_177733 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178408 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 0);
    int8_t index_concat_branch_178412 = btoi_bool_i8(index_concat_cmp_178408);
    int64_t index_concat_i_180552 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    int64_t index_primexp_180553 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180552);
    int64_t index_concat_branch_178406;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178406 = index_primexp_180553;
    } else {
        index_concat_branch_178406 = defunc_0_merge_pipeline_res_175637;
    }
    
    bool x_182247 = !index_concat_cmp_178408;
    bool protect_cond_conj_182257 = x_182247 && x_182251;
    int64_t index_concat_178399;
    
    if (protect_cond_conj_182257) {
        int64_t x_182249 = ((int64_t *) a_list_mem_181133.mem)[defunc_0_merge_pipeline_res_175637];
        
        index_concat_178399 = x_182249;
    } else {
        index_concat_178399 = (int64_t) 0;
    }
    
    bool protect_cond_conj_182258 = index_concat_cmp_178408 && x_182251;
    int64_t index_concat_180556;
    
    if (protect_cond_conj_182258) {
        int64_t x_182245 = ((int64_t *) b_list_mem_181134.mem)[index_primexp_180553];
        
        index_concat_180556 = x_182245;
    } else {
        index_concat_180556 = (int64_t) 0;
    }
    
    int64_t index_concat_branch_178400;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178400 = index_concat_180556;
    } else {
        index_concat_branch_178400 = index_concat_178399;
    }
    
    int8_t defunc_0_reduce_res_180787;
    int64_t defunc_0_reduce_res_180788;
    int64_t defunc_0_reduce_res_180789;
    
    if (x_182251) {
        int8_t x_182259;
        int64_t x_182260;
        int64_t x_182261;
        int8_t redout_180941;
        int64_t redout_180942;
        int64_t redout_180943;
        
        redout_180941 = index_concat_branch_178412;
        redout_180942 = index_concat_branch_178406;
        redout_180943 = index_concat_branch_178400;
        for (int64_t i_180944 = 0; i_180944 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665; i_180944++) {
            bool index_concat_cmp_181015 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, i_180944);
            int8_t index_concat_branch_181019 = btoi_bool_i8(index_concat_cmp_181015);
            int64_t index_concat_branch_181013;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181010 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t index_primexp_181103 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_181010);
                
                index_concat_branch_181013 = index_primexp_181103;
            } else {
                int64_t index_primexp_181105 = add64(defunc_0_merge_pipeline_res_175637, i_180944);
                
                index_concat_branch_181013 = index_primexp_181105;
            }
            
            int64_t index_concat_branch_181007;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181004 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t slice_181100 = defunc_0_merge_pipeline_res_175638 + index_concat_i_181004;
                int64_t index_concat_181005 = ((int64_t *) b_list_mem_181134.mem)[slice_181100];
                
                index_concat_branch_181007 = index_concat_181005;
            } else {
                int64_t slice_181101 = defunc_0_merge_pipeline_res_175637 + i_180944;
                int64_t index_concat_181006 = ((int64_t *) a_list_mem_181133.mem)[slice_181101];
                
                index_concat_branch_181007 = index_concat_181006;
            }
            
            bool eq_x_y_181118 = redout_180941 == (int8_t) 1;
            bool eq_x_zz_181119 = redout_180941 == (int8_t) 0;
            bool p_and_eq_x_y_181120 = index_concat_cmp_181015 && eq_x_y_181118;
            bool not_p_181121 = !index_concat_cmp_181015;
            bool p_and_eq_x_y_181122 = eq_x_zz_181119 && not_p_181121;
            bool cond_177751 = p_and_eq_x_y_181120 || p_and_eq_x_y_181122;
            bool defunc_0_leq_res_t_res_177752 = sle64(redout_180942, index_concat_branch_181013);
            bool defunc_0_leq_res_177753 = sle64(redout_180943, index_concat_branch_181007);
            bool x_177754 = cond_177751 && defunc_0_leq_res_t_res_177752;
            bool x_177755 = !cond_177751;
            bool y_177756 = defunc_0_leq_res_177753 && x_177755;
            bool defunc_0_leq_res_177757 = x_177754 || y_177756;
            int8_t defunc_0_op_res_177758;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177758 = index_concat_branch_181019;
            } else {
                defunc_0_op_res_177758 = redout_180941;
            }
            
            int64_t defunc_0_op_res_177759;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177759 = index_concat_branch_181013;
            } else {
                defunc_0_op_res_177759 = redout_180942;
            }
            
            int64_t defunc_0_op_res_177760;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177760 = index_concat_branch_181007;
            } else {
                defunc_0_op_res_177760 = redout_180943;
            }
            
            int8_t redout_tmp_182752 = defunc_0_op_res_177758;
            int64_t redout_tmp_182753 = defunc_0_op_res_177759;
            int64_t redout_tmp_182754 = defunc_0_op_res_177760;
            
            redout_180941 = redout_tmp_182752;
            redout_180942 = redout_tmp_182753;
            redout_180943 = redout_tmp_182754;
        }
        x_182259 = redout_180941;
        x_182260 = redout_180942;
        x_182261 = redout_180943;
        defunc_0_reduce_res_180787 = x_182259;
        defunc_0_reduce_res_180788 = x_182260;
        defunc_0_reduce_res_180789 = x_182261;
    } else {
        defunc_0_reduce_res_180787 = (int8_t) 0;
        defunc_0_reduce_res_180788 = (int64_t) 0;
        defunc_0_reduce_res_180789 = (int64_t) 0;
    }
    
    int64_t distance_177772 = add64((int64_t) 1, tmp_177770);
    int64_t binop_x_181934 = (int64_t) 8 * smallest_pow_2_geq_than_res_177717;
    int64_t bytes_181935 = block_sizze_177727 * binop_x_181934;
    int64_t bytes_181953 = (int64_t) 8 * block_sizze_177727;
    bool loop_cond_177881 = slt64(block_sizze_177727, flat_dim_177728);
    bool zzero_177882 = merge_block_sizze_177733 == (int64_t) 0;
    bool nonzzero_177883 = !zzero_177882;
    
    if (cond_177711) {
        if (memblock_set(ctx, &ext_mem_182226, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &mem_181931, "mem_181931") != 0)
            return 1;
    } else {
        if (mem_181933_cached_sizze_183073 < flat_dim_177728) {
            err = lexical_realloc(ctx, &mem_181933, &mem_181933_cached_sizze_183073, flat_dim_177728);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181936_cached_sizze_183074 < bytes_181935) {
            err = lexical_realloc(ctx, &mem_181936, &mem_181936_cached_sizze_183074, bytes_181935);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181939_cached_sizze_183075 < bytes_181935) {
            err = lexical_realloc(ctx, &mem_181939, &mem_181939_cached_sizze_183075, bytes_181935);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181952_cached_sizze_183076 < block_sizze_177727) {
            err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_183076, block_sizze_177727);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181954_cached_sizze_183077 < bytes_181953) {
            err = lexical_realloc(ctx, &mem_181954, &mem_181954_cached_sizze_183077, bytes_181953);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181956_cached_sizze_183078 < bytes_181953) {
            err = lexical_realloc(ctx, &mem_181956, &mem_181956_cached_sizze_183078, bytes_181953);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180961 = 0; i_180961 < smallest_pow_2_geq_than_res_177717; i_180961++) {
            int64_t zp_lhs_177780 = mul64(block_sizze_177727, i_180961);
            
            for (int64_t i_180951 = 0; i_180951 < block_sizze_177727; i_180951++) {
                int64_t k_177785 = add64(zp_lhs_177780, i_180951);
                bool cond_177786 = slt64(k_177785, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
                int8_t lifted_lambda_res_177787;
                int64_t lifted_lambda_res_177788;
                int64_t lifted_lambda_res_177789;
                
                if (cond_177786) {
                    bool x_180562 = sle64((int64_t) 0, k_177785);
                    bool bounds_check_180563 = cond_177786 && x_180562;
                    bool index_certs_180564;
                    
                    if (!bounds_check_180563) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177785, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180565 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, k_177785);
                    int8_t index_concat_branch_180566 = btoi_bool_i8(index_concat_cmp_180565);
                    int64_t index_concat_branch_180567;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180568 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t index_primexp_180569 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180568);
                        
                        index_concat_branch_180567 = index_primexp_180569;
                    } else {
                        int64_t index_primexp_180570 = add64(defunc_0_merge_pipeline_res_175637, k_177785);
                        
                        index_concat_branch_180567 = index_primexp_180570;
                    }
                    
                    int64_t index_concat_branch_180571;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180572 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t slice_180573 = defunc_0_merge_pipeline_res_175638 + index_concat_i_180572;
                        int64_t index_concat_180574 = ((int64_t *) b_list_mem_181134.mem)[slice_180573];
                        
                        index_concat_branch_180571 = index_concat_180574;
                    } else {
                        int64_t slice_180575 = defunc_0_merge_pipeline_res_175637 + k_177785;
                        int64_t index_concat_180576 = ((int64_t *) a_list_mem_181133.mem)[slice_180575];
                        
                        index_concat_branch_180571 = index_concat_180576;
                    }
                    lifted_lambda_res_177787 = index_concat_branch_180566;
                    lifted_lambda_res_177788 = index_concat_branch_180567;
                    lifted_lambda_res_177789 = index_concat_branch_180571;
                } else {
                    lifted_lambda_res_177787 = defunc_0_reduce_res_180787;
                    lifted_lambda_res_177788 = defunc_0_reduce_res_180788;
                    lifted_lambda_res_177789 = defunc_0_reduce_res_180789;
                }
                ((int8_t *) mem_181952)[i_180951] = lifted_lambda_res_177787;
                ((int64_t *) mem_181954)[i_180951] = lifted_lambda_res_177788;
                ((int64_t *) mem_181956)[i_180951] = lifted_lambda_res_177789;
            }
            if (!cond_177769) {
                for (int64_t i_177802 = 0; i_177802 < distance_177772; i_177802++) {
                    int64_t gt_arg1_177806 = add64((int64_t) 1, i_177802);
                    bool x_177807 = sle64((int64_t) 0, gt_arg1_177806);
                    bool y_177808 = slt64(gt_arg1_177806, block_sizze_177727);
                    bool bounds_check_177809 = x_177807 && y_177808;
                    bool index_certs_177810;
                    
                    if (!bounds_check_177809) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177806, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177814 = slt64(i_177802, block_sizze_177727);
                    bool index_certs_177815;
                    
                    if (!y_177814) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177802, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177811 = ((int8_t *) mem_181952)[gt_arg1_177806];
                    int64_t gt_arg1_177812 = ((int64_t *) mem_181954)[gt_arg1_177806];
                    int64_t gt_arg1_177813 = ((int64_t *) mem_181956)[gt_arg1_177806];
                    int8_t gt_arg0_177816 = ((int8_t *) mem_181952)[i_177802];
                    int64_t gt_arg0_177817 = ((int64_t *) mem_181954)[i_177802];
                    int64_t gt_arg0_177818 = ((int64_t *) mem_181956)[i_177802];
                    bool cond_177819 = gt_arg0_177816 == gt_arg1_177811;
                    bool defunc_0_leq_res_t_res_177820 = sle64(gt_arg0_177817, gt_arg1_177812);
                    bool defunc_0_leq_res_177821 = sle64(gt_arg0_177818, gt_arg1_177813);
                    bool x_177822 = cond_177819 && defunc_0_leq_res_t_res_177820;
                    bool x_177823 = !cond_177819;
                    bool y_177824 = defunc_0_leq_res_177821 && x_177823;
                    bool defunc_0_leq_res_177825 = x_177822 || y_177824;
                    bool defunc_0_lifted_gt_res_177826 = !defunc_0_leq_res_177825;
                    bool s_177827;
                    int64_t s_177831;
                    bool loop_while_177832;
                    int64_t j_177836;
                    
                    loop_while_177832 = defunc_0_lifted_gt_res_177826;
                    j_177836 = i_177802;
                    while (loop_while_177832) {
                        bool x_177837 = sle64((int64_t) 0, j_177836);
                        bool y_177838 = slt64(j_177836, block_sizze_177727);
                        bool bounds_check_177839 = x_177837 && y_177838;
                        bool index_certs_177840;
                        
                        if (!bounds_check_177839) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177836, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177844 = add64((int64_t) 1, j_177836);
                        bool x_177845 = sle64((int64_t) 0, copy_arg0_177844);
                        bool y_177846 = slt64(copy_arg0_177844, block_sizze_177727);
                        bool bounds_check_177847 = x_177845 && y_177846;
                        bool index_certs_177848;
                        
                        if (!bounds_check_177847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177844, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177841 = ((int8_t *) mem_181952)[j_177836];
                        int64_t copy_arg0_177842 = ((int64_t *) mem_181954)[j_177836];
                        int64_t copy_arg0_177843 = ((int64_t *) mem_181956)[j_177836];
                        int8_t copy_arg0_177849 = ((int8_t *) mem_181952)[copy_arg0_177844];
                        int64_t copy_arg0_177850 = ((int64_t *) mem_181954)[copy_arg0_177844];
                        int64_t copy_arg0_177851 = ((int64_t *) mem_181956)[copy_arg0_177844];
                        
                        ((int8_t *) mem_181952)[j_177836] = copy_arg0_177849;
                        ((int64_t *) mem_181954)[j_177836] = copy_arg0_177850;
                        ((int64_t *) mem_181956)[j_177836] = copy_arg0_177851;
                        ((int8_t *) mem_181952)[copy_arg0_177844] = copy_arg0_177841;
                        ((int64_t *) mem_181954)[copy_arg0_177844] = copy_arg0_177842;
                        ((int64_t *) mem_181956)[copy_arg0_177844] = copy_arg0_177843;
                        
                        int64_t tmp_177858 = sub64(j_177836, (int64_t) 1);
                        bool cond_177859 = sle64((int64_t) 0, tmp_177858);
                        bool loop_cond_177860;
                        
                        if (cond_177859) {
                            bool y_180580 = slt64(tmp_177858, block_sizze_177727);
                            bool bounds_check_180581 = cond_177859 && y_180580;
                            bool index_certs_180582;
                            
                            if (!bounds_check_180581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177858, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180577 = ((int8_t *) mem_181952)[j_177836];
                            int64_t gt_arg1_180578 = ((int64_t *) mem_181954)[j_177836];
                            int64_t gt_arg1_180579 = ((int64_t *) mem_181956)[j_177836];
                            int8_t gt_arg0_180583 = ((int8_t *) mem_181952)[tmp_177858];
                            int64_t gt_arg0_180584 = ((int64_t *) mem_181954)[tmp_177858];
                            int64_t gt_arg0_180585 = ((int64_t *) mem_181956)[tmp_177858];
                            bool cond_180586 = gt_arg0_180583 == gt_arg1_180577;
                            bool defunc_0_leq_res_t_res_180587 = sle64(gt_arg0_180584, gt_arg1_180578);
                            bool defunc_0_leq_res_180588 = sle64(gt_arg0_180585, gt_arg1_180579);
                            bool x_180589 = cond_180586 && defunc_0_leq_res_t_res_180587;
                            bool x_180590 = !cond_180586;
                            bool y_180591 = defunc_0_leq_res_180588 && x_180590;
                            bool defunc_0_leq_res_180592 = x_180589 || y_180591;
                            bool defunc_0_lifted_gt_res_180593 = !defunc_0_leq_res_180592;
                            
                            loop_cond_177860 = defunc_0_lifted_gt_res_180593;
                        } else {
                            loop_cond_177860 = 0;
                        }
                        
                        bool loop_while_tmp_182764 = loop_cond_177860;
                        int64_t j_tmp_182768 = tmp_177858;
                        
                        loop_while_177832 = loop_while_tmp_182764;
                        j_177836 = j_tmp_182768;
                    }
                    s_177827 = loop_while_177832;
                    s_177831 = j_177836;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181933, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181936, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181954, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181939, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181956, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
        }
        if (memblock_alloc(ctx, &mem_182033, flat_dim_177728, "mem_182033")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_182033.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint8_t *) mem_181933, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182037, bytes_181935, "mem_182037")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_182037.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint64_t *) mem_181936, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182041, bytes_181935, "mem_182041")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_182041.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint64_t *) mem_181939, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        
        int64_t data_177884;
        bool data_177885;
        int64_t data_177889;
        int64_t loop_dz2084Uz2082U_177890;
        bool loop_while_177891;
        int64_t stride_177895;
        
        if (memblock_set(ctx, &mem_param_182045, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182048, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182051, &mem_182041, "mem_182041") != 0)
            return 1;
        loop_dz2084Uz2082U_177890 = flat_dim_177728;
        loop_while_177891 = loop_cond_177881;
        stride_177895 = block_sizze_177727;
        while (loop_while_177891) {
            int64_t next_stride_177896 = mul64((int64_t) 2, stride_177895);
            bool zzero_177897 = next_stride_177896 == (int64_t) 0;
            bool nonzzero_177898 = !zzero_177897;
            bool nonzzero_cert_177899;
            
            if (!nonzzero_177898) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:484:63-73\n   #4  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177900 = sdiv64(flat_dim_177728, next_stride_177896);
            bool bounds_invalid_upwards_177901 = slt64(num_merges_177900, (int64_t) 0);
            bool valid_177902 = !bounds_invalid_upwards_177901;
            bool range_valid_c_177903;
            
            if (!valid_177902) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177900, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177905 = sub64(next_stride_177896, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177906 = sle64((int64_t) 0, m_177905);
            bool cond_177908 = slt64(next_stride_177896, (int64_t) 10);
            bool protect_assert_disj_177909 = nonzzero_177883 || cond_177908;
            bool nonzzero_cert_177910;
            
            if (!protect_assert_disj_177909) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177911 = smod_safe64(next_stride_177896, merge_block_sizze_177733);
            bool num_blocks_177912 = zeze_lhs_177911 == (int64_t) 0;
            bool protect_assert_disj_177913 = cond_177908 || num_blocks_177912;
            bool assert_c_177914;
            
            if (!protect_assert_disj_177913) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177916 = sdiv_safe64(next_stride_177896, merge_block_sizze_177733);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917 = add64((int64_t) 1, num_blocks_177916);
            int64_t j_m_i_177918 = sub64(next_stride_177896, stride_177895);
            int64_t flat_dim_177919 = merge_block_sizze_177733 * num_blocks_177916;
            bool bounds_invalid_upwards_177920 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, (int64_t) 0);
            bool empty_slice_177921 = j_m_i_177918 == (int64_t) 0;
            int64_t m_177922 = sub64(j_m_i_177918, (int64_t) 1);
            bool zzero_lte_i_177923 = sle64((int64_t) 0, stride_177895);
            bool i_lte_j_177924 = sle64(stride_177895, next_stride_177896);
            bool empty_slice_177925 = stride_177895 == (int64_t) 0;
            int64_t m_177926 = sub64(stride_177895, (int64_t) 1);
            bool bounds_invalid_upwards_177927 = slt64(num_blocks_177916, (int64_t) 0);
            bool cond_177928 = slt64((int64_t) 0, stride_177895);
            bool valid_177929 = !bounds_invalid_upwards_177920;
            int64_t i_p_m_t_s_177930 = add64(stride_177895, m_177922);
            bool zzero_leq_i_p_m_t_s_177931 = sle64((int64_t) 0, m_177926);
            bool i_p_m_t_s_leq_w_177932 = slt64(m_177926, next_stride_177896);
            bool valid_177933 = !bounds_invalid_upwards_177927;
            bool i_p_m_t_s_leq_w_177934 = slt64(m_177905, flat_dim_177919);
            bool y_177935 = slt64((int64_t) 0, j_m_i_177918);
            bool protect_assert_disj_177936 = cond_177908 || valid_177929;
            bool range_valid_c_177937;
            
            if (!protect_assert_disj_177936) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177938 = sle64((int64_t) 0, i_p_m_t_s_177930);
            bool i_p_m_t_s_leq_w_177939 = slt64(i_p_m_t_s_177930, next_stride_177896);
            bool y_177940 = zzero_leq_i_p_m_t_s_177931 && i_p_m_t_s_leq_w_177932;
            bool protect_assert_disj_177941 = cond_177908 || valid_177933;
            bool range_valid_c_177942;
            
            if (!protect_assert_disj_177941) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177916, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177943 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177934;
            bool y_177944 = zzero_lte_i_177923 && i_p_m_t_s_leq_w_177939;
            bool forwards_ok_177945 = zzero_lte_i_177923 && y_177940;
            bool ok_or_empty_177946 = zzero_177897 || y_177943;
            bool protect_assert_disj_177947 = cond_177928 || y_177935;
            bool y_177948 = zzero_leq_i_p_m_t_s_177938 && y_177944;
            bool ok_or_empty_177949 = empty_slice_177925 || forwards_ok_177945;
            bool protect_assert_disj_177950 = cond_177908 || ok_or_empty_177946;
            bool index_certs_177951;
            
            if (!protect_assert_disj_177950) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) flat_dim_177919, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177952 = !cond_177908;
            bool protect_assert_disj_177953 = protect_assert_disj_177947 || loop_not_taken_177952;
            bool index_certs_177954;
            
            if (!protect_assert_disj_177953) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177955 = i_lte_j_177924 && y_177948;
            bool protect_assert_disj_177956 = cond_177908 || ok_or_empty_177949;
            bool index_certs_177957;
            
            if (!protect_assert_disj_177956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177958 = ok_or_empty_177949 || loop_not_taken_177952;
            bool index_certs_177959;
            
            if (!protect_assert_disj_177958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177960 = empty_slice_177921 || forwards_ok_177955;
            bool protect_assert_disj_177961 = cond_177908 || ok_or_empty_177960;
            bool index_certs_177962;
            
            if (!protect_assert_disj_177961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177963 = loop_not_taken_177952 || ok_or_empty_177960;
            bool index_certs_177964;
            
            if (!protect_assert_disj_177963) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_182052 = next_stride_177896 * num_merges_177900;
            int64_t binop_x_182054 = (int64_t) 8 * num_merges_177900;
            int64_t bytes_182055 = next_stride_177896 * binop_x_182054;
            bool i_lte_j_177907 = sle64((int64_t) 0, next_stride_177896);
            
            if (mem_182053_cached_sizze_183079 < bytes_182052) {
                err = lexical_realloc(ctx, &mem_182053, &mem_182053_cached_sizze_183079, bytes_182052);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182056_cached_sizze_183080 < bytes_182055) {
                err = lexical_realloc(ctx, &mem_182056, &mem_182056_cached_sizze_183080, bytes_182055);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182059_cached_sizze_183081 < bytes_182055) {
                err = lexical_realloc(ctx, &mem_182059, &mem_182059_cached_sizze_183081, bytes_182055);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_182072 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917;
            int64_t binop_x_182090 = (int64_t) 8 * num_blocks_177916;
            int64_t bytes_182091 = merge_block_sizze_177733 * binop_x_182090;
            int64_t bytes_182155 = (int64_t) 16 * stride_177895;
            
            for (int64_t i_180988 = 0; i_180988 < num_merges_177900; i_180988++) {
                int64_t start_177969 = mul64(next_stride_177896, i_180988);
                int64_t j_m_i_177970 = sub64(loop_dz2084Uz2082U_177890, start_177969);
                bool empty_slice_177971 = j_m_i_177970 == (int64_t) 0;
                int64_t m_177972 = sub64(j_m_i_177970, (int64_t) 1);
                int64_t i_p_m_t_s_177973 = add64(start_177969, m_177972);
                bool zzero_leq_i_p_m_t_s_177974 = sle64((int64_t) 0, i_p_m_t_s_177973);
                bool i_p_m_t_s_leq_w_177975 = slt64(i_p_m_t_s_177973, loop_dz2084Uz2082U_177890);
                bool zzero_lte_i_177976 = sle64((int64_t) 0, start_177969);
                bool i_lte_j_177977 = sle64(start_177969, loop_dz2084Uz2082U_177890);
                bool y_177978 = i_p_m_t_s_leq_w_177975 && zzero_lte_i_177976;
                bool y_177979 = zzero_leq_i_p_m_t_s_177974 && y_177978;
                bool forwards_ok_177980 = i_lte_j_177977 && y_177979;
                bool ok_or_empty_177981 = empty_slice_177971 || forwards_ok_177980;
                bool index_certs_177982;
                
                if (!ok_or_empty_177981) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177969, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177890, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177983 = slt64(m_177905, j_m_i_177970);
                bool y_177984 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177983;
                bool forwards_ok_177985 = i_lte_j_177907 && y_177984;
                bool ok_or_empty_177986 = zzero_177897 || forwards_ok_177985;
                bool index_certs_177987;
                
                if (!ok_or_empty_177986) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) j_m_i_177970, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:484:63-73\n   #7  ftsort.fut:477:1-484:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177908) {
                    int8_t dummy_180632;
                    int64_t dummy_180633;
                    int64_t dummy_180634;
                    
                    if (cond_177928) {
                        int8_t head_res_180635 = ((int8_t *) mem_param_182045.mem)[start_177969];
                        int64_t head_res_180636 = ((int64_t *) mem_param_182048.mem)[start_177969];
                        int64_t head_res_180637 = ((int64_t *) mem_param_182051.mem)[start_177969];
                        
                        dummy_180632 = head_res_180635;
                        dummy_180633 = head_res_180636;
                        dummy_180634 = head_res_180637;
                    } else {
                        int64_t slice_180638 = stride_177895 + start_177969;
                        int8_t head_res_180639 = ((int8_t *) mem_param_182045.mem)[slice_180638];
                        int64_t head_res_180640 = ((int64_t *) mem_param_182048.mem)[slice_180638];
                        int64_t head_res_180641 = ((int64_t *) mem_param_182051.mem)[slice_180638];
                        
                        dummy_180632 = head_res_180639;
                        dummy_180633 = head_res_180640;
                        dummy_180634 = head_res_180641;
                    }
                    if (memblock_alloc(ctx, &mem_182154, next_stride_177896, "mem_182154")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182781 = 0; nest_i_182781 < next_stride_177896; nest_i_182781++) {
                        ((int8_t *) mem_182154.mem)[nest_i_182781] = dummy_180632;
                    }
                    if (memblock_alloc(ctx, &mem_182156, bytes_182155, "mem_182156")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182782 = 0; nest_i_182782 < next_stride_177896; nest_i_182782++) {
                        ((int64_t *) mem_182156.mem)[nest_i_182782] = dummy_180633;
                    }
                    if (memblock_alloc(ctx, &mem_182158, bytes_182155, "mem_182158")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182783 = 0; nest_i_182783 < next_stride_177896; nest_i_182783++) {
                        ((int64_t *) mem_182158.mem)[nest_i_182783] = dummy_180634;
                    }
                    
                    int64_t data_180645;
                    int64_t i_180650 = (int64_t) 0;
                    
                    for (int64_t k_180649 = 0; k_180649 < next_stride_177896; k_180649++) {
                        int64_t j_180654 = sub64(k_180649, i_180650);
                        bool cond_180655 = j_180654 == j_m_i_177918;
                        bool cond_180656;
                        
                        if (cond_180655) {
                            cond_180656 = 1;
                        } else {
                            bool cond_180657 = slt64(i_180650, stride_177895);
                            bool cond_f_res_180658;
                            
                            if (cond_180657) {
                                bool x_180659 = sle64((int64_t) 0, j_180654);
                                bool y_180660 = slt64(j_180654, j_m_i_177918);
                                bool bounds_check_180661 = x_180659 && y_180660;
                                bool index_certs_180662;
                                
                                if (!bounds_check_180661) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180668 = sle64((int64_t) 0, i_180650);
                                bool bounds_check_180669 = cond_180657 && x_180668;
                                bool index_certs_180670;
                                
                                if (!bounds_check_180669) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180663 = stride_177895 + j_180654;
                                int64_t slice_180664 = start_177969 + slice_180663;
                                int8_t leq_arg1_180665 = ((int8_t *) mem_param_182045.mem)[slice_180664];
                                int64_t leq_arg1_180666 = ((int64_t *) mem_param_182048.mem)[slice_180664];
                                int64_t leq_arg1_180667 = ((int64_t *) mem_param_182051.mem)[slice_180664];
                                int64_t slice_180671 = start_177969 + i_180650;
                                int8_t leq_arg0_180672 = ((int8_t *) mem_param_182045.mem)[slice_180671];
                                int64_t leq_arg0_180673 = ((int64_t *) mem_param_182048.mem)[slice_180671];
                                int64_t leq_arg0_180674 = ((int64_t *) mem_param_182051.mem)[slice_180671];
                                bool cond_180675 = leq_arg0_180672 == leq_arg1_180665;
                                bool defunc_0_leq_res_t_res_180676 = sle64(leq_arg0_180673, leq_arg1_180666);
                                bool defunc_0_leq_res_180677 = sle64(leq_arg0_180674, leq_arg1_180667);
                                bool x_180678 = cond_180675 && defunc_0_leq_res_t_res_180676;
                                bool x_180679 = !cond_180675;
                                bool y_180680 = defunc_0_leq_res_180677 && x_180679;
                                bool defunc_0_leq_res_180681 = x_180678 || y_180680;
                                
                                cond_f_res_180658 = defunc_0_leq_res_180681;
                            } else {
                                cond_f_res_180658 = 0;
                            }
                            cond_180656 = cond_f_res_180658;
                        }
                        
                        int64_t loopres_180682;
                        int8_t loopres_180683;
                        int64_t loopres_180684;
                        int64_t loopres_180685;
                        
                        if (cond_180656) {
                            bool x_180687 = sle64((int64_t) 0, i_180650);
                            bool y_180688 = slt64(i_180650, stride_177895);
                            bool bounds_check_180689 = x_180687 && y_180688;
                            bool index_certs_180690;
                            
                            if (!bounds_check_180689) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180686 = add64((int64_t) 1, i_180650);
                            int64_t slice_180691 = start_177969 + i_180650;
                            int8_t tmp_180692 = ((int8_t *) mem_param_182045.mem)[slice_180691];
                            int64_t tmp_180693 = ((int64_t *) mem_param_182048.mem)[slice_180691];
                            int64_t tmp_180694 = ((int64_t *) mem_param_182051.mem)[slice_180691];
                            
                            loopres_180682 = tmp_180686;
                            loopres_180683 = tmp_180692;
                            loopres_180684 = tmp_180693;
                            loopres_180685 = tmp_180694;
                        } else {
                            bool x_180695 = sle64((int64_t) 0, j_180654);
                            bool y_180696 = slt64(j_180654, j_m_i_177918);
                            bool bounds_check_180697 = x_180695 && y_180696;
                            bool index_certs_180698;
                            
                            if (!bounds_check_180697) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:484:63-73\n   #8  ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180699 = stride_177895 + j_180654;
                            int64_t slice_180700 = start_177969 + slice_180699;
                            int8_t tmp_180701 = ((int8_t *) mem_param_182045.mem)[slice_180700];
                            int64_t tmp_180702 = ((int64_t *) mem_param_182048.mem)[slice_180700];
                            int64_t tmp_180703 = ((int64_t *) mem_param_182051.mem)[slice_180700];
                            
                            loopres_180682 = i_180650;
                            loopres_180683 = tmp_180701;
                            loopres_180684 = tmp_180702;
                            loopres_180685 = tmp_180703;
                        }
                        ((int8_t *) mem_182154.mem)[k_180649] = loopres_180683;
                        ((int64_t *) mem_182156.mem)[k_180649] = loopres_180684;
                        ((int64_t *) mem_182158.mem)[k_180649] = loopres_180685;
                        
                        int64_t i_tmp_182784 = loopres_180682;
                        
                        i_180650 = i_tmp_182784;
                    }
                    data_180645 = i_180650;
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182154, "mem_182154") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182156, "mem_182156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182158, "mem_182158") != 0)
                        return 1;
                } else {
                    if (mem_182073_cached_sizze_183082 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182073, &mem_182073_cached_sizze_183082, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182075_cached_sizze_183083 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182075, &mem_182075_cached_sizze_183083, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180969 = 0; i_180969 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917; i_180969++) {
                        int64_t split_count_arg3_178070 = mul64(merge_block_sizze_177733, i_180969);
                        int64_t defunc_0_split_count_res_178071;
                        int64_t defunc_0_split_count_res_178072;
                        int64_t defunc_0_split_count_res_178073;
                        int64_t defunc_0_split_count_res_178074;
                        int64_t defunc_0_split_count_res_178075;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_178071, &defunc_0_split_count_res_178072, &defunc_0_split_count_res_178073, &defunc_0_split_count_res_178074, &defunc_0_split_count_res_178075, (int64_t) 0, stride_177895, (int64_t) 0, j_m_i_177918, split_count_arg3_178070) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_178076 = slt64((int64_t) 0, defunc_0_split_count_res_178075);
                        bool defunc_0_split_count_res_178077;
                        int64_t defunc_0_split_count_res_178078;
                        int64_t defunc_0_split_count_res_178079;
                        int64_t defunc_0_split_count_res_178080;
                        int64_t defunc_0_split_count_res_178081;
                        int64_t defunc_0_split_count_res_178082;
                        bool loop_while_178083;
                        int64_t ss_178084;
                        int64_t ss_178085;
                        int64_t tt_178086;
                        int64_t tt_178087;
                        int64_t count_178088;
                        
                        loop_while_178083 = loop_cond_178076;
                        ss_178084 = defunc_0_split_count_res_178071;
                        ss_178085 = defunc_0_split_count_res_178072;
                        tt_178086 = defunc_0_split_count_res_178073;
                        tt_178087 = defunc_0_split_count_res_178074;
                        count_178088 = defunc_0_split_count_res_178075;
                        while (loop_while_178083) {
                            int64_t zlze_lhs_178089 = sub64(ss_178085, ss_178084);
                            bool cond_178090 = sle64(zlze_lhs_178089, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178091;
                            int64_t defunc_0_lifted_step_res_178092;
                            int64_t defunc_0_lifted_step_res_178093;
                            int64_t defunc_0_lifted_step_res_178094;
                            
                            if (cond_178090) {
                                int64_t tmp_180707 = add64(tt_178086, count_178088);
                                
                                defunc_0_lifted_step_res_178091 = ss_178084;
                                defunc_0_lifted_step_res_178092 = tmp_180707;
                                defunc_0_lifted_step_res_178093 = tt_178087;
                                defunc_0_lifted_step_res_178094 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178096 = sub64(tt_178087, tt_178086);
                                bool cond_178097 = sle64(zlze_lhs_178096, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178098;
                                int64_t defunc_0_lifted_step_res_f_res_178099;
                                int64_t defunc_0_lifted_step_res_f_res_178100;
                                int64_t defunc_0_lifted_step_res_f_res_178101;
                                
                                if (cond_178097) {
                                    int64_t tmp_180708 = add64(ss_178084, count_178088);
                                    
                                    defunc_0_lifted_step_res_f_res_178098 = tmp_180708;
                                    defunc_0_lifted_step_res_f_res_178099 = tt_178086;
                                    defunc_0_lifted_step_res_f_res_178100 = tt_178087;
                                    defunc_0_lifted_step_res_f_res_178101 = (int64_t) 0;
                                } else {
                                    bool cond_178103 = count_178088 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178104;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178107;
                                    
                                    if (cond_178103) {
                                        bool x_180710 = sle64((int64_t) 0, ss_178084);
                                        bool y_180711 = slt64(ss_178084, stride_177895);
                                        bool bounds_check_180712 = x_180710 && y_180711;
                                        bool index_certs_180713;
                                        
                                        if (!bounds_check_180712) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178084, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180718 = sle64((int64_t) 0, tt_178086);
                                        bool y_180719 = slt64(tt_178086, j_m_i_177918);
                                        bool bounds_check_180720 = x_180718 && y_180719;
                                        bool index_certs_180721;
                                        
                                        if (!bounds_check_180720) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178086, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180714 = start_177969 + ss_178084;
                                        int8_t leq_arg1_180715 = ((int8_t *) mem_param_182045.mem)[slice_180714];
                                        int64_t leq_arg1_180716 = ((int64_t *) mem_param_182048.mem)[slice_180714];
                                        int64_t leq_arg1_180717 = ((int64_t *) mem_param_182051.mem)[slice_180714];
                                        int64_t slice_180722 = stride_177895 + tt_178086;
                                        int64_t slice_180723 = start_177969 + slice_180722;
                                        int8_t leq_arg0_180724 = ((int8_t *) mem_param_182045.mem)[slice_180723];
                                        int64_t leq_arg0_180725 = ((int64_t *) mem_param_182048.mem)[slice_180723];
                                        int64_t leq_arg0_180726 = ((int64_t *) mem_param_182051.mem)[slice_180723];
                                        bool cond_180727 = leq_arg0_180724 == leq_arg1_180715;
                                        bool defunc_0_leq_res_t_res_180728 = sle64(leq_arg0_180725, leq_arg1_180716);
                                        bool defunc_0_leq_res_180729 = sle64(leq_arg0_180726, leq_arg1_180717);
                                        bool x_180730 = cond_180727 && defunc_0_leq_res_t_res_180728;
                                        bool x_180731 = !cond_180727;
                                        bool y_180732 = defunc_0_leq_res_180729 && x_180731;
                                        bool defunc_0_leq_res_180733 = x_180730 || y_180732;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        
                                        if (defunc_0_leq_res_180733) {
                                            int64_t tmp_180736 = add64((int64_t) 1, tt_178086);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = ss_178084;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tmp_180736;
                                        } else {
                                            int64_t tmp_180737 = add64((int64_t) 1, ss_178084);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = tmp_180737;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tt_178086;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = tt_178087;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = (int64_t) 0;
                                    } else {
                                        int64_t m_178136 = sdiv64(count_178088, (int64_t) 2);
                                        int64_t n_178137 = sub64(count_178088, m_178136);
                                        bool cond_178138 = n_178137 == (int64_t) 0;
                                        int64_t zgze_lhs_178139 = add64(ss_178084, m_178136);
                                        bool cond_f_res_178140 = sle64(ss_178085, zgze_lhs_178139);
                                        bool x_178141 = !cond_178138;
                                        bool y_178142 = cond_f_res_178140 && x_178141;
                                        bool cond_178143 = cond_178138 || y_178142;
                                        bool leq_y_x_178144;
                                        
                                        if (cond_178143) {
                                            leq_y_x_178144 = 1;
                                        } else {
                                            bool x_178145 = sle64((int64_t) 0, zgze_lhs_178139);
                                            bool y_178146 = slt64(zgze_lhs_178139, stride_177895);
                                            bool bounds_check_178147 = x_178145 && y_178146;
                                            bool index_certs_178148;
                                            
                                            if (!bounds_check_178147) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178139, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178153 = add64(tt_178086, n_178137);
                                            int64_t leq_arg0_178154 = sub64(zm_lhs_178153, (int64_t) 1);
                                            bool x_178155 = sle64((int64_t) 0, leq_arg0_178154);
                                            bool y_178156 = slt64(leq_arg0_178154, j_m_i_177918);
                                            bool bounds_check_178157 = x_178155 && y_178156;
                                            bool index_certs_178158;
                                            
                                            if (!bounds_check_178157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178154, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:484:63-73\n   #12 ftsort.fut:477:1-484:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178149 = start_177969 + zgze_lhs_178139;
                                            int8_t leq_arg1_178150 = ((int8_t *) mem_param_182045.mem)[slice_178149];
                                            int64_t leq_arg1_178151 = ((int64_t *) mem_param_182048.mem)[slice_178149];
                                            int64_t leq_arg1_178152 = ((int64_t *) mem_param_182051.mem)[slice_178149];
                                            int64_t slice_178159 = stride_177895 + leq_arg0_178154;
                                            int64_t slice_178160 = start_177969 + slice_178159;
                                            int8_t leq_arg0_178161 = ((int8_t *) mem_param_182045.mem)[slice_178160];
                                            int64_t leq_arg0_178162 = ((int64_t *) mem_param_182048.mem)[slice_178160];
                                            int64_t leq_arg0_178163 = ((int64_t *) mem_param_182051.mem)[slice_178160];
                                            bool cond_178164 = leq_arg0_178161 == leq_arg1_178150;
                                            bool defunc_0_leq_res_t_res_178165 = sle64(leq_arg0_178162, leq_arg1_178151);
                                            bool defunc_0_leq_res_178166 = sle64(leq_arg0_178163, leq_arg1_178152);
                                            bool x_178167 = cond_178164 && defunc_0_leq_res_t_res_178165;
                                            bool x_178168 = !cond_178164;
                                            bool y_178169 = defunc_0_leq_res_178166 && x_178168;
                                            bool defunc_0_leq_res_178170 = x_178167 || y_178169;
                                            
                                            leq_y_x_178144 = defunc_0_leq_res_178170;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                        
                                        if (leq_y_x_178144) {
                                            int64_t tmp_180738 = add64(tt_178086, n_178137);
                                            int64_t tmp_180739 = sub64(count_178088, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tmp_180738;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tt_178087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = tmp_180739;
                                        } else {
                                            int64_t tmp_178176 = add64(tt_178086, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tt_178086;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tmp_178176;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = count_178088;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = ss_178084;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                    }
                                    defunc_0_lifted_step_res_f_res_178098 = defunc_0_lifted_step_res_f_res_f_res_178104;
                                    defunc_0_lifted_step_res_f_res_178099 = defunc_0_lifted_step_res_f_res_f_res_178105;
                                    defunc_0_lifted_step_res_f_res_178100 = defunc_0_lifted_step_res_f_res_f_res_178106;
                                    defunc_0_lifted_step_res_f_res_178101 = defunc_0_lifted_step_res_f_res_f_res_178107;
                                }
                                defunc_0_lifted_step_res_178091 = defunc_0_lifted_step_res_f_res_178098;
                                defunc_0_lifted_step_res_178092 = defunc_0_lifted_step_res_f_res_178099;
                                defunc_0_lifted_step_res_178093 = defunc_0_lifted_step_res_f_res_178100;
                                defunc_0_lifted_step_res_178094 = defunc_0_lifted_step_res_f_res_178101;
                            }
                            
                            int64_t loopres_178177;
                            int64_t loopres_178178;
                            int64_t loopres_178179;
                            int64_t loopres_178180;
                            int64_t loopres_178181;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_178177, &loopres_178178, &loopres_178179, &loopres_178180, &loopres_178181, defunc_0_lifted_step_res_178091, ss_178085, defunc_0_lifted_step_res_178092, defunc_0_lifted_step_res_178093, defunc_0_lifted_step_res_178094) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178182 = slt64((int64_t) 0, loopres_178181);
                            bool loop_while_tmp_182790 = loop_cond_178182;
                            int64_t ss_tmp_182791 = loopres_178177;
                            int64_t ss_tmp_182792 = loopres_178178;
                            int64_t tt_tmp_182793 = loopres_178179;
                            int64_t tt_tmp_182794 = loopres_178180;
                            int64_t count_tmp_182795 = loopres_178181;
                            
                            loop_while_178083 = loop_while_tmp_182790;
                            ss_178084 = ss_tmp_182791;
                            ss_178085 = ss_tmp_182792;
                            tt_178086 = tt_tmp_182793;
                            tt_178087 = tt_tmp_182794;
                            count_178088 = count_tmp_182795;
                        }
                        defunc_0_split_count_res_178077 = loop_while_178083;
                        defunc_0_split_count_res_178078 = ss_178084;
                        defunc_0_split_count_res_178079 = ss_178085;
                        defunc_0_split_count_res_178080 = tt_178086;
                        defunc_0_split_count_res_178081 = tt_178087;
                        defunc_0_split_count_res_178082 = count_178088;
                        ((int64_t *) mem_182073)[i_180969] = defunc_0_split_count_res_178078;
                        ((int64_t *) mem_182075)[i_180969] = defunc_0_split_count_res_178080;
                    }
                    if (mem_182089_cached_sizze_183084 < flat_dim_177919) {
                        err = lexical_realloc(ctx, &mem_182089, &mem_182089_cached_sizze_183084, flat_dim_177919);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182092_cached_sizze_183085 < bytes_182091) {
                        err = lexical_realloc(ctx, &mem_182092, &mem_182092_cached_sizze_183085, bytes_182091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182095_cached_sizze_183086 < bytes_182091) {
                        err = lexical_realloc(ctx, &mem_182095, &mem_182095_cached_sizze_183086, bytes_182091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180978 = 0; i_180978 < num_blocks_177916; i_180978++) {
                        bool y_178189 = slt64(i_180978, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool index_certs_178191;
                        
                        if (!y_178189) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180978, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178192 = ((int64_t *) mem_182073)[i_180978];
                        int64_t defunc_0_f_res_178193 = ((int64_t *) mem_182075)[i_180978];
                        int64_t tmp_178194 = add64((int64_t) 1, i_180978);
                        bool x_178195 = sle64((int64_t) 0, tmp_178194);
                        bool y_178196 = slt64(tmp_178194, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool bounds_check_178197 = x_178195 && y_178196;
                        bool index_certs_178198;
                        
                        if (!bounds_check_178197) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178194, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178199 = ((int64_t *) mem_182073)[tmp_178194];
                        int64_t defunc_0_f_res_178200 = ((int64_t *) mem_182075)[tmp_178194];
                        int64_t merge_sequential_arg2_178201 = add64(stride_177895, defunc_0_f_res_178193);
                        int64_t merge_sequential_arg2_178202 = add64(stride_177895, defunc_0_f_res_178200);
                        int64_t j_m_i_178203 = sub64(merge_sequential_arg2_178202, merge_sequential_arg2_178201);
                        bool empty_slice_178204 = j_m_i_178203 == (int64_t) 0;
                        int64_t m_178205 = sub64(j_m_i_178203, (int64_t) 1);
                        int64_t i_p_m_t_s_178206 = add64(merge_sequential_arg2_178201, m_178205);
                        bool zzero_leq_i_p_m_t_s_178207 = sle64((int64_t) 0, i_p_m_t_s_178206);
                        bool i_p_m_t_s_leq_w_178208 = slt64(i_p_m_t_s_178206, next_stride_177896);
                        bool zzero_lte_i_178209 = sle64((int64_t) 0, merge_sequential_arg2_178201);
                        bool i_lte_j_178210 = sle64(merge_sequential_arg2_178201, merge_sequential_arg2_178202);
                        bool y_178211 = i_p_m_t_s_leq_w_178208 && zzero_lte_i_178209;
                        bool y_178212 = zzero_leq_i_p_m_t_s_178207 && y_178211;
                        bool forwards_ok_178213 = i_lte_j_178210 && y_178212;
                        bool ok_or_empty_178214 = empty_slice_178204 || forwards_ok_178213;
                        bool index_certs_178215;
                        
                        if (!ok_or_empty_178214) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178201, ":", (long long) merge_sequential_arg2_178202, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178216 = sub64(defunc_0_f_res_178199, defunc_0_f_res_178192);
                        bool empty_slice_178217 = j_m_i_178216 == (int64_t) 0;
                        int64_t m_178218 = sub64(j_m_i_178216, (int64_t) 1);
                        int64_t i_p_m_t_s_178219 = add64(defunc_0_f_res_178192, m_178218);
                        bool zzero_leq_i_p_m_t_s_178220 = sle64((int64_t) 0, i_p_m_t_s_178219);
                        bool i_p_m_t_s_leq_w_178221 = slt64(i_p_m_t_s_178219, next_stride_177896);
                        bool zzero_lte_i_178222 = sle64((int64_t) 0, defunc_0_f_res_178192);
                        bool i_lte_j_178223 = sle64(defunc_0_f_res_178192, defunc_0_f_res_178199);
                        bool y_178224 = i_p_m_t_s_leq_w_178221 && zzero_lte_i_178222;
                        bool y_178225 = zzero_leq_i_p_m_t_s_178220 && y_178224;
                        bool forwards_ok_178226 = i_lte_j_178223 && y_178225;
                        bool ok_or_empty_178227 = empty_slice_178217 || forwards_ok_178226;
                        bool index_certs_178228;
                        
                        if (!ok_or_empty_178227) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178192, ":", (long long) defunc_0_f_res_178199, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:484:63-73\n   #9  ftsort.fut:477:1-484:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178229 = slt64((int64_t) 0, j_m_i_178216);
                        int8_t dummy_178230;
                        int64_t dummy_178231;
                        int64_t dummy_178232;
                        
                        if (cond_178229) {
                            bool index_certs_180740;
                            
                            if (!cond_178229) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180741 = start_177969 + defunc_0_f_res_178192;
                            int8_t head_res_180742 = ((int8_t *) mem_param_182045.mem)[slice_180741];
                            int64_t head_res_180743 = ((int64_t *) mem_param_182048.mem)[slice_180741];
                            int64_t head_res_180744 = ((int64_t *) mem_param_182051.mem)[slice_180741];
                            
                            dummy_178230 = head_res_180742;
                            dummy_178231 = head_res_180743;
                            dummy_178232 = head_res_180744;
                        } else {
                            bool y_178238 = slt64((int64_t) 0, j_m_i_178203);
                            bool index_certs_178239;
                            
                            if (!y_178238) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:484:63-73\n   #11 ftsort.fut:477:1-484:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178240 = start_177969 + merge_sequential_arg2_178201;
                            int8_t head_res_178241 = ((int8_t *) mem_param_182045.mem)[slice_178240];
                            int64_t head_res_178242 = ((int64_t *) mem_param_182048.mem)[slice_178240];
                            int64_t head_res_178243 = ((int64_t *) mem_param_182051.mem)[slice_178240];
                            
                            dummy_178230 = head_res_178241;
                            dummy_178231 = head_res_178242;
                            dummy_178232 = head_res_178243;
                        }
                        for (int64_t nest_i_182799 = 0; nest_i_182799 < merge_block_sizze_177733; nest_i_182799++) {
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + nest_i_182799] = dummy_178230;
                        }
                        for (int64_t nest_i_182800 = 0; nest_i_182800 < merge_block_sizze_177733; nest_i_182800++) {
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + nest_i_182800] = dummy_178231;
                        }
                        for (int64_t nest_i_182801 = 0; nest_i_182801 < merge_block_sizze_177733; nest_i_182801++) {
                            ((int64_t *) mem_182095)[i_180978 * merge_block_sizze_177733 + nest_i_182801] = dummy_178232;
                        }
                        
                        int64_t data_178247;
                        int64_t i_178252 = (int64_t) 0;
                        
                        for (int64_t k_178251 = 0; k_178251 < merge_block_sizze_177733; k_178251++) {
                            int64_t j_178256 = sub64(k_178251, i_178252);
                            bool cond_178257 = j_178256 == j_m_i_178203;
                            bool cond_178258;
                            
                            if (cond_178257) {
                                cond_178258 = 1;
                            } else {
                                bool cond_178259 = slt64(i_178252, j_m_i_178216);
                                bool cond_f_res_178260;
                                
                                if (cond_178259) {
                                    bool x_180745 = sle64((int64_t) 0, j_178256);
                                    bool y_180746 = slt64(j_178256, j_m_i_178203);
                                    bool bounds_check_180747 = x_180745 && y_180746;
                                    bool index_certs_180748;
                                    
                                    if (!bounds_check_180747) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180754 = sle64((int64_t) 0, i_178252);
                                    bool bounds_check_180755 = cond_178259 && x_180754;
                                    bool index_certs_180756;
                                    
                                    if (!bounds_check_180755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180749 = merge_sequential_arg2_178201 + j_178256;
                                    int64_t slice_180750 = start_177969 + slice_180749;
                                    int8_t leq_arg1_180751 = ((int8_t *) mem_param_182045.mem)[slice_180750];
                                    int64_t leq_arg1_180752 = ((int64_t *) mem_param_182048.mem)[slice_180750];
                                    int64_t leq_arg1_180753 = ((int64_t *) mem_param_182051.mem)[slice_180750];
                                    int64_t slice_180757 = defunc_0_f_res_178192 + i_178252;
                                    int64_t slice_180758 = start_177969 + slice_180757;
                                    int8_t leq_arg0_180759 = ((int8_t *) mem_param_182045.mem)[slice_180758];
                                    int64_t leq_arg0_180760 = ((int64_t *) mem_param_182048.mem)[slice_180758];
                                    int64_t leq_arg0_180761 = ((int64_t *) mem_param_182051.mem)[slice_180758];
                                    bool cond_180762 = leq_arg0_180759 == leq_arg1_180751;
                                    bool defunc_0_leq_res_t_res_180763 = sle64(leq_arg0_180760, leq_arg1_180752);
                                    bool defunc_0_leq_res_180764 = sle64(leq_arg0_180761, leq_arg1_180753);
                                    bool x_180765 = cond_180762 && defunc_0_leq_res_t_res_180763;
                                    bool x_180766 = !cond_180762;
                                    bool y_180767 = defunc_0_leq_res_180764 && x_180766;
                                    bool defunc_0_leq_res_180768 = x_180765 || y_180767;
                                    
                                    cond_f_res_178260 = defunc_0_leq_res_180768;
                                } else {
                                    cond_f_res_178260 = 0;
                                }
                                cond_178258 = cond_f_res_178260;
                            }
                            
                            int64_t loopres_178285;
                            int8_t loopres_178286;
                            int64_t loopres_178287;
                            int64_t loopres_178288;
                            
                            if (cond_178258) {
                                bool x_180770 = sle64((int64_t) 0, i_178252);
                                bool y_180771 = slt64(i_178252, j_m_i_178216);
                                bool bounds_check_180772 = x_180770 && y_180771;
                                bool index_certs_180773;
                                
                                if (!bounds_check_180772) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180769 = add64((int64_t) 1, i_178252);
                                int64_t slice_180774 = defunc_0_f_res_178192 + i_178252;
                                int64_t slice_180775 = start_177969 + slice_180774;
                                int8_t tmp_180776 = ((int8_t *) mem_param_182045.mem)[slice_180775];
                                int64_t tmp_180777 = ((int64_t *) mem_param_182048.mem)[slice_180775];
                                int64_t tmp_180778 = ((int64_t *) mem_param_182051.mem)[slice_180775];
                                
                                loopres_178285 = tmp_180769;
                                loopres_178286 = tmp_180776;
                                loopres_178287 = tmp_180777;
                                loopres_178288 = tmp_180778;
                            } else {
                                bool x_178299 = sle64((int64_t) 0, j_178256);
                                bool y_178300 = slt64(j_178256, j_m_i_178203);
                                bool bounds_check_178301 = x_178299 && y_178300;
                                bool index_certs_178302;
                                
                                if (!bounds_check_178301) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:484:63-73\n   #10 ftsort.fut:477:1-484:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178303 = merge_sequential_arg2_178201 + j_178256;
                                int64_t slice_178304 = start_177969 + slice_178303;
                                int8_t tmp_178305 = ((int8_t *) mem_param_182045.mem)[slice_178304];
                                int64_t tmp_178306 = ((int64_t *) mem_param_182048.mem)[slice_178304];
                                int64_t tmp_178307 = ((int64_t *) mem_param_182051.mem)[slice_178304];
                                
                                loopres_178285 = i_178252;
                                loopres_178286 = tmp_178305;
                                loopres_178287 = tmp_178306;
                                loopres_178288 = tmp_178307;
                            }
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178286;
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178287;
                            ((int64_t *) mem_182095)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178288;
                            
                            int64_t i_tmp_182802 = loopres_178285;
                            
                            i_178252 = i_tmp_182802;
                        }
                        data_178247 = i_178252;
                    }
                    if (memblock_alloc(ctx, &mem_182144, flat_dim_177919, "mem_182144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182144.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint8_t *) mem_182089, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182148, bytes_182091, "mem_182148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182148.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint64_t *) mem_182092, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182152, bytes_182091, "mem_182152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182152.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint64_t *) mem_182095, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182144, "mem_182144") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182148, "mem_182148") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182152, "mem_182152") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_182053, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_182056, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182182.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_182059, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182179.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182199, bytes_182052, "mem_182199")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182199.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint8_t *) mem_182053, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182203, bytes_182055, "mem_182203")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182203.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint64_t *) mem_182056, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182207, bytes_182055, "mem_182207")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182207.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint64_t *) mem_182059, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            
            bool loop_cond_178321 = slt64(next_stride_177896, flat_dim_177728);
            
            if (memblock_set(ctx, &mem_param_tmp_182769, &mem_182199, "mem_182199") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182770, &mem_182203, "mem_182203") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182771, &mem_182207, "mem_182207") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182772 = bytes_182052;
            bool loop_while_tmp_182773 = loop_cond_178321;
            int64_t stride_tmp_182777 = next_stride_177896;
            
            if (memblock_set(ctx, &mem_param_182045, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182048, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182051, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
                return 1;
            loop_dz2084Uz2082U_177890 = loop_dz2084Uz2082U_tmp_182772;
            loop_while_177891 = loop_while_tmp_182773;
            stride_177895 = stride_tmp_182777;
        }
        if (memblock_set(ctx, &ext_mem_182217, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182216, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182215, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        data_177884 = loop_dz2084Uz2082U_177890;
        data_177885 = loop_while_177891;
        data_177889 = stride_177895;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178324 = slt64(zs_lhs_177712, data_177884);
        bool y_178325 = i_p_m_t_s_leq_w_178324 && zzero_leq_i_p_m_t_s_178338;
        bool ok_or_empty_178326 = y_178325 || empty_slice_178336;
        bool index_certs_178327;
        
        if (!ok_or_empty_178326) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) data_177884, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:484:63-73\n   #5  ftsort.fut:477:1-484:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182226, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182226.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182223.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181139.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182220.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181137, "mem_181137") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182549, &mem_181139, "mem_181139") != 0)
        return 1;
    prim_out_182550 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    if (memblock_set(ctx, &*mem_out_p_183033, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183034, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183035, &mem_out_182549, "mem_out_182549") != 0)
        return 1;
    *out_prim_out_183036 = prim_out_182550;
    
  cleanup:
    {
        free(mem_181150);
        free(mem_181152);
        free(mem_181191);
        free(mem_181194);
        free(mem_181197);
        free(mem_181210);
        free(mem_181212);
        free(mem_181214);
        free(mem_181311);
        free(mem_181314);
        free(mem_181317);
        free(mem_181331);
        free(mem_181333);
        free(mem_181347);
        free(mem_181350);
        free(mem_181353);
        free(mem_181495);
        free(mem_181497);
        free(mem_181512);
        free(mem_181514);
        free(mem_181517);
        free(mem_181520);
        free(mem_181554);
        free(mem_181557);
        free(mem_181560);
        free(mem_181573);
        free(mem_181575);
        free(mem_181577);
        free(mem_181674);
        free(mem_181677);
        free(mem_181680);
        free(mem_181694);
        free(mem_181696);
        free(mem_181710);
        free(mem_181713);
        free(mem_181716);
        free(mem_181933);
        free(mem_181936);
        free(mem_181939);
        free(mem_181952);
        free(mem_181954);
        free(mem_181956);
        free(mem_182053);
        free(mem_182056);
        free(mem_182059);
        free(mem_182073);
        free(mem_182075);
        free(mem_182089);
        free(mem_182092);
        free(mem_182095);
        if (memblock_unref(ctx, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182207, "mem_182207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182203, "mem_182203") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182199, "mem_182199") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182152, "mem_182152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182148, "mem_182148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182144, "mem_182144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182158, "mem_182158") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182156, "mem_182156") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182154, "mem_182154") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181465, "mem_181465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181461, "mem_181461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181457, "mem_181457") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181410, "mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181406, "mem_181406") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181402, "mem_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181416, "mem_181416") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181414, "mem_181414") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181412, "mem_181412") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181309, "mem_param_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181306, "mem_param_181306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181303, "mem_param_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181473, "ext_mem_181473") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181474, "ext_mem_181474") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181475, "ext_mem_181475") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181169, "mem_181169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181167, "mem_181167") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181165, "mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181876, "mem_181876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181875, "mem_181875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181873, "mem_181873") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181824, "mem_181824") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181820, "mem_181820") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181773, "mem_181773") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181769, "mem_181769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181765, "mem_181765") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181779, "mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181777, "mem_181777") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181672, "mem_param_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181669, "mem_param_181669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181666, "mem_param_181666") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181836, "ext_mem_181836") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181837, "ext_mem_181837") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181838, "ext_mem_181838") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181139, "mem_181139") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181137, "mem_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182549, "mem_out_182549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_183087, struct memblock *mem_out_p_183088, struct memblock *mem_out_p_183089, int64_t *out_prim_out_183090, struct memblock a_list_mem_181133, struct memblock b_list_mem_181134, int64_t na_121285, int64_t nb_121286, int64_t window_sizze_121287, int64_t threads_121288, bool inParallel_121291)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181150_cached_sizze_183091 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_183092 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181191_cached_sizze_183093 = 0;
    unsigned char *mem_181191 = NULL;
    int64_t mem_181194_cached_sizze_183094 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181197_cached_sizze_183095 = 0;
    unsigned char *mem_181197 = NULL;
    int64_t mem_181210_cached_sizze_183096 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181212_cached_sizze_183097 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181214_cached_sizze_183098 = 0;
    unsigned char *mem_181214 = NULL;
    int64_t mem_181311_cached_sizze_183099 = 0;
    unsigned char *mem_181311 = NULL;
    int64_t mem_181314_cached_sizze_183100 = 0;
    unsigned char *mem_181314 = NULL;
    int64_t mem_181317_cached_sizze_183101 = 0;
    unsigned char *mem_181317 = NULL;
    int64_t mem_181331_cached_sizze_183102 = 0;
    unsigned char *mem_181331 = NULL;
    int64_t mem_181333_cached_sizze_183103 = 0;
    unsigned char *mem_181333 = NULL;
    int64_t mem_181347_cached_sizze_183104 = 0;
    unsigned char *mem_181347 = NULL;
    int64_t mem_181350_cached_sizze_183105 = 0;
    unsigned char *mem_181350 = NULL;
    int64_t mem_181353_cached_sizze_183106 = 0;
    unsigned char *mem_181353 = NULL;
    int64_t mem_181495_cached_sizze_183107 = 0;
    unsigned char *mem_181495 = NULL;
    int64_t mem_181497_cached_sizze_183108 = 0;
    unsigned char *mem_181497 = NULL;
    int64_t mem_181512_cached_sizze_183109 = 0;
    unsigned char *mem_181512 = NULL;
    int64_t mem_181514_cached_sizze_183110 = 0;
    unsigned char *mem_181514 = NULL;
    int64_t mem_181517_cached_sizze_183111 = 0;
    unsigned char *mem_181517 = NULL;
    int64_t mem_181520_cached_sizze_183112 = 0;
    unsigned char *mem_181520 = NULL;
    int64_t mem_181554_cached_sizze_183113 = 0;
    unsigned char *mem_181554 = NULL;
    int64_t mem_181557_cached_sizze_183114 = 0;
    unsigned char *mem_181557 = NULL;
    int64_t mem_181560_cached_sizze_183115 = 0;
    unsigned char *mem_181560 = NULL;
    int64_t mem_181573_cached_sizze_183116 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181575_cached_sizze_183117 = 0;
    unsigned char *mem_181575 = NULL;
    int64_t mem_181577_cached_sizze_183118 = 0;
    unsigned char *mem_181577 = NULL;
    int64_t mem_181674_cached_sizze_183119 = 0;
    unsigned char *mem_181674 = NULL;
    int64_t mem_181677_cached_sizze_183120 = 0;
    unsigned char *mem_181677 = NULL;
    int64_t mem_181680_cached_sizze_183121 = 0;
    unsigned char *mem_181680 = NULL;
    int64_t mem_181694_cached_sizze_183122 = 0;
    unsigned char *mem_181694 = NULL;
    int64_t mem_181696_cached_sizze_183123 = 0;
    unsigned char *mem_181696 = NULL;
    int64_t mem_181710_cached_sizze_183124 = 0;
    unsigned char *mem_181710 = NULL;
    int64_t mem_181713_cached_sizze_183125 = 0;
    unsigned char *mem_181713 = NULL;
    int64_t mem_181716_cached_sizze_183126 = 0;
    unsigned char *mem_181716 = NULL;
    int64_t mem_181933_cached_sizze_183127 = 0;
    unsigned char *mem_181933 = NULL;
    int64_t mem_181936_cached_sizze_183128 = 0;
    unsigned char *mem_181936 = NULL;
    int64_t mem_181939_cached_sizze_183129 = 0;
    unsigned char *mem_181939 = NULL;
    int64_t mem_181952_cached_sizze_183130 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181954_cached_sizze_183131 = 0;
    unsigned char *mem_181954 = NULL;
    int64_t mem_181956_cached_sizze_183132 = 0;
    unsigned char *mem_181956 = NULL;
    int64_t mem_182053_cached_sizze_183133 = 0;
    unsigned char *mem_182053 = NULL;
    int64_t mem_182056_cached_sizze_183134 = 0;
    unsigned char *mem_182056 = NULL;
    int64_t mem_182059_cached_sizze_183135 = 0;
    unsigned char *mem_182059 = NULL;
    int64_t mem_182073_cached_sizze_183136 = 0;
    unsigned char *mem_182073 = NULL;
    int64_t mem_182075_cached_sizze_183137 = 0;
    unsigned char *mem_182075 = NULL;
    int64_t mem_182089_cached_sizze_183138 = 0;
    unsigned char *mem_182089 = NULL;
    int64_t mem_182092_cached_sizze_183139 = 0;
    unsigned char *mem_182092 = NULL;
    int64_t mem_182095_cached_sizze_183140 = 0;
    unsigned char *mem_182095 = NULL;
    struct memblock mem_param_tmp_182771;
    
    mem_param_tmp_182771.references = NULL;
    
    struct memblock mem_param_tmp_182770;
    
    mem_param_tmp_182770.references = NULL;
    
    struct memblock mem_param_tmp_182769;
    
    mem_param_tmp_182769.references = NULL;
    
    struct memblock mem_182207;
    
    mem_182207.references = NULL;
    
    struct memblock mem_182203;
    
    mem_182203.references = NULL;
    
    struct memblock mem_182199;
    
    mem_182199.references = NULL;
    
    struct memblock mem_182152;
    
    mem_182152.references = NULL;
    
    struct memblock mem_182148;
    
    mem_182148.references = NULL;
    
    struct memblock mem_182144;
    
    mem_182144.references = NULL;
    
    struct memblock mem_182158;
    
    mem_182158.references = NULL;
    
    struct memblock mem_182156;
    
    mem_182156.references = NULL;
    
    struct memblock mem_182154;
    
    mem_182154.references = NULL;
    
    struct memblock ext_mem_182179;
    
    ext_mem_182179.references = NULL;
    
    struct memblock ext_mem_182182;
    
    ext_mem_182182.references = NULL;
    
    struct memblock ext_mem_182185;
    
    ext_mem_182185.references = NULL;
    
    struct memblock mem_param_182051;
    
    mem_param_182051.references = NULL;
    
    struct memblock mem_param_182048;
    
    mem_param_182048.references = NULL;
    
    struct memblock mem_param_182045;
    
    mem_param_182045.references = NULL;
    
    struct memblock ext_mem_182215;
    
    ext_mem_182215.references = NULL;
    
    struct memblock ext_mem_182216;
    
    ext_mem_182216.references = NULL;
    
    struct memblock ext_mem_182217;
    
    ext_mem_182217.references = NULL;
    
    struct memblock mem_182041;
    
    mem_182041.references = NULL;
    
    struct memblock mem_182037;
    
    mem_182037.references = NULL;
    
    struct memblock mem_182033;
    
    mem_182033.references = NULL;
    
    struct memblock ext_mem_182220;
    
    ext_mem_182220.references = NULL;
    
    struct memblock ext_mem_182223;
    
    ext_mem_182223.references = NULL;
    
    struct memblock ext_mem_182226;
    
    ext_mem_182226.references = NULL;
    
    struct memblock mem_181931;
    
    mem_181931.references = NULL;
    
    struct memblock mem_181929;
    
    mem_181929.references = NULL;
    
    struct memblock mem_181927;
    
    mem_181927.references = NULL;
    
    struct memblock mem_param_tmp_182705;
    
    mem_param_tmp_182705.references = NULL;
    
    struct memblock mem_param_tmp_182704;
    
    mem_param_tmp_182704.references = NULL;
    
    struct memblock mem_param_tmp_182703;
    
    mem_param_tmp_182703.references = NULL;
    
    struct memblock mem_181465;
    
    mem_181465.references = NULL;
    
    struct memblock mem_181461;
    
    mem_181461.references = NULL;
    
    struct memblock mem_181457;
    
    mem_181457.references = NULL;
    
    struct memblock mem_181410;
    
    mem_181410.references = NULL;
    
    struct memblock mem_181406;
    
    mem_181406.references = NULL;
    
    struct memblock mem_181402;
    
    mem_181402.references = NULL;
    
    struct memblock mem_181416;
    
    mem_181416.references = NULL;
    
    struct memblock mem_181414;
    
    mem_181414.references = NULL;
    
    struct memblock mem_181412;
    
    mem_181412.references = NULL;
    
    struct memblock ext_mem_181437;
    
    ext_mem_181437.references = NULL;
    
    struct memblock ext_mem_181440;
    
    ext_mem_181440.references = NULL;
    
    struct memblock ext_mem_181443;
    
    ext_mem_181443.references = NULL;
    
    struct memblock mem_param_181309;
    
    mem_param_181309.references = NULL;
    
    struct memblock mem_param_181306;
    
    mem_param_181306.references = NULL;
    
    struct memblock mem_param_181303;
    
    mem_param_181303.references = NULL;
    
    struct memblock ext_mem_181473;
    
    ext_mem_181473.references = NULL;
    
    struct memblock ext_mem_181474;
    
    ext_mem_181474.references = NULL;
    
    struct memblock ext_mem_181475;
    
    ext_mem_181475.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock ext_mem_181478;
    
    ext_mem_181478.references = NULL;
    
    struct memblock ext_mem_181481;
    
    ext_mem_181481.references = NULL;
    
    struct memblock ext_mem_181484;
    
    ext_mem_181484.references = NULL;
    
    struct memblock mem_181189;
    
    mem_181189.references = NULL;
    
    struct memblock mem_181187;
    
    mem_181187.references = NULL;
    
    struct memblock mem_181185;
    
    mem_181185.references = NULL;
    
    struct memblock mem_181169;
    
    mem_181169.references = NULL;
    
    struct memblock mem_181167;
    
    mem_181167.references = NULL;
    
    struct memblock mem_181165;
    
    mem_181165.references = NULL;
    
    struct memblock mem_181876;
    
    mem_181876.references = NULL;
    
    struct memblock mem_181875;
    
    mem_181875.references = NULL;
    
    struct memblock mem_181873;
    
    mem_181873.references = NULL;
    
    struct memblock mem_param_tmp_182611;
    
    mem_param_tmp_182611.references = NULL;
    
    struct memblock mem_param_tmp_182610;
    
    mem_param_tmp_182610.references = NULL;
    
    struct memblock mem_param_tmp_182609;
    
    mem_param_tmp_182609.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181824;
    
    mem_181824.references = NULL;
    
    struct memblock mem_181820;
    
    mem_181820.references = NULL;
    
    struct memblock mem_181773;
    
    mem_181773.references = NULL;
    
    struct memblock mem_181769;
    
    mem_181769.references = NULL;
    
    struct memblock mem_181765;
    
    mem_181765.references = NULL;
    
    struct memblock mem_181779;
    
    mem_181779.references = NULL;
    
    struct memblock mem_181777;
    
    mem_181777.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock ext_mem_181800;
    
    ext_mem_181800.references = NULL;
    
    struct memblock ext_mem_181803;
    
    ext_mem_181803.references = NULL;
    
    struct memblock ext_mem_181806;
    
    ext_mem_181806.references = NULL;
    
    struct memblock mem_param_181672;
    
    mem_param_181672.references = NULL;
    
    struct memblock mem_param_181669;
    
    mem_param_181669.references = NULL;
    
    struct memblock mem_param_181666;
    
    mem_param_181666.references = NULL;
    
    struct memblock ext_mem_181836;
    
    ext_mem_181836.references = NULL;
    
    struct memblock ext_mem_181837;
    
    ext_mem_181837.references = NULL;
    
    struct memblock ext_mem_181838;
    
    ext_mem_181838.references = NULL;
    
    struct memblock mem_181662;
    
    mem_181662.references = NULL;
    
    struct memblock mem_181658;
    
    mem_181658.references = NULL;
    
    struct memblock mem_181654;
    
    mem_181654.references = NULL;
    
    struct memblock ext_mem_181841;
    
    ext_mem_181841.references = NULL;
    
    struct memblock ext_mem_181844;
    
    ext_mem_181844.references = NULL;
    
    struct memblock ext_mem_181847;
    
    ext_mem_181847.references = NULL;
    
    struct memblock mem_181552;
    
    mem_181552.references = NULL;
    
    struct memblock mem_181550;
    
    mem_181550.references = NULL;
    
    struct memblock mem_181548;
    
    mem_181548.references = NULL;
    
    struct memblock ext_mem_181897;
    
    ext_mem_181897.references = NULL;
    
    struct memblock ext_mem_181900;
    
    ext_mem_181900.references = NULL;
    
    struct memblock ext_mem_181903;
    
    ext_mem_181903.references = NULL;
    
    struct memblock mem_181139;
    
    mem_181139.references = NULL;
    
    struct memblock mem_181137;
    
    mem_181137.references = NULL;
    
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t prim_out_182550;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622 = add64(na_121285, nb_121286);
    
    if (memblock_alloc(ctx, &mem_181135, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182551 = 0; nest_i_182551 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182551++) {
        ((int8_t *) mem_181135.mem)[nest_i_182551] = (int8_t) -1;
    }
    
    int64_t bytes_181136 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    
    if (memblock_alloc(ctx, &mem_181137, bytes_181136, "mem_181137")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182552 = 0; nest_i_182552 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182552++) {
        ((int64_t *) mem_181137.mem)[nest_i_182552] = (int64_t) -1;
    }
    
    int64_t bytes_181138 = (int64_t) 2 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    
    if (memblock_alloc(ctx, &mem_181139, bytes_181138, "mem_181139")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182553 = 0; nest_i_182553 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622; nest_i_182553++) {
        ((int16_t *) mem_181139.mem)[nest_i_182553] = (int16_t) 0;
    }
    
    int64_t zl_rhs_175626 = sub64(na_121285, window_sizze_121287);
    bool cond_175627 = slt64((int64_t) 0, zl_rhs_175626);
    int64_t zl_rhs_175628 = sub64(nb_121286, window_sizze_121287);
    bool loop_cond_t_res_175629 = slt64((int64_t) 0, zl_rhs_175628);
    bool x_175630 = cond_175627 && loop_cond_t_res_175629;
    bool empty_slice_175631 = window_sizze_121287 == (int64_t) 0;
    int64_t m_175632 = sub64(window_sizze_121287, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657 = add64((int64_t) 1, threads_121288);
    int64_t partitionFunc_arg0_176658 = mul64((int64_t) 2, threads_121288);
    bool y_176660 = slt64((int64_t) 0, window_sizze_121287);
    bool loop_cond_176906 = slt64((int64_t) 0, threads_121288);
    bool zzero_175677 = threads_121288 == (int64_t) 0;
    bool nonzzero_175678 = !zzero_175677;
    bool loop_not_taken_178435 = !inParallel_121291;
    bool protect_assert_disj_178436 = nonzzero_175678 || loop_not_taken_178435;
    bool loop_not_taken_178525 = !x_175630;
    bool protect_assert_disj_178526 = protect_assert_disj_178436 || loop_not_taken_178525;
    bool nonzzero_cert_175679;
    
    if (!protect_assert_disj_178526) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:365:24-32\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175680 = sdiv_safe64(window_sizze_121287, threads_121288);
    int64_t perThread_175681 = add64((int64_t) 1, zp_rhs_175680);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682 = mul64(threads_121288, perThread_175681);
    bool protect_assert_disj_178572 = inParallel_121291 || y_176660;
    bool protect_assert_disj_178576 = loop_not_taken_178525 || protect_assert_disj_178572;
    bool index_certs_176661;
    
    if (!protect_assert_disj_178576) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176676 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, (int64_t) 1);
    bool y_177633 = slt64(threads_121288, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
    bool protect_assert_disj_178541 = y_176660 || loop_not_taken_178435;
    bool protect_assert_disj_178580 = loop_not_taken_178525 || protect_assert_disj_178541;
    bool index_certs_175685;
    
    if (!protect_assert_disj_178580) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:250:20-25\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176678 = !bounds_invalid_upwards_176676;
    bool protect_assert_disj_178588 = inParallel_121291 || y_177633;
    bool protect_assert_disj_178590 = loop_not_taken_178525 || protect_assert_disj_178588;
    bool index_certs_177635;
    
    if (!protect_assert_disj_178590) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_121288, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:355:7-31\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178584 = y_177633 || loop_not_taken_178435;
    bool protect_assert_disj_178592 = loop_not_taken_178525 || protect_assert_disj_178584;
    bool index_certs_176639;
    
    if (!protect_assert_disj_178592) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_121288, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:389:7-31\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178600 = inParallel_121291 || valid_176678;
    bool protect_assert_disj_178602 = loop_not_taken_178525 || protect_assert_disj_178600;
    bool range_valid_c_176679;
    
    if (!protect_assert_disj_178602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178444 = sle64((int64_t) 1, threads_121288);
    bool protect_assert_disj_178596 = valid_176678 || loop_not_taken_178435;
    bool protect_assert_disj_178604 = loop_not_taken_178525 || protect_assert_disj_178596;
    bool range_valid_c_175692;
    
    if (!protect_assert_disj_178604) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, " is invalid.", "-> #0  ftsort.fut:253:43-68\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176681 = add64(window_sizze_121287, window_sizze_121287);
    bool zzero_176682 = partitionFunc_arg0_176658 == (int64_t) 0;
    int64_t index_concat_i_178445 = sub64(threads_121288, (int64_t) 1);
    bool nonzzero_176683 = !zzero_176682;
    bool protect_assert_disj_178612 = inParallel_121291 || nonzzero_176683;
    bool protect_assert_disj_178618 = loop_not_taken_178525 || protect_assert_disj_178612;
    bool nonzzero_cert_176684;
    
    if (!protect_assert_disj_178618) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178608 = nonzzero_176683 || loop_not_taken_178435;
    bool protect_assert_disj_178624 = loop_not_taken_178525 || protect_assert_disj_178608;
    bool nonzzero_cert_175697;
    
    if (!protect_assert_disj_178624) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:256:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181149 = (int64_t) 8 * threads_121288;
    int64_t bytes_181166 = (int64_t) 8 * window_sizze_121287;
    int64_t bytes_181168 = (int64_t) 2 * window_sizze_121287;
    int64_t bytes_181511 = perThread_175681 * bytes_181149;
    int64_t bytes_181519 = perThread_175681 * partitionFunc_arg0_176658;
    bool defunc_0_merge_pipeline_res_175633;
    int64_t defunc_0_merge_pipeline_res_175637;
    int64_t defunc_0_merge_pipeline_res_175638;
    bool loop_while_175639;
    int64_t p_175643;
    int64_t p_175644;
    
    loop_while_175639 = x_175630;
    p_175643 = (int64_t) 0;
    p_175644 = (int64_t) 0;
    while (loop_while_175639) {
        int64_t ubs_175645 = add64(window_sizze_121287, p_175643);
        int64_t ubs_175646 = add64(window_sizze_121287, p_175644);
        int64_t ind_bottom_175647 = add64(p_175643, p_175644);
        int64_t ind_top_175648 = add64(window_sizze_121287, ind_bottom_175647);
        int64_t i_p_m_t_s_175649 = add64(m_175632, p_175643);
        bool zzero_leq_i_p_m_t_s_175650 = sle64((int64_t) 0, i_p_m_t_s_175649);
        bool i_p_m_t_s_leq_w_175651 = slt64(i_p_m_t_s_175649, na_121285);
        bool zzero_lte_i_175652 = sle64((int64_t) 0, p_175643);
        bool i_lte_j_175653 = sle64(p_175643, ubs_175645);
        bool y_175654 = i_p_m_t_s_leq_w_175651 && zzero_lte_i_175652;
        bool y_175655 = zzero_leq_i_p_m_t_s_175650 && y_175654;
        bool forwards_ok_175656 = i_lte_j_175653 && y_175655;
        bool ok_or_empty_175657 = empty_slice_175631 || forwards_ok_175656;
        bool index_certs_175658;
        
        if (!ok_or_empty_175657) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175643, ":", (long long) ubs_175645, "] out of bounds for array of shape [", (long long) na_121285, "].", "-> #0  ftsort.fut:421:14-35\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175660 = add64(m_175632, p_175644);
        bool zzero_leq_i_p_m_t_s_175661 = sle64((int64_t) 0, i_p_m_t_s_175660);
        bool i_p_m_t_s_leq_w_175662 = slt64(i_p_m_t_s_175660, nb_121286);
        bool zzero_lte_i_175663 = sle64((int64_t) 0, p_175644);
        bool i_lte_j_175664 = sle64(p_175644, ubs_175646);
        bool y_175665 = i_p_m_t_s_leq_w_175662 && zzero_lte_i_175663;
        bool y_175666 = zzero_leq_i_p_m_t_s_175661 && y_175665;
        bool forwards_ok_175667 = i_lte_j_175664 && y_175666;
        bool ok_or_empty_175668 = empty_slice_175631 || forwards_ok_175667;
        bool index_certs_175669;
        
        if (!ok_or_empty_175668) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175644, ":", (long long) ubs_175646, "] out of bounds for array of shape [", (long long) nb_121286, "].", "-> #0  ftsort.fut:422:14-35\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177647 = add64(m_175632, ind_bottom_175647);
        bool zzero_leq_i_p_m_t_s_177648 = sle64((int64_t) 0, i_p_m_t_s_177647);
        bool i_p_m_t_s_leq_w_177649 = slt64(i_p_m_t_s_177647, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
        bool zzero_lte_i_177650 = sle64((int64_t) 0, ind_bottom_175647);
        bool i_lte_j_177651 = sle64(ind_bottom_175647, ind_top_175648);
        bool y_177652 = i_p_m_t_s_leq_w_177649 && zzero_lte_i_177650;
        bool y_177653 = zzero_leq_i_p_m_t_s_177648 && y_177652;
        bool forwards_ok_177654 = i_lte_j_177651 && y_177653;
        bool ok_or_empty_177655 = empty_slice_175631 || forwards_ok_177654;
        bool index_certs_177656;
        
        if (!ok_or_empty_177655) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175647, ":", (long long) ind_top_175648, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:431:21-79\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175671;
        int64_t loopres_175672;
        
        if (inParallel_121291) {
            int16_t leq_lhs_179105 = ((int16_t *) a_list_mem_181133.mem)[p_175643];
            int16_t leq_rhs_179106 = ((int16_t *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_179107 = sle16(leq_lhs_179105, leq_rhs_179106);
            int16_t lowest_179108;
            
            if (defunc_0_leq_res_179107) {
                lowest_179108 = leq_lhs_179105;
            } else {
                lowest_179108 = leq_rhs_179106;
            }
            if (mem_181495_cached_sizze_183107 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181495, &mem_181495_cached_sizze_183107, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181497_cached_sizze_183108 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181497, &mem_181497_cached_sizze_183108, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180797 = 0; i_180797 < threads_121288; i_180797++) {
                int64_t index_primexp_181069 = add64((int64_t) 1, i_180797);
                int64_t zs_lhs_179113 = mul64(zt_rhs_176681, index_primexp_181069);
                int64_t index_179114 = sdiv64(zs_lhs_179113, partitionFunc_arg0_176658);
                bool cond_179115 = slt64(window_sizze_121287, index_179114);
                int64_t loop_over_179116;
                
                if (cond_179115) {
                    loop_over_179116 = window_sizze_121287;
                } else {
                    loop_over_179116 = index_179114;
                }
                
                int64_t loop_over_179117;
                
                if (cond_179115) {
                    int64_t loop_over_t_res_179118 = sub64(index_179114, window_sizze_121287);
                    
                    loop_over_179117 = loop_over_t_res_179118;
                } else {
                    loop_over_179117 = (int64_t) 0;
                }
                
                int64_t loop_over_179119;
                
                if (cond_179115) {
                    int64_t zm_lhs_179120 = sub64(index_179114, window_sizze_121287);
                    int64_t loop_over_t_res_179121 = sub64(zm_lhs_179120, (int64_t) 1);
                    
                    loop_over_179119 = loop_over_t_res_179121;
                } else {
                    loop_over_179119 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179122;
                int64_t defunc_0_f_res_179123;
                int64_t defunc_0_f_res_179124;
                int64_t defunc_0_f_res_179125;
                bool loop_while_179126;
                int64_t p_179127;
                int64_t p_179128;
                int64_t p_179129;
                
                loop_while_179126 = 1;
                p_179127 = loop_over_179119;
                p_179128 = loop_over_179116;
                p_179129 = loop_over_179117;
                while (loop_while_179126) {
                    int64_t zs_lhs_179130 = sub64(p_179128, p_179127);
                    int64_t offset_179131 = sdiv64(zs_lhs_179130, (int64_t) 2);
                    int64_t ai_179132 = sub64(p_179128, offset_179131);
                    int64_t max_arg1_179133 = add64(p_179129, offset_179131);
                    int64_t max_res_179134 = smax64((int64_t) 0, max_arg1_179133);
                    bool cond_179135 = slt64((int64_t) 0, max_res_179134);
                    int16_t b_prev_179136;
                    
                    if (cond_179135) {
                        int64_t tmp_179137 = sub64(max_res_179134, (int64_t) 1);
                        bool x_179138 = sle64((int64_t) 0, tmp_179137);
                        bool y_179139 = slt64(tmp_179137, window_sizze_121287);
                        bool bounds_check_179140 = x_179138 && y_179139;
                        bool index_certs_179141;
                        
                        if (!bounds_check_179140) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179137, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179142 = p_175644 + tmp_179137;
                        int16_t b_prev_t_res_179143 = ((int16_t *) b_list_mem_181134.mem)[slice_179142];
                        
                        b_prev_179136 = b_prev_t_res_179143;
                    } else {
                        b_prev_179136 = lowest_179108;
                    }
                    
                    bool cond_179144 = sle64(ai_179132, (int64_t) 0);
                    int64_t loopres_179145;
                    int64_t loopres_179146;
                    int64_t loopres_179147;
                    bool loopres_179148;
                    
                    if (cond_179144) {
                        loopres_179145 = p_179127;
                        loopres_179146 = (int64_t) 0;
                        loopres_179147 = max_res_179134;
                        loopres_179148 = 0;
                    } else {
                        bool cond_179149 = sle64(window_sizze_121287, max_res_179134);
                        int64_t loopres_f_res_179150;
                        int64_t loopres_f_res_179151;
                        int64_t loopres_f_res_179152;
                        bool loopres_f_res_179153;
                        
                        if (cond_179149) {
                            int64_t min_res_179155 = smin64(m_175632, ai_179132);
                            bool x_179156 = sle64((int64_t) 0, m_175632);
                            bool y_179157 = slt64(m_175632, window_sizze_121287);
                            bool bounds_check_179158 = x_179156 && y_179157;
                            bool index_certs_179159;
                            
                            if (!bounds_check_179158) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179162 = sle64((int64_t) 0, min_res_179155);
                            bool y_179163 = slt64(min_res_179155, window_sizze_121287);
                            bool bounds_check_179164 = x_179162 && y_179163;
                            bool index_certs_179165;
                            
                            if (!bounds_check_179164) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179155, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_179161 = ((int16_t *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_179166 = p_175643 + min_res_179155;
                            int16_t leq_rhs_179167 = ((int16_t *) a_list_mem_181133.mem)[slice_179166];
                            bool defunc_0_leq_res_179168 = sle16(leq_lhs_179161, leq_rhs_179167);
                            int64_t loopres_f_res_t_res_179169;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179169 = ai_179132;
                            } else {
                                loopres_f_res_t_res_179169 = p_179128;
                            }
                            
                            bool x_179170 = !defunc_0_leq_res_179168;
                            int64_t loopres_f_res_t_res_179171;
                            
                            if (defunc_0_leq_res_179168) {
                                loopres_f_res_t_res_179171 = window_sizze_121287;
                            } else {
                                int64_t tmp_179172 = sub64(m_175632, offset_179131);
                                
                                loopres_f_res_t_res_179171 = tmp_179172;
                            }
                            loopres_f_res_179150 = p_179127;
                            loopres_f_res_179151 = loopres_f_res_t_res_179169;
                            loopres_f_res_179152 = loopres_f_res_t_res_179171;
                            loopres_f_res_179153 = x_179170;
                        } else {
                            bool cond_179173 = sle64(window_sizze_121287, ai_179132);
                            int64_t loopres_f_res_f_res_179174;
                            int64_t loopres_f_res_f_res_179175;
                            int64_t loopres_f_res_f_res_179176;
                            bool loopres_f_res_f_res_179177;
                            
                            if (cond_179173) {
                                int64_t min_res_179179 = smin64(m_175632, max_res_179134);
                                bool x_179180 = sle64((int64_t) 0, m_175632);
                                bool y_179181 = slt64(m_175632, window_sizze_121287);
                                bool bounds_check_179182 = x_179180 && y_179181;
                                bool index_certs_179183;
                                
                                if (!bounds_check_179182) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179186 = sle64((int64_t) 0, min_res_179179);
                                bool y_179187 = slt64(min_res_179179, window_sizze_121287);
                                bool bounds_check_179188 = x_179186 && y_179187;
                                bool index_certs_179189;
                                
                                if (!bounds_check_179188) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179179, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_179185 = ((int16_t *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_179190 = p_175644 + min_res_179179;
                                int16_t leq_rhs_179191 = ((int16_t *) b_list_mem_181134.mem)[slice_179190];
                                bool defunc_0_leq_res_179192 = sle16(leq_lhs_179185, leq_rhs_179191);
                                int64_t loopres_f_res_f_res_t_res_179193;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179193 = max_res_179134;
                                } else {
                                    loopres_f_res_f_res_t_res_179193 = p_179129;
                                }
                                
                                bool x_179194 = !defunc_0_leq_res_179192;
                                int64_t loopres_f_res_f_res_t_res_179195;
                                
                                if (defunc_0_leq_res_179192) {
                                    loopres_f_res_f_res_t_res_179195 = window_sizze_121287;
                                } else {
                                    loopres_f_res_f_res_t_res_179195 = m_175632;
                                }
                                loopres_f_res_f_res_179174 = p_179127;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_t_res_179195;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_t_res_179193;
                                loopres_f_res_f_res_179177 = x_179194;
                            } else {
                                bool cond_179196 = sle64(p_179128, p_179127);
                                int64_t loopres_f_res_f_res_f_res_179197;
                                int64_t loopres_f_res_f_res_f_res_179198;
                                int64_t loopres_f_res_f_res_f_res_179199;
                                bool loopres_f_res_f_res_f_res_179200;
                                
                                if (cond_179196) {
                                    bool cond_179201 = slt64(ai_179132, window_sizze_121287);
                                    int64_t ai_179202;
                                    
                                    if (cond_179201) {
                                        ai_179202 = ai_179132;
                                    } else {
                                        ai_179202 = m_175632;
                                    }
                                    
                                    bool x_179215 = sle64((int64_t) 0, ai_179202);
                                    bool y_179216 = slt64(ai_179202, window_sizze_121287);
                                    bool bounds_check_179217 = x_179215 && y_179216;
                                    bool index_certs_179218;
                                    
                                    if (!bounds_check_179217) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179202, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_179204;
                                    
                                    if (cond_179135) {
                                        int64_t tmp_179205 = sub64(max_res_179134, (int64_t) 1);
                                        bool x_179206 = sle64((int64_t) 0, tmp_179205);
                                        bool y_179207 = slt64(tmp_179205, window_sizze_121287);
                                        bool bounds_check_179208 = x_179206 && y_179207;
                                        bool index_certs_179209;
                                        
                                        if (!bounds_check_179208) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179205, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179210 = p_175644 + tmp_179205;
                                        int16_t b_prev_t_res_179211 = ((int16_t *) b_list_mem_181134.mem)[slice_179210];
                                        
                                        b_prev_179204 = b_prev_t_res_179211;
                                    } else {
                                        bool index_certs_179213;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179204 = leq_rhs_179106;
                                    }
                                    
                                    int64_t slice_179219 = p_175643 + ai_179202;
                                    int16_t gt_lhs_179220 = ((int16_t *) a_list_mem_181133.mem)[slice_179219];
                                    bool defunc_0_gt_res_179221 = slt16(b_prev_179204, gt_lhs_179220);
                                    int64_t defunc_0_partFunc_sequential_search_res_179222;
                                    int64_t defunc_0_partFunc_sequential_search_res_179223;
                                    
                                    if (defunc_0_gt_res_179221) {
                                        int64_t zl_rhs_179224 = sub64(window_sizze_121287, max_res_179134);
                                        bool loop_cond_179225 = slt64((int64_t) 0, zl_rhs_179224);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179226;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179228;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179229;
                                        bool loop_while_179230;
                                        int64_t p_179231;
                                        int64_t p_179232;
                                        int64_t p_179233;
                                        
                                        loop_while_179230 = loop_cond_179225;
                                        p_179231 = ai_179202;
                                        p_179232 = max_res_179134;
                                        p_179233 = (int64_t) 0;
                                        while (loop_while_179230) {
                                            int64_t i_a_179234 = sub64(ai_179202, p_179233);
                                            int64_t i_b_179235 = add64(max_res_179134, p_179233);
                                            int64_t leq_lhs_179236 = sub64(i_a_179234, (int64_t) 1);
                                            bool x_179237 = sle64((int64_t) 0, leq_lhs_179236);
                                            bool y_179238 = slt64(leq_lhs_179236, window_sizze_121287);
                                            bool bounds_check_179239 = x_179237 && y_179238;
                                            bool index_certs_179240;
                                            
                                            if (!bounds_check_179239) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179236, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179243 = sle64((int64_t) 0, i_b_179235);
                                            bool y_179244 = slt64(i_b_179235, window_sizze_121287);
                                            bool bounds_check_179245 = x_179243 && y_179244;
                                            bool index_certs_179246;
                                            
                                            if (!bounds_check_179245) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179235, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179241 = p_175643 + leq_lhs_179236;
                                            int16_t leq_lhs_179242 = ((int16_t *) a_list_mem_181133.mem)[slice_179241];
                                            int64_t slice_179247 = p_175644 + i_b_179235;
                                            int16_t leq_rhs_179248 = ((int16_t *) b_list_mem_181134.mem)[slice_179247];
                                            bool defunc_0_leq_res_179249 = sle16(leq_lhs_179242, leq_rhs_179248);
                                            int64_t loopres_179250;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179250 = i_a_179234;
                                            } else {
                                                loopres_179250 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179251;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179251 = i_b_179235;
                                            } else {
                                                loopres_179251 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179252;
                                            
                                            if (defunc_0_leq_res_179249) {
                                                loopres_179252 = zl_rhs_179224;
                                            } else {
                                                int64_t tmp_179253 = add64((int64_t) 1, p_179233);
                                                
                                                loopres_179252 = tmp_179253;
                                            }
                                            
                                            bool loop_cond_179254 = slt64(loopres_179252, zl_rhs_179224);
                                            bool loop_while_tmp_182566 = loop_cond_179254;
                                            int64_t p_tmp_182567 = loopres_179250;
                                            int64_t p_tmp_182568 = loopres_179251;
                                            int64_t p_tmp_182569 = loopres_179252;
                                            
                                            loop_while_179230 = loop_while_tmp_182566;
                                            p_179231 = p_tmp_182567;
                                            p_179232 = p_tmp_182568;
                                            p_179233 = p_tmp_182569;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179226 = loop_while_179230;
                                        defunc_0_partFunc_sequential_search_res_t_res_179227 = p_179231;
                                        defunc_0_partFunc_sequential_search_res_t_res_179228 = p_179232;
                                        defunc_0_partFunc_sequential_search_res_t_res_179229 = p_179233;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_t_res_179227;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_t_res_179228;
                                    } else {
                                        int64_t zl_rhs_179255 = sub64(max_res_179134, (int64_t) 1);
                                        bool loop_cond_179256 = slt64((int64_t) 0, zl_rhs_179255);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179257;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179259;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179260;
                                        bool loop_while_179261;
                                        int64_t p_179262;
                                        int64_t p_179263;
                                        int64_t p_179264;
                                        
                                        loop_while_179261 = loop_cond_179256;
                                        p_179262 = ai_179202;
                                        p_179263 = max_res_179134;
                                        p_179264 = (int64_t) 0;
                                        while (loop_while_179261) {
                                            int64_t zp_lhs_179265 = add64(ai_179202, p_179264);
                                            int64_t hi_a_179266 = add64((int64_t) 1, zp_lhs_179265);
                                            bool cond_179267 = slt64(hi_a_179266, window_sizze_121287);
                                            int64_t i_a_179268;
                                            
                                            if (cond_179267) {
                                                i_a_179268 = hi_a_179266;
                                            } else {
                                                i_a_179268 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_179270 = sub64(max_res_179134, p_179264);
                                            int64_t i_b_179271 = sub64(zm_lhs_179270, (int64_t) 1);
                                            bool x_179272 = sle64((int64_t) 0, i_a_179268);
                                            bool y_179273 = slt64(i_a_179268, window_sizze_121287);
                                            bool bounds_check_179274 = x_179272 && y_179273;
                                            bool index_certs_179275;
                                            
                                            if (!bounds_check_179274) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179268, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179278 = sle64((int64_t) 0, i_b_179271);
                                            bool y_179279 = slt64(i_b_179271, window_sizze_121287);
                                            bool bounds_check_179280 = x_179278 && y_179279;
                                            bool index_certs_179281;
                                            
                                            if (!bounds_check_179280) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179271, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179276 = p_175643 + i_a_179268;
                                            int16_t gt_lhs_179277 = ((int16_t *) a_list_mem_181133.mem)[slice_179276];
                                            int64_t slice_179282 = p_175644 + i_b_179271;
                                            int16_t gt_rhs_179283 = ((int16_t *) b_list_mem_181134.mem)[slice_179282];
                                            bool defunc_0_gt_res_179284 = slt16(gt_rhs_179283, gt_lhs_179277);
                                            int64_t loopres_179285;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179285 = i_a_179268;
                                            } else {
                                                loopres_179285 = ai_179202;
                                            }
                                            
                                            int64_t loopres_179286;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179286 = zm_lhs_179270;
                                            } else {
                                                loopres_179286 = max_res_179134;
                                            }
                                            
                                            int64_t loopres_179287;
                                            
                                            if (defunc_0_gt_res_179284) {
                                                loopres_179287 = zl_rhs_179255;
                                            } else {
                                                int64_t tmp_179288 = add64((int64_t) 1, p_179264);
                                                
                                                loopres_179287 = tmp_179288;
                                            }
                                            
                                            bool loop_cond_179289 = slt64(loopres_179287, zl_rhs_179255);
                                            bool loop_while_tmp_182570 = loop_cond_179289;
                                            int64_t p_tmp_182571 = loopres_179285;
                                            int64_t p_tmp_182572 = loopres_179286;
                                            int64_t p_tmp_182573 = loopres_179287;
                                            
                                            loop_while_179261 = loop_while_tmp_182570;
                                            p_179262 = p_tmp_182571;
                                            p_179263 = p_tmp_182572;
                                            p_179264 = p_tmp_182573;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179257 = loop_while_179261;
                                        defunc_0_partFunc_sequential_search_res_f_res_179258 = p_179262;
                                        defunc_0_partFunc_sequential_search_res_f_res_179259 = p_179263;
                                        defunc_0_partFunc_sequential_search_res_f_res_179260 = p_179264;
                                        defunc_0_partFunc_sequential_search_res_179222 = defunc_0_partFunc_sequential_search_res_f_res_179258;
                                        defunc_0_partFunc_sequential_search_res_179223 = defunc_0_partFunc_sequential_search_res_f_res_179259;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = p_179127;
                                    loopres_f_res_f_res_f_res_179198 = defunc_0_partFunc_sequential_search_res_179222;
                                    loopres_f_res_f_res_f_res_179199 = defunc_0_partFunc_sequential_search_res_179223;
                                    loopres_f_res_f_res_f_res_179200 = 0;
                                } else {
                                    bool x_179290 = sle64((int64_t) 0, ai_179132);
                                    bool y_179291 = slt64(ai_179132, window_sizze_121287);
                                    bool bounds_check_179292 = x_179290 && y_179291;
                                    bool index_certs_179293;
                                    
                                    if (!bounds_check_179292) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179132, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179294 = p_175643 + ai_179132;
                                    int16_t gt_lhs_179295 = ((int16_t *) a_list_mem_181133.mem)[slice_179294];
                                    bool defunc_0_gt_res_179296 = slt16(b_prev_179136, gt_lhs_179295);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179297;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179298;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179299;
                                    bool loopres_f_res_f_res_f_res_f_res_179300;
                                    
                                    if (defunc_0_gt_res_179296) {
                                        int64_t leq_lhs_179301 = sub64(ai_179132, (int64_t) 1);
                                        bool x_179302 = sle64((int64_t) 0, leq_lhs_179301);
                                        bool y_179303 = slt64(leq_lhs_179301, window_sizze_121287);
                                        bool bounds_check_179304 = x_179302 && y_179303;
                                        bool index_certs_179305;
                                        
                                        if (!bounds_check_179304) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179301, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179308 = sle64((int64_t) 0, max_res_179134);
                                        bool y_179309 = slt64(max_res_179134, window_sizze_121287);
                                        bool bounds_check_179310 = x_179308 && y_179309;
                                        bool index_certs_179311;
                                        
                                        if (!bounds_check_179310) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179134, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179306 = p_175643 + leq_lhs_179301;
                                        int16_t leq_lhs_179307 = ((int16_t *) a_list_mem_181133.mem)[slice_179306];
                                        int64_t slice_179312 = p_175644 + max_res_179134;
                                        int16_t leq_rhs_179313 = ((int16_t *) b_list_mem_181134.mem)[slice_179312];
                                        bool defunc_0_leq_res_179314 = sle16(leq_lhs_179307, leq_rhs_179313);
                                        bool x_179315 = !defunc_0_leq_res_179314;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = ai_179132;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179316 = leq_lhs_179301;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        
                                        if (defunc_0_leq_res_179314) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = max_res_179134;
                                        } else {
                                            int64_t tmp_179318 = add64((int64_t) 1, max_res_179134);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179317 = tmp_179318;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179297 = p_179127;
                                        loopres_f_res_f_res_f_res_f_res_179298 = loopres_f_res_f_res_f_res_f_res_t_res_179316;
                                        loopres_f_res_f_res_f_res_f_res_179299 = loopres_f_res_f_res_f_res_f_res_t_res_179317;
                                        loopres_f_res_f_res_f_res_f_res_179300 = x_179315;
                                    } else {
                                        int64_t tmp_179319 = add64((int64_t) 1, ai_179132);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179297 = tmp_179319;
                                        loopres_f_res_f_res_f_res_f_res_179298 = p_179128;
                                        loopres_f_res_f_res_f_res_f_res_179299 = p_179129;
                                        loopres_f_res_f_res_f_res_f_res_179300 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_179297;
                                    loopres_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_179298;
                                    loopres_f_res_f_res_f_res_179199 = loopres_f_res_f_res_f_res_f_res_179299;
                                    loopres_f_res_f_res_f_res_179200 = loopres_f_res_f_res_f_res_f_res_179300;
                                }
                                loopres_f_res_f_res_179174 = loopres_f_res_f_res_f_res_179197;
                                loopres_f_res_f_res_179175 = loopres_f_res_f_res_f_res_179198;
                                loopres_f_res_f_res_179176 = loopres_f_res_f_res_f_res_179199;
                                loopres_f_res_f_res_179177 = loopres_f_res_f_res_f_res_179200;
                            }
                            loopres_f_res_179150 = loopres_f_res_f_res_179174;
                            loopres_f_res_179151 = loopres_f_res_f_res_179175;
                            loopres_f_res_179152 = loopres_f_res_f_res_179176;
                            loopres_f_res_179153 = loopres_f_res_f_res_179177;
                        }
                        loopres_179145 = loopres_f_res_179150;
                        loopres_179146 = loopres_f_res_179151;
                        loopres_179147 = loopres_f_res_179152;
                        loopres_179148 = loopres_f_res_179153;
                    }
                    
                    bool loop_while_tmp_182562 = loopres_179148;
                    int64_t p_tmp_182563 = loopres_179145;
                    int64_t p_tmp_182564 = loopres_179146;
                    int64_t p_tmp_182565 = loopres_179147;
                    
                    loop_while_179126 = loop_while_tmp_182562;
                    p_179127 = p_tmp_182563;
                    p_179128 = p_tmp_182564;
                    p_179129 = p_tmp_182565;
                }
                defunc_0_f_res_179122 = loop_while_179126;
                defunc_0_f_res_179123 = p_179127;
                defunc_0_f_res_179124 = p_179128;
                defunc_0_f_res_179125 = p_179129;
                ((int64_t *) mem_181495)[i_180797] = defunc_0_f_res_179124;
                ((int64_t *) mem_181497)[i_180797] = defunc_0_f_res_179125;
            }
            if (mem_181512_cached_sizze_183109 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181512, &mem_181512_cached_sizze_183109, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181514_cached_sizze_183110 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682) {
                err = lexical_realloc(ctx, &mem_181514, &mem_181514_cached_sizze_183110, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181517_cached_sizze_183111 < bytes_181511) {
                err = lexical_realloc(ctx, &mem_181517, &mem_181517_cached_sizze_183111, bytes_181511);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181520_cached_sizze_183112 < bytes_181519) {
                err = lexical_realloc(ctx, &mem_181520, &mem_181520_cached_sizze_183112, bytes_181519);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180863 = 0; i_180863 < threads_121288; i_180863++) {
                bool y_179333 = slt64(i_180863, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool index_certs_179335;
                
                if (!y_179333) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180863, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:371:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179336 = sle64((int64_t) 1, i_180863);
                int64_t index_concat_i_179337 = sub64(i_180863, (int64_t) 1);
                int64_t index_concat_179338;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179339 = ((int64_t *) mem_181495)[index_concat_i_179337];
                    
                    index_concat_179338 = x_179339;
                } else {
                    index_concat_179338 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179340;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179340 = index_concat_179338;
                } else {
                    index_concat_branch_179340 = (int64_t) 0;
                }
                
                int64_t index_concat_179341;
                
                if (index_concat_cmp_179336) {
                    int64_t x_179342 = ((int64_t *) mem_181497)[index_concat_i_179337];
                    
                    index_concat_179341 = x_179342;
                } else {
                    index_concat_179341 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179343;
                
                if (index_concat_cmp_179336) {
                    index_concat_branch_179343 = index_concat_179341;
                } else {
                    index_concat_branch_179343 = (int64_t) 0;
                }
                
                int64_t ubs_179344 = add64((int64_t) 1, i_180863);
                bool x_179345 = sle64((int64_t) 0, ubs_179344);
                bool y_179346 = slt64(ubs_179344, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_179347 = x_179345 && y_179346;
                bool index_certs_179348;
                
                if (!bounds_check_179347) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179344, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:372:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179349 = sle64((int64_t) 1, ubs_179344);
                int64_t index_concat_179350;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179351 = ((int64_t *) mem_181495)[i_180863];
                    
                    index_concat_179350 = x_179351;
                } else {
                    index_concat_179350 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179352;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179352 = index_concat_179350;
                } else {
                    index_concat_branch_179352 = (int64_t) 0;
                }
                
                int64_t index_concat_179353;
                
                if (index_concat_cmp_179349) {
                    int64_t x_179354 = ((int64_t *) mem_181497)[i_180863];
                    
                    index_concat_179353 = x_179354;
                } else {
                    index_concat_179353 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179355;
                
                if (index_concat_cmp_179349) {
                    index_concat_branch_179355 = index_concat_179353;
                } else {
                    index_concat_branch_179355 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 = sub64(index_concat_branch_179355, index_concat_branch_179343);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 = sub64(index_concat_branch_179352, index_concat_branch_179340);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t zm_lhs_179359 = add64(index_concat_branch_179352, index_concat_branch_179355);
                int64_t zm_rhs_179360 = add64(index_concat_branch_179340, index_concat_branch_179343);
                int64_t card_179361 = sub64(zm_lhs_179359, zm_rhs_179360);
                bool empty_slice_179362 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 == (int64_t) 0;
                int64_t m_179363 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 1);
                int64_t i_p_m_t_s_179364 = add64(index_concat_branch_179340, m_179363);
                bool zzero_leq_i_p_m_t_s_179365 = sle64((int64_t) 0, i_p_m_t_s_179364);
                bool i_p_m_t_s_leq_w_179366 = slt64(i_p_m_t_s_179364, window_sizze_121287);
                bool zzero_lte_i_179367 = sle64((int64_t) 0, index_concat_branch_179340);
                bool i_lte_j_179368 = sle64(index_concat_branch_179340, index_concat_branch_179352);
                bool y_179369 = i_p_m_t_s_leq_w_179366 && zzero_lte_i_179367;
                bool y_179370 = zzero_leq_i_p_m_t_s_179365 && y_179369;
                bool forwards_ok_179371 = i_lte_j_179368 && y_179370;
                bool ok_or_empty_179372 = empty_slice_179362 || forwards_ok_179371;
                bool index_certs_179373;
                
                if (!ok_or_empty_179372) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179340, ":", (long long) index_concat_branch_179352, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:374:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179374 = slt64(index_concat_branch_179352, index_concat_branch_179340);
                bool valid_179375 = !bounds_invalid_upwards_179374;
                bool range_valid_c_179376;
                
                if (!valid_179375) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179340, "..<", (long long) index_concat_branch_179352, " is invalid.", "-> #0  ftsort.fut:374:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179381 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356 == (int64_t) 0;
                int64_t m_179382 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356, (int64_t) 1);
                int64_t i_p_m_t_s_179383 = add64(index_concat_branch_179343, m_179382);
                bool zzero_leq_i_p_m_t_s_179384 = sle64((int64_t) 0, i_p_m_t_s_179383);
                bool i_p_m_t_s_leq_w_179385 = slt64(i_p_m_t_s_179383, window_sizze_121287);
                bool zzero_lte_i_179386 = sle64((int64_t) 0, index_concat_branch_179343);
                bool i_lte_j_179387 = sle64(index_concat_branch_179343, index_concat_branch_179355);
                bool y_179388 = i_p_m_t_s_leq_w_179385 && zzero_lte_i_179386;
                bool y_179389 = zzero_leq_i_p_m_t_s_179384 && y_179388;
                bool forwards_ok_179390 = i_lte_j_179387 && y_179389;
                bool ok_or_empty_179391 = empty_slice_179381 || forwards_ok_179390;
                bool index_certs_179392;
                
                if (!ok_or_empty_179391) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179343, ":", (long long) index_concat_branch_179355, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:375:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179393 = slt64(index_concat_branch_179355, index_concat_branch_179343);
                bool valid_179394 = !bounds_invalid_upwards_179393;
                bool range_valid_c_179395;
                
                if (!valid_179394) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179343, "..<", (long long) index_concat_branch_179355, " is invalid.", "-> #0  ftsort.fut:375:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181549 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                int64_t bytes_181551 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool cond_179403 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zs_lhs_179404 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, (int64_t) 1);
                int64_t zp_rhs_179405 = sdiv_safe64(zs_lhs_179404, (int64_t) 20);
                int64_t min_num_blocks_179406 = add64((int64_t) 1, zp_rhs_179405);
                bool loop_cond_179407 = slt64((int64_t) 1, min_num_blocks_179406);
                bool smallest_pow_2_geq_than_res_179408;
                int64_t smallest_pow_2_geq_than_res_179409;
                bool loop_while_179410;
                int64_t x_179411;
                
                loop_while_179410 = loop_cond_179407;
                x_179411 = (int64_t) 1;
                while (loop_while_179410) {
                    int64_t loopres_179412 = mul64((int64_t) 2, x_179411);
                    bool loop_cond_179413 = slt64(loopres_179412, min_num_blocks_179406);
                    bool loop_while_tmp_182578 = loop_cond_179413;
                    int64_t x_tmp_182579 = loopres_179412;
                    
                    loop_while_179410 = loop_while_tmp_182578;
                    x_179411 = x_tmp_182579;
                }
                smallest_pow_2_geq_than_res_179408 = loop_while_179410;
                smallest_pow_2_geq_than_res_179409 = x_179411;
                
                bool zzero_179414 = smallest_pow_2_geq_than_res_179409 == (int64_t) 0;
                bool nonzzero_179415 = !zzero_179414;
                bool protect_assert_disj_179416 = cond_179403 || nonzzero_179415;
                bool nonzzero_cert_179417;
                
                if (!protect_assert_disj_179416) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179418 = sdiv_safe64(zs_lhs_179404, smallest_pow_2_geq_than_res_179409);
                int64_t block_sizze_179419 = add64((int64_t) 1, zp_rhs_179418);
                bool y_179426 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                bool protect_assert_disj_182295 = cond_179403 || y_179426;
                bool index_certs_179427;
                
                if (!protect_assert_disj_182295) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179464 = slt64(smallest_pow_2_geq_than_res_179409, (int64_t) 0);
                bool valid_179465 = !bounds_invalid_upwards_179464;
                bool protect_assert_disj_182305 = cond_179403 || valid_179465;
                bool range_valid_c_179466;
                
                if (!protect_assert_disj_182305) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179409, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:466:63-73\n   #6  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179468 = slt64(block_sizze_179419, (int64_t) 0);
                bool valid_179469 = !bounds_invalid_upwards_179468;
                bool protect_assert_disj_182307 = cond_179403 || valid_179469;
                bool range_valid_c_179470;
                
                if (!protect_assert_disj_182307) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179419, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179472 = sle64(block_sizze_179419, (int64_t) 1);
                int64_t tmp_179473 = sub64(block_sizze_179419, (int64_t) 2);
                bool bounds_invalid_upwards_179474 = slt64(tmp_179473, (int64_t) 0);
                bool valid_179476 = !bounds_invalid_upwards_179474;
                bool protect_assert_disj_179477 = cond_179472 || valid_179476;
                bool protect_assert_disj_182309 = cond_179403 || protect_assert_disj_179477;
                bool range_valid_c_179478;
                
                if (!protect_assert_disj_182309) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179473, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_180058 = card_179361 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358;
                bool empty_or_match_cert_180059;
                
                if (!dim_match_180058) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] cannot match shape of type `[", (long long) card_179361, "](i8, i64, i16)`.", "-> #0  ftsort.fut:376:20-382:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_180060 = card_179361 == (int64_t) 0;
                int64_t m_180061 = sub64(card_179361, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_180062 = sle64((int64_t) 0, m_180061);
                bool i_p_m_t_s_leq_w_180063 = slt64(m_180061, card_179361);
                bool y_180064 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180063;
                bool ok_or_empty_180065 = empty_slice_180060 || y_180064;
                bool index_certs_180066;
                
                if (!ok_or_empty_180065) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) card_179361, "].", "-> #0  ftsort.fut:383:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_180067 = slt64(m_180061, perThread_175681);
                bool y_180068 = zzero_leq_i_p_m_t_s_180062 && i_p_m_t_s_leq_w_180067;
                bool ok_or_empty_180069 = empty_slice_180060 || y_180068;
                bool index_certs_180070;
                
                if (!ok_or_empty_180069) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:383:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182580 = 0; nest_i_182580 < perThread_175681; nest_i_182580++) {
                    ((int8_t *) mem_181514)[i_180863 * perThread_175681 + nest_i_182580] = (int8_t) -1;
                }
                for (int64_t nest_i_182581 = 0; nest_i_182581 < perThread_175681; nest_i_182581++) {
                    ((int64_t *) mem_181517)[i_180863 * perThread_175681 + nest_i_182581] = (int64_t) -1;
                }
                for (int64_t nest_i_182582 = 0; nest_i_182582 < perThread_175681; nest_i_182582++) {
                    ((int16_t *) mem_181520)[i_180863 * perThread_175681 + nest_i_182582] = (int16_t) 0;
                }
                
                int64_t slice_179377 = p_175643 + index_concat_branch_179340;
                
                if (memblock_alloc(ctx, &mem_181548, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "mem_181548")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182583 = 0; nest_i_182583 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; nest_i_182583++) {
                    ((int8_t *) mem_181548.mem)[nest_i_182583] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181550, bytes_181549, "mem_181550")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182584 = 0; i_182584 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357; i_182584++) {
                    int64_t x_182585 = index_concat_branch_179340 + i_182584 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[i_182584] = x_182585;
                }
                
                int64_t slice_179396 = p_175644 + index_concat_branch_179343;
                
                for (int64_t nest_i_182586 = 0; nest_i_182586 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; nest_i_182586++) {
                    ((int8_t *) mem_181548.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + nest_i_182586] = (int8_t) 1;
                }
                for (int64_t i_182587 = 0; i_182587 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356; i_182587++) {
                    int64_t x_182588 = index_concat_branch_179343 + i_182587 * (int64_t) 1;
                    
                    ((int64_t *) mem_181550.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357 + i_182587] = x_182588;
                }
                
                int64_t tmp_offs_182589 = (int64_t) 0;
                
                if (!(tmp_offs_182589 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182589 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181548.mem, tmp_offs_182589, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181548.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182589 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t tmp_offs_182590 = (int64_t) 0;
                
                if (!(tmp_offs_182590 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                if (!(tmp_offs_182590 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181550.mem, tmp_offs_182590, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181550.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                }
                tmp_offs_182590 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                if (memblock_alloc(ctx, &mem_181552, bytes_181551, "mem_181552")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182591 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181133.mem, slice_179377, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181552.mem, tmp_offs_182591, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181134.mem, slice_179396, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356});
                tmp_offs_182591 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179356;
                
                int64_t flat_dim_179420 = smallest_pow_2_geq_than_res_179409 * block_sizze_179419;
                bool x_182290 = !cond_179403;
                int64_t greatest_divisor_leq_than_arg1_179424 = mul64((int64_t) 2, block_sizze_179419);
                int64_t merge_block_sizze_179425;
                
                if (x_182290) {
                    int64_t x_182292;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182292, (int64_t) 8, greatest_divisor_leq_than_arg1_179424) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179425 = x_182292;
                } else {
                    merge_block_sizze_179425 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179428 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, (int64_t) 0);
                int8_t index_concat_branch_179429 = btoi_bool_i8(index_concat_cmp_179428);
                int64_t index_concat_i_179431 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                int64_t index_primexp_179432 = add64(index_concat_branch_179343, index_concat_i_179431);
                int64_t index_concat_branch_179430;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179430 = index_primexp_179432;
                } else {
                    index_concat_branch_179430 = index_concat_branch_179340;
                }
                
                bool x_182286 = !index_concat_cmp_179428;
                bool protect_cond_conj_182296 = x_182286 && x_182290;
                int16_t index_concat_179438;
                
                if (protect_cond_conj_182296) {
                    int16_t x_182288 = ((int16_t *) a_list_mem_181133.mem)[slice_179377];
                    
                    index_concat_179438 = x_182288;
                } else {
                    index_concat_179438 = (int16_t) 0;
                }
                
                int64_t slice_179436 = p_175644 + index_primexp_179432;
                bool protect_cond_conj_182297 = index_concat_cmp_179428 && x_182290;
                int16_t index_concat_179437;
                
                if (protect_cond_conj_182297) {
                    int16_t x_182284 = ((int16_t *) b_list_mem_181134.mem)[slice_179436];
                    
                    index_concat_179437 = x_182284;
                } else {
                    index_concat_179437 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_179433;
                
                if (index_concat_cmp_179428) {
                    index_concat_branch_179433 = index_concat_179437;
                } else {
                    index_concat_branch_179433 = index_concat_179438;
                }
                
                int8_t defunc_0_reduce_res_179439;
                int64_t defunc_0_reduce_res_179440;
                int16_t defunc_0_reduce_res_179441;
                
                if (x_182290) {
                    int8_t x_182298;
                    int64_t x_182299;
                    int16_t x_182300;
                    int8_t redout_180800;
                    int64_t redout_180801;
                    int16_t redout_180802;
                    
                    redout_180800 = index_concat_branch_179429;
                    redout_180801 = index_concat_branch_179430;
                    redout_180802 = index_concat_branch_179433;
                    for (int64_t i_180803 = 0; i_180803 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358; i_180803++) {
                        bool index_concat_cmp_181061 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, i_180803);
                        int8_t index_concat_branch_181065 = btoi_bool_i8(index_concat_cmp_181061);
                        int64_t index_concat_branch_181059;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181056 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t index_primexp_181109 = add64(index_concat_branch_179343, index_concat_i_181056);
                            
                            index_concat_branch_181059 = index_primexp_181109;
                        } else {
                            int64_t index_primexp_181111 = add64(index_concat_branch_179340, i_180803);
                            
                            index_concat_branch_181059 = index_primexp_181111;
                        }
                        
                        int16_t index_concat_branch_181053;
                        
                        if (index_concat_cmp_181061) {
                            int64_t index_concat_i_181050 = sub64(i_180803, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                            int64_t slice_181106 = slice_179396 + index_concat_i_181050;
                            int16_t index_concat_181051 = ((int16_t *) b_list_mem_181134.mem)[slice_181106];
                            
                            index_concat_branch_181053 = index_concat_181051;
                        } else {
                            int64_t slice_181107 = slice_179377 + i_180803;
                            int16_t index_concat_181052 = ((int16_t *) a_list_mem_181133.mem)[slice_181107];
                            
                            index_concat_branch_181053 = index_concat_181052;
                        }
                        
                        bool eq_x_y_181123 = redout_180800 == (int8_t) 1;
                        bool eq_x_zz_181124 = redout_180800 == (int8_t) 0;
                        bool p_and_eq_x_y_181125 = index_concat_cmp_181061 && eq_x_y_181123;
                        bool not_p_181126 = !index_concat_cmp_181061;
                        bool p_and_eq_x_y_181127 = eq_x_zz_181124 && not_p_181126;
                        bool cond_179451 = p_and_eq_x_y_181125 || p_and_eq_x_y_181127;
                        bool defunc_0_leq_res_t_res_179452 = sle64(redout_180801, index_concat_branch_181059);
                        bool defunc_0_leq_res_179453 = sle16(redout_180802, index_concat_branch_181053);
                        bool x_179454 = cond_179451 && defunc_0_leq_res_t_res_179452;
                        bool x_179455 = !cond_179451;
                        bool y_179456 = defunc_0_leq_res_179453 && x_179455;
                        bool defunc_0_leq_res_179457 = x_179454 || y_179456;
                        int8_t defunc_0_op_res_179458;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179458 = index_concat_branch_181065;
                        } else {
                            defunc_0_op_res_179458 = redout_180800;
                        }
                        
                        int64_t defunc_0_op_res_179459;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179459 = index_concat_branch_181059;
                        } else {
                            defunc_0_op_res_179459 = redout_180801;
                        }
                        
                        int16_t defunc_0_op_res_179460;
                        
                        if (defunc_0_leq_res_179457) {
                            defunc_0_op_res_179460 = index_concat_branch_181053;
                        } else {
                            defunc_0_op_res_179460 = redout_180802;
                        }
                        
                        int8_t redout_tmp_182592 = defunc_0_op_res_179458;
                        int64_t redout_tmp_182593 = defunc_0_op_res_179459;
                        int16_t redout_tmp_182594 = defunc_0_op_res_179460;
                        
                        redout_180800 = redout_tmp_182592;
                        redout_180801 = redout_tmp_182593;
                        redout_180802 = redout_tmp_182594;
                    }
                    x_182298 = redout_180800;
                    x_182299 = redout_180801;
                    x_182300 = redout_180802;
                    defunc_0_reduce_res_179439 = x_182298;
                    defunc_0_reduce_res_179440 = x_182299;
                    defunc_0_reduce_res_179441 = x_182300;
                } else {
                    defunc_0_reduce_res_179439 = (int8_t) 0;
                    defunc_0_reduce_res_179440 = (int64_t) 0;
                    defunc_0_reduce_res_179441 = (int16_t) 0;
                }
                
                int64_t distance_179475 = add64((int64_t) 1, tmp_179473);
                int64_t binop_x_181555 = (int64_t) 8 * smallest_pow_2_geq_than_res_179409;
                int64_t bytes_181556 = block_sizze_179419 * binop_x_181555;
                int64_t binop_x_181558 = (int64_t) 2 * smallest_pow_2_geq_than_res_179409;
                int64_t bytes_181559 = block_sizze_179419 * binop_x_181558;
                int64_t bytes_181574 = (int64_t) 8 * block_sizze_179419;
                bool loop_cond_179601 = slt64(block_sizze_179419, flat_dim_179420);
                bool zzero_179602 = merge_block_sizze_179425 == (int64_t) 0;
                bool nonzzero_179603 = !zzero_179602;
                
                if (cond_179403) {
                    if (memblock_set(ctx, &ext_mem_181847, &mem_181548, "mem_181548") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &mem_181550, "mem_181550") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &mem_181552, "mem_181552") != 0)
                        return 1;
                } else {
                    if (mem_181554_cached_sizze_183113 < flat_dim_179420) {
                        err = lexical_realloc(ctx, &mem_181554, &mem_181554_cached_sizze_183113, flat_dim_179420);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181557_cached_sizze_183114 < bytes_181556) {
                        err = lexical_realloc(ctx, &mem_181557, &mem_181557_cached_sizze_183114, bytes_181556);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181560_cached_sizze_183115 < bytes_181559) {
                        err = lexical_realloc(ctx, &mem_181560, &mem_181560_cached_sizze_183115, bytes_181559);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181573_cached_sizze_183116 < block_sizze_179419) {
                        err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_183116, block_sizze_179419);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181575_cached_sizze_183117 < bytes_181574) {
                        err = lexical_realloc(ctx, &mem_181575, &mem_181575_cached_sizze_183117, bytes_181574);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181577_cached_sizze_183118 < greatest_divisor_leq_than_arg1_179424) {
                        err = lexical_realloc(ctx, &mem_181577, &mem_181577_cached_sizze_183118, greatest_divisor_leq_than_arg1_179424);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180820 = 0; i_180820 < smallest_pow_2_geq_than_res_179409; i_180820++) {
                        int64_t zp_lhs_179483 = mul64(block_sizze_179419, i_180820);
                        
                        for (int64_t i_180810 = 0; i_180810 < block_sizze_179419; i_180810++) {
                            int64_t k_179488 = add64(zp_lhs_179483, i_180810);
                            bool cond_179489 = slt64(k_179488, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358);
                            int8_t lifted_lambda_res_179490;
                            int64_t lifted_lambda_res_179491;
                            int16_t lifted_lambda_res_179492;
                            
                            if (cond_179489) {
                                bool x_179493 = sle64((int64_t) 0, k_179488);
                                bool bounds_check_179494 = cond_179489 && x_179493;
                                bool index_certs_179495;
                                
                                if (!bounds_check_179494) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179488, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179496 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357, k_179488);
                                int8_t index_concat_branch_179497 = btoi_bool_i8(index_concat_cmp_179496);
                                int64_t index_concat_branch_179498;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179499 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t index_primexp_179500 = add64(index_concat_branch_179343, index_concat_i_179499);
                                    
                                    index_concat_branch_179498 = index_primexp_179500;
                                } else {
                                    int64_t index_primexp_179501 = add64(index_concat_branch_179340, k_179488);
                                    
                                    index_concat_branch_179498 = index_primexp_179501;
                                }
                                
                                int16_t index_concat_branch_179502;
                                
                                if (index_concat_cmp_179496) {
                                    int64_t index_concat_i_179503 = sub64(k_179488, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179357);
                                    int64_t slice_179504 = index_concat_branch_179343 + index_concat_i_179503;
                                    int64_t slice_179505 = p_175644 + slice_179504;
                                    int16_t index_concat_179506 = ((int16_t *) b_list_mem_181134.mem)[slice_179505];
                                    
                                    index_concat_branch_179502 = index_concat_179506;
                                } else {
                                    int64_t slice_179507 = index_concat_branch_179340 + k_179488;
                                    int64_t slice_179508 = p_175643 + slice_179507;
                                    int16_t index_concat_179509 = ((int16_t *) a_list_mem_181133.mem)[slice_179508];
                                    
                                    index_concat_branch_179502 = index_concat_179509;
                                }
                                lifted_lambda_res_179490 = index_concat_branch_179497;
                                lifted_lambda_res_179491 = index_concat_branch_179498;
                                lifted_lambda_res_179492 = index_concat_branch_179502;
                            } else {
                                lifted_lambda_res_179490 = defunc_0_reduce_res_179439;
                                lifted_lambda_res_179491 = defunc_0_reduce_res_179440;
                                lifted_lambda_res_179492 = defunc_0_reduce_res_179441;
                            }
                            ((int8_t *) mem_181573)[i_180810] = lifted_lambda_res_179490;
                            ((int64_t *) mem_181575)[i_180810] = lifted_lambda_res_179491;
                            ((int16_t *) mem_181577)[i_180810] = lifted_lambda_res_179492;
                        }
                        if (!cond_179472) {
                            for (int64_t i_179519 = 0; i_179519 < distance_179475; i_179519++) {
                                int64_t gt_arg1_179523 = add64((int64_t) 1, i_179519);
                                bool x_179524 = sle64((int64_t) 0, gt_arg1_179523);
                                bool y_179525 = slt64(gt_arg1_179523, block_sizze_179419);
                                bool bounds_check_179526 = x_179524 && y_179525;
                                bool index_certs_179527;
                                
                                if (!bounds_check_179526) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179523, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179531 = slt64(i_179519, block_sizze_179419);
                                bool index_certs_179532;
                                
                                if (!y_179531) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179519, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179528 = ((int8_t *) mem_181573)[gt_arg1_179523];
                                int64_t gt_arg1_179529 = ((int64_t *) mem_181575)[gt_arg1_179523];
                                int16_t gt_arg1_179530 = ((int16_t *) mem_181577)[gt_arg1_179523];
                                int8_t gt_arg0_179533 = ((int8_t *) mem_181573)[i_179519];
                                int64_t gt_arg0_179534 = ((int64_t *) mem_181575)[i_179519];
                                int16_t gt_arg0_179535 = ((int16_t *) mem_181577)[i_179519];
                                bool cond_179536 = gt_arg0_179533 == gt_arg1_179528;
                                bool defunc_0_leq_res_t_res_179537 = sle64(gt_arg0_179534, gt_arg1_179529);
                                bool defunc_0_leq_res_179538 = sle16(gt_arg0_179535, gt_arg1_179530);
                                bool x_179539 = cond_179536 && defunc_0_leq_res_t_res_179537;
                                bool x_179540 = !cond_179536;
                                bool y_179541 = defunc_0_leq_res_179538 && x_179540;
                                bool defunc_0_leq_res_179542 = x_179539 || y_179541;
                                bool defunc_0_lifted_gt_res_179543 = !defunc_0_leq_res_179542;
                                bool s_179544;
                                int64_t s_179548;
                                bool loop_while_179549;
                                int64_t j_179553;
                                
                                loop_while_179549 = defunc_0_lifted_gt_res_179543;
                                j_179553 = i_179519;
                                while (loop_while_179549) {
                                    bool x_179554 = sle64((int64_t) 0, j_179553);
                                    bool y_179555 = slt64(j_179553, block_sizze_179419);
                                    bool bounds_check_179556 = x_179554 && y_179555;
                                    bool index_certs_179557;
                                    
                                    if (!bounds_check_179556) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179553, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179561 = add64((int64_t) 1, j_179553);
                                    bool x_179562 = sle64((int64_t) 0, copy_arg0_179561);
                                    bool y_179563 = slt64(copy_arg0_179561, block_sizze_179419);
                                    bool bounds_check_179564 = x_179562 && y_179563;
                                    bool index_certs_179565;
                                    
                                    if (!bounds_check_179564) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179561, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179558 = ((int8_t *) mem_181573)[j_179553];
                                    int64_t copy_arg0_179559 = ((int64_t *) mem_181575)[j_179553];
                                    int16_t copy_arg0_179560 = ((int16_t *) mem_181577)[j_179553];
                                    int8_t copy_arg0_179566 = ((int8_t *) mem_181573)[copy_arg0_179561];
                                    int64_t copy_arg0_179567 = ((int64_t *) mem_181575)[copy_arg0_179561];
                                    int16_t copy_arg0_179568 = ((int16_t *) mem_181577)[copy_arg0_179561];
                                    
                                    ((int8_t *) mem_181573)[j_179553] = copy_arg0_179566;
                                    ((int64_t *) mem_181575)[j_179553] = copy_arg0_179567;
                                    ((int16_t *) mem_181577)[j_179553] = copy_arg0_179568;
                                    ((int8_t *) mem_181573)[copy_arg0_179561] = copy_arg0_179558;
                                    ((int64_t *) mem_181575)[copy_arg0_179561] = copy_arg0_179559;
                                    ((int16_t *) mem_181577)[copy_arg0_179561] = copy_arg0_179560;
                                    
                                    int64_t tmp_179575 = sub64(j_179553, (int64_t) 1);
                                    bool cond_179576 = sle64((int64_t) 0, tmp_179575);
                                    bool loop_cond_179577;
                                    
                                    if (cond_179576) {
                                        bool y_179581 = slt64(tmp_179575, block_sizze_179419);
                                        bool bounds_check_179582 = cond_179576 && y_179581;
                                        bool index_certs_179583;
                                        
                                        if (!bounds_check_179582) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179575, "] out of bounds for array of shape [", (long long) block_sizze_179419, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179578 = ((int8_t *) mem_181573)[j_179553];
                                        int64_t gt_arg1_179579 = ((int64_t *) mem_181575)[j_179553];
                                        int16_t gt_arg1_179580 = ((int16_t *) mem_181577)[j_179553];
                                        int8_t gt_arg0_179584 = ((int8_t *) mem_181573)[tmp_179575];
                                        int64_t gt_arg0_179585 = ((int64_t *) mem_181575)[tmp_179575];
                                        int16_t gt_arg0_179586 = ((int16_t *) mem_181577)[tmp_179575];
                                        bool cond_179587 = gt_arg0_179584 == gt_arg1_179578;
                                        bool defunc_0_leq_res_t_res_179588 = sle64(gt_arg0_179585, gt_arg1_179579);
                                        bool defunc_0_leq_res_179589 = sle16(gt_arg0_179586, gt_arg1_179580);
                                        bool x_179590 = cond_179587 && defunc_0_leq_res_t_res_179588;
                                        bool x_179591 = !cond_179587;
                                        bool y_179592 = defunc_0_leq_res_179589 && x_179591;
                                        bool defunc_0_leq_res_179593 = x_179590 || y_179592;
                                        bool defunc_0_lifted_gt_res_179594 = !defunc_0_leq_res_179593;
                                        
                                        loop_cond_179577 = defunc_0_lifted_gt_res_179594;
                                    } else {
                                        loop_cond_179577 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182604 = loop_cond_179577;
                                    int64_t j_tmp_182608 = tmp_179575;
                                    
                                    loop_while_179549 = loop_while_tmp_182604;
                                    j_179553 = j_tmp_182608;
                                }
                                s_179544 = loop_while_179549;
                                s_179548 = j_179553;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181554, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181557, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181575, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181560, i_180820 * block_sizze_179419, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181577, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179419});
                    }
                    if (memblock_alloc(ctx, &mem_181654, flat_dim_179420, "mem_181654")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181654.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint8_t *) mem_181554, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181658, bytes_181556, "mem_181658")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181658.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint64_t *) mem_181557, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    if (memblock_alloc(ctx, &mem_181662, bytes_181559, "mem_181662")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181662.mem, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (uint16_t *) mem_181560, (int64_t) 0, (int64_t []) {block_sizze_179419, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179409, block_sizze_179419});
                    
                    int64_t data_179604;
                    bool data_179605;
                    int64_t data_179609;
                    int64_t loop_dz2084Uz2082U_179610;
                    bool loop_while_179611;
                    int64_t stride_179615;
                    
                    if (memblock_set(ctx, &mem_param_181666, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181669, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181672, &mem_181662, "mem_181662") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179610 = flat_dim_179420;
                    loop_while_179611 = loop_cond_179601;
                    stride_179615 = block_sizze_179419;
                    while (loop_while_179611) {
                        int64_t next_stride_179616 = mul64((int64_t) 2, stride_179615);
                        bool zzero_179617 = next_stride_179616 == (int64_t) 0;
                        bool nonzzero_179618 = !zzero_179617;
                        bool nonzzero_cert_179619;
                        
                        if (!nonzzero_179618) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179620 = sdiv64(flat_dim_179420, next_stride_179616);
                        bool bounds_invalid_upwards_179621 = slt64(num_merges_179620, (int64_t) 0);
                        bool valid_179622 = !bounds_invalid_upwards_179621;
                        bool range_valid_c_179623;
                        
                        if (!valid_179622) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179620, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:466:63-73\n   #6  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179625 = sub64(next_stride_179616, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179626 = sle64((int64_t) 0, m_179625);
                        bool cond_179628 = slt64(next_stride_179616, (int64_t) 10);
                        bool protect_assert_disj_179629 = nonzzero_179603 || cond_179628;
                        bool nonzzero_cert_179630;
                        
                        if (!protect_assert_disj_179629) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179631 = smod_safe64(next_stride_179616, merge_block_sizze_179425);
                        bool num_blocks_179632 = zeze_lhs_179631 == (int64_t) 0;
                        bool protect_assert_disj_179633 = cond_179628 || num_blocks_179632;
                        bool assert_c_179634;
                        
                        if (!protect_assert_disj_179633) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179635 = sdiv_safe64(next_stride_179616, merge_block_sizze_179425);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636 = add64((int64_t) 1, num_blocks_179635);
                        int64_t j_m_i_179637 = sub64(next_stride_179616, stride_179615);
                        int64_t flat_dim_179638 = merge_block_sizze_179425 * num_blocks_179635;
                        bool bounds_invalid_upwards_179639 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, (int64_t) 0);
                        bool empty_slice_179640 = j_m_i_179637 == (int64_t) 0;
                        int64_t m_179641 = sub64(j_m_i_179637, (int64_t) 1);
                        bool zzero_lte_i_179642 = sle64((int64_t) 0, stride_179615);
                        bool i_lte_j_179643 = sle64(stride_179615, next_stride_179616);
                        bool empty_slice_179644 = stride_179615 == (int64_t) 0;
                        int64_t m_179645 = sub64(stride_179615, (int64_t) 1);
                        bool bounds_invalid_upwards_179646 = slt64(num_blocks_179635, (int64_t) 0);
                        bool cond_179647 = slt64((int64_t) 0, stride_179615);
                        bool valid_179648 = !bounds_invalid_upwards_179639;
                        int64_t i_p_m_t_s_179649 = add64(stride_179615, m_179641);
                        bool zzero_leq_i_p_m_t_s_179650 = sle64((int64_t) 0, m_179645);
                        bool i_p_m_t_s_leq_w_179651 = slt64(m_179645, next_stride_179616);
                        bool valid_179652 = !bounds_invalid_upwards_179646;
                        bool i_p_m_t_s_leq_w_179653 = slt64(m_179625, flat_dim_179638);
                        bool y_179654 = slt64((int64_t) 0, j_m_i_179637);
                        bool protect_assert_disj_179655 = cond_179628 || valid_179648;
                        bool range_valid_c_179656;
                        
                        if (!protect_assert_disj_179655) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179657 = sle64((int64_t) 0, i_p_m_t_s_179649);
                        bool i_p_m_t_s_leq_w_179658 = slt64(i_p_m_t_s_179649, next_stride_179616);
                        bool y_179659 = zzero_leq_i_p_m_t_s_179650 && i_p_m_t_s_leq_w_179651;
                        bool protect_assert_disj_179660 = cond_179628 || valid_179652;
                        bool range_valid_c_179661;
                        
                        if (!protect_assert_disj_179660) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179635, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179662 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179653;
                        bool y_179663 = zzero_lte_i_179642 && i_p_m_t_s_leq_w_179658;
                        bool forwards_ok_179664 = zzero_lte_i_179642 && y_179659;
                        bool ok_or_empty_179665 = zzero_179617 || y_179662;
                        bool protect_assert_disj_179666 = cond_179647 || y_179654;
                        bool y_179667 = zzero_leq_i_p_m_t_s_179657 && y_179663;
                        bool ok_or_empty_179668 = empty_slice_179644 || forwards_ok_179664;
                        bool protect_assert_disj_179669 = cond_179628 || ok_or_empty_179665;
                        bool index_certs_179670;
                        
                        if (!protect_assert_disj_179669) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) flat_dim_179638, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179671 = !cond_179628;
                        bool protect_assert_disj_179672 = protect_assert_disj_179666 || loop_not_taken_179671;
                        bool index_certs_179673;
                        
                        if (!protect_assert_disj_179672) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179674 = i_lte_j_179643 && y_179667;
                        bool protect_assert_disj_179675 = cond_179628 || ok_or_empty_179668;
                        bool index_certs_179676;
                        
                        if (!protect_assert_disj_179675) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179677 = ok_or_empty_179668 || loop_not_taken_179671;
                        bool index_certs_179678;
                        
                        if (!protect_assert_disj_179677) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179615, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179679 = empty_slice_179640 || forwards_ok_179674;
                        bool protect_assert_disj_179680 = cond_179628 || ok_or_empty_179679;
                        bool index_certs_179681;
                        
                        if (!protect_assert_disj_179680) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179682 = loop_not_taken_179671 || ok_or_empty_179679;
                        bool index_certs_179683;
                        
                        if (!protect_assert_disj_179682) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179615, ":] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181673 = next_stride_179616 * num_merges_179620;
                        int64_t binop_x_181675 = (int64_t) 8 * num_merges_179620;
                        int64_t bytes_181676 = next_stride_179616 * binop_x_181675;
                        int64_t binop_x_181678 = (int64_t) 2 * num_merges_179620;
                        int64_t bytes_181679 = next_stride_179616 * binop_x_181678;
                        bool i_lte_j_179627 = sle64((int64_t) 0, next_stride_179616);
                        
                        if (mem_181674_cached_sizze_183119 < bytes_181673) {
                            err = lexical_realloc(ctx, &mem_181674, &mem_181674_cached_sizze_183119, bytes_181673);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181677_cached_sizze_183120 < bytes_181676) {
                            err = lexical_realloc(ctx, &mem_181677, &mem_181677_cached_sizze_183120, bytes_181676);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181680_cached_sizze_183121 < bytes_181679) {
                            err = lexical_realloc(ctx, &mem_181680, &mem_181680_cached_sizze_183121, bytes_181679);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181693 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636;
                        int64_t binop_x_181711 = (int64_t) 8 * num_blocks_179635;
                        int64_t bytes_181712 = merge_block_sizze_179425 * binop_x_181711;
                        int64_t binop_x_181714 = (int64_t) 2 * num_blocks_179635;
                        int64_t bytes_181715 = merge_block_sizze_179425 * binop_x_181714;
                        int64_t bytes_181776 = (int64_t) 16 * stride_179615;
                        int64_t bytes_181778 = (int64_t) 4 * stride_179615;
                        
                        for (int64_t i_180847 = 0; i_180847 < num_merges_179620; i_180847++) {
                            int64_t start_179688 = mul64(next_stride_179616, i_180847);
                            int64_t j_m_i_179689 = sub64(loop_dz2084Uz2082U_179610, start_179688);
                            bool empty_slice_179690 = j_m_i_179689 == (int64_t) 0;
                            int64_t m_179691 = sub64(j_m_i_179689, (int64_t) 1);
                            int64_t i_p_m_t_s_179692 = add64(start_179688, m_179691);
                            bool zzero_leq_i_p_m_t_s_179693 = sle64((int64_t) 0, i_p_m_t_s_179692);
                            bool i_p_m_t_s_leq_w_179694 = slt64(i_p_m_t_s_179692, loop_dz2084Uz2082U_179610);
                            bool zzero_lte_i_179695 = sle64((int64_t) 0, start_179688);
                            bool i_lte_j_179696 = sle64(start_179688, loop_dz2084Uz2082U_179610);
                            bool y_179697 = i_p_m_t_s_leq_w_179694 && zzero_lte_i_179695;
                            bool y_179698 = zzero_leq_i_p_m_t_s_179693 && y_179697;
                            bool forwards_ok_179699 = i_lte_j_179696 && y_179698;
                            bool ok_or_empty_179700 = empty_slice_179690 || forwards_ok_179699;
                            bool index_certs_179701;
                            
                            if (!ok_or_empty_179700) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179688, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179610, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179702 = slt64(m_179625, j_m_i_179689);
                            bool y_179703 = zzero_leq_i_p_m_t_s_179626 && i_p_m_t_s_leq_w_179702;
                            bool forwards_ok_179704 = i_lte_j_179627 && y_179703;
                            bool ok_or_empty_179705 = zzero_179617 || forwards_ok_179704;
                            bool index_certs_179706;
                            
                            if (!ok_or_empty_179705) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179616, "] out of bounds for array of shape [", (long long) j_m_i_179689, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179628) {
                                int8_t dummy_179710;
                                int64_t dummy_179711;
                                int16_t dummy_179712;
                                
                                if (cond_179647) {
                                    int8_t head_res_179713 = ((int8_t *) mem_param_181666.mem)[start_179688];
                                    int64_t head_res_179714 = ((int64_t *) mem_param_181669.mem)[start_179688];
                                    int16_t head_res_179715 = ((int16_t *) mem_param_181672.mem)[start_179688];
                                    
                                    dummy_179710 = head_res_179713;
                                    dummy_179711 = head_res_179714;
                                    dummy_179712 = head_res_179715;
                                } else {
                                    int64_t slice_179716 = stride_179615 + start_179688;
                                    int8_t head_res_179717 = ((int8_t *) mem_param_181666.mem)[slice_179716];
                                    int64_t head_res_179718 = ((int64_t *) mem_param_181669.mem)[slice_179716];
                                    int16_t head_res_179719 = ((int16_t *) mem_param_181672.mem)[slice_179716];
                                    
                                    dummy_179710 = head_res_179717;
                                    dummy_179711 = head_res_179718;
                                    dummy_179712 = head_res_179719;
                                }
                                if (memblock_alloc(ctx, &mem_181775, next_stride_179616, "mem_181775")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182621 = 0; nest_i_182621 < next_stride_179616; nest_i_182621++) {
                                    ((int8_t *) mem_181775.mem)[nest_i_182621] = dummy_179710;
                                }
                                if (memblock_alloc(ctx, &mem_181777, bytes_181776, "mem_181777")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182622 = 0; nest_i_182622 < next_stride_179616; nest_i_182622++) {
                                    ((int64_t *) mem_181777.mem)[nest_i_182622] = dummy_179711;
                                }
                                if (memblock_alloc(ctx, &mem_181779, bytes_181778, "mem_181779")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182623 = 0; nest_i_182623 < next_stride_179616; nest_i_182623++) {
                                    ((int16_t *) mem_181779.mem)[nest_i_182623] = dummy_179712;
                                }
                                
                                int64_t data_179723;
                                int64_t i_179728 = (int64_t) 0;
                                
                                for (int64_t k_179727 = 0; k_179727 < next_stride_179616; k_179727++) {
                                    int64_t j_179732 = sub64(k_179727, i_179728);
                                    bool cond_179733 = j_179732 == j_m_i_179637;
                                    bool cond_179734;
                                    
                                    if (cond_179733) {
                                        cond_179734 = 1;
                                    } else {
                                        bool cond_179735 = slt64(i_179728, stride_179615);
                                        bool cond_f_res_179736;
                                        
                                        if (cond_179735) {
                                            bool x_179737 = sle64((int64_t) 0, j_179732);
                                            bool y_179738 = slt64(j_179732, j_m_i_179637);
                                            bool bounds_check_179739 = x_179737 && y_179738;
                                            bool index_certs_179740;
                                            
                                            if (!bounds_check_179739) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179746 = sle64((int64_t) 0, i_179728);
                                            bool bounds_check_179747 = cond_179735 && x_179746;
                                            bool index_certs_179748;
                                            
                                            if (!bounds_check_179747) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179741 = stride_179615 + j_179732;
                                            int64_t slice_179742 = start_179688 + slice_179741;
                                            int8_t leq_arg1_179743 = ((int8_t *) mem_param_181666.mem)[slice_179742];
                                            int64_t leq_arg1_179744 = ((int64_t *) mem_param_181669.mem)[slice_179742];
                                            int16_t leq_arg1_179745 = ((int16_t *) mem_param_181672.mem)[slice_179742];
                                            int64_t slice_179749 = start_179688 + i_179728;
                                            int8_t leq_arg0_179750 = ((int8_t *) mem_param_181666.mem)[slice_179749];
                                            int64_t leq_arg0_179751 = ((int64_t *) mem_param_181669.mem)[slice_179749];
                                            int16_t leq_arg0_179752 = ((int16_t *) mem_param_181672.mem)[slice_179749];
                                            bool cond_179753 = leq_arg0_179750 == leq_arg1_179743;
                                            bool defunc_0_leq_res_t_res_179754 = sle64(leq_arg0_179751, leq_arg1_179744);
                                            bool defunc_0_leq_res_179755 = sle16(leq_arg0_179752, leq_arg1_179745);
                                            bool x_179756 = cond_179753 && defunc_0_leq_res_t_res_179754;
                                            bool x_179757 = !cond_179753;
                                            bool y_179758 = defunc_0_leq_res_179755 && x_179757;
                                            bool defunc_0_leq_res_179759 = x_179756 || y_179758;
                                            
                                            cond_f_res_179736 = defunc_0_leq_res_179759;
                                        } else {
                                            cond_f_res_179736 = 0;
                                        }
                                        cond_179734 = cond_f_res_179736;
                                    }
                                    
                                    int64_t loopres_179760;
                                    int8_t loopres_179761;
                                    int64_t loopres_179762;
                                    int16_t loopres_179763;
                                    
                                    if (cond_179734) {
                                        bool x_179765 = sle64((int64_t) 0, i_179728);
                                        bool y_179766 = slt64(i_179728, stride_179615);
                                        bool bounds_check_179767 = x_179765 && y_179766;
                                        bool index_certs_179768;
                                        
                                        if (!bounds_check_179767) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179728, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179764 = add64((int64_t) 1, i_179728);
                                        int64_t slice_179769 = start_179688 + i_179728;
                                        int8_t tmp_179770 = ((int8_t *) mem_param_181666.mem)[slice_179769];
                                        int64_t tmp_179771 = ((int64_t *) mem_param_181669.mem)[slice_179769];
                                        int16_t tmp_179772 = ((int16_t *) mem_param_181672.mem)[slice_179769];
                                        
                                        loopres_179760 = tmp_179764;
                                        loopres_179761 = tmp_179770;
                                        loopres_179762 = tmp_179771;
                                        loopres_179763 = tmp_179772;
                                    } else {
                                        bool x_179773 = sle64((int64_t) 0, j_179732);
                                        bool y_179774 = slt64(j_179732, j_m_i_179637);
                                        bool bounds_check_179775 = x_179773 && y_179774;
                                        bool index_certs_179776;
                                        
                                        if (!bounds_check_179775) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179732, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179777 = stride_179615 + j_179732;
                                        int64_t slice_179778 = start_179688 + slice_179777;
                                        int8_t tmp_179779 = ((int8_t *) mem_param_181666.mem)[slice_179778];
                                        int64_t tmp_179780 = ((int64_t *) mem_param_181669.mem)[slice_179778];
                                        int16_t tmp_179781 = ((int16_t *) mem_param_181672.mem)[slice_179778];
                                        
                                        loopres_179760 = i_179728;
                                        loopres_179761 = tmp_179779;
                                        loopres_179762 = tmp_179780;
                                        loopres_179763 = tmp_179781;
                                    }
                                    ((int8_t *) mem_181775.mem)[k_179727] = loopres_179761;
                                    ((int64_t *) mem_181777.mem)[k_179727] = loopres_179762;
                                    ((int16_t *) mem_181779.mem)[k_179727] = loopres_179763;
                                    
                                    int64_t i_tmp_182624 = loopres_179760;
                                    
                                    i_179728 = i_tmp_182624;
                                }
                                data_179723 = i_179728;
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181775, "mem_181775") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181777, "mem_181777") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181779, "mem_181779") != 0)
                                    return 1;
                            } else {
                                if (mem_181694_cached_sizze_183122 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181694, &mem_181694_cached_sizze_183122, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181696_cached_sizze_183123 < bytes_181693) {
                                    err = lexical_realloc(ctx, &mem_181696, &mem_181696_cached_sizze_183123, bytes_181693);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180828 = 0; i_180828 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636; i_180828++) {
                                    int64_t split_count_arg3_179789 = mul64(merge_block_sizze_179425, i_180828);
                                    int64_t defunc_0_split_count_res_179790;
                                    int64_t defunc_0_split_count_res_179791;
                                    int64_t defunc_0_split_count_res_179792;
                                    int64_t defunc_0_split_count_res_179793;
                                    int64_t defunc_0_split_count_res_179794;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_179790, &defunc_0_split_count_res_179791, &defunc_0_split_count_res_179792, &defunc_0_split_count_res_179793, &defunc_0_split_count_res_179794, (int64_t) 0, stride_179615, (int64_t) 0, j_m_i_179637, split_count_arg3_179789) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179795 = slt64((int64_t) 0, defunc_0_split_count_res_179794);
                                    bool defunc_0_split_count_res_179796;
                                    int64_t defunc_0_split_count_res_179797;
                                    int64_t defunc_0_split_count_res_179798;
                                    int64_t defunc_0_split_count_res_179799;
                                    int64_t defunc_0_split_count_res_179800;
                                    int64_t defunc_0_split_count_res_179801;
                                    bool loop_while_179802;
                                    int64_t ss_179803;
                                    int64_t ss_179804;
                                    int64_t tt_179805;
                                    int64_t tt_179806;
                                    int64_t count_179807;
                                    
                                    loop_while_179802 = loop_cond_179795;
                                    ss_179803 = defunc_0_split_count_res_179790;
                                    ss_179804 = defunc_0_split_count_res_179791;
                                    tt_179805 = defunc_0_split_count_res_179792;
                                    tt_179806 = defunc_0_split_count_res_179793;
                                    count_179807 = defunc_0_split_count_res_179794;
                                    while (loop_while_179802) {
                                        int64_t zlze_lhs_179808 = sub64(ss_179804, ss_179803);
                                        bool cond_179809 = sle64(zlze_lhs_179808, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179810;
                                        int64_t defunc_0_lifted_step_res_179811;
                                        int64_t defunc_0_lifted_step_res_179812;
                                        int64_t defunc_0_lifted_step_res_179813;
                                        
                                        if (cond_179809) {
                                            int64_t tmp_179814 = add64(tt_179805, count_179807);
                                            
                                            defunc_0_lifted_step_res_179810 = ss_179803;
                                            defunc_0_lifted_step_res_179811 = tmp_179814;
                                            defunc_0_lifted_step_res_179812 = tt_179806;
                                            defunc_0_lifted_step_res_179813 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179815 = sub64(tt_179806, tt_179805);
                                            bool cond_179816 = sle64(zlze_lhs_179815, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179817;
                                            int64_t defunc_0_lifted_step_res_f_res_179818;
                                            int64_t defunc_0_lifted_step_res_f_res_179819;
                                            int64_t defunc_0_lifted_step_res_f_res_179820;
                                            
                                            if (cond_179816) {
                                                int64_t tmp_179821 = add64(ss_179803, count_179807);
                                                
                                                defunc_0_lifted_step_res_f_res_179817 = tmp_179821;
                                                defunc_0_lifted_step_res_f_res_179818 = tt_179805;
                                                defunc_0_lifted_step_res_f_res_179819 = tt_179806;
                                                defunc_0_lifted_step_res_f_res_179820 = (int64_t) 0;
                                            } else {
                                                bool cond_179822 = count_179807 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179823;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179824;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179825;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179826;
                                                
                                                if (cond_179822) {
                                                    bool x_179827 = sle64((int64_t) 0, ss_179803);
                                                    bool y_179828 = slt64(ss_179803, stride_179615);
                                                    bool bounds_check_179829 = x_179827 && y_179828;
                                                    bool index_certs_179830;
                                                    
                                                    if (!bounds_check_179829) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179803, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:466:63-73\n   #13 ftsort.fut:459:1-466:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179835 = sle64((int64_t) 0, tt_179805);
                                                    bool y_179836 = slt64(tt_179805, j_m_i_179637);
                                                    bool bounds_check_179837 = x_179835 && y_179836;
                                                    bool index_certs_179838;
                                                    
                                                    if (!bounds_check_179837) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179805, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:466:63-73\n   #13 ftsort.fut:459:1-466:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179831 = start_179688 + ss_179803;
                                                    int8_t leq_arg1_179832 = ((int8_t *) mem_param_181666.mem)[slice_179831];
                                                    int64_t leq_arg1_179833 = ((int64_t *) mem_param_181669.mem)[slice_179831];
                                                    int16_t leq_arg1_179834 = ((int16_t *) mem_param_181672.mem)[slice_179831];
                                                    int64_t slice_179839 = stride_179615 + tt_179805;
                                                    int64_t slice_179840 = start_179688 + slice_179839;
                                                    int8_t leq_arg0_179841 = ((int8_t *) mem_param_181666.mem)[slice_179840];
                                                    int64_t leq_arg0_179842 = ((int64_t *) mem_param_181669.mem)[slice_179840];
                                                    int16_t leq_arg0_179843 = ((int16_t *) mem_param_181672.mem)[slice_179840];
                                                    bool cond_179844 = leq_arg0_179841 == leq_arg1_179832;
                                                    bool defunc_0_leq_res_t_res_179845 = sle64(leq_arg0_179842, leq_arg1_179833);
                                                    bool defunc_0_leq_res_179846 = sle16(leq_arg0_179843, leq_arg1_179834);
                                                    bool x_179847 = cond_179844 && defunc_0_leq_res_t_res_179845;
                                                    bool x_179848 = !cond_179844;
                                                    bool y_179849 = defunc_0_leq_res_179846 && x_179848;
                                                    bool defunc_0_leq_res_179850 = x_179847 || y_179849;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    
                                                    if (defunc_0_leq_res_179850) {
                                                        int64_t tmp_179853 = add64((int64_t) 1, tt_179805);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = ss_179803;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tmp_179853;
                                                    } else {
                                                        int64_t tmp_179854 = add64((int64_t) 1, ss_179803);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179851 = tmp_179854;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179852 = tt_179805;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = defunc_0_lifted_step_res_f_res_f_res_t_res_179851;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_t_res_179852;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = tt_179806;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179855 = sdiv64(count_179807, (int64_t) 2);
                                                    int64_t n_179856 = sub64(count_179807, m_179855);
                                                    bool cond_179857 = n_179856 == (int64_t) 0;
                                                    int64_t zgze_lhs_179858 = add64(ss_179803, m_179855);
                                                    bool cond_f_res_179859 = sle64(ss_179804, zgze_lhs_179858);
                                                    bool x_179860 = !cond_179857;
                                                    bool y_179861 = cond_f_res_179859 && x_179860;
                                                    bool cond_179862 = cond_179857 || y_179861;
                                                    bool leq_y_x_179863;
                                                    
                                                    if (cond_179862) {
                                                        leq_y_x_179863 = 1;
                                                    } else {
                                                        bool x_179864 = sle64((int64_t) 0, zgze_lhs_179858);
                                                        bool y_179865 = slt64(zgze_lhs_179858, stride_179615);
                                                        bool bounds_check_179866 = x_179864 && y_179865;
                                                        bool index_certs_179867;
                                                        
                                                        if (!bounds_check_179866) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179858, "] out of bounds for array of shape [", (long long) stride_179615, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:466:63-73\n   #13 ftsort.fut:459:1-466:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179872 = add64(tt_179805, n_179856);
                                                        int64_t leq_arg0_179873 = sub64(zm_lhs_179872, (int64_t) 1);
                                                        bool x_179874 = sle64((int64_t) 0, leq_arg0_179873);
                                                        bool y_179875 = slt64(leq_arg0_179873, j_m_i_179637);
                                                        bool bounds_check_179876 = x_179874 && y_179875;
                                                        bool index_certs_179877;
                                                        
                                                        if (!bounds_check_179876) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179873, "] out of bounds for array of shape [", (long long) j_m_i_179637, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:466:63-73\n   #13 ftsort.fut:459:1-466:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179868 = start_179688 + zgze_lhs_179858;
                                                        int8_t leq_arg1_179869 = ((int8_t *) mem_param_181666.mem)[slice_179868];
                                                        int64_t leq_arg1_179870 = ((int64_t *) mem_param_181669.mem)[slice_179868];
                                                        int16_t leq_arg1_179871 = ((int16_t *) mem_param_181672.mem)[slice_179868];
                                                        int64_t slice_179878 = stride_179615 + leq_arg0_179873;
                                                        int64_t slice_179879 = start_179688 + slice_179878;
                                                        int8_t leq_arg0_179880 = ((int8_t *) mem_param_181666.mem)[slice_179879];
                                                        int64_t leq_arg0_179881 = ((int64_t *) mem_param_181669.mem)[slice_179879];
                                                        int16_t leq_arg0_179882 = ((int16_t *) mem_param_181672.mem)[slice_179879];
                                                        bool cond_179883 = leq_arg0_179880 == leq_arg1_179869;
                                                        bool defunc_0_leq_res_t_res_179884 = sle64(leq_arg0_179881, leq_arg1_179870);
                                                        bool defunc_0_leq_res_179885 = sle16(leq_arg0_179882, leq_arg1_179871);
                                                        bool x_179886 = cond_179883 && defunc_0_leq_res_t_res_179884;
                                                        bool x_179887 = !cond_179883;
                                                        bool y_179888 = defunc_0_leq_res_179885 && x_179887;
                                                        bool defunc_0_leq_res_179889 = x_179886 || y_179888;
                                                        
                                                        leq_y_x_179863 = defunc_0_leq_res_179889;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                    
                                                    if (leq_y_x_179863) {
                                                        int64_t tmp_179893 = add64(tt_179805, n_179856);
                                                        int64_t tmp_179894 = sub64(count_179807, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tmp_179893;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tt_179806;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = tmp_179894;
                                                    } else {
                                                        int64_t tmp_179895 = add64(tt_179805, n_179856);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179890 = tt_179805;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179891 = tmp_179895;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179892 = count_179807;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179823 = ss_179803;
                                                    defunc_0_lifted_step_res_f_res_f_res_179824 = defunc_0_lifted_step_res_f_res_f_res_f_res_179890;
                                                    defunc_0_lifted_step_res_f_res_f_res_179825 = defunc_0_lifted_step_res_f_res_f_res_f_res_179891;
                                                    defunc_0_lifted_step_res_f_res_f_res_179826 = defunc_0_lifted_step_res_f_res_f_res_f_res_179892;
                                                }
                                                defunc_0_lifted_step_res_f_res_179817 = defunc_0_lifted_step_res_f_res_f_res_179823;
                                                defunc_0_lifted_step_res_f_res_179818 = defunc_0_lifted_step_res_f_res_f_res_179824;
                                                defunc_0_lifted_step_res_f_res_179819 = defunc_0_lifted_step_res_f_res_f_res_179825;
                                                defunc_0_lifted_step_res_f_res_179820 = defunc_0_lifted_step_res_f_res_f_res_179826;
                                            }
                                            defunc_0_lifted_step_res_179810 = defunc_0_lifted_step_res_f_res_179817;
                                            defunc_0_lifted_step_res_179811 = defunc_0_lifted_step_res_f_res_179818;
                                            defunc_0_lifted_step_res_179812 = defunc_0_lifted_step_res_f_res_179819;
                                            defunc_0_lifted_step_res_179813 = defunc_0_lifted_step_res_f_res_179820;
                                        }
                                        
                                        int64_t loopres_179896;
                                        int64_t loopres_179897;
                                        int64_t loopres_179898;
                                        int64_t loopres_179899;
                                        int64_t loopres_179900;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_179896, &loopres_179897, &loopres_179898, &loopres_179899, &loopres_179900, defunc_0_lifted_step_res_179810, ss_179804, defunc_0_lifted_step_res_179811, defunc_0_lifted_step_res_179812, defunc_0_lifted_step_res_179813) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179901 = slt64((int64_t) 0, loopres_179900);
                                        bool loop_while_tmp_182630 = loop_cond_179901;
                                        int64_t ss_tmp_182631 = loopres_179896;
                                        int64_t ss_tmp_182632 = loopres_179897;
                                        int64_t tt_tmp_182633 = loopres_179898;
                                        int64_t tt_tmp_182634 = loopres_179899;
                                        int64_t count_tmp_182635 = loopres_179900;
                                        
                                        loop_while_179802 = loop_while_tmp_182630;
                                        ss_179803 = ss_tmp_182631;
                                        ss_179804 = ss_tmp_182632;
                                        tt_179805 = tt_tmp_182633;
                                        tt_179806 = tt_tmp_182634;
                                        count_179807 = count_tmp_182635;
                                    }
                                    defunc_0_split_count_res_179796 = loop_while_179802;
                                    defunc_0_split_count_res_179797 = ss_179803;
                                    defunc_0_split_count_res_179798 = ss_179804;
                                    defunc_0_split_count_res_179799 = tt_179805;
                                    defunc_0_split_count_res_179800 = tt_179806;
                                    defunc_0_split_count_res_179801 = count_179807;
                                    ((int64_t *) mem_181694)[i_180828] = defunc_0_split_count_res_179797;
                                    ((int64_t *) mem_181696)[i_180828] = defunc_0_split_count_res_179799;
                                }
                                if (mem_181710_cached_sizze_183124 < flat_dim_179638) {
                                    err = lexical_realloc(ctx, &mem_181710, &mem_181710_cached_sizze_183124, flat_dim_179638);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181713_cached_sizze_183125 < bytes_181712) {
                                    err = lexical_realloc(ctx, &mem_181713, &mem_181713_cached_sizze_183125, bytes_181712);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181716_cached_sizze_183126 < bytes_181715) {
                                    err = lexical_realloc(ctx, &mem_181716, &mem_181716_cached_sizze_183126, bytes_181715);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180837 = 0; i_180837 < num_blocks_179635; i_180837++) {
                                    bool y_179910 = slt64(i_180837, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool index_certs_179912;
                                    
                                    if (!y_179910) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180837, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179913 = ((int64_t *) mem_181694)[i_180837];
                                    int64_t defunc_0_f_res_179914 = ((int64_t *) mem_181696)[i_180837];
                                    int64_t tmp_179915 = add64((int64_t) 1, i_180837);
                                    bool x_179916 = sle64((int64_t) 0, tmp_179915);
                                    bool y_179917 = slt64(tmp_179915, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636);
                                    bool bounds_check_179918 = x_179916 && y_179917;
                                    bool index_certs_179919;
                                    
                                    if (!bounds_check_179918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179915, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179636, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179920 = ((int64_t *) mem_181694)[tmp_179915];
                                    int64_t defunc_0_f_res_179921 = ((int64_t *) mem_181696)[tmp_179915];
                                    int64_t merge_sequential_arg2_179922 = add64(stride_179615, defunc_0_f_res_179914);
                                    int64_t merge_sequential_arg2_179923 = add64(stride_179615, defunc_0_f_res_179921);
                                    int64_t j_m_i_179924 = sub64(merge_sequential_arg2_179923, merge_sequential_arg2_179922);
                                    bool empty_slice_179925 = j_m_i_179924 == (int64_t) 0;
                                    int64_t m_179926 = sub64(j_m_i_179924, (int64_t) 1);
                                    int64_t i_p_m_t_s_179927 = add64(merge_sequential_arg2_179922, m_179926);
                                    bool zzero_leq_i_p_m_t_s_179928 = sle64((int64_t) 0, i_p_m_t_s_179927);
                                    bool i_p_m_t_s_leq_w_179929 = slt64(i_p_m_t_s_179927, next_stride_179616);
                                    bool zzero_lte_i_179930 = sle64((int64_t) 0, merge_sequential_arg2_179922);
                                    bool i_lte_j_179931 = sle64(merge_sequential_arg2_179922, merge_sequential_arg2_179923);
                                    bool y_179932 = i_p_m_t_s_leq_w_179929 && zzero_lte_i_179930;
                                    bool y_179933 = zzero_leq_i_p_m_t_s_179928 && y_179932;
                                    bool forwards_ok_179934 = i_lte_j_179931 && y_179933;
                                    bool ok_or_empty_179935 = empty_slice_179925 || forwards_ok_179934;
                                    bool index_certs_179936;
                                    
                                    if (!ok_or_empty_179935) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179922, ":", (long long) merge_sequential_arg2_179923, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179937 = sub64(defunc_0_f_res_179920, defunc_0_f_res_179913);
                                    bool empty_slice_179938 = j_m_i_179937 == (int64_t) 0;
                                    int64_t m_179939 = sub64(j_m_i_179937, (int64_t) 1);
                                    int64_t i_p_m_t_s_179940 = add64(defunc_0_f_res_179913, m_179939);
                                    bool zzero_leq_i_p_m_t_s_179941 = sle64((int64_t) 0, i_p_m_t_s_179940);
                                    bool i_p_m_t_s_leq_w_179942 = slt64(i_p_m_t_s_179940, next_stride_179616);
                                    bool zzero_lte_i_179943 = sle64((int64_t) 0, defunc_0_f_res_179913);
                                    bool i_lte_j_179944 = sle64(defunc_0_f_res_179913, defunc_0_f_res_179920);
                                    bool y_179945 = i_p_m_t_s_leq_w_179942 && zzero_lte_i_179943;
                                    bool y_179946 = zzero_leq_i_p_m_t_s_179941 && y_179945;
                                    bool forwards_ok_179947 = i_lte_j_179944 && y_179946;
                                    bool ok_or_empty_179948 = empty_slice_179938 || forwards_ok_179947;
                                    bool index_certs_179949;
                                    
                                    if (!ok_or_empty_179948) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179913, ":", (long long) defunc_0_f_res_179920, "] out of bounds for array of shape [", (long long) next_stride_179616, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179950 = slt64((int64_t) 0, j_m_i_179937);
                                    int8_t dummy_179951;
                                    int64_t dummy_179952;
                                    int16_t dummy_179953;
                                    
                                    if (cond_179950) {
                                        bool index_certs_179954;
                                        
                                        if (!cond_179950) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179955 = start_179688 + defunc_0_f_res_179913;
                                        int8_t head_res_179956 = ((int8_t *) mem_param_181666.mem)[slice_179955];
                                        int64_t head_res_179957 = ((int64_t *) mem_param_181669.mem)[slice_179955];
                                        int16_t head_res_179958 = ((int16_t *) mem_param_181672.mem)[slice_179955];
                                        
                                        dummy_179951 = head_res_179956;
                                        dummy_179952 = head_res_179957;
                                        dummy_179953 = head_res_179958;
                                    } else {
                                        bool y_179959 = slt64((int64_t) 0, j_m_i_179924);
                                        bool index_certs_179960;
                                        
                                        if (!y_179959) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179961 = start_179688 + merge_sequential_arg2_179922;
                                        int8_t head_res_179962 = ((int8_t *) mem_param_181666.mem)[slice_179961];
                                        int64_t head_res_179963 = ((int64_t *) mem_param_181669.mem)[slice_179961];
                                        int16_t head_res_179964 = ((int16_t *) mem_param_181672.mem)[slice_179961];
                                        
                                        dummy_179951 = head_res_179962;
                                        dummy_179952 = head_res_179963;
                                        dummy_179953 = head_res_179964;
                                    }
                                    for (int64_t nest_i_182639 = 0; nest_i_182639 < merge_block_sizze_179425; nest_i_182639++) {
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + nest_i_182639] = dummy_179951;
                                    }
                                    for (int64_t nest_i_182640 = 0; nest_i_182640 < merge_block_sizze_179425; nest_i_182640++) {
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + nest_i_182640] = dummy_179952;
                                    }
                                    for (int64_t nest_i_182641 = 0; nest_i_182641 < merge_block_sizze_179425; nest_i_182641++) {
                                        ((int16_t *) mem_181716)[i_180837 * merge_block_sizze_179425 + nest_i_182641] = dummy_179953;
                                    }
                                    
                                    int64_t data_179968;
                                    int64_t i_179973 = (int64_t) 0;
                                    
                                    for (int64_t k_179972 = 0; k_179972 < merge_block_sizze_179425; k_179972++) {
                                        int64_t j_179977 = sub64(k_179972, i_179973);
                                        bool cond_179978 = j_179977 == j_m_i_179924;
                                        bool cond_179979;
                                        
                                        if (cond_179978) {
                                            cond_179979 = 1;
                                        } else {
                                            bool cond_179980 = slt64(i_179973, j_m_i_179937);
                                            bool cond_f_res_179981;
                                            
                                            if (cond_179980) {
                                                bool x_179982 = sle64((int64_t) 0, j_179977);
                                                bool y_179983 = slt64(j_179977, j_m_i_179924);
                                                bool bounds_check_179984 = x_179982 && y_179983;
                                                bool index_certs_179985;
                                                
                                                if (!bounds_check_179984) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179991 = sle64((int64_t) 0, i_179973);
                                                bool bounds_check_179992 = cond_179980 && x_179991;
                                                bool index_certs_179993;
                                                
                                                if (!bounds_check_179992) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179986 = merge_sequential_arg2_179922 + j_179977;
                                                int64_t slice_179987 = start_179688 + slice_179986;
                                                int8_t leq_arg1_179988 = ((int8_t *) mem_param_181666.mem)[slice_179987];
                                                int64_t leq_arg1_179989 = ((int64_t *) mem_param_181669.mem)[slice_179987];
                                                int16_t leq_arg1_179990 = ((int16_t *) mem_param_181672.mem)[slice_179987];
                                                int64_t slice_179994 = defunc_0_f_res_179913 + i_179973;
                                                int64_t slice_179995 = start_179688 + slice_179994;
                                                int8_t leq_arg0_179996 = ((int8_t *) mem_param_181666.mem)[slice_179995];
                                                int64_t leq_arg0_179997 = ((int64_t *) mem_param_181669.mem)[slice_179995];
                                                int16_t leq_arg0_179998 = ((int16_t *) mem_param_181672.mem)[slice_179995];
                                                bool cond_179999 = leq_arg0_179996 == leq_arg1_179988;
                                                bool defunc_0_leq_res_t_res_180000 = sle64(leq_arg0_179997, leq_arg1_179989);
                                                bool defunc_0_leq_res_180001 = sle16(leq_arg0_179998, leq_arg1_179990);
                                                bool x_180002 = cond_179999 && defunc_0_leq_res_t_res_180000;
                                                bool x_180003 = !cond_179999;
                                                bool y_180004 = defunc_0_leq_res_180001 && x_180003;
                                                bool defunc_0_leq_res_180005 = x_180002 || y_180004;
                                                
                                                cond_f_res_179981 = defunc_0_leq_res_180005;
                                            } else {
                                                cond_f_res_179981 = 0;
                                            }
                                            cond_179979 = cond_f_res_179981;
                                        }
                                        
                                        int64_t loopres_180006;
                                        int8_t loopres_180007;
                                        int64_t loopres_180008;
                                        int16_t loopres_180009;
                                        
                                        if (cond_179979) {
                                            bool x_180011 = sle64((int64_t) 0, i_179973);
                                            bool y_180012 = slt64(i_179973, j_m_i_179937);
                                            bool bounds_check_180013 = x_180011 && y_180012;
                                            bool index_certs_180014;
                                            
                                            if (!bounds_check_180013) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179973, "] out of bounds for array of shape [", (long long) j_m_i_179937, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180010 = add64((int64_t) 1, i_179973);
                                            int64_t slice_180015 = defunc_0_f_res_179913 + i_179973;
                                            int64_t slice_180016 = start_179688 + slice_180015;
                                            int8_t tmp_180017 = ((int8_t *) mem_param_181666.mem)[slice_180016];
                                            int64_t tmp_180018 = ((int64_t *) mem_param_181669.mem)[slice_180016];
                                            int16_t tmp_180019 = ((int16_t *) mem_param_181672.mem)[slice_180016];
                                            
                                            loopres_180006 = tmp_180010;
                                            loopres_180007 = tmp_180017;
                                            loopres_180008 = tmp_180018;
                                            loopres_180009 = tmp_180019;
                                        } else {
                                            bool x_180020 = sle64((int64_t) 0, j_179977);
                                            bool y_180021 = slt64(j_179977, j_m_i_179924);
                                            bool bounds_check_180022 = x_180020 && y_180021;
                                            bool index_certs_180023;
                                            
                                            if (!bounds_check_180022) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179977, "] out of bounds for array of shape [", (long long) j_m_i_179924, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180024 = merge_sequential_arg2_179922 + j_179977;
                                            int64_t slice_180025 = start_179688 + slice_180024;
                                            int8_t tmp_180026 = ((int8_t *) mem_param_181666.mem)[slice_180025];
                                            int64_t tmp_180027 = ((int64_t *) mem_param_181669.mem)[slice_180025];
                                            int16_t tmp_180028 = ((int16_t *) mem_param_181672.mem)[slice_180025];
                                            
                                            loopres_180006 = i_179973;
                                            loopres_180007 = tmp_180026;
                                            loopres_180008 = tmp_180027;
                                            loopres_180009 = tmp_180028;
                                        }
                                        ((int8_t *) mem_181710)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180007;
                                        ((int64_t *) mem_181713)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180008;
                                        ((int16_t *) mem_181716)[i_180837 * merge_block_sizze_179425 + k_179972] = loopres_180009;
                                        
                                        int64_t i_tmp_182642 = loopres_180006;
                                        
                                        i_179973 = i_tmp_182642;
                                    }
                                    data_179968 = i_179973;
                                }
                                if (memblock_alloc(ctx, &mem_181765, flat_dim_179638, "mem_181765")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181765.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint8_t *) mem_181710, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181769, bytes_181712, "mem_181769")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181769.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint64_t *) mem_181713, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_alloc(ctx, &mem_181773, bytes_181715, "mem_181773")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_181773.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (uint16_t *) mem_181716, (int64_t) 0, (int64_t []) {merge_block_sizze_179425, (int64_t) 1}, (int64_t []) {num_blocks_179635, merge_block_sizze_179425});
                                if (memblock_set(ctx, &ext_mem_181806, &mem_181765, "mem_181765") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181803, &mem_181769, "mem_181769") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181800, &mem_181773, "mem_181773") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181674, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181806.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181677, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181803.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181680, i_180847 * next_stride_179616, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181800.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179616});
                            if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181820, bytes_181673, "mem_181820")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181820.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint8_t *) mem_181674, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181824, bytes_181676, "mem_181824")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181824.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint64_t *) mem_181677, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        if (memblock_alloc(ctx, &mem_181828, bytes_181679, "mem_181828")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (uint16_t *) mem_181680, (int64_t) 0, (int64_t []) {next_stride_179616, (int64_t) 1}, (int64_t []) {num_merges_179620, next_stride_179616});
                        
                        bool loop_cond_180048 = slt64(next_stride_179616, flat_dim_179420);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182609, &mem_181820, "mem_181820") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182610, &mem_181824, "mem_181824") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182611, &mem_181828, "mem_181828") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182612 = bytes_181673;
                        bool loop_while_tmp_182613 = loop_cond_180048;
                        int64_t stride_tmp_182617 = next_stride_179616;
                        
                        if (memblock_set(ctx, &mem_param_181666, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181669, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181672, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179610 = loop_dz2084Uz2082U_tmp_182612;
                        loop_while_179611 = loop_while_tmp_182613;
                        stride_179615 = stride_tmp_182617;
                    }
                    if (memblock_set(ctx, &ext_mem_181838, &mem_param_181666, "mem_param_181666") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181837, &mem_param_181669, "mem_param_181669") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181836, &mem_param_181672, "mem_param_181672") != 0)
                        return 1;
                    data_179604 = loop_dz2084Uz2082U_179610;
                    data_179605 = loop_while_179611;
                    data_179609 = stride_179615;
                    if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
                        return 1;
                    
                    bool empty_slice_180049 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_180050 = sle64((int64_t) 0, zs_lhs_179404);
                    bool i_p_m_t_s_leq_w_180051 = slt64(zs_lhs_179404, data_179604);
                    bool y_180052 = zzero_leq_i_p_m_t_s_180050 && i_p_m_t_s_leq_w_180051;
                    bool ok_or_empty_180053 = empty_slice_180049 || y_180052;
                    bool index_certs_180054;
                    
                    if (!ok_or_empty_180053) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358, "] out of bounds for array of shape [", (long long) data_179604, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:466:63-73\n   #6  ftsort.fut:459:1-466:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181847, &ext_mem_181838, "ext_mem_181838") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181844, &ext_mem_181837, "ext_mem_181837") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181841, &ext_mem_181836, "ext_mem_181836") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181514, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181847.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181517, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181844.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181520, i_180863 * perThread_175681, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181841.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179358});
                if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
                    return 1;
                for (int64_t i_180853 = 0; i_180853 < perThread_175681; i_180853++) {
                    int64_t lifted_lambda_res_180076 = add64(zm_rhs_179360, i_180853);
                    
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + i_180853] = lifted_lambda_res_180076;
                }
                
                bool cond_180078 = card_179361 == zp_rhs_175680;
                
                if (cond_180078) {
                    bool y_180080 = slt64(card_179361, perThread_175681);
                    bool index_certs_180081;
                    
                    if (!y_180080) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179361, "] out of bounds for array of shape [", (long long) perThread_175681, "].", "-> #0  ftsort.fut:385:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:466:63-73\n   #3  ftsort.fut:459:1-466:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181512)[i_180863 * perThread_175681 + card_179361] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181873, bytes_181168, "mem_181873")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182647 = 0; nest_i_182647 < window_sizze_121287; nest_i_182647++) {
                ((int16_t *) mem_181873.mem)[nest_i_182647] = (int16_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181875, bytes_181166, "mem_181875")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182648 = 0; nest_i_182648 < window_sizze_121287; nest_i_182648++) {
                ((int64_t *) mem_181875.mem)[nest_i_182648] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181876, window_sizze_121287, "mem_181876")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182649 = 0; nest_i_182649 < window_sizze_121287; nest_i_182649++) {
                ((int8_t *) mem_181876.mem)[nest_i_182649] = (int8_t) -1;
            }
            for (int64_t write_iter_180868 = 0; write_iter_180868 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175682; write_iter_180868++) {
                int64_t new_index_181020 = squot64(write_iter_180868, perThread_175681);
                int64_t binop_y_181022 = perThread_175681 * new_index_181020;
                int64_t new_index_181023 = write_iter_180868 - binop_y_181022;
                int64_t write_iv_180872 = ((int64_t *) mem_181512)[new_index_181020 * perThread_175681 + new_index_181023];
                int8_t write_iv_180873 = ((int8_t *) mem_181514)[new_index_181020 * perThread_175681 + new_index_181023];
                int64_t write_iv_180874 = ((int64_t *) mem_181517)[new_index_181020 * perThread_175681 + new_index_181023];
                int16_t write_iv_180875 = ((int16_t *) mem_181520)[new_index_181020 * perThread_175681 + new_index_181023];
                
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_121287)) {
                    ((int8_t *) mem_181876.mem)[write_iv_180872] = write_iv_180873;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_121287)) {
                    ((int64_t *) mem_181875.mem)[write_iv_180872] = write_iv_180874;
                }
                if (sle64((int64_t) 0, write_iv_180872) && slt64(write_iv_180872, window_sizze_121287)) {
                    ((int16_t *) mem_181873.mem)[write_iv_180872] = write_iv_180875;
                }
            }
            
            int64_t index_concat_branch_180104;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180105 = ((int64_t *) mem_181495)[index_concat_i_178445];
                
                index_concat_branch_180104 = index_concat_180105;
            } else {
                index_concat_branch_180104 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180106;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180107 = ((int64_t *) mem_181497)[index_concat_i_178445];
                
                index_concat_branch_180106 = index_concat_180107;
            } else {
                index_concat_branch_180106 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181876, "mem_181876") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181875, "mem_181875") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181873, "mem_181873") != 0)
                return 1;
            loopres_175671 = index_concat_branch_180104;
            loopres_175672 = index_concat_branch_180106;
        } else {
            int16_t leq_lhs_176662 = ((int16_t *) a_list_mem_181133.mem)[p_175643];
            int16_t leq_rhs_176665 = ((int16_t *) b_list_mem_181134.mem)[p_175644];
            bool defunc_0_leq_res_176666 = sle16(leq_lhs_176662, leq_rhs_176665);
            int16_t lowest_176667;
            
            if (defunc_0_leq_res_176666) {
                bool index_certs_180108;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:250:44-49\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_lhs_176662;
            } else {
                bool index_certs_176672;
                
                if (!y_176660) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:250:55-60\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176667 = leq_rhs_176665;
            }
            if (mem_181150_cached_sizze_183091 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183091, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181152_cached_sizze_183092 < bytes_181149) {
                err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_183092, bytes_181149);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180883 = 0; i_180883 < threads_121288; i_180883++) {
                int64_t index_primexp_181099 = add64((int64_t) 1, i_180883);
                int64_t zs_lhs_176688 = mul64(zt_rhs_176681, index_primexp_181099);
                int64_t index_176689 = sdiv64(zs_lhs_176688, partitionFunc_arg0_176658);
                bool cond_176690 = slt64(window_sizze_121287, index_176689);
                int64_t loop_over_176691;
                
                if (cond_176690) {
                    loop_over_176691 = window_sizze_121287;
                } else {
                    loop_over_176691 = index_176689;
                }
                
                int64_t loop_over_176692;
                
                if (cond_176690) {
                    int64_t loop_over_t_res_180109 = sub64(index_176689, window_sizze_121287);
                    
                    loop_over_176692 = loop_over_t_res_180109;
                } else {
                    loop_over_176692 = (int64_t) 0;
                }
                
                int64_t loop_over_176694;
                
                if (cond_176690) {
                    int64_t zm_lhs_180110 = sub64(index_176689, window_sizze_121287);
                    int64_t loop_over_t_res_180111 = sub64(zm_lhs_180110, (int64_t) 1);
                    
                    loop_over_176694 = loop_over_t_res_180111;
                } else {
                    loop_over_176694 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176697;
                int64_t defunc_0_f_res_176698;
                int64_t defunc_0_f_res_176699;
                int64_t defunc_0_f_res_176700;
                bool loop_while_176701;
                int64_t p_176702;
                int64_t p_176703;
                int64_t p_176704;
                
                loop_while_176701 = 1;
                p_176702 = loop_over_176694;
                p_176703 = loop_over_176691;
                p_176704 = loop_over_176692;
                while (loop_while_176701) {
                    int64_t zs_lhs_176705 = sub64(p_176703, p_176702);
                    int64_t offset_176706 = sdiv64(zs_lhs_176705, (int64_t) 2);
                    int64_t ai_176707 = sub64(p_176703, offset_176706);
                    int64_t max_arg1_176708 = add64(p_176704, offset_176706);
                    int64_t max_res_176709 = smax64((int64_t) 0, max_arg1_176708);
                    bool cond_176710 = slt64((int64_t) 0, max_res_176709);
                    int16_t b_prev_176711;
                    
                    if (cond_176710) {
                        int64_t tmp_180112 = sub64(max_res_176709, (int64_t) 1);
                        bool x_180113 = sle64((int64_t) 0, tmp_180112);
                        bool y_180114 = slt64(tmp_180112, window_sizze_121287);
                        bool bounds_check_180115 = x_180113 && y_180114;
                        bool index_certs_180116;
                        
                        if (!bounds_check_180115) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180112, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:268:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180117 = p_175644 + tmp_180112;
                        int16_t b_prev_t_res_180118 = ((int16_t *) b_list_mem_181134.mem)[slice_180117];
                        
                        b_prev_176711 = b_prev_t_res_180118;
                    } else {
                        b_prev_176711 = lowest_176667;
                    }
                    
                    bool cond_176718 = sle64(ai_176707, (int64_t) 0);
                    int64_t loopres_176719;
                    int64_t loopres_176720;
                    int64_t loopres_176721;
                    bool loopres_176722;
                    
                    if (cond_176718) {
                        loopres_176719 = p_176702;
                        loopres_176720 = (int64_t) 0;
                        loopres_176721 = max_res_176709;
                        loopres_176722 = 0;
                    } else {
                        bool cond_176723 = sle64(window_sizze_121287, max_res_176709);
                        int64_t loopres_f_res_176724;
                        int64_t loopres_f_res_176725;
                        int64_t loopres_f_res_176726;
                        bool loopres_f_res_176727;
                        
                        if (cond_176723) {
                            int64_t min_res_180120 = smin64(m_175632, ai_176707);
                            bool x_180121 = sle64((int64_t) 0, m_175632);
                            bool y_180122 = slt64(m_175632, window_sizze_121287);
                            bool bounds_check_180123 = x_180121 && y_180122;
                            bool index_certs_180124;
                            
                            if (!bounds_check_180123) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:279:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180127 = sle64((int64_t) 0, min_res_180120);
                            bool y_180128 = slt64(min_res_180120, window_sizze_121287);
                            bool bounds_check_180129 = x_180127 && y_180128;
                            bool index_certs_180130;
                            
                            if (!bounds_check_180129) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180120, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:279:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_180126 = ((int16_t *) b_list_mem_181134.mem)[i_p_m_t_s_175660];
                            int64_t slice_180131 = p_175643 + min_res_180120;
                            int16_t leq_rhs_180132 = ((int16_t *) a_list_mem_181133.mem)[slice_180131];
                            bool defunc_0_leq_res_180133 = sle16(leq_lhs_180126, leq_rhs_180132);
                            int64_t loopres_f_res_t_res_180134;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180134 = ai_176707;
                            } else {
                                loopres_f_res_t_res_180134 = p_176703;
                            }
                            
                            bool x_180135 = !defunc_0_leq_res_180133;
                            int64_t loopres_f_res_t_res_180136;
                            
                            if (defunc_0_leq_res_180133) {
                                loopres_f_res_t_res_180136 = window_sizze_121287;
                            } else {
                                int64_t tmp_180137 = sub64(m_175632, offset_176706);
                                
                                loopres_f_res_t_res_180136 = tmp_180137;
                            }
                            loopres_f_res_176724 = p_176702;
                            loopres_f_res_176725 = loopres_f_res_t_res_180134;
                            loopres_f_res_176726 = loopres_f_res_t_res_180136;
                            loopres_f_res_176727 = x_180135;
                        } else {
                            bool cond_176745 = sle64(window_sizze_121287, ai_176707);
                            int64_t loopres_f_res_f_res_176746;
                            int64_t loopres_f_res_f_res_176747;
                            int64_t loopres_f_res_f_res_176748;
                            bool loopres_f_res_f_res_176749;
                            
                            if (cond_176745) {
                                int64_t min_res_180139 = smin64(m_175632, max_res_176709);
                                bool x_180140 = sle64((int64_t) 0, m_175632);
                                bool y_180141 = slt64(m_175632, window_sizze_121287);
                                bool bounds_check_180142 = x_180140 && y_180141;
                                bool index_certs_180143;
                                
                                if (!bounds_check_180142) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175632, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:286:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180146 = sle64((int64_t) 0, min_res_180139);
                                bool y_180147 = slt64(min_res_180139, window_sizze_121287);
                                bool bounds_check_180148 = x_180146 && y_180147;
                                bool index_certs_180149;
                                
                                if (!bounds_check_180148) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180139, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:286:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_180145 = ((int16_t *) a_list_mem_181133.mem)[i_p_m_t_s_175649];
                                int64_t slice_180150 = p_175644 + min_res_180139;
                                int16_t leq_rhs_180151 = ((int16_t *) b_list_mem_181134.mem)[slice_180150];
                                bool defunc_0_leq_res_180152 = sle16(leq_lhs_180145, leq_rhs_180151);
                                int64_t loopres_f_res_f_res_t_res_180153;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180153 = max_res_176709;
                                } else {
                                    loopres_f_res_f_res_t_res_180153 = p_176704;
                                }
                                
                                bool x_180154 = !defunc_0_leq_res_180152;
                                int64_t loopres_f_res_f_res_t_res_180155;
                                
                                if (defunc_0_leq_res_180152) {
                                    loopres_f_res_f_res_t_res_180155 = window_sizze_121287;
                                } else {
                                    loopres_f_res_f_res_t_res_180155 = m_175632;
                                }
                                loopres_f_res_f_res_176746 = p_176702;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_t_res_180155;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_t_res_180153;
                                loopres_f_res_f_res_176749 = x_180154;
                            } else {
                                bool cond_176766 = sle64(p_176703, p_176702);
                                int64_t loopres_f_res_f_res_f_res_176767;
                                int64_t loopres_f_res_f_res_f_res_176768;
                                int64_t loopres_f_res_f_res_f_res_176769;
                                bool loopres_f_res_f_res_f_res_176770;
                                
                                if (cond_176766) {
                                    bool cond_180194 = slt64(ai_176707, window_sizze_121287);
                                    int64_t ai_180195;
                                    
                                    if (cond_180194) {
                                        ai_180195 = ai_176707;
                                    } else {
                                        ai_180195 = m_175632;
                                    }
                                    
                                    bool x_180208 = sle64((int64_t) 0, ai_180195);
                                    bool y_180209 = slt64(ai_180195, window_sizze_121287);
                                    bool bounds_check_180210 = x_180208 && y_180209;
                                    bool index_certs_180211;
                                    
                                    if (!bounds_check_180210) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180195, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:220:8-14\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_180197;
                                    
                                    if (cond_176710) {
                                        int64_t tmp_180198 = sub64(max_res_176709, (int64_t) 1);
                                        bool x_180199 = sle64((int64_t) 0, tmp_180198);
                                        bool y_180200 = slt64(tmp_180198, window_sizze_121287);
                                        bool bounds_check_180201 = x_180199 && y_180200;
                                        bool index_certs_180202;
                                        
                                        if (!bounds_check_180201) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180198, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:218:31-39\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180203 = p_175644 + tmp_180198;
                                        int16_t b_prev_t_res_180204 = ((int16_t *) b_list_mem_181134.mem)[slice_180203];
                                        
                                        b_prev_180197 = b_prev_t_res_180204;
                                    } else {
                                        bool index_certs_180206;
                                        
                                        if (!y_176660) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:218:45-50\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180197 = leq_rhs_176665;
                                    }
                                    
                                    int64_t slice_180212 = p_175643 + ai_180195;
                                    int16_t gt_lhs_180213 = ((int16_t *) a_list_mem_181133.mem)[slice_180212];
                                    bool defunc_0_gt_res_180214 = slt16(b_prev_180197, gt_lhs_180213);
                                    int64_t defunc_0_partFunc_sequential_search_res_180215;
                                    int64_t defunc_0_partFunc_sequential_search_res_180216;
                                    
                                    if (defunc_0_gt_res_180214) {
                                        int64_t zl_rhs_180217 = sub64(window_sizze_121287, max_res_176709);
                                        bool loop_cond_180218 = slt64((int64_t) 0, zl_rhs_180217);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180219;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180221;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180222;
                                        bool loop_while_180223;
                                        int64_t p_180224;
                                        int64_t p_180225;
                                        int64_t p_180226;
                                        
                                        loop_while_180223 = loop_cond_180218;
                                        p_180224 = ai_180195;
                                        p_180225 = max_res_176709;
                                        p_180226 = (int64_t) 0;
                                        while (loop_while_180223) {
                                            int64_t i_a_180227 = sub64(ai_180195, p_180226);
                                            int64_t i_b_180228 = add64(max_res_176709, p_180226);
                                            int64_t leq_lhs_180229 = sub64(i_a_180227, (int64_t) 1);
                                            bool x_180230 = sle64((int64_t) 0, leq_lhs_180229);
                                            bool y_180231 = slt64(leq_lhs_180229, window_sizze_121287);
                                            bool bounds_check_180232 = x_180230 && y_180231;
                                            bool index_certs_180233;
                                            
                                            if (!bounds_check_180232) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180229, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:226:15-24\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180236 = sle64((int64_t) 0, i_b_180228);
                                            bool y_180237 = slt64(i_b_180228, window_sizze_121287);
                                            bool bounds_check_180238 = x_180236 && y_180237;
                                            bool index_certs_180239;
                                            
                                            if (!bounds_check_180238) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180228, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:226:31-38\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180234 = p_175643 + leq_lhs_180229;
                                            int16_t leq_lhs_180235 = ((int16_t *) a_list_mem_181133.mem)[slice_180234];
                                            int64_t slice_180240 = p_175644 + i_b_180228;
                                            int16_t leq_rhs_180241 = ((int16_t *) b_list_mem_181134.mem)[slice_180240];
                                            bool defunc_0_leq_res_180242 = sle16(leq_lhs_180235, leq_rhs_180241);
                                            int64_t loopres_180243;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180243 = i_a_180227;
                                            } else {
                                                loopres_180243 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180244;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180244 = i_b_180228;
                                            } else {
                                                loopres_180244 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180245;
                                            
                                            if (defunc_0_leq_res_180242) {
                                                loopres_180245 = zl_rhs_180217;
                                            } else {
                                                int64_t tmp_180246 = add64((int64_t) 1, p_180226);
                                                
                                                loopres_180245 = tmp_180246;
                                            }
                                            
                                            bool loop_cond_180247 = slt64(loopres_180245, zl_rhs_180217);
                                            bool loop_while_tmp_182659 = loop_cond_180247;
                                            int64_t p_tmp_182660 = loopres_180243;
                                            int64_t p_tmp_182661 = loopres_180244;
                                            int64_t p_tmp_182662 = loopres_180245;
                                            
                                            loop_while_180223 = loop_while_tmp_182659;
                                            p_180224 = p_tmp_182660;
                                            p_180225 = p_tmp_182661;
                                            p_180226 = p_tmp_182662;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180219 = loop_while_180223;
                                        defunc_0_partFunc_sequential_search_res_t_res_180220 = p_180224;
                                        defunc_0_partFunc_sequential_search_res_t_res_180221 = p_180225;
                                        defunc_0_partFunc_sequential_search_res_t_res_180222 = p_180226;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_t_res_180220;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_t_res_180221;
                                    } else {
                                        int64_t zl_rhs_180248 = sub64(max_res_176709, (int64_t) 1);
                                        bool loop_cond_180249 = slt64((int64_t) 0, zl_rhs_180248);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180250;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180252;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180253;
                                        bool loop_while_180254;
                                        int64_t p_180255;
                                        int64_t p_180256;
                                        int64_t p_180257;
                                        
                                        loop_while_180254 = loop_cond_180249;
                                        p_180255 = ai_180195;
                                        p_180256 = max_res_176709;
                                        p_180257 = (int64_t) 0;
                                        while (loop_while_180254) {
                                            int64_t zp_lhs_180258 = add64(ai_180195, p_180257);
                                            int64_t hi_a_180259 = add64((int64_t) 1, zp_lhs_180258);
                                            bool cond_180260 = slt64(hi_a_180259, window_sizze_121287);
                                            int64_t i_a_180261;
                                            
                                            if (cond_180260) {
                                                i_a_180261 = hi_a_180259;
                                            } else {
                                                i_a_180261 = m_175632;
                                            }
                                            
                                            int64_t zm_lhs_180263 = sub64(max_res_176709, p_180257);
                                            int64_t i_b_180264 = sub64(zm_lhs_180263, (int64_t) 1);
                                            bool x_180265 = sle64((int64_t) 0, i_a_180261);
                                            bool y_180266 = slt64(i_a_180261, window_sizze_121287);
                                            bool bounds_check_180267 = x_180265 && y_180266;
                                            bool index_certs_180268;
                                            
                                            if (!bounds_check_180267) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180261, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:236:15-22\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180271 = sle64((int64_t) 0, i_b_180264);
                                            bool y_180272 = slt64(i_b_180264, window_sizze_121287);
                                            bool bounds_check_180273 = x_180271 && y_180272;
                                            bool index_certs_180274;
                                            
                                            if (!bounds_check_180273) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180264, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:236:28-35\n   #1  ftsort.fut:290:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:255:8-315:8\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180269 = p_175643 + i_a_180261;
                                            int16_t gt_lhs_180270 = ((int16_t *) a_list_mem_181133.mem)[slice_180269];
                                            int64_t slice_180275 = p_175644 + i_b_180264;
                                            int16_t gt_rhs_180276 = ((int16_t *) b_list_mem_181134.mem)[slice_180275];
                                            bool defunc_0_gt_res_180277 = slt16(gt_rhs_180276, gt_lhs_180270);
                                            int64_t loopres_180278;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180278 = i_a_180261;
                                            } else {
                                                loopres_180278 = ai_180195;
                                            }
                                            
                                            int64_t loopres_180279;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180279 = zm_lhs_180263;
                                            } else {
                                                loopres_180279 = max_res_176709;
                                            }
                                            
                                            int64_t loopres_180280;
                                            
                                            if (defunc_0_gt_res_180277) {
                                                loopres_180280 = zl_rhs_180248;
                                            } else {
                                                int64_t tmp_180281 = add64((int64_t) 1, p_180257);
                                                
                                                loopres_180280 = tmp_180281;
                                            }
                                            
                                            bool loop_cond_180282 = slt64(loopres_180280, zl_rhs_180248);
                                            bool loop_while_tmp_182663 = loop_cond_180282;
                                            int64_t p_tmp_182664 = loopres_180278;
                                            int64_t p_tmp_182665 = loopres_180279;
                                            int64_t p_tmp_182666 = loopres_180280;
                                            
                                            loop_while_180254 = loop_while_tmp_182663;
                                            p_180255 = p_tmp_182664;
                                            p_180256 = p_tmp_182665;
                                            p_180257 = p_tmp_182666;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180250 = loop_while_180254;
                                        defunc_0_partFunc_sequential_search_res_f_res_180251 = p_180255;
                                        defunc_0_partFunc_sequential_search_res_f_res_180252 = p_180256;
                                        defunc_0_partFunc_sequential_search_res_f_res_180253 = p_180257;
                                        defunc_0_partFunc_sequential_search_res_180215 = defunc_0_partFunc_sequential_search_res_f_res_180251;
                                        defunc_0_partFunc_sequential_search_res_180216 = defunc_0_partFunc_sequential_search_res_f_res_180252;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = p_176702;
                                    loopres_f_res_f_res_f_res_176768 = defunc_0_partFunc_sequential_search_res_180215;
                                    loopres_f_res_f_res_f_res_176769 = defunc_0_partFunc_sequential_search_res_180216;
                                    loopres_f_res_f_res_f_res_176770 = 0;
                                } else {
                                    bool x_176854 = sle64((int64_t) 0, ai_176707);
                                    bool y_176855 = slt64(ai_176707, window_sizze_121287);
                                    bool bounds_check_176856 = x_176854 && y_176855;
                                    bool index_certs_176857;
                                    
                                    if (!bounds_check_176856) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176707, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:294:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178523 = p_175643 + ai_176707;
                                    int16_t gt_lhs_176858 = ((int16_t *) a_list_mem_181133.mem)[slice_178523];
                                    bool defunc_0_gt_res_176859 = slt16(b_prev_176711, gt_lhs_176858);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176860;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176861;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176862;
                                    bool loopres_f_res_f_res_f_res_f_res_176863;
                                    
                                    if (defunc_0_gt_res_176859) {
                                        int64_t leq_lhs_180283 = sub64(ai_176707, (int64_t) 1);
                                        bool x_180284 = sle64((int64_t) 0, leq_lhs_180283);
                                        bool y_180285 = slt64(leq_lhs_180283, window_sizze_121287);
                                        bool bounds_check_180286 = x_180284 && y_180285;
                                        bool index_certs_180287;
                                        
                                        if (!bounds_check_180286) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180283, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:295:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180290 = sle64((int64_t) 0, max_res_176709);
                                        bool y_180291 = slt64(max_res_176709, window_sizze_121287);
                                        bool bounds_check_180292 = x_180290 && y_180291;
                                        bool index_certs_180293;
                                        
                                        if (!bounds_check_180292) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176709, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:295:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:255:8-315:8\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180288 = p_175643 + leq_lhs_180283;
                                        int16_t leq_lhs_180289 = ((int16_t *) a_list_mem_181133.mem)[slice_180288];
                                        int64_t slice_180294 = p_175644 + max_res_176709;
                                        int16_t leq_rhs_180295 = ((int16_t *) b_list_mem_181134.mem)[slice_180294];
                                        bool defunc_0_leq_res_180296 = sle16(leq_lhs_180289, leq_rhs_180295);
                                        bool x_180297 = !defunc_0_leq_res_180296;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = ai_176707;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180298 = leq_lhs_180283;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        
                                        if (defunc_0_leq_res_180296) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = max_res_176709;
                                        } else {
                                            int64_t tmp_180300 = add64((int64_t) 1, max_res_176709);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180299 = tmp_180300;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176860 = p_176702;
                                        loopres_f_res_f_res_f_res_f_res_176861 = loopres_f_res_f_res_f_res_f_res_t_res_180298;
                                        loopres_f_res_f_res_f_res_f_res_176862 = loopres_f_res_f_res_f_res_f_res_t_res_180299;
                                        loopres_f_res_f_res_f_res_f_res_176863 = x_180297;
                                    } else {
                                        int64_t tmp_176880 = add64((int64_t) 1, ai_176707);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176860 = tmp_176880;
                                        loopres_f_res_f_res_f_res_f_res_176861 = p_176703;
                                        loopres_f_res_f_res_f_res_f_res_176862 = p_176704;
                                        loopres_f_res_f_res_f_res_f_res_176863 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176767 = loopres_f_res_f_res_f_res_f_res_176860;
                                    loopres_f_res_f_res_f_res_176768 = loopres_f_res_f_res_f_res_f_res_176861;
                                    loopres_f_res_f_res_f_res_176769 = loopres_f_res_f_res_f_res_f_res_176862;
                                    loopres_f_res_f_res_f_res_176770 = loopres_f_res_f_res_f_res_f_res_176863;
                                }
                                loopres_f_res_f_res_176746 = loopres_f_res_f_res_f_res_176767;
                                loopres_f_res_f_res_176747 = loopres_f_res_f_res_f_res_176768;
                                loopres_f_res_f_res_176748 = loopres_f_res_f_res_f_res_176769;
                                loopres_f_res_f_res_176749 = loopres_f_res_f_res_f_res_176770;
                            }
                            loopres_f_res_176724 = loopres_f_res_f_res_176746;
                            loopres_f_res_176725 = loopres_f_res_f_res_176747;
                            loopres_f_res_176726 = loopres_f_res_f_res_176748;
                            loopres_f_res_176727 = loopres_f_res_f_res_176749;
                        }
                        loopres_176719 = loopres_f_res_176724;
                        loopres_176720 = loopres_f_res_176725;
                        loopres_176721 = loopres_f_res_176726;
                        loopres_176722 = loopres_f_res_176727;
                    }
                    
                    bool loop_while_tmp_182655 = loopres_176722;
                    int64_t p_tmp_182656 = loopres_176719;
                    int64_t p_tmp_182657 = loopres_176720;
                    int64_t p_tmp_182658 = loopres_176721;
                    
                    loop_while_176701 = loop_while_tmp_182655;
                    p_176702 = p_tmp_182656;
                    p_176703 = p_tmp_182657;
                    p_176704 = p_tmp_182658;
                }
                defunc_0_f_res_176697 = loop_while_176701;
                defunc_0_f_res_176698 = p_176702;
                defunc_0_f_res_176699 = p_176703;
                defunc_0_f_res_176700 = p_176704;
                ((int64_t *) mem_181150)[i_180883] = defunc_0_f_res_176699;
                ((int64_t *) mem_181152)[i_180883] = defunc_0_f_res_176700;
            }
            if (memblock_alloc(ctx, &mem_181165, window_sizze_121287, "mem_181165")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182667 = 0; nest_i_182667 < window_sizze_121287; nest_i_182667++) {
                ((int8_t *) mem_181165.mem)[nest_i_182667] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181167, bytes_181166, "mem_181167")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182668 = 0; nest_i_182668 < window_sizze_121287; nest_i_182668++) {
                ((int64_t *) mem_181167.mem)[nest_i_182668] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181169, bytes_181168, "mem_181169")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182669 = 0; nest_i_182669 < window_sizze_121287; nest_i_182669++) {
                ((int16_t *) mem_181169.mem)[nest_i_182669] = (int16_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176907;
            int64_t defunc_0_mergeFunc_seq_res_176908;
            bool loop_while_176912;
            int64_t p_176913;
            
            loop_while_176912 = loop_cond_176906;
            p_176913 = (int64_t) 0;
            while (loop_while_176912) {
                bool x_176917 = sle64((int64_t) 0, p_176913);
                bool y_176918 = slt64(p_176913, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176919 = x_176917 && y_176918;
                bool index_certs_176920;
                
                if (!bounds_check_176919) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176913, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:339:19-39\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178506 = sle64((int64_t) 1, p_176913);
                int64_t index_concat_i_178507 = sub64(p_176913, (int64_t) 1);
                int64_t index_concat_178508;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180301 = ((int64_t *) mem_181150)[index_concat_i_178507];
                    
                    index_concat_178508 = x_180301;
                } else {
                    index_concat_178508 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178510;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178510 = index_concat_178508;
                } else {
                    index_concat_branch_178510 = (int64_t) 0;
                }
                
                int64_t index_concat_178502;
                
                if (index_concat_cmp_178506) {
                    int64_t x_180302 = ((int64_t *) mem_181152)[index_concat_i_178507];
                    
                    index_concat_178502 = x_180302;
                } else {
                    index_concat_178502 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178504;
                
                if (index_concat_cmp_178506) {
                    index_concat_branch_178504 = index_concat_178502;
                } else {
                    index_concat_branch_178504 = (int64_t) 0;
                }
                
                int64_t ubs_176923 = add64((int64_t) 1, p_176913);
                bool x_176924 = sle64((int64_t) 0, ubs_176923);
                bool y_176925 = slt64(ubs_176923, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657);
                bool bounds_check_176926 = x_176924 && y_176925;
                bool index_certs_176927;
                
                if (!bounds_check_176926) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176657, "].", "-> #0  ftsort.fut:340:19-41\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178494 = sle64((int64_t) 1, ubs_176923);
                int64_t index_concat_178496;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180303 = ((int64_t *) mem_181150)[p_176913];
                    
                    index_concat_178496 = x_180303;
                } else {
                    index_concat_178496 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178498;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178498 = index_concat_178496;
                } else {
                    index_concat_branch_178498 = (int64_t) 0;
                }
                
                int64_t index_concat_178490;
                
                if (index_concat_cmp_178494) {
                    int64_t x_180304 = ((int64_t *) mem_181152)[p_176913];
                    
                    index_concat_178490 = x_180304;
                } else {
                    index_concat_178490 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178492;
                
                if (index_concat_cmp_178494) {
                    index_concat_branch_178492 = index_concat_178490;
                } else {
                    index_concat_branch_178492 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 = sub64(index_concat_branch_178492, index_concat_branch_178504);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 = sub64(index_concat_branch_178498, index_concat_branch_178510);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t ind_bottom_176933 = add64(index_concat_branch_178504, index_concat_branch_178510);
                int64_t ind_top_176934 = add64(index_concat_branch_178492, index_concat_branch_178498);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 = sub64(ind_top_176934, ind_bottom_176933);
                bool empty_slice_176936 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 == (int64_t) 0;
                int64_t m_176937 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 1);
                int64_t i_p_m_t_s_176938 = add64(m_176937, index_concat_branch_178510);
                bool zzero_leq_i_p_m_t_s_176939 = sle64((int64_t) 0, i_p_m_t_s_176938);
                bool i_p_m_t_s_leq_w_176940 = slt64(i_p_m_t_s_176938, window_sizze_121287);
                bool zzero_lte_i_176941 = sle64((int64_t) 0, index_concat_branch_178510);
                bool i_lte_j_176942 = sle64(index_concat_branch_178510, index_concat_branch_178498);
                bool y_176943 = i_p_m_t_s_leq_w_176940 && zzero_lte_i_176941;
                bool y_176944 = zzero_leq_i_p_m_t_s_176939 && y_176943;
                bool forwards_ok_176945 = i_lte_j_176942 && y_176944;
                bool ok_or_empty_176946 = empty_slice_176936 || forwards_ok_176945;
                bool index_certs_176947;
                
                if (!ok_or_empty_176946) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178510, ":", (long long) index_concat_branch_178498, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:343:71-86\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176948 = slt64(index_concat_branch_178498, index_concat_branch_178510);
                bool valid_176949 = !bounds_invalid_upwards_176948;
                bool range_valid_c_176950;
                
                if (!valid_176949) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178510, "..<", (long long) index_concat_branch_178498, " is invalid.", "-> #0  ftsort.fut:343:52-69\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176956 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930 == (int64_t) 0;
                int64_t m_176957 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930, (int64_t) 1);
                int64_t i_p_m_t_s_176958 = add64(m_176957, index_concat_branch_178504);
                bool zzero_leq_i_p_m_t_s_176959 = sle64((int64_t) 0, i_p_m_t_s_176958);
                bool i_p_m_t_s_leq_w_176960 = slt64(i_p_m_t_s_176958, window_sizze_121287);
                bool zzero_lte_i_176961 = sle64((int64_t) 0, index_concat_branch_178504);
                bool i_lte_j_176962 = sle64(index_concat_branch_178504, index_concat_branch_178492);
                bool y_176963 = i_p_m_t_s_leq_w_176960 && zzero_lte_i_176961;
                bool y_176964 = zzero_leq_i_p_m_t_s_176959 && y_176963;
                bool forwards_ok_176965 = i_lte_j_176962 && y_176964;
                bool ok_or_empty_176966 = empty_slice_176956 || forwards_ok_176965;
                bool index_certs_176967;
                
                if (!ok_or_empty_176966) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178504, ":", (long long) index_concat_branch_178492, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:344:71-86\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176968 = slt64(index_concat_branch_178492, index_concat_branch_178504);
                bool valid_176969 = !bounds_invalid_upwards_176968;
                bool range_valid_c_176970;
                
                if (!valid_176969) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178504, "..<", (long long) index_concat_branch_178492, " is invalid.", "-> #0  ftsort.fut:344:52-69\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181186 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                int64_t bytes_181188 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool cond_176979 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zs_lhs_176980 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, (int64_t) 1);
                int64_t zp_rhs_176981 = sdiv_safe64(zs_lhs_176980, (int64_t) 20);
                int64_t min_num_blocks_176982 = add64((int64_t) 1, zp_rhs_176981);
                bool loop_cond_176983 = slt64((int64_t) 1, min_num_blocks_176982);
                bool smallest_pow_2_geq_than_res_176984;
                int64_t smallest_pow_2_geq_than_res_176985;
                bool loop_while_176986;
                int64_t x_176987;
                
                loop_while_176986 = loop_cond_176983;
                x_176987 = (int64_t) 1;
                while (loop_while_176986) {
                    int64_t loopres_176988 = mul64((int64_t) 2, x_176987);
                    bool loop_cond_176989 = slt64(loopres_176988, min_num_blocks_176982);
                    bool loop_while_tmp_182675 = loop_cond_176989;
                    int64_t x_tmp_182676 = loopres_176988;
                    
                    loop_while_176986 = loop_while_tmp_182675;
                    x_176987 = x_tmp_182676;
                }
                smallest_pow_2_geq_than_res_176984 = loop_while_176986;
                smallest_pow_2_geq_than_res_176985 = x_176987;
                
                bool zzero_176990 = smallest_pow_2_geq_than_res_176985 == (int64_t) 0;
                bool nonzzero_176991 = !zzero_176990;
                bool protect_assert_disj_176992 = cond_176979 || nonzzero_176991;
                bool nonzzero_cert_176993;
                
                if (!protect_assert_disj_176992) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176994 = sdiv_safe64(zs_lhs_176980, smallest_pow_2_geq_than_res_176985);
                int64_t block_sizze_176995 = add64((int64_t) 1, zp_rhs_176994);
                bool y_177002 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                bool protect_assert_disj_182339 = cond_176979 || y_177002;
                bool index_certs_177003;
                
                if (!protect_assert_disj_182339) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177029 = slt64(smallest_pow_2_geq_than_res_176985, (int64_t) 0);
                bool valid_177030 = !bounds_invalid_upwards_177029;
                bool protect_assert_disj_182349 = cond_176979 || valid_177030;
                bool range_valid_c_177031;
                
                if (!protect_assert_disj_182349) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176985, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_177033 = slt64(block_sizze_176995, (int64_t) 0);
                bool valid_177034 = !bounds_invalid_upwards_177033;
                bool protect_assert_disj_182351 = cond_176979 || valid_177034;
                bool range_valid_c_177035;
                
                if (!protect_assert_disj_182351) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176995, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_177037 = sle64(block_sizze_176995, (int64_t) 1);
                int64_t tmp_177038 = sub64(block_sizze_176995, (int64_t) 2);
                bool bounds_invalid_upwards_177039 = slt64(tmp_177038, (int64_t) 0);
                bool valid_177041 = !bounds_invalid_upwards_177039;
                bool protect_assert_disj_177042 = cond_177037 || valid_177041;
                bool protect_assert_disj_182353 = cond_176979 || protect_assert_disj_177042;
                bool range_valid_c_177043;
                
                if (!protect_assert_disj_182353) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177038, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177604 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932;
                bool empty_or_match_cert_177605;
                
                if (!dim_match_177604) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "](i8, i64, i16)`.", "-> #0  ftsort.fut:345:22-351:50\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177606 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935 == (int64_t) 0;
                int64_t m_177607 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177608 = sle64((int64_t) 0, m_177607);
                bool i_p_m_t_s_leq_w_177609 = slt64(m_177607, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935);
                bool y_177610 = zzero_leq_i_p_m_t_s_177608 && i_p_m_t_s_leq_w_177609;
                bool ok_or_empty_177611 = empty_slice_177606 || y_177610;
                bool index_certs_177612;
                
                if (!ok_or_empty_177611) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935, "].", "-> #0  ftsort.fut:352:59-89\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177613 = add64(ind_bottom_176933, m_177607);
                bool zzero_leq_i_p_m_t_s_177614 = sle64((int64_t) 0, i_p_m_t_s_177613);
                bool i_p_m_t_s_leq_w_177615 = slt64(i_p_m_t_s_177613, window_sizze_121287);
                bool zzero_lte_i_177616 = sle64((int64_t) 0, ind_bottom_176933);
                bool i_lte_j_177617 = sle64(ind_bottom_176933, ind_top_176934);
                bool y_177618 = i_p_m_t_s_leq_w_177615 && zzero_lte_i_177616;
                bool y_177619 = zzero_leq_i_p_m_t_s_177614 && y_177618;
                bool forwards_ok_177620 = i_lte_j_177617 && y_177619;
                bool ok_or_empty_177621 = empty_slice_177606 || forwards_ok_177620;
                bool index_certs_177622;
                
                if (!ok_or_empty_177621) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176933, ":", (long long) ind_top_176934, "] out of bounds for array of shape [", (long long) window_sizze_121287, "].", "-> #0  ftsort.fut:352:27-89\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178486 = p_175643 + index_concat_branch_178510;
                
                if (memblock_alloc(ctx, &mem_181185, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "mem_181185")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182677 = 0; nest_i_182677 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; nest_i_182677++) {
                    ((int8_t *) mem_181185.mem)[nest_i_182677] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181187, bytes_181186, "mem_181187")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182678 = 0; i_182678 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931; i_182678++) {
                    int64_t x_182679 = index_concat_branch_178510 + i_182678 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[i_182678] = x_182679;
                }
                
                int64_t slice_178485 = p_175644 + index_concat_branch_178504;
                
                for (int64_t nest_i_182680 = 0; nest_i_182680 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; nest_i_182680++) {
                    ((int8_t *) mem_181185.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + nest_i_182680] = (int8_t) 1;
                }
                for (int64_t i_182681 = 0; i_182681 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930; i_182681++) {
                    int64_t x_182682 = index_concat_branch_178504 + i_182681 * (int64_t) 1;
                    
                    ((int64_t *) mem_181187.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931 + i_182681] = x_182682;
                }
                
                int64_t tmp_offs_182683 = (int64_t) 0;
                
                if (!(tmp_offs_182683 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182683 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181185.mem, tmp_offs_182683, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181185.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182683 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t tmp_offs_182684 = (int64_t) 0;
                
                if (!(tmp_offs_182684 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                if (!(tmp_offs_182684 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181187.mem, tmp_offs_182684, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181187.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                }
                tmp_offs_182684 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                if (memblock_alloc(ctx, &mem_181189, bytes_181188, "mem_181189")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182685 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181133.mem, slice_178486, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181189.mem, tmp_offs_182685, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181134.mem, slice_178485, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930});
                tmp_offs_182685 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176930;
                
                int64_t flat_dim_176996 = smallest_pow_2_geq_than_res_176985 * block_sizze_176995;
                bool x_182334 = !cond_176979;
                int64_t greatest_divisor_leq_than_arg1_177000 = mul64((int64_t) 2, block_sizze_176995);
                int64_t merge_block_sizze_177001;
                
                if (x_182334) {
                    int64_t x_182336;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182336, (int64_t) 8, greatest_divisor_leq_than_arg1_177000) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_177001 = x_182336;
                } else {
                    merge_block_sizze_177001 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178480 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, (int64_t) 0);
                int8_t index_concat_branch_178484 = btoi_bool_i8(index_concat_cmp_178480);
                int64_t index_concat_i_180305 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                int64_t index_primexp_180306 = add64(index_concat_branch_178504, index_concat_i_180305);
                int64_t index_concat_branch_178478;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178478 = index_primexp_180306;
                } else {
                    index_concat_branch_178478 = index_concat_branch_178510;
                }
                
                bool x_182330 = !index_concat_cmp_178480;
                bool protect_cond_conj_182340 = x_182330 && x_182334;
                int16_t index_concat_178471;
                
                if (protect_cond_conj_182340) {
                    int16_t x_182332 = ((int16_t *) a_list_mem_181133.mem)[slice_178486];
                    
                    index_concat_178471 = x_182332;
                } else {
                    index_concat_178471 = (int16_t) 0;
                }
                
                int64_t slice_180308 = slice_178485 + index_concat_i_180305;
                bool protect_cond_conj_182341 = index_concat_cmp_178480 && x_182334;
                int16_t index_concat_180309;
                
                if (protect_cond_conj_182341) {
                    int16_t x_182328 = ((int16_t *) b_list_mem_181134.mem)[slice_180308];
                    
                    index_concat_180309 = x_182328;
                } else {
                    index_concat_180309 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_178472;
                
                if (index_concat_cmp_178480) {
                    index_concat_branch_178472 = index_concat_180309;
                } else {
                    index_concat_branch_178472 = index_concat_178471;
                }
                
                int8_t defunc_0_reduce_res_180540;
                int64_t defunc_0_reduce_res_180541;
                int16_t defunc_0_reduce_res_180542;
                
                if (x_182334) {
                    int8_t x_182342;
                    int64_t x_182343;
                    int16_t x_182344;
                    int8_t redout_180886;
                    int64_t redout_180887;
                    int16_t redout_180888;
                    
                    redout_180886 = index_concat_branch_178484;
                    redout_180887 = index_concat_branch_178478;
                    redout_180888 = index_concat_branch_178472;
                    for (int64_t i_180889 = 0; i_180889 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932; i_180889++) {
                        bool index_concat_cmp_181093 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, i_180889);
                        int8_t index_concat_branch_181097 = btoi_bool_i8(index_concat_cmp_181093);
                        int64_t index_concat_branch_181091;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181088 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t index_primexp_181115 = add64(index_concat_branch_178504, index_concat_i_181088);
                            
                            index_concat_branch_181091 = index_primexp_181115;
                        } else {
                            int64_t index_primexp_181117 = add64(index_concat_branch_178510, i_180889);
                            
                            index_concat_branch_181091 = index_primexp_181117;
                        }
                        
                        int16_t index_concat_branch_181085;
                        
                        if (index_concat_cmp_181093) {
                            int64_t index_concat_i_181082 = sub64(i_180889, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                            int64_t slice_181112 = slice_178485 + index_concat_i_181082;
                            int16_t index_concat_181083 = ((int16_t *) b_list_mem_181134.mem)[slice_181112];
                            
                            index_concat_branch_181085 = index_concat_181083;
                        } else {
                            int64_t slice_181113 = slice_178486 + i_180889;
                            int16_t index_concat_181084 = ((int16_t *) a_list_mem_181133.mem)[slice_181113];
                            
                            index_concat_branch_181085 = index_concat_181084;
                        }
                        
                        bool eq_x_y_181128 = redout_180886 == (int8_t) 1;
                        bool eq_x_zz_181129 = redout_180886 == (int8_t) 0;
                        bool p_and_eq_x_y_181130 = index_concat_cmp_181093 && eq_x_y_181128;
                        bool not_p_181131 = !index_concat_cmp_181093;
                        bool p_and_eq_x_y_181132 = eq_x_zz_181129 && not_p_181131;
                        bool cond_177019 = p_and_eq_x_y_181130 || p_and_eq_x_y_181132;
                        bool defunc_0_leq_res_t_res_177020 = sle64(redout_180887, index_concat_branch_181091);
                        bool defunc_0_leq_res_177021 = sle16(redout_180888, index_concat_branch_181085);
                        bool x_177022 = cond_177019 && defunc_0_leq_res_t_res_177020;
                        bool x_177023 = !cond_177019;
                        bool y_177024 = defunc_0_leq_res_177021 && x_177023;
                        bool defunc_0_leq_res_177025 = x_177022 || y_177024;
                        int8_t defunc_0_op_res_177026;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177026 = index_concat_branch_181097;
                        } else {
                            defunc_0_op_res_177026 = redout_180886;
                        }
                        
                        int64_t defunc_0_op_res_177027;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177027 = index_concat_branch_181091;
                        } else {
                            defunc_0_op_res_177027 = redout_180887;
                        }
                        
                        int16_t defunc_0_op_res_177028;
                        
                        if (defunc_0_leq_res_177025) {
                            defunc_0_op_res_177028 = index_concat_branch_181085;
                        } else {
                            defunc_0_op_res_177028 = redout_180888;
                        }
                        
                        int8_t redout_tmp_182686 = defunc_0_op_res_177026;
                        int64_t redout_tmp_182687 = defunc_0_op_res_177027;
                        int16_t redout_tmp_182688 = defunc_0_op_res_177028;
                        
                        redout_180886 = redout_tmp_182686;
                        redout_180887 = redout_tmp_182687;
                        redout_180888 = redout_tmp_182688;
                    }
                    x_182342 = redout_180886;
                    x_182343 = redout_180887;
                    x_182344 = redout_180888;
                    defunc_0_reduce_res_180540 = x_182342;
                    defunc_0_reduce_res_180541 = x_182343;
                    defunc_0_reduce_res_180542 = x_182344;
                } else {
                    defunc_0_reduce_res_180540 = (int8_t) 0;
                    defunc_0_reduce_res_180541 = (int64_t) 0;
                    defunc_0_reduce_res_180542 = (int16_t) 0;
                }
                
                int64_t distance_177040 = add64((int64_t) 1, tmp_177038);
                int64_t binop_x_181192 = (int64_t) 8 * smallest_pow_2_geq_than_res_176985;
                int64_t bytes_181193 = block_sizze_176995 * binop_x_181192;
                int64_t binop_x_181195 = (int64_t) 2 * smallest_pow_2_geq_than_res_176985;
                int64_t bytes_181196 = block_sizze_176995 * binop_x_181195;
                int64_t bytes_181211 = (int64_t) 8 * block_sizze_176995;
                bool loop_cond_177149 = slt64(block_sizze_176995, flat_dim_176996);
                bool zzero_177150 = merge_block_sizze_177001 == (int64_t) 0;
                bool nonzzero_177151 = !zzero_177150;
                
                if (cond_176979) {
                    if (memblock_set(ctx, &ext_mem_181484, &mem_181185, "mem_181185") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &mem_181187, "mem_181187") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &mem_181189, "mem_181189") != 0)
                        return 1;
                } else {
                    if (mem_181191_cached_sizze_183093 < flat_dim_176996) {
                        err = lexical_realloc(ctx, &mem_181191, &mem_181191_cached_sizze_183093, flat_dim_176996);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181194_cached_sizze_183094 < bytes_181193) {
                        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_183094, bytes_181193);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181197_cached_sizze_183095 < bytes_181196) {
                        err = lexical_realloc(ctx, &mem_181197, &mem_181197_cached_sizze_183095, bytes_181196);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181210_cached_sizze_183096 < block_sizze_176995) {
                        err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_183096, block_sizze_176995);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181212_cached_sizze_183097 < bytes_181211) {
                        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_183097, bytes_181211);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181214_cached_sizze_183098 < greatest_divisor_leq_than_arg1_177000) {
                        err = lexical_realloc(ctx, &mem_181214, &mem_181214_cached_sizze_183098, greatest_divisor_leq_than_arg1_177000);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180906 = 0; i_180906 < smallest_pow_2_geq_than_res_176985; i_180906++) {
                        int64_t zp_lhs_177048 = mul64(block_sizze_176995, i_180906);
                        
                        for (int64_t i_180896 = 0; i_180896 < block_sizze_176995; i_180896++) {
                            int64_t k_177053 = add64(zp_lhs_177048, i_180896);
                            bool cond_177054 = slt64(k_177053, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932);
                            int8_t lifted_lambda_res_177055;
                            int64_t lifted_lambda_res_177056;
                            int16_t lifted_lambda_res_177057;
                            
                            if (cond_177054) {
                                bool x_180315 = sle64((int64_t) 0, k_177053);
                                bool bounds_check_180316 = cond_177054 && x_180315;
                                bool index_certs_180317;
                                
                                if (!bounds_check_180316) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177053, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180318 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931, k_177053);
                                int8_t index_concat_branch_180319 = btoi_bool_i8(index_concat_cmp_180318);
                                int64_t index_concat_branch_180320;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180321 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t index_primexp_180322 = add64(index_concat_branch_178504, index_concat_i_180321);
                                    
                                    index_concat_branch_180320 = index_primexp_180322;
                                } else {
                                    int64_t index_primexp_180323 = add64(k_177053, index_concat_branch_178510);
                                    
                                    index_concat_branch_180320 = index_primexp_180323;
                                }
                                
                                int16_t index_concat_branch_180324;
                                
                                if (index_concat_cmp_180318) {
                                    int64_t index_concat_i_180325 = sub64(k_177053, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176931);
                                    int64_t slice_180326 = slice_178485 + index_concat_i_180325;
                                    int16_t index_concat_180327 = ((int16_t *) b_list_mem_181134.mem)[slice_180326];
                                    
                                    index_concat_branch_180324 = index_concat_180327;
                                } else {
                                    int64_t slice_180328 = k_177053 + slice_178486;
                                    int16_t index_concat_180329 = ((int16_t *) a_list_mem_181133.mem)[slice_180328];
                                    
                                    index_concat_branch_180324 = index_concat_180329;
                                }
                                lifted_lambda_res_177055 = index_concat_branch_180319;
                                lifted_lambda_res_177056 = index_concat_branch_180320;
                                lifted_lambda_res_177057 = index_concat_branch_180324;
                            } else {
                                lifted_lambda_res_177055 = defunc_0_reduce_res_180540;
                                lifted_lambda_res_177056 = defunc_0_reduce_res_180541;
                                lifted_lambda_res_177057 = defunc_0_reduce_res_180542;
                            }
                            ((int8_t *) mem_181210)[i_180896] = lifted_lambda_res_177055;
                            ((int64_t *) mem_181212)[i_180896] = lifted_lambda_res_177056;
                            ((int16_t *) mem_181214)[i_180896] = lifted_lambda_res_177057;
                        }
                        if (!cond_177037) {
                            for (int64_t i_177070 = 0; i_177070 < distance_177040; i_177070++) {
                                int64_t gt_arg1_177074 = add64((int64_t) 1, i_177070);
                                bool x_177075 = sle64((int64_t) 0, gt_arg1_177074);
                                bool y_177076 = slt64(gt_arg1_177074, block_sizze_176995);
                                bool bounds_check_177077 = x_177075 && y_177076;
                                bool index_certs_177078;
                                
                                if (!bounds_check_177077) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177074, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_177082 = slt64(i_177070, block_sizze_176995);
                                bool index_certs_177083;
                                
                                if (!y_177082) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177070, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_177079 = ((int8_t *) mem_181210)[gt_arg1_177074];
                                int64_t gt_arg1_177080 = ((int64_t *) mem_181212)[gt_arg1_177074];
                                int16_t gt_arg1_177081 = ((int16_t *) mem_181214)[gt_arg1_177074];
                                int8_t gt_arg0_177084 = ((int8_t *) mem_181210)[i_177070];
                                int64_t gt_arg0_177085 = ((int64_t *) mem_181212)[i_177070];
                                int16_t gt_arg0_177086 = ((int16_t *) mem_181214)[i_177070];
                                bool cond_177087 = gt_arg0_177084 == gt_arg1_177079;
                                bool defunc_0_leq_res_t_res_177088 = sle64(gt_arg0_177085, gt_arg1_177080);
                                bool defunc_0_leq_res_177089 = sle16(gt_arg0_177086, gt_arg1_177081);
                                bool x_177090 = cond_177087 && defunc_0_leq_res_t_res_177088;
                                bool x_177091 = !cond_177087;
                                bool y_177092 = defunc_0_leq_res_177089 && x_177091;
                                bool defunc_0_leq_res_177093 = x_177090 || y_177092;
                                bool defunc_0_lifted_gt_res_177094 = !defunc_0_leq_res_177093;
                                bool s_177095;
                                int64_t s_177099;
                                bool loop_while_177100;
                                int64_t j_177104;
                                
                                loop_while_177100 = defunc_0_lifted_gt_res_177094;
                                j_177104 = i_177070;
                                while (loop_while_177100) {
                                    bool x_177105 = sle64((int64_t) 0, j_177104);
                                    bool y_177106 = slt64(j_177104, block_sizze_176995);
                                    bool bounds_check_177107 = x_177105 && y_177106;
                                    bool index_certs_177108;
                                    
                                    if (!bounds_check_177107) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177104, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177112 = add64((int64_t) 1, j_177104);
                                    bool x_177113 = sle64((int64_t) 0, copy_arg0_177112);
                                    bool y_177114 = slt64(copy_arg0_177112, block_sizze_176995);
                                    bool bounds_check_177115 = x_177113 && y_177114;
                                    bool index_certs_177116;
                                    
                                    if (!bounds_check_177115) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177112, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177109 = ((int8_t *) mem_181210)[j_177104];
                                    int64_t copy_arg0_177110 = ((int64_t *) mem_181212)[j_177104];
                                    int16_t copy_arg0_177111 = ((int16_t *) mem_181214)[j_177104];
                                    int8_t copy_arg0_177117 = ((int8_t *) mem_181210)[copy_arg0_177112];
                                    int64_t copy_arg0_177118 = ((int64_t *) mem_181212)[copy_arg0_177112];
                                    int16_t copy_arg0_177119 = ((int16_t *) mem_181214)[copy_arg0_177112];
                                    
                                    ((int8_t *) mem_181210)[j_177104] = copy_arg0_177117;
                                    ((int64_t *) mem_181212)[j_177104] = copy_arg0_177118;
                                    ((int16_t *) mem_181214)[j_177104] = copy_arg0_177119;
                                    ((int8_t *) mem_181210)[copy_arg0_177112] = copy_arg0_177109;
                                    ((int64_t *) mem_181212)[copy_arg0_177112] = copy_arg0_177110;
                                    ((int16_t *) mem_181214)[copy_arg0_177112] = copy_arg0_177111;
                                    
                                    int64_t tmp_177126 = sub64(j_177104, (int64_t) 1);
                                    bool cond_177127 = sle64((int64_t) 0, tmp_177126);
                                    bool loop_cond_177128;
                                    
                                    if (cond_177127) {
                                        bool y_180333 = slt64(tmp_177126, block_sizze_176995);
                                        bool bounds_check_180334 = cond_177127 && y_180333;
                                        bool index_certs_180335;
                                        
                                        if (!bounds_check_180334) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177126, "] out of bounds for array of shape [", (long long) block_sizze_176995, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180330 = ((int8_t *) mem_181210)[j_177104];
                                        int64_t gt_arg1_180331 = ((int64_t *) mem_181212)[j_177104];
                                        int16_t gt_arg1_180332 = ((int16_t *) mem_181214)[j_177104];
                                        int8_t gt_arg0_180336 = ((int8_t *) mem_181210)[tmp_177126];
                                        int64_t gt_arg0_180337 = ((int64_t *) mem_181212)[tmp_177126];
                                        int16_t gt_arg0_180338 = ((int16_t *) mem_181214)[tmp_177126];
                                        bool cond_180339 = gt_arg0_180336 == gt_arg1_180330;
                                        bool defunc_0_leq_res_t_res_180340 = sle64(gt_arg0_180337, gt_arg1_180331);
                                        bool defunc_0_leq_res_180341 = sle16(gt_arg0_180338, gt_arg1_180332);
                                        bool x_180342 = cond_180339 && defunc_0_leq_res_t_res_180340;
                                        bool x_180343 = !cond_180339;
                                        bool y_180344 = defunc_0_leq_res_180341 && x_180343;
                                        bool defunc_0_leq_res_180345 = x_180342 || y_180344;
                                        bool defunc_0_lifted_gt_res_180346 = !defunc_0_leq_res_180345;
                                        
                                        loop_cond_177128 = defunc_0_lifted_gt_res_180346;
                                    } else {
                                        loop_cond_177128 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182698 = loop_cond_177128;
                                    int64_t j_tmp_182702 = tmp_177126;
                                    
                                    loop_while_177100 = loop_while_tmp_182698;
                                    j_177104 = j_tmp_182702;
                                }
                                s_177095 = loop_while_177100;
                                s_177099 = j_177104;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181191, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181194, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181212, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181197, i_180906 * block_sizze_176995, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181214, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176995});
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_176996, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint8_t *) mem_181191, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181193, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181196, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (uint16_t *) mem_181197, (int64_t) 0, (int64_t []) {block_sizze_176995, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176985, block_sizze_176995});
                    
                    int64_t data_177152;
                    bool data_177153;
                    int64_t data_177157;
                    int64_t loop_dz2084Uz2082U_177158;
                    bool loop_while_177159;
                    int64_t stride_177163;
                    
                    if (memblock_set(ctx, &mem_param_181303, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181306, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181309, &mem_181299, "mem_181299") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177158 = flat_dim_176996;
                    loop_while_177159 = loop_cond_177149;
                    stride_177163 = block_sizze_176995;
                    while (loop_while_177159) {
                        int64_t next_stride_177164 = mul64((int64_t) 2, stride_177163);
                        bool zzero_177165 = next_stride_177164 == (int64_t) 0;
                        bool nonzzero_177166 = !zzero_177165;
                        bool nonzzero_cert_177167;
                        
                        if (!nonzzero_177166) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177168 = sdiv64(flat_dim_176996, next_stride_177164);
                        bool bounds_invalid_upwards_177169 = slt64(num_merges_177168, (int64_t) 0);
                        bool valid_177170 = !bounds_invalid_upwards_177169;
                        bool range_valid_c_177171;
                        
                        if (!valid_177170) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177173 = sub64(next_stride_177164, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177174 = sle64((int64_t) 0, m_177173);
                        bool cond_177176 = slt64(next_stride_177164, (int64_t) 10);
                        bool protect_assert_disj_177177 = nonzzero_177151 || cond_177176;
                        bool nonzzero_cert_177178;
                        
                        if (!protect_assert_disj_177177) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177179 = smod_safe64(next_stride_177164, merge_block_sizze_177001);
                        bool num_blocks_177180 = zeze_lhs_177179 == (int64_t) 0;
                        bool protect_assert_disj_177181 = cond_177176 || num_blocks_177180;
                        bool assert_c_177182;
                        
                        if (!protect_assert_disj_177181) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177184 = sdiv_safe64(next_stride_177164, merge_block_sizze_177001);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185 = add64((int64_t) 1, num_blocks_177184);
                        int64_t j_m_i_177186 = sub64(next_stride_177164, stride_177163);
                        int64_t flat_dim_177187 = merge_block_sizze_177001 * num_blocks_177184;
                        bool bounds_invalid_upwards_177188 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, (int64_t) 0);
                        bool empty_slice_177189 = j_m_i_177186 == (int64_t) 0;
                        int64_t m_177190 = sub64(j_m_i_177186, (int64_t) 1);
                        bool zzero_lte_i_177191 = sle64((int64_t) 0, stride_177163);
                        bool i_lte_j_177192 = sle64(stride_177163, next_stride_177164);
                        bool empty_slice_177193 = stride_177163 == (int64_t) 0;
                        int64_t m_177194 = sub64(stride_177163, (int64_t) 1);
                        bool bounds_invalid_upwards_177195 = slt64(num_blocks_177184, (int64_t) 0);
                        bool cond_177196 = slt64((int64_t) 0, stride_177163);
                        bool valid_177197 = !bounds_invalid_upwards_177188;
                        int64_t i_p_m_t_s_177198 = add64(stride_177163, m_177190);
                        bool zzero_leq_i_p_m_t_s_177199 = sle64((int64_t) 0, m_177194);
                        bool i_p_m_t_s_leq_w_177200 = slt64(m_177194, next_stride_177164);
                        bool valid_177201 = !bounds_invalid_upwards_177195;
                        bool i_p_m_t_s_leq_w_177202 = slt64(m_177173, flat_dim_177187);
                        bool y_177203 = slt64((int64_t) 0, j_m_i_177186);
                        bool protect_assert_disj_177204 = cond_177176 || valid_177197;
                        bool range_valid_c_177205;
                        
                        if (!protect_assert_disj_177204) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177206 = sle64((int64_t) 0, i_p_m_t_s_177198);
                        bool i_p_m_t_s_leq_w_177207 = slt64(i_p_m_t_s_177198, next_stride_177164);
                        bool y_177208 = zzero_leq_i_p_m_t_s_177199 && i_p_m_t_s_leq_w_177200;
                        bool protect_assert_disj_177209 = cond_177176 || valid_177201;
                        bool range_valid_c_177210;
                        
                        if (!protect_assert_disj_177209) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177184, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177211 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177202;
                        bool y_177212 = zzero_lte_i_177191 && i_p_m_t_s_leq_w_177207;
                        bool forwards_ok_177213 = zzero_lte_i_177191 && y_177208;
                        bool ok_or_empty_177214 = zzero_177165 || y_177211;
                        bool protect_assert_disj_177215 = cond_177196 || y_177203;
                        bool y_177216 = zzero_leq_i_p_m_t_s_177206 && y_177212;
                        bool ok_or_empty_177217 = empty_slice_177193 || forwards_ok_177213;
                        bool protect_assert_disj_177218 = cond_177176 || ok_or_empty_177214;
                        bool index_certs_177219;
                        
                        if (!protect_assert_disj_177218) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) flat_dim_177187, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177220 = !cond_177176;
                        bool protect_assert_disj_177221 = protect_assert_disj_177215 || loop_not_taken_177220;
                        bool index_certs_177222;
                        
                        if (!protect_assert_disj_177221) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177223 = i_lte_j_177192 && y_177216;
                        bool protect_assert_disj_177224 = cond_177176 || ok_or_empty_177217;
                        bool index_certs_177225;
                        
                        if (!protect_assert_disj_177224) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177226 = ok_or_empty_177217 || loop_not_taken_177220;
                        bool index_certs_177227;
                        
                        if (!protect_assert_disj_177226) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177163, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177228 = empty_slice_177189 || forwards_ok_177223;
                        bool protect_assert_disj_177229 = cond_177176 || ok_or_empty_177228;
                        bool index_certs_177230;
                        
                        if (!protect_assert_disj_177229) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177231 = loop_not_taken_177220 || ok_or_empty_177228;
                        bool index_certs_177232;
                        
                        if (!protect_assert_disj_177231) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177163, ":] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181310 = next_stride_177164 * num_merges_177168;
                        int64_t binop_x_181312 = (int64_t) 8 * num_merges_177168;
                        int64_t bytes_181313 = next_stride_177164 * binop_x_181312;
                        int64_t binop_x_181315 = (int64_t) 2 * num_merges_177168;
                        int64_t bytes_181316 = next_stride_177164 * binop_x_181315;
                        bool i_lte_j_177175 = sle64((int64_t) 0, next_stride_177164);
                        
                        if (mem_181311_cached_sizze_183099 < bytes_181310) {
                            err = lexical_realloc(ctx, &mem_181311, &mem_181311_cached_sizze_183099, bytes_181310);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181314_cached_sizze_183100 < bytes_181313) {
                            err = lexical_realloc(ctx, &mem_181314, &mem_181314_cached_sizze_183100, bytes_181313);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181317_cached_sizze_183101 < bytes_181316) {
                            err = lexical_realloc(ctx, &mem_181317, &mem_181317_cached_sizze_183101, bytes_181316);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181330 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185;
                        int64_t binop_x_181348 = (int64_t) 8 * num_blocks_177184;
                        int64_t bytes_181349 = merge_block_sizze_177001 * binop_x_181348;
                        int64_t binop_x_181351 = (int64_t) 2 * num_blocks_177184;
                        int64_t bytes_181352 = merge_block_sizze_177001 * binop_x_181351;
                        int64_t bytes_181413 = (int64_t) 16 * stride_177163;
                        int64_t bytes_181415 = (int64_t) 4 * stride_177163;
                        
                        for (int64_t i_180933 = 0; i_180933 < num_merges_177168; i_180933++) {
                            int64_t start_177237 = mul64(next_stride_177164, i_180933);
                            int64_t j_m_i_177238 = sub64(loop_dz2084Uz2082U_177158, start_177237);
                            bool empty_slice_177239 = j_m_i_177238 == (int64_t) 0;
                            int64_t m_177240 = sub64(j_m_i_177238, (int64_t) 1);
                            int64_t i_p_m_t_s_177241 = add64(start_177237, m_177240);
                            bool zzero_leq_i_p_m_t_s_177242 = sle64((int64_t) 0, i_p_m_t_s_177241);
                            bool i_p_m_t_s_leq_w_177243 = slt64(i_p_m_t_s_177241, loop_dz2084Uz2082U_177158);
                            bool zzero_lte_i_177244 = sle64((int64_t) 0, start_177237);
                            bool i_lte_j_177245 = sle64(start_177237, loop_dz2084Uz2082U_177158);
                            bool y_177246 = i_p_m_t_s_leq_w_177243 && zzero_lte_i_177244;
                            bool y_177247 = zzero_leq_i_p_m_t_s_177242 && y_177246;
                            bool forwards_ok_177248 = i_lte_j_177245 && y_177247;
                            bool ok_or_empty_177249 = empty_slice_177239 || forwards_ok_177248;
                            bool index_certs_177250;
                            
                            if (!ok_or_empty_177249) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177237, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177158, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177251 = slt64(m_177173, j_m_i_177238);
                            bool y_177252 = zzero_leq_i_p_m_t_s_177174 && i_p_m_t_s_leq_w_177251;
                            bool forwards_ok_177253 = i_lte_j_177175 && y_177252;
                            bool ok_or_empty_177254 = zzero_177165 || forwards_ok_177253;
                            bool index_certs_177255;
                            
                            if (!ok_or_empty_177254) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177164, "] out of bounds for array of shape [", (long long) j_m_i_177238, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177176) {
                                int8_t dummy_180385;
                                int64_t dummy_180386;
                                int16_t dummy_180387;
                                
                                if (cond_177196) {
                                    int8_t head_res_180388 = ((int8_t *) mem_param_181303.mem)[start_177237];
                                    int64_t head_res_180389 = ((int64_t *) mem_param_181306.mem)[start_177237];
                                    int16_t head_res_180390 = ((int16_t *) mem_param_181309.mem)[start_177237];
                                    
                                    dummy_180385 = head_res_180388;
                                    dummy_180386 = head_res_180389;
                                    dummy_180387 = head_res_180390;
                                } else {
                                    int64_t slice_180391 = stride_177163 + start_177237;
                                    int8_t head_res_180392 = ((int8_t *) mem_param_181303.mem)[slice_180391];
                                    int64_t head_res_180393 = ((int64_t *) mem_param_181306.mem)[slice_180391];
                                    int16_t head_res_180394 = ((int16_t *) mem_param_181309.mem)[slice_180391];
                                    
                                    dummy_180385 = head_res_180392;
                                    dummy_180386 = head_res_180393;
                                    dummy_180387 = head_res_180394;
                                }
                                if (memblock_alloc(ctx, &mem_181412, next_stride_177164, "mem_181412")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182715 = 0; nest_i_182715 < next_stride_177164; nest_i_182715++) {
                                    ((int8_t *) mem_181412.mem)[nest_i_182715] = dummy_180385;
                                }
                                if (memblock_alloc(ctx, &mem_181414, bytes_181413, "mem_181414")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182716 = 0; nest_i_182716 < next_stride_177164; nest_i_182716++) {
                                    ((int64_t *) mem_181414.mem)[nest_i_182716] = dummy_180386;
                                }
                                if (memblock_alloc(ctx, &mem_181416, bytes_181415, "mem_181416")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182717 = 0; nest_i_182717 < next_stride_177164; nest_i_182717++) {
                                    ((int16_t *) mem_181416.mem)[nest_i_182717] = dummy_180387;
                                }
                                
                                int64_t data_180398;
                                int64_t i_180403 = (int64_t) 0;
                                
                                for (int64_t k_180402 = 0; k_180402 < next_stride_177164; k_180402++) {
                                    int64_t j_180407 = sub64(k_180402, i_180403);
                                    bool cond_180408 = j_180407 == j_m_i_177186;
                                    bool cond_180409;
                                    
                                    if (cond_180408) {
                                        cond_180409 = 1;
                                    } else {
                                        bool cond_180410 = slt64(i_180403, stride_177163);
                                        bool cond_f_res_180411;
                                        
                                        if (cond_180410) {
                                            bool x_180412 = sle64((int64_t) 0, j_180407);
                                            bool y_180413 = slt64(j_180407, j_m_i_177186);
                                            bool bounds_check_180414 = x_180412 && y_180413;
                                            bool index_certs_180415;
                                            
                                            if (!bounds_check_180414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180421 = sle64((int64_t) 0, i_180403);
                                            bool bounds_check_180422 = cond_180410 && x_180421;
                                            bool index_certs_180423;
                                            
                                            if (!bounds_check_180422) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180416 = stride_177163 + j_180407;
                                            int64_t slice_180417 = start_177237 + slice_180416;
                                            int8_t leq_arg1_180418 = ((int8_t *) mem_param_181303.mem)[slice_180417];
                                            int64_t leq_arg1_180419 = ((int64_t *) mem_param_181306.mem)[slice_180417];
                                            int16_t leq_arg1_180420 = ((int16_t *) mem_param_181309.mem)[slice_180417];
                                            int64_t slice_180424 = start_177237 + i_180403;
                                            int8_t leq_arg0_180425 = ((int8_t *) mem_param_181303.mem)[slice_180424];
                                            int64_t leq_arg0_180426 = ((int64_t *) mem_param_181306.mem)[slice_180424];
                                            int16_t leq_arg0_180427 = ((int16_t *) mem_param_181309.mem)[slice_180424];
                                            bool cond_180428 = leq_arg0_180425 == leq_arg1_180418;
                                            bool defunc_0_leq_res_t_res_180429 = sle64(leq_arg0_180426, leq_arg1_180419);
                                            bool defunc_0_leq_res_180430 = sle16(leq_arg0_180427, leq_arg1_180420);
                                            bool x_180431 = cond_180428 && defunc_0_leq_res_t_res_180429;
                                            bool x_180432 = !cond_180428;
                                            bool y_180433 = defunc_0_leq_res_180430 && x_180432;
                                            bool defunc_0_leq_res_180434 = x_180431 || y_180433;
                                            
                                            cond_f_res_180411 = defunc_0_leq_res_180434;
                                        } else {
                                            cond_f_res_180411 = 0;
                                        }
                                        cond_180409 = cond_f_res_180411;
                                    }
                                    
                                    int64_t loopres_180435;
                                    int8_t loopres_180436;
                                    int64_t loopres_180437;
                                    int16_t loopres_180438;
                                    
                                    if (cond_180409) {
                                        bool x_180440 = sle64((int64_t) 0, i_180403);
                                        bool y_180441 = slt64(i_180403, stride_177163);
                                        bool bounds_check_180442 = x_180440 && y_180441;
                                        bool index_certs_180443;
                                        
                                        if (!bounds_check_180442) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180403, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180439 = add64((int64_t) 1, i_180403);
                                        int64_t slice_180444 = start_177237 + i_180403;
                                        int8_t tmp_180445 = ((int8_t *) mem_param_181303.mem)[slice_180444];
                                        int64_t tmp_180446 = ((int64_t *) mem_param_181306.mem)[slice_180444];
                                        int16_t tmp_180447 = ((int16_t *) mem_param_181309.mem)[slice_180444];
                                        
                                        loopres_180435 = tmp_180439;
                                        loopres_180436 = tmp_180445;
                                        loopres_180437 = tmp_180446;
                                        loopres_180438 = tmp_180447;
                                    } else {
                                        bool x_180448 = sle64((int64_t) 0, j_180407);
                                        bool y_180449 = slt64(j_180407, j_m_i_177186);
                                        bool bounds_check_180450 = x_180448 && y_180449;
                                        bool index_certs_180451;
                                        
                                        if (!bounds_check_180450) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180407, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180452 = stride_177163 + j_180407;
                                        int64_t slice_180453 = start_177237 + slice_180452;
                                        int8_t tmp_180454 = ((int8_t *) mem_param_181303.mem)[slice_180453];
                                        int64_t tmp_180455 = ((int64_t *) mem_param_181306.mem)[slice_180453];
                                        int16_t tmp_180456 = ((int16_t *) mem_param_181309.mem)[slice_180453];
                                        
                                        loopres_180435 = i_180403;
                                        loopres_180436 = tmp_180454;
                                        loopres_180437 = tmp_180455;
                                        loopres_180438 = tmp_180456;
                                    }
                                    ((int8_t *) mem_181412.mem)[k_180402] = loopres_180436;
                                    ((int64_t *) mem_181414.mem)[k_180402] = loopres_180437;
                                    ((int16_t *) mem_181416.mem)[k_180402] = loopres_180438;
                                    
                                    int64_t i_tmp_182718 = loopres_180435;
                                    
                                    i_180403 = i_tmp_182718;
                                }
                                data_180398 = i_180403;
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181412, "mem_181412") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181414, "mem_181414") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181416, "mem_181416") != 0)
                                    return 1;
                            } else {
                                if (mem_181331_cached_sizze_183102 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181331, &mem_181331_cached_sizze_183102, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181333_cached_sizze_183103 < bytes_181330) {
                                    err = lexical_realloc(ctx, &mem_181333, &mem_181333_cached_sizze_183103, bytes_181330);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180914 = 0; i_180914 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185; i_180914++) {
                                    int64_t split_count_arg3_177338 = mul64(merge_block_sizze_177001, i_180914);
                                    int64_t defunc_0_split_count_res_177339;
                                    int64_t defunc_0_split_count_res_177340;
                                    int64_t defunc_0_split_count_res_177341;
                                    int64_t defunc_0_split_count_res_177342;
                                    int64_t defunc_0_split_count_res_177343;
                                    
                                    if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_177339, &defunc_0_split_count_res_177340, &defunc_0_split_count_res_177341, &defunc_0_split_count_res_177342, &defunc_0_split_count_res_177343, (int64_t) 0, stride_177163, (int64_t) 0, j_m_i_177186, split_count_arg3_177338) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177344 = slt64((int64_t) 0, defunc_0_split_count_res_177343);
                                    bool defunc_0_split_count_res_177345;
                                    int64_t defunc_0_split_count_res_177346;
                                    int64_t defunc_0_split_count_res_177347;
                                    int64_t defunc_0_split_count_res_177348;
                                    int64_t defunc_0_split_count_res_177349;
                                    int64_t defunc_0_split_count_res_177350;
                                    bool loop_while_177351;
                                    int64_t ss_177352;
                                    int64_t ss_177353;
                                    int64_t tt_177354;
                                    int64_t tt_177355;
                                    int64_t count_177356;
                                    
                                    loop_while_177351 = loop_cond_177344;
                                    ss_177352 = defunc_0_split_count_res_177339;
                                    ss_177353 = defunc_0_split_count_res_177340;
                                    tt_177354 = defunc_0_split_count_res_177341;
                                    tt_177355 = defunc_0_split_count_res_177342;
                                    count_177356 = defunc_0_split_count_res_177343;
                                    while (loop_while_177351) {
                                        int64_t zlze_lhs_177357 = sub64(ss_177353, ss_177352);
                                        bool cond_177358 = sle64(zlze_lhs_177357, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177359;
                                        int64_t defunc_0_lifted_step_res_177360;
                                        int64_t defunc_0_lifted_step_res_177361;
                                        int64_t defunc_0_lifted_step_res_177362;
                                        
                                        if (cond_177358) {
                                            int64_t tmp_180460 = add64(tt_177354, count_177356);
                                            
                                            defunc_0_lifted_step_res_177359 = ss_177352;
                                            defunc_0_lifted_step_res_177360 = tmp_180460;
                                            defunc_0_lifted_step_res_177361 = tt_177355;
                                            defunc_0_lifted_step_res_177362 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177364 = sub64(tt_177355, tt_177354);
                                            bool cond_177365 = sle64(zlze_lhs_177364, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177366;
                                            int64_t defunc_0_lifted_step_res_f_res_177367;
                                            int64_t defunc_0_lifted_step_res_f_res_177368;
                                            int64_t defunc_0_lifted_step_res_f_res_177369;
                                            
                                            if (cond_177365) {
                                                int64_t tmp_180461 = add64(ss_177352, count_177356);
                                                
                                                defunc_0_lifted_step_res_f_res_177366 = tmp_180461;
                                                defunc_0_lifted_step_res_f_res_177367 = tt_177354;
                                                defunc_0_lifted_step_res_f_res_177368 = tt_177355;
                                                defunc_0_lifted_step_res_f_res_177369 = (int64_t) 0;
                                            } else {
                                                bool cond_177371 = count_177356 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177372;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177373;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177374;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177375;
                                                
                                                if (cond_177371) {
                                                    bool x_180463 = sle64((int64_t) 0, ss_177352);
                                                    bool y_180464 = slt64(ss_177352, stride_177163);
                                                    bool bounds_check_180465 = x_180463 && y_180464;
                                                    bool index_certs_180466;
                                                    
                                                    if (!bounds_check_180465) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177352, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180471 = sle64((int64_t) 0, tt_177354);
                                                    bool y_180472 = slt64(tt_177354, j_m_i_177186);
                                                    bool bounds_check_180473 = x_180471 && y_180472;
                                                    bool index_certs_180474;
                                                    
                                                    if (!bounds_check_180473) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177354, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180467 = start_177237 + ss_177352;
                                                    int8_t leq_arg1_180468 = ((int8_t *) mem_param_181303.mem)[slice_180467];
                                                    int64_t leq_arg1_180469 = ((int64_t *) mem_param_181306.mem)[slice_180467];
                                                    int16_t leq_arg1_180470 = ((int16_t *) mem_param_181309.mem)[slice_180467];
                                                    int64_t slice_180475 = stride_177163 + tt_177354;
                                                    int64_t slice_180476 = start_177237 + slice_180475;
                                                    int8_t leq_arg0_180477 = ((int8_t *) mem_param_181303.mem)[slice_180476];
                                                    int64_t leq_arg0_180478 = ((int64_t *) mem_param_181306.mem)[slice_180476];
                                                    int16_t leq_arg0_180479 = ((int16_t *) mem_param_181309.mem)[slice_180476];
                                                    bool cond_180480 = leq_arg0_180477 == leq_arg1_180468;
                                                    bool defunc_0_leq_res_t_res_180481 = sle64(leq_arg0_180478, leq_arg1_180469);
                                                    bool defunc_0_leq_res_180482 = sle16(leq_arg0_180479, leq_arg1_180470);
                                                    bool x_180483 = cond_180480 && defunc_0_leq_res_t_res_180481;
                                                    bool x_180484 = !cond_180480;
                                                    bool y_180485 = defunc_0_leq_res_180482 && x_180484;
                                                    bool defunc_0_leq_res_180486 = x_180483 || y_180485;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    
                                                    if (defunc_0_leq_res_180486) {
                                                        int64_t tmp_180489 = add64((int64_t) 1, tt_177354);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = ss_177352;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tmp_180489;
                                                    } else {
                                                        int64_t tmp_180490 = add64((int64_t) 1, ss_177352);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180487 = tmp_180490;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180488 = tt_177354;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = defunc_0_lifted_step_res_f_res_f_res_t_res_180487;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_t_res_180488;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = tt_177355;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177404 = sdiv64(count_177356, (int64_t) 2);
                                                    int64_t n_177405 = sub64(count_177356, m_177404);
                                                    bool cond_177406 = n_177405 == (int64_t) 0;
                                                    int64_t zgze_lhs_177407 = add64(ss_177352, m_177404);
                                                    bool cond_f_res_177408 = sle64(ss_177353, zgze_lhs_177407);
                                                    bool x_177409 = !cond_177406;
                                                    bool y_177410 = cond_f_res_177408 && x_177409;
                                                    bool cond_177411 = cond_177406 || y_177410;
                                                    bool leq_y_x_177412;
                                                    
                                                    if (cond_177411) {
                                                        leq_y_x_177412 = 1;
                                                    } else {
                                                        bool x_177413 = sle64((int64_t) 0, zgze_lhs_177407);
                                                        bool y_177414 = slt64(zgze_lhs_177407, stride_177163);
                                                        bool bounds_check_177415 = x_177413 && y_177414;
                                                        bool index_certs_177416;
                                                        
                                                        if (!bounds_check_177415) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177407, "] out of bounds for array of shape [", (long long) stride_177163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177421 = add64(tt_177354, n_177405);
                                                        int64_t leq_arg0_177422 = sub64(zm_lhs_177421, (int64_t) 1);
                                                        bool x_177423 = sle64((int64_t) 0, leq_arg0_177422);
                                                        bool y_177424 = slt64(leq_arg0_177422, j_m_i_177186);
                                                        bool bounds_check_177425 = x_177423 && y_177424;
                                                        bool index_certs_177426;
                                                        
                                                        if (!bounds_check_177425) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177422, "] out of bounds for array of shape [", (long long) j_m_i_177186, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177417 = start_177237 + zgze_lhs_177407;
                                                        int8_t leq_arg1_177418 = ((int8_t *) mem_param_181303.mem)[slice_177417];
                                                        int64_t leq_arg1_177419 = ((int64_t *) mem_param_181306.mem)[slice_177417];
                                                        int16_t leq_arg1_177420 = ((int16_t *) mem_param_181309.mem)[slice_177417];
                                                        int64_t slice_177427 = stride_177163 + leq_arg0_177422;
                                                        int64_t slice_177428 = start_177237 + slice_177427;
                                                        int8_t leq_arg0_177429 = ((int8_t *) mem_param_181303.mem)[slice_177428];
                                                        int64_t leq_arg0_177430 = ((int64_t *) mem_param_181306.mem)[slice_177428];
                                                        int16_t leq_arg0_177431 = ((int16_t *) mem_param_181309.mem)[slice_177428];
                                                        bool cond_177432 = leq_arg0_177429 == leq_arg1_177418;
                                                        bool defunc_0_leq_res_t_res_177433 = sle64(leq_arg0_177430, leq_arg1_177419);
                                                        bool defunc_0_leq_res_177434 = sle16(leq_arg0_177431, leq_arg1_177420);
                                                        bool x_177435 = cond_177432 && defunc_0_leq_res_t_res_177433;
                                                        bool x_177436 = !cond_177432;
                                                        bool y_177437 = defunc_0_leq_res_177434 && x_177436;
                                                        bool defunc_0_leq_res_177438 = x_177435 || y_177437;
                                                        
                                                        leq_y_x_177412 = defunc_0_leq_res_177438;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                    
                                                    if (leq_y_x_177412) {
                                                        int64_t tmp_180491 = add64(tt_177354, n_177405);
                                                        int64_t tmp_180492 = sub64(count_177356, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tmp_180491;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tt_177355;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = tmp_180492;
                                                    } else {
                                                        int64_t tmp_177444 = add64(tt_177354, n_177405);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177439 = tt_177354;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177440 = tmp_177444;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177441 = count_177356;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177372 = ss_177352;
                                                    defunc_0_lifted_step_res_f_res_f_res_177373 = defunc_0_lifted_step_res_f_res_f_res_f_res_177439;
                                                    defunc_0_lifted_step_res_f_res_f_res_177374 = defunc_0_lifted_step_res_f_res_f_res_f_res_177440;
                                                    defunc_0_lifted_step_res_f_res_f_res_177375 = defunc_0_lifted_step_res_f_res_f_res_f_res_177441;
                                                }
                                                defunc_0_lifted_step_res_f_res_177366 = defunc_0_lifted_step_res_f_res_f_res_177372;
                                                defunc_0_lifted_step_res_f_res_177367 = defunc_0_lifted_step_res_f_res_f_res_177373;
                                                defunc_0_lifted_step_res_f_res_177368 = defunc_0_lifted_step_res_f_res_f_res_177374;
                                                defunc_0_lifted_step_res_f_res_177369 = defunc_0_lifted_step_res_f_res_f_res_177375;
                                            }
                                            defunc_0_lifted_step_res_177359 = defunc_0_lifted_step_res_f_res_177366;
                                            defunc_0_lifted_step_res_177360 = defunc_0_lifted_step_res_f_res_177367;
                                            defunc_0_lifted_step_res_177361 = defunc_0_lifted_step_res_f_res_177368;
                                            defunc_0_lifted_step_res_177362 = defunc_0_lifted_step_res_f_res_177369;
                                        }
                                        
                                        int64_t loopres_177445;
                                        int64_t loopres_177446;
                                        int64_t loopres_177447;
                                        int64_t loopres_177448;
                                        int64_t loopres_177449;
                                        
                                        if (futrts_lifted_normalizze_9161(ctx, &loopres_177445, &loopres_177446, &loopres_177447, &loopres_177448, &loopres_177449, defunc_0_lifted_step_res_177359, ss_177353, defunc_0_lifted_step_res_177360, defunc_0_lifted_step_res_177361, defunc_0_lifted_step_res_177362) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177450 = slt64((int64_t) 0, loopres_177449);
                                        bool loop_while_tmp_182724 = loop_cond_177450;
                                        int64_t ss_tmp_182725 = loopres_177445;
                                        int64_t ss_tmp_182726 = loopres_177446;
                                        int64_t tt_tmp_182727 = loopres_177447;
                                        int64_t tt_tmp_182728 = loopres_177448;
                                        int64_t count_tmp_182729 = loopres_177449;
                                        
                                        loop_while_177351 = loop_while_tmp_182724;
                                        ss_177352 = ss_tmp_182725;
                                        ss_177353 = ss_tmp_182726;
                                        tt_177354 = tt_tmp_182727;
                                        tt_177355 = tt_tmp_182728;
                                        count_177356 = count_tmp_182729;
                                    }
                                    defunc_0_split_count_res_177345 = loop_while_177351;
                                    defunc_0_split_count_res_177346 = ss_177352;
                                    defunc_0_split_count_res_177347 = ss_177353;
                                    defunc_0_split_count_res_177348 = tt_177354;
                                    defunc_0_split_count_res_177349 = tt_177355;
                                    defunc_0_split_count_res_177350 = count_177356;
                                    ((int64_t *) mem_181331)[i_180914] = defunc_0_split_count_res_177346;
                                    ((int64_t *) mem_181333)[i_180914] = defunc_0_split_count_res_177348;
                                }
                                if (mem_181347_cached_sizze_183104 < flat_dim_177187) {
                                    err = lexical_realloc(ctx, &mem_181347, &mem_181347_cached_sizze_183104, flat_dim_177187);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181350_cached_sizze_183105 < bytes_181349) {
                                    err = lexical_realloc(ctx, &mem_181350, &mem_181350_cached_sizze_183105, bytes_181349);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181353_cached_sizze_183106 < bytes_181352) {
                                    err = lexical_realloc(ctx, &mem_181353, &mem_181353_cached_sizze_183106, bytes_181352);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180923 = 0; i_180923 < num_blocks_177184; i_180923++) {
                                    bool y_177457 = slt64(i_180923, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool index_certs_177459;
                                    
                                    if (!y_177457) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180923, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177460 = ((int64_t *) mem_181331)[i_180923];
                                    int64_t defunc_0_f_res_177461 = ((int64_t *) mem_181333)[i_180923];
                                    int64_t tmp_177462 = add64((int64_t) 1, i_180923);
                                    bool x_177463 = sle64((int64_t) 0, tmp_177462);
                                    bool y_177464 = slt64(tmp_177462, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185);
                                    bool bounds_check_177465 = x_177463 && y_177464;
                                    bool index_certs_177466;
                                    
                                    if (!bounds_check_177465) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177462, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177185, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177467 = ((int64_t *) mem_181331)[tmp_177462];
                                    int64_t defunc_0_f_res_177468 = ((int64_t *) mem_181333)[tmp_177462];
                                    int64_t merge_sequential_arg2_177469 = add64(stride_177163, defunc_0_f_res_177461);
                                    int64_t merge_sequential_arg2_177470 = add64(stride_177163, defunc_0_f_res_177468);
                                    int64_t j_m_i_177471 = sub64(merge_sequential_arg2_177470, merge_sequential_arg2_177469);
                                    bool empty_slice_177472 = j_m_i_177471 == (int64_t) 0;
                                    int64_t m_177473 = sub64(j_m_i_177471, (int64_t) 1);
                                    int64_t i_p_m_t_s_177474 = add64(merge_sequential_arg2_177469, m_177473);
                                    bool zzero_leq_i_p_m_t_s_177475 = sle64((int64_t) 0, i_p_m_t_s_177474);
                                    bool i_p_m_t_s_leq_w_177476 = slt64(i_p_m_t_s_177474, next_stride_177164);
                                    bool zzero_lte_i_177477 = sle64((int64_t) 0, merge_sequential_arg2_177469);
                                    bool i_lte_j_177478 = sle64(merge_sequential_arg2_177469, merge_sequential_arg2_177470);
                                    bool y_177479 = i_p_m_t_s_leq_w_177476 && zzero_lte_i_177477;
                                    bool y_177480 = zzero_leq_i_p_m_t_s_177475 && y_177479;
                                    bool forwards_ok_177481 = i_lte_j_177478 && y_177480;
                                    bool ok_or_empty_177482 = empty_slice_177472 || forwards_ok_177481;
                                    bool index_certs_177483;
                                    
                                    if (!ok_or_empty_177482) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177469, ":", (long long) merge_sequential_arg2_177470, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177484 = sub64(defunc_0_f_res_177467, defunc_0_f_res_177460);
                                    bool empty_slice_177485 = j_m_i_177484 == (int64_t) 0;
                                    int64_t m_177486 = sub64(j_m_i_177484, (int64_t) 1);
                                    int64_t i_p_m_t_s_177487 = add64(defunc_0_f_res_177460, m_177486);
                                    bool zzero_leq_i_p_m_t_s_177488 = sle64((int64_t) 0, i_p_m_t_s_177487);
                                    bool i_p_m_t_s_leq_w_177489 = slt64(i_p_m_t_s_177487, next_stride_177164);
                                    bool zzero_lte_i_177490 = sle64((int64_t) 0, defunc_0_f_res_177460);
                                    bool i_lte_j_177491 = sle64(defunc_0_f_res_177460, defunc_0_f_res_177467);
                                    bool y_177492 = i_p_m_t_s_leq_w_177489 && zzero_lte_i_177490;
                                    bool y_177493 = zzero_leq_i_p_m_t_s_177488 && y_177492;
                                    bool forwards_ok_177494 = i_lte_j_177491 && y_177493;
                                    bool ok_or_empty_177495 = empty_slice_177485 || forwards_ok_177494;
                                    bool index_certs_177496;
                                    
                                    if (!ok_or_empty_177495) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177460, ":", (long long) defunc_0_f_res_177467, "] out of bounds for array of shape [", (long long) next_stride_177164, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177497 = slt64((int64_t) 0, j_m_i_177484);
                                    int8_t dummy_177498;
                                    int64_t dummy_177499;
                                    int16_t dummy_177500;
                                    
                                    if (cond_177497) {
                                        bool index_certs_180493;
                                        
                                        if (!cond_177497) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180494 = start_177237 + defunc_0_f_res_177460;
                                        int8_t head_res_180495 = ((int8_t *) mem_param_181303.mem)[slice_180494];
                                        int64_t head_res_180496 = ((int64_t *) mem_param_181306.mem)[slice_180494];
                                        int16_t head_res_180497 = ((int16_t *) mem_param_181309.mem)[slice_180494];
                                        
                                        dummy_177498 = head_res_180495;
                                        dummy_177499 = head_res_180496;
                                        dummy_177500 = head_res_180497;
                                    } else {
                                        bool y_177506 = slt64((int64_t) 0, j_m_i_177471);
                                        bool index_certs_177507;
                                        
                                        if (!y_177506) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177508 = start_177237 + merge_sequential_arg2_177469;
                                        int8_t head_res_177509 = ((int8_t *) mem_param_181303.mem)[slice_177508];
                                        int64_t head_res_177510 = ((int64_t *) mem_param_181306.mem)[slice_177508];
                                        int16_t head_res_177511 = ((int16_t *) mem_param_181309.mem)[slice_177508];
                                        
                                        dummy_177498 = head_res_177509;
                                        dummy_177499 = head_res_177510;
                                        dummy_177500 = head_res_177511;
                                    }
                                    for (int64_t nest_i_182733 = 0; nest_i_182733 < merge_block_sizze_177001; nest_i_182733++) {
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + nest_i_182733] = dummy_177498;
                                    }
                                    for (int64_t nest_i_182734 = 0; nest_i_182734 < merge_block_sizze_177001; nest_i_182734++) {
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + nest_i_182734] = dummy_177499;
                                    }
                                    for (int64_t nest_i_182735 = 0; nest_i_182735 < merge_block_sizze_177001; nest_i_182735++) {
                                        ((int16_t *) mem_181353)[i_180923 * merge_block_sizze_177001 + nest_i_182735] = dummy_177500;
                                    }
                                    
                                    int64_t data_177515;
                                    int64_t i_177520 = (int64_t) 0;
                                    
                                    for (int64_t k_177519 = 0; k_177519 < merge_block_sizze_177001; k_177519++) {
                                        int64_t j_177524 = sub64(k_177519, i_177520);
                                        bool cond_177525 = j_177524 == j_m_i_177471;
                                        bool cond_177526;
                                        
                                        if (cond_177525) {
                                            cond_177526 = 1;
                                        } else {
                                            bool cond_177527 = slt64(i_177520, j_m_i_177484);
                                            bool cond_f_res_177528;
                                            
                                            if (cond_177527) {
                                                bool x_180498 = sle64((int64_t) 0, j_177524);
                                                bool y_180499 = slt64(j_177524, j_m_i_177471);
                                                bool bounds_check_180500 = x_180498 && y_180499;
                                                bool index_certs_180501;
                                                
                                                if (!bounds_check_180500) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180507 = sle64((int64_t) 0, i_177520);
                                                bool bounds_check_180508 = cond_177527 && x_180507;
                                                bool index_certs_180509;
                                                
                                                if (!bounds_check_180508) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180502 = merge_sequential_arg2_177469 + j_177524;
                                                int64_t slice_180503 = start_177237 + slice_180502;
                                                int8_t leq_arg1_180504 = ((int8_t *) mem_param_181303.mem)[slice_180503];
                                                int64_t leq_arg1_180505 = ((int64_t *) mem_param_181306.mem)[slice_180503];
                                                int16_t leq_arg1_180506 = ((int16_t *) mem_param_181309.mem)[slice_180503];
                                                int64_t slice_180510 = defunc_0_f_res_177460 + i_177520;
                                                int64_t slice_180511 = start_177237 + slice_180510;
                                                int8_t leq_arg0_180512 = ((int8_t *) mem_param_181303.mem)[slice_180511];
                                                int64_t leq_arg0_180513 = ((int64_t *) mem_param_181306.mem)[slice_180511];
                                                int16_t leq_arg0_180514 = ((int16_t *) mem_param_181309.mem)[slice_180511];
                                                bool cond_180515 = leq_arg0_180512 == leq_arg1_180504;
                                                bool defunc_0_leq_res_t_res_180516 = sle64(leq_arg0_180513, leq_arg1_180505);
                                                bool defunc_0_leq_res_180517 = sle16(leq_arg0_180514, leq_arg1_180506);
                                                bool x_180518 = cond_180515 && defunc_0_leq_res_t_res_180516;
                                                bool x_180519 = !cond_180515;
                                                bool y_180520 = defunc_0_leq_res_180517 && x_180519;
                                                bool defunc_0_leq_res_180521 = x_180518 || y_180520;
                                                
                                                cond_f_res_177528 = defunc_0_leq_res_180521;
                                            } else {
                                                cond_f_res_177528 = 0;
                                            }
                                            cond_177526 = cond_f_res_177528;
                                        }
                                        
                                        int64_t loopres_177553;
                                        int8_t loopres_177554;
                                        int64_t loopres_177555;
                                        int16_t loopres_177556;
                                        
                                        if (cond_177526) {
                                            bool x_180523 = sle64((int64_t) 0, i_177520);
                                            bool y_180524 = slt64(i_177520, j_m_i_177484);
                                            bool bounds_check_180525 = x_180523 && y_180524;
                                            bool index_certs_180526;
                                            
                                            if (!bounds_check_180525) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177520, "] out of bounds for array of shape [", (long long) j_m_i_177484, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180522 = add64((int64_t) 1, i_177520);
                                            int64_t slice_180527 = defunc_0_f_res_177460 + i_177520;
                                            int64_t slice_180528 = start_177237 + slice_180527;
                                            int8_t tmp_180529 = ((int8_t *) mem_param_181303.mem)[slice_180528];
                                            int64_t tmp_180530 = ((int64_t *) mem_param_181306.mem)[slice_180528];
                                            int16_t tmp_180531 = ((int16_t *) mem_param_181309.mem)[slice_180528];
                                            
                                            loopres_177553 = tmp_180522;
                                            loopres_177554 = tmp_180529;
                                            loopres_177555 = tmp_180530;
                                            loopres_177556 = tmp_180531;
                                        } else {
                                            bool x_177567 = sle64((int64_t) 0, j_177524);
                                            bool y_177568 = slt64(j_177524, j_m_i_177471);
                                            bool bounds_check_177569 = x_177567 && y_177568;
                                            bool index_certs_177570;
                                            
                                            if (!bounds_check_177569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177524, "] out of bounds for array of shape [", (long long) j_m_i_177471, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177571 = merge_sequential_arg2_177469 + j_177524;
                                            int64_t slice_177572 = start_177237 + slice_177571;
                                            int8_t tmp_177573 = ((int8_t *) mem_param_181303.mem)[slice_177572];
                                            int64_t tmp_177574 = ((int64_t *) mem_param_181306.mem)[slice_177572];
                                            int16_t tmp_177575 = ((int16_t *) mem_param_181309.mem)[slice_177572];
                                            
                                            loopres_177553 = i_177520;
                                            loopres_177554 = tmp_177573;
                                            loopres_177555 = tmp_177574;
                                            loopres_177556 = tmp_177575;
                                        }
                                        ((int8_t *) mem_181347)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177554;
                                        ((int64_t *) mem_181350)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177555;
                                        ((int16_t *) mem_181353)[i_180923 * merge_block_sizze_177001 + k_177519] = loopres_177556;
                                        
                                        int64_t i_tmp_182736 = loopres_177553;
                                        
                                        i_177520 = i_tmp_182736;
                                    }
                                    data_177515 = i_177520;
                                }
                                if (memblock_alloc(ctx, &mem_181402, flat_dim_177187, "mem_181402")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181402.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint8_t *) mem_181347, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181406, bytes_181349, "mem_181406")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181406.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint64_t *) mem_181350, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_alloc(ctx, &mem_181410, bytes_181352, "mem_181410")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_181410.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (uint16_t *) mem_181353, (int64_t) 0, (int64_t []) {merge_block_sizze_177001, (int64_t) 1}, (int64_t []) {num_blocks_177184, merge_block_sizze_177001});
                                if (memblock_set(ctx, &ext_mem_181443, &mem_181402, "mem_181402") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181440, &mem_181406, "mem_181406") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181437, &mem_181410, "mem_181410") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181311, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181443.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181314, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181440.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181317, i_180933 * next_stride_177164, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181437.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177164});
                            if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181457, bytes_181310, "mem_181457")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181457.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint8_t *) mem_181311, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181461, bytes_181313, "mem_181461")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181461.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint64_t *) mem_181314, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        if (memblock_alloc(ctx, &mem_181465, bytes_181316, "mem_181465")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181465.mem, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (uint16_t *) mem_181317, (int64_t) 0, (int64_t []) {next_stride_177164, (int64_t) 1}, (int64_t []) {num_merges_177168, next_stride_177164});
                        
                        bool loop_cond_177589 = slt64(next_stride_177164, flat_dim_176996);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182703, &mem_181457, "mem_181457") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182704, &mem_181461, "mem_181461") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182705, &mem_181465, "mem_181465") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182706 = bytes_181310;
                        bool loop_while_tmp_182707 = loop_cond_177589;
                        int64_t stride_tmp_182711 = next_stride_177164;
                        
                        if (memblock_set(ctx, &mem_param_181303, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181306, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181309, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177158 = loop_dz2084Uz2082U_tmp_182706;
                        loop_while_177159 = loop_while_tmp_182707;
                        stride_177163 = stride_tmp_182711;
                    }
                    if (memblock_set(ctx, &ext_mem_181475, &mem_param_181303, "mem_param_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181474, &mem_param_181306, "mem_param_181306") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181473, &mem_param_181309, "mem_param_181309") != 0)
                        return 1;
                    data_177152 = loop_dz2084Uz2082U_177158;
                    data_177153 = loop_while_177159;
                    data_177157 = stride_177163;
                    if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
                        return 1;
                    
                    bool empty_slice_177590 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177591 = sle64((int64_t) 0, zs_lhs_176980);
                    bool i_p_m_t_s_leq_w_177592 = slt64(zs_lhs_176980, data_177152);
                    bool y_177593 = zzero_leq_i_p_m_t_s_177591 && i_p_m_t_s_leq_w_177592;
                    bool ok_or_empty_177594 = empty_slice_177590 || y_177593;
                    bool index_certs_177595;
                    
                    if (!ok_or_empty_177594) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176932, "] out of bounds for array of shape [", (long long) data_177152, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181484, &ext_mem_181475, "ext_mem_181475") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181481, &ext_mem_181474, "ext_mem_181474") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181478, &ext_mem_181473, "ext_mem_181473") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181165.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181484.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181167.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181481.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181169.mem, ind_bottom_176933, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181478.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176935});
                if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
                    return 1;
                
                bool loop_cond_177631 = slt64(ubs_176923, threads_121288);
                bool loop_while_tmp_182670 = loop_cond_177631;
                int64_t p_tmp_182671 = ubs_176923;
                
                loop_while_176912 = loop_while_tmp_182670;
                p_176913 = p_tmp_182671;
            }
            defunc_0_mergeFunc_seq_res_176907 = loop_while_176912;
            defunc_0_mergeFunc_seq_res_176908 = p_176913;
            
            int64_t index_concat_branch_178448;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180546 = ((int64_t *) mem_181150)[index_concat_i_178445];
                
                index_concat_branch_178448 = index_concat_180546;
            } else {
                index_concat_branch_178448 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178442;
            
            if (index_concat_cmp_178444) {
                int64_t index_concat_180547 = ((int64_t *) mem_181152)[index_concat_i_178445];
                
                index_concat_branch_178442 = index_concat_180547;
            } else {
                index_concat_branch_178442 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181903, &mem_181165, "mem_181165") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181900, &mem_181167, "mem_181167") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181897, &mem_181169, "mem_181169") != 0)
                return 1;
            loopres_175671 = index_concat_branch_178448;
            loopres_175672 = index_concat_branch_178442;
        }
        for (int64_t i_180939 = 0; i_180939 < window_sizze_121287; i_180939++) {
            int8_t eta_p_177639 = ((int8_t *) ext_mem_181903.mem)[i_180939];
            int64_t eta_p_177640 = ((int64_t *) ext_mem_181900.mem)[i_180939];
            bool cond_177641 = eta_p_177639 == (int8_t) 0;
            int64_t tmp_177642;
            
            if (cond_177641) {
                int64_t tmp_t_res_180550 = add64(p_175643, eta_p_177640);
                
                tmp_177642 = tmp_t_res_180550;
            } else {
                int64_t tmp_f_res_177644 = add64(p_175644, eta_p_177640);
                
                tmp_177642 = tmp_f_res_177644;
            }
            ((int64_t *) mem_181137.mem)[ind_bottom_175647 + i_180939] = tmp_177642;
        }
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        
        int64_t next_lbs_177645 = add64(p_175643, loopres_175671);
        int64_t next_lbs_177646 = add64(p_175644, loopres_175672);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181903.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_121287});
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181139.mem, ind_bottom_175647, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181897.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_121287});
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        
        bool cond_177660 = slt64(next_lbs_177645, zl_rhs_175626);
        bool loop_cond_t_res_177661 = slt64(next_lbs_177646, zl_rhs_175628);
        bool x_177662 = cond_177660 && loop_cond_t_res_177661;
        bool loop_while_tmp_182554 = x_177662;
        int64_t p_tmp_182558 = next_lbs_177645;
        int64_t p_tmp_182559 = next_lbs_177646;
        
        loop_while_175639 = loop_while_tmp_182554;
        p_175643 = p_tmp_182558;
        p_175644 = p_tmp_182559;
    }
    defunc_0_merge_pipeline_res_175633 = loop_while_175639;
    defunc_0_merge_pipeline_res_175637 = p_175643;
    defunc_0_merge_pipeline_res_175638 = p_175644;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 = sub64(nb_121286, defunc_0_merge_pipeline_res_175638);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 = sub64(na_121285, defunc_0_merge_pipeline_res_175637);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    bool empty_slice_177666 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 == (int64_t) 0;
    int64_t m_177667 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 1);
    int64_t i_p_m_t_s_177668 = add64(defunc_0_merge_pipeline_res_175637, m_177667);
    bool zzero_leq_i_p_m_t_s_177669 = sle64((int64_t) 0, i_p_m_t_s_177668);
    bool i_p_m_t_s_leq_w_177670 = slt64(i_p_m_t_s_177668, na_121285);
    bool zzero_lte_i_177671 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175637);
    bool i_lte_j_177672 = sle64(defunc_0_merge_pipeline_res_175637, na_121285);
    bool y_177673 = i_p_m_t_s_leq_w_177670 && zzero_lte_i_177671;
    bool y_177674 = zzero_leq_i_p_m_t_s_177669 && y_177673;
    bool forwards_ok_177675 = i_lte_j_177672 && y_177674;
    bool ok_or_empty_177676 = empty_slice_177666 || forwards_ok_177675;
    bool index_certs_177677;
    
    if (!ok_or_empty_177676) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175637, ":", (long long) na_121285, "] out of bounds for array of shape [", (long long) na_121285, "].", "-> #0  ftsort.fut:436:14-34\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177681 = slt64(na_121285, defunc_0_merge_pipeline_res_175637);
    bool valid_177682 = !bounds_invalid_upwards_177681;
    bool range_valid_c_177683;
    
    if (!valid_177682) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175637, "..<", (long long) na_121285, " is invalid.", "-> #0  ftsort.fut:440:9-25\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177687 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663 == (int64_t) 0;
    int64_t m_177688 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663, (int64_t) 1);
    int64_t i_p_m_t_s_177689 = add64(defunc_0_merge_pipeline_res_175638, m_177688);
    bool zzero_leq_i_p_m_t_s_177690 = sle64((int64_t) 0, i_p_m_t_s_177689);
    bool i_p_m_t_s_leq_w_177691 = slt64(i_p_m_t_s_177689, nb_121286);
    bool zzero_lte_i_177692 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175638);
    bool i_lte_j_177693 = sle64(defunc_0_merge_pipeline_res_175638, nb_121286);
    bool y_177694 = i_p_m_t_s_leq_w_177691 && zzero_lte_i_177692;
    bool y_177695 = zzero_leq_i_p_m_t_s_177690 && y_177694;
    bool forwards_ok_177696 = i_lte_j_177693 && y_177695;
    bool ok_or_empty_177697 = empty_slice_177687 || forwards_ok_177696;
    bool index_certs_177698;
    
    if (!ok_or_empty_177697) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175638, ":", (long long) nb_121286, "] out of bounds for array of shape [", (long long) nb_121286, "].", "-> #0  ftsort.fut:442:14-34\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177702 = slt64(nb_121286, defunc_0_merge_pipeline_res_175638);
    bool valid_177703 = !bounds_invalid_upwards_177702;
    bool range_valid_c_177704;
    
    if (!valid_177703) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175638, "..<", (long long) nb_121286, " is invalid.", "-> #0  ftsort.fut:446:9-25\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181928 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    int64_t bytes_181930 = (int64_t) 2 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool cond_177711 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zs_lhs_177712 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, (int64_t) 1);
    int64_t zp_rhs_177713 = sdiv_safe64(zs_lhs_177712, (int64_t) 20);
    int64_t min_num_blocks_177714 = add64((int64_t) 1, zp_rhs_177713);
    bool loop_cond_177715 = slt64((int64_t) 1, min_num_blocks_177714);
    bool smallest_pow_2_geq_than_res_177716;
    int64_t smallest_pow_2_geq_than_res_177717;
    bool loop_while_177718;
    int64_t x_177719;
    
    loop_while_177718 = loop_cond_177715;
    x_177719 = (int64_t) 1;
    while (loop_while_177718) {
        int64_t loopres_177720 = mul64((int64_t) 2, x_177719);
        bool loop_cond_177721 = slt64(loopres_177720, min_num_blocks_177714);
        bool loop_while_tmp_182741 = loop_cond_177721;
        int64_t x_tmp_182742 = loopres_177720;
        
        loop_while_177718 = loop_while_tmp_182741;
        x_177719 = x_tmp_182742;
    }
    smallest_pow_2_geq_than_res_177716 = loop_while_177718;
    smallest_pow_2_geq_than_res_177717 = x_177719;
    
    bool zzero_177722 = smallest_pow_2_geq_than_res_177717 == (int64_t) 0;
    bool nonzzero_177723 = !zzero_177722;
    bool protect_assert_disj_177724 = cond_177711 || nonzzero_177723;
    bool nonzzero_cert_177725;
    
    if (!protect_assert_disj_177724) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177726 = sdiv_safe64(zs_lhs_177712, smallest_pow_2_geq_than_res_177717);
    int64_t block_sizze_177727 = add64((int64_t) 1, zp_rhs_177726);
    bool y_177734 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool protect_assert_disj_182256 = cond_177711 || y_177734;
    bool index_certs_177735;
    
    if (!protect_assert_disj_182256) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177761 = slt64(smallest_pow_2_geq_than_res_177717, (int64_t) 0);
    bool valid_177762 = !bounds_invalid_upwards_177761;
    bool protect_assert_disj_182266 = cond_177711 || valid_177762;
    bool range_valid_c_177763;
    
    if (!protect_assert_disj_182266) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177717, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177765 = slt64(block_sizze_177727, (int64_t) 0);
    bool valid_177766 = !bounds_invalid_upwards_177765;
    bool protect_assert_disj_182268 = cond_177711 || valid_177766;
    bool range_valid_c_177767;
    
    if (!protect_assert_disj_182268) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177727, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177769 = sle64(block_sizze_177727, (int64_t) 1);
    int64_t tmp_177770 = sub64(block_sizze_177727, (int64_t) 2);
    bool bounds_invalid_upwards_177771 = slt64(tmp_177770, (int64_t) 0);
    bool valid_177773 = !bounds_invalid_upwards_177771;
    bool protect_assert_disj_177774 = cond_177769 || valid_177773;
    bool protect_assert_disj_182270 = cond_177711 || protect_assert_disj_177774;
    bool range_valid_c_177775;
    
    if (!protect_assert_disj_182270) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177770, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178336 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178338 = sle64((int64_t) 0, zs_lhs_177712);
    bool i_p_m_t_s_leq_w_178339 = slt64(zs_lhs_177712, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
    bool y_178340 = zzero_leq_i_p_m_t_s_178338 && i_p_m_t_s_leq_w_178339;
    bool ok_or_empty_178341 = empty_slice_178336 || y_178340;
    bool index_certs_178342;
    
    if (!ok_or_empty_178341) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  ftsort.fut:455:78-101\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178343 = add64(defunc_0_merge_pipeline_res_175637, defunc_0_merge_pipeline_res_175638);
    int64_t j_m_i_178344 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, final_buffer_178343);
    bool empty_slice_178345 = j_m_i_178344 == (int64_t) 0;
    int64_t m_178346 = sub64(j_m_i_178344, (int64_t) 1);
    int64_t i_p_m_t_s_178347 = add64(final_buffer_178343, m_178346);
    bool zzero_leq_i_p_m_t_s_178348 = sle64((int64_t) 0, i_p_m_t_s_178347);
    bool i_p_m_t_s_leq_w_178349 = slt64(i_p_m_t_s_178347, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool zzero_lte_i_178350 = sle64((int64_t) 0, final_buffer_178343);
    bool i_lte_j_178351 = sle64(final_buffer_178343, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622);
    bool y_178352 = i_p_m_t_s_leq_w_178349 && zzero_lte_i_178350;
    bool y_178353 = zzero_leq_i_p_m_t_s_178348 && y_178352;
    bool forwards_ok_178354 = i_lte_j_178351 && y_178353;
    bool ok_or_empty_178355 = empty_slice_178345 || forwards_ok_178354;
    bool index_certs_178356;
    
    if (!ok_or_empty_178355) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178343, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622, "].", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178357 = j_m_i_178344 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665;
    bool empty_or_match_cert_178358;
    
    if (!dim_match_178357) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178344, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "]", " of value.", "-> #0  ftsort.fut:455:22-101\n   #1  ftsort.fut:466:63-73\n   #2  ftsort.fut:459:1-466:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181927, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "mem_181927")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182743 = 0; nest_i_182743 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; nest_i_182743++) {
        ((int8_t *) mem_181927.mem)[nest_i_182743] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181929, bytes_181928, "mem_181929")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182744 = 0; i_182744 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664; i_182744++) {
        int64_t x_182745 = defunc_0_merge_pipeline_res_175637 + i_182744 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[i_182744] = x_182745;
    }
    for (int64_t nest_i_182746 = 0; nest_i_182746 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; nest_i_182746++) {
        ((int8_t *) mem_181927.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + nest_i_182746] = (int8_t) 1;
    }
    for (int64_t i_182747 = 0; i_182747 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663; i_182747++) {
        int64_t x_182748 = defunc_0_merge_pipeline_res_175638 + i_182747 * (int64_t) 1;
        
        ((int64_t *) mem_181929.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664 + i_182747] = x_182748;
    }
    
    int64_t tmp_offs_182749 = (int64_t) 0;
    
    if (!(tmp_offs_182749 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182749 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181927.mem, tmp_offs_182749, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181927.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182749 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t tmp_offs_182750 = (int64_t) 0;
    
    if (!(tmp_offs_182750 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    if (!(tmp_offs_182750 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181929.mem, tmp_offs_182750, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181929.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    }
    tmp_offs_182750 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    if (memblock_alloc(ctx, &mem_181931, bytes_181930, "mem_181931")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182751 = (int64_t) 0;
    
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181133.mem, defunc_0_merge_pipeline_res_175637, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181931.mem, tmp_offs_182751, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181134.mem, defunc_0_merge_pipeline_res_175638, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663});
    tmp_offs_182751 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177663;
    
    int64_t flat_dim_177728 = smallest_pow_2_geq_than_res_177717 * block_sizze_177727;
    bool x_182251 = !cond_177711;
    int64_t greatest_divisor_leq_than_arg1_177732 = mul64((int64_t) 2, block_sizze_177727);
    int64_t merge_block_sizze_177733;
    
    if (x_182251) {
        int64_t x_182253;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182253, (int64_t) 8, greatest_divisor_leq_than_arg1_177732) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177733 = x_182253;
    } else {
        merge_block_sizze_177733 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178408 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, (int64_t) 0);
    int8_t index_concat_branch_178412 = btoi_bool_i8(index_concat_cmp_178408);
    int64_t index_concat_i_180552 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
    int64_t index_primexp_180553 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180552);
    int64_t index_concat_branch_178406;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178406 = index_primexp_180553;
    } else {
        index_concat_branch_178406 = defunc_0_merge_pipeline_res_175637;
    }
    
    bool x_182247 = !index_concat_cmp_178408;
    bool protect_cond_conj_182257 = x_182247 && x_182251;
    int16_t index_concat_178399;
    
    if (protect_cond_conj_182257) {
        int16_t x_182249 = ((int16_t *) a_list_mem_181133.mem)[defunc_0_merge_pipeline_res_175637];
        
        index_concat_178399 = x_182249;
    } else {
        index_concat_178399 = (int16_t) 0;
    }
    
    bool protect_cond_conj_182258 = index_concat_cmp_178408 && x_182251;
    int16_t index_concat_180556;
    
    if (protect_cond_conj_182258) {
        int16_t x_182245 = ((int16_t *) b_list_mem_181134.mem)[index_primexp_180553];
        
        index_concat_180556 = x_182245;
    } else {
        index_concat_180556 = (int16_t) 0;
    }
    
    int16_t index_concat_branch_178400;
    
    if (index_concat_cmp_178408) {
        index_concat_branch_178400 = index_concat_180556;
    } else {
        index_concat_branch_178400 = index_concat_178399;
    }
    
    int8_t defunc_0_reduce_res_180787;
    int64_t defunc_0_reduce_res_180788;
    int16_t defunc_0_reduce_res_180789;
    
    if (x_182251) {
        int8_t x_182259;
        int64_t x_182260;
        int16_t x_182261;
        int8_t redout_180941;
        int64_t redout_180942;
        int16_t redout_180943;
        
        redout_180941 = index_concat_branch_178412;
        redout_180942 = index_concat_branch_178406;
        redout_180943 = index_concat_branch_178400;
        for (int64_t i_180944 = 0; i_180944 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665; i_180944++) {
            bool index_concat_cmp_181015 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, i_180944);
            int8_t index_concat_branch_181019 = btoi_bool_i8(index_concat_cmp_181015);
            int64_t index_concat_branch_181013;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181010 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t index_primexp_181103 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_181010);
                
                index_concat_branch_181013 = index_primexp_181103;
            } else {
                int64_t index_primexp_181105 = add64(defunc_0_merge_pipeline_res_175637, i_180944);
                
                index_concat_branch_181013 = index_primexp_181105;
            }
            
            int16_t index_concat_branch_181007;
            
            if (index_concat_cmp_181015) {
                int64_t index_concat_i_181004 = sub64(i_180944, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                int64_t slice_181100 = defunc_0_merge_pipeline_res_175638 + index_concat_i_181004;
                int16_t index_concat_181005 = ((int16_t *) b_list_mem_181134.mem)[slice_181100];
                
                index_concat_branch_181007 = index_concat_181005;
            } else {
                int64_t slice_181101 = defunc_0_merge_pipeline_res_175637 + i_180944;
                int16_t index_concat_181006 = ((int16_t *) a_list_mem_181133.mem)[slice_181101];
                
                index_concat_branch_181007 = index_concat_181006;
            }
            
            bool eq_x_y_181118 = redout_180941 == (int8_t) 1;
            bool eq_x_zz_181119 = redout_180941 == (int8_t) 0;
            bool p_and_eq_x_y_181120 = index_concat_cmp_181015 && eq_x_y_181118;
            bool not_p_181121 = !index_concat_cmp_181015;
            bool p_and_eq_x_y_181122 = eq_x_zz_181119 && not_p_181121;
            bool cond_177751 = p_and_eq_x_y_181120 || p_and_eq_x_y_181122;
            bool defunc_0_leq_res_t_res_177752 = sle64(redout_180942, index_concat_branch_181013);
            bool defunc_0_leq_res_177753 = sle16(redout_180943, index_concat_branch_181007);
            bool x_177754 = cond_177751 && defunc_0_leq_res_t_res_177752;
            bool x_177755 = !cond_177751;
            bool y_177756 = defunc_0_leq_res_177753 && x_177755;
            bool defunc_0_leq_res_177757 = x_177754 || y_177756;
            int8_t defunc_0_op_res_177758;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177758 = index_concat_branch_181019;
            } else {
                defunc_0_op_res_177758 = redout_180941;
            }
            
            int64_t defunc_0_op_res_177759;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177759 = index_concat_branch_181013;
            } else {
                defunc_0_op_res_177759 = redout_180942;
            }
            
            int16_t defunc_0_op_res_177760;
            
            if (defunc_0_leq_res_177757) {
                defunc_0_op_res_177760 = index_concat_branch_181007;
            } else {
                defunc_0_op_res_177760 = redout_180943;
            }
            
            int8_t redout_tmp_182752 = defunc_0_op_res_177758;
            int64_t redout_tmp_182753 = defunc_0_op_res_177759;
            int16_t redout_tmp_182754 = defunc_0_op_res_177760;
            
            redout_180941 = redout_tmp_182752;
            redout_180942 = redout_tmp_182753;
            redout_180943 = redout_tmp_182754;
        }
        x_182259 = redout_180941;
        x_182260 = redout_180942;
        x_182261 = redout_180943;
        defunc_0_reduce_res_180787 = x_182259;
        defunc_0_reduce_res_180788 = x_182260;
        defunc_0_reduce_res_180789 = x_182261;
    } else {
        defunc_0_reduce_res_180787 = (int8_t) 0;
        defunc_0_reduce_res_180788 = (int64_t) 0;
        defunc_0_reduce_res_180789 = (int16_t) 0;
    }
    
    int64_t distance_177772 = add64((int64_t) 1, tmp_177770);
    int64_t binop_x_181934 = (int64_t) 8 * smallest_pow_2_geq_than_res_177717;
    int64_t bytes_181935 = block_sizze_177727 * binop_x_181934;
    int64_t binop_x_181937 = (int64_t) 2 * smallest_pow_2_geq_than_res_177717;
    int64_t bytes_181938 = block_sizze_177727 * binop_x_181937;
    int64_t bytes_181953 = (int64_t) 8 * block_sizze_177727;
    bool loop_cond_177881 = slt64(block_sizze_177727, flat_dim_177728);
    bool zzero_177882 = merge_block_sizze_177733 == (int64_t) 0;
    bool nonzzero_177883 = !zzero_177882;
    
    if (cond_177711) {
        if (memblock_set(ctx, &ext_mem_182226, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &mem_181931, "mem_181931") != 0)
            return 1;
    } else {
        if (mem_181933_cached_sizze_183127 < flat_dim_177728) {
            err = lexical_realloc(ctx, &mem_181933, &mem_181933_cached_sizze_183127, flat_dim_177728);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181936_cached_sizze_183128 < bytes_181935) {
            err = lexical_realloc(ctx, &mem_181936, &mem_181936_cached_sizze_183128, bytes_181935);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181939_cached_sizze_183129 < bytes_181938) {
            err = lexical_realloc(ctx, &mem_181939, &mem_181939_cached_sizze_183129, bytes_181938);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181952_cached_sizze_183130 < block_sizze_177727) {
            err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_183130, block_sizze_177727);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181954_cached_sizze_183131 < bytes_181953) {
            err = lexical_realloc(ctx, &mem_181954, &mem_181954_cached_sizze_183131, bytes_181953);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181956_cached_sizze_183132 < greatest_divisor_leq_than_arg1_177732) {
            err = lexical_realloc(ctx, &mem_181956, &mem_181956_cached_sizze_183132, greatest_divisor_leq_than_arg1_177732);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180961 = 0; i_180961 < smallest_pow_2_geq_than_res_177717; i_180961++) {
            int64_t zp_lhs_177780 = mul64(block_sizze_177727, i_180961);
            
            for (int64_t i_180951 = 0; i_180951 < block_sizze_177727; i_180951++) {
                int64_t k_177785 = add64(zp_lhs_177780, i_180951);
                bool cond_177786 = slt64(k_177785, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665);
                int8_t lifted_lambda_res_177787;
                int64_t lifted_lambda_res_177788;
                int16_t lifted_lambda_res_177789;
                
                if (cond_177786) {
                    bool x_180562 = sle64((int64_t) 0, k_177785);
                    bool bounds_check_180563 = cond_177786 && x_180562;
                    bool index_certs_180564;
                    
                    if (!bounds_check_180563) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177785, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180565 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664, k_177785);
                    int8_t index_concat_branch_180566 = btoi_bool_i8(index_concat_cmp_180565);
                    int64_t index_concat_branch_180567;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180568 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t index_primexp_180569 = add64(defunc_0_merge_pipeline_res_175638, index_concat_i_180568);
                        
                        index_concat_branch_180567 = index_primexp_180569;
                    } else {
                        int64_t index_primexp_180570 = add64(defunc_0_merge_pipeline_res_175637, k_177785);
                        
                        index_concat_branch_180567 = index_primexp_180570;
                    }
                    
                    int16_t index_concat_branch_180571;
                    
                    if (index_concat_cmp_180565) {
                        int64_t index_concat_i_180572 = sub64(k_177785, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177664);
                        int64_t slice_180573 = defunc_0_merge_pipeline_res_175638 + index_concat_i_180572;
                        int16_t index_concat_180574 = ((int16_t *) b_list_mem_181134.mem)[slice_180573];
                        
                        index_concat_branch_180571 = index_concat_180574;
                    } else {
                        int64_t slice_180575 = defunc_0_merge_pipeline_res_175637 + k_177785;
                        int16_t index_concat_180576 = ((int16_t *) a_list_mem_181133.mem)[slice_180575];
                        
                        index_concat_branch_180571 = index_concat_180576;
                    }
                    lifted_lambda_res_177787 = index_concat_branch_180566;
                    lifted_lambda_res_177788 = index_concat_branch_180567;
                    lifted_lambda_res_177789 = index_concat_branch_180571;
                } else {
                    lifted_lambda_res_177787 = defunc_0_reduce_res_180787;
                    lifted_lambda_res_177788 = defunc_0_reduce_res_180788;
                    lifted_lambda_res_177789 = defunc_0_reduce_res_180789;
                }
                ((int8_t *) mem_181952)[i_180951] = lifted_lambda_res_177787;
                ((int64_t *) mem_181954)[i_180951] = lifted_lambda_res_177788;
                ((int16_t *) mem_181956)[i_180951] = lifted_lambda_res_177789;
            }
            if (!cond_177769) {
                for (int64_t i_177802 = 0; i_177802 < distance_177772; i_177802++) {
                    int64_t gt_arg1_177806 = add64((int64_t) 1, i_177802);
                    bool x_177807 = sle64((int64_t) 0, gt_arg1_177806);
                    bool y_177808 = slt64(gt_arg1_177806, block_sizze_177727);
                    bool bounds_check_177809 = x_177807 && y_177808;
                    bool index_certs_177810;
                    
                    if (!bounds_check_177809) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177806, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177814 = slt64(i_177802, block_sizze_177727);
                    bool index_certs_177815;
                    
                    if (!y_177814) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177802, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177811 = ((int8_t *) mem_181952)[gt_arg1_177806];
                    int64_t gt_arg1_177812 = ((int64_t *) mem_181954)[gt_arg1_177806];
                    int16_t gt_arg1_177813 = ((int16_t *) mem_181956)[gt_arg1_177806];
                    int8_t gt_arg0_177816 = ((int8_t *) mem_181952)[i_177802];
                    int64_t gt_arg0_177817 = ((int64_t *) mem_181954)[i_177802];
                    int16_t gt_arg0_177818 = ((int16_t *) mem_181956)[i_177802];
                    bool cond_177819 = gt_arg0_177816 == gt_arg1_177811;
                    bool defunc_0_leq_res_t_res_177820 = sle64(gt_arg0_177817, gt_arg1_177812);
                    bool defunc_0_leq_res_177821 = sle16(gt_arg0_177818, gt_arg1_177813);
                    bool x_177822 = cond_177819 && defunc_0_leq_res_t_res_177820;
                    bool x_177823 = !cond_177819;
                    bool y_177824 = defunc_0_leq_res_177821 && x_177823;
                    bool defunc_0_leq_res_177825 = x_177822 || y_177824;
                    bool defunc_0_lifted_gt_res_177826 = !defunc_0_leq_res_177825;
                    bool s_177827;
                    int64_t s_177831;
                    bool loop_while_177832;
                    int64_t j_177836;
                    
                    loop_while_177832 = defunc_0_lifted_gt_res_177826;
                    j_177836 = i_177802;
                    while (loop_while_177832) {
                        bool x_177837 = sle64((int64_t) 0, j_177836);
                        bool y_177838 = slt64(j_177836, block_sizze_177727);
                        bool bounds_check_177839 = x_177837 && y_177838;
                        bool index_certs_177840;
                        
                        if (!bounds_check_177839) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177836, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177844 = add64((int64_t) 1, j_177836);
                        bool x_177845 = sle64((int64_t) 0, copy_arg0_177844);
                        bool y_177846 = slt64(copy_arg0_177844, block_sizze_177727);
                        bool bounds_check_177847 = x_177845 && y_177846;
                        bool index_certs_177848;
                        
                        if (!bounds_check_177847) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177844, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177841 = ((int8_t *) mem_181952)[j_177836];
                        int64_t copy_arg0_177842 = ((int64_t *) mem_181954)[j_177836];
                        int16_t copy_arg0_177843 = ((int16_t *) mem_181956)[j_177836];
                        int8_t copy_arg0_177849 = ((int8_t *) mem_181952)[copy_arg0_177844];
                        int64_t copy_arg0_177850 = ((int64_t *) mem_181954)[copy_arg0_177844];
                        int16_t copy_arg0_177851 = ((int16_t *) mem_181956)[copy_arg0_177844];
                        
                        ((int8_t *) mem_181952)[j_177836] = copy_arg0_177849;
                        ((int64_t *) mem_181954)[j_177836] = copy_arg0_177850;
                        ((int16_t *) mem_181956)[j_177836] = copy_arg0_177851;
                        ((int8_t *) mem_181952)[copy_arg0_177844] = copy_arg0_177841;
                        ((int64_t *) mem_181954)[copy_arg0_177844] = copy_arg0_177842;
                        ((int16_t *) mem_181956)[copy_arg0_177844] = copy_arg0_177843;
                        
                        int64_t tmp_177858 = sub64(j_177836, (int64_t) 1);
                        bool cond_177859 = sle64((int64_t) 0, tmp_177858);
                        bool loop_cond_177860;
                        
                        if (cond_177859) {
                            bool y_180580 = slt64(tmp_177858, block_sizze_177727);
                            bool bounds_check_180581 = cond_177859 && y_180580;
                            bool index_certs_180582;
                            
                            if (!bounds_check_180581) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177858, "] out of bounds for array of shape [", (long long) block_sizze_177727, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180577 = ((int8_t *) mem_181952)[j_177836];
                            int64_t gt_arg1_180578 = ((int64_t *) mem_181954)[j_177836];
                            int16_t gt_arg1_180579 = ((int16_t *) mem_181956)[j_177836];
                            int8_t gt_arg0_180583 = ((int8_t *) mem_181952)[tmp_177858];
                            int64_t gt_arg0_180584 = ((int64_t *) mem_181954)[tmp_177858];
                            int16_t gt_arg0_180585 = ((int16_t *) mem_181956)[tmp_177858];
                            bool cond_180586 = gt_arg0_180583 == gt_arg1_180577;
                            bool defunc_0_leq_res_t_res_180587 = sle64(gt_arg0_180584, gt_arg1_180578);
                            bool defunc_0_leq_res_180588 = sle16(gt_arg0_180585, gt_arg1_180579);
                            bool x_180589 = cond_180586 && defunc_0_leq_res_t_res_180587;
                            bool x_180590 = !cond_180586;
                            bool y_180591 = defunc_0_leq_res_180588 && x_180590;
                            bool defunc_0_leq_res_180592 = x_180589 || y_180591;
                            bool defunc_0_lifted_gt_res_180593 = !defunc_0_leq_res_180592;
                            
                            loop_cond_177860 = defunc_0_lifted_gt_res_180593;
                        } else {
                            loop_cond_177860 = 0;
                        }
                        
                        bool loop_while_tmp_182764 = loop_cond_177860;
                        int64_t j_tmp_182768 = tmp_177858;
                        
                        loop_while_177832 = loop_while_tmp_182764;
                        j_177836 = j_tmp_182768;
                    }
                    s_177827 = loop_while_177832;
                    s_177831 = j_177836;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181933, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181936, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181954, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181939, i_180961 * block_sizze_177727, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181956, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177727});
        }
        if (memblock_alloc(ctx, &mem_182033, flat_dim_177728, "mem_182033")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_182033.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint8_t *) mem_181933, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182037, bytes_181935, "mem_182037")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_182037.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint64_t *) mem_181936, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        if (memblock_alloc(ctx, &mem_182041, bytes_181938, "mem_182041")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_182041.mem, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (uint16_t *) mem_181939, (int64_t) 0, (int64_t []) {block_sizze_177727, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177717, block_sizze_177727});
        
        int64_t data_177884;
        bool data_177885;
        int64_t data_177889;
        int64_t loop_dz2084Uz2082U_177890;
        bool loop_while_177891;
        int64_t stride_177895;
        
        if (memblock_set(ctx, &mem_param_182045, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182048, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_182051, &mem_182041, "mem_182041") != 0)
            return 1;
        loop_dz2084Uz2082U_177890 = flat_dim_177728;
        loop_while_177891 = loop_cond_177881;
        stride_177895 = block_sizze_177727;
        while (loop_while_177891) {
            int64_t next_stride_177896 = mul64((int64_t) 2, stride_177895);
            bool zzero_177897 = next_stride_177896 == (int64_t) 0;
            bool nonzzero_177898 = !zzero_177897;
            bool nonzzero_cert_177899;
            
            if (!nonzzero_177898) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:466:63-73\n   #4  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177900 = sdiv64(flat_dim_177728, next_stride_177896);
            bool bounds_invalid_upwards_177901 = slt64(num_merges_177900, (int64_t) 0);
            bool valid_177902 = !bounds_invalid_upwards_177901;
            bool range_valid_c_177903;
            
            if (!valid_177902) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177900, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177905 = sub64(next_stride_177896, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177906 = sle64((int64_t) 0, m_177905);
            bool cond_177908 = slt64(next_stride_177896, (int64_t) 10);
            bool protect_assert_disj_177909 = nonzzero_177883 || cond_177908;
            bool nonzzero_cert_177910;
            
            if (!protect_assert_disj_177909) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177911 = smod_safe64(next_stride_177896, merge_block_sizze_177733);
            bool num_blocks_177912 = zeze_lhs_177911 == (int64_t) 0;
            bool protect_assert_disj_177913 = cond_177908 || num_blocks_177912;
            bool assert_c_177914;
            
            if (!protect_assert_disj_177913) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177916 = sdiv_safe64(next_stride_177896, merge_block_sizze_177733);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917 = add64((int64_t) 1, num_blocks_177916);
            int64_t j_m_i_177918 = sub64(next_stride_177896, stride_177895);
            int64_t flat_dim_177919 = merge_block_sizze_177733 * num_blocks_177916;
            bool bounds_invalid_upwards_177920 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, (int64_t) 0);
            bool empty_slice_177921 = j_m_i_177918 == (int64_t) 0;
            int64_t m_177922 = sub64(j_m_i_177918, (int64_t) 1);
            bool zzero_lte_i_177923 = sle64((int64_t) 0, stride_177895);
            bool i_lte_j_177924 = sle64(stride_177895, next_stride_177896);
            bool empty_slice_177925 = stride_177895 == (int64_t) 0;
            int64_t m_177926 = sub64(stride_177895, (int64_t) 1);
            bool bounds_invalid_upwards_177927 = slt64(num_blocks_177916, (int64_t) 0);
            bool cond_177928 = slt64((int64_t) 0, stride_177895);
            bool valid_177929 = !bounds_invalid_upwards_177920;
            int64_t i_p_m_t_s_177930 = add64(stride_177895, m_177922);
            bool zzero_leq_i_p_m_t_s_177931 = sle64((int64_t) 0, m_177926);
            bool i_p_m_t_s_leq_w_177932 = slt64(m_177926, next_stride_177896);
            bool valid_177933 = !bounds_invalid_upwards_177927;
            bool i_p_m_t_s_leq_w_177934 = slt64(m_177905, flat_dim_177919);
            bool y_177935 = slt64((int64_t) 0, j_m_i_177918);
            bool protect_assert_disj_177936 = cond_177908 || valid_177929;
            bool range_valid_c_177937;
            
            if (!protect_assert_disj_177936) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177938 = sle64((int64_t) 0, i_p_m_t_s_177930);
            bool i_p_m_t_s_leq_w_177939 = slt64(i_p_m_t_s_177930, next_stride_177896);
            bool y_177940 = zzero_leq_i_p_m_t_s_177931 && i_p_m_t_s_leq_w_177932;
            bool protect_assert_disj_177941 = cond_177908 || valid_177933;
            bool range_valid_c_177942;
            
            if (!protect_assert_disj_177941) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177916, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177943 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177934;
            bool y_177944 = zzero_lte_i_177923 && i_p_m_t_s_leq_w_177939;
            bool forwards_ok_177945 = zzero_lte_i_177923 && y_177940;
            bool ok_or_empty_177946 = zzero_177897 || y_177943;
            bool protect_assert_disj_177947 = cond_177928 || y_177935;
            bool y_177948 = zzero_leq_i_p_m_t_s_177938 && y_177944;
            bool ok_or_empty_177949 = empty_slice_177925 || forwards_ok_177945;
            bool protect_assert_disj_177950 = cond_177908 || ok_or_empty_177946;
            bool index_certs_177951;
            
            if (!protect_assert_disj_177950) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) flat_dim_177919, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177952 = !cond_177908;
            bool protect_assert_disj_177953 = protect_assert_disj_177947 || loop_not_taken_177952;
            bool index_certs_177954;
            
            if (!protect_assert_disj_177953) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177955 = i_lte_j_177924 && y_177948;
            bool protect_assert_disj_177956 = cond_177908 || ok_or_empty_177949;
            bool index_certs_177957;
            
            if (!protect_assert_disj_177956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177958 = ok_or_empty_177949 || loop_not_taken_177952;
            bool index_certs_177959;
            
            if (!protect_assert_disj_177958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177895, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177960 = empty_slice_177921 || forwards_ok_177955;
            bool protect_assert_disj_177961 = cond_177908 || ok_or_empty_177960;
            bool index_certs_177962;
            
            if (!protect_assert_disj_177961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177963 = loop_not_taken_177952 || ok_or_empty_177960;
            bool index_certs_177964;
            
            if (!protect_assert_disj_177963) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177895, ":] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_182052 = next_stride_177896 * num_merges_177900;
            int64_t binop_x_182054 = (int64_t) 8 * num_merges_177900;
            int64_t bytes_182055 = next_stride_177896 * binop_x_182054;
            int64_t binop_x_182057 = (int64_t) 2 * num_merges_177900;
            int64_t bytes_182058 = next_stride_177896 * binop_x_182057;
            bool i_lte_j_177907 = sle64((int64_t) 0, next_stride_177896);
            
            if (mem_182053_cached_sizze_183133 < bytes_182052) {
                err = lexical_realloc(ctx, &mem_182053, &mem_182053_cached_sizze_183133, bytes_182052);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182056_cached_sizze_183134 < bytes_182055) {
                err = lexical_realloc(ctx, &mem_182056, &mem_182056_cached_sizze_183134, bytes_182055);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_182059_cached_sizze_183135 < bytes_182058) {
                err = lexical_realloc(ctx, &mem_182059, &mem_182059_cached_sizze_183135, bytes_182058);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_182072 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917;
            int64_t binop_x_182090 = (int64_t) 8 * num_blocks_177916;
            int64_t bytes_182091 = merge_block_sizze_177733 * binop_x_182090;
            int64_t binop_x_182093 = (int64_t) 2 * num_blocks_177916;
            int64_t bytes_182094 = merge_block_sizze_177733 * binop_x_182093;
            int64_t bytes_182155 = (int64_t) 16 * stride_177895;
            int64_t bytes_182157 = (int64_t) 4 * stride_177895;
            
            for (int64_t i_180988 = 0; i_180988 < num_merges_177900; i_180988++) {
                int64_t start_177969 = mul64(next_stride_177896, i_180988);
                int64_t j_m_i_177970 = sub64(loop_dz2084Uz2082U_177890, start_177969);
                bool empty_slice_177971 = j_m_i_177970 == (int64_t) 0;
                int64_t m_177972 = sub64(j_m_i_177970, (int64_t) 1);
                int64_t i_p_m_t_s_177973 = add64(start_177969, m_177972);
                bool zzero_leq_i_p_m_t_s_177974 = sle64((int64_t) 0, i_p_m_t_s_177973);
                bool i_p_m_t_s_leq_w_177975 = slt64(i_p_m_t_s_177973, loop_dz2084Uz2082U_177890);
                bool zzero_lte_i_177976 = sle64((int64_t) 0, start_177969);
                bool i_lte_j_177977 = sle64(start_177969, loop_dz2084Uz2082U_177890);
                bool y_177978 = i_p_m_t_s_leq_w_177975 && zzero_lte_i_177976;
                bool y_177979 = zzero_leq_i_p_m_t_s_177974 && y_177978;
                bool forwards_ok_177980 = i_lte_j_177977 && y_177979;
                bool ok_or_empty_177981 = empty_slice_177971 || forwards_ok_177980;
                bool index_certs_177982;
                
                if (!ok_or_empty_177981) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177969, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177890, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177983 = slt64(m_177905, j_m_i_177970);
                bool y_177984 = zzero_leq_i_p_m_t_s_177906 && i_p_m_t_s_leq_w_177983;
                bool forwards_ok_177985 = i_lte_j_177907 && y_177984;
                bool ok_or_empty_177986 = zzero_177897 || forwards_ok_177985;
                bool index_certs_177987;
                
                if (!ok_or_empty_177986) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177896, "] out of bounds for array of shape [", (long long) j_m_i_177970, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:466:63-73\n   #7  ftsort.fut:459:1-466:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177908) {
                    int8_t dummy_180632;
                    int64_t dummy_180633;
                    int16_t dummy_180634;
                    
                    if (cond_177928) {
                        int8_t head_res_180635 = ((int8_t *) mem_param_182045.mem)[start_177969];
                        int64_t head_res_180636 = ((int64_t *) mem_param_182048.mem)[start_177969];
                        int16_t head_res_180637 = ((int16_t *) mem_param_182051.mem)[start_177969];
                        
                        dummy_180632 = head_res_180635;
                        dummy_180633 = head_res_180636;
                        dummy_180634 = head_res_180637;
                    } else {
                        int64_t slice_180638 = stride_177895 + start_177969;
                        int8_t head_res_180639 = ((int8_t *) mem_param_182045.mem)[slice_180638];
                        int64_t head_res_180640 = ((int64_t *) mem_param_182048.mem)[slice_180638];
                        int16_t head_res_180641 = ((int16_t *) mem_param_182051.mem)[slice_180638];
                        
                        dummy_180632 = head_res_180639;
                        dummy_180633 = head_res_180640;
                        dummy_180634 = head_res_180641;
                    }
                    if (memblock_alloc(ctx, &mem_182154, next_stride_177896, "mem_182154")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182781 = 0; nest_i_182781 < next_stride_177896; nest_i_182781++) {
                        ((int8_t *) mem_182154.mem)[nest_i_182781] = dummy_180632;
                    }
                    if (memblock_alloc(ctx, &mem_182156, bytes_182155, "mem_182156")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182782 = 0; nest_i_182782 < next_stride_177896; nest_i_182782++) {
                        ((int64_t *) mem_182156.mem)[nest_i_182782] = dummy_180633;
                    }
                    if (memblock_alloc(ctx, &mem_182158, bytes_182157, "mem_182158")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182783 = 0; nest_i_182783 < next_stride_177896; nest_i_182783++) {
                        ((int16_t *) mem_182158.mem)[nest_i_182783] = dummy_180634;
                    }
                    
                    int64_t data_180645;
                    int64_t i_180650 = (int64_t) 0;
                    
                    for (int64_t k_180649 = 0; k_180649 < next_stride_177896; k_180649++) {
                        int64_t j_180654 = sub64(k_180649, i_180650);
                        bool cond_180655 = j_180654 == j_m_i_177918;
                        bool cond_180656;
                        
                        if (cond_180655) {
                            cond_180656 = 1;
                        } else {
                            bool cond_180657 = slt64(i_180650, stride_177895);
                            bool cond_f_res_180658;
                            
                            if (cond_180657) {
                                bool x_180659 = sle64((int64_t) 0, j_180654);
                                bool y_180660 = slt64(j_180654, j_m_i_177918);
                                bool bounds_check_180661 = x_180659 && y_180660;
                                bool index_certs_180662;
                                
                                if (!bounds_check_180661) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180668 = sle64((int64_t) 0, i_180650);
                                bool bounds_check_180669 = cond_180657 && x_180668;
                                bool index_certs_180670;
                                
                                if (!bounds_check_180669) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180663 = stride_177895 + j_180654;
                                int64_t slice_180664 = start_177969 + slice_180663;
                                int8_t leq_arg1_180665 = ((int8_t *) mem_param_182045.mem)[slice_180664];
                                int64_t leq_arg1_180666 = ((int64_t *) mem_param_182048.mem)[slice_180664];
                                int16_t leq_arg1_180667 = ((int16_t *) mem_param_182051.mem)[slice_180664];
                                int64_t slice_180671 = start_177969 + i_180650;
                                int8_t leq_arg0_180672 = ((int8_t *) mem_param_182045.mem)[slice_180671];
                                int64_t leq_arg0_180673 = ((int64_t *) mem_param_182048.mem)[slice_180671];
                                int16_t leq_arg0_180674 = ((int16_t *) mem_param_182051.mem)[slice_180671];
                                bool cond_180675 = leq_arg0_180672 == leq_arg1_180665;
                                bool defunc_0_leq_res_t_res_180676 = sle64(leq_arg0_180673, leq_arg1_180666);
                                bool defunc_0_leq_res_180677 = sle16(leq_arg0_180674, leq_arg1_180667);
                                bool x_180678 = cond_180675 && defunc_0_leq_res_t_res_180676;
                                bool x_180679 = !cond_180675;
                                bool y_180680 = defunc_0_leq_res_180677 && x_180679;
                                bool defunc_0_leq_res_180681 = x_180678 || y_180680;
                                
                                cond_f_res_180658 = defunc_0_leq_res_180681;
                            } else {
                                cond_f_res_180658 = 0;
                            }
                            cond_180656 = cond_f_res_180658;
                        }
                        
                        int64_t loopres_180682;
                        int8_t loopres_180683;
                        int64_t loopres_180684;
                        int16_t loopres_180685;
                        
                        if (cond_180656) {
                            bool x_180687 = sle64((int64_t) 0, i_180650);
                            bool y_180688 = slt64(i_180650, stride_177895);
                            bool bounds_check_180689 = x_180687 && y_180688;
                            bool index_certs_180690;
                            
                            if (!bounds_check_180689) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180650, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180686 = add64((int64_t) 1, i_180650);
                            int64_t slice_180691 = start_177969 + i_180650;
                            int8_t tmp_180692 = ((int8_t *) mem_param_182045.mem)[slice_180691];
                            int64_t tmp_180693 = ((int64_t *) mem_param_182048.mem)[slice_180691];
                            int16_t tmp_180694 = ((int16_t *) mem_param_182051.mem)[slice_180691];
                            
                            loopres_180682 = tmp_180686;
                            loopres_180683 = tmp_180692;
                            loopres_180684 = tmp_180693;
                            loopres_180685 = tmp_180694;
                        } else {
                            bool x_180695 = sle64((int64_t) 0, j_180654);
                            bool y_180696 = slt64(j_180654, j_m_i_177918);
                            bool bounds_check_180697 = x_180695 && y_180696;
                            bool index_certs_180698;
                            
                            if (!bounds_check_180697) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180654, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:466:63-73\n   #8  ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180699 = stride_177895 + j_180654;
                            int64_t slice_180700 = start_177969 + slice_180699;
                            int8_t tmp_180701 = ((int8_t *) mem_param_182045.mem)[slice_180700];
                            int64_t tmp_180702 = ((int64_t *) mem_param_182048.mem)[slice_180700];
                            int16_t tmp_180703 = ((int16_t *) mem_param_182051.mem)[slice_180700];
                            
                            loopres_180682 = i_180650;
                            loopres_180683 = tmp_180701;
                            loopres_180684 = tmp_180702;
                            loopres_180685 = tmp_180703;
                        }
                        ((int8_t *) mem_182154.mem)[k_180649] = loopres_180683;
                        ((int64_t *) mem_182156.mem)[k_180649] = loopres_180684;
                        ((int16_t *) mem_182158.mem)[k_180649] = loopres_180685;
                        
                        int64_t i_tmp_182784 = loopres_180682;
                        
                        i_180650 = i_tmp_182784;
                    }
                    data_180645 = i_180650;
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182154, "mem_182154") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182156, "mem_182156") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182158, "mem_182158") != 0)
                        return 1;
                } else {
                    if (mem_182073_cached_sizze_183136 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182073, &mem_182073_cached_sizze_183136, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182075_cached_sizze_183137 < bytes_182072) {
                        err = lexical_realloc(ctx, &mem_182075, &mem_182075_cached_sizze_183137, bytes_182072);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180969 = 0; i_180969 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917; i_180969++) {
                        int64_t split_count_arg3_178070 = mul64(merge_block_sizze_177733, i_180969);
                        int64_t defunc_0_split_count_res_178071;
                        int64_t defunc_0_split_count_res_178072;
                        int64_t defunc_0_split_count_res_178073;
                        int64_t defunc_0_split_count_res_178074;
                        int64_t defunc_0_split_count_res_178075;
                        
                        if (futrts_lifted_normalizze_9161(ctx, &defunc_0_split_count_res_178071, &defunc_0_split_count_res_178072, &defunc_0_split_count_res_178073, &defunc_0_split_count_res_178074, &defunc_0_split_count_res_178075, (int64_t) 0, stride_177895, (int64_t) 0, j_m_i_177918, split_count_arg3_178070) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_178076 = slt64((int64_t) 0, defunc_0_split_count_res_178075);
                        bool defunc_0_split_count_res_178077;
                        int64_t defunc_0_split_count_res_178078;
                        int64_t defunc_0_split_count_res_178079;
                        int64_t defunc_0_split_count_res_178080;
                        int64_t defunc_0_split_count_res_178081;
                        int64_t defunc_0_split_count_res_178082;
                        bool loop_while_178083;
                        int64_t ss_178084;
                        int64_t ss_178085;
                        int64_t tt_178086;
                        int64_t tt_178087;
                        int64_t count_178088;
                        
                        loop_while_178083 = loop_cond_178076;
                        ss_178084 = defunc_0_split_count_res_178071;
                        ss_178085 = defunc_0_split_count_res_178072;
                        tt_178086 = defunc_0_split_count_res_178073;
                        tt_178087 = defunc_0_split_count_res_178074;
                        count_178088 = defunc_0_split_count_res_178075;
                        while (loop_while_178083) {
                            int64_t zlze_lhs_178089 = sub64(ss_178085, ss_178084);
                            bool cond_178090 = sle64(zlze_lhs_178089, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_178091;
                            int64_t defunc_0_lifted_step_res_178092;
                            int64_t defunc_0_lifted_step_res_178093;
                            int64_t defunc_0_lifted_step_res_178094;
                            
                            if (cond_178090) {
                                int64_t tmp_180707 = add64(tt_178086, count_178088);
                                
                                defunc_0_lifted_step_res_178091 = ss_178084;
                                defunc_0_lifted_step_res_178092 = tmp_180707;
                                defunc_0_lifted_step_res_178093 = tt_178087;
                                defunc_0_lifted_step_res_178094 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_178096 = sub64(tt_178087, tt_178086);
                                bool cond_178097 = sle64(zlze_lhs_178096, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_178098;
                                int64_t defunc_0_lifted_step_res_f_res_178099;
                                int64_t defunc_0_lifted_step_res_f_res_178100;
                                int64_t defunc_0_lifted_step_res_f_res_178101;
                                
                                if (cond_178097) {
                                    int64_t tmp_180708 = add64(ss_178084, count_178088);
                                    
                                    defunc_0_lifted_step_res_f_res_178098 = tmp_180708;
                                    defunc_0_lifted_step_res_f_res_178099 = tt_178086;
                                    defunc_0_lifted_step_res_f_res_178100 = tt_178087;
                                    defunc_0_lifted_step_res_f_res_178101 = (int64_t) 0;
                                } else {
                                    bool cond_178103 = count_178088 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178104;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178105;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178106;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178107;
                                    
                                    if (cond_178103) {
                                        bool x_180710 = sle64((int64_t) 0, ss_178084);
                                        bool y_180711 = slt64(ss_178084, stride_177895);
                                        bool bounds_check_180712 = x_180710 && y_180711;
                                        bool index_certs_180713;
                                        
                                        if (!bounds_check_180712) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178084, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180718 = sle64((int64_t) 0, tt_178086);
                                        bool y_180719 = slt64(tt_178086, j_m_i_177918);
                                        bool bounds_check_180720 = x_180718 && y_180719;
                                        bool index_certs_180721;
                                        
                                        if (!bounds_check_180720) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178086, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180714 = start_177969 + ss_178084;
                                        int8_t leq_arg1_180715 = ((int8_t *) mem_param_182045.mem)[slice_180714];
                                        int64_t leq_arg1_180716 = ((int64_t *) mem_param_182048.mem)[slice_180714];
                                        int16_t leq_arg1_180717 = ((int16_t *) mem_param_182051.mem)[slice_180714];
                                        int64_t slice_180722 = stride_177895 + tt_178086;
                                        int64_t slice_180723 = start_177969 + slice_180722;
                                        int8_t leq_arg0_180724 = ((int8_t *) mem_param_182045.mem)[slice_180723];
                                        int64_t leq_arg0_180725 = ((int64_t *) mem_param_182048.mem)[slice_180723];
                                        int16_t leq_arg0_180726 = ((int16_t *) mem_param_182051.mem)[slice_180723];
                                        bool cond_180727 = leq_arg0_180724 == leq_arg1_180715;
                                        bool defunc_0_leq_res_t_res_180728 = sle64(leq_arg0_180725, leq_arg1_180716);
                                        bool defunc_0_leq_res_180729 = sle16(leq_arg0_180726, leq_arg1_180717);
                                        bool x_180730 = cond_180727 && defunc_0_leq_res_t_res_180728;
                                        bool x_180731 = !cond_180727;
                                        bool y_180732 = defunc_0_leq_res_180729 && x_180731;
                                        bool defunc_0_leq_res_180733 = x_180730 || y_180732;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        
                                        if (defunc_0_leq_res_180733) {
                                            int64_t tmp_180736 = add64((int64_t) 1, tt_178086);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = ss_178084;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tmp_180736;
                                        } else {
                                            int64_t tmp_180737 = add64((int64_t) 1, ss_178084);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180734 = tmp_180737;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180735 = tt_178086;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = defunc_0_lifted_step_res_f_res_f_res_t_res_180734;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_t_res_180735;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = tt_178087;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = (int64_t) 0;
                                    } else {
                                        int64_t m_178136 = sdiv64(count_178088, (int64_t) 2);
                                        int64_t n_178137 = sub64(count_178088, m_178136);
                                        bool cond_178138 = n_178137 == (int64_t) 0;
                                        int64_t zgze_lhs_178139 = add64(ss_178084, m_178136);
                                        bool cond_f_res_178140 = sle64(ss_178085, zgze_lhs_178139);
                                        bool x_178141 = !cond_178138;
                                        bool y_178142 = cond_f_res_178140 && x_178141;
                                        bool cond_178143 = cond_178138 || y_178142;
                                        bool leq_y_x_178144;
                                        
                                        if (cond_178143) {
                                            leq_y_x_178144 = 1;
                                        } else {
                                            bool x_178145 = sle64((int64_t) 0, zgze_lhs_178139);
                                            bool y_178146 = slt64(zgze_lhs_178139, stride_177895);
                                            bool bounds_check_178147 = x_178145 && y_178146;
                                            bool index_certs_178148;
                                            
                                            if (!bounds_check_178147) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178139, "] out of bounds for array of shape [", (long long) stride_177895, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178153 = add64(tt_178086, n_178137);
                                            int64_t leq_arg0_178154 = sub64(zm_lhs_178153, (int64_t) 1);
                                            bool x_178155 = sle64((int64_t) 0, leq_arg0_178154);
                                            bool y_178156 = slt64(leq_arg0_178154, j_m_i_177918);
                                            bool bounds_check_178157 = x_178155 && y_178156;
                                            bool index_certs_178158;
                                            
                                            if (!bounds_check_178157) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178154, "] out of bounds for array of shape [", (long long) j_m_i_177918, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:466:63-73\n   #12 ftsort.fut:459:1-466:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178149 = start_177969 + zgze_lhs_178139;
                                            int8_t leq_arg1_178150 = ((int8_t *) mem_param_182045.mem)[slice_178149];
                                            int64_t leq_arg1_178151 = ((int64_t *) mem_param_182048.mem)[slice_178149];
                                            int16_t leq_arg1_178152 = ((int16_t *) mem_param_182051.mem)[slice_178149];
                                            int64_t slice_178159 = stride_177895 + leq_arg0_178154;
                                            int64_t slice_178160 = start_177969 + slice_178159;
                                            int8_t leq_arg0_178161 = ((int8_t *) mem_param_182045.mem)[slice_178160];
                                            int64_t leq_arg0_178162 = ((int64_t *) mem_param_182048.mem)[slice_178160];
                                            int16_t leq_arg0_178163 = ((int16_t *) mem_param_182051.mem)[slice_178160];
                                            bool cond_178164 = leq_arg0_178161 == leq_arg1_178150;
                                            bool defunc_0_leq_res_t_res_178165 = sle64(leq_arg0_178162, leq_arg1_178151);
                                            bool defunc_0_leq_res_178166 = sle16(leq_arg0_178163, leq_arg1_178152);
                                            bool x_178167 = cond_178164 && defunc_0_leq_res_t_res_178165;
                                            bool x_178168 = !cond_178164;
                                            bool y_178169 = defunc_0_leq_res_178166 && x_178168;
                                            bool defunc_0_leq_res_178170 = x_178167 || y_178169;
                                            
                                            leq_y_x_178144 = defunc_0_leq_res_178170;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                        
                                        if (leq_y_x_178144) {
                                            int64_t tmp_180738 = add64(tt_178086, n_178137);
                                            int64_t tmp_180739 = sub64(count_178088, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tmp_180738;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tt_178087;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = tmp_180739;
                                        } else {
                                            int64_t tmp_178176 = add64(tt_178086, n_178137);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178171 = tt_178086;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178172 = tmp_178176;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178173 = count_178088;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178104 = ss_178084;
                                        defunc_0_lifted_step_res_f_res_f_res_178105 = defunc_0_lifted_step_res_f_res_f_res_f_res_178171;
                                        defunc_0_lifted_step_res_f_res_f_res_178106 = defunc_0_lifted_step_res_f_res_f_res_f_res_178172;
                                        defunc_0_lifted_step_res_f_res_f_res_178107 = defunc_0_lifted_step_res_f_res_f_res_f_res_178173;
                                    }
                                    defunc_0_lifted_step_res_f_res_178098 = defunc_0_lifted_step_res_f_res_f_res_178104;
                                    defunc_0_lifted_step_res_f_res_178099 = defunc_0_lifted_step_res_f_res_f_res_178105;
                                    defunc_0_lifted_step_res_f_res_178100 = defunc_0_lifted_step_res_f_res_f_res_178106;
                                    defunc_0_lifted_step_res_f_res_178101 = defunc_0_lifted_step_res_f_res_f_res_178107;
                                }
                                defunc_0_lifted_step_res_178091 = defunc_0_lifted_step_res_f_res_178098;
                                defunc_0_lifted_step_res_178092 = defunc_0_lifted_step_res_f_res_178099;
                                defunc_0_lifted_step_res_178093 = defunc_0_lifted_step_res_f_res_178100;
                                defunc_0_lifted_step_res_178094 = defunc_0_lifted_step_res_f_res_178101;
                            }
                            
                            int64_t loopres_178177;
                            int64_t loopres_178178;
                            int64_t loopres_178179;
                            int64_t loopres_178180;
                            int64_t loopres_178181;
                            
                            if (futrts_lifted_normalizze_9161(ctx, &loopres_178177, &loopres_178178, &loopres_178179, &loopres_178180, &loopres_178181, defunc_0_lifted_step_res_178091, ss_178085, defunc_0_lifted_step_res_178092, defunc_0_lifted_step_res_178093, defunc_0_lifted_step_res_178094) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178182 = slt64((int64_t) 0, loopres_178181);
                            bool loop_while_tmp_182790 = loop_cond_178182;
                            int64_t ss_tmp_182791 = loopres_178177;
                            int64_t ss_tmp_182792 = loopres_178178;
                            int64_t tt_tmp_182793 = loopres_178179;
                            int64_t tt_tmp_182794 = loopres_178180;
                            int64_t count_tmp_182795 = loopres_178181;
                            
                            loop_while_178083 = loop_while_tmp_182790;
                            ss_178084 = ss_tmp_182791;
                            ss_178085 = ss_tmp_182792;
                            tt_178086 = tt_tmp_182793;
                            tt_178087 = tt_tmp_182794;
                            count_178088 = count_tmp_182795;
                        }
                        defunc_0_split_count_res_178077 = loop_while_178083;
                        defunc_0_split_count_res_178078 = ss_178084;
                        defunc_0_split_count_res_178079 = ss_178085;
                        defunc_0_split_count_res_178080 = tt_178086;
                        defunc_0_split_count_res_178081 = tt_178087;
                        defunc_0_split_count_res_178082 = count_178088;
                        ((int64_t *) mem_182073)[i_180969] = defunc_0_split_count_res_178078;
                        ((int64_t *) mem_182075)[i_180969] = defunc_0_split_count_res_178080;
                    }
                    if (mem_182089_cached_sizze_183138 < flat_dim_177919) {
                        err = lexical_realloc(ctx, &mem_182089, &mem_182089_cached_sizze_183138, flat_dim_177919);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182092_cached_sizze_183139 < bytes_182091) {
                        err = lexical_realloc(ctx, &mem_182092, &mem_182092_cached_sizze_183139, bytes_182091);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_182095_cached_sizze_183140 < bytes_182094) {
                        err = lexical_realloc(ctx, &mem_182095, &mem_182095_cached_sizze_183140, bytes_182094);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180978 = 0; i_180978 < num_blocks_177916; i_180978++) {
                        bool y_178189 = slt64(i_180978, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool index_certs_178191;
                        
                        if (!y_178189) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180978, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178192 = ((int64_t *) mem_182073)[i_180978];
                        int64_t defunc_0_f_res_178193 = ((int64_t *) mem_182075)[i_180978];
                        int64_t tmp_178194 = add64((int64_t) 1, i_180978);
                        bool x_178195 = sle64((int64_t) 0, tmp_178194);
                        bool y_178196 = slt64(tmp_178194, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917);
                        bool bounds_check_178197 = x_178195 && y_178196;
                        bool index_certs_178198;
                        
                        if (!bounds_check_178197) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178194, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177917, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178199 = ((int64_t *) mem_182073)[tmp_178194];
                        int64_t defunc_0_f_res_178200 = ((int64_t *) mem_182075)[tmp_178194];
                        int64_t merge_sequential_arg2_178201 = add64(stride_177895, defunc_0_f_res_178193);
                        int64_t merge_sequential_arg2_178202 = add64(stride_177895, defunc_0_f_res_178200);
                        int64_t j_m_i_178203 = sub64(merge_sequential_arg2_178202, merge_sequential_arg2_178201);
                        bool empty_slice_178204 = j_m_i_178203 == (int64_t) 0;
                        int64_t m_178205 = sub64(j_m_i_178203, (int64_t) 1);
                        int64_t i_p_m_t_s_178206 = add64(merge_sequential_arg2_178201, m_178205);
                        bool zzero_leq_i_p_m_t_s_178207 = sle64((int64_t) 0, i_p_m_t_s_178206);
                        bool i_p_m_t_s_leq_w_178208 = slt64(i_p_m_t_s_178206, next_stride_177896);
                        bool zzero_lte_i_178209 = sle64((int64_t) 0, merge_sequential_arg2_178201);
                        bool i_lte_j_178210 = sle64(merge_sequential_arg2_178201, merge_sequential_arg2_178202);
                        bool y_178211 = i_p_m_t_s_leq_w_178208 && zzero_lte_i_178209;
                        bool y_178212 = zzero_leq_i_p_m_t_s_178207 && y_178211;
                        bool forwards_ok_178213 = i_lte_j_178210 && y_178212;
                        bool ok_or_empty_178214 = empty_slice_178204 || forwards_ok_178213;
                        bool index_certs_178215;
                        
                        if (!ok_or_empty_178214) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178201, ":", (long long) merge_sequential_arg2_178202, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178216 = sub64(defunc_0_f_res_178199, defunc_0_f_res_178192);
                        bool empty_slice_178217 = j_m_i_178216 == (int64_t) 0;
                        int64_t m_178218 = sub64(j_m_i_178216, (int64_t) 1);
                        int64_t i_p_m_t_s_178219 = add64(defunc_0_f_res_178192, m_178218);
                        bool zzero_leq_i_p_m_t_s_178220 = sle64((int64_t) 0, i_p_m_t_s_178219);
                        bool i_p_m_t_s_leq_w_178221 = slt64(i_p_m_t_s_178219, next_stride_177896);
                        bool zzero_lte_i_178222 = sle64((int64_t) 0, defunc_0_f_res_178192);
                        bool i_lte_j_178223 = sle64(defunc_0_f_res_178192, defunc_0_f_res_178199);
                        bool y_178224 = i_p_m_t_s_leq_w_178221 && zzero_lte_i_178222;
                        bool y_178225 = zzero_leq_i_p_m_t_s_178220 && y_178224;
                        bool forwards_ok_178226 = i_lte_j_178223 && y_178225;
                        bool ok_or_empty_178227 = empty_slice_178217 || forwards_ok_178226;
                        bool index_certs_178228;
                        
                        if (!ok_or_empty_178227) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178192, ":", (long long) defunc_0_f_res_178199, "] out of bounds for array of shape [", (long long) next_stride_177896, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:466:63-73\n   #9  ftsort.fut:459:1-466:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178229 = slt64((int64_t) 0, j_m_i_178216);
                        int8_t dummy_178230;
                        int64_t dummy_178231;
                        int16_t dummy_178232;
                        
                        if (cond_178229) {
                            bool index_certs_180740;
                            
                            if (!cond_178229) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180741 = start_177969 + defunc_0_f_res_178192;
                            int8_t head_res_180742 = ((int8_t *) mem_param_182045.mem)[slice_180741];
                            int64_t head_res_180743 = ((int64_t *) mem_param_182048.mem)[slice_180741];
                            int16_t head_res_180744 = ((int16_t *) mem_param_182051.mem)[slice_180741];
                            
                            dummy_178230 = head_res_180742;
                            dummy_178231 = head_res_180743;
                            dummy_178232 = head_res_180744;
                        } else {
                            bool y_178238 = slt64((int64_t) 0, j_m_i_178203);
                            bool index_certs_178239;
                            
                            if (!y_178238) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:466:63-73\n   #11 ftsort.fut:459:1-466:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178240 = start_177969 + merge_sequential_arg2_178201;
                            int8_t head_res_178241 = ((int8_t *) mem_param_182045.mem)[slice_178240];
                            int64_t head_res_178242 = ((int64_t *) mem_param_182048.mem)[slice_178240];
                            int16_t head_res_178243 = ((int16_t *) mem_param_182051.mem)[slice_178240];
                            
                            dummy_178230 = head_res_178241;
                            dummy_178231 = head_res_178242;
                            dummy_178232 = head_res_178243;
                        }
                        for (int64_t nest_i_182799 = 0; nest_i_182799 < merge_block_sizze_177733; nest_i_182799++) {
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + nest_i_182799] = dummy_178230;
                        }
                        for (int64_t nest_i_182800 = 0; nest_i_182800 < merge_block_sizze_177733; nest_i_182800++) {
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + nest_i_182800] = dummy_178231;
                        }
                        for (int64_t nest_i_182801 = 0; nest_i_182801 < merge_block_sizze_177733; nest_i_182801++) {
                            ((int16_t *) mem_182095)[i_180978 * merge_block_sizze_177733 + nest_i_182801] = dummy_178232;
                        }
                        
                        int64_t data_178247;
                        int64_t i_178252 = (int64_t) 0;
                        
                        for (int64_t k_178251 = 0; k_178251 < merge_block_sizze_177733; k_178251++) {
                            int64_t j_178256 = sub64(k_178251, i_178252);
                            bool cond_178257 = j_178256 == j_m_i_178203;
                            bool cond_178258;
                            
                            if (cond_178257) {
                                cond_178258 = 1;
                            } else {
                                bool cond_178259 = slt64(i_178252, j_m_i_178216);
                                bool cond_f_res_178260;
                                
                                if (cond_178259) {
                                    bool x_180745 = sle64((int64_t) 0, j_178256);
                                    bool y_180746 = slt64(j_178256, j_m_i_178203);
                                    bool bounds_check_180747 = x_180745 && y_180746;
                                    bool index_certs_180748;
                                    
                                    if (!bounds_check_180747) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180754 = sle64((int64_t) 0, i_178252);
                                    bool bounds_check_180755 = cond_178259 && x_180754;
                                    bool index_certs_180756;
                                    
                                    if (!bounds_check_180755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180749 = merge_sequential_arg2_178201 + j_178256;
                                    int64_t slice_180750 = start_177969 + slice_180749;
                                    int8_t leq_arg1_180751 = ((int8_t *) mem_param_182045.mem)[slice_180750];
                                    int64_t leq_arg1_180752 = ((int64_t *) mem_param_182048.mem)[slice_180750];
                                    int16_t leq_arg1_180753 = ((int16_t *) mem_param_182051.mem)[slice_180750];
                                    int64_t slice_180757 = defunc_0_f_res_178192 + i_178252;
                                    int64_t slice_180758 = start_177969 + slice_180757;
                                    int8_t leq_arg0_180759 = ((int8_t *) mem_param_182045.mem)[slice_180758];
                                    int64_t leq_arg0_180760 = ((int64_t *) mem_param_182048.mem)[slice_180758];
                                    int16_t leq_arg0_180761 = ((int16_t *) mem_param_182051.mem)[slice_180758];
                                    bool cond_180762 = leq_arg0_180759 == leq_arg1_180751;
                                    bool defunc_0_leq_res_t_res_180763 = sle64(leq_arg0_180760, leq_arg1_180752);
                                    bool defunc_0_leq_res_180764 = sle16(leq_arg0_180761, leq_arg1_180753);
                                    bool x_180765 = cond_180762 && defunc_0_leq_res_t_res_180763;
                                    bool x_180766 = !cond_180762;
                                    bool y_180767 = defunc_0_leq_res_180764 && x_180766;
                                    bool defunc_0_leq_res_180768 = x_180765 || y_180767;
                                    
                                    cond_f_res_178260 = defunc_0_leq_res_180768;
                                } else {
                                    cond_f_res_178260 = 0;
                                }
                                cond_178258 = cond_f_res_178260;
                            }
                            
                            int64_t loopres_178285;
                            int8_t loopres_178286;
                            int64_t loopres_178287;
                            int16_t loopres_178288;
                            
                            if (cond_178258) {
                                bool x_180770 = sle64((int64_t) 0, i_178252);
                                bool y_180771 = slt64(i_178252, j_m_i_178216);
                                bool bounds_check_180772 = x_180770 && y_180771;
                                bool index_certs_180773;
                                
                                if (!bounds_check_180772) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178252, "] out of bounds for array of shape [", (long long) j_m_i_178216, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180769 = add64((int64_t) 1, i_178252);
                                int64_t slice_180774 = defunc_0_f_res_178192 + i_178252;
                                int64_t slice_180775 = start_177969 + slice_180774;
                                int8_t tmp_180776 = ((int8_t *) mem_param_182045.mem)[slice_180775];
                                int64_t tmp_180777 = ((int64_t *) mem_param_182048.mem)[slice_180775];
                                int16_t tmp_180778 = ((int16_t *) mem_param_182051.mem)[slice_180775];
                                
                                loopres_178285 = tmp_180769;
                                loopres_178286 = tmp_180776;
                                loopres_178287 = tmp_180777;
                                loopres_178288 = tmp_180778;
                            } else {
                                bool x_178299 = sle64((int64_t) 0, j_178256);
                                bool y_178300 = slt64(j_178256, j_m_i_178203);
                                bool bounds_check_178301 = x_178299 && y_178300;
                                bool index_certs_178302;
                                
                                if (!bounds_check_178301) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178256, "] out of bounds for array of shape [", (long long) j_m_i_178203, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:466:63-73\n   #10 ftsort.fut:459:1-466:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178303 = merge_sequential_arg2_178201 + j_178256;
                                int64_t slice_178304 = start_177969 + slice_178303;
                                int8_t tmp_178305 = ((int8_t *) mem_param_182045.mem)[slice_178304];
                                int64_t tmp_178306 = ((int64_t *) mem_param_182048.mem)[slice_178304];
                                int16_t tmp_178307 = ((int16_t *) mem_param_182051.mem)[slice_178304];
                                
                                loopres_178285 = i_178252;
                                loopres_178286 = tmp_178305;
                                loopres_178287 = tmp_178306;
                                loopres_178288 = tmp_178307;
                            }
                            ((int8_t *) mem_182089)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178286;
                            ((int64_t *) mem_182092)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178287;
                            ((int16_t *) mem_182095)[i_180978 * merge_block_sizze_177733 + k_178251] = loopres_178288;
                            
                            int64_t i_tmp_182802 = loopres_178285;
                            
                            i_178252 = i_tmp_182802;
                        }
                        data_178247 = i_178252;
                    }
                    if (memblock_alloc(ctx, &mem_182144, flat_dim_177919, "mem_182144")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182144.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint8_t *) mem_182089, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182148, bytes_182091, "mem_182148")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182148.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint64_t *) mem_182092, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_alloc(ctx, &mem_182152, bytes_182094, "mem_182152")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_182152.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (uint16_t *) mem_182095, (int64_t) 0, (int64_t []) {merge_block_sizze_177733, (int64_t) 1}, (int64_t []) {num_blocks_177916, merge_block_sizze_177733});
                    if (memblock_set(ctx, &ext_mem_182185, &mem_182144, "mem_182144") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182182, &mem_182148, "mem_182148") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182179, &mem_182152, "mem_182152") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_182053, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182185.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_182056, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182182.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_182059, i_180988 * next_stride_177896, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_182179.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177896});
                if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182199, bytes_182052, "mem_182199")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182199.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint8_t *) mem_182053, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182203, bytes_182055, "mem_182203")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182203.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint64_t *) mem_182056, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            if (memblock_alloc(ctx, &mem_182207, bytes_182058, "mem_182207")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_182207.mem, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (uint16_t *) mem_182059, (int64_t) 0, (int64_t []) {next_stride_177896, (int64_t) 1}, (int64_t []) {num_merges_177900, next_stride_177896});
            
            bool loop_cond_178321 = slt64(next_stride_177896, flat_dim_177728);
            
            if (memblock_set(ctx, &mem_param_tmp_182769, &mem_182199, "mem_182199") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182770, &mem_182203, "mem_182203") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182771, &mem_182207, "mem_182207") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182772 = bytes_182052;
            bool loop_while_tmp_182773 = loop_cond_178321;
            int64_t stride_tmp_182777 = next_stride_177896;
            
            if (memblock_set(ctx, &mem_param_182045, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182048, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_182051, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
                return 1;
            loop_dz2084Uz2082U_177890 = loop_dz2084Uz2082U_tmp_182772;
            loop_while_177891 = loop_while_tmp_182773;
            stride_177895 = stride_tmp_182777;
        }
        if (memblock_set(ctx, &ext_mem_182217, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182216, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182215, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        data_177884 = loop_dz2084Uz2082U_177890;
        data_177885 = loop_while_177891;
        data_177889 = stride_177895;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178324 = slt64(zs_lhs_177712, data_177884);
        bool y_178325 = i_p_m_t_s_leq_w_178324 && zzero_leq_i_p_m_t_s_178338;
        bool ok_or_empty_178326 = y_178325 || empty_slice_178336;
        bool index_certs_178327;
        
        if (!ok_or_empty_178326) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177665, "] out of bounds for array of shape [", (long long) data_177884, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:466:63-73\n   #5  ftsort.fut:459:1-466:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182226, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182223, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182220, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181135.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182226.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181137.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182223.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
        return 1;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181139.mem, final_buffer_178343, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_182220.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178344});
    if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181137, "mem_181137") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182549, &mem_181139, "mem_181139") != 0)
        return 1;
    prim_out_182550 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175622;
    if (memblock_set(ctx, &*mem_out_p_183087, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183088, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183089, &mem_out_182549, "mem_out_182549") != 0)
        return 1;
    *out_prim_out_183090 = prim_out_182550;
    
  cleanup:
    {
        free(mem_181150);
        free(mem_181152);
        free(mem_181191);
        free(mem_181194);
        free(mem_181197);
        free(mem_181210);
        free(mem_181212);
        free(mem_181214);
        free(mem_181311);
        free(mem_181314);
        free(mem_181317);
        free(mem_181331);
        free(mem_181333);
        free(mem_181347);
        free(mem_181350);
        free(mem_181353);
        free(mem_181495);
        free(mem_181497);
        free(mem_181512);
        free(mem_181514);
        free(mem_181517);
        free(mem_181520);
        free(mem_181554);
        free(mem_181557);
        free(mem_181560);
        free(mem_181573);
        free(mem_181575);
        free(mem_181577);
        free(mem_181674);
        free(mem_181677);
        free(mem_181680);
        free(mem_181694);
        free(mem_181696);
        free(mem_181710);
        free(mem_181713);
        free(mem_181716);
        free(mem_181933);
        free(mem_181936);
        free(mem_181939);
        free(mem_181952);
        free(mem_181954);
        free(mem_181956);
        free(mem_182053);
        free(mem_182056);
        free(mem_182059);
        free(mem_182073);
        free(mem_182075);
        free(mem_182089);
        free(mem_182092);
        free(mem_182095);
        if (memblock_unref(ctx, &mem_param_tmp_182771, "mem_param_tmp_182771") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182770, "mem_param_tmp_182770") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182769, "mem_param_tmp_182769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182207, "mem_182207") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182203, "mem_182203") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182199, "mem_182199") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182152, "mem_182152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182148, "mem_182148") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182144, "mem_182144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182158, "mem_182158") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182156, "mem_182156") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182154, "mem_182154") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182179, "ext_mem_182179") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182182, "ext_mem_182182") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182185, "ext_mem_182185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182051, "mem_param_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182048, "mem_param_182048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_182045, "mem_param_182045") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182215, "ext_mem_182215") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182216, "ext_mem_182216") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182217, "ext_mem_182217") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182041, "mem_182041") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182037, "mem_182037") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182033, "mem_182033") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182220, "ext_mem_182220") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182223, "ext_mem_182223") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182226, "ext_mem_182226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181931, "mem_181931") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181929, "mem_181929") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181927, "mem_181927") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182705, "mem_param_tmp_182705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182704, "mem_param_tmp_182704") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182703, "mem_param_tmp_182703") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181465, "mem_181465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181461, "mem_181461") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181457, "mem_181457") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181410, "mem_181410") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181406, "mem_181406") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181402, "mem_181402") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181416, "mem_181416") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181414, "mem_181414") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181412, "mem_181412") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181437, "ext_mem_181437") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181440, "ext_mem_181440") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181443, "ext_mem_181443") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181309, "mem_param_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181306, "mem_param_181306") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181303, "mem_param_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181473, "ext_mem_181473") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181474, "ext_mem_181474") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181475, "ext_mem_181475") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181478, "ext_mem_181478") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181481, "ext_mem_181481") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181484, "ext_mem_181484") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181189, "mem_181189") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181187, "mem_181187") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181185, "mem_181185") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181169, "mem_181169") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181167, "mem_181167") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181165, "mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181876, "mem_181876") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181875, "mem_181875") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181873, "mem_181873") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182611, "mem_param_tmp_182611") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182610, "mem_param_tmp_182610") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182609, "mem_param_tmp_182609") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181824, "mem_181824") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181820, "mem_181820") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181773, "mem_181773") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181769, "mem_181769") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181765, "mem_181765") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181779, "mem_181779") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181777, "mem_181777") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181800, "ext_mem_181800") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181803, "ext_mem_181803") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181806, "ext_mem_181806") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181672, "mem_param_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181669, "mem_param_181669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181666, "mem_param_181666") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181836, "ext_mem_181836") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181837, "ext_mem_181837") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181838, "ext_mem_181838") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181662, "mem_181662") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181658, "mem_181658") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181654, "mem_181654") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181841, "ext_mem_181841") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181844, "ext_mem_181844") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181847, "ext_mem_181847") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181552, "mem_181552") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181550, "mem_181550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181548, "mem_181548") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181897, "ext_mem_181897") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181900, "ext_mem_181900") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181903, "ext_mem_181903") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181139, "mem_181139") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181137, "mem_181137") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182549, "mem_out_182549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_183141, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_109899, int64_t incr_109900, int64_t block_sizze_109901)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181168;
    
    mem_181168.references = NULL;
    
    struct memblock mem_param_tmp_182551;
    
    mem_param_tmp_182551.references = NULL;
    
    struct memblock mem_param_tmp_182550;
    
    mem_param_tmp_182550.references = NULL;
    
    struct memblock mem_181154;
    
    mem_181154.references = NULL;
    
    struct memblock mem_181152;
    
    mem_181152.references = NULL;
    
    struct memblock mem_param_181150;
    
    mem_param_181150.references = NULL;
    
    struct memblock mem_param_181147;
    
    mem_param_181147.references = NULL;
    
    struct memblock ext_mem_181165;
    
    ext_mem_181165.references = NULL;
    
    struct memblock ext_mem_181166;
    
    ext_mem_181166.references = NULL;
    
    struct memblock mem_181144;
    
    mem_181144.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_109899;
    bool zzero_164636 = block_sizze_109901 == (int64_t) 0;
    bool nonzzero_164637 = !zzero_164636;
    bool nonzzero_cert_164638;
    
    if (!nonzzero_164637) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:158:1-160:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180795 = 0; i_180795 < n_109899; i_180795++) {
        int64_t eta_p_164632 = ((int64_t *) is_mem_181133.mem)[i_180795];
        int64_t lifted_lambda_res_164633 = sub64(eta_p_164632, incr_109900);
        
        ((int64_t *) mem_181136.mem)[i_180795] = lifted_lambda_res_164633;
    }
    
    int64_t zm_lhs_164634 = add64(n_109899, block_sizze_109901);
    int64_t zs_lhs_164635 = sub64(zm_lhs_164634, (int64_t) 1);
    int64_t m_164639 = sdiv64(zs_lhs_164635, block_sizze_109901);
    
    if (memblock_alloc(ctx, &mem_181144, bytes_181135, "mem_181144")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182549 = 0; nest_i_182549 < n_109899; nest_i_182549++) {
        ((double *) mem_181144.mem)[nest_i_182549] = 0.0;
    }
    
    bool loop_cond_164641 = slt64((int64_t) 0, m_164639);
    bool partitioned_gather_res_164642;
    int64_t partitioned_gather_res_164645;
    bool loop_while_164646;
    int64_t p_164649;
    
    if (memblock_set(ctx, &mem_param_181147, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181150, &mem_181144, "mem_181144") != 0)
        return 1;
    loop_while_164646 = loop_cond_164641;
    p_164649 = (int64_t) 0;
    while (loop_while_164646) {
        int64_t lower_bound_164650 = mul64(block_sizze_109901, p_164649);
        int64_t min_arg1_164651 = add64(block_sizze_109901, lower_bound_164650);
        int64_t min_res_164652 = smin64(n_109899, min_arg1_164651);
        int64_t j_m_i_164653 = sub64(min_res_164652, lower_bound_164650);
        bool empty_slice_164654 = j_m_i_164653 == (int64_t) 0;
        int64_t m_164655 = sub64(j_m_i_164653, (int64_t) 1);
        int64_t i_p_m_t_s_164656 = add64(lower_bound_164650, m_164655);
        bool zzero_leq_i_p_m_t_s_164657 = sle64((int64_t) 0, i_p_m_t_s_164656);
        bool i_p_m_t_s_leq_w_164658 = slt64(i_p_m_t_s_164656, n_109899);
        bool zzero_lte_i_164659 = sle64((int64_t) 0, lower_bound_164650);
        bool i_lte_j_164660 = sle64(lower_bound_164650, min_res_164652);
        bool y_164661 = i_p_m_t_s_leq_w_164658 && zzero_lte_i_164659;
        bool y_164662 = zzero_leq_i_p_m_t_s_164657 && y_164661;
        bool forwards_ok_164663 = i_lte_j_164660 && y_164662;
        bool ok_or_empty_164664 = empty_slice_164654 || forwards_ok_164663;
        bool index_certs_164665;
        
        if (!ok_or_empty_164664) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164650, ":", (long long) min_res_164652, "] out of bounds for array of shape [", (long long) n_109899, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:158:1-160:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181152, bytes_181135, "mem_181152")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181152.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181147.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109899});
        if (memblock_alloc(ctx, &mem_181154, bytes_181135, "mem_181154")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180799 = 0; i_180799 < n_109899; i_180799++) {
            int64_t eta_p_164668 = ((int64_t *) mem_param_181147.mem)[i_180799];
            double eta_p_164669 = ((double *) mem_param_181150.mem)[i_180799];
            bool cond_164670 = sle64(lower_bound_164650, eta_p_164668);
            bool cond_t_res_164671 = slt64(eta_p_164668, min_res_164652);
            bool x_164672 = cond_164670 && cond_t_res_164671;
            double lifted_lambda_res_164673;
            
            if (x_164672) {
                int64_t tmp_178645 = sub64(eta_p_164668, lower_bound_164650);
                bool x_178646 = sle64((int64_t) 0, tmp_178645);
                bool y_178647 = slt64(tmp_178645, j_m_i_164653);
                bool bounds_check_178648 = x_178646 && y_178647;
                bool index_certs_178649;
                
                if (!bounds_check_178648) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178645, "] out of bounds for array of shape [", (long long) j_m_i_164653, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:107:3-49\n   #4  ftsort.fut:158:1-160:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double tmp_178650 = ((double *) ys_mem_181134.mem)[eta_p_164668];
                
                lifted_lambda_res_164673 = tmp_178650;
            } else {
                lifted_lambda_res_164673 = eta_p_164669;
            }
            ((double *) mem_181154.mem)[i_180799] = lifted_lambda_res_164673;
        }
        
        int64_t tmp_164680 = add64((int64_t) 1, p_164649);
        bool loop_cond_164681 = slt64(tmp_164680, m_164639);
        
        if (memblock_set(ctx, &mem_param_tmp_182550, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182551, &mem_181154, "mem_181154") != 0)
            return 1;
        
        bool loop_while_tmp_182552 = loop_cond_164681;
        int64_t p_tmp_182555 = tmp_164680;
        
        if (memblock_set(ctx, &mem_param_181147, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181150, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        loop_while_164646 = loop_while_tmp_182552;
        p_164649 = p_tmp_182555;
    }
    if (memblock_set(ctx, &ext_mem_181166, &mem_param_181147, "mem_param_181147") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181165, &mem_param_181150, "mem_param_181150") != 0)
        return 1;
    partitioned_gather_res_164642 = loop_while_164646;
    partitioned_gather_res_164645 = p_164649;
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181168, bytes_181135, "mem_181168")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181168.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181165.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109899});
    if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181168, "mem_181168") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183141, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181168, "mem_181168") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181154, "mem_181154") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181150, "mem_param_181150") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181147, "mem_param_181147") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181166, "ext_mem_181166") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_183142, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_109565, int64_t incr_109566, int64_t block_sizze_109567)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181168;
    
    mem_181168.references = NULL;
    
    struct memblock mem_param_tmp_182551;
    
    mem_param_tmp_182551.references = NULL;
    
    struct memblock mem_param_tmp_182550;
    
    mem_param_tmp_182550.references = NULL;
    
    struct memblock mem_181154;
    
    mem_181154.references = NULL;
    
    struct memblock mem_181152;
    
    mem_181152.references = NULL;
    
    struct memblock mem_param_181150;
    
    mem_param_181150.references = NULL;
    
    struct memblock mem_param_181147;
    
    mem_param_181147.references = NULL;
    
    struct memblock ext_mem_181165;
    
    ext_mem_181165.references = NULL;
    
    struct memblock ext_mem_181166;
    
    ext_mem_181166.references = NULL;
    
    struct memblock mem_181144;
    
    mem_181144.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_109565;
    bool zzero_164636 = block_sizze_109567 == (int64_t) 0;
    bool nonzzero_164637 = !zzero_164636;
    bool nonzzero_cert_164638;
    
    if (!nonzzero_164637) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:154:1-156:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181143 = (int64_t) 4 * n_109565;
    
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180795 = 0; i_180795 < n_109565; i_180795++) {
        int64_t eta_p_164632 = ((int64_t *) is_mem_181133.mem)[i_180795];
        int64_t lifted_lambda_res_164633 = sub64(eta_p_164632, incr_109566);
        
        ((int64_t *) mem_181136.mem)[i_180795] = lifted_lambda_res_164633;
    }
    
    int64_t zm_lhs_164634 = add64(n_109565, block_sizze_109567);
    int64_t zs_lhs_164635 = sub64(zm_lhs_164634, (int64_t) 1);
    int64_t m_164639 = sdiv64(zs_lhs_164635, block_sizze_109567);
    
    if (memblock_alloc(ctx, &mem_181144, bytes_181143, "mem_181144")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182549 = 0; nest_i_182549 < n_109565; nest_i_182549++) {
        ((float *) mem_181144.mem)[nest_i_182549] = 0.0F;
    }
    
    bool loop_cond_164641 = slt64((int64_t) 0, m_164639);
    bool partitioned_gather_res_164642;
    int64_t partitioned_gather_res_164645;
    bool loop_while_164646;
    int64_t p_164649;
    
    if (memblock_set(ctx, &mem_param_181147, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181150, &mem_181144, "mem_181144") != 0)
        return 1;
    loop_while_164646 = loop_cond_164641;
    p_164649 = (int64_t) 0;
    while (loop_while_164646) {
        int64_t lower_bound_164650 = mul64(block_sizze_109567, p_164649);
        int64_t min_arg1_164651 = add64(block_sizze_109567, lower_bound_164650);
        int64_t min_res_164652 = smin64(n_109565, min_arg1_164651);
        int64_t j_m_i_164653 = sub64(min_res_164652, lower_bound_164650);
        bool empty_slice_164654 = j_m_i_164653 == (int64_t) 0;
        int64_t m_164655 = sub64(j_m_i_164653, (int64_t) 1);
        int64_t i_p_m_t_s_164656 = add64(lower_bound_164650, m_164655);
        bool zzero_leq_i_p_m_t_s_164657 = sle64((int64_t) 0, i_p_m_t_s_164656);
        bool i_p_m_t_s_leq_w_164658 = slt64(i_p_m_t_s_164656, n_109565);
        bool zzero_lte_i_164659 = sle64((int64_t) 0, lower_bound_164650);
        bool i_lte_j_164660 = sle64(lower_bound_164650, min_res_164652);
        bool y_164661 = i_p_m_t_s_leq_w_164658 && zzero_lte_i_164659;
        bool y_164662 = zzero_leq_i_p_m_t_s_164657 && y_164661;
        bool forwards_ok_164663 = i_lte_j_164660 && y_164662;
        bool ok_or_empty_164664 = empty_slice_164654 || forwards_ok_164663;
        bool index_certs_164665;
        
        if (!ok_or_empty_164664) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164650, ":", (long long) min_res_164652, "] out of bounds for array of shape [", (long long) n_109565, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:154:1-156:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181152, bytes_181135, "mem_181152")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181152.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181147.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109565});
        if (memblock_alloc(ctx, &mem_181154, bytes_181143, "mem_181154")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180799 = 0; i_180799 < n_109565; i_180799++) {
            int64_t eta_p_164668 = ((int64_t *) mem_param_181147.mem)[i_180799];
            float eta_p_164669 = ((float *) mem_param_181150.mem)[i_180799];
            bool cond_164670 = sle64(lower_bound_164650, eta_p_164668);
            bool cond_t_res_164671 = slt64(eta_p_164668, min_res_164652);
            bool x_164672 = cond_164670 && cond_t_res_164671;
            float lifted_lambda_res_164673;
            
            if (x_164672) {
                int64_t tmp_178645 = sub64(eta_p_164668, lower_bound_164650);
                bool x_178646 = sle64((int64_t) 0, tmp_178645);
                bool y_178647 = slt64(tmp_178645, j_m_i_164653);
                bool bounds_check_178648 = x_178646 && y_178647;
                bool index_certs_178649;
                
                if (!bounds_check_178648) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178645, "] out of bounds for array of shape [", (long long) j_m_i_164653, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:107:3-49\n   #4  ftsort.fut:154:1-156:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float tmp_178650 = ((float *) ys_mem_181134.mem)[eta_p_164668];
                
                lifted_lambda_res_164673 = tmp_178650;
            } else {
                lifted_lambda_res_164673 = eta_p_164669;
            }
            ((float *) mem_181154.mem)[i_180799] = lifted_lambda_res_164673;
        }
        
        int64_t tmp_164680 = add64((int64_t) 1, p_164649);
        bool loop_cond_164681 = slt64(tmp_164680, m_164639);
        
        if (memblock_set(ctx, &mem_param_tmp_182550, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182551, &mem_181154, "mem_181154") != 0)
            return 1;
        
        bool loop_while_tmp_182552 = loop_cond_164681;
        int64_t p_tmp_182555 = tmp_164680;
        
        if (memblock_set(ctx, &mem_param_181147, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181150, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        loop_while_164646 = loop_while_tmp_182552;
        p_164649 = p_tmp_182555;
    }
    if (memblock_set(ctx, &ext_mem_181166, &mem_param_181147, "mem_param_181147") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181165, &mem_param_181150, "mem_param_181150") != 0)
        return 1;
    partitioned_gather_res_164642 = loop_while_164646;
    partitioned_gather_res_164645 = p_164649;
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181168, bytes_181143, "mem_181168")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181168.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181165.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109565});
    if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181168, "mem_181168") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183142, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181168, "mem_181168") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181154, "mem_181154") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181150, "mem_param_181150") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181147, "mem_param_181147") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181166, "ext_mem_181166") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_183143, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_108901, int64_t incr_108902, int64_t block_sizze_108903)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181168;
    
    mem_181168.references = NULL;
    
    struct memblock mem_param_tmp_182551;
    
    mem_param_tmp_182551.references = NULL;
    
    struct memblock mem_param_tmp_182550;
    
    mem_param_tmp_182550.references = NULL;
    
    struct memblock mem_181154;
    
    mem_181154.references = NULL;
    
    struct memblock mem_181152;
    
    mem_181152.references = NULL;
    
    struct memblock mem_param_181150;
    
    mem_param_181150.references = NULL;
    
    struct memblock mem_param_181147;
    
    mem_param_181147.references = NULL;
    
    struct memblock ext_mem_181165;
    
    ext_mem_181165.references = NULL;
    
    struct memblock ext_mem_181166;
    
    ext_mem_181166.references = NULL;
    
    struct memblock mem_181144;
    
    mem_181144.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_108901;
    bool zzero_164636 = block_sizze_108903 == (int64_t) 0;
    bool nonzzero_164637 = !zzero_164636;
    bool nonzzero_cert_164638;
    
    if (!nonzzero_164637) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:146:1-148:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181143 = (int64_t) 4 * n_108901;
    
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180795 = 0; i_180795 < n_108901; i_180795++) {
        int64_t eta_p_164632 = ((int64_t *) is_mem_181133.mem)[i_180795];
        int64_t lifted_lambda_res_164633 = sub64(eta_p_164632, incr_108902);
        
        ((int64_t *) mem_181136.mem)[i_180795] = lifted_lambda_res_164633;
    }
    
    int64_t zm_lhs_164634 = add64(n_108901, block_sizze_108903);
    int64_t zs_lhs_164635 = sub64(zm_lhs_164634, (int64_t) 1);
    int64_t m_164639 = sdiv64(zs_lhs_164635, block_sizze_108903);
    
    if (memblock_alloc(ctx, &mem_181144, bytes_181143, "mem_181144")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182549 = 0; nest_i_182549 < n_108901; nest_i_182549++) {
        ((int32_t *) mem_181144.mem)[nest_i_182549] = 0;
    }
    
    bool loop_cond_164641 = slt64((int64_t) 0, m_164639);
    bool partitioned_gather_res_164642;
    int64_t partitioned_gather_res_164645;
    bool loop_while_164646;
    int64_t p_164649;
    
    if (memblock_set(ctx, &mem_param_181147, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181150, &mem_181144, "mem_181144") != 0)
        return 1;
    loop_while_164646 = loop_cond_164641;
    p_164649 = (int64_t) 0;
    while (loop_while_164646) {
        int64_t lower_bound_164650 = mul64(block_sizze_108903, p_164649);
        int64_t min_arg1_164651 = add64(block_sizze_108903, lower_bound_164650);
        int64_t min_res_164652 = smin64(n_108901, min_arg1_164651);
        int64_t j_m_i_164653 = sub64(min_res_164652, lower_bound_164650);
        bool empty_slice_164654 = j_m_i_164653 == (int64_t) 0;
        int64_t m_164655 = sub64(j_m_i_164653, (int64_t) 1);
        int64_t i_p_m_t_s_164656 = add64(lower_bound_164650, m_164655);
        bool zzero_leq_i_p_m_t_s_164657 = sle64((int64_t) 0, i_p_m_t_s_164656);
        bool i_p_m_t_s_leq_w_164658 = slt64(i_p_m_t_s_164656, n_108901);
        bool zzero_lte_i_164659 = sle64((int64_t) 0, lower_bound_164650);
        bool i_lte_j_164660 = sle64(lower_bound_164650, min_res_164652);
        bool y_164661 = i_p_m_t_s_leq_w_164658 && zzero_lte_i_164659;
        bool y_164662 = zzero_leq_i_p_m_t_s_164657 && y_164661;
        bool forwards_ok_164663 = i_lte_j_164660 && y_164662;
        bool ok_or_empty_164664 = empty_slice_164654 || forwards_ok_164663;
        bool index_certs_164665;
        
        if (!ok_or_empty_164664) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164650, ":", (long long) min_res_164652, "] out of bounds for array of shape [", (long long) n_108901, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:146:1-148:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181152, bytes_181135, "mem_181152")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181152.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181147.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108901});
        if (memblock_alloc(ctx, &mem_181154, bytes_181143, "mem_181154")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180799 = 0; i_180799 < n_108901; i_180799++) {
            int64_t eta_p_164668 = ((int64_t *) mem_param_181147.mem)[i_180799];
            int32_t eta_p_164669 = ((int32_t *) mem_param_181150.mem)[i_180799];
            bool cond_164670 = sle64(lower_bound_164650, eta_p_164668);
            bool cond_t_res_164671 = slt64(eta_p_164668, min_res_164652);
            bool x_164672 = cond_164670 && cond_t_res_164671;
            int32_t lifted_lambda_res_164673;
            
            if (x_164672) {
                int64_t tmp_178645 = sub64(eta_p_164668, lower_bound_164650);
                bool x_178646 = sle64((int64_t) 0, tmp_178645);
                bool y_178647 = slt64(tmp_178645, j_m_i_164653);
                bool bounds_check_178648 = x_178646 && y_178647;
                bool index_certs_178649;
                
                if (!bounds_check_178648) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178645, "] out of bounds for array of shape [", (long long) j_m_i_164653, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:107:3-49\n   #4  ftsort.fut:146:1-148:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int32_t tmp_178650 = ((int32_t *) ys_mem_181134.mem)[eta_p_164668];
                
                lifted_lambda_res_164673 = tmp_178650;
            } else {
                lifted_lambda_res_164673 = eta_p_164669;
            }
            ((int32_t *) mem_181154.mem)[i_180799] = lifted_lambda_res_164673;
        }
        
        int64_t tmp_164680 = add64((int64_t) 1, p_164649);
        bool loop_cond_164681 = slt64(tmp_164680, m_164639);
        
        if (memblock_set(ctx, &mem_param_tmp_182550, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182551, &mem_181154, "mem_181154") != 0)
            return 1;
        
        bool loop_while_tmp_182552 = loop_cond_164681;
        int64_t p_tmp_182555 = tmp_164680;
        
        if (memblock_set(ctx, &mem_param_181147, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181150, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        loop_while_164646 = loop_while_tmp_182552;
        p_164649 = p_tmp_182555;
    }
    if (memblock_set(ctx, &ext_mem_181166, &mem_param_181147, "mem_param_181147") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181165, &mem_param_181150, "mem_param_181150") != 0)
        return 1;
    partitioned_gather_res_164642 = loop_while_164646;
    partitioned_gather_res_164645 = p_164649;
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181168, bytes_181143, "mem_181168")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181168.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181165.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108901});
    if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181168, "mem_181168") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183143, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181168, "mem_181168") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181154, "mem_181154") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181150, "mem_param_181150") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181147, "mem_param_181147") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181166, "ext_mem_181166") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_183144, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_109231, int64_t incr_109232, int64_t block_sizze_109233)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181168;
    
    mem_181168.references = NULL;
    
    struct memblock mem_param_tmp_182551;
    
    mem_param_tmp_182551.references = NULL;
    
    struct memblock mem_param_tmp_182550;
    
    mem_param_tmp_182550.references = NULL;
    
    struct memblock mem_181154;
    
    mem_181154.references = NULL;
    
    struct memblock mem_181152;
    
    mem_181152.references = NULL;
    
    struct memblock mem_param_181150;
    
    mem_param_181150.references = NULL;
    
    struct memblock mem_param_181147;
    
    mem_param_181147.references = NULL;
    
    struct memblock ext_mem_181165;
    
    ext_mem_181165.references = NULL;
    
    struct memblock ext_mem_181166;
    
    ext_mem_181166.references = NULL;
    
    struct memblock mem_181144;
    
    mem_181144.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_109231;
    bool zzero_164636 = block_sizze_109233 == (int64_t) 0;
    bool nonzzero_164637 = !zzero_164636;
    bool nonzzero_cert_164638;
    
    if (!nonzzero_164637) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:150:1-152:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180795 = 0; i_180795 < n_109231; i_180795++) {
        int64_t eta_p_164632 = ((int64_t *) is_mem_181133.mem)[i_180795];
        int64_t lifted_lambda_res_164633 = sub64(eta_p_164632, incr_109232);
        
        ((int64_t *) mem_181136.mem)[i_180795] = lifted_lambda_res_164633;
    }
    
    int64_t zm_lhs_164634 = add64(n_109231, block_sizze_109233);
    int64_t zs_lhs_164635 = sub64(zm_lhs_164634, (int64_t) 1);
    int64_t m_164639 = sdiv64(zs_lhs_164635, block_sizze_109233);
    
    if (memblock_alloc(ctx, &mem_181144, bytes_181135, "mem_181144")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182549 = 0; nest_i_182549 < n_109231; nest_i_182549++) {
        ((int64_t *) mem_181144.mem)[nest_i_182549] = (int64_t) 0;
    }
    
    bool loop_cond_164641 = slt64((int64_t) 0, m_164639);
    bool partitioned_gather_res_164642;
    int64_t partitioned_gather_res_164645;
    bool loop_while_164646;
    int64_t p_164649;
    
    if (memblock_set(ctx, &mem_param_181147, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181150, &mem_181144, "mem_181144") != 0)
        return 1;
    loop_while_164646 = loop_cond_164641;
    p_164649 = (int64_t) 0;
    while (loop_while_164646) {
        int64_t lower_bound_164650 = mul64(block_sizze_109233, p_164649);
        int64_t min_arg1_164651 = add64(block_sizze_109233, lower_bound_164650);
        int64_t min_res_164652 = smin64(n_109231, min_arg1_164651);
        int64_t j_m_i_164653 = sub64(min_res_164652, lower_bound_164650);
        bool empty_slice_164654 = j_m_i_164653 == (int64_t) 0;
        int64_t m_164655 = sub64(j_m_i_164653, (int64_t) 1);
        int64_t i_p_m_t_s_164656 = add64(lower_bound_164650, m_164655);
        bool zzero_leq_i_p_m_t_s_164657 = sle64((int64_t) 0, i_p_m_t_s_164656);
        bool i_p_m_t_s_leq_w_164658 = slt64(i_p_m_t_s_164656, n_109231);
        bool zzero_lte_i_164659 = sle64((int64_t) 0, lower_bound_164650);
        bool i_lte_j_164660 = sle64(lower_bound_164650, min_res_164652);
        bool y_164661 = i_p_m_t_s_leq_w_164658 && zzero_lte_i_164659;
        bool y_164662 = zzero_leq_i_p_m_t_s_164657 && y_164661;
        bool forwards_ok_164663 = i_lte_j_164660 && y_164662;
        bool ok_or_empty_164664 = empty_slice_164654 || forwards_ok_164663;
        bool index_certs_164665;
        
        if (!ok_or_empty_164664) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164650, ":", (long long) min_res_164652, "] out of bounds for array of shape [", (long long) n_109231, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:150:1-152:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181152, bytes_181135, "mem_181152")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181152.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181147.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109231});
        if (memblock_alloc(ctx, &mem_181154, bytes_181135, "mem_181154")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180799 = 0; i_180799 < n_109231; i_180799++) {
            int64_t eta_p_164668 = ((int64_t *) mem_param_181147.mem)[i_180799];
            int64_t eta_p_164669 = ((int64_t *) mem_param_181150.mem)[i_180799];
            bool cond_164670 = sle64(lower_bound_164650, eta_p_164668);
            bool cond_t_res_164671 = slt64(eta_p_164668, min_res_164652);
            bool x_164672 = cond_164670 && cond_t_res_164671;
            int64_t lifted_lambda_res_164673;
            
            if (x_164672) {
                int64_t tmp_178645 = sub64(eta_p_164668, lower_bound_164650);
                bool x_178646 = sle64((int64_t) 0, tmp_178645);
                bool y_178647 = slt64(tmp_178645, j_m_i_164653);
                bool bounds_check_178648 = x_178646 && y_178647;
                bool index_certs_178649;
                
                if (!bounds_check_178648) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178645, "] out of bounds for array of shape [", (long long) j_m_i_164653, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:107:3-49\n   #4  ftsort.fut:150:1-152:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t tmp_178650 = ((int64_t *) ys_mem_181134.mem)[eta_p_164668];
                
                lifted_lambda_res_164673 = tmp_178650;
            } else {
                lifted_lambda_res_164673 = eta_p_164669;
            }
            ((int64_t *) mem_181154.mem)[i_180799] = lifted_lambda_res_164673;
        }
        
        int64_t tmp_164680 = add64((int64_t) 1, p_164649);
        bool loop_cond_164681 = slt64(tmp_164680, m_164639);
        
        if (memblock_set(ctx, &mem_param_tmp_182550, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182551, &mem_181154, "mem_181154") != 0)
            return 1;
        
        bool loop_while_tmp_182552 = loop_cond_164681;
        int64_t p_tmp_182555 = tmp_164680;
        
        if (memblock_set(ctx, &mem_param_181147, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181150, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        loop_while_164646 = loop_while_tmp_182552;
        p_164649 = p_tmp_182555;
    }
    if (memblock_set(ctx, &ext_mem_181166, &mem_param_181147, "mem_param_181147") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181165, &mem_param_181150, "mem_param_181150") != 0)
        return 1;
    partitioned_gather_res_164642 = loop_while_164646;
    partitioned_gather_res_164645 = p_164649;
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181168, bytes_181135, "mem_181168")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181168.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181165.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_109231});
    if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181168, "mem_181168") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183144, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181168, "mem_181168") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181154, "mem_181154") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181150, "mem_param_181150") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181147, "mem_param_181147") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181166, "ext_mem_181166") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_183145, struct memblock is_mem_181133, struct memblock ys_mem_181134, int64_t n_108567, int64_t incr_108568, int64_t block_sizze_108569)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181168;
    
    mem_181168.references = NULL;
    
    struct memblock mem_param_tmp_182551;
    
    mem_param_tmp_182551.references = NULL;
    
    struct memblock mem_param_tmp_182550;
    
    mem_param_tmp_182550.references = NULL;
    
    struct memblock mem_181154;
    
    mem_181154.references = NULL;
    
    struct memblock mem_181152;
    
    mem_181152.references = NULL;
    
    struct memblock mem_param_181150;
    
    mem_param_181150.references = NULL;
    
    struct memblock mem_param_181147;
    
    mem_param_181147.references = NULL;
    
    struct memblock ext_mem_181165;
    
    ext_mem_181165.references = NULL;
    
    struct memblock ext_mem_181166;
    
    ext_mem_181166.references = NULL;
    
    struct memblock mem_181144;
    
    mem_181144.references = NULL;
    
    struct memblock mem_181136;
    
    mem_181136.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t bytes_181135 = (int64_t) 8 * n_108567;
    bool zzero_164636 = block_sizze_108569 == (int64_t) 0;
    bool nonzzero_164637 = !zzero_164636;
    bool nonzzero_cert_164638;
    
    if (!nonzzero_164637) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:142:1-144:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181143 = (int64_t) 2 * n_108567;
    
    if (memblock_alloc(ctx, &mem_181136, bytes_181135, "mem_181136")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180795 = 0; i_180795 < n_108567; i_180795++) {
        int64_t eta_p_164632 = ((int64_t *) is_mem_181133.mem)[i_180795];
        int64_t lifted_lambda_res_164633 = sub64(eta_p_164632, incr_108568);
        
        ((int64_t *) mem_181136.mem)[i_180795] = lifted_lambda_res_164633;
    }
    
    int64_t zm_lhs_164634 = add64(n_108567, block_sizze_108569);
    int64_t zs_lhs_164635 = sub64(zm_lhs_164634, (int64_t) 1);
    int64_t m_164639 = sdiv64(zs_lhs_164635, block_sizze_108569);
    
    if (memblock_alloc(ctx, &mem_181144, bytes_181143, "mem_181144")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182549 = 0; nest_i_182549 < n_108567; nest_i_182549++) {
        ((int16_t *) mem_181144.mem)[nest_i_182549] = (int16_t) 0;
    }
    
    bool loop_cond_164641 = slt64((int64_t) 0, m_164639);
    bool partitioned_gather_res_164642;
    int64_t partitioned_gather_res_164645;
    bool loop_while_164646;
    int64_t p_164649;
    
    if (memblock_set(ctx, &mem_param_181147, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_set(ctx, &mem_param_181150, &mem_181144, "mem_181144") != 0)
        return 1;
    loop_while_164646 = loop_cond_164641;
    p_164649 = (int64_t) 0;
    while (loop_while_164646) {
        int64_t lower_bound_164650 = mul64(block_sizze_108569, p_164649);
        int64_t min_arg1_164651 = add64(block_sizze_108569, lower_bound_164650);
        int64_t min_res_164652 = smin64(n_108567, min_arg1_164651);
        int64_t j_m_i_164653 = sub64(min_res_164652, lower_bound_164650);
        bool empty_slice_164654 = j_m_i_164653 == (int64_t) 0;
        int64_t m_164655 = sub64(j_m_i_164653, (int64_t) 1);
        int64_t i_p_m_t_s_164656 = add64(lower_bound_164650, m_164655);
        bool zzero_leq_i_p_m_t_s_164657 = sle64((int64_t) 0, i_p_m_t_s_164656);
        bool i_p_m_t_s_leq_w_164658 = slt64(i_p_m_t_s_164656, n_108567);
        bool zzero_lte_i_164659 = sle64((int64_t) 0, lower_bound_164650);
        bool i_lte_j_164660 = sle64(lower_bound_164650, min_res_164652);
        bool y_164661 = i_p_m_t_s_leq_w_164658 && zzero_lte_i_164659;
        bool y_164662 = zzero_leq_i_p_m_t_s_164657 && y_164661;
        bool forwards_ok_164663 = i_lte_j_164660 && y_164662;
        bool ok_or_empty_164664 = empty_slice_164654 || forwards_ok_164663;
        bool index_certs_164665;
        
        if (!ok_or_empty_164664) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_164650, ":", (long long) min_res_164652, "] out of bounds for array of shape [", (long long) n_108567, "].", "-> #0  ftbasics.fut:49:18-45\n   #1  ftsort.fut:107:3-49\n   #2  ftsort.fut:142:1-144:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_alloc(ctx, &mem_181152, bytes_181135, "mem_181152")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181152.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_param_181147.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108567});
        if (memblock_alloc(ctx, &mem_181154, bytes_181143, "mem_181154")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180799 = 0; i_180799 < n_108567; i_180799++) {
            int64_t eta_p_164668 = ((int64_t *) mem_param_181147.mem)[i_180799];
            int16_t eta_p_164669 = ((int16_t *) mem_param_181150.mem)[i_180799];
            bool cond_164670 = sle64(lower_bound_164650, eta_p_164668);
            bool cond_t_res_164671 = slt64(eta_p_164668, min_res_164652);
            bool x_164672 = cond_164670 && cond_t_res_164671;
            int16_t lifted_lambda_res_164673;
            
            if (x_164672) {
                int64_t tmp_178645 = sub64(eta_p_164668, lower_bound_164650);
                bool x_178646 = sle64((int64_t) 0, tmp_178645);
                bool y_178647 = slt64(tmp_178645, j_m_i_164653);
                bool bounds_check_178648 = x_178646 && y_178647;
                bool index_certs_178649;
                
                if (!bounds_check_178648) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178645, "] out of bounds for array of shape [", (long long) j_m_i_164653, "].", "-> #0  ftbasics.fut:50:92-113\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:50:30-127\n   #3  ftsort.fut:107:3-49\n   #4  ftsort.fut:142:1-144:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int16_t tmp_178650 = ((int16_t *) ys_mem_181134.mem)[eta_p_164668];
                
                lifted_lambda_res_164673 = tmp_178650;
            } else {
                lifted_lambda_res_164673 = eta_p_164669;
            }
            ((int16_t *) mem_181154.mem)[i_180799] = lifted_lambda_res_164673;
        }
        
        int64_t tmp_164680 = add64((int64_t) 1, p_164649);
        bool loop_cond_164681 = slt64(tmp_164680, m_164639);
        
        if (memblock_set(ctx, &mem_param_tmp_182550, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_tmp_182551, &mem_181154, "mem_181154") != 0)
            return 1;
        
        bool loop_while_tmp_182552 = loop_cond_164681;
        int64_t p_tmp_182555 = tmp_164680;
        
        if (memblock_set(ctx, &mem_param_181147, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181150, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        loop_while_164646 = loop_while_tmp_182552;
        p_164649 = p_tmp_182555;
    }
    if (memblock_set(ctx, &ext_mem_181166, &mem_param_181147, "mem_param_181147") != 0)
        return 1;
    if (memblock_set(ctx, &ext_mem_181165, &mem_param_181150, "mem_param_181150") != 0)
        return 1;
    partitioned_gather_res_164642 = loop_while_164646;
    partitioned_gather_res_164645 = p_164649;
    if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181168, bytes_181143, "mem_181168")) {
        err = 1;
        goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181168.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181165.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_108567});
    if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181168, "mem_181168") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183145, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181168, "mem_181168") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182551, "mem_param_tmp_182551") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182550, "mem_param_tmp_182550") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181154, "mem_181154") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181152, "mem_181152") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181150, "mem_param_181150") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181147, "mem_param_181147") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181165, "ext_mem_181165") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181166, "ext_mem_181166") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181144, "mem_181144") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181136, "mem_181136") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_183146, struct memblock *mem_out_p_183147, struct memblock xs_mem_181133, int64_t n_96400, int64_t incr_96401, int16_t block_sizze_96402)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181136_cached_sizze_183148 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_183149 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181146_cached_sizze_183150 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183151 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183152 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_183153 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_183154 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181186_cached_sizze_183155 = 0;
    unsigned char *mem_181186 = NULL;
    int64_t mem_181188_cached_sizze_183156 = 0;
    unsigned char *mem_181188 = NULL;
    int64_t mem_181201_cached_sizze_183157 = 0;
    unsigned char *mem_181201 = NULL;
    int64_t mem_181202_cached_sizze_183158 = 0;
    unsigned char *mem_181202 = NULL;
    int64_t mem_181209_cached_sizze_183159 = 0;
    unsigned char *mem_181209 = NULL;
    int64_t mem_181212_cached_sizze_183160 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181215_cached_sizze_183161 = 0;
    unsigned char *mem_181215 = NULL;
    int64_t mem_181218_cached_sizze_183162 = 0;
    unsigned char *mem_181218 = NULL;
    int64_t mem_181221_cached_sizze_183163 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181243_cached_sizze_183164 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181245_cached_sizze_183165 = 0;
    unsigned char *mem_181245 = NULL;
    int64_t mem_181247_cached_sizze_183166 = 0;
    unsigned char *mem_181247 = NULL;
    int64_t mem_181249_cached_sizze_183167 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181251_cached_sizze_183168 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181294_cached_sizze_183169 = 0;
    unsigned char *mem_181294 = NULL;
    int64_t mem_181295_cached_sizze_183170 = 0;
    unsigned char *mem_181295 = NULL;
    int64_t mem_181320_cached_sizze_183171 = 0;
    unsigned char *mem_181320 = NULL;
    int64_t mem_181328_cached_sizze_183172 = 0;
    unsigned char *mem_181328 = NULL;
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    bool cond_171867 = n_96400 == (int64_t) 0;
    int32_t iters_171868;
    
    if (cond_171867) {
        iters_171868 = 0;
    } else {
        iters_171868 = 32;
    }
    
    int64_t i16_res_171869 = sext_i16_i64(block_sizze_96402);
    bool zzero_171870 = i16_res_171869 == (int64_t) 0;
    bool nonzzero_171871 = !zzero_171870;
    bool nonzzero_cert_171872;
    
    if (!nonzzero_171871) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:231:95-98\n   #5  ftsort.fut:123:3-47\n   #6  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171873 = sdiv64(n_96400, i16_res_171869);
    int64_t rest_171874 = smod64(n_96400, i16_res_171869);
    int64_t arg_171875 = mul64(i16_res_171869, n_blocks_171873);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876 = add64(rest_171874, arg_171875);
    bool dim_match_171877 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876 == n_96400;
    bool empty_or_match_cert_171878;
    
    if (!dim_match_171877) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_96400, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:231:95-98\n   #6  ftsort.fut:123:3-47\n   #7  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181135 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876;
    bool loop_nonempty_171882 = slt32(0, iters_171868);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883 = add64((int64_t) 1, n_blocks_171873);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883);
    bool empty_slice_171885 = arg_171875 == (int64_t) 0;
    int64_t m_171886 = sub64(arg_171875, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171887 = sle64((int64_t) 0, m_171886);
    bool i_p_m_t_s_leq_w_171888 = slt64(m_171886, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876);
    bool i_lte_j_171889 = sle64((int64_t) 0, arg_171875);
    bool y_171890 = zzero_leq_i_p_m_t_s_171887 && i_p_m_t_s_leq_w_171888;
    bool forwards_ok_171891 = i_lte_j_171889 && y_171890;
    bool ok_or_empty_171892 = empty_slice_171885 || forwards_ok_171891;
    bool loop_not_taken_171893 = !loop_nonempty_171882;
    bool protect_assert_disj_171894 = ok_or_empty_171892 || loop_not_taken_171893;
    bool index_certs_171895;
    
    if (!protect_assert_disj_171894) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171875, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:231:95-98\n   #7  ftsort.fut:123:3-47\n   #8  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171896 = rest_171874 == (int64_t) 0;
    int64_t m_171897 = sub64(rest_171874, (int64_t) 1);
    int64_t i_p_m_t_s_171898 = add64(arg_171875, m_171897);
    bool zzero_leq_i_p_m_t_s_171899 = sle64((int64_t) 0, i_p_m_t_s_171898);
    bool i_p_m_t_s_leq_w_171900 = slt64(i_p_m_t_s_171898, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876);
    bool i_lte_j_171901 = sle64(arg_171875, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876);
    bool y_171902 = zzero_leq_i_p_m_t_s_171899 && i_p_m_t_s_leq_w_171900;
    bool forwards_ok_171903 = i_lte_j_171901 && y_171902;
    bool ok_or_empty_171904 = empty_slice_171896 || forwards_ok_171903;
    bool protect_assert_disj_171905 = loop_not_taken_171893 || ok_or_empty_171904;
    bool index_certs_171906;
    
    if (!protect_assert_disj_171905) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171875, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:231:95-98\n   #7  ftsort.fut:123:3-47\n   #8  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171907 = sle64((int64_t) 0, n_blocks_171873);
    bool binop_y_171908 = sle64((int64_t) 0, i16_res_171869);
    bool binop_y_171909 = binop_x_171907 && binop_y_171908;
    bool protect_assert_disj_171910 = loop_not_taken_171893 || binop_y_171909;
    bool dim_ok_cert_171911;
    
    if (!protect_assert_disj_171910) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171875, "] to array of shape [", (long long) n_blocks_171873, "][", (long long) i16_res_171869, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:231:95-98\n   #7  ftsort.fut:123:3-47\n   #8  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171912 = sub64(i16_res_171869, (int64_t) 1);
    bool x_171913 = sle64((int64_t) 0, tmp_171912);
    bool y_171914 = slt64(tmp_171912, i16_res_171869);
    bool bounds_check_171915 = x_171913 && y_171914;
    bool protect_assert_disj_171916 = zzero_171870 || bounds_check_171915;
    bool protect_assert_disj_171917 = loop_not_taken_171893 || protect_assert_disj_171916;
    bool index_certs_171918;
    
    if (!protect_assert_disj_171917) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171912, "] out of bounds for array of shape [", (long long) i16_res_171869, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:123:3-47\n   #9  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171920 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884);
    bool protect_assert_disj_171921 = loop_not_taken_171893 || y_171920;
    bool index_certs_171922;
    
    if (!protect_assert_disj_171921) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:123:3-47\n   #9  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171924 = nonzzero_171871 || loop_not_taken_171893;
    bool nonzzero_cert_171925;
    
    if (!protect_assert_disj_171924) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:123:3-47\n   #9  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171926 = sle64((int64_t) 0, m_171897);
    bool y_171927 = slt64(m_171897, rest_171874);
    bool bounds_check_171928 = x_171926 && y_171927;
    bool protect_assert_disj_171929 = empty_slice_171896 || bounds_check_171928;
    bool protect_assert_disj_171930 = loop_not_taken_171893 || protect_assert_disj_171929;
    bool index_certs_171931;
    
    if (!protect_assert_disj_171930) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171897, "] out of bounds for array of shape [", (long long) rest_171874, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:231:95-98\n   #7  ftsort.fut:123:3-47\n   #8  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181145 = (int64_t) 2 * rest_171874;
    int64_t bytes_181185 = (int64_t) 8 * rest_171874;
    int64_t binop_x_181210 = (int64_t) 8 * n_blocks_171873;
    int64_t bytes_181211 = i16_res_171869 * binop_x_181210;
    int64_t bytes_181217 = (int64_t) 32 * n_blocks_171873;
    int64_t bytes_181242 = (int64_t) 2 * i16_res_171869;
    int64_t bytes_181319 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883;
    bool dim_match_172204 = n_96400 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876;
    bool empty_or_match_cert_172205;
    
    if (!dim_match_172204) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "] cannot match shape of type `[", (long long) n_96400, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:123:3-47\n   #9  ftsort.fut:122:1-123:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181353 = (int64_t) 8 * n_96400;
    
    if (futrts_indicesWithIncrement_9699(ctx, &ext_mem_181134, xs_mem_181133, n_96400, incr_96401) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181136_cached_sizze_183148 < bytes_181135) {
        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_183148, bytes_181135);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_181133.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876});
    if (mem_181138_cached_sizze_183149 < bytes_181135) {
        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_183149, bytes_181135);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182549 = 0; i_182549 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876; i_182549++) {
        int64_t x_182550 = (int64_t) 0 + i_182549 * (int64_t) 1;
        
        ((int64_t *) mem_181138)[i_182549] = x_182550;
    }
    if (mem_181146_cached_sizze_183150 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183150, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183151 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183151, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183152 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183152, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181152_cached_sizze_183153 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_183153, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181154_cached_sizze_183154 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_183154, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181186_cached_sizze_183155 < bytes_181185) {
        err = lexical_realloc(ctx, &mem_181186, &mem_181186_cached_sizze_183155, bytes_181185);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181188_cached_sizze_183156 < bytes_181185) {
        err = lexical_realloc(ctx, &mem_181188, &mem_181188_cached_sizze_183156, bytes_181185);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181201_cached_sizze_183157 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181201, &mem_181201_cached_sizze_183157, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181202_cached_sizze_183158 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181202, &mem_181202_cached_sizze_183158, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181209_cached_sizze_183159 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181209, &mem_181209_cached_sizze_183159, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181212_cached_sizze_183160 < bytes_181211) {
        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_183160, bytes_181211);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181215_cached_sizze_183161 < bytes_181211) {
        err = lexical_realloc(ctx, &mem_181215, &mem_181215_cached_sizze_183161, bytes_181211);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181218_cached_sizze_183162 < bytes_181217) {
        err = lexical_realloc(ctx, &mem_181218, &mem_181218_cached_sizze_183162, bytes_181217);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181221_cached_sizze_183163 < binop_x_181210) {
        err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_183163, binop_x_181210);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181243_cached_sizze_183164 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_183164, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181245_cached_sizze_183165 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181245, &mem_181245_cached_sizze_183165, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183166 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183166, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181249_cached_sizze_183167 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_183167, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181251_cached_sizze_183168 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_183168, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181294_cached_sizze_183169 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181294, &mem_181294_cached_sizze_183169, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181295_cached_sizze_183170 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181295, &mem_181295_cached_sizze_183170, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181320_cached_sizze_183171 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181320, &mem_181320_cached_sizze_183171, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181328_cached_sizze_183172 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181328, &mem_181328_cached_sizze_183172, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171934 = 0; i_171934 < iters_171868; i_171934++) {
        int32_t blocked_radix_sort_step_arg1_171937 = mul32(2, i_171934);
        int32_t get_bit_arg0_171942 = add32(1, blocked_radix_sort_step_arg1_171937);
        int64_t unsign_arg0_171943 = zext_i32_i64(get_bit_arg0_171942);
        bool cond_f_res_171944 = get_bit_arg0_171942 == 63;
        int64_t unsign_arg0_171945 = zext_i32_i64(blocked_radix_sort_step_arg1_171937);
        bool cond_f_res_171946 = blocked_radix_sort_step_arg1_171937 == 63;
        int16_t discard_180813;
        int16_t discard_180814;
        int16_t discard_180815;
        int16_t discard_180816;
        int16_t scanacc_180798;
        int16_t scanacc_180799;
        int16_t scanacc_180800;
        int16_t scanacc_180801;
        
        scanacc_180798 = (int16_t) 0;
        scanacc_180799 = (int16_t) 0;
        scanacc_180800 = (int16_t) 0;
        scanacc_180801 = (int16_t) 0;
        for (int64_t i_180807 = 0; i_180807 < rest_171874; i_180807++) {
            int64_t slice_181020 = arg_171875 + i_180807;
            double eta_p_178729 = ((double *) mem_181136)[slice_181020];
            int64_t i64_arg0_178730 = futrts_to_bits64(eta_p_178729);
            int64_t unsign_arg0_178731 = ashr64(i64_arg0_178730, unsign_arg0_171943);
            int64_t unsign_arg0_178732 = (int64_t) 1 & unsign_arg0_178731;
            int32_t to_i32_res_178733 = zext_i64_i32(unsign_arg0_178732);
            int64_t unsign_arg0_178734 = ashr64(i64_arg0_178730, (int64_t) 63);
            int64_t unsign_arg0_178735 = (int64_t) 1 & unsign_arg0_178734;
            int32_t to_i32_res_178736 = zext_i64_i32(unsign_arg0_178735);
            bool cond_178737 = to_i32_res_178736 == 1;
            bool x_178738 = !cond_178737;
            bool y_178739 = cond_f_res_171944 && x_178738;
            bool cond_178740 = cond_178737 || y_178739;
            int32_t defunc_0_get_bit_res_178741;
            
            if (cond_178740) {
                int32_t defunc_0_get_bit_res_t_res_178871 = 1 ^ to_i32_res_178733;
                
                defunc_0_get_bit_res_178741 = defunc_0_get_bit_res_t_res_178871;
            } else {
                defunc_0_get_bit_res_178741 = to_i32_res_178733;
            }
            
            int32_t zp_lhs_178743 = mul32(2, defunc_0_get_bit_res_178741);
            int64_t unsign_arg0_178744 = ashr64(i64_arg0_178730, unsign_arg0_171945);
            int64_t unsign_arg0_178745 = (int64_t) 1 & unsign_arg0_178744;
            int32_t to_i32_res_178746 = zext_i64_i32(unsign_arg0_178745);
            bool y_178747 = cond_f_res_171946 && x_178738;
            bool cond_178748 = cond_178737 || y_178747;
            int32_t defunc_0_get_bit_res_178749;
            
            if (cond_178748) {
                int32_t defunc_0_get_bit_res_t_res_178872 = 1 ^ to_i32_res_178746;
                
                defunc_0_get_bit_res_178749 = defunc_0_get_bit_res_t_res_178872;
            } else {
                defunc_0_get_bit_res_178749 = to_i32_res_178746;
            }
            
            int32_t i32_arg0_178751 = add32(zp_lhs_178743, defunc_0_get_bit_res_178749);
            int16_t i32_res_178752 = sext_i32_i16(i32_arg0_178751);
            int16_t defunc_0_f_res_178754;
            int16_t defunc_0_f_res_178755;
            int16_t defunc_0_f_res_178756;
            int16_t defunc_0_f_res_178757;
            
            if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178754, &defunc_0_f_res_178755, &defunc_0_f_res_178756, &defunc_0_f_res_178757, i32_res_178752) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171997 = add16(defunc_0_f_res_178754, scanacc_180798);
            int16_t defunc_0_op_res_171998 = add16(defunc_0_f_res_178755, scanacc_180799);
            int16_t defunc_0_op_res_171999 = add16(defunc_0_f_res_178756, scanacc_180800);
            int16_t defunc_0_op_res_172000 = add16(defunc_0_f_res_178757, scanacc_180801);
            
            ((int16_t *) mem_181146)[i_180807] = defunc_0_op_res_171997;
            ((int16_t *) mem_181148)[i_180807] = defunc_0_op_res_171998;
            ((int16_t *) mem_181150)[i_180807] = defunc_0_op_res_171999;
            ((int16_t *) mem_181152)[i_180807] = defunc_0_op_res_172000;
            ((int16_t *) mem_181154)[i_180807] = i32_res_178752;
            
            int16_t scanacc_tmp_182553 = defunc_0_op_res_171997;
            int16_t scanacc_tmp_182554 = defunc_0_op_res_171998;
            int16_t scanacc_tmp_182555 = defunc_0_op_res_171999;
            int16_t scanacc_tmp_182556 = defunc_0_op_res_172000;
            
            scanacc_180798 = scanacc_tmp_182553;
            scanacc_180799 = scanacc_tmp_182554;
            scanacc_180800 = scanacc_tmp_182555;
            scanacc_180801 = scanacc_tmp_182556;
        }
        discard_180813 = scanacc_180798;
        discard_180814 = scanacc_180799;
        discard_180815 = scanacc_180800;
        discard_180816 = scanacc_180801;
        
        int16_t defunc_0_radix_sort_step_i16_res_172001;
        int16_t defunc_0_radix_sort_step_i16_res_172002;
        int16_t defunc_0_radix_sort_step_i16_res_172003;
        int16_t defunc_0_radix_sort_step_i16_res_172004;
        
        if (empty_slice_171896) {
            defunc_0_radix_sort_step_i16_res_172001 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_172002 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_172003 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_172004 = (int16_t) 0;
        } else {
            int16_t last_res_172005 = ((int16_t *) mem_181146)[m_171897];
            int16_t last_res_172006 = ((int16_t *) mem_181148)[m_171897];
            int16_t last_res_172007 = ((int16_t *) mem_181150)[m_171897];
            int16_t last_res_172008 = ((int16_t *) mem_181152)[m_171897];
            
            defunc_0_radix_sort_step_i16_res_172001 = last_res_172005;
            defunc_0_radix_sort_step_i16_res_172002 = last_res_172006;
            defunc_0_radix_sort_step_i16_res_172003 = last_res_172007;
            defunc_0_radix_sort_step_i16_res_172004 = last_res_172008;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181186, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + (int64_t) 1 * arg_171875, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171874});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181188, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181136, (int64_t) 0 + (int64_t) 1 * arg_171875, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171874});
        for (int64_t write_iter_180817 = 0; write_iter_180817 < rest_171874; write_iter_180817++) {
            int16_t write_iv_180820 = ((int16_t *) mem_181154)[write_iter_180817];
            int16_t write_iv_180821 = ((int16_t *) mem_181146)[write_iter_180817];
            int16_t write_iv_180822 = ((int16_t *) mem_181148)[write_iter_180817];
            int16_t write_iv_180823 = ((int16_t *) mem_181150)[write_iter_180817];
            int16_t write_iv_180824 = ((int16_t *) mem_181152)[write_iter_180817];
            int64_t slice_181019 = arg_171875 + write_iter_180817;
            double write_iv_180825 = ((double *) mem_181136)[slice_181019];
            int64_t write_iv_180826 = ((int64_t *) mem_181138)[slice_181019];
            int64_t defunc_0_f_res_178713;
            
            if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178713, defunc_0_radix_sort_step_i16_res_172001, defunc_0_radix_sort_step_i16_res_172002, defunc_0_radix_sort_step_i16_res_172003, write_iv_180820, write_iv_180821, write_iv_180822, write_iv_180823, write_iv_180824) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178713) && slt64(defunc_0_f_res_178713, rest_171874)) {
                ((double *) mem_181188)[defunc_0_f_res_178713] = write_iv_180825;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178713) && slt64(defunc_0_f_res_178713, rest_171874)) {
                ((int64_t *) mem_181186)[defunc_0_f_res_178713] = write_iv_180826;
            }
        }
        ((int16_t *) mem_181201)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_172001;
        ((int16_t *) mem_181201)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_172002;
        ((int16_t *) mem_181201)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_172003;
        ((int16_t *) mem_181201)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_172004;
        for (int64_t i_180831 = 0; i_180831 < (int64_t) 4; i_180831++) {
            int16_t eta_p_172025 = ((int16_t *) mem_181201)[i_180831];
            int64_t i16_res_172026 = sext_i16_i64(eta_p_172025);
            
            ((int64_t *) mem_181202)[i_180831] = i16_res_172026;
        }
        
        int16_t tmp_172027 = add16(defunc_0_radix_sort_step_i16_res_172001, defunc_0_radix_sort_step_i16_res_172002);
        int16_t tmp_172028 = add16(defunc_0_radix_sort_step_i16_res_172003, tmp_172027);
        
        ((int16_t *) mem_181209)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181209)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_172001;
        ((int16_t *) mem_181209)[(int64_t) 2] = tmp_172027;
        ((int16_t *) mem_181209)[(int64_t) 3] = tmp_172028;
        for (int64_t i_180881 = 0; i_180881 < n_blocks_171873; i_180881++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181212, i_180881 * i16_res_171869, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181136, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_171869), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171869});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181215, i_180881 * i16_res_171869, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_171869), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171869});
            
            int64_t binop_x_181033 = i16_res_171869 * i_180881;
            int16_t discard_180853;
            int16_t discard_180854;
            int16_t discard_180855;
            int16_t discard_180856;
            int16_t scanacc_180838;
            int16_t scanacc_180839;
            int16_t scanacc_180840;
            int16_t scanacc_180841;
            
            scanacc_180838 = (int16_t) 0;
            scanacc_180839 = (int16_t) 0;
            scanacc_180840 = (int16_t) 0;
            scanacc_180841 = (int16_t) 0;
            for (int64_t i_180847 = 0; i_180847 < i16_res_171869; i_180847++) {
                int64_t new_index_181034 = i_180847 + binop_x_181033;
                double eta_p_178788 = ((double *) mem_181136)[new_index_181034];
                int64_t i64_arg0_178789 = futrts_to_bits64(eta_p_178788);
                int64_t unsign_arg0_178790 = ashr64(i64_arg0_178789, unsign_arg0_171943);
                int64_t unsign_arg0_178791 = (int64_t) 1 & unsign_arg0_178790;
                int32_t to_i32_res_178792 = zext_i64_i32(unsign_arg0_178791);
                int64_t unsign_arg0_178793 = ashr64(i64_arg0_178789, (int64_t) 63);
                int64_t unsign_arg0_178794 = (int64_t) 1 & unsign_arg0_178793;
                int32_t to_i32_res_178795 = zext_i64_i32(unsign_arg0_178794);
                bool cond_178796 = to_i32_res_178795 == 1;
                bool x_178797 = !cond_178796;
                bool y_178798 = cond_f_res_171944 && x_178797;
                bool cond_178799 = cond_178796 || y_178798;
                int32_t defunc_0_get_bit_res_178800;
                
                if (cond_178799) {
                    int32_t defunc_0_get_bit_res_t_res_178873 = 1 ^ to_i32_res_178792;
                    
                    defunc_0_get_bit_res_178800 = defunc_0_get_bit_res_t_res_178873;
                } else {
                    defunc_0_get_bit_res_178800 = to_i32_res_178792;
                }
                
                int32_t zp_lhs_178802 = mul32(2, defunc_0_get_bit_res_178800);
                int64_t unsign_arg0_178803 = ashr64(i64_arg0_178789, unsign_arg0_171945);
                int64_t unsign_arg0_178804 = (int64_t) 1 & unsign_arg0_178803;
                int32_t to_i32_res_178805 = zext_i64_i32(unsign_arg0_178804);
                bool y_178806 = cond_f_res_171946 && x_178797;
                bool cond_178807 = cond_178796 || y_178806;
                int32_t defunc_0_get_bit_res_178808;
                
                if (cond_178807) {
                    int32_t defunc_0_get_bit_res_t_res_178874 = 1 ^ to_i32_res_178805;
                    
                    defunc_0_get_bit_res_178808 = defunc_0_get_bit_res_t_res_178874;
                } else {
                    defunc_0_get_bit_res_178808 = to_i32_res_178805;
                }
                
                int32_t i32_arg0_178810 = add32(zp_lhs_178802, defunc_0_get_bit_res_178808);
                int16_t i32_res_178811 = sext_i32_i16(i32_arg0_178810);
                int16_t defunc_0_f_res_178813;
                int16_t defunc_0_f_res_178814;
                int16_t defunc_0_f_res_178815;
                int16_t defunc_0_f_res_178816;
                
                if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178813, &defunc_0_f_res_178814, &defunc_0_f_res_178815, &defunc_0_f_res_178816, i32_res_178811) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_172092 = add16(defunc_0_f_res_178813, scanacc_180838);
                int16_t defunc_0_op_res_172093 = add16(defunc_0_f_res_178814, scanacc_180839);
                int16_t defunc_0_op_res_172094 = add16(defunc_0_f_res_178815, scanacc_180840);
                int16_t defunc_0_op_res_172095 = add16(defunc_0_f_res_178816, scanacc_180841);
                
                ((int16_t *) mem_181243)[i_180847] = defunc_0_op_res_172092;
                ((int16_t *) mem_181245)[i_180847] = defunc_0_op_res_172093;
                ((int16_t *) mem_181247)[i_180847] = defunc_0_op_res_172094;
                ((int16_t *) mem_181249)[i_180847] = defunc_0_op_res_172095;
                ((int16_t *) mem_181251)[i_180847] = i32_res_178811;
                
                int16_t scanacc_tmp_182569 = defunc_0_op_res_172092;
                int16_t scanacc_tmp_182570 = defunc_0_op_res_172093;
                int16_t scanacc_tmp_182571 = defunc_0_op_res_172094;
                int16_t scanacc_tmp_182572 = defunc_0_op_res_172095;
                
                scanacc_180838 = scanacc_tmp_182569;
                scanacc_180839 = scanacc_tmp_182570;
                scanacc_180840 = scanacc_tmp_182571;
                scanacc_180841 = scanacc_tmp_182572;
            }
            discard_180853 = scanacc_180838;
            discard_180854 = scanacc_180839;
            discard_180855 = scanacc_180840;
            discard_180856 = scanacc_180841;
            
            int16_t defunc_0_f_res_172096;
            int16_t defunc_0_f_res_172097;
            int16_t defunc_0_f_res_172098;
            int16_t defunc_0_f_res_172099;
            
            if (zzero_171870) {
                defunc_0_f_res_172096 = (int16_t) 0;
                defunc_0_f_res_172097 = (int16_t) 0;
                defunc_0_f_res_172098 = (int16_t) 0;
                defunc_0_f_res_172099 = (int16_t) 0;
            } else {
                int16_t last_res_172100 = ((int16_t *) mem_181243)[tmp_171912];
                int16_t last_res_172101 = ((int16_t *) mem_181245)[tmp_171912];
                int16_t last_res_172102 = ((int16_t *) mem_181247)[tmp_171912];
                int16_t last_res_172103 = ((int16_t *) mem_181249)[tmp_171912];
                
                defunc_0_f_res_172096 = last_res_172100;
                defunc_0_f_res_172097 = last_res_172101;
                defunc_0_f_res_172098 = last_res_172102;
                defunc_0_f_res_172099 = last_res_172103;
            }
            for (int64_t write_iter_180857 = 0; write_iter_180857 < i16_res_171869; write_iter_180857++) {
                int16_t write_iv_180860 = ((int16_t *) mem_181251)[write_iter_180857];
                int16_t write_iv_180861 = ((int16_t *) mem_181243)[write_iter_180857];
                int16_t write_iv_180862 = ((int16_t *) mem_181245)[write_iter_180857];
                int16_t write_iv_180863 = ((int16_t *) mem_181247)[write_iter_180857];
                int16_t write_iv_180864 = ((int16_t *) mem_181249)[write_iter_180857];
                int64_t new_index_181030 = write_iter_180857 + binop_x_181033;
                double write_iv_180865 = ((double *) mem_181136)[new_index_181030];
                int64_t write_iv_180866 = ((int64_t *) mem_181138)[new_index_181030];
                int64_t defunc_0_f_res_178772;
                
                if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178772, defunc_0_f_res_172096, defunc_0_f_res_172097, defunc_0_f_res_172098, write_iv_180860, write_iv_180861, write_iv_180862, write_iv_180863, write_iv_180864) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178772) && slt64(defunc_0_f_res_178772, i16_res_171869)) {
                    ((double *) mem_181212)[i_180881 * i16_res_171869 + defunc_0_f_res_178772] = write_iv_180865;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178772) && slt64(defunc_0_f_res_178772, i16_res_171869)) {
                    ((int64_t *) mem_181215)[i_180881 * i16_res_171869 + defunc_0_f_res_178772] = write_iv_180866;
                }
            }
            ((int16_t *) mem_181294)[(int64_t) 0] = defunc_0_f_res_172096;
            ((int16_t *) mem_181294)[(int64_t) 1] = defunc_0_f_res_172097;
            ((int16_t *) mem_181294)[(int64_t) 2] = defunc_0_f_res_172098;
            ((int16_t *) mem_181294)[(int64_t) 3] = defunc_0_f_res_172099;
            for (int64_t i_180871 = 0; i_180871 < (int64_t) 4; i_180871++) {
                int16_t eta_p_172118 = ((int16_t *) mem_181294)[i_180871];
                int64_t i16_res_172119 = sext_i16_i64(eta_p_172118);
                
                ((int64_t *) mem_181295)[i_180871] = i16_res_172119;
            }
            
            int16_t tmp_172120 = add16(defunc_0_f_res_172096, defunc_0_f_res_172097);
            int16_t tmp_172121 = add16(defunc_0_f_res_172098, tmp_172120);
            
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_172096;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 2] = tmp_172120;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 3] = tmp_172121;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181218, i_180881 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181295, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180893;
        int64_t scanacc_180889 = (int64_t) 0;
        
        for (int64_t i_180891 = 0; i_180891 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884; i_180891++) {
            int64_t new_index_181008 = squot64(i_180891, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883);
            int64_t binop_y_181010 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883 * new_index_181008;
            int64_t new_index_181011 = i_180891 - binop_y_181010;
            bool index_concat_cmp_181013 = sle64(n_blocks_171873, new_index_181011);
            int64_t index_concat_branch_181017;
            
            if (index_concat_cmp_181013) {
                int64_t index_concat_181015 = ((int64_t *) mem_181202)[new_index_181008];
                
                index_concat_branch_181017 = index_concat_181015;
            } else {
                int64_t index_concat_181016 = ((int64_t *) mem_181218)[new_index_181011 * (int64_t) 4 + new_index_181008];
                
                index_concat_branch_181017 = index_concat_181016;
            }
            
            int64_t defunc_0_op_res_172135 = add64(scanacc_180889, index_concat_branch_181017);
            
            ((int64_t *) mem_181320)[i_180891] = defunc_0_op_res_172135;
            
            int64_t scanacc_tmp_182581 = defunc_0_op_res_172135;
            
            scanacc_180889 = scanacc_tmp_182581;
        }
        discard_180893 = scanacc_180889;
        for (int64_t i_180896 = 0; i_180896 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884; i_180896++) {
            int64_t zv_lhs_172138 = add64((int64_t) -1, i_180896);
            int64_t tmp_172139 = smod64(zv_lhs_172138, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884);
            int64_t lifted_lambda_res_172140 = ((int64_t *) mem_181320)[tmp_172139];
            
            ((int64_t *) mem_181328)[i_180896] = lifted_lambda_res_172140;
        }
        ((int64_t *) mem_181328)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180898 = 0; write_iter_180898 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876; write_iter_180898++) {
            bool index_concat_cmp_180999 = sle64(arg_171875, write_iter_180898);
            double index_concat_branch_178654;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_178883 = sub64(write_iter_180898, arg_171875);
                double index_concat_178884 = ((double *) mem_181188)[index_concat_i_178883];
                
                index_concat_branch_178654 = index_concat_178884;
            } else {
                int64_t new_index_178657 = squot64(write_iter_180898, i16_res_171869);
                int64_t binop_y_178658 = i16_res_171869 * new_index_178657;
                int64_t new_index_178659 = write_iter_180898 - binop_y_178658;
                double index_concat_178660 = ((double *) mem_181212)[new_index_178657 * i16_res_171869 + new_index_178659];
                
                index_concat_branch_178654 = index_concat_178660;
            }
            
            int64_t i64_arg0_178661 = futrts_to_bits64(index_concat_branch_178654);
            int64_t unsign_arg0_178662 = ashr64(i64_arg0_178661, (int64_t) 63);
            int64_t unsign_arg0_178663 = (int64_t) 1 & unsign_arg0_178662;
            int32_t to_i32_res_178664 = zext_i64_i32(unsign_arg0_178663);
            bool cond_178665 = to_i32_res_178664 == 1;
            bool x_178666 = !cond_178665;
            int32_t zlzb_rhs_178667;
            int32_t acc_178669 = 0;
            
            for (int32_t i_178668 = 0; i_178668 < 2; i_178668++) {
                int32_t get_bit_arg0_178670 = add32(blocked_radix_sort_step_arg1_171937, i_178668);
                int64_t unsign_arg0_178671 = zext_i32_i64(get_bit_arg0_178670);
                int64_t unsign_arg0_178672 = ashr64(i64_arg0_178661, unsign_arg0_178671);
                int64_t unsign_arg0_178673 = (int64_t) 1 & unsign_arg0_178672;
                int32_t to_i32_res_178674 = zext_i64_i32(unsign_arg0_178673);
                bool cond_f_res_178675 = get_bit_arg0_178670 == 63;
                bool y_178676 = x_178666 && cond_f_res_178675;
                bool cond_178677 = cond_178665 || y_178676;
                int32_t defunc_0_get_bit_res_178678;
                
                if (cond_178677) {
                    int32_t defunc_0_get_bit_res_t_res_178885 = 1 ^ to_i32_res_178674;
                    
                    defunc_0_get_bit_res_178678 = defunc_0_get_bit_res_t_res_178885;
                } else {
                    defunc_0_get_bit_res_178678 = to_i32_res_178674;
                }
                
                int32_t zp_rhs_178680 = shl32(defunc_0_get_bit_res_178678, i_178668);
                int32_t loopres_178681 = add32(acc_178669, zp_rhs_178680);
                int32_t acc_tmp_182586 = loopres_178681;
                
                acc_178669 = acc_tmp_182586;
            }
            zlzb_rhs_178667 = acc_178669;
            
            int64_t i32_res_178682 = sext_i32_i64(zlzb_rhs_178667);
            int64_t block_idx_178683 = sdiv64(write_iter_180898, i16_res_171869);
            bool x_178684 = sle64((int64_t) 0, block_idx_178683);
            bool y_178685 = slt64(block_idx_178683, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883);
            bool bounds_check_178686 = x_178684 && y_178685;
            bool index_certs_178687;
            
            if (!bounds_check_178686) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178683, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:123:3-47\n   #9  ftsort.fut:122:1-123:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178688 = sle64((int64_t) 0, i32_res_178682);
            bool y_178689 = slt64(i32_res_178682, (int64_t) 4);
            bool bounds_check_178690 = x_178688 && y_178689;
            bool index_certs_178691;
            
            if (!bounds_check_178690) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178682, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:123:3-47\n   #9  ftsort.fut:122:1-123:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double index_concat_branch_181003;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_181000 = sub64(write_iter_180898, arg_171875);
                double index_concat_181001 = ((double *) mem_181188)[index_concat_i_181000];
                
                index_concat_branch_181003 = index_concat_181001;
            } else {
                int64_t new_index_181025 = squot64(write_iter_180898, i16_res_171869);
                int64_t binop_y_181027 = i16_res_171869 * new_index_181025;
                int64_t new_index_181028 = write_iter_180898 - binop_y_181027;
                double index_concat_181002 = ((double *) mem_181212)[new_index_181025 * i16_res_171869 + new_index_181028];
                
                index_concat_branch_181003 = index_concat_181002;
            }
            
            int64_t index_concat_branch_180997;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_180994 = sub64(write_iter_180898, arg_171875);
                int64_t index_concat_180995 = ((int64_t *) mem_181186)[index_concat_i_180994];
                
                index_concat_branch_180997 = index_concat_180995;
            } else {
                int64_t new_index_181021 = squot64(write_iter_180898, i16_res_171869);
                int64_t binop_y_181023 = i16_res_171869 * new_index_181021;
                int64_t new_index_181024 = write_iter_180898 - binop_y_181023;
                int64_t index_concat_180996 = ((int64_t *) mem_181215)[new_index_181021 * i16_res_171869 + new_index_181024];
                
                index_concat_branch_180997 = index_concat_180996;
            }
            
            int64_t binop_x_178692 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883 * i32_res_178682;
            int64_t new_index_178693 = block_idx_178683 + binop_x_178692;
            int64_t new_offset_178694 = ((int64_t *) mem_181328)[new_index_178693];
            bool index_concat_cmp_178695 = sle64(n_blocks_171873, block_idx_178683);
            int16_t index_concat_branch_178696;
            
            if (index_concat_cmp_178695) {
                int16_t index_concat_178886 = ((int16_t *) mem_181209)[i32_res_178682];
                
                index_concat_branch_178696 = index_concat_178886;
            } else {
                int16_t index_concat_178698 = ((int16_t *) mem_181221)[block_idx_178683 * (int64_t) 4 + i32_res_178682];
                
                index_concat_branch_178696 = index_concat_178698;
            }
            
            int64_t i16_res_178699 = sext_i16_i64(index_concat_branch_178696);
            int64_t zp_lhs_178700 = mul64(i16_res_171869, block_idx_178683);
            int64_t old_offset_178701 = add64(i16_res_178699, zp_lhs_178700);
            int64_t zp_lhs_178702 = sub64(write_iter_180898, old_offset_178701);
            int64_t idx_178703 = add64(new_offset_178694, zp_lhs_178702);
            
            if (sle64((int64_t) 0, idx_178703) && slt64(idx_178703, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876)) {
                ((double *) mem_181136)[idx_178703] = index_concat_branch_181003;
            }
            if (sle64((int64_t) 0, idx_178703) && slt64(idx_178703, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876)) {
                ((int64_t *) mem_181138)[idx_178703] = index_concat_branch_180997;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181354, bytes_181353, "mem_181354")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181356, bytes_181353, "mem_181356")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180910 = 0; i_180910 < n_96400; i_180910++) {
        int64_t eta_p_172209 = ((int64_t *) mem_181138)[i_180910];
        bool x_172210 = sle64((int64_t) 0, eta_p_172209);
        bool y_172211 = slt64(eta_p_172209, n_96400);
        bool bounds_check_172212 = x_172210 && y_172211;
        bool index_certs_172213;
        
        if (!bounds_check_172212) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172209, "] out of bounds for array of shape [", (long long) n_96400, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:231:95-98\n   #5  ftsort.fut:123:3-47\n   #6  ftsort.fut:122:1-123:47\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172214 = ((int64_t *) ext_mem_181134.mem)[eta_p_172209];
        double lifted_lambda_res_172215 = ((double *) xs_mem_181133.mem)[eta_p_172209];
        
        ((int64_t *) mem_181354.mem)[i_180910] = lifted_lambda_res_172214;
        ((double *) mem_181356.mem)[i_180910] = lifted_lambda_res_172215;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181354, "mem_181354") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181356, "mem_181356") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183146, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183147, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181136);
        free(mem_181138);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181152);
        free(mem_181154);
        free(mem_181186);
        free(mem_181188);
        free(mem_181201);
        free(mem_181202);
        free(mem_181209);
        free(mem_181212);
        free(mem_181215);
        free(mem_181218);
        free(mem_181221);
        free(mem_181243);
        free(mem_181245);
        free(mem_181247);
        free(mem_181249);
        free(mem_181251);
        free(mem_181294);
        free(mem_181295);
        free(mem_181320);
        free(mem_181328);
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_183173, struct memblock *mem_out_p_183174, struct memblock xs_mem_181133, int64_t n_93645, int64_t incr_93646, int16_t block_sizze_93647)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181136_cached_sizze_183175 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_183176 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181146_cached_sizze_183177 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183178 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183179 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_183180 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_183181 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181186_cached_sizze_183182 = 0;
    unsigned char *mem_181186 = NULL;
    int64_t mem_181188_cached_sizze_183183 = 0;
    unsigned char *mem_181188 = NULL;
    int64_t mem_181201_cached_sizze_183184 = 0;
    unsigned char *mem_181201 = NULL;
    int64_t mem_181202_cached_sizze_183185 = 0;
    unsigned char *mem_181202 = NULL;
    int64_t mem_181209_cached_sizze_183186 = 0;
    unsigned char *mem_181209 = NULL;
    int64_t mem_181212_cached_sizze_183187 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181215_cached_sizze_183188 = 0;
    unsigned char *mem_181215 = NULL;
    int64_t mem_181218_cached_sizze_183189 = 0;
    unsigned char *mem_181218 = NULL;
    int64_t mem_181221_cached_sizze_183190 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181243_cached_sizze_183191 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181245_cached_sizze_183192 = 0;
    unsigned char *mem_181245 = NULL;
    int64_t mem_181247_cached_sizze_183193 = 0;
    unsigned char *mem_181247 = NULL;
    int64_t mem_181249_cached_sizze_183194 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181251_cached_sizze_183195 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181294_cached_sizze_183196 = 0;
    unsigned char *mem_181294 = NULL;
    int64_t mem_181295_cached_sizze_183197 = 0;
    unsigned char *mem_181295 = NULL;
    int64_t mem_181320_cached_sizze_183198 = 0;
    unsigned char *mem_181320 = NULL;
    int64_t mem_181328_cached_sizze_183199 = 0;
    unsigned char *mem_181328 = NULL;
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    bool cond_171867 = n_93645 == (int64_t) 0;
    int32_t iters_171868;
    
    if (cond_171867) {
        iters_171868 = 0;
    } else {
        iters_171868 = 16;
    }
    
    int64_t i16_res_171869 = sext_i16_i64(block_sizze_93647);
    bool zzero_171870 = i16_res_171869 == (int64_t) 0;
    bool nonzzero_171871 = !zzero_171870;
    bool nonzzero_cert_171872;
    
    if (!nonzzero_171871) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:231:95-98\n   #5  ftsort.fut:120:3-46\n   #6  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171873 = sdiv64(n_93645, i16_res_171869);
    int64_t rest_171874 = smod64(n_93645, i16_res_171869);
    int64_t arg_171875 = mul64(i16_res_171869, n_blocks_171873);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876 = add64(rest_171874, arg_171875);
    bool dim_match_171877 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876 == n_93645;
    bool empty_or_match_cert_171878;
    
    if (!dim_match_171877) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_93645, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:231:95-98\n   #6  ftsort.fut:120:3-46\n   #7  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181135 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876;
    int64_t bytes_181137 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876;
    bool loop_nonempty_171882 = slt32(0, iters_171868);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883 = add64((int64_t) 1, n_blocks_171873);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883);
    bool empty_slice_171885 = arg_171875 == (int64_t) 0;
    int64_t m_171886 = sub64(arg_171875, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171887 = sle64((int64_t) 0, m_171886);
    bool i_p_m_t_s_leq_w_171888 = slt64(m_171886, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876);
    bool i_lte_j_171889 = sle64((int64_t) 0, arg_171875);
    bool y_171890 = zzero_leq_i_p_m_t_s_171887 && i_p_m_t_s_leq_w_171888;
    bool forwards_ok_171891 = i_lte_j_171889 && y_171890;
    bool ok_or_empty_171892 = empty_slice_171885 || forwards_ok_171891;
    bool loop_not_taken_171893 = !loop_nonempty_171882;
    bool protect_assert_disj_171894 = ok_or_empty_171892 || loop_not_taken_171893;
    bool index_certs_171895;
    
    if (!protect_assert_disj_171894) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171875, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:231:95-98\n   #7  ftsort.fut:120:3-46\n   #8  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171896 = rest_171874 == (int64_t) 0;
    int64_t m_171897 = sub64(rest_171874, (int64_t) 1);
    int64_t i_p_m_t_s_171898 = add64(arg_171875, m_171897);
    bool zzero_leq_i_p_m_t_s_171899 = sle64((int64_t) 0, i_p_m_t_s_171898);
    bool i_p_m_t_s_leq_w_171900 = slt64(i_p_m_t_s_171898, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876);
    bool i_lte_j_171901 = sle64(arg_171875, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876);
    bool y_171902 = zzero_leq_i_p_m_t_s_171899 && i_p_m_t_s_leq_w_171900;
    bool forwards_ok_171903 = i_lte_j_171901 && y_171902;
    bool ok_or_empty_171904 = empty_slice_171896 || forwards_ok_171903;
    bool protect_assert_disj_171905 = loop_not_taken_171893 || ok_or_empty_171904;
    bool index_certs_171906;
    
    if (!protect_assert_disj_171905) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171875, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:231:95-98\n   #7  ftsort.fut:120:3-46\n   #8  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171907 = sle64((int64_t) 0, n_blocks_171873);
    bool binop_y_171908 = sle64((int64_t) 0, i16_res_171869);
    bool binop_y_171909 = binop_x_171907 && binop_y_171908;
    bool protect_assert_disj_171910 = loop_not_taken_171893 || binop_y_171909;
    bool dim_ok_cert_171911;
    
    if (!protect_assert_disj_171910) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171875, "] to array of shape [", (long long) n_blocks_171873, "][", (long long) i16_res_171869, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:231:95-98\n   #7  ftsort.fut:120:3-46\n   #8  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171912 = sub64(i16_res_171869, (int64_t) 1);
    bool x_171913 = sle64((int64_t) 0, tmp_171912);
    bool y_171914 = slt64(tmp_171912, i16_res_171869);
    bool bounds_check_171915 = x_171913 && y_171914;
    bool protect_assert_disj_171916 = zzero_171870 || bounds_check_171915;
    bool protect_assert_disj_171917 = loop_not_taken_171893 || protect_assert_disj_171916;
    bool index_certs_171918;
    
    if (!protect_assert_disj_171917) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171912, "] out of bounds for array of shape [", (long long) i16_res_171869, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:120:3-46\n   #9  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171920 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884);
    bool protect_assert_disj_171921 = loop_not_taken_171893 || y_171920;
    bool index_certs_171922;
    
    if (!protect_assert_disj_171921) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:120:3-46\n   #9  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171924 = nonzzero_171871 || loop_not_taken_171893;
    bool nonzzero_cert_171925;
    
    if (!protect_assert_disj_171924) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:120:3-46\n   #9  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171926 = sle64((int64_t) 0, m_171897);
    bool y_171927 = slt64(m_171897, rest_171874);
    bool bounds_check_171928 = x_171926 && y_171927;
    bool protect_assert_disj_171929 = empty_slice_171896 || bounds_check_171928;
    bool protect_assert_disj_171930 = loop_not_taken_171893 || protect_assert_disj_171929;
    bool index_certs_171931;
    
    if (!protect_assert_disj_171930) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171897, "] out of bounds for array of shape [", (long long) rest_171874, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:231:95-98\n   #7  ftsort.fut:120:3-46\n   #8  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181145 = (int64_t) 2 * rest_171874;
    int64_t bytes_181185 = (int64_t) 8 * rest_171874;
    int64_t bytes_181187 = (int64_t) 4 * rest_171874;
    int64_t binop_x_181210 = (int64_t) 4 * n_blocks_171873;
    int64_t bytes_181211 = i16_res_171869 * binop_x_181210;
    int64_t binop_x_181213 = (int64_t) 8 * n_blocks_171873;
    int64_t bytes_181214 = i16_res_171869 * binop_x_181213;
    int64_t bytes_181217 = (int64_t) 32 * n_blocks_171873;
    int64_t bytes_181242 = (int64_t) 2 * i16_res_171869;
    int64_t bytes_181319 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883;
    bool dim_match_172193 = n_93645 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876;
    bool empty_or_match_cert_172194;
    
    if (!dim_match_172193) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876, "] cannot match shape of type `[", (long long) n_93645, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:120:3-46\n   #9  ftsort.fut:119:1-120:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181353 = (int64_t) 8 * n_93645;
    int64_t bytes_181355 = (int64_t) 4 * n_93645;
    
    if (futrts_indicesWithIncrement_9590(ctx, &ext_mem_181134, xs_mem_181133, n_93645, incr_93646) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181136_cached_sizze_183175 < bytes_181135) {
        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_183175, bytes_181135);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_181133.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876});
    if (mem_181138_cached_sizze_183176 < bytes_181137) {
        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_183176, bytes_181137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182549 = 0; i_182549 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876; i_182549++) {
        int64_t x_182550 = (int64_t) 0 + i_182549 * (int64_t) 1;
        
        ((int64_t *) mem_181138)[i_182549] = x_182550;
    }
    if (mem_181146_cached_sizze_183177 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183177, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183178 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183178, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183179 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183179, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181152_cached_sizze_183180 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_183180, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181154_cached_sizze_183181 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_183181, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181186_cached_sizze_183182 < bytes_181185) {
        err = lexical_realloc(ctx, &mem_181186, &mem_181186_cached_sizze_183182, bytes_181185);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181188_cached_sizze_183183 < bytes_181187) {
        err = lexical_realloc(ctx, &mem_181188, &mem_181188_cached_sizze_183183, bytes_181187);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181201_cached_sizze_183184 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181201, &mem_181201_cached_sizze_183184, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181202_cached_sizze_183185 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181202, &mem_181202_cached_sizze_183185, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181209_cached_sizze_183186 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181209, &mem_181209_cached_sizze_183186, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181212_cached_sizze_183187 < bytes_181211) {
        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_183187, bytes_181211);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181215_cached_sizze_183188 < bytes_181214) {
        err = lexical_realloc(ctx, &mem_181215, &mem_181215_cached_sizze_183188, bytes_181214);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181218_cached_sizze_183189 < bytes_181217) {
        err = lexical_realloc(ctx, &mem_181218, &mem_181218_cached_sizze_183189, bytes_181217);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181221_cached_sizze_183190 < binop_x_181213) {
        err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_183190, binop_x_181213);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181243_cached_sizze_183191 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_183191, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181245_cached_sizze_183192 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181245, &mem_181245_cached_sizze_183192, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183193 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183193, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181249_cached_sizze_183194 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_183194, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181251_cached_sizze_183195 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_183195, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181294_cached_sizze_183196 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181294, &mem_181294_cached_sizze_183196, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181295_cached_sizze_183197 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181295, &mem_181295_cached_sizze_183197, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181320_cached_sizze_183198 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181320, &mem_181320_cached_sizze_183198, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181328_cached_sizze_183199 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181328, &mem_181328_cached_sizze_183199, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171934 = 0; i_171934 < iters_171868; i_171934++) {
        int32_t blocked_radix_sort_step_arg1_171937 = mul32(2, i_171934);
        int32_t get_bit_arg0_171942 = add32(1, blocked_radix_sort_step_arg1_171937);
        bool cond_f_res_171943 = get_bit_arg0_171942 == 31;
        bool cond_f_res_171944 = blocked_radix_sort_step_arg1_171937 == 31;
        int16_t discard_180813;
        int16_t discard_180814;
        int16_t discard_180815;
        int16_t discard_180816;
        int16_t scanacc_180798;
        int16_t scanacc_180799;
        int16_t scanacc_180800;
        int16_t scanacc_180801;
        
        scanacc_180798 = (int16_t) 0;
        scanacc_180799 = (int16_t) 0;
        scanacc_180800 = (int16_t) 0;
        scanacc_180801 = (int16_t) 0;
        for (int64_t i_180807 = 0; i_180807 < rest_171874; i_180807++) {
            int64_t slice_181020 = arg_171875 + i_180807;
            float eta_p_178726 = ((float *) mem_181136)[slice_181020];
            int32_t i32_arg0_178727 = futrts_to_bits32(eta_p_178726);
            int32_t unsign_arg0_178728 = ashr32(i32_arg0_178727, get_bit_arg0_171942);
            int32_t unsign_arg0_178729 = 1 & unsign_arg0_178728;
            int32_t unsign_arg0_178730 = ashr32(i32_arg0_178727, 31);
            int32_t unsign_arg0_178731 = 1 & unsign_arg0_178730;
            bool cond_178732 = unsign_arg0_178731 == 1;
            bool x_178733 = !cond_178732;
            bool y_178734 = cond_f_res_171943 && x_178733;
            bool cond_178735 = cond_178732 || y_178734;
            int32_t defunc_0_get_bit_res_178736;
            
            if (cond_178735) {
                int32_t defunc_0_get_bit_res_t_res_178862 = 1 ^ unsign_arg0_178729;
                
                defunc_0_get_bit_res_178736 = defunc_0_get_bit_res_t_res_178862;
            } else {
                defunc_0_get_bit_res_178736 = unsign_arg0_178729;
            }
            
            int32_t zp_lhs_178738 = mul32(2, defunc_0_get_bit_res_178736);
            int32_t unsign_arg0_178739 = ashr32(i32_arg0_178727, blocked_radix_sort_step_arg1_171937);
            int32_t unsign_arg0_178740 = 1 & unsign_arg0_178739;
            bool y_178741 = cond_f_res_171944 && x_178733;
            bool cond_178742 = cond_178732 || y_178741;
            int32_t defunc_0_get_bit_res_178743;
            
            if (cond_178742) {
                int32_t defunc_0_get_bit_res_t_res_178863 = 1 ^ unsign_arg0_178740;
                
                defunc_0_get_bit_res_178743 = defunc_0_get_bit_res_t_res_178863;
            } else {
                defunc_0_get_bit_res_178743 = unsign_arg0_178740;
            }
            
            int32_t i32_arg0_178745 = add32(zp_lhs_178738, defunc_0_get_bit_res_178743);
            int16_t i32_res_178746 = sext_i32_i16(i32_arg0_178745);
            int16_t defunc_0_f_res_178748;
            int16_t defunc_0_f_res_178749;
            int16_t defunc_0_f_res_178750;
            int16_t defunc_0_f_res_178751;
            
            if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178748, &defunc_0_f_res_178749, &defunc_0_f_res_178750, &defunc_0_f_res_178751, i32_res_178746) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171992 = add16(defunc_0_f_res_178748, scanacc_180798);
            int16_t defunc_0_op_res_171993 = add16(defunc_0_f_res_178749, scanacc_180799);
            int16_t defunc_0_op_res_171994 = add16(defunc_0_f_res_178750, scanacc_180800);
            int16_t defunc_0_op_res_171995 = add16(defunc_0_f_res_178751, scanacc_180801);
            
            ((int16_t *) mem_181146)[i_180807] = defunc_0_op_res_171992;
            ((int16_t *) mem_181148)[i_180807] = defunc_0_op_res_171993;
            ((int16_t *) mem_181150)[i_180807] = defunc_0_op_res_171994;
            ((int16_t *) mem_181152)[i_180807] = defunc_0_op_res_171995;
            ((int16_t *) mem_181154)[i_180807] = i32_res_178746;
            
            int16_t scanacc_tmp_182553 = defunc_0_op_res_171992;
            int16_t scanacc_tmp_182554 = defunc_0_op_res_171993;
            int16_t scanacc_tmp_182555 = defunc_0_op_res_171994;
            int16_t scanacc_tmp_182556 = defunc_0_op_res_171995;
            
            scanacc_180798 = scanacc_tmp_182553;
            scanacc_180799 = scanacc_tmp_182554;
            scanacc_180800 = scanacc_tmp_182555;
            scanacc_180801 = scanacc_tmp_182556;
        }
        discard_180813 = scanacc_180798;
        discard_180814 = scanacc_180799;
        discard_180815 = scanacc_180800;
        discard_180816 = scanacc_180801;
        
        int16_t defunc_0_radix_sort_step_i16_res_171996;
        int16_t defunc_0_radix_sort_step_i16_res_171997;
        int16_t defunc_0_radix_sort_step_i16_res_171998;
        int16_t defunc_0_radix_sort_step_i16_res_171999;
        
        if (empty_slice_171896) {
            defunc_0_radix_sort_step_i16_res_171996 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171997 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171998 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171999 = (int16_t) 0;
        } else {
            int16_t last_res_172000 = ((int16_t *) mem_181146)[m_171897];
            int16_t last_res_172001 = ((int16_t *) mem_181148)[m_171897];
            int16_t last_res_172002 = ((int16_t *) mem_181150)[m_171897];
            int16_t last_res_172003 = ((int16_t *) mem_181152)[m_171897];
            
            defunc_0_radix_sort_step_i16_res_171996 = last_res_172000;
            defunc_0_radix_sort_step_i16_res_171997 = last_res_172001;
            defunc_0_radix_sort_step_i16_res_171998 = last_res_172002;
            defunc_0_radix_sort_step_i16_res_171999 = last_res_172003;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181186, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + (int64_t) 1 * arg_171875, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171874});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181188, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181136, (int64_t) 0 + (int64_t) 1 * arg_171875, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171874});
        for (int64_t write_iter_180817 = 0; write_iter_180817 < rest_171874; write_iter_180817++) {
            int16_t write_iv_180820 = ((int16_t *) mem_181154)[write_iter_180817];
            int16_t write_iv_180821 = ((int16_t *) mem_181146)[write_iter_180817];
            int16_t write_iv_180822 = ((int16_t *) mem_181148)[write_iter_180817];
            int16_t write_iv_180823 = ((int16_t *) mem_181150)[write_iter_180817];
            int16_t write_iv_180824 = ((int16_t *) mem_181152)[write_iter_180817];
            int64_t slice_181019 = arg_171875 + write_iter_180817;
            float write_iv_180825 = ((float *) mem_181136)[slice_181019];
            int64_t write_iv_180826 = ((int64_t *) mem_181138)[slice_181019];
            int64_t defunc_0_f_res_178710;
            
            if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178710, defunc_0_radix_sort_step_i16_res_171996, defunc_0_radix_sort_step_i16_res_171997, defunc_0_radix_sort_step_i16_res_171998, write_iv_180820, write_iv_180821, write_iv_180822, write_iv_180823, write_iv_180824) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178710) && slt64(defunc_0_f_res_178710, rest_171874)) {
                ((float *) mem_181188)[defunc_0_f_res_178710] = write_iv_180825;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178710) && slt64(defunc_0_f_res_178710, rest_171874)) {
                ((int64_t *) mem_181186)[defunc_0_f_res_178710] = write_iv_180826;
            }
        }
        ((int16_t *) mem_181201)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171996;
        ((int16_t *) mem_181201)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171997;
        ((int16_t *) mem_181201)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171998;
        ((int16_t *) mem_181201)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171999;
        for (int64_t i_180831 = 0; i_180831 < (int64_t) 4; i_180831++) {
            int16_t eta_p_172020 = ((int16_t *) mem_181201)[i_180831];
            int64_t i16_res_172021 = sext_i16_i64(eta_p_172020);
            
            ((int64_t *) mem_181202)[i_180831] = i16_res_172021;
        }
        
        int16_t tmp_172022 = add16(defunc_0_radix_sort_step_i16_res_171996, defunc_0_radix_sort_step_i16_res_171997);
        int16_t tmp_172023 = add16(defunc_0_radix_sort_step_i16_res_171998, tmp_172022);
        
        ((int16_t *) mem_181209)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181209)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171996;
        ((int16_t *) mem_181209)[(int64_t) 2] = tmp_172022;
        ((int16_t *) mem_181209)[(int64_t) 3] = tmp_172023;
        for (int64_t i_180881 = 0; i_180881 < n_blocks_171873; i_180881++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181212, i_180881 * i16_res_171869, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181136, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_171869), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171869});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181215, i_180881 * i16_res_171869, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_171869), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171869});
            
            int64_t binop_x_181033 = i16_res_171869 * i_180881;
            int16_t discard_180853;
            int16_t discard_180854;
            int16_t discard_180855;
            int16_t discard_180856;
            int16_t scanacc_180838;
            int16_t scanacc_180839;
            int16_t scanacc_180840;
            int16_t scanacc_180841;
            
            scanacc_180838 = (int16_t) 0;
            scanacc_180839 = (int16_t) 0;
            scanacc_180840 = (int16_t) 0;
            scanacc_180841 = (int16_t) 0;
            for (int64_t i_180847 = 0; i_180847 < i16_res_171869; i_180847++) {
                int64_t new_index_181034 = i_180847 + binop_x_181033;
                float eta_p_178782 = ((float *) mem_181136)[new_index_181034];
                int32_t i32_arg0_178783 = futrts_to_bits32(eta_p_178782);
                int32_t unsign_arg0_178784 = ashr32(i32_arg0_178783, get_bit_arg0_171942);
                int32_t unsign_arg0_178785 = 1 & unsign_arg0_178784;
                int32_t unsign_arg0_178786 = ashr32(i32_arg0_178783, 31);
                int32_t unsign_arg0_178787 = 1 & unsign_arg0_178786;
                bool cond_178788 = unsign_arg0_178787 == 1;
                bool x_178789 = !cond_178788;
                bool y_178790 = cond_f_res_171943 && x_178789;
                bool cond_178791 = cond_178788 || y_178790;
                int32_t defunc_0_get_bit_res_178792;
                
                if (cond_178791) {
                    int32_t defunc_0_get_bit_res_t_res_178864 = 1 ^ unsign_arg0_178785;
                    
                    defunc_0_get_bit_res_178792 = defunc_0_get_bit_res_t_res_178864;
                } else {
                    defunc_0_get_bit_res_178792 = unsign_arg0_178785;
                }
                
                int32_t zp_lhs_178794 = mul32(2, defunc_0_get_bit_res_178792);
                int32_t unsign_arg0_178795 = ashr32(i32_arg0_178783, blocked_radix_sort_step_arg1_171937);
                int32_t unsign_arg0_178796 = 1 & unsign_arg0_178795;
                bool y_178797 = cond_f_res_171944 && x_178789;
                bool cond_178798 = cond_178788 || y_178797;
                int32_t defunc_0_get_bit_res_178799;
                
                if (cond_178798) {
                    int32_t defunc_0_get_bit_res_t_res_178865 = 1 ^ unsign_arg0_178796;
                    
                    defunc_0_get_bit_res_178799 = defunc_0_get_bit_res_t_res_178865;
                } else {
                    defunc_0_get_bit_res_178799 = unsign_arg0_178796;
                }
                
                int32_t i32_arg0_178801 = add32(zp_lhs_178794, defunc_0_get_bit_res_178799);
                int16_t i32_res_178802 = sext_i32_i16(i32_arg0_178801);
                int16_t defunc_0_f_res_178804;
                int16_t defunc_0_f_res_178805;
                int16_t defunc_0_f_res_178806;
                int16_t defunc_0_f_res_178807;
                
                if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178804, &defunc_0_f_res_178805, &defunc_0_f_res_178806, &defunc_0_f_res_178807, i32_res_178802) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_172084 = add16(defunc_0_f_res_178804, scanacc_180838);
                int16_t defunc_0_op_res_172085 = add16(defunc_0_f_res_178805, scanacc_180839);
                int16_t defunc_0_op_res_172086 = add16(defunc_0_f_res_178806, scanacc_180840);
                int16_t defunc_0_op_res_172087 = add16(defunc_0_f_res_178807, scanacc_180841);
                
                ((int16_t *) mem_181243)[i_180847] = defunc_0_op_res_172084;
                ((int16_t *) mem_181245)[i_180847] = defunc_0_op_res_172085;
                ((int16_t *) mem_181247)[i_180847] = defunc_0_op_res_172086;
                ((int16_t *) mem_181249)[i_180847] = defunc_0_op_res_172087;
                ((int16_t *) mem_181251)[i_180847] = i32_res_178802;
                
                int16_t scanacc_tmp_182569 = defunc_0_op_res_172084;
                int16_t scanacc_tmp_182570 = defunc_0_op_res_172085;
                int16_t scanacc_tmp_182571 = defunc_0_op_res_172086;
                int16_t scanacc_tmp_182572 = defunc_0_op_res_172087;
                
                scanacc_180838 = scanacc_tmp_182569;
                scanacc_180839 = scanacc_tmp_182570;
                scanacc_180840 = scanacc_tmp_182571;
                scanacc_180841 = scanacc_tmp_182572;
            }
            discard_180853 = scanacc_180838;
            discard_180854 = scanacc_180839;
            discard_180855 = scanacc_180840;
            discard_180856 = scanacc_180841;
            
            int16_t defunc_0_f_res_172088;
            int16_t defunc_0_f_res_172089;
            int16_t defunc_0_f_res_172090;
            int16_t defunc_0_f_res_172091;
            
            if (zzero_171870) {
                defunc_0_f_res_172088 = (int16_t) 0;
                defunc_0_f_res_172089 = (int16_t) 0;
                defunc_0_f_res_172090 = (int16_t) 0;
                defunc_0_f_res_172091 = (int16_t) 0;
            } else {
                int16_t last_res_172092 = ((int16_t *) mem_181243)[tmp_171912];
                int16_t last_res_172093 = ((int16_t *) mem_181245)[tmp_171912];
                int16_t last_res_172094 = ((int16_t *) mem_181247)[tmp_171912];
                int16_t last_res_172095 = ((int16_t *) mem_181249)[tmp_171912];
                
                defunc_0_f_res_172088 = last_res_172092;
                defunc_0_f_res_172089 = last_res_172093;
                defunc_0_f_res_172090 = last_res_172094;
                defunc_0_f_res_172091 = last_res_172095;
            }
            for (int64_t write_iter_180857 = 0; write_iter_180857 < i16_res_171869; write_iter_180857++) {
                int16_t write_iv_180860 = ((int16_t *) mem_181251)[write_iter_180857];
                int16_t write_iv_180861 = ((int16_t *) mem_181243)[write_iter_180857];
                int16_t write_iv_180862 = ((int16_t *) mem_181245)[write_iter_180857];
                int16_t write_iv_180863 = ((int16_t *) mem_181247)[write_iter_180857];
                int16_t write_iv_180864 = ((int16_t *) mem_181249)[write_iter_180857];
                int64_t new_index_181030 = write_iter_180857 + binop_x_181033;
                float write_iv_180865 = ((float *) mem_181136)[new_index_181030];
                int64_t write_iv_180866 = ((int64_t *) mem_181138)[new_index_181030];
                int64_t defunc_0_f_res_178766;
                
                if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178766, defunc_0_f_res_172088, defunc_0_f_res_172089, defunc_0_f_res_172090, write_iv_180860, write_iv_180861, write_iv_180862, write_iv_180863, write_iv_180864) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178766) && slt64(defunc_0_f_res_178766, i16_res_171869)) {
                    ((float *) mem_181212)[i_180881 * i16_res_171869 + defunc_0_f_res_178766] = write_iv_180865;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178766) && slt64(defunc_0_f_res_178766, i16_res_171869)) {
                    ((int64_t *) mem_181215)[i_180881 * i16_res_171869 + defunc_0_f_res_178766] = write_iv_180866;
                }
            }
            ((int16_t *) mem_181294)[(int64_t) 0] = defunc_0_f_res_172088;
            ((int16_t *) mem_181294)[(int64_t) 1] = defunc_0_f_res_172089;
            ((int16_t *) mem_181294)[(int64_t) 2] = defunc_0_f_res_172090;
            ((int16_t *) mem_181294)[(int64_t) 3] = defunc_0_f_res_172091;
            for (int64_t i_180871 = 0; i_180871 < (int64_t) 4; i_180871++) {
                int16_t eta_p_172110 = ((int16_t *) mem_181294)[i_180871];
                int64_t i16_res_172111 = sext_i16_i64(eta_p_172110);
                
                ((int64_t *) mem_181295)[i_180871] = i16_res_172111;
            }
            
            int16_t tmp_172112 = add16(defunc_0_f_res_172088, defunc_0_f_res_172089);
            int16_t tmp_172113 = add16(defunc_0_f_res_172090, tmp_172112);
            
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_172088;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 2] = tmp_172112;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 3] = tmp_172113;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181218, i_180881 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181295, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180893;
        int64_t scanacc_180889 = (int64_t) 0;
        
        for (int64_t i_180891 = 0; i_180891 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884; i_180891++) {
            int64_t new_index_181008 = squot64(i_180891, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883);
            int64_t binop_y_181010 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883 * new_index_181008;
            int64_t new_index_181011 = i_180891 - binop_y_181010;
            bool index_concat_cmp_181013 = sle64(n_blocks_171873, new_index_181011);
            int64_t index_concat_branch_181017;
            
            if (index_concat_cmp_181013) {
                int64_t index_concat_181015 = ((int64_t *) mem_181202)[new_index_181008];
                
                index_concat_branch_181017 = index_concat_181015;
            } else {
                int64_t index_concat_181016 = ((int64_t *) mem_181218)[new_index_181011 * (int64_t) 4 + new_index_181008];
                
                index_concat_branch_181017 = index_concat_181016;
            }
            
            int64_t defunc_0_op_res_172127 = add64(scanacc_180889, index_concat_branch_181017);
            
            ((int64_t *) mem_181320)[i_180891] = defunc_0_op_res_172127;
            
            int64_t scanacc_tmp_182581 = defunc_0_op_res_172127;
            
            scanacc_180889 = scanacc_tmp_182581;
        }
        discard_180893 = scanacc_180889;
        for (int64_t i_180896 = 0; i_180896 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884; i_180896++) {
            int64_t zv_lhs_172130 = add64((int64_t) -1, i_180896);
            int64_t tmp_172131 = smod64(zv_lhs_172130, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171884);
            int64_t lifted_lambda_res_172132 = ((int64_t *) mem_181320)[tmp_172131];
            
            ((int64_t *) mem_181328)[i_180896] = lifted_lambda_res_172132;
        }
        ((int64_t *) mem_181328)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180898 = 0; write_iter_180898 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876; write_iter_180898++) {
            bool index_concat_cmp_180999 = sle64(arg_171875, write_iter_180898);
            float index_concat_branch_178654;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_178874 = sub64(write_iter_180898, arg_171875);
                float index_concat_178875 = ((float *) mem_181188)[index_concat_i_178874];
                
                index_concat_branch_178654 = index_concat_178875;
            } else {
                int64_t new_index_178657 = squot64(write_iter_180898, i16_res_171869);
                int64_t binop_y_178658 = i16_res_171869 * new_index_178657;
                int64_t new_index_178659 = write_iter_180898 - binop_y_178658;
                float index_concat_178660 = ((float *) mem_181212)[new_index_178657 * i16_res_171869 + new_index_178659];
                
                index_concat_branch_178654 = index_concat_178660;
            }
            
            int32_t i32_arg0_178661 = futrts_to_bits32(index_concat_branch_178654);
            int32_t unsign_arg0_178662 = ashr32(i32_arg0_178661, 31);
            int32_t unsign_arg0_178663 = 1 & unsign_arg0_178662;
            bool cond_178664 = unsign_arg0_178663 == 1;
            bool x_178665 = !cond_178664;
            int32_t zlzb_rhs_178666;
            int32_t acc_178668 = 0;
            
            for (int32_t i_178667 = 0; i_178667 < 2; i_178667++) {
                int32_t get_bit_arg0_178669 = add32(blocked_radix_sort_step_arg1_171937, i_178667);
                int32_t unsign_arg0_178670 = ashr32(i32_arg0_178661, get_bit_arg0_178669);
                int32_t unsign_arg0_178671 = 1 & unsign_arg0_178670;
                bool cond_f_res_178672 = get_bit_arg0_178669 == 31;
                bool y_178673 = x_178665 && cond_f_res_178672;
                bool cond_178674 = cond_178664 || y_178673;
                int32_t defunc_0_get_bit_res_178675;
                
                if (cond_178674) {
                    int32_t defunc_0_get_bit_res_t_res_178876 = 1 ^ unsign_arg0_178671;
                    
                    defunc_0_get_bit_res_178675 = defunc_0_get_bit_res_t_res_178876;
                } else {
                    defunc_0_get_bit_res_178675 = unsign_arg0_178671;
                }
                
                int32_t zp_rhs_178677 = shl32(defunc_0_get_bit_res_178675, i_178667);
                int32_t loopres_178678 = add32(acc_178668, zp_rhs_178677);
                int32_t acc_tmp_182586 = loopres_178678;
                
                acc_178668 = acc_tmp_182586;
            }
            zlzb_rhs_178666 = acc_178668;
            
            int64_t i32_res_178679 = sext_i32_i64(zlzb_rhs_178666);
            int64_t block_idx_178680 = sdiv64(write_iter_180898, i16_res_171869);
            bool x_178681 = sle64((int64_t) 0, block_idx_178680);
            bool y_178682 = slt64(block_idx_178680, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883);
            bool bounds_check_178683 = x_178681 && y_178682;
            bool index_certs_178684;
            
            if (!bounds_check_178683) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178680, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:120:3-46\n   #9  ftsort.fut:119:1-120:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178685 = sle64((int64_t) 0, i32_res_178679);
            bool y_178686 = slt64(i32_res_178679, (int64_t) 4);
            bool bounds_check_178687 = x_178685 && y_178686;
            bool index_certs_178688;
            
            if (!bounds_check_178687) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178679, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:231:95-98\n   #8  ftsort.fut:120:3-46\n   #9  ftsort.fut:119:1-120:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            float index_concat_branch_181003;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_181000 = sub64(write_iter_180898, arg_171875);
                float index_concat_181001 = ((float *) mem_181188)[index_concat_i_181000];
                
                index_concat_branch_181003 = index_concat_181001;
            } else {
                int64_t new_index_181025 = squot64(write_iter_180898, i16_res_171869);
                int64_t binop_y_181027 = i16_res_171869 * new_index_181025;
                int64_t new_index_181028 = write_iter_180898 - binop_y_181027;
                float index_concat_181002 = ((float *) mem_181212)[new_index_181025 * i16_res_171869 + new_index_181028];
                
                index_concat_branch_181003 = index_concat_181002;
            }
            
            int64_t index_concat_branch_180997;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_180994 = sub64(write_iter_180898, arg_171875);
                int64_t index_concat_180995 = ((int64_t *) mem_181186)[index_concat_i_180994];
                
                index_concat_branch_180997 = index_concat_180995;
            } else {
                int64_t new_index_181021 = squot64(write_iter_180898, i16_res_171869);
                int64_t binop_y_181023 = i16_res_171869 * new_index_181021;
                int64_t new_index_181024 = write_iter_180898 - binop_y_181023;
                int64_t index_concat_180996 = ((int64_t *) mem_181215)[new_index_181021 * i16_res_171869 + new_index_181024];
                
                index_concat_branch_180997 = index_concat_180996;
            }
            
            int64_t binop_x_178689 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171883 * i32_res_178679;
            int64_t new_index_178690 = block_idx_178680 + binop_x_178689;
            int64_t new_offset_178691 = ((int64_t *) mem_181328)[new_index_178690];
            bool index_concat_cmp_178692 = sle64(n_blocks_171873, block_idx_178680);
            int16_t index_concat_branch_178693;
            
            if (index_concat_cmp_178692) {
                int16_t index_concat_178877 = ((int16_t *) mem_181209)[i32_res_178679];
                
                index_concat_branch_178693 = index_concat_178877;
            } else {
                int16_t index_concat_178695 = ((int16_t *) mem_181221)[block_idx_178680 * (int64_t) 4 + i32_res_178679];
                
                index_concat_branch_178693 = index_concat_178695;
            }
            
            int64_t i16_res_178696 = sext_i16_i64(index_concat_branch_178693);
            int64_t zp_lhs_178697 = mul64(i16_res_171869, block_idx_178680);
            int64_t old_offset_178698 = add64(i16_res_178696, zp_lhs_178697);
            int64_t zp_lhs_178699 = sub64(write_iter_180898, old_offset_178698);
            int64_t idx_178700 = add64(new_offset_178691, zp_lhs_178699);
            
            if (sle64((int64_t) 0, idx_178700) && slt64(idx_178700, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876)) {
                ((float *) mem_181136)[idx_178700] = index_concat_branch_181003;
            }
            if (sle64((int64_t) 0, idx_178700) && slt64(idx_178700, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171876)) {
                ((int64_t *) mem_181138)[idx_178700] = index_concat_branch_180997;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181354, bytes_181353, "mem_181354")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181356, bytes_181355, "mem_181356")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180910 = 0; i_180910 < n_93645; i_180910++) {
        int64_t eta_p_172198 = ((int64_t *) mem_181138)[i_180910];
        bool x_172199 = sle64((int64_t) 0, eta_p_172198);
        bool y_172200 = slt64(eta_p_172198, n_93645);
        bool bounds_check_172201 = x_172199 && y_172200;
        bool index_certs_172202;
        
        if (!bounds_check_172201) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172198, "] out of bounds for array of shape [", (long long) n_93645, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:231:95-98\n   #5  ftsort.fut:120:3-46\n   #6  ftsort.fut:119:1-120:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172203 = ((int64_t *) ext_mem_181134.mem)[eta_p_172198];
        float lifted_lambda_res_172204 = ((float *) xs_mem_181133.mem)[eta_p_172198];
        
        ((int64_t *) mem_181354.mem)[i_180910] = lifted_lambda_res_172203;
        ((float *) mem_181356.mem)[i_180910] = lifted_lambda_res_172204;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181354, "mem_181354") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181356, "mem_181356") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183173, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183174, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181136);
        free(mem_181138);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181152);
        free(mem_181154);
        free(mem_181186);
        free(mem_181188);
        free(mem_181201);
        free(mem_181202);
        free(mem_181209);
        free(mem_181212);
        free(mem_181215);
        free(mem_181218);
        free(mem_181221);
        free(mem_181243);
        free(mem_181245);
        free(mem_181247);
        free(mem_181249);
        free(mem_181251);
        free(mem_181294);
        free(mem_181295);
        free(mem_181320);
        free(mem_181328);
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_183200, struct memblock *mem_out_p_183201, struct memblock xs_mem_181133, int64_t n_88294, int64_t incr_88295, int16_t block_sizze_88296)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181136_cached_sizze_183202 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_183203 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181146_cached_sizze_183204 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183205 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183206 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_183207 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_183208 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181186_cached_sizze_183209 = 0;
    unsigned char *mem_181186 = NULL;
    int64_t mem_181188_cached_sizze_183210 = 0;
    unsigned char *mem_181188 = NULL;
    int64_t mem_181201_cached_sizze_183211 = 0;
    unsigned char *mem_181201 = NULL;
    int64_t mem_181202_cached_sizze_183212 = 0;
    unsigned char *mem_181202 = NULL;
    int64_t mem_181209_cached_sizze_183213 = 0;
    unsigned char *mem_181209 = NULL;
    int64_t mem_181212_cached_sizze_183214 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181215_cached_sizze_183215 = 0;
    unsigned char *mem_181215 = NULL;
    int64_t mem_181218_cached_sizze_183216 = 0;
    unsigned char *mem_181218 = NULL;
    int64_t mem_181221_cached_sizze_183217 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181243_cached_sizze_183218 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181245_cached_sizze_183219 = 0;
    unsigned char *mem_181245 = NULL;
    int64_t mem_181247_cached_sizze_183220 = 0;
    unsigned char *mem_181247 = NULL;
    int64_t mem_181249_cached_sizze_183221 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181251_cached_sizze_183222 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181294_cached_sizze_183223 = 0;
    unsigned char *mem_181294 = NULL;
    int64_t mem_181295_cached_sizze_183224 = 0;
    unsigned char *mem_181295 = NULL;
    int64_t mem_181320_cached_sizze_183225 = 0;
    unsigned char *mem_181320 = NULL;
    int64_t mem_181328_cached_sizze_183226 = 0;
    unsigned char *mem_181328 = NULL;
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    bool cond_168637 = n_88294 == (int64_t) 0;
    int32_t iters_168638;
    
    if (cond_168637) {
        iters_168638 = 0;
    } else {
        iters_168638 = 16;
    }
    
    int64_t i16_res_168639 = sext_i16_i64(block_sizze_88296);
    bool zzero_168640 = i16_res_168639 == (int64_t) 0;
    bool nonzzero_168641 = !zzero_168640;
    bool nonzzero_cert_168642;
    
    if (!nonzzero_168641) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:178:93-96\n   #5  ftsort.fut:114:3-44\n   #6  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168643 = sdiv64(n_88294, i16_res_168639);
    int64_t rest_168644 = smod64(n_88294, i16_res_168639);
    int64_t arg_168645 = mul64(i16_res_168639, n_blocks_168643);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646 = add64(rest_168644, arg_168645);
    bool dim_match_168647 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646 == n_88294;
    bool empty_or_match_cert_168648;
    
    if (!dim_match_168647) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_88294, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:178:93-96\n   #6  ftsort.fut:114:3-44\n   #7  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181135 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646;
    int64_t bytes_181137 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646;
    bool loop_nonempty_168652 = slt32(0, iters_168638);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 = add64((int64_t) 1, n_blocks_168643);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
    bool empty_slice_168655 = arg_168645 == (int64_t) 0;
    int64_t m_168656 = sub64(arg_168645, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168657 = sle64((int64_t) 0, m_168656);
    bool i_p_m_t_s_leq_w_168658 = slt64(m_168656, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool i_lte_j_168659 = sle64((int64_t) 0, arg_168645);
    bool y_168660 = zzero_leq_i_p_m_t_s_168657 && i_p_m_t_s_leq_w_168658;
    bool forwards_ok_168661 = i_lte_j_168659 && y_168660;
    bool ok_or_empty_168662 = empty_slice_168655 || forwards_ok_168661;
    bool loop_not_taken_168663 = !loop_nonempty_168652;
    bool protect_assert_disj_168664 = ok_or_empty_168662 || loop_not_taken_168663;
    bool index_certs_168665;
    
    if (!protect_assert_disj_168664) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168645, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:114:3-44\n   #8  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168666 = rest_168644 == (int64_t) 0;
    int64_t m_168667 = sub64(rest_168644, (int64_t) 1);
    int64_t i_p_m_t_s_168668 = add64(arg_168645, m_168667);
    bool zzero_leq_i_p_m_t_s_168669 = sle64((int64_t) 0, i_p_m_t_s_168668);
    bool i_p_m_t_s_leq_w_168670 = slt64(i_p_m_t_s_168668, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool i_lte_j_168671 = sle64(arg_168645, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool y_168672 = zzero_leq_i_p_m_t_s_168669 && i_p_m_t_s_leq_w_168670;
    bool forwards_ok_168673 = i_lte_j_168671 && y_168672;
    bool ok_or_empty_168674 = empty_slice_168666 || forwards_ok_168673;
    bool protect_assert_disj_168675 = loop_not_taken_168663 || ok_or_empty_168674;
    bool index_certs_168676;
    
    if (!protect_assert_disj_168675) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168645, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:114:3-44\n   #8  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168677 = sle64((int64_t) 0, n_blocks_168643);
    bool binop_y_168678 = sle64((int64_t) 0, i16_res_168639);
    bool binop_y_168679 = binop_x_168677 && binop_y_168678;
    bool protect_assert_disj_168680 = loop_not_taken_168663 || binop_y_168679;
    bool dim_ok_cert_168681;
    
    if (!protect_assert_disj_168680) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168645, "] to array of shape [", (long long) n_blocks_168643, "][", (long long) i16_res_168639, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:114:3-44\n   #8  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168682 = sub64(i16_res_168639, (int64_t) 1);
    bool x_168683 = sle64((int64_t) 0, tmp_168682);
    bool y_168684 = slt64(tmp_168682, i16_res_168639);
    bool bounds_check_168685 = x_168683 && y_168684;
    bool protect_assert_disj_168686 = zzero_168640 || bounds_check_168685;
    bool protect_assert_disj_168687 = loop_not_taken_168663 || protect_assert_disj_168686;
    bool index_certs_168688;
    
    if (!protect_assert_disj_168687) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168682, "] out of bounds for array of shape [", (long long) i16_res_168639, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:114:3-44\n   #9  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168690 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654);
    bool protect_assert_disj_168691 = loop_not_taken_168663 || y_168690;
    bool index_certs_168692;
    
    if (!protect_assert_disj_168691) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:114:3-44\n   #9  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168694 = nonzzero_168641 || loop_not_taken_168663;
    bool nonzzero_cert_168695;
    
    if (!protect_assert_disj_168694) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:114:3-44\n   #10 ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168696 = sle64((int64_t) 0, m_168667);
    bool y_168697 = slt64(m_168667, rest_168644);
    bool bounds_check_168698 = x_168696 && y_168697;
    bool protect_assert_disj_168699 = empty_slice_168666 || bounds_check_168698;
    bool protect_assert_disj_168700 = loop_not_taken_168663 || protect_assert_disj_168699;
    bool index_certs_168701;
    
    if (!protect_assert_disj_168700) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168667, "] out of bounds for array of shape [", (long long) rest_168644, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:114:3-44\n   #9  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181145 = (int64_t) 2 * rest_168644;
    int64_t bytes_181185 = (int64_t) 8 * rest_168644;
    int64_t bytes_181187 = (int64_t) 4 * rest_168644;
    int64_t binop_x_181210 = (int64_t) 4 * n_blocks_168643;
    int64_t bytes_181211 = i16_res_168639 * binop_x_181210;
    int64_t binop_x_181213 = (int64_t) 8 * n_blocks_168643;
    int64_t bytes_181214 = i16_res_168639 * binop_x_181213;
    int64_t bytes_181217 = (int64_t) 32 * n_blocks_168643;
    int64_t bytes_181242 = (int64_t) 2 * i16_res_168639;
    int64_t bytes_181319 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653;
    bool dim_match_168933 = n_88294 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646;
    bool empty_or_match_cert_168934;
    
    if (!dim_match_168933) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "] cannot match shape of type `[", (long long) n_88294, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:114:3-44\n   #9  ftsort.fut:113:1-114:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181353 = (int64_t) 8 * n_88294;
    int64_t bytes_181355 = (int64_t) 4 * n_88294;
    
    if (futrts_indicesWithIncrement_9380(ctx, &ext_mem_181134, xs_mem_181133, n_88294, incr_88295) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181136_cached_sizze_183202 < bytes_181135) {
        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_183202, bytes_181135);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_181133.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646});
    if (mem_181138_cached_sizze_183203 < bytes_181137) {
        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_183203, bytes_181137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182549 = 0; i_182549 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646; i_182549++) {
        int64_t x_182550 = (int64_t) 0 + i_182549 * (int64_t) 1;
        
        ((int64_t *) mem_181138)[i_182549] = x_182550;
    }
    if (mem_181146_cached_sizze_183204 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183204, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183205 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183205, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183206 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183206, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181152_cached_sizze_183207 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_183207, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181154_cached_sizze_183208 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_183208, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181186_cached_sizze_183209 < bytes_181185) {
        err = lexical_realloc(ctx, &mem_181186, &mem_181186_cached_sizze_183209, bytes_181185);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181188_cached_sizze_183210 < bytes_181187) {
        err = lexical_realloc(ctx, &mem_181188, &mem_181188_cached_sizze_183210, bytes_181187);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181201_cached_sizze_183211 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181201, &mem_181201_cached_sizze_183211, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181202_cached_sizze_183212 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181202, &mem_181202_cached_sizze_183212, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181209_cached_sizze_183213 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181209, &mem_181209_cached_sizze_183213, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181212_cached_sizze_183214 < bytes_181211) {
        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_183214, bytes_181211);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181215_cached_sizze_183215 < bytes_181214) {
        err = lexical_realloc(ctx, &mem_181215, &mem_181215_cached_sizze_183215, bytes_181214);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181218_cached_sizze_183216 < bytes_181217) {
        err = lexical_realloc(ctx, &mem_181218, &mem_181218_cached_sizze_183216, bytes_181217);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181221_cached_sizze_183217 < binop_x_181213) {
        err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_183217, binop_x_181213);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181243_cached_sizze_183218 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_183218, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181245_cached_sizze_183219 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181245, &mem_181245_cached_sizze_183219, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183220 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183220, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181249_cached_sizze_183221 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_183221, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181251_cached_sizze_183222 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_183222, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181294_cached_sizze_183223 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181294, &mem_181294_cached_sizze_183223, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181295_cached_sizze_183224 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181295, &mem_181295_cached_sizze_183224, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181320_cached_sizze_183225 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181320, &mem_181320_cached_sizze_183225, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181328_cached_sizze_183226 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181328, &mem_181328_cached_sizze_183226, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168704 = 0; i_168704 < iters_168638; i_168704++) {
        int32_t blocked_radix_sort_step_arg1_168707 = mul32(2, i_168704);
        int32_t get_bit_arg0_168712 = add32(1, blocked_radix_sort_step_arg1_168707);
        bool cond_168713 = get_bit_arg0_168712 == 31;
        bool cond_168714 = blocked_radix_sort_step_arg1_168707 == 31;
        int16_t discard_180813;
        int16_t discard_180814;
        int16_t discard_180815;
        int16_t discard_180816;
        int16_t scanacc_180798;
        int16_t scanacc_180799;
        int16_t scanacc_180800;
        int16_t scanacc_180801;
        
        scanacc_180798 = (int16_t) 0;
        scanacc_180799 = (int16_t) 0;
        scanacc_180800 = (int16_t) 0;
        scanacc_180801 = (int16_t) 0;
        for (int64_t i_180807 = 0; i_180807 < rest_168644; i_180807++) {
            int64_t slice_181020 = arg_168645 + i_180807;
            int32_t eta_p_178719 = ((int32_t *) mem_181136)[slice_181020];
            int32_t zgzg_res_178720 = ashr32(eta_p_178719, get_bit_arg0_168712);
            int32_t za_res_178721 = 1 & zgzg_res_178720;
            int32_t defunc_0_get_bit_res_178722;
            
            if (cond_168713) {
                int32_t defunc_0_get_bit_res_t_res_178837 = 1 ^ za_res_178721;
                
                defunc_0_get_bit_res_178722 = defunc_0_get_bit_res_t_res_178837;
            } else {
                defunc_0_get_bit_res_178722 = za_res_178721;
            }
            
            int32_t zp_lhs_178724 = mul32(2, defunc_0_get_bit_res_178722);
            int32_t zgzg_res_178725 = ashr32(eta_p_178719, blocked_radix_sort_step_arg1_168707);
            int32_t za_res_178726 = 1 & zgzg_res_178725;
            int32_t defunc_0_get_bit_res_178727;
            
            if (cond_168714) {
                int32_t defunc_0_get_bit_res_t_res_178838 = 1 ^ za_res_178726;
                
                defunc_0_get_bit_res_178727 = defunc_0_get_bit_res_t_res_178838;
            } else {
                defunc_0_get_bit_res_178727 = za_res_178726;
            }
            
            int32_t i32_arg0_178729 = add32(zp_lhs_178724, defunc_0_get_bit_res_178727);
            int16_t i32_res_178730 = sext_i32_i16(i32_arg0_178729);
            int16_t defunc_0_f_res_178732;
            int16_t defunc_0_f_res_178733;
            int16_t defunc_0_f_res_178734;
            int16_t defunc_0_f_res_178735;
            
            if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178732, &defunc_0_f_res_178733, &defunc_0_f_res_178734, &defunc_0_f_res_178735, i32_res_178730) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168751 = add16(defunc_0_f_res_178732, scanacc_180798);
            int16_t defunc_0_op_res_168752 = add16(defunc_0_f_res_178733, scanacc_180799);
            int16_t defunc_0_op_res_168753 = add16(defunc_0_f_res_178734, scanacc_180800);
            int16_t defunc_0_op_res_168754 = add16(defunc_0_f_res_178735, scanacc_180801);
            
            ((int16_t *) mem_181146)[i_180807] = defunc_0_op_res_168751;
            ((int16_t *) mem_181148)[i_180807] = defunc_0_op_res_168752;
            ((int16_t *) mem_181150)[i_180807] = defunc_0_op_res_168753;
            ((int16_t *) mem_181152)[i_180807] = defunc_0_op_res_168754;
            ((int16_t *) mem_181154)[i_180807] = i32_res_178730;
            
            int16_t scanacc_tmp_182553 = defunc_0_op_res_168751;
            int16_t scanacc_tmp_182554 = defunc_0_op_res_168752;
            int16_t scanacc_tmp_182555 = defunc_0_op_res_168753;
            int16_t scanacc_tmp_182556 = defunc_0_op_res_168754;
            
            scanacc_180798 = scanacc_tmp_182553;
            scanacc_180799 = scanacc_tmp_182554;
            scanacc_180800 = scanacc_tmp_182555;
            scanacc_180801 = scanacc_tmp_182556;
        }
        discard_180813 = scanacc_180798;
        discard_180814 = scanacc_180799;
        discard_180815 = scanacc_180800;
        discard_180816 = scanacc_180801;
        
        int16_t defunc_0_radix_sort_step_i16_res_168755;
        int16_t defunc_0_radix_sort_step_i16_res_168756;
        int16_t defunc_0_radix_sort_step_i16_res_168757;
        int16_t defunc_0_radix_sort_step_i16_res_168758;
        
        if (empty_slice_168666) {
            defunc_0_radix_sort_step_i16_res_168755 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168756 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168757 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168758 = (int16_t) 0;
        } else {
            int16_t last_res_168759 = ((int16_t *) mem_181146)[m_168667];
            int16_t last_res_168760 = ((int16_t *) mem_181148)[m_168667];
            int16_t last_res_168761 = ((int16_t *) mem_181150)[m_168667];
            int16_t last_res_168762 = ((int16_t *) mem_181152)[m_168667];
            
            defunc_0_radix_sort_step_i16_res_168755 = last_res_168759;
            defunc_0_radix_sort_step_i16_res_168756 = last_res_168760;
            defunc_0_radix_sort_step_i16_res_168757 = last_res_168761;
            defunc_0_radix_sort_step_i16_res_168758 = last_res_168762;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181186, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + (int64_t) 1 * arg_168645, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168644});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181188, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181136, (int64_t) 0 + (int64_t) 1 * arg_168645, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168644});
        for (int64_t write_iter_180817 = 0; write_iter_180817 < rest_168644; write_iter_180817++) {
            int16_t write_iv_180820 = ((int16_t *) mem_181154)[write_iter_180817];
            int16_t write_iv_180821 = ((int16_t *) mem_181146)[write_iter_180817];
            int16_t write_iv_180822 = ((int16_t *) mem_181148)[write_iter_180817];
            int16_t write_iv_180823 = ((int16_t *) mem_181150)[write_iter_180817];
            int16_t write_iv_180824 = ((int16_t *) mem_181152)[write_iter_180817];
            int64_t slice_181019 = arg_168645 + write_iter_180817;
            int32_t write_iv_180825 = ((int32_t *) mem_181136)[slice_181019];
            int64_t write_iv_180826 = ((int64_t *) mem_181138)[slice_181019];
            int64_t defunc_0_f_res_178703;
            
            if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178703, defunc_0_radix_sort_step_i16_res_168755, defunc_0_radix_sort_step_i16_res_168756, defunc_0_radix_sort_step_i16_res_168757, write_iv_180820, write_iv_180821, write_iv_180822, write_iv_180823, write_iv_180824) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178703) && slt64(defunc_0_f_res_178703, rest_168644)) {
                ((int32_t *) mem_181188)[defunc_0_f_res_178703] = write_iv_180825;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178703) && slt64(defunc_0_f_res_178703, rest_168644)) {
                ((int64_t *) mem_181186)[defunc_0_f_res_178703] = write_iv_180826;
            }
        }
        ((int16_t *) mem_181201)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168755;
        ((int16_t *) mem_181201)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168756;
        ((int16_t *) mem_181201)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168757;
        ((int16_t *) mem_181201)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168758;
        for (int64_t i_180831 = 0; i_180831 < (int64_t) 4; i_180831++) {
            int16_t eta_p_168779 = ((int16_t *) mem_181201)[i_180831];
            int64_t i16_res_168780 = sext_i16_i64(eta_p_168779);
            
            ((int64_t *) mem_181202)[i_180831] = i16_res_168780;
        }
        
        int16_t tmp_168781 = add16(defunc_0_radix_sort_step_i16_res_168755, defunc_0_radix_sort_step_i16_res_168756);
        int16_t tmp_168782 = add16(defunc_0_radix_sort_step_i16_res_168757, tmp_168781);
        
        ((int16_t *) mem_181209)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181209)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168755;
        ((int16_t *) mem_181209)[(int64_t) 2] = tmp_168781;
        ((int16_t *) mem_181209)[(int64_t) 3] = tmp_168782;
        for (int64_t i_180881 = 0; i_180881 < n_blocks_168643; i_180881++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181212, i_180881 * i16_res_168639, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181136, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_168639), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168639});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181215, i_180881 * i16_res_168639, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_168639), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168639});
            
            int64_t binop_x_181033 = i16_res_168639 * i_180881;
            int16_t discard_180853;
            int16_t discard_180854;
            int16_t discard_180855;
            int16_t discard_180856;
            int16_t scanacc_180838;
            int16_t scanacc_180839;
            int16_t scanacc_180840;
            int16_t scanacc_180841;
            
            scanacc_180838 = (int16_t) 0;
            scanacc_180839 = (int16_t) 0;
            scanacc_180840 = (int16_t) 0;
            scanacc_180841 = (int16_t) 0;
            for (int64_t i_180847 = 0; i_180847 < i16_res_168639; i_180847++) {
                int64_t new_index_181034 = i_180847 + binop_x_181033;
                int32_t eta_p_178766 = ((int32_t *) mem_181136)[new_index_181034];
                int32_t zgzg_res_178767 = ashr32(eta_p_178766, get_bit_arg0_168712);
                int32_t za_res_178768 = 1 & zgzg_res_178767;
                int32_t defunc_0_get_bit_res_178769;
                
                if (cond_168713) {
                    int32_t defunc_0_get_bit_res_t_res_178839 = 1 ^ za_res_178768;
                    
                    defunc_0_get_bit_res_178769 = defunc_0_get_bit_res_t_res_178839;
                } else {
                    defunc_0_get_bit_res_178769 = za_res_178768;
                }
                
                int32_t zp_lhs_178771 = mul32(2, defunc_0_get_bit_res_178769);
                int32_t zgzg_res_178772 = ashr32(eta_p_178766, blocked_radix_sort_step_arg1_168707);
                int32_t za_res_178773 = 1 & zgzg_res_178772;
                int32_t defunc_0_get_bit_res_178774;
                
                if (cond_168714) {
                    int32_t defunc_0_get_bit_res_t_res_178840 = 1 ^ za_res_178773;
                    
                    defunc_0_get_bit_res_178774 = defunc_0_get_bit_res_t_res_178840;
                } else {
                    defunc_0_get_bit_res_178774 = za_res_178773;
                }
                
                int32_t i32_arg0_178776 = add32(zp_lhs_178771, defunc_0_get_bit_res_178774);
                int16_t i32_res_178777 = sext_i32_i16(i32_arg0_178776);
                int16_t defunc_0_f_res_178779;
                int16_t defunc_0_f_res_178780;
                int16_t defunc_0_f_res_178781;
                int16_t defunc_0_f_res_178782;
                
                if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178779, &defunc_0_f_res_178780, &defunc_0_f_res_178781, &defunc_0_f_res_178782, i32_res_178777) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168832 = add16(defunc_0_f_res_178779, scanacc_180838);
                int16_t defunc_0_op_res_168833 = add16(defunc_0_f_res_178780, scanacc_180839);
                int16_t defunc_0_op_res_168834 = add16(defunc_0_f_res_178781, scanacc_180840);
                int16_t defunc_0_op_res_168835 = add16(defunc_0_f_res_178782, scanacc_180841);
                
                ((int16_t *) mem_181243)[i_180847] = defunc_0_op_res_168832;
                ((int16_t *) mem_181245)[i_180847] = defunc_0_op_res_168833;
                ((int16_t *) mem_181247)[i_180847] = defunc_0_op_res_168834;
                ((int16_t *) mem_181249)[i_180847] = defunc_0_op_res_168835;
                ((int16_t *) mem_181251)[i_180847] = i32_res_178777;
                
                int16_t scanacc_tmp_182569 = defunc_0_op_res_168832;
                int16_t scanacc_tmp_182570 = defunc_0_op_res_168833;
                int16_t scanacc_tmp_182571 = defunc_0_op_res_168834;
                int16_t scanacc_tmp_182572 = defunc_0_op_res_168835;
                
                scanacc_180838 = scanacc_tmp_182569;
                scanacc_180839 = scanacc_tmp_182570;
                scanacc_180840 = scanacc_tmp_182571;
                scanacc_180841 = scanacc_tmp_182572;
            }
            discard_180853 = scanacc_180838;
            discard_180854 = scanacc_180839;
            discard_180855 = scanacc_180840;
            discard_180856 = scanacc_180841;
            
            int16_t defunc_0_f_res_168836;
            int16_t defunc_0_f_res_168837;
            int16_t defunc_0_f_res_168838;
            int16_t defunc_0_f_res_168839;
            
            if (zzero_168640) {
                defunc_0_f_res_168836 = (int16_t) 0;
                defunc_0_f_res_168837 = (int16_t) 0;
                defunc_0_f_res_168838 = (int16_t) 0;
                defunc_0_f_res_168839 = (int16_t) 0;
            } else {
                int16_t last_res_168840 = ((int16_t *) mem_181243)[tmp_168682];
                int16_t last_res_168841 = ((int16_t *) mem_181245)[tmp_168682];
                int16_t last_res_168842 = ((int16_t *) mem_181247)[tmp_168682];
                int16_t last_res_168843 = ((int16_t *) mem_181249)[tmp_168682];
                
                defunc_0_f_res_168836 = last_res_168840;
                defunc_0_f_res_168837 = last_res_168841;
                defunc_0_f_res_168838 = last_res_168842;
                defunc_0_f_res_168839 = last_res_168843;
            }
            for (int64_t write_iter_180857 = 0; write_iter_180857 < i16_res_168639; write_iter_180857++) {
                int16_t write_iv_180860 = ((int16_t *) mem_181251)[write_iter_180857];
                int16_t write_iv_180861 = ((int16_t *) mem_181243)[write_iter_180857];
                int16_t write_iv_180862 = ((int16_t *) mem_181245)[write_iter_180857];
                int16_t write_iv_180863 = ((int16_t *) mem_181247)[write_iter_180857];
                int16_t write_iv_180864 = ((int16_t *) mem_181249)[write_iter_180857];
                int64_t new_index_181030 = write_iter_180857 + binop_x_181033;
                int32_t write_iv_180865 = ((int32_t *) mem_181136)[new_index_181030];
                int64_t write_iv_180866 = ((int64_t *) mem_181138)[new_index_181030];
                int64_t defunc_0_f_res_178750;
                
                if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178750, defunc_0_f_res_168836, defunc_0_f_res_168837, defunc_0_f_res_168838, write_iv_180860, write_iv_180861, write_iv_180862, write_iv_180863, write_iv_180864) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178750) && slt64(defunc_0_f_res_178750, i16_res_168639)) {
                    ((int32_t *) mem_181212)[i_180881 * i16_res_168639 + defunc_0_f_res_178750] = write_iv_180865;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178750) && slt64(defunc_0_f_res_178750, i16_res_168639)) {
                    ((int64_t *) mem_181215)[i_180881 * i16_res_168639 + defunc_0_f_res_178750] = write_iv_180866;
                }
            }
            ((int16_t *) mem_181294)[(int64_t) 0] = defunc_0_f_res_168836;
            ((int16_t *) mem_181294)[(int64_t) 1] = defunc_0_f_res_168837;
            ((int16_t *) mem_181294)[(int64_t) 2] = defunc_0_f_res_168838;
            ((int16_t *) mem_181294)[(int64_t) 3] = defunc_0_f_res_168839;
            for (int64_t i_180871 = 0; i_180871 < (int64_t) 4; i_180871++) {
                int16_t eta_p_168858 = ((int16_t *) mem_181294)[i_180871];
                int64_t i16_res_168859 = sext_i16_i64(eta_p_168858);
                
                ((int64_t *) mem_181295)[i_180871] = i16_res_168859;
            }
            
            int16_t tmp_168860 = add16(defunc_0_f_res_168836, defunc_0_f_res_168837);
            int16_t tmp_168861 = add16(defunc_0_f_res_168838, tmp_168860);
            
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168836;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 2] = tmp_168860;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 3] = tmp_168861;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181218, i_180881 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181295, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180893;
        int64_t scanacc_180889 = (int64_t) 0;
        
        for (int64_t i_180891 = 0; i_180891 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654; i_180891++) {
            int64_t new_index_181008 = squot64(i_180891, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
            int64_t binop_y_181010 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 * new_index_181008;
            int64_t new_index_181011 = i_180891 - binop_y_181010;
            bool index_concat_cmp_181013 = sle64(n_blocks_168643, new_index_181011);
            int64_t index_concat_branch_181017;
            
            if (index_concat_cmp_181013) {
                int64_t index_concat_181015 = ((int64_t *) mem_181202)[new_index_181008];
                
                index_concat_branch_181017 = index_concat_181015;
            } else {
                int64_t index_concat_181016 = ((int64_t *) mem_181218)[new_index_181011 * (int64_t) 4 + new_index_181008];
                
                index_concat_branch_181017 = index_concat_181016;
            }
            
            int64_t defunc_0_op_res_168873 = add64(scanacc_180889, index_concat_branch_181017);
            
            ((int64_t *) mem_181320)[i_180891] = defunc_0_op_res_168873;
            
            int64_t scanacc_tmp_182581 = defunc_0_op_res_168873;
            
            scanacc_180889 = scanacc_tmp_182581;
        }
        discard_180893 = scanacc_180889;
        for (int64_t i_180896 = 0; i_180896 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654; i_180896++) {
            int64_t zv_lhs_168876 = add64((int64_t) -1, i_180896);
            int64_t tmp_168877 = smod64(zv_lhs_168876, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654);
            int64_t lifted_lambda_res_168878 = ((int64_t *) mem_181320)[tmp_168877];
            
            ((int64_t *) mem_181328)[i_180896] = lifted_lambda_res_168878;
        }
        ((int64_t *) mem_181328)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180898 = 0; write_iter_180898 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646; write_iter_180898++) {
            bool index_concat_cmp_180999 = sle64(arg_168645, write_iter_180898);
            int32_t index_concat_branch_178654;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_178849 = sub64(write_iter_180898, arg_168645);
                int32_t index_concat_178850 = ((int32_t *) mem_181188)[index_concat_i_178849];
                
                index_concat_branch_178654 = index_concat_178850;
            } else {
                int64_t new_index_178657 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_178658 = i16_res_168639 * new_index_178657;
                int64_t new_index_178659 = write_iter_180898 - binop_y_178658;
                int32_t index_concat_178660 = ((int32_t *) mem_181212)[new_index_178657 * i16_res_168639 + new_index_178659];
                
                index_concat_branch_178654 = index_concat_178660;
            }
            
            int32_t zlzb_rhs_178661;
            int32_t acc_178663 = 0;
            
            for (int32_t i_178662 = 0; i_178662 < 2; i_178662++) {
                int32_t get_bit_arg0_178664 = add32(blocked_radix_sort_step_arg1_168707, i_178662);
                int32_t zgzg_res_178665 = ashr32(index_concat_branch_178654, get_bit_arg0_178664);
                int32_t za_res_178666 = 1 & zgzg_res_178665;
                bool cond_178667 = get_bit_arg0_178664 == 31;
                int32_t defunc_0_get_bit_res_178668;
                
                if (cond_178667) {
                    int32_t defunc_0_get_bit_res_t_res_178851 = 1 ^ za_res_178666;
                    
                    defunc_0_get_bit_res_178668 = defunc_0_get_bit_res_t_res_178851;
                } else {
                    defunc_0_get_bit_res_178668 = za_res_178666;
                }
                
                int32_t zp_rhs_178670 = shl32(defunc_0_get_bit_res_178668, i_178662);
                int32_t loopres_178671 = add32(acc_178663, zp_rhs_178670);
                int32_t acc_tmp_182586 = loopres_178671;
                
                acc_178663 = acc_tmp_182586;
            }
            zlzb_rhs_178661 = acc_178663;
            
            int64_t i32_res_178672 = sext_i32_i64(zlzb_rhs_178661);
            int64_t block_idx_178673 = sdiv64(write_iter_180898, i16_res_168639);
            bool x_178674 = sle64((int64_t) 0, block_idx_178673);
            bool y_178675 = slt64(block_idx_178673, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
            bool bounds_check_178676 = x_178674 && y_178675;
            bool index_certs_178677;
            
            if (!bounds_check_178676) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178673, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:114:3-44\n   #10 ftsort.fut:113:1-114:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178678 = sle64((int64_t) 0, i32_res_178672);
            bool y_178679 = slt64(i32_res_178672, (int64_t) 4);
            bool bounds_check_178680 = x_178678 && y_178679;
            bool index_certs_178681;
            
            if (!bounds_check_178680) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178672, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:114:3-44\n   #10 ftsort.fut:113:1-114:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t index_concat_branch_181003;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_181000 = sub64(write_iter_180898, arg_168645);
                int32_t index_concat_181001 = ((int32_t *) mem_181188)[index_concat_i_181000];
                
                index_concat_branch_181003 = index_concat_181001;
            } else {
                int64_t new_index_181025 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_181027 = i16_res_168639 * new_index_181025;
                int64_t new_index_181028 = write_iter_180898 - binop_y_181027;
                int32_t index_concat_181002 = ((int32_t *) mem_181212)[new_index_181025 * i16_res_168639 + new_index_181028];
                
                index_concat_branch_181003 = index_concat_181002;
            }
            
            int64_t index_concat_branch_180997;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_180994 = sub64(write_iter_180898, arg_168645);
                int64_t index_concat_180995 = ((int64_t *) mem_181186)[index_concat_i_180994];
                
                index_concat_branch_180997 = index_concat_180995;
            } else {
                int64_t new_index_181021 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_181023 = i16_res_168639 * new_index_181021;
                int64_t new_index_181024 = write_iter_180898 - binop_y_181023;
                int64_t index_concat_180996 = ((int64_t *) mem_181215)[new_index_181021 * i16_res_168639 + new_index_181024];
                
                index_concat_branch_180997 = index_concat_180996;
            }
            
            int64_t binop_x_178682 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 * i32_res_178672;
            int64_t new_index_178683 = block_idx_178673 + binop_x_178682;
            int64_t new_offset_178684 = ((int64_t *) mem_181328)[new_index_178683];
            bool index_concat_cmp_178685 = sle64(n_blocks_168643, block_idx_178673);
            int16_t index_concat_branch_178686;
            
            if (index_concat_cmp_178685) {
                int16_t index_concat_178852 = ((int16_t *) mem_181209)[i32_res_178672];
                
                index_concat_branch_178686 = index_concat_178852;
            } else {
                int16_t index_concat_178688 = ((int16_t *) mem_181221)[block_idx_178673 * (int64_t) 4 + i32_res_178672];
                
                index_concat_branch_178686 = index_concat_178688;
            }
            
            int64_t i16_res_178689 = sext_i16_i64(index_concat_branch_178686);
            int64_t zp_lhs_178690 = mul64(i16_res_168639, block_idx_178673);
            int64_t old_offset_178691 = add64(i16_res_178689, zp_lhs_178690);
            int64_t zp_lhs_178692 = sub64(write_iter_180898, old_offset_178691);
            int64_t idx_178693 = add64(new_offset_178684, zp_lhs_178692);
            
            if (sle64((int64_t) 0, idx_178693) && slt64(idx_178693, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646)) {
                ((int32_t *) mem_181136)[idx_178693] = index_concat_branch_181003;
            }
            if (sle64((int64_t) 0, idx_178693) && slt64(idx_178693, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646)) {
                ((int64_t *) mem_181138)[idx_178693] = index_concat_branch_180997;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181354, bytes_181353, "mem_181354")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181356, bytes_181355, "mem_181356")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180910 = 0; i_180910 < n_88294; i_180910++) {
        int64_t eta_p_168938 = ((int64_t *) mem_181138)[i_180910];
        bool x_168939 = sle64((int64_t) 0, eta_p_168938);
        bool y_168940 = slt64(eta_p_168938, n_88294);
        bool bounds_check_168941 = x_168939 && y_168940;
        bool index_certs_168942;
        
        if (!bounds_check_168941) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168938, "] out of bounds for array of shape [", (long long) n_88294, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:178:93-96\n   #5  ftsort.fut:114:3-44\n   #6  ftsort.fut:113:1-114:44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168943 = ((int64_t *) ext_mem_181134.mem)[eta_p_168938];
        int32_t lifted_lambda_res_168944 = ((int32_t *) xs_mem_181133.mem)[eta_p_168938];
        
        ((int64_t *) mem_181354.mem)[i_180910] = lifted_lambda_res_168943;
        ((int32_t *) mem_181356.mem)[i_180910] = lifted_lambda_res_168944;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181354, "mem_181354") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181356, "mem_181356") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183200, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183201, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181136);
        free(mem_181138);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181152);
        free(mem_181154);
        free(mem_181186);
        free(mem_181188);
        free(mem_181201);
        free(mem_181202);
        free(mem_181209);
        free(mem_181212);
        free(mem_181215);
        free(mem_181218);
        free(mem_181221);
        free(mem_181243);
        free(mem_181245);
        free(mem_181247);
        free(mem_181249);
        free(mem_181251);
        free(mem_181294);
        free(mem_181295);
        free(mem_181320);
        free(mem_181328);
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_183227, struct memblock *mem_out_p_183228, struct memblock xs_mem_181133, int64_t n_90894, int64_t incr_90895, int16_t block_sizze_90896)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181136_cached_sizze_183229 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_183230 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181146_cached_sizze_183231 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183232 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183233 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_183234 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_183235 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181186_cached_sizze_183236 = 0;
    unsigned char *mem_181186 = NULL;
    int64_t mem_181188_cached_sizze_183237 = 0;
    unsigned char *mem_181188 = NULL;
    int64_t mem_181201_cached_sizze_183238 = 0;
    unsigned char *mem_181201 = NULL;
    int64_t mem_181202_cached_sizze_183239 = 0;
    unsigned char *mem_181202 = NULL;
    int64_t mem_181209_cached_sizze_183240 = 0;
    unsigned char *mem_181209 = NULL;
    int64_t mem_181212_cached_sizze_183241 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181215_cached_sizze_183242 = 0;
    unsigned char *mem_181215 = NULL;
    int64_t mem_181218_cached_sizze_183243 = 0;
    unsigned char *mem_181218 = NULL;
    int64_t mem_181221_cached_sizze_183244 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181243_cached_sizze_183245 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181245_cached_sizze_183246 = 0;
    unsigned char *mem_181245 = NULL;
    int64_t mem_181247_cached_sizze_183247 = 0;
    unsigned char *mem_181247 = NULL;
    int64_t mem_181249_cached_sizze_183248 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181251_cached_sizze_183249 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181294_cached_sizze_183250 = 0;
    unsigned char *mem_181294 = NULL;
    int64_t mem_181295_cached_sizze_183251 = 0;
    unsigned char *mem_181295 = NULL;
    int64_t mem_181320_cached_sizze_183252 = 0;
    unsigned char *mem_181320 = NULL;
    int64_t mem_181328_cached_sizze_183253 = 0;
    unsigned char *mem_181328 = NULL;
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    bool cond_168637 = n_90894 == (int64_t) 0;
    int32_t iters_168638;
    
    if (cond_168637) {
        iters_168638 = 0;
    } else {
        iters_168638 = 32;
    }
    
    int64_t i16_res_168639 = sext_i16_i64(block_sizze_90896);
    bool zzero_168640 = i16_res_168639 == (int64_t) 0;
    bool nonzzero_168641 = !zzero_168640;
    bool nonzzero_cert_168642;
    
    if (!nonzzero_168641) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:178:93-96\n   #5  ftsort.fut:117:3-45\n   #6  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168643 = sdiv64(n_90894, i16_res_168639);
    int64_t rest_168644 = smod64(n_90894, i16_res_168639);
    int64_t arg_168645 = mul64(i16_res_168639, n_blocks_168643);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646 = add64(rest_168644, arg_168645);
    bool dim_match_168647 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646 == n_90894;
    bool empty_or_match_cert_168648;
    
    if (!dim_match_168647) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_90894, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:178:93-96\n   #6  ftsort.fut:117:3-45\n   #7  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181135 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646;
    bool loop_nonempty_168652 = slt32(0, iters_168638);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 = add64((int64_t) 1, n_blocks_168643);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
    bool empty_slice_168655 = arg_168645 == (int64_t) 0;
    int64_t m_168656 = sub64(arg_168645, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168657 = sle64((int64_t) 0, m_168656);
    bool i_p_m_t_s_leq_w_168658 = slt64(m_168656, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool i_lte_j_168659 = sle64((int64_t) 0, arg_168645);
    bool y_168660 = zzero_leq_i_p_m_t_s_168657 && i_p_m_t_s_leq_w_168658;
    bool forwards_ok_168661 = i_lte_j_168659 && y_168660;
    bool ok_or_empty_168662 = empty_slice_168655 || forwards_ok_168661;
    bool loop_not_taken_168663 = !loop_nonempty_168652;
    bool protect_assert_disj_168664 = ok_or_empty_168662 || loop_not_taken_168663;
    bool index_certs_168665;
    
    if (!protect_assert_disj_168664) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168645, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:117:3-45\n   #8  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168666 = rest_168644 == (int64_t) 0;
    int64_t m_168667 = sub64(rest_168644, (int64_t) 1);
    int64_t i_p_m_t_s_168668 = add64(arg_168645, m_168667);
    bool zzero_leq_i_p_m_t_s_168669 = sle64((int64_t) 0, i_p_m_t_s_168668);
    bool i_p_m_t_s_leq_w_168670 = slt64(i_p_m_t_s_168668, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool i_lte_j_168671 = sle64(arg_168645, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool y_168672 = zzero_leq_i_p_m_t_s_168669 && i_p_m_t_s_leq_w_168670;
    bool forwards_ok_168673 = i_lte_j_168671 && y_168672;
    bool ok_or_empty_168674 = empty_slice_168666 || forwards_ok_168673;
    bool protect_assert_disj_168675 = loop_not_taken_168663 || ok_or_empty_168674;
    bool index_certs_168676;
    
    if (!protect_assert_disj_168675) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168645, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:117:3-45\n   #8  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168677 = sle64((int64_t) 0, n_blocks_168643);
    bool binop_y_168678 = sle64((int64_t) 0, i16_res_168639);
    bool binop_y_168679 = binop_x_168677 && binop_y_168678;
    bool protect_assert_disj_168680 = loop_not_taken_168663 || binop_y_168679;
    bool dim_ok_cert_168681;
    
    if (!protect_assert_disj_168680) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168645, "] to array of shape [", (long long) n_blocks_168643, "][", (long long) i16_res_168639, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:117:3-45\n   #8  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168682 = sub64(i16_res_168639, (int64_t) 1);
    bool x_168683 = sle64((int64_t) 0, tmp_168682);
    bool y_168684 = slt64(tmp_168682, i16_res_168639);
    bool bounds_check_168685 = x_168683 && y_168684;
    bool protect_assert_disj_168686 = zzero_168640 || bounds_check_168685;
    bool protect_assert_disj_168687 = loop_not_taken_168663 || protect_assert_disj_168686;
    bool index_certs_168688;
    
    if (!protect_assert_disj_168687) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168682, "] out of bounds for array of shape [", (long long) i16_res_168639, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:117:3-45\n   #9  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168690 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654);
    bool protect_assert_disj_168691 = loop_not_taken_168663 || y_168690;
    bool index_certs_168692;
    
    if (!protect_assert_disj_168691) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:117:3-45\n   #9  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168694 = nonzzero_168641 || loop_not_taken_168663;
    bool nonzzero_cert_168695;
    
    if (!protect_assert_disj_168694) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:117:3-45\n   #10 ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168696 = sle64((int64_t) 0, m_168667);
    bool y_168697 = slt64(m_168667, rest_168644);
    bool bounds_check_168698 = x_168696 && y_168697;
    bool protect_assert_disj_168699 = empty_slice_168666 || bounds_check_168698;
    bool protect_assert_disj_168700 = loop_not_taken_168663 || protect_assert_disj_168699;
    bool index_certs_168701;
    
    if (!protect_assert_disj_168700) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168667, "] out of bounds for array of shape [", (long long) rest_168644, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:117:3-45\n   #9  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181145 = (int64_t) 2 * rest_168644;
    int64_t bytes_181185 = (int64_t) 8 * rest_168644;
    int64_t binop_x_181210 = (int64_t) 8 * n_blocks_168643;
    int64_t bytes_181211 = i16_res_168639 * binop_x_181210;
    int64_t bytes_181217 = (int64_t) 32 * n_blocks_168643;
    int64_t bytes_181242 = (int64_t) 2 * i16_res_168639;
    int64_t bytes_181319 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653;
    bool dim_match_168933 = n_90894 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646;
    bool empty_or_match_cert_168934;
    
    if (!dim_match_168933) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "] cannot match shape of type `[", (long long) n_90894, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:117:3-45\n   #9  ftsort.fut:116:1-117:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181353 = (int64_t) 8 * n_90894;
    
    if (futrts_indicesWithIncrement_9490(ctx, &ext_mem_181134, xs_mem_181133, n_90894, incr_90895) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181136_cached_sizze_183229 < bytes_181135) {
        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_183229, bytes_181135);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_181133.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646});
    if (mem_181138_cached_sizze_183230 < bytes_181135) {
        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_183230, bytes_181135);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182549 = 0; i_182549 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646; i_182549++) {
        int64_t x_182550 = (int64_t) 0 + i_182549 * (int64_t) 1;
        
        ((int64_t *) mem_181138)[i_182549] = x_182550;
    }
    if (mem_181146_cached_sizze_183231 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183231, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183232 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183232, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183233 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183233, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181152_cached_sizze_183234 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_183234, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181154_cached_sizze_183235 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_183235, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181186_cached_sizze_183236 < bytes_181185) {
        err = lexical_realloc(ctx, &mem_181186, &mem_181186_cached_sizze_183236, bytes_181185);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181188_cached_sizze_183237 < bytes_181185) {
        err = lexical_realloc(ctx, &mem_181188, &mem_181188_cached_sizze_183237, bytes_181185);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181201_cached_sizze_183238 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181201, &mem_181201_cached_sizze_183238, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181202_cached_sizze_183239 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181202, &mem_181202_cached_sizze_183239, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181209_cached_sizze_183240 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181209, &mem_181209_cached_sizze_183240, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181212_cached_sizze_183241 < bytes_181211) {
        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_183241, bytes_181211);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181215_cached_sizze_183242 < bytes_181211) {
        err = lexical_realloc(ctx, &mem_181215, &mem_181215_cached_sizze_183242, bytes_181211);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181218_cached_sizze_183243 < bytes_181217) {
        err = lexical_realloc(ctx, &mem_181218, &mem_181218_cached_sizze_183243, bytes_181217);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181221_cached_sizze_183244 < binop_x_181210) {
        err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_183244, binop_x_181210);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181243_cached_sizze_183245 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_183245, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181245_cached_sizze_183246 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181245, &mem_181245_cached_sizze_183246, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183247 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183247, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181249_cached_sizze_183248 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_183248, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181251_cached_sizze_183249 < bytes_181242) {
        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_183249, bytes_181242);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181294_cached_sizze_183250 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181294, &mem_181294_cached_sizze_183250, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181295_cached_sizze_183251 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181295, &mem_181295_cached_sizze_183251, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181320_cached_sizze_183252 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181320, &mem_181320_cached_sizze_183252, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181328_cached_sizze_183253 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181328, &mem_181328_cached_sizze_183253, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168704 = 0; i_168704 < iters_168638; i_168704++) {
        int32_t blocked_radix_sort_step_arg1_168707 = mul32(2, i_168704);
        int32_t get_bit_arg0_168712 = add32(1, blocked_radix_sort_step_arg1_168707);
        bool cond_168713 = get_bit_arg0_168712 == 63;
        bool cond_168714 = blocked_radix_sort_step_arg1_168707 == 63;
        int16_t discard_180813;
        int16_t discard_180814;
        int16_t discard_180815;
        int16_t discard_180816;
        int16_t scanacc_180798;
        int16_t scanacc_180799;
        int16_t scanacc_180800;
        int16_t scanacc_180801;
        
        scanacc_180798 = (int16_t) 0;
        scanacc_180799 = (int16_t) 0;
        scanacc_180800 = (int16_t) 0;
        scanacc_180801 = (int16_t) 0;
        for (int64_t i_180807 = 0; i_180807 < rest_168644; i_180807++) {
            int64_t slice_181020 = arg_168645 + i_180807;
            int64_t eta_p_178718 = ((int64_t *) mem_181136)[slice_181020];
            int32_t defunc_0_get_bit_res_178719;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178719, get_bit_arg0_168712, eta_p_178718) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178720;
            
            if (cond_168713) {
                int32_t defunc_0_get_bit_res_t_res_178832 = 1 ^ defunc_0_get_bit_res_178719;
                
                defunc_0_get_bit_res_178720 = defunc_0_get_bit_res_t_res_178832;
            } else {
                defunc_0_get_bit_res_178720 = defunc_0_get_bit_res_178719;
            }
            
            int32_t zp_lhs_178722 = mul32(2, defunc_0_get_bit_res_178720);
            int32_t defunc_0_get_bit_res_178723;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178723, blocked_radix_sort_step_arg1_168707, eta_p_178718) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178724;
            
            if (cond_168714) {
                int32_t defunc_0_get_bit_res_t_res_178833 = 1 ^ defunc_0_get_bit_res_178723;
                
                defunc_0_get_bit_res_178724 = defunc_0_get_bit_res_t_res_178833;
            } else {
                defunc_0_get_bit_res_178724 = defunc_0_get_bit_res_178723;
            }
            
            int32_t i32_arg0_178726 = add32(zp_lhs_178722, defunc_0_get_bit_res_178724);
            int16_t i32_res_178727 = sext_i32_i16(i32_arg0_178726);
            int16_t defunc_0_f_res_178729;
            int16_t defunc_0_f_res_178730;
            int16_t defunc_0_f_res_178731;
            int16_t defunc_0_f_res_178732;
            
            if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178729, &defunc_0_f_res_178730, &defunc_0_f_res_178731, &defunc_0_f_res_178732, i32_res_178727) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168751 = add16(defunc_0_f_res_178729, scanacc_180798);
            int16_t defunc_0_op_res_168752 = add16(defunc_0_f_res_178730, scanacc_180799);
            int16_t defunc_0_op_res_168753 = add16(defunc_0_f_res_178731, scanacc_180800);
            int16_t defunc_0_op_res_168754 = add16(defunc_0_f_res_178732, scanacc_180801);
            
            ((int16_t *) mem_181146)[i_180807] = defunc_0_op_res_168751;
            ((int16_t *) mem_181148)[i_180807] = defunc_0_op_res_168752;
            ((int16_t *) mem_181150)[i_180807] = defunc_0_op_res_168753;
            ((int16_t *) mem_181152)[i_180807] = defunc_0_op_res_168754;
            ((int16_t *) mem_181154)[i_180807] = i32_res_178727;
            
            int16_t scanacc_tmp_182553 = defunc_0_op_res_168751;
            int16_t scanacc_tmp_182554 = defunc_0_op_res_168752;
            int16_t scanacc_tmp_182555 = defunc_0_op_res_168753;
            int16_t scanacc_tmp_182556 = defunc_0_op_res_168754;
            
            scanacc_180798 = scanacc_tmp_182553;
            scanacc_180799 = scanacc_tmp_182554;
            scanacc_180800 = scanacc_tmp_182555;
            scanacc_180801 = scanacc_tmp_182556;
        }
        discard_180813 = scanacc_180798;
        discard_180814 = scanacc_180799;
        discard_180815 = scanacc_180800;
        discard_180816 = scanacc_180801;
        
        int16_t defunc_0_radix_sort_step_i16_res_168755;
        int16_t defunc_0_radix_sort_step_i16_res_168756;
        int16_t defunc_0_radix_sort_step_i16_res_168757;
        int16_t defunc_0_radix_sort_step_i16_res_168758;
        
        if (empty_slice_168666) {
            defunc_0_radix_sort_step_i16_res_168755 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168756 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168757 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168758 = (int16_t) 0;
        } else {
            int16_t last_res_168759 = ((int16_t *) mem_181146)[m_168667];
            int16_t last_res_168760 = ((int16_t *) mem_181148)[m_168667];
            int16_t last_res_168761 = ((int16_t *) mem_181150)[m_168667];
            int16_t last_res_168762 = ((int16_t *) mem_181152)[m_168667];
            
            defunc_0_radix_sort_step_i16_res_168755 = last_res_168759;
            defunc_0_radix_sort_step_i16_res_168756 = last_res_168760;
            defunc_0_radix_sort_step_i16_res_168757 = last_res_168761;
            defunc_0_radix_sort_step_i16_res_168758 = last_res_168762;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181186, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + (int64_t) 1 * arg_168645, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168644});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181188, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181136, (int64_t) 0 + (int64_t) 1 * arg_168645, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168644});
        for (int64_t write_iter_180817 = 0; write_iter_180817 < rest_168644; write_iter_180817++) {
            int16_t write_iv_180820 = ((int16_t *) mem_181154)[write_iter_180817];
            int16_t write_iv_180821 = ((int16_t *) mem_181146)[write_iter_180817];
            int16_t write_iv_180822 = ((int16_t *) mem_181148)[write_iter_180817];
            int16_t write_iv_180823 = ((int16_t *) mem_181150)[write_iter_180817];
            int16_t write_iv_180824 = ((int16_t *) mem_181152)[write_iter_180817];
            int64_t slice_181019 = arg_168645 + write_iter_180817;
            int64_t write_iv_180825 = ((int64_t *) mem_181136)[slice_181019];
            int64_t write_iv_180826 = ((int64_t *) mem_181138)[slice_181019];
            int64_t defunc_0_f_res_178702;
            
            if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178702, defunc_0_radix_sort_step_i16_res_168755, defunc_0_radix_sort_step_i16_res_168756, defunc_0_radix_sort_step_i16_res_168757, write_iv_180820, write_iv_180821, write_iv_180822, write_iv_180823, write_iv_180824) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178702) && slt64(defunc_0_f_res_178702, rest_168644)) {
                ((int64_t *) mem_181188)[defunc_0_f_res_178702] = write_iv_180825;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178702) && slt64(defunc_0_f_res_178702, rest_168644)) {
                ((int64_t *) mem_181186)[defunc_0_f_res_178702] = write_iv_180826;
            }
        }
        ((int16_t *) mem_181201)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168755;
        ((int16_t *) mem_181201)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168756;
        ((int16_t *) mem_181201)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168757;
        ((int16_t *) mem_181201)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168758;
        for (int64_t i_180831 = 0; i_180831 < (int64_t) 4; i_180831++) {
            int16_t eta_p_168779 = ((int16_t *) mem_181201)[i_180831];
            int64_t i16_res_168780 = sext_i16_i64(eta_p_168779);
            
            ((int64_t *) mem_181202)[i_180831] = i16_res_168780;
        }
        
        int16_t tmp_168781 = add16(defunc_0_radix_sort_step_i16_res_168755, defunc_0_radix_sort_step_i16_res_168756);
        int16_t tmp_168782 = add16(defunc_0_radix_sort_step_i16_res_168757, tmp_168781);
        
        ((int16_t *) mem_181209)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181209)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168755;
        ((int16_t *) mem_181209)[(int64_t) 2] = tmp_168781;
        ((int16_t *) mem_181209)[(int64_t) 3] = tmp_168782;
        for (int64_t i_180881 = 0; i_180881 < n_blocks_168643; i_180881++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181212, i_180881 * i16_res_168639, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181136, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_168639), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168639});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181215, i_180881 * i16_res_168639, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_168639), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168639});
            
            int64_t binop_x_181033 = i16_res_168639 * i_180881;
            int16_t discard_180853;
            int16_t discard_180854;
            int16_t discard_180855;
            int16_t discard_180856;
            int16_t scanacc_180838;
            int16_t scanacc_180839;
            int16_t scanacc_180840;
            int16_t scanacc_180841;
            
            scanacc_180838 = (int16_t) 0;
            scanacc_180839 = (int16_t) 0;
            scanacc_180840 = (int16_t) 0;
            scanacc_180841 = (int16_t) 0;
            for (int64_t i_180847 = 0; i_180847 < i16_res_168639; i_180847++) {
                int64_t new_index_181034 = i_180847 + binop_x_181033;
                int64_t eta_p_178763 = ((int64_t *) mem_181136)[new_index_181034];
                int32_t defunc_0_get_bit_res_178764;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178764, get_bit_arg0_168712, eta_p_178763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178765;
                
                if (cond_168713) {
                    int32_t defunc_0_get_bit_res_t_res_178834 = 1 ^ defunc_0_get_bit_res_178764;
                    
                    defunc_0_get_bit_res_178765 = defunc_0_get_bit_res_t_res_178834;
                } else {
                    defunc_0_get_bit_res_178765 = defunc_0_get_bit_res_178764;
                }
                
                int32_t zp_lhs_178767 = mul32(2, defunc_0_get_bit_res_178765);
                int32_t defunc_0_get_bit_res_178768;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178768, blocked_radix_sort_step_arg1_168707, eta_p_178763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178769;
                
                if (cond_168714) {
                    int32_t defunc_0_get_bit_res_t_res_178835 = 1 ^ defunc_0_get_bit_res_178768;
                    
                    defunc_0_get_bit_res_178769 = defunc_0_get_bit_res_t_res_178835;
                } else {
                    defunc_0_get_bit_res_178769 = defunc_0_get_bit_res_178768;
                }
                
                int32_t i32_arg0_178771 = add32(zp_lhs_178767, defunc_0_get_bit_res_178769);
                int16_t i32_res_178772 = sext_i32_i16(i32_arg0_178771);
                int16_t defunc_0_f_res_178774;
                int16_t defunc_0_f_res_178775;
                int16_t defunc_0_f_res_178776;
                int16_t defunc_0_f_res_178777;
                
                if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178774, &defunc_0_f_res_178775, &defunc_0_f_res_178776, &defunc_0_f_res_178777, i32_res_178772) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168832 = add16(defunc_0_f_res_178774, scanacc_180838);
                int16_t defunc_0_op_res_168833 = add16(defunc_0_f_res_178775, scanacc_180839);
                int16_t defunc_0_op_res_168834 = add16(defunc_0_f_res_178776, scanacc_180840);
                int16_t defunc_0_op_res_168835 = add16(defunc_0_f_res_178777, scanacc_180841);
                
                ((int16_t *) mem_181243)[i_180847] = defunc_0_op_res_168832;
                ((int16_t *) mem_181245)[i_180847] = defunc_0_op_res_168833;
                ((int16_t *) mem_181247)[i_180847] = defunc_0_op_res_168834;
                ((int16_t *) mem_181249)[i_180847] = defunc_0_op_res_168835;
                ((int16_t *) mem_181251)[i_180847] = i32_res_178772;
                
                int16_t scanacc_tmp_182569 = defunc_0_op_res_168832;
                int16_t scanacc_tmp_182570 = defunc_0_op_res_168833;
                int16_t scanacc_tmp_182571 = defunc_0_op_res_168834;
                int16_t scanacc_tmp_182572 = defunc_0_op_res_168835;
                
                scanacc_180838 = scanacc_tmp_182569;
                scanacc_180839 = scanacc_tmp_182570;
                scanacc_180840 = scanacc_tmp_182571;
                scanacc_180841 = scanacc_tmp_182572;
            }
            discard_180853 = scanacc_180838;
            discard_180854 = scanacc_180839;
            discard_180855 = scanacc_180840;
            discard_180856 = scanacc_180841;
            
            int16_t defunc_0_f_res_168836;
            int16_t defunc_0_f_res_168837;
            int16_t defunc_0_f_res_168838;
            int16_t defunc_0_f_res_168839;
            
            if (zzero_168640) {
                defunc_0_f_res_168836 = (int16_t) 0;
                defunc_0_f_res_168837 = (int16_t) 0;
                defunc_0_f_res_168838 = (int16_t) 0;
                defunc_0_f_res_168839 = (int16_t) 0;
            } else {
                int16_t last_res_168840 = ((int16_t *) mem_181243)[tmp_168682];
                int16_t last_res_168841 = ((int16_t *) mem_181245)[tmp_168682];
                int16_t last_res_168842 = ((int16_t *) mem_181247)[tmp_168682];
                int16_t last_res_168843 = ((int16_t *) mem_181249)[tmp_168682];
                
                defunc_0_f_res_168836 = last_res_168840;
                defunc_0_f_res_168837 = last_res_168841;
                defunc_0_f_res_168838 = last_res_168842;
                defunc_0_f_res_168839 = last_res_168843;
            }
            for (int64_t write_iter_180857 = 0; write_iter_180857 < i16_res_168639; write_iter_180857++) {
                int16_t write_iv_180860 = ((int16_t *) mem_181251)[write_iter_180857];
                int16_t write_iv_180861 = ((int16_t *) mem_181243)[write_iter_180857];
                int16_t write_iv_180862 = ((int16_t *) mem_181245)[write_iter_180857];
                int16_t write_iv_180863 = ((int16_t *) mem_181247)[write_iter_180857];
                int16_t write_iv_180864 = ((int16_t *) mem_181249)[write_iter_180857];
                int64_t new_index_181030 = write_iter_180857 + binop_x_181033;
                int64_t write_iv_180865 = ((int64_t *) mem_181136)[new_index_181030];
                int64_t write_iv_180866 = ((int64_t *) mem_181138)[new_index_181030];
                int64_t defunc_0_f_res_178747;
                
                if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178747, defunc_0_f_res_168836, defunc_0_f_res_168837, defunc_0_f_res_168838, write_iv_180860, write_iv_180861, write_iv_180862, write_iv_180863, write_iv_180864) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178747) && slt64(defunc_0_f_res_178747, i16_res_168639)) {
                    ((int64_t *) mem_181212)[i_180881 * i16_res_168639 + defunc_0_f_res_178747] = write_iv_180865;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178747) && slt64(defunc_0_f_res_178747, i16_res_168639)) {
                    ((int64_t *) mem_181215)[i_180881 * i16_res_168639 + defunc_0_f_res_178747] = write_iv_180866;
                }
            }
            ((int16_t *) mem_181294)[(int64_t) 0] = defunc_0_f_res_168836;
            ((int16_t *) mem_181294)[(int64_t) 1] = defunc_0_f_res_168837;
            ((int16_t *) mem_181294)[(int64_t) 2] = defunc_0_f_res_168838;
            ((int16_t *) mem_181294)[(int64_t) 3] = defunc_0_f_res_168839;
            for (int64_t i_180871 = 0; i_180871 < (int64_t) 4; i_180871++) {
                int16_t eta_p_168858 = ((int16_t *) mem_181294)[i_180871];
                int64_t i16_res_168859 = sext_i16_i64(eta_p_168858);
                
                ((int64_t *) mem_181295)[i_180871] = i16_res_168859;
            }
            
            int16_t tmp_168860 = add16(defunc_0_f_res_168836, defunc_0_f_res_168837);
            int16_t tmp_168861 = add16(defunc_0_f_res_168838, tmp_168860);
            
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168836;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 2] = tmp_168860;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 3] = tmp_168861;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181218, i_180881 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181295, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180893;
        int64_t scanacc_180889 = (int64_t) 0;
        
        for (int64_t i_180891 = 0; i_180891 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654; i_180891++) {
            int64_t new_index_181008 = squot64(i_180891, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
            int64_t binop_y_181010 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 * new_index_181008;
            int64_t new_index_181011 = i_180891 - binop_y_181010;
            bool index_concat_cmp_181013 = sle64(n_blocks_168643, new_index_181011);
            int64_t index_concat_branch_181017;
            
            if (index_concat_cmp_181013) {
                int64_t index_concat_181015 = ((int64_t *) mem_181202)[new_index_181008];
                
                index_concat_branch_181017 = index_concat_181015;
            } else {
                int64_t index_concat_181016 = ((int64_t *) mem_181218)[new_index_181011 * (int64_t) 4 + new_index_181008];
                
                index_concat_branch_181017 = index_concat_181016;
            }
            
            int64_t defunc_0_op_res_168873 = add64(scanacc_180889, index_concat_branch_181017);
            
            ((int64_t *) mem_181320)[i_180891] = defunc_0_op_res_168873;
            
            int64_t scanacc_tmp_182581 = defunc_0_op_res_168873;
            
            scanacc_180889 = scanacc_tmp_182581;
        }
        discard_180893 = scanacc_180889;
        for (int64_t i_180896 = 0; i_180896 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654; i_180896++) {
            int64_t zv_lhs_168876 = add64((int64_t) -1, i_180896);
            int64_t tmp_168877 = smod64(zv_lhs_168876, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654);
            int64_t lifted_lambda_res_168878 = ((int64_t *) mem_181320)[tmp_168877];
            
            ((int64_t *) mem_181328)[i_180896] = lifted_lambda_res_168878;
        }
        ((int64_t *) mem_181328)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180898 = 0; write_iter_180898 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646; write_iter_180898++) {
            bool index_concat_cmp_180999 = sle64(arg_168645, write_iter_180898);
            int64_t index_concat_branch_178654;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_178844 = sub64(write_iter_180898, arg_168645);
                int64_t index_concat_178845 = ((int64_t *) mem_181188)[index_concat_i_178844];
                
                index_concat_branch_178654 = index_concat_178845;
            } else {
                int64_t new_index_178657 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_178658 = i16_res_168639 * new_index_178657;
                int64_t new_index_178659 = write_iter_180898 - binop_y_178658;
                int64_t index_concat_178660 = ((int64_t *) mem_181212)[new_index_178657 * i16_res_168639 + new_index_178659];
                
                index_concat_branch_178654 = index_concat_178660;
            }
            
            int32_t zlzb_rhs_178661;
            int32_t acc_178663 = 0;
            
            for (int32_t i_178662 = 0; i_178662 < 2; i_178662++) {
                int32_t get_bit_arg0_178664 = add32(blocked_radix_sort_step_arg1_168707, i_178662);
                int32_t defunc_0_get_bit_res_178665;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178665, get_bit_arg0_178664, index_concat_branch_178654) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_178666 = get_bit_arg0_178664 == 63;
                int32_t defunc_0_get_bit_res_178667;
                
                if (cond_178666) {
                    int32_t defunc_0_get_bit_res_t_res_178846 = 1 ^ defunc_0_get_bit_res_178665;
                    
                    defunc_0_get_bit_res_178667 = defunc_0_get_bit_res_t_res_178846;
                } else {
                    defunc_0_get_bit_res_178667 = defunc_0_get_bit_res_178665;
                }
                
                int32_t zp_rhs_178669 = shl32(defunc_0_get_bit_res_178667, i_178662);
                int32_t loopres_178670 = add32(acc_178663, zp_rhs_178669);
                int32_t acc_tmp_182586 = loopres_178670;
                
                acc_178663 = acc_tmp_182586;
            }
            zlzb_rhs_178661 = acc_178663;
            
            int64_t i32_res_178671 = sext_i32_i64(zlzb_rhs_178661);
            int64_t block_idx_178672 = sdiv64(write_iter_180898, i16_res_168639);
            bool x_178673 = sle64((int64_t) 0, block_idx_178672);
            bool y_178674 = slt64(block_idx_178672, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
            bool bounds_check_178675 = x_178673 && y_178674;
            bool index_certs_178676;
            
            if (!bounds_check_178675) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178672, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:117:3-45\n   #10 ftsort.fut:116:1-117:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178677 = sle64((int64_t) 0, i32_res_178671);
            bool y_178678 = slt64(i32_res_178671, (int64_t) 4);
            bool bounds_check_178679 = x_178677 && y_178678;
            bool index_certs_178680;
            
            if (!bounds_check_178679) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178671, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:117:3-45\n   #10 ftsort.fut:116:1-117:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t index_concat_branch_181003;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_181000 = sub64(write_iter_180898, arg_168645);
                int64_t index_concat_181001 = ((int64_t *) mem_181188)[index_concat_i_181000];
                
                index_concat_branch_181003 = index_concat_181001;
            } else {
                int64_t new_index_181025 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_181027 = i16_res_168639 * new_index_181025;
                int64_t new_index_181028 = write_iter_180898 - binop_y_181027;
                int64_t index_concat_181002 = ((int64_t *) mem_181212)[new_index_181025 * i16_res_168639 + new_index_181028];
                
                index_concat_branch_181003 = index_concat_181002;
            }
            
            int64_t index_concat_branch_180997;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_180994 = sub64(write_iter_180898, arg_168645);
                int64_t index_concat_180995 = ((int64_t *) mem_181186)[index_concat_i_180994];
                
                index_concat_branch_180997 = index_concat_180995;
            } else {
                int64_t new_index_181021 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_181023 = i16_res_168639 * new_index_181021;
                int64_t new_index_181024 = write_iter_180898 - binop_y_181023;
                int64_t index_concat_180996 = ((int64_t *) mem_181215)[new_index_181021 * i16_res_168639 + new_index_181024];
                
                index_concat_branch_180997 = index_concat_180996;
            }
            
            int64_t binop_x_178681 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 * i32_res_178671;
            int64_t new_index_178682 = block_idx_178672 + binop_x_178681;
            int64_t new_offset_178683 = ((int64_t *) mem_181328)[new_index_178682];
            bool index_concat_cmp_178684 = sle64(n_blocks_168643, block_idx_178672);
            int16_t index_concat_branch_178685;
            
            if (index_concat_cmp_178684) {
                int16_t index_concat_178847 = ((int16_t *) mem_181209)[i32_res_178671];
                
                index_concat_branch_178685 = index_concat_178847;
            } else {
                int16_t index_concat_178687 = ((int16_t *) mem_181221)[block_idx_178672 * (int64_t) 4 + i32_res_178671];
                
                index_concat_branch_178685 = index_concat_178687;
            }
            
            int64_t i16_res_178688 = sext_i16_i64(index_concat_branch_178685);
            int64_t zp_lhs_178689 = mul64(i16_res_168639, block_idx_178672);
            int64_t old_offset_178690 = add64(i16_res_178688, zp_lhs_178689);
            int64_t zp_lhs_178691 = sub64(write_iter_180898, old_offset_178690);
            int64_t idx_178692 = add64(new_offset_178683, zp_lhs_178691);
            
            if (sle64((int64_t) 0, idx_178692) && slt64(idx_178692, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646)) {
                ((int64_t *) mem_181136)[idx_178692] = index_concat_branch_181003;
            }
            if (sle64((int64_t) 0, idx_178692) && slt64(idx_178692, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646)) {
                ((int64_t *) mem_181138)[idx_178692] = index_concat_branch_180997;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181354, bytes_181353, "mem_181354")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181356, bytes_181353, "mem_181356")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180910 = 0; i_180910 < n_90894; i_180910++) {
        int64_t eta_p_168938 = ((int64_t *) mem_181138)[i_180910];
        bool x_168939 = sle64((int64_t) 0, eta_p_168938);
        bool y_168940 = slt64(eta_p_168938, n_90894);
        bool bounds_check_168941 = x_168939 && y_168940;
        bool index_certs_168942;
        
        if (!bounds_check_168941) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168938, "] out of bounds for array of shape [", (long long) n_90894, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:178:93-96\n   #5  ftsort.fut:117:3-45\n   #6  ftsort.fut:116:1-117:45\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168943 = ((int64_t *) ext_mem_181134.mem)[eta_p_168938];
        int64_t lifted_lambda_res_168944 = ((int64_t *) xs_mem_181133.mem)[eta_p_168938];
        
        ((int64_t *) mem_181354.mem)[i_180910] = lifted_lambda_res_168943;
        ((int64_t *) mem_181356.mem)[i_180910] = lifted_lambda_res_168944;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181354, "mem_181354") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181356, "mem_181356") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183227, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183228, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181136);
        free(mem_181138);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181152);
        free(mem_181154);
        free(mem_181186);
        free(mem_181188);
        free(mem_181201);
        free(mem_181202);
        free(mem_181209);
        free(mem_181212);
        free(mem_181215);
        free(mem_181218);
        free(mem_181221);
        free(mem_181243);
        free(mem_181245);
        free(mem_181247);
        free(mem_181249);
        free(mem_181251);
        free(mem_181294);
        free(mem_181295);
        free(mem_181320);
        free(mem_181328);
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_183254, struct memblock *mem_out_p_183255, struct memblock xs_mem_181133, int64_t n_85677, int64_t incr_85678, int16_t block_sizze_85679)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181136_cached_sizze_183256 = 0;
    unsigned char *mem_181136 = NULL;
    int64_t mem_181138_cached_sizze_183257 = 0;
    unsigned char *mem_181138 = NULL;
    int64_t mem_181146_cached_sizze_183258 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183259 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183260 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181152_cached_sizze_183261 = 0;
    unsigned char *mem_181152 = NULL;
    int64_t mem_181154_cached_sizze_183262 = 0;
    unsigned char *mem_181154 = NULL;
    int64_t mem_181186_cached_sizze_183263 = 0;
    unsigned char *mem_181186 = NULL;
    int64_t mem_181188_cached_sizze_183264 = 0;
    unsigned char *mem_181188 = NULL;
    int64_t mem_181201_cached_sizze_183265 = 0;
    unsigned char *mem_181201 = NULL;
    int64_t mem_181202_cached_sizze_183266 = 0;
    unsigned char *mem_181202 = NULL;
    int64_t mem_181209_cached_sizze_183267 = 0;
    unsigned char *mem_181209 = NULL;
    int64_t mem_181212_cached_sizze_183268 = 0;
    unsigned char *mem_181212 = NULL;
    int64_t mem_181215_cached_sizze_183269 = 0;
    unsigned char *mem_181215 = NULL;
    int64_t mem_181218_cached_sizze_183270 = 0;
    unsigned char *mem_181218 = NULL;
    int64_t mem_181221_cached_sizze_183271 = 0;
    unsigned char *mem_181221 = NULL;
    int64_t mem_181243_cached_sizze_183272 = 0;
    unsigned char *mem_181243 = NULL;
    int64_t mem_181245_cached_sizze_183273 = 0;
    unsigned char *mem_181245 = NULL;
    int64_t mem_181247_cached_sizze_183274 = 0;
    unsigned char *mem_181247 = NULL;
    int64_t mem_181249_cached_sizze_183275 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181251_cached_sizze_183276 = 0;
    unsigned char *mem_181251 = NULL;
    int64_t mem_181294_cached_sizze_183277 = 0;
    unsigned char *mem_181294 = NULL;
    int64_t mem_181295_cached_sizze_183278 = 0;
    unsigned char *mem_181295 = NULL;
    int64_t mem_181320_cached_sizze_183279 = 0;
    unsigned char *mem_181320 = NULL;
    int64_t mem_181328_cached_sizze_183280 = 0;
    unsigned char *mem_181328 = NULL;
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock ext_mem_181134;
    
    ext_mem_181134.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    bool cond_168637 = n_85677 == (int64_t) 0;
    int32_t iters_168638;
    
    if (cond_168637) {
        iters_168638 = 0;
    } else {
        iters_168638 = 8;
    }
    
    int64_t i16_res_168639 = sext_i16_i64(block_sizze_85679);
    bool zzero_168640 = i16_res_168639 == (int64_t) 0;
    bool nonzzero_168641 = !zzero_168640;
    bool nonzzero_cert_168642;
    
    if (!nonzzero_168641) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:178:93-96\n   #5  ftsort.fut:111:3-46\n   #6  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168643 = sdiv64(n_85677, i16_res_168639);
    int64_t rest_168644 = smod64(n_85677, i16_res_168639);
    int64_t arg_168645 = mul64(i16_res_168639, n_blocks_168643);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646 = add64(rest_168644, arg_168645);
    bool dim_match_168647 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646 == n_85677;
    bool empty_or_match_cert_168648;
    
    if (!dim_match_168647) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_85677, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:178:93-96\n   #6  ftsort.fut:111:3-46\n   #7  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181135 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646;
    int64_t bytes_181137 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646;
    bool loop_nonempty_168652 = slt32(0, iters_168638);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 = add64((int64_t) 1, n_blocks_168643);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
    bool empty_slice_168655 = arg_168645 == (int64_t) 0;
    int64_t m_168656 = sub64(arg_168645, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168657 = sle64((int64_t) 0, m_168656);
    bool i_p_m_t_s_leq_w_168658 = slt64(m_168656, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool i_lte_j_168659 = sle64((int64_t) 0, arg_168645);
    bool y_168660 = zzero_leq_i_p_m_t_s_168657 && i_p_m_t_s_leq_w_168658;
    bool forwards_ok_168661 = i_lte_j_168659 && y_168660;
    bool ok_or_empty_168662 = empty_slice_168655 || forwards_ok_168661;
    bool loop_not_taken_168663 = !loop_nonempty_168652;
    bool protect_assert_disj_168664 = ok_or_empty_168662 || loop_not_taken_168663;
    bool index_certs_168665;
    
    if (!protect_assert_disj_168664) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168645, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:111:3-46\n   #8  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168666 = rest_168644 == (int64_t) 0;
    int64_t m_168667 = sub64(rest_168644, (int64_t) 1);
    int64_t i_p_m_t_s_168668 = add64(arg_168645, m_168667);
    bool zzero_leq_i_p_m_t_s_168669 = sle64((int64_t) 0, i_p_m_t_s_168668);
    bool i_p_m_t_s_leq_w_168670 = slt64(i_p_m_t_s_168668, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool i_lte_j_168671 = sle64(arg_168645, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646);
    bool y_168672 = zzero_leq_i_p_m_t_s_168669 && i_p_m_t_s_leq_w_168670;
    bool forwards_ok_168673 = i_lte_j_168671 && y_168672;
    bool ok_or_empty_168674 = empty_slice_168666 || forwards_ok_168673;
    bool protect_assert_disj_168675 = loop_not_taken_168663 || ok_or_empty_168674;
    bool index_certs_168676;
    
    if (!protect_assert_disj_168675) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168645, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:111:3-46\n   #8  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168677 = sle64((int64_t) 0, n_blocks_168643);
    bool binop_y_168678 = sle64((int64_t) 0, i16_res_168639);
    bool binop_y_168679 = binop_x_168677 && binop_y_168678;
    bool protect_assert_disj_168680 = loop_not_taken_168663 || binop_y_168679;
    bool dim_ok_cert_168681;
    
    if (!protect_assert_disj_168680) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168645, "] to array of shape [", (long long) n_blocks_168643, "][", (long long) i16_res_168639, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:178:93-96\n   #7  ftsort.fut:111:3-46\n   #8  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168682 = sub64(i16_res_168639, (int64_t) 1);
    bool x_168683 = sle64((int64_t) 0, tmp_168682);
    bool y_168684 = slt64(tmp_168682, i16_res_168639);
    bool bounds_check_168685 = x_168683 && y_168684;
    bool protect_assert_disj_168686 = zzero_168640 || bounds_check_168685;
    bool protect_assert_disj_168687 = loop_not_taken_168663 || protect_assert_disj_168686;
    bool index_certs_168688;
    
    if (!protect_assert_disj_168687) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168682, "] out of bounds for array of shape [", (long long) i16_res_168639, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:111:3-46\n   #9  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168690 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654);
    bool protect_assert_disj_168691 = loop_not_taken_168663 || y_168690;
    bool index_certs_168692;
    
    if (!protect_assert_disj_168691) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:111:3-46\n   #9  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168694 = nonzzero_168641 || loop_not_taken_168663;
    bool nonzzero_cert_168695;
    
    if (!protect_assert_disj_168694) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:111:3-46\n   #10 ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168696 = sle64((int64_t) 0, m_168667);
    bool y_168697 = slt64(m_168667, rest_168644);
    bool bounds_check_168698 = x_168696 && y_168697;
    bool protect_assert_disj_168699 = empty_slice_168666 || bounds_check_168698;
    bool protect_assert_disj_168700 = loop_not_taken_168663 || protect_assert_disj_168699;
    bool index_certs_168701;
    
    if (!protect_assert_disj_168700) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168667, "] out of bounds for array of shape [", (long long) rest_168644, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:111:3-46\n   #9  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181145 = (int64_t) 2 * rest_168644;
    int64_t bytes_181185 = (int64_t) 8 * rest_168644;
    int64_t binop_x_181210 = (int64_t) 2 * n_blocks_168643;
    int64_t bytes_181211 = i16_res_168639 * binop_x_181210;
    int64_t binop_x_181213 = (int64_t) 8 * n_blocks_168643;
    int64_t bytes_181214 = i16_res_168639 * binop_x_181213;
    int64_t bytes_181217 = (int64_t) 32 * n_blocks_168643;
    int64_t bytes_181238 = (int64_t) 2 * i16_res_168639;
    int64_t bytes_181319 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653;
    bool dim_match_168933 = n_85677 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646;
    bool empty_or_match_cert_168934;
    
    if (!dim_match_168933) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646, "] cannot match shape of type `[", (long long) n_85677, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:178:93-96\n   #8  ftsort.fut:111:3-46\n   #9  ftsort.fut:110:1-111:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181353 = (int64_t) 8 * n_85677;
    int64_t bytes_181355 = (int64_t) 2 * n_85677;
    
    if (futrts_indicesWithIncrement_9225(ctx, &ext_mem_181134, xs_mem_181133, n_85677, incr_85678) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181136_cached_sizze_183256 < bytes_181135) {
        err = lexical_realloc(ctx, &mem_181136, &mem_181136_cached_sizze_183256, bytes_181135);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181136, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) xs_mem_181133.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646});
    if (mem_181138_cached_sizze_183257 < bytes_181137) {
        err = lexical_realloc(ctx, &mem_181138, &mem_181138_cached_sizze_183257, bytes_181137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182549 = 0; i_182549 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646; i_182549++) {
        int64_t x_182550 = (int64_t) 0 + i_182549 * (int64_t) 1;
        
        ((int64_t *) mem_181138)[i_182549] = x_182550;
    }
    if (mem_181146_cached_sizze_183258 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183258, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183259 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183259, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183260 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183260, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181152_cached_sizze_183261 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181152, &mem_181152_cached_sizze_183261, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181154_cached_sizze_183262 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181154, &mem_181154_cached_sizze_183262, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181186_cached_sizze_183263 < bytes_181185) {
        err = lexical_realloc(ctx, &mem_181186, &mem_181186_cached_sizze_183263, bytes_181185);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181188_cached_sizze_183264 < bytes_181145) {
        err = lexical_realloc(ctx, &mem_181188, &mem_181188_cached_sizze_183264, bytes_181145);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181201_cached_sizze_183265 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181201, &mem_181201_cached_sizze_183265, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181202_cached_sizze_183266 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181202, &mem_181202_cached_sizze_183266, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181209_cached_sizze_183267 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181209, &mem_181209_cached_sizze_183267, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181212_cached_sizze_183268 < bytes_181211) {
        err = lexical_realloc(ctx, &mem_181212, &mem_181212_cached_sizze_183268, bytes_181211);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181215_cached_sizze_183269 < bytes_181214) {
        err = lexical_realloc(ctx, &mem_181215, &mem_181215_cached_sizze_183269, bytes_181214);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181218_cached_sizze_183270 < bytes_181217) {
        err = lexical_realloc(ctx, &mem_181218, &mem_181218_cached_sizze_183270, bytes_181217);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181221_cached_sizze_183271 < binop_x_181213) {
        err = lexical_realloc(ctx, &mem_181221, &mem_181221_cached_sizze_183271, binop_x_181213);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181243_cached_sizze_183272 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181243, &mem_181243_cached_sizze_183272, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181245_cached_sizze_183273 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181245, &mem_181245_cached_sizze_183273, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181247_cached_sizze_183274 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181247, &mem_181247_cached_sizze_183274, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181249_cached_sizze_183275 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_183275, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181251_cached_sizze_183276 < bytes_181238) {
        err = lexical_realloc(ctx, &mem_181251, &mem_181251_cached_sizze_183276, bytes_181238);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181294_cached_sizze_183277 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181294, &mem_181294_cached_sizze_183277, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181295_cached_sizze_183278 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181295, &mem_181295_cached_sizze_183278, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181320_cached_sizze_183279 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181320, &mem_181320_cached_sizze_183279, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181328_cached_sizze_183280 < bytes_181319) {
        err = lexical_realloc(ctx, &mem_181328, &mem_181328_cached_sizze_183280, bytes_181319);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168704 = 0; i_168704 < iters_168638; i_168704++) {
        int32_t blocked_radix_sort_step_arg1_168707 = mul32(2, i_168704);
        int32_t get_bit_arg0_168712 = add32(1, blocked_radix_sort_step_arg1_168707);
        bool cond_168713 = get_bit_arg0_168712 == 15;
        bool cond_168714 = blocked_radix_sort_step_arg1_168707 == 15;
        int16_t discard_180813;
        int16_t discard_180814;
        int16_t discard_180815;
        int16_t discard_180816;
        int16_t scanacc_180798;
        int16_t scanacc_180799;
        int16_t scanacc_180800;
        int16_t scanacc_180801;
        
        scanacc_180798 = (int16_t) 0;
        scanacc_180799 = (int16_t) 0;
        scanacc_180800 = (int16_t) 0;
        scanacc_180801 = (int16_t) 0;
        for (int64_t i_180807 = 0; i_180807 < rest_168644; i_180807++) {
            int64_t slice_181020 = arg_168645 + i_180807;
            int16_t eta_p_178718 = ((int16_t *) mem_181136)[slice_181020];
            int32_t defunc_0_get_bit_res_178719;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178719, get_bit_arg0_168712, eta_p_178718) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178720;
            
            if (cond_168713) {
                int32_t defunc_0_get_bit_res_t_res_178832 = 1 ^ defunc_0_get_bit_res_178719;
                
                defunc_0_get_bit_res_178720 = defunc_0_get_bit_res_t_res_178832;
            } else {
                defunc_0_get_bit_res_178720 = defunc_0_get_bit_res_178719;
            }
            
            int32_t zp_lhs_178722 = mul32(2, defunc_0_get_bit_res_178720);
            int32_t defunc_0_get_bit_res_178723;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178723, blocked_radix_sort_step_arg1_168707, eta_p_178718) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178724;
            
            if (cond_168714) {
                int32_t defunc_0_get_bit_res_t_res_178833 = 1 ^ defunc_0_get_bit_res_178723;
                
                defunc_0_get_bit_res_178724 = defunc_0_get_bit_res_t_res_178833;
            } else {
                defunc_0_get_bit_res_178724 = defunc_0_get_bit_res_178723;
            }
            
            int32_t i32_arg0_178726 = add32(zp_lhs_178722, defunc_0_get_bit_res_178724);
            int16_t i32_res_178727 = sext_i32_i16(i32_arg0_178726);
            int16_t defunc_0_f_res_178729;
            int16_t defunc_0_f_res_178730;
            int16_t defunc_0_f_res_178731;
            int16_t defunc_0_f_res_178732;
            
            if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178729, &defunc_0_f_res_178730, &defunc_0_f_res_178731, &defunc_0_f_res_178732, i32_res_178727) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168751 = add16(defunc_0_f_res_178729, scanacc_180798);
            int16_t defunc_0_op_res_168752 = add16(defunc_0_f_res_178730, scanacc_180799);
            int16_t defunc_0_op_res_168753 = add16(defunc_0_f_res_178731, scanacc_180800);
            int16_t defunc_0_op_res_168754 = add16(defunc_0_f_res_178732, scanacc_180801);
            
            ((int16_t *) mem_181146)[i_180807] = defunc_0_op_res_168751;
            ((int16_t *) mem_181148)[i_180807] = defunc_0_op_res_168752;
            ((int16_t *) mem_181150)[i_180807] = defunc_0_op_res_168753;
            ((int16_t *) mem_181152)[i_180807] = defunc_0_op_res_168754;
            ((int16_t *) mem_181154)[i_180807] = i32_res_178727;
            
            int16_t scanacc_tmp_182553 = defunc_0_op_res_168751;
            int16_t scanacc_tmp_182554 = defunc_0_op_res_168752;
            int16_t scanacc_tmp_182555 = defunc_0_op_res_168753;
            int16_t scanacc_tmp_182556 = defunc_0_op_res_168754;
            
            scanacc_180798 = scanacc_tmp_182553;
            scanacc_180799 = scanacc_tmp_182554;
            scanacc_180800 = scanacc_tmp_182555;
            scanacc_180801 = scanacc_tmp_182556;
        }
        discard_180813 = scanacc_180798;
        discard_180814 = scanacc_180799;
        discard_180815 = scanacc_180800;
        discard_180816 = scanacc_180801;
        
        int16_t defunc_0_radix_sort_step_i16_res_168755;
        int16_t defunc_0_radix_sort_step_i16_res_168756;
        int16_t defunc_0_radix_sort_step_i16_res_168757;
        int16_t defunc_0_radix_sort_step_i16_res_168758;
        
        if (empty_slice_168666) {
            defunc_0_radix_sort_step_i16_res_168755 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168756 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168757 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168758 = (int16_t) 0;
        } else {
            int16_t last_res_168759 = ((int16_t *) mem_181146)[m_168667];
            int16_t last_res_168760 = ((int16_t *) mem_181148)[m_168667];
            int16_t last_res_168761 = ((int16_t *) mem_181150)[m_168667];
            int16_t last_res_168762 = ((int16_t *) mem_181152)[m_168667];
            
            defunc_0_radix_sort_step_i16_res_168755 = last_res_168759;
            defunc_0_radix_sort_step_i16_res_168756 = last_res_168760;
            defunc_0_radix_sort_step_i16_res_168757 = last_res_168761;
            defunc_0_radix_sort_step_i16_res_168758 = last_res_168762;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181186, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + (int64_t) 1 * arg_168645, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168644});
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181188, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181136, (int64_t) 0 + (int64_t) 1 * arg_168645, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168644});
        for (int64_t write_iter_180817 = 0; write_iter_180817 < rest_168644; write_iter_180817++) {
            int16_t write_iv_180820 = ((int16_t *) mem_181154)[write_iter_180817];
            int16_t write_iv_180821 = ((int16_t *) mem_181146)[write_iter_180817];
            int16_t write_iv_180822 = ((int16_t *) mem_181148)[write_iter_180817];
            int16_t write_iv_180823 = ((int16_t *) mem_181150)[write_iter_180817];
            int16_t write_iv_180824 = ((int16_t *) mem_181152)[write_iter_180817];
            int64_t slice_181019 = arg_168645 + write_iter_180817;
            int16_t write_iv_180825 = ((int16_t *) mem_181136)[slice_181019];
            int64_t write_iv_180826 = ((int64_t *) mem_181138)[slice_181019];
            int64_t defunc_0_f_res_178702;
            
            if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178702, defunc_0_radix_sort_step_i16_res_168755, defunc_0_radix_sort_step_i16_res_168756, defunc_0_radix_sort_step_i16_res_168757, write_iv_180820, write_iv_180821, write_iv_180822, write_iv_180823, write_iv_180824) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178702) && slt64(defunc_0_f_res_178702, rest_168644)) {
                ((int16_t *) mem_181188)[defunc_0_f_res_178702] = write_iv_180825;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178702) && slt64(defunc_0_f_res_178702, rest_168644)) {
                ((int64_t *) mem_181186)[defunc_0_f_res_178702] = write_iv_180826;
            }
        }
        ((int16_t *) mem_181201)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168755;
        ((int16_t *) mem_181201)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168756;
        ((int16_t *) mem_181201)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168757;
        ((int16_t *) mem_181201)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168758;
        for (int64_t i_180831 = 0; i_180831 < (int64_t) 4; i_180831++) {
            int16_t eta_p_168779 = ((int16_t *) mem_181201)[i_180831];
            int64_t i16_res_168780 = sext_i16_i64(eta_p_168779);
            
            ((int64_t *) mem_181202)[i_180831] = i16_res_168780;
        }
        
        int16_t tmp_168781 = add16(defunc_0_radix_sort_step_i16_res_168755, defunc_0_radix_sort_step_i16_res_168756);
        int16_t tmp_168782 = add16(defunc_0_radix_sort_step_i16_res_168757, tmp_168781);
        
        ((int16_t *) mem_181209)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181209)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168755;
        ((int16_t *) mem_181209)[(int64_t) 2] = tmp_168781;
        ((int16_t *) mem_181209)[(int64_t) 3] = tmp_168782;
        for (int64_t i_180881 = 0; i_180881 < n_blocks_168643; i_180881++) {
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181212, i_180881 * i16_res_168639, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181136, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_168639), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168639});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181215, i_180881 * i16_res_168639, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181138, (int64_t) 0 + i_180881 * ((int64_t) 1 * i16_res_168639), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168639});
            
            int64_t binop_x_181033 = i16_res_168639 * i_180881;
            int16_t discard_180853;
            int16_t discard_180854;
            int16_t discard_180855;
            int16_t discard_180856;
            int16_t scanacc_180838;
            int16_t scanacc_180839;
            int16_t scanacc_180840;
            int16_t scanacc_180841;
            
            scanacc_180838 = (int16_t) 0;
            scanacc_180839 = (int16_t) 0;
            scanacc_180840 = (int16_t) 0;
            scanacc_180841 = (int16_t) 0;
            for (int64_t i_180847 = 0; i_180847 < i16_res_168639; i_180847++) {
                int64_t new_index_181034 = i_180847 + binop_x_181033;
                int16_t eta_p_178763 = ((int16_t *) mem_181136)[new_index_181034];
                int32_t defunc_0_get_bit_res_178764;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178764, get_bit_arg0_168712, eta_p_178763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178765;
                
                if (cond_168713) {
                    int32_t defunc_0_get_bit_res_t_res_178834 = 1 ^ defunc_0_get_bit_res_178764;
                    
                    defunc_0_get_bit_res_178765 = defunc_0_get_bit_res_t_res_178834;
                } else {
                    defunc_0_get_bit_res_178765 = defunc_0_get_bit_res_178764;
                }
                
                int32_t zp_lhs_178767 = mul32(2, defunc_0_get_bit_res_178765);
                int32_t defunc_0_get_bit_res_178768;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178768, blocked_radix_sort_step_arg1_168707, eta_p_178763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178769;
                
                if (cond_168714) {
                    int32_t defunc_0_get_bit_res_t_res_178835 = 1 ^ defunc_0_get_bit_res_178768;
                    
                    defunc_0_get_bit_res_178769 = defunc_0_get_bit_res_t_res_178835;
                } else {
                    defunc_0_get_bit_res_178769 = defunc_0_get_bit_res_178768;
                }
                
                int32_t i32_arg0_178771 = add32(zp_lhs_178767, defunc_0_get_bit_res_178769);
                int16_t i32_res_178772 = sext_i32_i16(i32_arg0_178771);
                int16_t defunc_0_f_res_178774;
                int16_t defunc_0_f_res_178775;
                int16_t defunc_0_f_res_178776;
                int16_t defunc_0_f_res_178777;
                
                if (futrts_lifted_lambda_9184(ctx, &defunc_0_f_res_178774, &defunc_0_f_res_178775, &defunc_0_f_res_178776, &defunc_0_f_res_178777, i32_res_178772) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168832 = add16(defunc_0_f_res_178774, scanacc_180838);
                int16_t defunc_0_op_res_168833 = add16(defunc_0_f_res_178775, scanacc_180839);
                int16_t defunc_0_op_res_168834 = add16(defunc_0_f_res_178776, scanacc_180840);
                int16_t defunc_0_op_res_168835 = add16(defunc_0_f_res_178777, scanacc_180841);
                
                ((int16_t *) mem_181243)[i_180847] = defunc_0_op_res_168832;
                ((int16_t *) mem_181245)[i_180847] = defunc_0_op_res_168833;
                ((int16_t *) mem_181247)[i_180847] = defunc_0_op_res_168834;
                ((int16_t *) mem_181249)[i_180847] = defunc_0_op_res_168835;
                ((int16_t *) mem_181251)[i_180847] = i32_res_178772;
                
                int16_t scanacc_tmp_182569 = defunc_0_op_res_168832;
                int16_t scanacc_tmp_182570 = defunc_0_op_res_168833;
                int16_t scanacc_tmp_182571 = defunc_0_op_res_168834;
                int16_t scanacc_tmp_182572 = defunc_0_op_res_168835;
                
                scanacc_180838 = scanacc_tmp_182569;
                scanacc_180839 = scanacc_tmp_182570;
                scanacc_180840 = scanacc_tmp_182571;
                scanacc_180841 = scanacc_tmp_182572;
            }
            discard_180853 = scanacc_180838;
            discard_180854 = scanacc_180839;
            discard_180855 = scanacc_180840;
            discard_180856 = scanacc_180841;
            
            int16_t defunc_0_f_res_168836;
            int16_t defunc_0_f_res_168837;
            int16_t defunc_0_f_res_168838;
            int16_t defunc_0_f_res_168839;
            
            if (zzero_168640) {
                defunc_0_f_res_168836 = (int16_t) 0;
                defunc_0_f_res_168837 = (int16_t) 0;
                defunc_0_f_res_168838 = (int16_t) 0;
                defunc_0_f_res_168839 = (int16_t) 0;
            } else {
                int16_t last_res_168840 = ((int16_t *) mem_181243)[tmp_168682];
                int16_t last_res_168841 = ((int16_t *) mem_181245)[tmp_168682];
                int16_t last_res_168842 = ((int16_t *) mem_181247)[tmp_168682];
                int16_t last_res_168843 = ((int16_t *) mem_181249)[tmp_168682];
                
                defunc_0_f_res_168836 = last_res_168840;
                defunc_0_f_res_168837 = last_res_168841;
                defunc_0_f_res_168838 = last_res_168842;
                defunc_0_f_res_168839 = last_res_168843;
            }
            for (int64_t write_iter_180857 = 0; write_iter_180857 < i16_res_168639; write_iter_180857++) {
                int16_t write_iv_180860 = ((int16_t *) mem_181251)[write_iter_180857];
                int16_t write_iv_180861 = ((int16_t *) mem_181243)[write_iter_180857];
                int16_t write_iv_180862 = ((int16_t *) mem_181245)[write_iter_180857];
                int16_t write_iv_180863 = ((int16_t *) mem_181247)[write_iter_180857];
                int16_t write_iv_180864 = ((int16_t *) mem_181249)[write_iter_180857];
                int64_t new_index_181030 = write_iter_180857 + binop_x_181033;
                int16_t write_iv_180865 = ((int16_t *) mem_181136)[new_index_181030];
                int64_t write_iv_180866 = ((int64_t *) mem_181138)[new_index_181030];
                int64_t defunc_0_f_res_178747;
                
                if (futrts_lifted_f_9185(ctx, &defunc_0_f_res_178747, defunc_0_f_res_168836, defunc_0_f_res_168837, defunc_0_f_res_168838, write_iv_180860, write_iv_180861, write_iv_180862, write_iv_180863, write_iv_180864) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178747) && slt64(defunc_0_f_res_178747, i16_res_168639)) {
                    ((int16_t *) mem_181212)[i_180881 * i16_res_168639 + defunc_0_f_res_178747] = write_iv_180865;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178747) && slt64(defunc_0_f_res_178747, i16_res_168639)) {
                    ((int64_t *) mem_181215)[i_180881 * i16_res_168639 + defunc_0_f_res_178747] = write_iv_180866;
                }
            }
            ((int16_t *) mem_181294)[(int64_t) 0] = defunc_0_f_res_168836;
            ((int16_t *) mem_181294)[(int64_t) 1] = defunc_0_f_res_168837;
            ((int16_t *) mem_181294)[(int64_t) 2] = defunc_0_f_res_168838;
            ((int16_t *) mem_181294)[(int64_t) 3] = defunc_0_f_res_168839;
            for (int64_t i_180871 = 0; i_180871 < (int64_t) 4; i_180871++) {
                int16_t eta_p_168858 = ((int16_t *) mem_181294)[i_180871];
                int64_t i16_res_168859 = sext_i16_i64(eta_p_168858);
                
                ((int64_t *) mem_181295)[i_180871] = i16_res_168859;
            }
            
            int16_t tmp_168860 = add16(defunc_0_f_res_168836, defunc_0_f_res_168837);
            int16_t tmp_168861 = add16(defunc_0_f_res_168838, tmp_168860);
            
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168836;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 2] = tmp_168860;
            ((int16_t *) mem_181221)[i_180881 * (int64_t) 4 + (int64_t) 3] = tmp_168861;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181218, i_180881 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181295, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180893;
        int64_t scanacc_180889 = (int64_t) 0;
        
        for (int64_t i_180891 = 0; i_180891 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654; i_180891++) {
            int64_t new_index_181008 = squot64(i_180891, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
            int64_t binop_y_181010 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 * new_index_181008;
            int64_t new_index_181011 = i_180891 - binop_y_181010;
            bool index_concat_cmp_181013 = sle64(n_blocks_168643, new_index_181011);
            int64_t index_concat_branch_181017;
            
            if (index_concat_cmp_181013) {
                int64_t index_concat_181015 = ((int64_t *) mem_181202)[new_index_181008];
                
                index_concat_branch_181017 = index_concat_181015;
            } else {
                int64_t index_concat_181016 = ((int64_t *) mem_181218)[new_index_181011 * (int64_t) 4 + new_index_181008];
                
                index_concat_branch_181017 = index_concat_181016;
            }
            
            int64_t defunc_0_op_res_168873 = add64(scanacc_180889, index_concat_branch_181017);
            
            ((int64_t *) mem_181320)[i_180891] = defunc_0_op_res_168873;
            
            int64_t scanacc_tmp_182581 = defunc_0_op_res_168873;
            
            scanacc_180889 = scanacc_tmp_182581;
        }
        discard_180893 = scanacc_180889;
        for (int64_t i_180896 = 0; i_180896 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654; i_180896++) {
            int64_t zv_lhs_168876 = add64((int64_t) -1, i_180896);
            int64_t tmp_168877 = smod64(zv_lhs_168876, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168654);
            int64_t lifted_lambda_res_168878 = ((int64_t *) mem_181320)[tmp_168877];
            
            ((int64_t *) mem_181328)[i_180896] = lifted_lambda_res_168878;
        }
        ((int64_t *) mem_181328)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180898 = 0; write_iter_180898 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646; write_iter_180898++) {
            bool index_concat_cmp_180999 = sle64(arg_168645, write_iter_180898);
            int16_t index_concat_branch_178654;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_178844 = sub64(write_iter_180898, arg_168645);
                int16_t index_concat_178845 = ((int16_t *) mem_181188)[index_concat_i_178844];
                
                index_concat_branch_178654 = index_concat_178845;
            } else {
                int64_t new_index_178657 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_178658 = i16_res_168639 * new_index_178657;
                int64_t new_index_178659 = write_iter_180898 - binop_y_178658;
                int16_t index_concat_178660 = ((int16_t *) mem_181212)[new_index_178657 * i16_res_168639 + new_index_178659];
                
                index_concat_branch_178654 = index_concat_178660;
            }
            
            int32_t zlzb_rhs_178661;
            int32_t acc_178663 = 0;
            
            for (int32_t i_178662 = 0; i_178662 < 2; i_178662++) {
                int32_t get_bit_arg0_178664 = add32(blocked_radix_sort_step_arg1_168707, i_178662);
                int32_t defunc_0_get_bit_res_178665;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178665, get_bit_arg0_178664, index_concat_branch_178654) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_178666 = get_bit_arg0_178664 == 15;
                int32_t defunc_0_get_bit_res_178667;
                
                if (cond_178666) {
                    int32_t defunc_0_get_bit_res_t_res_178846 = 1 ^ defunc_0_get_bit_res_178665;
                    
                    defunc_0_get_bit_res_178667 = defunc_0_get_bit_res_t_res_178846;
                } else {
                    defunc_0_get_bit_res_178667 = defunc_0_get_bit_res_178665;
                }
                
                int32_t zp_rhs_178669 = shl32(defunc_0_get_bit_res_178667, i_178662);
                int32_t loopres_178670 = add32(acc_178663, zp_rhs_178669);
                int32_t acc_tmp_182586 = loopres_178670;
                
                acc_178663 = acc_tmp_182586;
            }
            zlzb_rhs_178661 = acc_178663;
            
            int64_t i32_res_178671 = sext_i32_i64(zlzb_rhs_178661);
            int64_t block_idx_178672 = sdiv64(write_iter_180898, i16_res_168639);
            bool x_178673 = sle64((int64_t) 0, block_idx_178672);
            bool y_178674 = slt64(block_idx_178672, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653);
            bool bounds_check_178675 = x_178673 && y_178674;
            bool index_certs_178676;
            
            if (!bounds_check_178675) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178672, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:111:3-46\n   #10 ftsort.fut:110:1-111:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178677 = sle64((int64_t) 0, i32_res_178671);
            bool y_178678 = slt64(i32_res_178671, (int64_t) 4);
            bool bounds_check_178679 = x_178677 && y_178678;
            bool index_certs_178680;
            
            if (!bounds_check_178679) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178671, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:178:93-96\n   #9  ftsort.fut:111:3-46\n   #10 ftsort.fut:110:1-111:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int16_t index_concat_branch_181003;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_181000 = sub64(write_iter_180898, arg_168645);
                int16_t index_concat_181001 = ((int16_t *) mem_181188)[index_concat_i_181000];
                
                index_concat_branch_181003 = index_concat_181001;
            } else {
                int64_t new_index_181025 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_181027 = i16_res_168639 * new_index_181025;
                int64_t new_index_181028 = write_iter_180898 - binop_y_181027;
                int16_t index_concat_181002 = ((int16_t *) mem_181212)[new_index_181025 * i16_res_168639 + new_index_181028];
                
                index_concat_branch_181003 = index_concat_181002;
            }
            
            int64_t index_concat_branch_180997;
            
            if (index_concat_cmp_180999) {
                int64_t index_concat_i_180994 = sub64(write_iter_180898, arg_168645);
                int64_t index_concat_180995 = ((int64_t *) mem_181186)[index_concat_i_180994];
                
                index_concat_branch_180997 = index_concat_180995;
            } else {
                int64_t new_index_181021 = squot64(write_iter_180898, i16_res_168639);
                int64_t binop_y_181023 = i16_res_168639 * new_index_181021;
                int64_t new_index_181024 = write_iter_180898 - binop_y_181023;
                int64_t index_concat_180996 = ((int64_t *) mem_181215)[new_index_181021 * i16_res_168639 + new_index_181024];
                
                index_concat_branch_180997 = index_concat_180996;
            }
            
            int64_t binop_x_178681 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168653 * i32_res_178671;
            int64_t new_index_178682 = block_idx_178672 + binop_x_178681;
            int64_t new_offset_178683 = ((int64_t *) mem_181328)[new_index_178682];
            bool index_concat_cmp_178684 = sle64(n_blocks_168643, block_idx_178672);
            int16_t index_concat_branch_178685;
            
            if (index_concat_cmp_178684) {
                int16_t index_concat_178847 = ((int16_t *) mem_181209)[i32_res_178671];
                
                index_concat_branch_178685 = index_concat_178847;
            } else {
                int16_t index_concat_178687 = ((int16_t *) mem_181221)[block_idx_178672 * (int64_t) 4 + i32_res_178671];
                
                index_concat_branch_178685 = index_concat_178687;
            }
            
            int64_t i16_res_178688 = sext_i16_i64(index_concat_branch_178685);
            int64_t zp_lhs_178689 = mul64(i16_res_168639, block_idx_178672);
            int64_t old_offset_178690 = add64(i16_res_178688, zp_lhs_178689);
            int64_t zp_lhs_178691 = sub64(write_iter_180898, old_offset_178690);
            int64_t idx_178692 = add64(new_offset_178683, zp_lhs_178691);
            
            if (sle64((int64_t) 0, idx_178692) && slt64(idx_178692, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646)) {
                ((int16_t *) mem_181136)[idx_178692] = index_concat_branch_181003;
            }
            if (sle64((int64_t) 0, idx_178692) && slt64(idx_178692, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168646)) {
                ((int64_t *) mem_181138)[idx_178692] = index_concat_branch_180997;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181354, bytes_181353, "mem_181354")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181356, bytes_181355, "mem_181356")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180910 = 0; i_180910 < n_85677; i_180910++) {
        int64_t eta_p_168938 = ((int64_t *) mem_181138)[i_180910];
        bool x_168939 = sle64((int64_t) 0, eta_p_168938);
        bool y_168940 = slt64(eta_p_168938, n_85677);
        bool bounds_check_168941 = x_168939 && y_168940;
        bool index_certs_168942;
        
        if (!bounds_check_168941) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168938, "] out of bounds for array of shape [", (long long) n_85677, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:178:93-96\n   #5  ftsort.fut:111:3-46\n   #6  ftsort.fut:110:1-111:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168943 = ((int64_t *) ext_mem_181134.mem)[eta_p_168938];
        int16_t lifted_lambda_res_168944 = ((int16_t *) xs_mem_181133.mem)[eta_p_168938];
        
        ((int64_t *) mem_181354.mem)[i_180910] = lifted_lambda_res_168943;
        ((int16_t *) mem_181356.mem)[i_180910] = lifted_lambda_res_168944;
    }
    if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182547, &mem_181354, "mem_181354") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182548, &mem_181356, "mem_181356") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183254, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183255, &mem_out_182548, "mem_out_182548") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181136);
        free(mem_181138);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181152);
        free(mem_181154);
        free(mem_181186);
        free(mem_181188);
        free(mem_181201);
        free(mem_181202);
        free(mem_181209);
        free(mem_181212);
        free(mem_181215);
        free(mem_181218);
        free(mem_181221);
        free(mem_181243);
        free(mem_181245);
        free(mem_181247);
        free(mem_181249);
        free(mem_181251);
        free(mem_181294);
        free(mem_181295);
        free(mem_181320);
        free(mem_181328);
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181134, "ext_mem_181134") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182548, "mem_out_182548") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_183281, int32_t bit_83525, int16_t x_83526)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_182547;
    int16_t i32_res_163412 = sext_i32_i16(bit_83525);
    int16_t zgzg_res_163415 = ashr16(x_83526, i32_res_163412);
    int16_t za_res_163420 = (int16_t) 1 & zgzg_res_163415;
    int32_t to_i32_res_163422 = sext_i16_i32(za_res_163420);
    
    prim_out_182547 = to_i32_res_163422;
    *out_prim_out_183281 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_183282, int32_t bit_88742, int64_t x_88743)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_182547;
    int64_t i32_res_163412 = sext_i32_i64(bit_88742);
    int64_t zgzg_res_163415 = ashr64(x_88743, i32_res_163412);
    int64_t za_res_163420 = (int64_t) 1 & zgzg_res_163415;
    int32_t to_i32_res_163422 = sext_i64_i32(za_res_163420);
    
    prim_out_182547 = to_i32_res_163422;
    *out_prim_out_183282 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_183283, int64_t upper_bound_96424, int64_t n_96425)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182547;
    bool upper_bound_96426 = sle64((int64_t) 1, upper_bound_96424);
    bool assert_c_96428;
    
    if (!upper_bound_96426) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_96437 = slt64(upper_bound_96424, n_96425);
    bool d_96446;
    int64_t d_96447;
    bool loop_while_96448;
    int64_t d_96449;
    
    loop_while_96448 = cond_96437;
    d_96449 = (int64_t) 1;
    while (loop_while_96448) {
        int64_t loopres_96450 = add64((int64_t) 1, d_96449);
        bool zzero_96452 = loopres_96450 == (int64_t) 0;
        bool nonzzero_96453 = !zzero_96452;
        bool nonzzero_cert_96454;
        
        if (!nonzzero_96453) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_96455 = sdiv64(n_96425, loopres_96450);
        bool cond_96457 = slt64(upper_bound_96424, zg_lhs_96455);
        bool loop_cond_96458;
        
        if (cond_96457) {
            loop_cond_96458 = 1;
        } else {
            int64_t znze_lhs_96462 = smod64(n_96425, loopres_96450);
            bool loop_cond_f_res_96464 = znze_lhs_96462 == (int64_t) 0;
            bool loop_cond_f_res_96465 = !loop_cond_f_res_96464;
            
            loop_cond_96458 = loop_cond_f_res_96465;
        }
        
        bool loop_while_tmp_182548 = loop_cond_96458;
        int64_t d_tmp_182549 = loopres_96450;
        
        loop_while_96448 = loop_while_tmp_182548;
        d_96449 = d_tmp_182549;
    }
    d_96446 = loop_while_96448;
    d_96447 = d_96449;
    
    bool zzero_96467 = d_96447 == (int64_t) 0;
    bool nonzzero_96468 = !zzero_96467;
    bool nonzzero_cert_96469;
    
    if (!nonzzero_96468) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_96470 = sdiv64(n_96425, d_96447);
    
    prim_out_182547 = greatest_divisor_leq_than_res_96470;
    *out_prim_out_183283 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9225(struct futhark_context *ctx, struct memblock *mem_out_p_183284, struct memblock xs_mem_181133, int64_t n_82822, int64_t incr_82823)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t rng_82828 = add64(n_82822, incr_82823);
    bool bounds_invalid_upwards_82832 = slt64(rng_82828, incr_82823);
    bool valid_82837 = !bounds_invalid_upwards_82832;
    bool range_valid_c_82838;
    
    if (!valid_82837) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_82823, "..<", (long long) rng_82828, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181134 = (int64_t) 8 * n_82822;
    
    if (memblock_alloc(ctx, &mem_181135, bytes_181134, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182548 = 0; i_182548 < n_82822; i_182548++) {
        int64_t x_182549 = incr_82823 + i_182548 * (int64_t) 1;
        
        ((int64_t *) mem_181135.mem)[i_182548] = x_182549;
    }
    if (memblock_set(ctx, &mem_out_182547, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183284, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9380(struct futhark_context *ctx, struct memblock *mem_out_p_183285, struct memblock xs_mem_181133, int64_t n_85702, int64_t incr_85703)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t rng_85708 = add64(n_85702, incr_85703);
    bool bounds_invalid_upwards_85712 = slt64(rng_85708, incr_85703);
    bool valid_85717 = !bounds_invalid_upwards_85712;
    bool range_valid_c_85718;
    
    if (!valid_85717) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_85703, "..<", (long long) rng_85708, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181134 = (int64_t) 8 * n_85702;
    
    if (memblock_alloc(ctx, &mem_181135, bytes_181134, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182548 = 0; i_182548 < n_85702; i_182548++) {
        int64_t x_182549 = incr_85703 + i_182548 * (int64_t) 1;
        
        ((int64_t *) mem_181135.mem)[i_182548] = x_182549;
    }
    if (memblock_set(ctx, &mem_out_182547, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183285, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9490(struct futhark_context *ctx, struct memblock *mem_out_p_183286, struct memblock xs_mem_181133, int64_t n_88319, int64_t incr_88320)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t rng_88325 = add64(n_88319, incr_88320);
    bool bounds_invalid_upwards_88329 = slt64(rng_88325, incr_88320);
    bool valid_88334 = !bounds_invalid_upwards_88329;
    bool range_valid_c_88335;
    
    if (!valid_88334) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_88320, "..<", (long long) rng_88325, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181134 = (int64_t) 8 * n_88319;
    
    if (memblock_alloc(ctx, &mem_181135, bytes_181134, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182548 = 0; i_182548 < n_88319; i_182548++) {
        int64_t x_182549 = incr_88320 + i_182548 * (int64_t) 1;
        
        ((int64_t *) mem_181135.mem)[i_182548] = x_182549;
    }
    if (memblock_set(ctx, &mem_out_182547, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183286, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9590(struct futhark_context *ctx, struct memblock *mem_out_p_183287, struct memblock xs_mem_181133, int64_t n_90919, int64_t incr_90920)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t rng_90925 = add64(n_90919, incr_90920);
    bool bounds_invalid_upwards_90929 = slt64(rng_90925, incr_90920);
    bool valid_90934 = !bounds_invalid_upwards_90929;
    bool range_valid_c_90935;
    
    if (!valid_90934) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_90920, "..<", (long long) rng_90925, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181134 = (int64_t) 8 * n_90919;
    
    if (memblock_alloc(ctx, &mem_181135, bytes_181134, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182548 = 0; i_182548 < n_90919; i_182548++) {
        int64_t x_182549 = incr_90920 + i_182548 * (int64_t) 1;
        
        ((int64_t *) mem_181135.mem)[i_182548] = x_182549;
    }
    if (memblock_set(ctx, &mem_out_182547, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183287, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9699(struct futhark_context *ctx, struct memblock *mem_out_p_183288, struct memblock xs_mem_181133, int64_t n_93670, int64_t incr_93671)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181135;
    
    mem_181135.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    int64_t rng_93676 = add64(n_93670, incr_93671);
    bool bounds_invalid_upwards_93680 = slt64(rng_93676, incr_93671);
    bool valid_93685 = !bounds_invalid_upwards_93680;
    bool range_valid_c_93686;
    
    if (!valid_93685) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_93671, "..<", (long long) rng_93676, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181134 = (int64_t) 8 * n_93670;
    
    if (memblock_alloc(ctx, &mem_181135, bytes_181134, "mem_181135")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182548 = 0; i_182548 < n_93670; i_182548++) {
        int64_t x_182549 = incr_93671 + i_182548 * (int64_t) 1;
        
        ((int64_t *) mem_181135.mem)[i_182548] = x_182549;
    }
    if (memblock_set(ctx, &mem_out_182547, &mem_181135, "mem_181135") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183288, &mem_out_182547, "mem_out_182547") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181135, "mem_181135") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182547, "mem_out_182547") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_f_9185(struct futhark_context *ctx, int64_t *out_prim_out_183289, int16_t na_83049, int16_t nb_83050, int16_t nc_83051, int16_t bin_83052, int16_t a_83053, int16_t b_83054, int16_t c_83055, int16_t d_83056)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182547;
    bool bool_arg0_83057 = bin_83052 == (int16_t) 0;
    int16_t bool_res_163412 = btoi_bool_i16(bool_arg0_83057);
    int16_t zp_rhs_83061 = mul16(a_83053, bool_res_163412);
    int16_t zp_lhs_83064 = add16((int16_t) -1, zp_rhs_83061);
    bool bool_arg0_83066 = slt16((int16_t) 0, bin_83052);
    int16_t bool_res_163414 = btoi_bool_i16(bool_arg0_83066);
    int16_t zp_rhs_83070 = mul16(na_83049, bool_res_163414);
    int16_t zp_lhs_83072 = add16(zp_lhs_83064, zp_rhs_83070);
    bool bool_arg0_83074 = bin_83052 == (int16_t) 1;
    int16_t bool_res_163416 = btoi_bool_i16(bool_arg0_83074);
    int16_t zp_rhs_83078 = mul16(b_83054, bool_res_163416);
    int16_t zp_lhs_83080 = add16(zp_lhs_83072, zp_rhs_83078);
    bool bool_arg0_83082 = slt16((int16_t) 1, bin_83052);
    int16_t bool_res_163418 = btoi_bool_i16(bool_arg0_83082);
    int16_t zp_rhs_83086 = mul16(nb_83050, bool_res_163418);
    int16_t zp_lhs_83088 = add16(zp_lhs_83080, zp_rhs_83086);
    bool bool_arg0_83090 = bin_83052 == (int16_t) 2;
    int16_t bool_res_163420 = btoi_bool_i16(bool_arg0_83090);
    int16_t zp_rhs_83094 = mul16(c_83055, bool_res_163420);
    int16_t zp_lhs_83096 = add16(zp_lhs_83088, zp_rhs_83094);
    bool bool_arg0_83098 = slt16((int16_t) 2, bin_83052);
    int16_t bool_res_163422 = btoi_bool_i16(bool_arg0_83098);
    int16_t zp_rhs_83102 = mul16(nc_83051, bool_res_163422);
    int16_t zp_lhs_83104 = add16(zp_lhs_83096, zp_rhs_83102);
    bool bool_arg0_83106 = bin_83052 == (int16_t) 3;
    int16_t bool_res_163424 = btoi_bool_i16(bool_arg0_83106);
    int16_t zp_rhs_83110 = mul16(d_83056, bool_res_163424);
    int16_t i16_arg0_83112 = add16(zp_lhs_83104, zp_rhs_83110);
    int64_t i16_res_163426 = sext_i16_i64(i16_arg0_83112);
    
    prim_out_182547 = i16_res_163426;
    *out_prim_out_183289 = prim_out_182547;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9184(struct futhark_context *ctx, int16_t *out_prim_out_183290, int16_t *out_prim_out_183291, int16_t *out_prim_out_183292, int16_t *out_prim_out_183293, int16_t x_82992)
{
    (void) ctx;
    
    int err = 0;
    int16_t prim_out_182547;
    int16_t prim_out_182548;
    int16_t prim_out_182549;
    int16_t prim_out_182550;
    bool bool_arg0_82993 = x_82992 == (int16_t) 0;
    int16_t bool_res_163412 = btoi_bool_i16(bool_arg0_82993);
    bool bool_arg0_82997 = x_82992 == (int16_t) 1;
    int16_t bool_res_163414 = btoi_bool_i16(bool_arg0_82997);
    bool bool_arg0_83001 = x_82992 == (int16_t) 2;
    int16_t bool_res_163416 = btoi_bool_i16(bool_arg0_83001);
    bool bool_arg0_83005 = x_82992 == (int16_t) 3;
    int16_t bool_res_163418 = btoi_bool_i16(bool_arg0_83005);
    
    prim_out_182547 = bool_res_163412;
    prim_out_182548 = bool_res_163414;
    prim_out_182549 = bool_res_163416;
    prim_out_182550 = bool_res_163418;
    *out_prim_out_183290 = prim_out_182547;
    *out_prim_out_183291 = prim_out_182548;
    *out_prim_out_183292 = prim_out_182549;
    *out_prim_out_183293 = prim_out_182550;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9161(struct futhark_context *ctx, int64_t *out_prim_out_183294, int64_t *out_prim_out_183295, int64_t *out_prim_out_183296, int64_t *out_prim_out_183297, int64_t *out_prim_out_183298, int64_t slo_96643, int64_t shi_96644, int64_t tlo_96645, int64_t thi_96646, int64_t count_96647)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182547;
    int64_t prim_out_182548;
    int64_t prim_out_182549;
    int64_t prim_out_182550;
    int64_t prim_out_182551;
    int64_t min_arg1_96650 = add64(slo_96643, count_96647);
    int64_t min_res_163413 = smin64(shi_96644, min_arg1_96650);
    int64_t min_arg1_96654 = add64(tlo_96645, count_96647);
    int64_t min_res_163416 = smin64(thi_96646, min_arg1_96654);
    int64_t zp_lhs_96658 = sub64(min_res_163413, slo_96643);
    int64_t zp_rhs_96660 = sub64(min_res_163416, tlo_96645);
    int64_t zm_lhs_96662 = add64(zp_lhs_96658, zp_rhs_96660);
    int64_t slack_96664 = sub64(zm_lhs_96662, count_96647);
    int64_t min_res_163419 = smin64(zp_lhs_96658, slack_96664);
    int64_t min_res_163422 = smin64(zp_rhs_96660, min_res_163419);
    int64_t max_arg1_96674 = sub64(min_res_163413, min_res_163422);
    int64_t max_res_163425 = smax64(slo_96643, max_arg1_96674);
    int64_t max_arg1_96678 = sub64(min_res_163416, min_res_163422);
    int64_t max_res_163428 = smax64(tlo_96645, max_arg1_96678);
    int64_t zm_rhs_96682 = sub64(max_res_163425, slo_96643);
    int64_t zm_lhs_96684 = sub64(count_96647, zm_rhs_96682);
    int64_t zm_rhs_96686 = sub64(max_res_163428, tlo_96645);
    int64_t count_96688 = sub64(zm_lhs_96684, zm_rhs_96686);
    
    prim_out_182547 = max_res_163425;
    prim_out_182548 = min_res_163413;
    prim_out_182549 = max_res_163428;
    prim_out_182550 = min_res_163416;
    prim_out_182551 = count_96688;
    *out_prim_out_183294 = prim_out_182547;
    *out_prim_out_183295 = prim_out_182548;
    *out_prim_out_183296 = prim_out_182549;
    *out_prim_out_183297 = prim_out_182550;
    *out_prim_out_183298 = prim_out_182551;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0)
{
    int64_t n_110738 = (int64_t) 0;
    int64_t prim_out_182547 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181133;
    
    ks_mem_181133.references = NULL;
    ks_mem_181133 = in0->mem;
    n_110738 = in0->shape[0];
    if (!(n_110738 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_double(ctx, &prim_out_182547, ks_mem_181133, n_110738);
        if (ret == 0) {
            *out0 = prim_out_182547;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0)
{
    int64_t n_110569 = (int64_t) 0;
    int64_t prim_out_182547 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181133;
    
    ks_mem_181133.references = NULL;
    ks_mem_181133 = in0->mem;
    n_110569 = in0->shape[0];
    if (!(n_110569 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_float(ctx, &prim_out_182547, ks_mem_181133, n_110569);
        if (ret == 0) {
            *out0 = prim_out_182547;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0)
{
    int64_t n_110234 = (int64_t) 0;
    int64_t prim_out_182547 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181133;
    
    ks_mem_181133.references = NULL;
    ks_mem_181133 = in0->mem;
    n_110234 = in0->shape[0];
    if (!(n_110234 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_int(ctx, &prim_out_182547, ks_mem_181133, n_110234);
        if (ret == 0) {
            *out0 = prim_out_182547;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0)
{
    int64_t n_110400 = (int64_t) 0;
    int64_t prim_out_182547 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181133;
    
    ks_mem_181133.references = NULL;
    ks_mem_181133 = in0->mem;
    n_110400 = in0->shape[0];
    if (!(n_110400 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_long(ctx, &prim_out_182547, ks_mem_181133, n_110400);
        if (ret == 0) {
            *out0 = prim_out_182547;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0)
{
    int64_t n_110068 = (int64_t) 0;
    int64_t prim_out_182547 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181133;
    
    ks_mem_181133.references = NULL;
    ks_mem_181133 = in0->mem;
    n_110068 = in0->shape[0];
    if (!(n_110068 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_short(ctx, &prim_out_182547, ks_mem_181133, n_110068);
        if (ret == 0) {
            *out0 = prim_out_182547;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1)
{
    int64_t n_108231 = (int64_t) 0;
    int64_t incr_108232 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_108232 = in0;
    xs_mem_181133 = in1->mem;
    n_108231 = in1->shape[0];
    if (!(n_108231 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_double(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_108231, incr_108232);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_108231;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_108231;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1)
{
    int64_t n_105887 = (int64_t) 0;
    int64_t incr_105888 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_105888 = in0;
    xs_mem_181133 = in1->mem;
    n_105887 = in1->shape[0];
    if (!(n_105887 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_float(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_105887, incr_105888);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_105887;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_105887;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1)
{
    int64_t n_101200 = (int64_t) 0;
    int64_t incr_101201 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_101201 = in0;
    xs_mem_181133 = in1->mem;
    n_101200 = in1->shape[0];
    if (!(n_101200 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_int(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_101200, incr_101201);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_101200;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_101200;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1)
{
    int64_t n_103543 = (int64_t) 0;
    int64_t incr_103544 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_103544 = in0;
    xs_mem_181133 = in1->mem;
    n_103543 = in1->shape[0];
    if (!(n_103543 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_long(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_103543, incr_103544);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_103543;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_103543;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1)
{
    int64_t n_98856 = (int64_t) 0;
    int64_t incr_98857 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_98857 = in0;
    xs_mem_181133 = in1->mem;
    n_98856 = in1->shape[0];
    if (!(n_98856 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_short(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_98856, incr_98857);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_98856;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_98856;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4)
{
    int64_t na_163377 = (int64_t) 0;
    int64_t nb_163378 = (int64_t) 0;
    int64_t window_sizze_163379 = (int64_t) 0;
    int64_t threads_163380 = (int64_t) 0;
    bool inParallel_163383 = 0;
    int64_t prim_out_182550 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock b_list_mem_181134;
    
    b_list_mem_181134.references = NULL;
    
    struct memblock a_list_mem_181133;
    
    a_list_mem_181133.references = NULL;
    window_sizze_163379 = in0;
    threads_163380 = in1;
    a_list_mem_181133 = in2->mem;
    na_163377 = in2->shape[0];
    b_list_mem_181134 = in3->mem;
    nb_163378 = in3->shape[0];
    inParallel_163383 = in4;
    if (!(na_163377 == in2->shape[0] && nb_163378 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_double(ctx, &mem_out_182547, &mem_out_182548, &mem_out_182549, &prim_out_182550, a_list_mem_181133, b_list_mem_181134, na_163377, nb_163378, window_sizze_163379, threads_163380, inParallel_163383);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_double *) malloc(sizeof(struct futhark_opaque_mergeInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = prim_out_182550;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = prim_out_182550;
            assert(((*out0)->v2 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182549;
            (*out0)->v2->shape[0] = prim_out_182550;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4)
{
    int64_t na_152854 = (int64_t) 0;
    int64_t nb_152855 = (int64_t) 0;
    int64_t window_sizze_152856 = (int64_t) 0;
    int64_t threads_152857 = (int64_t) 0;
    bool inParallel_152860 = 0;
    int64_t prim_out_182550 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock b_list_mem_181134;
    
    b_list_mem_181134.references = NULL;
    
    struct memblock a_list_mem_181133;
    
    a_list_mem_181133.references = NULL;
    window_sizze_152856 = in0;
    threads_152857 = in1;
    a_list_mem_181133 = in2->mem;
    na_152854 = in2->shape[0];
    b_list_mem_181134 = in3->mem;
    nb_152855 = in3->shape[0];
    inParallel_152860 = in4;
    if (!(na_152854 == in2->shape[0] && nb_152855 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_float(ctx, &mem_out_182547, &mem_out_182548, &mem_out_182549, &prim_out_182550, a_list_mem_181133, b_list_mem_181134, na_152854, nb_152855, window_sizze_152856, threads_152857, inParallel_152860);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_float *) malloc(sizeof(struct futhark_opaque_mergeInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = prim_out_182550;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = prim_out_182550;
            assert(((*out0)->v2 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182549;
            (*out0)->v2->shape[0] = prim_out_182550;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4)
{
    int64_t na_131808 = (int64_t) 0;
    int64_t nb_131809 = (int64_t) 0;
    int64_t window_sizze_131810 = (int64_t) 0;
    int64_t threads_131811 = (int64_t) 0;
    bool inParallel_131814 = 0;
    int64_t prim_out_182550 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock b_list_mem_181134;
    
    b_list_mem_181134.references = NULL;
    
    struct memblock a_list_mem_181133;
    
    a_list_mem_181133.references = NULL;
    window_sizze_131810 = in0;
    threads_131811 = in1;
    a_list_mem_181133 = in2->mem;
    na_131808 = in2->shape[0];
    b_list_mem_181134 = in3->mem;
    nb_131809 = in3->shape[0];
    inParallel_131814 = in4;
    if (!(na_131808 == in2->shape[0] && nb_131809 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_int(ctx, &mem_out_182547, &mem_out_182548, &mem_out_182549, &prim_out_182550, a_list_mem_181133, b_list_mem_181134, na_131808, nb_131809, window_sizze_131810, threads_131811, inParallel_131814);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_int *) malloc(sizeof(struct futhark_opaque_mergeInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = prim_out_182550;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = prim_out_182550;
            assert(((*out0)->v2 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182549;
            (*out0)->v2->shape[0] = prim_out_182550;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4)
{
    int64_t na_142331 = (int64_t) 0;
    int64_t nb_142332 = (int64_t) 0;
    int64_t window_sizze_142333 = (int64_t) 0;
    int64_t threads_142334 = (int64_t) 0;
    bool inParallel_142337 = 0;
    int64_t prim_out_182550 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock b_list_mem_181134;
    
    b_list_mem_181134.references = NULL;
    
    struct memblock a_list_mem_181133;
    
    a_list_mem_181133.references = NULL;
    window_sizze_142333 = in0;
    threads_142334 = in1;
    a_list_mem_181133 = in2->mem;
    na_142331 = in2->shape[0];
    b_list_mem_181134 = in3->mem;
    nb_142332 = in3->shape[0];
    inParallel_142337 = in4;
    if (!(na_142331 == in2->shape[0] && nb_142332 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_long(ctx, &mem_out_182547, &mem_out_182548, &mem_out_182549, &prim_out_182550, a_list_mem_181133, b_list_mem_181134, na_142331, nb_142332, window_sizze_142333, threads_142334, inParallel_142337);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_long *) malloc(sizeof(struct futhark_opaque_mergeInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = prim_out_182550;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = prim_out_182550;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182549;
            (*out0)->v2->shape[0] = prim_out_182550;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4)
{
    int64_t na_121285 = (int64_t) 0;
    int64_t nb_121286 = (int64_t) 0;
    int64_t window_sizze_121287 = (int64_t) 0;
    int64_t threads_121288 = (int64_t) 0;
    bool inParallel_121291 = 0;
    int64_t prim_out_182550 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182549;
    
    mem_out_182549.references = NULL;
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock b_list_mem_181134;
    
    b_list_mem_181134.references = NULL;
    
    struct memblock a_list_mem_181133;
    
    a_list_mem_181133.references = NULL;
    window_sizze_121287 = in0;
    threads_121288 = in1;
    a_list_mem_181133 = in2->mem;
    na_121285 = in2->shape[0];
    b_list_mem_181134 = in3->mem;
    nb_121286 = in3->shape[0];
    inParallel_121291 = in4;
    if (!(na_121285 == in2->shape[0] && nb_121286 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_short(ctx, &mem_out_182547, &mem_out_182548, &mem_out_182549, &prim_out_182550, a_list_mem_181133, b_list_mem_181134, na_121285, nb_121286, window_sizze_121287, threads_121288, inParallel_121291);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_short *) malloc(sizeof(struct futhark_opaque_mergeInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = prim_out_182550;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = prim_out_182550;
            assert(((*out0)->v2 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182549;
            (*out0)->v2->shape[0] = prim_out_182550;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3)
{
    int64_t n_109899 = (int64_t) 0;
    int64_t incr_109900 = (int64_t) 0;
    int64_t block_sizze_109901 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock ys_mem_181134;
    
    ys_mem_181134.references = NULL;
    
    struct memblock is_mem_181133;
    
    is_mem_181133.references = NULL;
    incr_109900 = in0;
    block_sizze_109901 = in1;
    is_mem_181133 = in2->mem;
    n_109899 = in2->shape[0];
    ys_mem_181134 = in3->mem;
    n_109899 = in3->shape[0];
    if (!(n_109899 == in2->shape[0] && n_109899 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_double(ctx, &mem_out_182547, is_mem_181133, ys_mem_181134, n_109899, incr_109900, block_sizze_109901);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->mem = mem_out_182547;
            (*out0)->shape[0] = n_109899;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3)
{
    int64_t n_109565 = (int64_t) 0;
    int64_t incr_109566 = (int64_t) 0;
    int64_t block_sizze_109567 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock ys_mem_181134;
    
    ys_mem_181134.references = NULL;
    
    struct memblock is_mem_181133;
    
    is_mem_181133.references = NULL;
    incr_109566 = in0;
    block_sizze_109567 = in1;
    is_mem_181133 = in2->mem;
    n_109565 = in2->shape[0];
    ys_mem_181134 = in3->mem;
    n_109565 = in3->shape[0];
    if (!(n_109565 == in2->shape[0] && n_109565 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_float(ctx, &mem_out_182547, is_mem_181133, ys_mem_181134, n_109565, incr_109566, block_sizze_109567);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->mem = mem_out_182547;
            (*out0)->shape[0] = n_109565;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3)
{
    int64_t n_108901 = (int64_t) 0;
    int64_t incr_108902 = (int64_t) 0;
    int64_t block_sizze_108903 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock ys_mem_181134;
    
    ys_mem_181134.references = NULL;
    
    struct memblock is_mem_181133;
    
    is_mem_181133.references = NULL;
    incr_108902 = in0;
    block_sizze_108903 = in1;
    is_mem_181133 = in2->mem;
    n_108901 = in2->shape[0];
    ys_mem_181134 = in3->mem;
    n_108901 = in3->shape[0];
    if (!(n_108901 == in2->shape[0] && n_108901 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_int(ctx, &mem_out_182547, is_mem_181133, ys_mem_181134, n_108901, incr_108902, block_sizze_108903);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->mem = mem_out_182547;
            (*out0)->shape[0] = n_108901;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t n_109231 = (int64_t) 0;
    int64_t incr_109232 = (int64_t) 0;
    int64_t block_sizze_109233 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock ys_mem_181134;
    
    ys_mem_181134.references = NULL;
    
    struct memblock is_mem_181133;
    
    is_mem_181133.references = NULL;
    incr_109232 = in0;
    block_sizze_109233 = in1;
    is_mem_181133 = in2->mem;
    n_109231 = in2->shape[0];
    ys_mem_181134 = in3->mem;
    n_109231 = in3->shape[0];
    if (!(n_109231 == in2->shape[0] && n_109231 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_long(ctx, &mem_out_182547, is_mem_181133, ys_mem_181134, n_109231, incr_109232, block_sizze_109233);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->mem = mem_out_182547;
            (*out0)->shape[0] = n_109231;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3)
{
    int64_t n_108567 = (int64_t) 0;
    int64_t incr_108568 = (int64_t) 0;
    int64_t block_sizze_108569 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock ys_mem_181134;
    
    ys_mem_181134.references = NULL;
    
    struct memblock is_mem_181133;
    
    is_mem_181133.references = NULL;
    incr_108568 = in0;
    block_sizze_108569 = in1;
    is_mem_181133 = in2->mem;
    n_108567 = in2->shape[0];
    ys_mem_181134 = in3->mem;
    n_108567 = in3->shape[0];
    if (!(n_108567 == in2->shape[0] && n_108567 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_short(ctx, &mem_out_182547, is_mem_181133, ys_mem_181134, n_108567, incr_108568, block_sizze_108569);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->mem = mem_out_182547;
            (*out0)->shape[0] = n_108567;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2)
{
    int64_t n_96400 = (int64_t) 0;
    int64_t incr_96401 = (int64_t) 0;
    int16_t block_sizze_96402 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_96401 = in0;
    block_sizze_96402 = in1;
    xs_mem_181133 = in2->mem;
    n_96400 = in2->shape[0];
    if (!(n_96400 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_double(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_96400, incr_96401, block_sizze_96402);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_96400;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_96400;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2)
{
    int64_t n_93645 = (int64_t) 0;
    int64_t incr_93646 = (int64_t) 0;
    int16_t block_sizze_93647 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_93646 = in0;
    block_sizze_93647 = in1;
    xs_mem_181133 = in2->mem;
    n_93645 = in2->shape[0];
    if (!(n_93645 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_float(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_93645, incr_93646, block_sizze_93647);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_93645;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_93645;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2)
{
    int64_t n_88294 = (int64_t) 0;
    int64_t incr_88295 = (int64_t) 0;
    int16_t block_sizze_88296 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_88295 = in0;
    block_sizze_88296 = in1;
    xs_mem_181133 = in2->mem;
    n_88294 = in2->shape[0];
    if (!(n_88294 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_int(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_88294, incr_88295, block_sizze_88296);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_88294;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_88294;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2)
{
    int64_t n_90894 = (int64_t) 0;
    int64_t incr_90895 = (int64_t) 0;
    int16_t block_sizze_90896 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_90895 = in0;
    block_sizze_90896 = in1;
    xs_mem_181133 = in2->mem;
    n_90894 = in2->shape[0];
    if (!(n_90894 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_long(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_90894, incr_90895, block_sizze_90896);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_90894;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_90894;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2)
{
    int64_t n_85677 = (int64_t) 0;
    int64_t incr_85678 = (int64_t) 0;
    int16_t block_sizze_85679 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182548;
    
    mem_out_182548.references = NULL;
    
    struct memblock mem_out_182547;
    
    mem_out_182547.references = NULL;
    
    struct memblock xs_mem_181133;
    
    xs_mem_181133.references = NULL;
    incr_85678 = in0;
    block_sizze_85679 = in1;
    xs_mem_181133 = in2->mem;
    n_85677 = in2->shape[0];
    if (!(n_85677 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_short(ctx, &mem_out_182547, &mem_out_182548, xs_mem_181133, n_85677, incr_85678, block_sizze_85679);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182547;
            (*out0)->v0->shape[0] = n_85677;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182548;
            (*out0)->v1->shape[0] = n_85677;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
