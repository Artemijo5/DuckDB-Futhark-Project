// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#include <cuda.h>
#include <cuda_runtime.h>
#include <nvrtc.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_default_thread_block_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_grid_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_registers(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_cache(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_unified_memory(struct futhark_context_config *cfg, int flag);
void futhark_context_config_add_nvrtc_option(struct futhark_context_config *cfg, const char *opt);
void futhark_context_config_set_device(struct futhark_context_config *cfg, const char *s);
const char *futhark_context_config_get_program(struct futhark_context_config *cfg);
void futhark_context_config_set_program(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_dump_ptx_to(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_load_ptx_from(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_bool_1d;
struct futhark_bool_1d *futhark_new_bool_1d(struct futhark_context *ctx, const bool *data, int64_t dim0);
struct futhark_bool_1d *futhark_new_raw_bool_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
int futhark_values_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr, bool *data);
int futhark_index_bool_1d(struct futhark_context *ctx, bool *out, struct futhark_bool_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
const int64_t *futhark_shape_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_f64_2d;
struct futhark_f64_2d *futhark_new_f64_2d(struct futhark_context *ctx, const double *data, int64_t dim0, int64_t dim1);
struct futhark_f64_2d *futhark_new_raw_f64_2d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0, int64_t dim1);
int futhark_free_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
int futhark_values_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr, double *data);
int futhark_index_f64_2d(struct futhark_context *ctx, double *out, struct futhark_f64_2d *arr, int64_t i0, int64_t i1);
CUdeviceptr futhark_values_raw_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
const int64_t *futhark_shape_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
CUdeviceptr futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);

// Opaque values
struct futhark_opaque_tup2_arr1d_f64_i64;
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64;
struct futhark_opaque_skylineBase_double;
struct futhark_opaque_skylineInfo_GFUR_double;
int futhark_free_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_store_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj, void **p, size_t *n);
struct futhark_opaque_tup2_arr1d_f64_i64 *futhark_restore_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_project_opaque_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj);
int futhark_new_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, const struct futhark_f64_1d *f_0, const int64_t f_1);
int futhark_free_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_store_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj, void **p, size_t *n);
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *futhark_restore_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj);
int futhark_zip_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_f64_2d *f_0, const struct futhark_i64_1d *f_1);
int futhark_index_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr, int64_t i0);
const int64_t *futhark_shape_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr);
int futhark_free_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double *obj);
int futhark_store_opaque_skylineBase_double(struct futhark_context *ctx, const struct futhark_opaque_skylineBase_double *obj, void **p, size_t *n);
struct futhark_opaque_skylineBase_double *futhark_restore_opaque_skylineBase_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_skylineBase_double_angle_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_angle_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_part_size_per_dim(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_grid_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_start_of_grid_partition(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_angle_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_grid_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_project_opaque_skylineBase_double_total_part_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj);
int futhark_new_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out, const struct futhark_i64_1d *f_angle_part_prefix_sum, const struct futhark_i64_1d *f_angle_partitions_per_dim, const struct futhark_i64_1d *f_grid_part_prefix_sum, const struct futhark_f64_1d *f_grid_part_sizze_per_dim, const struct futhark_i64_1d *f_grid_partitions_per_dim, const struct futhark_f64_2d *f_start_of_grid_partition, const int64_t f_total_angle_no, const int64_t f_total_grid_no, const int64_t f_total_part_no);
int futhark_free_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_store_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const struct futhark_opaque_skylineInfo_GFUR_double *obj, void **p, size_t *n);
struct futhark_opaque_skylineInfo_GFUR_double *futhark_restore_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_skylineInfo_GFUR_double_isPartitionDominated(struct futhark_context *ctx, struct futhark_bool_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_project_opaque_skylineInfo_GFUR_double_part_idx(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_project_opaque_skylineInfo_GFUR_double_xys(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj);
int futhark_new_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out, const struct futhark_bool_1d *f_isPartitionDominated, const struct futhark_i64_1d *f_part_idx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *f_xys);

// Entry points
int futhark_entry_calc_global_Skyline_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_opaque_skylineInfo_GFUR_double *in1);
int futhark_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_opaque_skylineInfo_GFUR_double *in1);
int futhark_entry_define_skyline_space_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out0, const struct futhark_f64_1d *in0, const struct futhark_f64_1d *in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_f64_2d *in1, const bool in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_cuda
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>


#include <cuda.h>
#include <cuda_runtime.h>
#include <nvrtc.h>


#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock_device {
    int *references;
    CUdeviceptr mem;
    int64_t size;
    const char *desc;
};
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
    struct memblock_device counters_mem_96099;
    struct memblock_device counters_mem_96246;
    struct memblock_device counters_mem_96384;
    struct memblock_device counters_mem_96583;
    struct memblock_device counters_mem_96823;
    struct memblock_device counters_mem_97202;
    struct memblock_device counters_mem_97519;
    struct memblock_device counters_mem_98354;
    struct memblock_device counters_mem_98393;
    struct memblock_device counters_mem_99051;
    struct memblock_device global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101;
};
struct tuning_params {
    int dummy;
    int64_t *builtinzhiota_i64zitblock_sizze_96107;
    int64_t *builtinzhreplicate_boolzitblock_sizze_96203;
    int64_t *builtinzhreplicate_f64zitblock_sizze_96224;
    int64_t *builtinzhreplicate_i32zitblock_sizze_96182;
    int64_t *builtinzhreplicate_i64zitblock_sizze_96130;
    int64_t *builtinzhreplicate_i8zitblock_sizze_98769;
    int64_t *calc_global_Skyline_GFUR_doublezihist_L2_96762;
    int64_t *calc_global_Skyline_GFUR_doublezihist_L_96709;
    int64_t *calc_global_Skyline_GFUR_doubleziseghist_num_tblocks_76543;
    int64_t *calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_74797;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_74988;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75102;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75450;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75606;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75664;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74625;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74795;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74804;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74818;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74830;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74922;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74950;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74986;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75017;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75100;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75146;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75172;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75242;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75271;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75448;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75477;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75604;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75630;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75662;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75688;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75742;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75775;
    int64_t *calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_76571;
    int64_t *calc_global_Skyline_GFUR_doublezisegscan_num_tblocks_74787;
    int64_t *calc_global_Skyline_GFUR_doublezisegscan_num_tblocks_76563;
    int64_t *calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_74785;
    int64_t *calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_76561;
    int64_t *calc_global_Skyline_GFUR_doublezisuff_intra_par_0;
    int64_t *calc_global_Skyline_GFUR_doublezisuff_intra_par_1;
    int64_t *calc_global_Skyline_GFUR_doublezitblock_sizze_96454;
    int64_t *calc_global_Skyline_GFUR_doublezitblock_sizze_96498;
    int64_t *calc_global_Skyline_GFUR_doublezitblock_sizze_96542;
    int64_t *calc_global_Skyline_GFUR_doublezitblock_sizze_96620;
    int64_t *calc_local_Skyline_GFUR_doublezihist_L2_97141;
    int64_t *calc_local_Skyline_GFUR_doublezihist_L_97088;
    int64_t *calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_74571;
    int64_t *calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_70960;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71074;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71422;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71578;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71699;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_72825;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73016;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73130;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73478;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73634;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73692;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70807;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70922;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70958;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70989;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71072;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71118;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71144;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71214;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71243;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71420;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71449;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71576;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71602;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71697;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71723;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71745;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71778;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72823;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72832;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72846;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72858;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72950;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72978;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73014;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73045;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73128;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73174;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73200;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73270;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73299;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73476;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73505;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73632;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73658;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73690;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73716;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73770;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73803;
    int64_t *calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74599;
    int64_t *calc_local_Skyline_GFUR_doublezisegred_num_tblocks_70748;
    int64_t *calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_70746;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_72815;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_74591;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_72813;
    int64_t *calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_74589;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_0;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_1;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_2;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_3;
    int64_t *calc_local_Skyline_GFUR_doublezisuff_intra_par_4;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96309;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96353;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96397;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96498;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96832;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96876;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96920;
    int64_t *calc_local_Skyline_GFUR_doublezitblock_sizze_96998;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_70593;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_70619;
    int64_t *define_skyline_space_doublezisegmap_tblock_sizze_70655;
    int64_t *define_skyline_space_doublezisegred_num_tblocks_70563;
    int64_t *define_skyline_space_doublezisegred_num_tblocks_70583;
    int64_t *define_skyline_space_doublezisegred_tblock_sizze_70561;
    int64_t *define_skyline_space_doublezisegred_tblock_sizze_70581;
    int64_t *define_skyline_space_doublezisegscan_num_tblocks_70555;
    int64_t *define_skyline_space_doublezisegscan_num_tblocks_70575;
    int64_t *define_skyline_space_doublezisegscan_tblock_sizze_70553;
    int64_t *define_skyline_space_doublezisegscan_tblock_sizze_70573;
    int64_t *sort_for_Skyline_doublezihist_L2_98283;
    int64_t *sort_for_Skyline_doublezihist_L2_98990;
    int64_t *sort_for_Skyline_doublezihist_L_98220;
    int64_t *sort_for_Skyline_doublezihist_L_98937;
    int64_t *sort_for_Skyline_doubleziseghist_num_tblocks_88711;
    int64_t *sort_for_Skyline_doubleziseghist_num_tblocks_91213;
    int64_t *sort_for_Skyline_doubleziseghist_tblock_sizze_88709;
    int64_t *sort_for_Skyline_doubleziseghist_tblock_sizze_91211;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_76711;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_76825;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_77173;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_77329;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_77387;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_78356;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_78520;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_79600;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_80590;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_80683;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_82393;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_82554;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_82902;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_83058;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_83116;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_84143;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_84358;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_85633;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_86775;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_86887;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_89096;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_89210;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_89558;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_89714;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_89772;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_91187;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_91197;
    int64_t *sort_for_Skyline_doublezisegmap_num_tblocks_91207;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76645;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76673;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76709;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76740;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76823;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76869;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76895;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76965;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_76994;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77171;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77200;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77327;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77353;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77385;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77411;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77465;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_77498;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_78354;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_78518;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79598;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79694;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79709;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79722;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79767;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79782;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_79795;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_80588;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_80681;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_80929;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_81464;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82327;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82355;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82391;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82422;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82477;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82502;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82552;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82598;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82624;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82694;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82723;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82900;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_82929;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_83056;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_83082;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_83114;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_83140;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_83194;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_83227;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_84141;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_84356;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85631;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85749;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85764;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85777;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85825;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85840;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_85853;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_86773;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_86885;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_87159;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_87778;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89022;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89058;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89094;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89125;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89208;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89254;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89280;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89350;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89379;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89556;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89585;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89712;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89738;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89770;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89796;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89850;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_89883;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_91152;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_91185;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_91195;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_91205;
    int64_t *sort_for_Skyline_doublezisegmap_tblock_sizze_91236;
    int64_t *sort_for_Skyline_doublezisegred_num_tblocks_78266;
    int64_t *sort_for_Skyline_doublezisegred_num_tblocks_84023;
    int64_t *sort_for_Skyline_doublezisegred_num_tblocks_88794;
    int64_t *sort_for_Skyline_doublezisegred_tblock_sizze_78264;
    int64_t *sort_for_Skyline_doublezisegred_tblock_sizze_84021;
    int64_t *sort_for_Skyline_doublezisegred_tblock_sizze_88792;
    int64_t *sort_for_Skyline_doublezisegscan_num_tblocks_90660;
    int64_t *sort_for_Skyline_doublezisegscan_num_tblocks_91228;
    int64_t *sort_for_Skyline_doublezisegscan_tblock_sizze_90658;
    int64_t *sort_for_Skyline_doublezisegscan_tblock_sizze_91226;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_0;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_1;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_10;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_2;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_3;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_4;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_5;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_6;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_7;
    int64_t *sort_for_Skyline_doublezisuff_intra_par_9;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96338;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96381;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96425;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96503;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96891;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96911;
    int64_t *sort_for_Skyline_doublezitblock_sizze_96931;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97089;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97112;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97135;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97253;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97296;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97340;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97418;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97866;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97886;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97906;
    int64_t *sort_for_Skyline_doublezitblock_sizze_97926;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98099;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98122;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98145;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98168;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98507;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98550;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98594;
    int64_t *sort_for_Skyline_doublezitblock_sizze_98672;
};
static const int num_tuning_params = 299;
static const char *tuning_param_names[] = {"builtin#iota_i64.tblock_size_96107", "builtin#replicate_bool.tblock_size_96203", "builtin#replicate_f64.tblock_size_96224", "builtin#replicate_i32.tblock_size_96182", "builtin#replicate_i64.tblock_size_96130", "builtin#replicate_i8.tblock_size_98769", "calc_global_Skyline_GFUR_double.hist_L2_96762", "calc_global_Skyline_GFUR_double.hist_L_96709", "calc_global_Skyline_GFUR_double.seghist_num_tblocks_76543", "calc_global_Skyline_GFUR_double.seghist_tblock_size_76541", "calc_global_Skyline_GFUR_double.segmap_num_tblocks_74797", "calc_global_Skyline_GFUR_double.segmap_num_tblocks_74988", "calc_global_Skyline_GFUR_double.segmap_num_tblocks_75102", "calc_global_Skyline_GFUR_double.segmap_num_tblocks_75450", "calc_global_Skyline_GFUR_double.segmap_num_tblocks_75606", "calc_global_Skyline_GFUR_double.segmap_num_tblocks_75664", "calc_global_Skyline_GFUR_double.segmap_tblock_size_74625", "calc_global_Skyline_GFUR_double.segmap_tblock_size_74795", "calc_global_Skyline_GFUR_double.segmap_tblock_size_74804", "calc_global_Skyline_GFUR_double.segmap_tblock_size_74818", "calc_global_Skyline_GFUR_double.segmap_tblock_size_74830", "calc_global_Skyline_GFUR_double.segmap_tblock_size_74922", "calc_global_Skyline_GFUR_double.segmap_tblock_size_74950", "calc_global_Skyline_GFUR_double.segmap_tblock_size_74986", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75017", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75100", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75146", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75172", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75242", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75271", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75448", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75477", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75604", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75630", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75662", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75688", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75742", "calc_global_Skyline_GFUR_double.segmap_tblock_size_75775", "calc_global_Skyline_GFUR_double.segmap_tblock_size_76571", "calc_global_Skyline_GFUR_double.segscan_num_tblocks_74787", "calc_global_Skyline_GFUR_double.segscan_num_tblocks_76563", "calc_global_Skyline_GFUR_double.segscan_tblock_size_74785", "calc_global_Skyline_GFUR_double.segscan_tblock_size_76561", "calc_global_Skyline_GFUR_double.suff_intra_par_0", "calc_global_Skyline_GFUR_double.suff_intra_par_1", "calc_global_Skyline_GFUR_double.tblock_size_96454", "calc_global_Skyline_GFUR_double.tblock_size_96498", "calc_global_Skyline_GFUR_double.tblock_size_96542", "calc_global_Skyline_GFUR_double.tblock_size_96620", "calc_local_Skyline_GFUR_double.hist_L2_97141", "calc_local_Skyline_GFUR_double.hist_L_97088", "calc_local_Skyline_GFUR_double.seghist_num_tblocks_74571", "calc_local_Skyline_GFUR_double.seghist_tblock_size_74569", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_70960", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_71074", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_71422", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_71578", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_71699", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_72825", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_73016", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_73130", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_73478", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_73634", "calc_local_Skyline_GFUR_double.segmap_num_tblocks_73692", "calc_local_Skyline_GFUR_double.segmap_tblock_size_70807", "calc_local_Skyline_GFUR_double.segmap_tblock_size_70922", "calc_local_Skyline_GFUR_double.segmap_tblock_size_70958", "calc_local_Skyline_GFUR_double.segmap_tblock_size_70989", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71072", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71118", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71144", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71214", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71243", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71420", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71449", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71576", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71602", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71697", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71723", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71745", "calc_local_Skyline_GFUR_double.segmap_tblock_size_71778", "calc_local_Skyline_GFUR_double.segmap_tblock_size_72823", "calc_local_Skyline_GFUR_double.segmap_tblock_size_72832", "calc_local_Skyline_GFUR_double.segmap_tblock_size_72846", "calc_local_Skyline_GFUR_double.segmap_tblock_size_72858", "calc_local_Skyline_GFUR_double.segmap_tblock_size_72950", "calc_local_Skyline_GFUR_double.segmap_tblock_size_72978", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73014", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73045", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73128", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73174", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73200", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73270", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73299", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73476", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73505", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73632", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73658", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73690", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73716", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73770", "calc_local_Skyline_GFUR_double.segmap_tblock_size_73803", "calc_local_Skyline_GFUR_double.segmap_tblock_size_74599", "calc_local_Skyline_GFUR_double.segred_num_tblocks_70748", "calc_local_Skyline_GFUR_double.segred_tblock_size_70746", "calc_local_Skyline_GFUR_double.segscan_num_tblocks_72815", "calc_local_Skyline_GFUR_double.segscan_num_tblocks_74591", "calc_local_Skyline_GFUR_double.segscan_tblock_size_72813", "calc_local_Skyline_GFUR_double.segscan_tblock_size_74589", "calc_local_Skyline_GFUR_double.suff_intra_par_0", "calc_local_Skyline_GFUR_double.suff_intra_par_1", "calc_local_Skyline_GFUR_double.suff_intra_par_2", "calc_local_Skyline_GFUR_double.suff_intra_par_3", "calc_local_Skyline_GFUR_double.suff_intra_par_4", "calc_local_Skyline_GFUR_double.tblock_size_96309", "calc_local_Skyline_GFUR_double.tblock_size_96353", "calc_local_Skyline_GFUR_double.tblock_size_96397", "calc_local_Skyline_GFUR_double.tblock_size_96498", "calc_local_Skyline_GFUR_double.tblock_size_96832", "calc_local_Skyline_GFUR_double.tblock_size_96876", "calc_local_Skyline_GFUR_double.tblock_size_96920", "calc_local_Skyline_GFUR_double.tblock_size_96998", "define_skyline_space_double.segmap_tblock_size_70593", "define_skyline_space_double.segmap_tblock_size_70619", "define_skyline_space_double.segmap_tblock_size_70655", "define_skyline_space_double.segred_num_tblocks_70563", "define_skyline_space_double.segred_num_tblocks_70583", "define_skyline_space_double.segred_tblock_size_70561", "define_skyline_space_double.segred_tblock_size_70581", "define_skyline_space_double.segscan_num_tblocks_70555", "define_skyline_space_double.segscan_num_tblocks_70575", "define_skyline_space_double.segscan_tblock_size_70553", "define_skyline_space_double.segscan_tblock_size_70573", "sort_for_Skyline_double.hist_L2_98283", "sort_for_Skyline_double.hist_L2_98990", "sort_for_Skyline_double.hist_L_98220", "sort_for_Skyline_double.hist_L_98937", "sort_for_Skyline_double.seghist_num_tblocks_88711", "sort_for_Skyline_double.seghist_num_tblocks_91213", "sort_for_Skyline_double.seghist_tblock_size_88709",
                                           "sort_for_Skyline_double.seghist_tblock_size_91211", "sort_for_Skyline_double.segmap_num_tblocks_76711", "sort_for_Skyline_double.segmap_num_tblocks_76825", "sort_for_Skyline_double.segmap_num_tblocks_77173", "sort_for_Skyline_double.segmap_num_tblocks_77329", "sort_for_Skyline_double.segmap_num_tblocks_77387", "sort_for_Skyline_double.segmap_num_tblocks_78356", "sort_for_Skyline_double.segmap_num_tblocks_78520", "sort_for_Skyline_double.segmap_num_tblocks_79600", "sort_for_Skyline_double.segmap_num_tblocks_80590", "sort_for_Skyline_double.segmap_num_tblocks_80683", "sort_for_Skyline_double.segmap_num_tblocks_82393", "sort_for_Skyline_double.segmap_num_tblocks_82554", "sort_for_Skyline_double.segmap_num_tblocks_82902", "sort_for_Skyline_double.segmap_num_tblocks_83058", "sort_for_Skyline_double.segmap_num_tblocks_83116", "sort_for_Skyline_double.segmap_num_tblocks_84143", "sort_for_Skyline_double.segmap_num_tblocks_84358", "sort_for_Skyline_double.segmap_num_tblocks_85633", "sort_for_Skyline_double.segmap_num_tblocks_86775", "sort_for_Skyline_double.segmap_num_tblocks_86887", "sort_for_Skyline_double.segmap_num_tblocks_89096", "sort_for_Skyline_double.segmap_num_tblocks_89210", "sort_for_Skyline_double.segmap_num_tblocks_89558", "sort_for_Skyline_double.segmap_num_tblocks_89714", "sort_for_Skyline_double.segmap_num_tblocks_89772", "sort_for_Skyline_double.segmap_num_tblocks_91187", "sort_for_Skyline_double.segmap_num_tblocks_91197", "sort_for_Skyline_double.segmap_num_tblocks_91207", "sort_for_Skyline_double.segmap_tblock_size_76645", "sort_for_Skyline_double.segmap_tblock_size_76673", "sort_for_Skyline_double.segmap_tblock_size_76709", "sort_for_Skyline_double.segmap_tblock_size_76740", "sort_for_Skyline_double.segmap_tblock_size_76823", "sort_for_Skyline_double.segmap_tblock_size_76869", "sort_for_Skyline_double.segmap_tblock_size_76895", "sort_for_Skyline_double.segmap_tblock_size_76965", "sort_for_Skyline_double.segmap_tblock_size_76994", "sort_for_Skyline_double.segmap_tblock_size_77171", "sort_for_Skyline_double.segmap_tblock_size_77200", "sort_for_Skyline_double.segmap_tblock_size_77327", "sort_for_Skyline_double.segmap_tblock_size_77353", "sort_for_Skyline_double.segmap_tblock_size_77385", "sort_for_Skyline_double.segmap_tblock_size_77411", "sort_for_Skyline_double.segmap_tblock_size_77465", "sort_for_Skyline_double.segmap_tblock_size_77498", "sort_for_Skyline_double.segmap_tblock_size_78354", "sort_for_Skyline_double.segmap_tblock_size_78518", "sort_for_Skyline_double.segmap_tblock_size_79598", "sort_for_Skyline_double.segmap_tblock_size_79694", "sort_for_Skyline_double.segmap_tblock_size_79709", "sort_for_Skyline_double.segmap_tblock_size_79722", "sort_for_Skyline_double.segmap_tblock_size_79767", "sort_for_Skyline_double.segmap_tblock_size_79782", "sort_for_Skyline_double.segmap_tblock_size_79795", "sort_for_Skyline_double.segmap_tblock_size_80588", "sort_for_Skyline_double.segmap_tblock_size_80681", "sort_for_Skyline_double.segmap_tblock_size_80929", "sort_for_Skyline_double.segmap_tblock_size_81464", "sort_for_Skyline_double.segmap_tblock_size_82327", "sort_for_Skyline_double.segmap_tblock_size_82355", "sort_for_Skyline_double.segmap_tblock_size_82391", "sort_for_Skyline_double.segmap_tblock_size_82422", "sort_for_Skyline_double.segmap_tblock_size_82477", "sort_for_Skyline_double.segmap_tblock_size_82502", "sort_for_Skyline_double.segmap_tblock_size_82552", "sort_for_Skyline_double.segmap_tblock_size_82598", "sort_for_Skyline_double.segmap_tblock_size_82624", "sort_for_Skyline_double.segmap_tblock_size_82694", "sort_for_Skyline_double.segmap_tblock_size_82723", "sort_for_Skyline_double.segmap_tblock_size_82900", "sort_for_Skyline_double.segmap_tblock_size_82929", "sort_for_Skyline_double.segmap_tblock_size_83056", "sort_for_Skyline_double.segmap_tblock_size_83082", "sort_for_Skyline_double.segmap_tblock_size_83114", "sort_for_Skyline_double.segmap_tblock_size_83140", "sort_for_Skyline_double.segmap_tblock_size_83194", "sort_for_Skyline_double.segmap_tblock_size_83227", "sort_for_Skyline_double.segmap_tblock_size_84141", "sort_for_Skyline_double.segmap_tblock_size_84356", "sort_for_Skyline_double.segmap_tblock_size_85631", "sort_for_Skyline_double.segmap_tblock_size_85749", "sort_for_Skyline_double.segmap_tblock_size_85764", "sort_for_Skyline_double.segmap_tblock_size_85777", "sort_for_Skyline_double.segmap_tblock_size_85825", "sort_for_Skyline_double.segmap_tblock_size_85840", "sort_for_Skyline_double.segmap_tblock_size_85853", "sort_for_Skyline_double.segmap_tblock_size_86773", "sort_for_Skyline_double.segmap_tblock_size_86885", "sort_for_Skyline_double.segmap_tblock_size_87159", "sort_for_Skyline_double.segmap_tblock_size_87778", "sort_for_Skyline_double.segmap_tblock_size_89022", "sort_for_Skyline_double.segmap_tblock_size_89058", "sort_for_Skyline_double.segmap_tblock_size_89094", "sort_for_Skyline_double.segmap_tblock_size_89125", "sort_for_Skyline_double.segmap_tblock_size_89208", "sort_for_Skyline_double.segmap_tblock_size_89254", "sort_for_Skyline_double.segmap_tblock_size_89280", "sort_for_Skyline_double.segmap_tblock_size_89350", "sort_for_Skyline_double.segmap_tblock_size_89379", "sort_for_Skyline_double.segmap_tblock_size_89556", "sort_for_Skyline_double.segmap_tblock_size_89585", "sort_for_Skyline_double.segmap_tblock_size_89712", "sort_for_Skyline_double.segmap_tblock_size_89738", "sort_for_Skyline_double.segmap_tblock_size_89770", "sort_for_Skyline_double.segmap_tblock_size_89796", "sort_for_Skyline_double.segmap_tblock_size_89850", "sort_for_Skyline_double.segmap_tblock_size_89883", "sort_for_Skyline_double.segmap_tblock_size_91152", "sort_for_Skyline_double.segmap_tblock_size_91185", "sort_for_Skyline_double.segmap_tblock_size_91195", "sort_for_Skyline_double.segmap_tblock_size_91205", "sort_for_Skyline_double.segmap_tblock_size_91236", "sort_for_Skyline_double.segred_num_tblocks_78266", "sort_for_Skyline_double.segred_num_tblocks_84023", "sort_for_Skyline_double.segred_num_tblocks_88794", "sort_for_Skyline_double.segred_tblock_size_78264", "sort_for_Skyline_double.segred_tblock_size_84021", "sort_for_Skyline_double.segred_tblock_size_88792", "sort_for_Skyline_double.segscan_num_tblocks_90660", "sort_for_Skyline_double.segscan_num_tblocks_91228", "sort_for_Skyline_double.segscan_tblock_size_90658", "sort_for_Skyline_double.segscan_tblock_size_91226", "sort_for_Skyline_double.suff_intra_par_0", "sort_for_Skyline_double.suff_intra_par_1", "sort_for_Skyline_double.suff_intra_par_10", "sort_for_Skyline_double.suff_intra_par_2", "sort_for_Skyline_double.suff_intra_par_3", "sort_for_Skyline_double.suff_intra_par_4", "sort_for_Skyline_double.suff_intra_par_5", "sort_for_Skyline_double.suff_intra_par_6", "sort_for_Skyline_double.suff_intra_par_7", "sort_for_Skyline_double.suff_intra_par_9", "sort_for_Skyline_double.tblock_size_96338", "sort_for_Skyline_double.tblock_size_96381", "sort_for_Skyline_double.tblock_size_96425", "sort_for_Skyline_double.tblock_size_96503", "sort_for_Skyline_double.tblock_size_96891", "sort_for_Skyline_double.tblock_size_96911", "sort_for_Skyline_double.tblock_size_96931", "sort_for_Skyline_double.tblock_size_97089", "sort_for_Skyline_double.tblock_size_97112", "sort_for_Skyline_double.tblock_size_97135", "sort_for_Skyline_double.tblock_size_97253", "sort_for_Skyline_double.tblock_size_97296", "sort_for_Skyline_double.tblock_size_97340", "sort_for_Skyline_double.tblock_size_97418", "sort_for_Skyline_double.tblock_size_97866", "sort_for_Skyline_double.tblock_size_97886", "sort_for_Skyline_double.tblock_size_97906", "sort_for_Skyline_double.tblock_size_97926", "sort_for_Skyline_double.tblock_size_98099", "sort_for_Skyline_double.tblock_size_98122", "sort_for_Skyline_double.tblock_size_98145", "sort_for_Skyline_double.tblock_size_98168", "sort_for_Skyline_double.tblock_size_98507", "sort_for_Skyline_double.tblock_size_98550",
                                           "sort_for_Skyline_double.tblock_size_98594", "sort_for_Skyline_double.tblock_size_98672", NULL};
static const char *tuning_param_vars[] = {"builtinzhiota_i64zitblock_sizze_96107", "builtinzhreplicate_boolzitblock_sizze_96203", "builtinzhreplicate_f64zitblock_sizze_96224", "builtinzhreplicate_i32zitblock_sizze_96182", "builtinzhreplicate_i64zitblock_sizze_96130", "builtinzhreplicate_i8zitblock_sizze_98769", "calc_global_Skyline_GFUR_doublezihist_L2_96762", "calc_global_Skyline_GFUR_doublezihist_L_96709", "calc_global_Skyline_GFUR_doubleziseghist_num_tblocks_76543", "calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541", "calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_74797", "calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_74988", "calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75102", "calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75450", "calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75606", "calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75664", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74625", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74795", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74804", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74818", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74830", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74922", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74950", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74986", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75017", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75100", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75146", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75172", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75242", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75271", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75448", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75477", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75604", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75630", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75662", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75688", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75742", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75775", "calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_76571", "calc_global_Skyline_GFUR_doublezisegscan_num_tblocks_74787", "calc_global_Skyline_GFUR_doublezisegscan_num_tblocks_76563", "calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_74785", "calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_76561", "calc_global_Skyline_GFUR_doublezisuff_intra_par_0", "calc_global_Skyline_GFUR_doublezisuff_intra_par_1", "calc_global_Skyline_GFUR_doublezitblock_sizze_96454", "calc_global_Skyline_GFUR_doublezitblock_sizze_96498", "calc_global_Skyline_GFUR_doublezitblock_sizze_96542", "calc_global_Skyline_GFUR_doublezitblock_sizze_96620", "calc_local_Skyline_GFUR_doublezihist_L2_97141", "calc_local_Skyline_GFUR_doublezihist_L_97088", "calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_74571", "calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_70960", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71074", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71422", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71578", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71699", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_72825", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73016", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73130", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73478", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73634", "calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73692", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70807", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70922", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70958", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70989", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71072", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71118", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71144", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71214", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71243", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71420", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71449", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71576", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71602", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71697", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71723", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71745", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71778", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72823", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72832", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72846", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72858", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72950", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72978", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73014", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73045", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73128", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73174", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73200", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73270", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73299", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73476", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73505", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73632", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73658", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73690", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73716", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73770", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73803", "calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74599", "calc_local_Skyline_GFUR_doublezisegred_num_tblocks_70748", "calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_70746", "calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_72815", "calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_74591", "calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_72813", "calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_74589", "calc_local_Skyline_GFUR_doublezisuff_intra_par_0", "calc_local_Skyline_GFUR_doublezisuff_intra_par_1", "calc_local_Skyline_GFUR_doublezisuff_intra_par_2", "calc_local_Skyline_GFUR_doublezisuff_intra_par_3", "calc_local_Skyline_GFUR_doublezisuff_intra_par_4", "calc_local_Skyline_GFUR_doublezitblock_sizze_96309", "calc_local_Skyline_GFUR_doublezitblock_sizze_96353", "calc_local_Skyline_GFUR_doublezitblock_sizze_96397", "calc_local_Skyline_GFUR_doublezitblock_sizze_96498", "calc_local_Skyline_GFUR_doublezitblock_sizze_96832", "calc_local_Skyline_GFUR_doublezitblock_sizze_96876", "calc_local_Skyline_GFUR_doublezitblock_sizze_96920", "calc_local_Skyline_GFUR_doublezitblock_sizze_96998", "define_skyline_space_doublezisegmap_tblock_sizze_70593", "define_skyline_space_doublezisegmap_tblock_sizze_70619", "define_skyline_space_doublezisegmap_tblock_sizze_70655", "define_skyline_space_doublezisegred_num_tblocks_70563", "define_skyline_space_doublezisegred_num_tblocks_70583", "define_skyline_space_doublezisegred_tblock_sizze_70561", "define_skyline_space_doublezisegred_tblock_sizze_70581", "define_skyline_space_doublezisegscan_num_tblocks_70555", "define_skyline_space_doublezisegscan_num_tblocks_70575", "define_skyline_space_doublezisegscan_tblock_sizze_70553", "define_skyline_space_doublezisegscan_tblock_sizze_70573", "sort_for_Skyline_doublezihist_L2_98283", "sort_for_Skyline_doublezihist_L2_98990", "sort_for_Skyline_doublezihist_L_98220",
                                          "sort_for_Skyline_doublezihist_L_98937", "sort_for_Skyline_doubleziseghist_num_tblocks_88711", "sort_for_Skyline_doubleziseghist_num_tblocks_91213", "sort_for_Skyline_doubleziseghist_tblock_sizze_88709", "sort_for_Skyline_doubleziseghist_tblock_sizze_91211", "sort_for_Skyline_doublezisegmap_num_tblocks_76711", "sort_for_Skyline_doublezisegmap_num_tblocks_76825", "sort_for_Skyline_doublezisegmap_num_tblocks_77173", "sort_for_Skyline_doublezisegmap_num_tblocks_77329", "sort_for_Skyline_doublezisegmap_num_tblocks_77387", "sort_for_Skyline_doublezisegmap_num_tblocks_78356", "sort_for_Skyline_doublezisegmap_num_tblocks_78520", "sort_for_Skyline_doublezisegmap_num_tblocks_79600", "sort_for_Skyline_doublezisegmap_num_tblocks_80590", "sort_for_Skyline_doublezisegmap_num_tblocks_80683", "sort_for_Skyline_doublezisegmap_num_tblocks_82393", "sort_for_Skyline_doublezisegmap_num_tblocks_82554", "sort_for_Skyline_doublezisegmap_num_tblocks_82902", "sort_for_Skyline_doublezisegmap_num_tblocks_83058", "sort_for_Skyline_doublezisegmap_num_tblocks_83116", "sort_for_Skyline_doublezisegmap_num_tblocks_84143", "sort_for_Skyline_doublezisegmap_num_tblocks_84358", "sort_for_Skyline_doublezisegmap_num_tblocks_85633", "sort_for_Skyline_doublezisegmap_num_tblocks_86775", "sort_for_Skyline_doublezisegmap_num_tblocks_86887", "sort_for_Skyline_doublezisegmap_num_tblocks_89096", "sort_for_Skyline_doublezisegmap_num_tblocks_89210", "sort_for_Skyline_doublezisegmap_num_tblocks_89558", "sort_for_Skyline_doublezisegmap_num_tblocks_89714", "sort_for_Skyline_doublezisegmap_num_tblocks_89772", "sort_for_Skyline_doublezisegmap_num_tblocks_91187", "sort_for_Skyline_doublezisegmap_num_tblocks_91197", "sort_for_Skyline_doublezisegmap_num_tblocks_91207", "sort_for_Skyline_doublezisegmap_tblock_sizze_76645", "sort_for_Skyline_doublezisegmap_tblock_sizze_76673", "sort_for_Skyline_doublezisegmap_tblock_sizze_76709", "sort_for_Skyline_doublezisegmap_tblock_sizze_76740", "sort_for_Skyline_doublezisegmap_tblock_sizze_76823", "sort_for_Skyline_doublezisegmap_tblock_sizze_76869", "sort_for_Skyline_doublezisegmap_tblock_sizze_76895", "sort_for_Skyline_doublezisegmap_tblock_sizze_76965", "sort_for_Skyline_doublezisegmap_tblock_sizze_76994", "sort_for_Skyline_doublezisegmap_tblock_sizze_77171", "sort_for_Skyline_doublezisegmap_tblock_sizze_77200", "sort_for_Skyline_doublezisegmap_tblock_sizze_77327", "sort_for_Skyline_doublezisegmap_tblock_sizze_77353", "sort_for_Skyline_doublezisegmap_tblock_sizze_77385", "sort_for_Skyline_doublezisegmap_tblock_sizze_77411", "sort_for_Skyline_doublezisegmap_tblock_sizze_77465", "sort_for_Skyline_doublezisegmap_tblock_sizze_77498", "sort_for_Skyline_doublezisegmap_tblock_sizze_78354", "sort_for_Skyline_doublezisegmap_tblock_sizze_78518", "sort_for_Skyline_doublezisegmap_tblock_sizze_79598", "sort_for_Skyline_doublezisegmap_tblock_sizze_79694", "sort_for_Skyline_doublezisegmap_tblock_sizze_79709", "sort_for_Skyline_doublezisegmap_tblock_sizze_79722", "sort_for_Skyline_doublezisegmap_tblock_sizze_79767", "sort_for_Skyline_doublezisegmap_tblock_sizze_79782", "sort_for_Skyline_doublezisegmap_tblock_sizze_79795", "sort_for_Skyline_doublezisegmap_tblock_sizze_80588", "sort_for_Skyline_doublezisegmap_tblock_sizze_80681", "sort_for_Skyline_doublezisegmap_tblock_sizze_80929", "sort_for_Skyline_doublezisegmap_tblock_sizze_81464", "sort_for_Skyline_doublezisegmap_tblock_sizze_82327", "sort_for_Skyline_doublezisegmap_tblock_sizze_82355", "sort_for_Skyline_doublezisegmap_tblock_sizze_82391", "sort_for_Skyline_doublezisegmap_tblock_sizze_82422", "sort_for_Skyline_doublezisegmap_tblock_sizze_82477", "sort_for_Skyline_doublezisegmap_tblock_sizze_82502", "sort_for_Skyline_doublezisegmap_tblock_sizze_82552", "sort_for_Skyline_doublezisegmap_tblock_sizze_82598", "sort_for_Skyline_doublezisegmap_tblock_sizze_82624", "sort_for_Skyline_doublezisegmap_tblock_sizze_82694", "sort_for_Skyline_doublezisegmap_tblock_sizze_82723", "sort_for_Skyline_doublezisegmap_tblock_sizze_82900", "sort_for_Skyline_doublezisegmap_tblock_sizze_82929", "sort_for_Skyline_doublezisegmap_tblock_sizze_83056", "sort_for_Skyline_doublezisegmap_tblock_sizze_83082", "sort_for_Skyline_doublezisegmap_tblock_sizze_83114", "sort_for_Skyline_doublezisegmap_tblock_sizze_83140", "sort_for_Skyline_doublezisegmap_tblock_sizze_83194", "sort_for_Skyline_doublezisegmap_tblock_sizze_83227", "sort_for_Skyline_doublezisegmap_tblock_sizze_84141", "sort_for_Skyline_doublezisegmap_tblock_sizze_84356", "sort_for_Skyline_doublezisegmap_tblock_sizze_85631", "sort_for_Skyline_doublezisegmap_tblock_sizze_85749", "sort_for_Skyline_doublezisegmap_tblock_sizze_85764", "sort_for_Skyline_doublezisegmap_tblock_sizze_85777", "sort_for_Skyline_doublezisegmap_tblock_sizze_85825", "sort_for_Skyline_doublezisegmap_tblock_sizze_85840", "sort_for_Skyline_doublezisegmap_tblock_sizze_85853", "sort_for_Skyline_doublezisegmap_tblock_sizze_86773", "sort_for_Skyline_doublezisegmap_tblock_sizze_86885", "sort_for_Skyline_doublezisegmap_tblock_sizze_87159", "sort_for_Skyline_doublezisegmap_tblock_sizze_87778", "sort_for_Skyline_doublezisegmap_tblock_sizze_89022", "sort_for_Skyline_doublezisegmap_tblock_sizze_89058", "sort_for_Skyline_doublezisegmap_tblock_sizze_89094", "sort_for_Skyline_doublezisegmap_tblock_sizze_89125", "sort_for_Skyline_doublezisegmap_tblock_sizze_89208", "sort_for_Skyline_doublezisegmap_tblock_sizze_89254", "sort_for_Skyline_doublezisegmap_tblock_sizze_89280", "sort_for_Skyline_doublezisegmap_tblock_sizze_89350", "sort_for_Skyline_doublezisegmap_tblock_sizze_89379", "sort_for_Skyline_doublezisegmap_tblock_sizze_89556", "sort_for_Skyline_doublezisegmap_tblock_sizze_89585", "sort_for_Skyline_doublezisegmap_tblock_sizze_89712", "sort_for_Skyline_doublezisegmap_tblock_sizze_89738", "sort_for_Skyline_doublezisegmap_tblock_sizze_89770", "sort_for_Skyline_doublezisegmap_tblock_sizze_89796", "sort_for_Skyline_doublezisegmap_tblock_sizze_89850", "sort_for_Skyline_doublezisegmap_tblock_sizze_89883", "sort_for_Skyline_doublezisegmap_tblock_sizze_91152", "sort_for_Skyline_doublezisegmap_tblock_sizze_91185", "sort_for_Skyline_doublezisegmap_tblock_sizze_91195", "sort_for_Skyline_doublezisegmap_tblock_sizze_91205", "sort_for_Skyline_doublezisegmap_tblock_sizze_91236", "sort_for_Skyline_doublezisegred_num_tblocks_78266", "sort_for_Skyline_doublezisegred_num_tblocks_84023", "sort_for_Skyline_doublezisegred_num_tblocks_88794", "sort_for_Skyline_doublezisegred_tblock_sizze_78264", "sort_for_Skyline_doublezisegred_tblock_sizze_84021", "sort_for_Skyline_doublezisegred_tblock_sizze_88792", "sort_for_Skyline_doublezisegscan_num_tblocks_90660", "sort_for_Skyline_doublezisegscan_num_tblocks_91228", "sort_for_Skyline_doublezisegscan_tblock_sizze_90658", "sort_for_Skyline_doublezisegscan_tblock_sizze_91226", "sort_for_Skyline_doublezisuff_intra_par_0", "sort_for_Skyline_doublezisuff_intra_par_1", "sort_for_Skyline_doublezisuff_intra_par_10", "sort_for_Skyline_doublezisuff_intra_par_2", "sort_for_Skyline_doublezisuff_intra_par_3", "sort_for_Skyline_doublezisuff_intra_par_4", "sort_for_Skyline_doublezisuff_intra_par_5", "sort_for_Skyline_doublezisuff_intra_par_6", "sort_for_Skyline_doublezisuff_intra_par_7", "sort_for_Skyline_doublezisuff_intra_par_9", "sort_for_Skyline_doublezitblock_sizze_96338", "sort_for_Skyline_doublezitblock_sizze_96381", "sort_for_Skyline_doublezitblock_sizze_96425", "sort_for_Skyline_doublezitblock_sizze_96503", "sort_for_Skyline_doublezitblock_sizze_96891", "sort_for_Skyline_doublezitblock_sizze_96911", "sort_for_Skyline_doublezitblock_sizze_96931", "sort_for_Skyline_doublezitblock_sizze_97089", "sort_for_Skyline_doublezitblock_sizze_97112", "sort_for_Skyline_doublezitblock_sizze_97135", "sort_for_Skyline_doublezitblock_sizze_97253", "sort_for_Skyline_doublezitblock_sizze_97296", "sort_for_Skyline_doublezitblock_sizze_97340", "sort_for_Skyline_doublezitblock_sizze_97418",
                                          "sort_for_Skyline_doublezitblock_sizze_97866", "sort_for_Skyline_doublezitblock_sizze_97886", "sort_for_Skyline_doublezitblock_sizze_97906", "sort_for_Skyline_doublezitblock_sizze_97926", "sort_for_Skyline_doublezitblock_sizze_98099", "sort_for_Skyline_doublezitblock_sizze_98122", "sort_for_Skyline_doublezitblock_sizze_98145", "sort_for_Skyline_doublezitblock_sizze_98168", "sort_for_Skyline_doublezitblock_sizze_98507", "sort_for_Skyline_doublezitblock_sizze_98550", "sort_for_Skyline_doublezitblock_sizze_98594", "sort_for_Skyline_doublezitblock_sizze_98672", NULL};
static const char *tuning_param_classes[] = {"thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "cache", "shared_memory", "grid_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "threshold(32, )", "threshold(32, !calc_global_Skyline_GFUR_double.suff_intra_par_0)", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "cache", "shared_memory", "grid_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "threshold(32, )", "threshold(32, !calc_local_Skyline_GFUR_double.suff_intra_par_0)", "threshold(32, !calc_local_Skyline_GFUR_double.suff_intra_par_1 !calc_local_Skyline_GFUR_double.suff_intra_par_0)", "threshold(32, )", "threshold(32, !calc_local_Skyline_GFUR_double.suff_intra_par_3)", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "cache", "cache", "shared_memory", "shared_memory", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "thread_block_size", "grid_size", "grid_size", "thread_block_size", "thread_block_size", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_0)", "threshold(32, !sort_for_Skyline_double.suff_intra_par_9)", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_2)", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_4)", "threshold(32, )", "threshold(32, !sort_for_Skyline_double.suff_intra_par_6)", "threshold(32, )", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", "thread_block_size", NULL};
static int64_t tuning_param_defaults[] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
static const int max_failure_args = 3;
static const int f64_required = 1;
static const char *gpu_program[] = {"#define FUTHARK_CUDA\n// start of prelude.cu\n\n#define SCALAR_FUN_ATTR __device__ static inline\n#define FUTHARK_FUN_ATTR __device__ static\n#define FUTHARK_F64_ENABLED\n\ntypedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long long int64_t;\ntypedef unsigned char uint8_t;\ntypedef unsigned short uint16_t;\ntypedef unsigned int uint32_t;\ntypedef unsigned long long uint64_t;\n\n#define __global\n#define __local\n#define __private\n#define __constant\n#define __write_only\n#define __read_only\n\nstatic inline __device__ int get_tblock_id(int d) {\n  switch (d) {\n  case 0: return blockIdx.x;\n  case 1: return blockIdx.y;\n  case 2: return blockIdx.z;\n  default: return 0;\n  }\n}\n\nstatic inline __device__ int get_num_tblocks(int d) {\n  switch(d) {\n  case 0: return gridDim.x;\n  case 1: return gridDim.y;\n  case 2: return gridDim.z;\n  default: return 0;\n  }\n}\n\nstatic inline __device__ int get_global_id(int d) {\n  switch (d) {\n    case 0: return threadIdx.x + blockIdx.x * blockDim.x;\n    case 1: return threadIdx.y + blockIdx.y * blockDim.y;\n    case 2: return threadIdx.z + blockIdx.z * blockDim.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_local_id(int d) {\n  switch (d) {\n    case 0: return threadIdx.x;\n    case 1: return threadIdx.y;\n    case 2: return threadIdx.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_local_size(int d) {\n  switch (d) {\n    case 0: return blockDim.x;\n    case 1: return blockDim.y;\n    case 2: return blockDim.z;\n    default: return 0;\n  }\n}\n\nstatic inline __device__ int get_global_size(int d) {\n  switch (d) {\n    case 0: return gridDim.x * blockDim.x;\n    case 1: return gridDim.y * blockDim.y;\n    case 2: return gridDim.z * blockDim.z;\n    default: return 0;\n  }\n}\n\n\n#define CLK_LOCAL_MEM_FENCE 1\n#define CLK_GLOBAL_MEM_FENCE 2\nstatic inline __device__ void barrier(int x) {\n  __syncthreads();\n}\nstatic inline __device__ void mem_fence_local() {\n  __threadfence_block();\n}\nstatic inline __device__ void mem_fence_global", "() {\n  __threadfence();\n}\n\nstatic inline __device__ void barrier_local() {\n  __syncthreads();\n}\n\n#define NAN (0.0/0.0)\n#define INFINITY (1.0/0.0)\nextern volatile __shared__ unsigned char shared_mem[];\n\n#define SHARED_MEM_PARAM\n#define FUTHARK_KERNEL extern \"C\" __global__ __launch_bounds__(MAX_THREADS_PER_BLOCK)\n#define FUTHARK_KERNEL_SIZED(a,b,c) extern \"C\" __global__ __launch_bounds__(a*b*c)\n\n// End of prelude.cu\n// Start of half.h.\n\n// Conversion functions are from http://half.sourceforge.net/, but\n// translated to C.\n//\n// Copyright (c) 2012-2021 Christian Rau\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n#ifndef __OPENCL_VERSION__\n#define __constant\n#endif\n\n__constant static const uint16_t base_table[512] = {\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0", "000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,\n  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,\n  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8",
                                    "000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,\n  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,\n  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };\n\n__constant static const unsigned char shift_table[512] = {\n  24, 24, 24, 24, 24, 24,", " 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 2", "4, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };\n\n__constant static const uint32_t mantissa_table[2048] = {\n  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,\n  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,\n  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,\n  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,\n  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,\n  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,\n  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,\n  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,\n  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,\n  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x37",
                                    "1B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,\n  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,\n  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,\n  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,\n  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,\n  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,\n  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,\n  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,\n  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,\n  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,\n  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,\n  0x", "37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,\n  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,\n  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,\n  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,\n  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,\n  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,\n  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,\n  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,\n  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,\n  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,\n  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x", "37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,\n  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,\n  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,\n  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,\n  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,\n  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,\n  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,\n  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,\n  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,\n  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,\n  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x",
                                    "38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,\n  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,\n  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,\n  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,\n  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,\n  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,\n  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,\n  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,\n  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,\n  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,\n  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x", "384BC000,\n  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,\n  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,\n  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,\n  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,\n  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,\n  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,\n  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,\n  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,\n  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,\n  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,\n  0x38740000, 0x38744000, 0x38748000, 0x3874C000, ", "0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,\n  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,\n  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,\n  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,\n  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,\n  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,\n  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,\n  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,\n  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,\n  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,\n  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, ",
                                    "0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,\n  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,\n  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,\n  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,\n  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,\n  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,\n  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,\n  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,\n  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,\n  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,\n  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, ", "0x3823C000, 0x3823E000,\n  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,\n  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,\n  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,\n  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,\n  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,\n  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,\n  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,\n  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,\n  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,\n  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,\n  0x38380000, 0x38382000, 0x38384000", ", 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,\n  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,\n  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,\n  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,\n  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,\n  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,\n  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,\n  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,\n  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,\n  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,\n  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000",
                                    ", 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,\n  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,\n  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,\n  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,\n  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,\n  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,\n  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,\n  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,\n  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,\n  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,\n  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000", ", 0x3861A000, 0x3861C000, 0x3861E000,\n  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,\n  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,\n  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,\n  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,\n  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,\n  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,\n  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,\n  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,\n  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,\n  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,\n  0x38760000, 0x387620", "00, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,\n  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,\n  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,\n  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,\n  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };\n__constant static const uint32_t exponent_table[64] = {\n  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,\n  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,\n  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,\n  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };\n__constant static const unsigned short offset_table[64] = {\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1",
                                    "024, 1024, 1024, 1024, 1024, 1024,\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };\n\nSCALAR_FUN_ATTR uint16_t float2halfbits(float value) {\n  union { float x; uint32_t y; } u;\n  u.x = value;\n  uint32_t bits = u.y;\n\n  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;\n\n  return hbits;\n}\n\nSCALAR_FUN_ATTR float halfbits2float(uint16_t value) {\n  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];\n\n  union { uint32_t x; float y; } u;\n  u.x = bits;\n  return u.y;\n}\n\nSCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {\n  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;\n  if(fabs > 0x7C00 || tabs > 0x7C00) {\n    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);\n  }\n  if(from == to || !(fabs|tabs)) {\n    return to;\n  }\n  if(!fabs) {\n    return (to&0x8000)+1;\n  }\n  unsigned int out =\n    from +\n    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)\n    - 1;\n  return out;\n}\n\n// End of half.h.\n// Start of scalar.h.\n\n// Implementation of the primitive scalar operations.  Very\n// repetitive.  This code is inserted directly into both CUDA and\n// OpenCL programs, as well as the CPU code, so it has some #ifdefs to\n// work everywhere.  Some operations are defined as macros because\n// this allows us to use them as constant expressions in things like\n// array sizes and static initialisers.\n\n// Some of the #ifdefs are because OpenCL uses type-generic functions\n// for some operations (e.g. sqrt), while C and CUDA sensibly use\n// distinct functions for different precisions (e.g. sqrtf() and\n// sqrt()).  This is quite annoying.  Due to C's unfortunate casting\n// rules, it is also really easy to accidentally implement\n// floating-point functions in the wrong precision, so be careful.\n\n/", "/ Double-precision definitions are only included if the preprocessor\n// macro FUTHARK_F64_ENABLED is set.\n\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);\n\nSCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {\n  return x * y;\n}\n\n#if ISPC\n\nSCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {\n  // This strange pattern is used to prevent the ISPC compiler from\n  // causing SIGFPEs and bogus results on divisions where inactive lanes\n  // have 0-valued divisors. It ensures that any inactive lane instead\n  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  uint", "8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALA",
                                    "R_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nSCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int8_t q = x / ys;\n  int8_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int16_t q = x / ys;\n  int16_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  int32_t q = x / ys;\n  int32_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int64_t q = x / ys;\n  int64_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y)", " {\n  return sdiv32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int8_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int16_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int32_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  int64_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) ", "{\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nSCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x % ys;\n}\n\nSCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x / ys;\n}\n\nSCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  ",
                                    "foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\nSCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return y == 0 ? 0 : x % ys;\n}\n\n#else\n\nSCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  return (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  return", " y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nSCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t q = x / y;\n  int8_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t q = x / y;\n  int16_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t q = x / y;\n  int32_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t q = x / y;\n  int64_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {\n  int8_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {\n  int16_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {\n  int32_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {\n  int64_t r = ", "x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nSCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nSCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nSCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nSCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nSCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {\n  return x % y;\n}\n\nSCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t ",
                                    "y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nSCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nSCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\n#endif\n\nSCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {\n  return x < y ? x : y;\n}\n\nSCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {\n  return x < y ? y : x;\n}\n\nSCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {\n  return (uint8_t)(x << y);\n}\n\nS", "CALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {\n  return (uint16_t)(x << y);\n}\n\nSCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {\n  return x << y;\n}\n\nSCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {\n  return x << y;\n}\n\nSCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {\n  return x >> y;\n}\n\nSCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {\n  return x & y;\n}\n\nSCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {\n  return x | y;\n}\n\nSCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {\n  return x ^ y;\n}\n\nSCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ult64(uint64_t x, uint64", "_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {\n  uint8_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {\n  uint16_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {\n  uint32_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {\n  uint64_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x",
                                    ") {\n  return x;\n}\n\nSCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {\n  return x;\n}\n\n#define sext_i8_i8(x) ((int8_t) (int8_t) (x))\n#define sext_i8_i16(x) ((int16_t) (int8_t) (x))\n#define sext_i8_i32(x) ((int32_t) (int8_t) (x))\n#define sext_i8_i64(x) ((int64_t) (int8_t) (x))\n#define sext_i16_i8(x) ((int8_t) (int16_t) (x))\n#define sext_i16_i16(x) ((int16_t) (int16_t) (x))\n#define sext_i16_i32(x) ((int32_t) (int16_t) (x))\n#define sext_i16_i64(x) ((int64_t) (int16_t) (x))\n#define sext_i32_i8(x) ((int8_t) (int32_t) (x))\n#define sext_i32_i16(x) ((int16_t) (int32_t) (x))\n#define sext_i32_i32(x) ((int32_t) (int32_t) (x))\n#define sext_i32_i64(x) ((int64_t) (int32_t) (x))\n#define sext_i64_i8(x) ((int8_t) (int64_t) (x))\n#define sext_i64_i16(x) ((int16_t) (int64_t) (x))\n#define sext_i64_i32(x) ((int32_t) (int64_t) (x))\n#define sext_i64_i64(x) ((int64_t) (int64_t) (x))\n#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))\n#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))\n#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))\n#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))\n#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))\n#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))\n#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))\n#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))\n#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))\n#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))\n#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))\n#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))\n#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))\n#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))\n#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))\n#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))\n\nSCALAR_FUN_ATTR int8_t abs8(int8_t x) {\n  return (int8_t)abs(x);\n}\n\nSCALAR_FUN_ATTR int16_t abs16(int16_t x) {\n  return (int16_t)abs(x);\n}\n\nSCALAR_FUN_ATTR int32_t abs32(int32_t x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR int64_t abs64(int64_t x) {\n#if defined(__OPENCL_VER", "SION__) || defined(ISPC)\n  return abs(x);\n#else\n  return llabs(x);\n#endif\n}\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {\n  return popcount(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {\n  return popcount(x);\n}\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {\n  return __popc(zext_i8_i32(x));\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {\n  return __popc(zext_i16_i32(x));\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {\n  return __popc(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {\n  return __popcll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return m", "ul_hi(a, b); }\n#elif defined(__CUDA_ARCH__)\nSCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }\nSCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }\nSCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }\n#elif ISPC\nSCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 = al * bl;\n  uint64_t p2 = al * bh;\n  uint64_t p3 = ah * bl;\n  uint64_t p4 = ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\nSCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR int",
                                    "32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 =  al * bl;\n  int64_t  p2 = al * bh;\n  int64_t  p3 = ah * bl;\n  uint64_t p4 =  ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\n\n#else // Not OpenCL, ISPC, or CUDA, but plain C.\nSCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nSCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nSCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nSCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }\nSCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }\nSCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }\nSCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }\nSCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t ", "a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }\nSCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }\n#else // Not OpenCL\n\nSCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }\nSCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }\nSCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }\nSCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }\nSCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }\nSCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }\nSCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }\nSCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return clz(x);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return __clz(zext_i8_i32(x)) - 24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return __clz(zext_i16_i32(x)) - 16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  retur", "n __clz(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return __clzll(x);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return count_leading_zeros((int32_t)(uint8_t)x)-24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return count_leading_zeros((int32_t)(uint16_t)x)-16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return count_leading_zeros(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return count_leading_zeros(x);\n}\n\n#else // Not OpenCL, ISPC or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_clz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  int i = 0;\n  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  int i = 0;\n  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  int i = 0;\n  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  int i = 0;\n  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\n#elif defined(__CUDA_ARCH__)\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 8 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 16 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 32 : y - 1;\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  int y = __ffsll(x);\n  return y == 0 ? 64 : y - 1",
                                    ";\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  return count_trailing_zeros(x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  return count_trailing_zeros(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);\n}\n\nSCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);\n}\n#endif\n\nSCALAR_FUN_ATTR float fdiv32(float x, float y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR float fadd32(float x, float y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR float fsub32(float x, float y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR float fmul32(float x, float y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt32(float x, float y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple32(float x, float y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {\n  return (float) x;\n}\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, f", "loat y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float x, float y) {\n  return pow(x, y);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float a, float b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nSCALAR_FUN_ATTR float fabs32(float x) {\n  return fabsf(x);\n}\n\nSCALAR_FUN_ATTR float fmax32(float x, float y) {\n  return fmaxf(x, y);\n}\n\nSCALAR_FUN_ATTR float fmin32(float x, float y) {\n  return fminf(x, y);\n}\n\nSCALAR_FUN_ATTR float fpow32(float x, float y) {\n  return powf(x, y);\n}\n#endif\n\nSCALAR_FUN_ATTR bool futrts_isnan32(float x) {\n  return isnan(x);\n}\n\n#if ISPC\n\nSCALAR_FUN_ATTR bool futrts_isinf32(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isfinite32(float x) {\n  return !isnan(x) && !futrts_isinf32(x);\n}\n\n#else\n\nSCALAR_FUN_ATTR bool futrts_isinf32(float x) {\n  return isinf(x);\n}\n\n#endif\n\nSCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  };\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {", "\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f32_bool(float x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR float btof_bool_f32(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cbrt32(float x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  return asinh(x);\n}\n\nSC",
                                    "ALAR_FUN_ATTR float futrts_atanh32(float x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  return erf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return mix(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return mad(a, b, c);\n}\n\nSCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {\n  return fma(a, b, c);\n}\n\n#elif ISPC\n\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return futrts_log32(x) / log(2.0f);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return futrts_log32(x) / log(10.0f);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;\n  float y = 1.0f + x;\n  float z = y - 1.0f;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform float cbrtf(uniform float);\nSCALAR_FUN_ATTR float futrts_cbrt32(float", " x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return (exp(x)+exp(-x)) / 2.0f;\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return (exp(x)-exp(-x)) / 2.0f;\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return futrts_sinh32(x)/futrts_cosh32(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  float f = x+sqrt(x*x-1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  float f = x+sqrt(x*x+1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n\n}\n\nSCALAR_FUN_ATTR float futrts_atanh32(float x) {\n  float f = (1+x)/(1-x);\n  if(futrts_isfinite32(f)) return log(f)/2.0f;\n  return f;\n\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {\n    x = abs(x);\n    y = abs(y);\n    float a;\n    float b;\n    if (x >= y){\n        a = x;\n        b = y;\n    } else {\n        a = y;\n        b = x;\n    }\n    if(b == 0){\n      return a;\n    }\n\n    int e;\n    float an;\n    float bn;\n    an = frexp (a, &e);\n    bn = ldexp (b, - e);\n    float cn;\n    cn = sqrt (an * an + bn * bn);\n    return ldexp (cn, e);\n  } else {\n    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;\n    else return x + y;\n  }\n\n}\n\nextern \"C\" unmasked uniform float tgammaf(", "uniform float x);\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = tgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = lgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erff(uniform float x);\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erff(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erfcf(uniform float x);\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erfcf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return x - y * trunc(x/y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  return round(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform float nextafterf(uniform float x, uniform float y);\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  float res;\n  foreach_active (i) {\n    uniform float r = nextafterf(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return x * pow((double)2.0, (double)y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  int32_t xb = futrts_to_bits32(x);\n  int32_t yb = futrts_to_bits32(y);\n  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float futr",
                                    "ts_fma32(float a, float b, float c) {\n  return a * b + c;\n}\n\n#else // Not OpenCL or ISPC, but CUDA or plain C.\n\nSCALAR_FUN_ATTR float futrts_log32(float x) {\n  return logf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log2_32(float x) {\n  return log2f(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log10_32(float x) {\n  return log10f(x);\n}\n\nSCALAR_FUN_ATTR float futrts_log1p_32(float x) {\n  return log1pf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sqrt32(float x) {\n  return sqrtf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cbrt32(float x) {\n  return cbrtf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_exp32(float x) {\n  return expf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cos32(float x) {\n  return cosf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sin32(float x) {\n  return sinf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tan32(float x) {\n  return tanf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acos32(float x) {\n  return acosf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asin32(float x) {\n  return asinf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan32(float x) {\n  return atanf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_cosh32(float x) {\n  return coshf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_sinh32(float x) {\n  return sinhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_tanh32(float x) {\n  return tanhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_acosh32(float x) {\n  return acoshf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_asinh32(float x) {\n  return asinhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atanh32(float x) {\n  return atanhf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {\n  return atan2f(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {\n  return hypotf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_gamma32(float x) {\n  return tgammaf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_lgamma32(float x) {\n  return lgammaf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erf32(float x) {\n  return erff(x);\n}\n\nSCALAR_FUN_ATTR float futrts_erfc32(float x) {\n  return erfcf(x);\n}\n\nSCALAR_FUN_ATTR float fmod32(float x, float y) {\n  return fmodf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_round32(float x) {\n  re", "turn rintf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_floor32(float x) {\n  return floorf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_ceil32(float x) {\n  return ceilf(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {\n  return nextafterf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {\n  return ldexpf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {\n  return copysignf(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {\n  return fmaf(a, b, c);\n}\n#endif\n\n#if ISPC\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {\n  return intbits(x);\n}\n\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {\n  return floatbits(x);\n}\n#else\nSCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {\n  union {\n    float f;\n    int32_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {\n  union {\n    int32_t f;\n    float t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\nSCALAR_FUN_ATTR float fsignum32(float x) {\n  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);\n\n#if ISPC\nSCALAR_FUN_ATTR bool futrts_isinf64(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isfinite64(float x) {\n  return !isnan(x) && !futrts_isinf64(x);\n}\n\nSCALAR_FUN_ATTR double fdiv64(double x, double y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR double fadd64(double x, double y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR double fsub64(double x, double y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR double fmul64(double x, double y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple64(double x, double y) {\n  return x <= y;\n}", "\n\nSCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double fabs64(double x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR double fmax64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR double fmin64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR double fpow64(double a, double b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\nSCALAR_FUN_ATTR double futrts_log64(double x) {\n  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;\n}\n\nSCALAR_FUN_ATTR double futrts_log2_64(double x) {\n  return futrts_log64(x)/log(2.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_log10_64(double x) {\n  return futrts_log64(x)/log(10.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_log1p_64(double x) {\n  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;\n  double y = 1.0d + x;\n  double z = y - 1.0d;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform double cbrt(uniform double);\nSCALAR_FUN_ATTR double futrts_cbrt64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_exp64(double x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cos64(dou",
                                    "ble x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sin64(double x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tan64(double x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acos64(double x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asin64(double x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan64(double x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cosh64(double x) {\n  return (exp(x)+exp(-x)) / 2.0d;\n}\n\nSCALAR_FUN_ATTR double futrts_sinh64(double x) {\n  return (exp(x)-exp(-x)) / 2.0d;\n}\n\nSCALAR_FUN_ATTR double futrts_tanh64(double x) {\n  return futrts_sinh64(x)/futrts_cosh64(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acosh64(double x) {\n  double f = x+sqrt(x*x-1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR double futrts_asinh64(double x) {\n  double f = x+sqrt(x*x+1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR double futrts_atanh64(double x) {\n  double f = (1.0d+x)/(1.0d-x);\n  if(futrts_isfinite64(f)) return log(f)/2.0d;\n  return f;\n\n}\n\nSCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nextern \"C\" unmasked uniform double hypot(uniform double x, uniform double y);\nSCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = hypot(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double tgamma(uniform double x);\nSCALAR_FUN_ATTR double futrts_gamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = tgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double lgamma(uniform double x);\nSCALAR_FUN_ATTR double futrts_lgamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = lgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erf(uniform double x);\nSCALAR_FUN_ATTR do", "uble futrts_erf64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erfc(uniform double x);\nSCALAR_FUN_ATTR double futrts_erfc64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erfc(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR double futrts_round64(double x) {\n  return round(x);\n}\n\nSCALAR_FUN_ATTR double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform double nextafter(uniform float x, uniform double y);\nSCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = nextafter(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_floor64(double x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int", "16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f64_bool(double x) {\n  return x != 0.0;\n}\n\nSCALAR_FUN_ATTR double btof_bool_f64(bool x) {\n  return x ? 1.0 : 0.0;\n}\n\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {\n  int64_t res;\n  foreach_active (i) {\n    uniform double tmp = extract(x, i);\n    uniform int64_t r = *((uniform int64_t* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {\n  double res;\n  foreach_active (i) {\n    uniform int64_t tmp = extract(x, i);\n    uniform double r = *((uniform double* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR double fmod64(double x, double y) {\n  return x - y * trunc(x/y);\n}\n\nSCALAR_FUN_ATTR double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);\n}\n\nSCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {\n  return x * pow((double)2.0, (double)y);\n}\n\nSCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {\n  int64_t xb = futrts_to_bits64(x);\n  int64_t yb = futrts_to_bits64(y);\n  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));\n}\n\nSCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#e",
                                    "lse\n\nSCALAR_FUN_ATTR double fdiv64(double x, double y) {\n  return x / y;\n}\n\nSCALAR_FUN_ATTR double fadd64(double x, double y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR double fsub64(double x, double y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR double fmul64(double x, double y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR double fabs64(double x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR double fmax64(double x, double y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR double fmin64(double x, double y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR double fpow64(double x, double y) {\n  return pow(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_log64(double x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log2_64(double x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log10_64(double x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR double futrts_log1p_64(double x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cbrt64(double x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR double futrts_exp64(double x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cos64(double x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sin64(double x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tan64(double x) {\n  r", "eturn tan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acos64(double x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asin64(double x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan64(double x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR double futrts_cosh64(double x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_sinh64(double x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_tanh64(double x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_acosh64(double x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_asinh64(double x) {\n  return asinh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atanh64(double x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_gamma64(double x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR double futrts_lgamma64(double x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR double futrts_erf64(double x) {\n  return erf(x);\n}\n\nSCALAR_FUN_ATTR double futrts_erfc64(double x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {\n  return fma(a, b, c);\n}\n\nSCALAR_FUN_ATTR double futrts_round64(double x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_floor64(double x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isinf64(double x) {\n  return isinf(x);\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x", ") {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nSCALAR_FUN_ATTR bool ftob_f64_bool(double x) {\n  return x != 0;\n}\n\nSCALAR_FUN_ATTR double btof_bool_f64(bool x) {\n  return x ? 1 : 0;\n}\n\nSCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {\n  union {\n    double f;\n    int64_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {\n  union {\n    int64_t f;\n    double t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR double fmod64(double x, double y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);\n}\n\nSCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {\n#ifdef __OPENCL_VERSION__\n  return mix(v0, v1, t);\n#else\n  return v0 + (v1 - v0) * t;\n#endif\n}\n\nSCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {\n#ifdef __OPENCL_VERSION__\n  return mad(a, b, c);\n#else\n  return a * b + c;\n#endif\n}\n\nSCALAR",
                                    "_FUN_ATTR float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nSCALAR_FUN_ATTR double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#endif\n\n#endif\n\n// End of scalar.h.\n// Start of scalar_f16.h.\n\n// Half-precision is emulated if needed (e.g. in straight C) with the\n// native type used if possible.  The emulation works by typedef'ing\n// 'float' to 'f16', and then implementing all operations on single\n// precision.  To cut down on duplication, we use the same code for\n// those Futhark functions that require just operators or casts.  The\n// in-memory representation for arrays will still be 16 bits even\n// under emulation, so the compiler will have to be careful when\n// generating reads or writes.\n\n#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))\n#define EMULATE_F16\n#endif\n\n#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)\n#pragma OPENCL EXTENSION cl_khr_fp16 : enable\n#endif\n\n#ifdef EMULATE_F16\n\n// Note that the half-precision storage format is still 16 bits - the\n// compiler will have to be real careful!\ntypedef float f16;\n\n#elif ISPC\ntypedef float16 f16;\n\n#else\n\n#ifdef __CUDA_ARCH__\n#include <cuda_fp16.h>\n#endif\n\ntypedef half f16;\n\n#endif\n\n// Some of these functions convert to single precision because half\n// precision versions are not available.\n\nSCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {\n  return x + y;\n}\n\nSCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {\n  return x - y;\n}\n\nSCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {\n  return x * y;\n}\n\nSCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {\n  return x < y;\n}\n\nSCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {\n  return x <= y;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {\n  return (f16) x;\n}\n\nSCALAR", "_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {\n  return (f16) x;\n}\n\nSCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {\n  return (int8_t) (float) x;\n}\n\nSCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {\n  return (int16_t) x;\n}\n\nSCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {\n  return (int32_t) x;\n}\n\nSCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {\n  return (int64_t) x;\n}\n\nSCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {\n  return (uint8_t) (float) x;\n}\n\nSCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {\n  return (uint16_t) x;\n}\n\nSCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {\n  return (uint32_t) x;\n}\n\nSCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {\n  return (uint64_t) x;\n}\n\nSCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {\n  return x != (f16)0;\n}\n\nSCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifndef EMULATE_F16\nSCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {\n  return isnan((float)x);\n}\n\n#ifdef __OPENCL_VERSION__\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabs(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmax(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return fmin(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#elif ISPC\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return abs(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#else // Assuming CUDA.\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabsf(x);\n}\n\nSCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmaxf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 ", "x, f16 y) {\n  return fminf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return powf(x, y);\n}\n#endif\n\n#if ISPC\nSCALAR_FUN_ATTR bool futrts_isinf16(float x) {\n  return !futrts_isnan16(x) && futrts_isnan16(x - x);\n}\nSCALAR_FUN_ATTR bool futrts_isfinite16(float x) {\n  return !futrts_isnan16(x) && !futrts_isinf16(x);\n}\n\n#else\n\nSCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {\n  return isinf((float)x);\n}\n#endif\n\n#ifdef __OPENCL_VERSION__\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return log(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return log2(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return log10(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return log1p(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return sqrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return cbrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return cos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return sin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return tan(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return acos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return asin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return atan(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return cosh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return sinh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return tanh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return acosh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return asinh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return atanh(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return hypot(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  return tgamma(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return lgamma(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return e",
                                    "rf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return erfc(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmod(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return rint(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return floor(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return ceil(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return nextafter(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return mix(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return ldexp(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return copysign(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return mad(a, b, c);\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fma(a, b, c);\n}\n#elif ISPC\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return futrts_log16(x) / log(2.0f16);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return futrts_log16(x) / log(10.0f16);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;\n  f16 y = 1.0f16 + x;\n  f16 z = y - 1.0f16;\n  return log(y) - (z-x)/y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return (float16)sqrt((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return (float16)cos((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return (float16)sin((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return (float16)tan((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return (float16)acos((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return (float16)asin((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return (float16)atan((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  retu", "rn (exp(x)+exp(-x)) / 2.0f16;\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return (exp(x)-exp(-x)) / 2.0f16;\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return futrts_sinh16(x)/futrts_cosh16(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x-1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x+1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  float16 f = (1+x)/(1-x);\n  if(futrts_isfinite16(f)) return log(f)/2.0f16;\n  return f;\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return (float16)atan2((float)x, (float)y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return (float16)futrts_hypot32((float)x, (float)y);\n}\n\nextern \"C\" unmasked uniform float tgammaf(uniform float x);\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)tgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)lgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  f16 res = (f16)futrts_cbrt32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  f16 res = (f16)futrts_erf32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  f16 res = (f16)futrts_erfc32((float)x);\n  return res;\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return x - y * (float16)trunc((float) (x/y));\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return (float16)round((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return (float16)floor((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return (float16)ceil((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrt", "s_nextafter16(f16 x, f16 y) {\n  return (float16)futrts_nextafter32((float)x, (float) y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\n#else // Assume CUDA.\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return hlog(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return hlog2(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return hlog10(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return (f16)log1pf((float)x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return hsqrt(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return cbrtf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return hexp(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return hcos(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return hsin(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return tanf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return acosf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return asinf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return atanf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return coshf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return sinhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return tanhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return acoshf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return asinhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return atanhf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2f(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return hypotf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f1",
                                    "6 x) {\n  return tgammaf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return lgammaf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return erff(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return erfcf(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmodf(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return rintf(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return hfloor(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return hceil(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fmaf(a, b, c);\n}\n\n#endif\n\n// The CUDA __half type cannot be put in unions for some reason, so we\n// use bespoke conversion functions instead.\n#ifdef __CUDA_ARCH__\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  return __half_as_ushort(x);\n}\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return __ushort_as_half(x);\n}\n#elif ISPC\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  varying int16_t y = *((varying int16_t * uniform)&x);\n  return y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  varying f16 y = *((varying f16 * uniform)&x);\n  return y;\n}\n#else\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  union {\n    f16 f;\n    int16_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  union {\n    int16_t f;\n    f16 t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\n#else // No native f16 - emulate.\n\nSCALAR_FUN_ATTR f16 fabs16(f16 x) {\n  return fabs32(x);\n}\n\nSC", "ALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {\n  return fmax32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {\n  return fmin32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {\n  return fpow32(x, y);\n}\n\nSCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {\n  return futrts_isnan32(x);\n}\n\nSCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {\n  return futrts_isinf32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log16(f16 x) {\n  return futrts_log32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {\n  return futrts_log2_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {\n  return futrts_log10_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {\n  return futrts_log1p_32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {\n  return futrts_sqrt32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {\n  return futrts_cbrt32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {\n  return futrts_exp32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {\n  return futrts_cos32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {\n  return futrts_sin32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {\n  return futrts_tan32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {\n  return futrts_acos32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {\n  return futrts_asin32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {\n  return futrts_atan32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {\n  return futrts_cosh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {\n  return futrts_sinh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {\n  return futrts_tanh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {\n  return futrts_acosh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {\n  return futrts_asinh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {\n  return futrts_atanh32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {\n  return futrts_atan2_32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {\n  return futrts_hypot32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {\n  return futrts_gamma32(x);\n}\n\nSCA", "LAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {\n  return futrts_lgamma32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {\n  return futrts_erf32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {\n  return futrts_erfc32(x);\n}\n\nSCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {\n  return fmod32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_round16(f16 x) {\n  return futrts_round32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {\n  return futrts_floor32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {\n  return futrts_ceil32(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {\n  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));\n}\n\nSCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return futrts_lerp32(v0, v1, t);\n}\n\nSCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {\n  return futrts_ldexp32(x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {\n  return futrts_copysign32((float)x, y);\n}\n\nSCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return futrts_mad32(a, b, c);\n}\n\nSCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return futrts_fma32(a, b, c);\n}\n\n// Even when we are using an OpenCL that does not support cl_khr_fp16,\n// it must still support vload_half for actually creating a\n// half-precision number, which can then be efficiently converted to a\n// float.  Similarly for vstore_half.\n#ifdef __OPENCL_VERSION__\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  int16_t y;\n  // Violating strict aliasing here.\n  vstore_half((float)x, 0, (half*)&y);\n  return y;\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return (f16)vload_half(0, (half*)&x);\n}\n\n#else\n\nSCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {\n  return (int16_t)float2halfbits(x);\n}\n\nSCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {\n  return halfbits2float((uint16_t)x);\n}\n\nSCALAR_FUN_ATTR f16 fsignum16(f16 x) {\n  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#endif\n\n#endif\n\nSCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {\n  retu",
                                    "rn x;\n}\n\nSCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {\n  return x;\n}\n\nSCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {\n  return (f16) x;\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {\n  return (double) x;\n}\n\n#if ISPC\nSCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {\n  return (f16) ((float)x);\n}\n#else\nSCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {\n  return (f16) x;\n}\n#endif\n#endif\n\n\n// End of scalar_f16.h.\n// Start of atomics.h\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                                         int32_t cmp, int32_t val);\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_shared(volatile __local int32_t *p,\n                                                        int32_t cmp, int32_t val);\nSCALAR_FUN_ATTR int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_add_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR float atomic_fadd_f32_global(volatile __global float *p, float x);\nSCALAR_FUN_ATTR float atomic_fadd_f32_shared(volatile __local float *p, float x);\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_shared(volatile __local uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x);\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_shared(volatile __local uint32", "_t *p, uint32_t x);\nSCALAR_FUN_ATTR int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_and_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_or_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_or_i32_shared(volatile __local int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x);\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_shared(volatile __local int32_t *p, int32_t x);\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xchg_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                                         int32_t cmp, int32_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_cmpxchg_i32_shared(volatile __local int32_t *p,\n                                                        int32_t cmp, int32_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_add_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((int32_t*)p, x);\n#el", "se\n  return atomic_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR float atomic_fadd_f32_global(volatile __global float *p, float x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((float*)p, x);\n  // On OpenCL, use technique from\n  // https://pipinspace.github.io/blog/atomic-float-addition-in-opencl.html\n#elif defined(cl_nv_pragma_unroll)\n  // use hardware-supported atomic addition on Nvidia GPUs with inline\n  // PTX assembly\n  float ret;\n  asm volatile(\"atom.global.add.f32 %0,[%1],%2;\":\"=f\"(ret):\"l\"(p),\"f\"(x):\"memory\");\n  return ret;\n#elif defined(__opencl_c_ext_fp32_global_atomic_add)\n  // use hardware-supported atomic addition on some Intel GPUs\n  return atomic_fetch_add_explicit((volatile __global atomic_float*)p,\n                                   x,\n                                   memory_order_relaxed);\n#elif __has_builtin(__builtin_amdgcn_global_atomic_fadd_f32)\n  // use hardware-supported atomic addition on some AMD GPUs\n  return __builtin_amdgcn_global_atomic_fadd_f32(p, x);\n#else\n  // fallback emulation:\n  // https://forums.developer.nvidia.com/t/atomicadd-float-float-atomicmul-float-float/14639/5\n  float old = x;\n  float ret;\n  while ((old=atomic_xchg(p, ret=atomic_xchg(p, 0.0f)+old))!=0.0f);\n  return ret;\n#endif\n}\n\nSCALAR_FUN_ATTR float atomic_fadd_f32_shared(volatile __local float *p, float x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_shared((volatile __local int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smax_i32_shared(volatile",
                                    " __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_smin_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umax_i32_shared(volatile __local uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint32_t atomic_umin_i32_shared(volatile __local uint32_t *p, uint32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_and_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_or_i32_global(volatile __global int32_t *p, ", "int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_or_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int32_t atomic_xor_i32_shared(volatile __local int32_t *p, int32_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\n// Start of 64 bit atomics\n\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP) || defined(cl_khr_int64_base_atomics) && defined(cl_khr_int64_extended_atomics)\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                                         int64_t cmp, int64_t val);\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_shared(volatile __local int64_t *p,\n                                                        int64_t cmp, int64_t val);\nSCALAR_FUN_ATTR int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_add_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR uint", "64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_shared(volatile __local uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_shared(volatile __local uint64_t *p, uint64_t x);\nSCALAR_FUN_ATTR int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_and_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_or_i64_shared(volatile __local int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_global(volatile __global int64_t *p, int64_t x);\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_shared(volatile __local int64_t *p, int64_t x);\n\n#ifdef FUTHARK_F64_ENABLED\nSCALAR_FUN_ATTR double atomic_fadd_f64_global(volatile __global double *p, double x);\nSCALAR_FUN_ATTR double atomic_fadd_f64_shared(volatile __local double *p, double x);\n#endif\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xchg_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                                         int64_t cmp, int64_t val) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_cmpxchg_i64_shared(volatile __local int64_t *p,\n                                                        int64_t cmp, int64_t val) {\n#if defined(F",
                                    "UTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_add_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nSCALAR_FUN_ATTR double atomic_fadd_f64_global(volatile __global double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600 || defined(FUTHARK_HIP)\n  return atomicAdd((double*)p, x);\n  // On OpenCL, use technique from\n  // https://pipinspace.github.io/blog/atomic-float-addition-in-opencl.html\n#elif defined(cl_nv_pragma_unroll)\n  // use hardware-supported atomic addition on Nvidia GPUs with inline\n  // PTX assembly\n  double ret;\n  asm volatile(\"atom.global.add.f64 %0,[%1],%2;\":\"=d\"(ret):\"l\"(p),\"d\"(x):\"memory\");\n  return ret;\n#elif __has_builtin(__builtin_amdgcn_global_atomic_fadd_f64)\n  // use hardware-supported atomic addition on some AMD GPUs\n  return __builtin_amdgcn_global_atomic_fadd_f64(p, x);\n#else\n  // fallback emulation:\n  // https://forums.developer.nvidia.com/t/atomicadd-float-float-atomicmul-float-float/14639/5\n  union {int64_t i; double f;} old;\n  union {int64_t i; double f;} ret;\n  old.f = x;\n  while (1) {\n    ret.i = atom_xchg((volatile __global int64_t*)p, (int64_t)0);\n    ret.f += old.f;\n    old.i = atom_xchg((volatile __global int64_t*)p, ret.i);\n    if (old.i == 0) {\n      break;\n    }\n  }\n  return ret.f;\n#endif\n}\n\nSCALAR_FUN_ATTR double atomic_fadd_f64_shared(volatile __local double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600 || defined(FUTHARK_HIP)\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  u", "nion { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\n#endif\n\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMax((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smax64(old, x);\n    old = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smax_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMax((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smax64(old, x);\n    old = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMin((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do {\n    assumed = old;\n    old = smin64(old, x);\n    old = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_smin_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA)\n  return atomicMin((int64_t*)p, x);\n#elif defined(FUTHARK_HIP)\n  // Currentely missing in HIP; probably a temporary oversight.\n  int64_t old = *p, assumed;\n  do ", "{\n    assumed = old;\n    old = smin64(old, x);\n    old = atomic_cmpxchg_i64_shared((volatile __local int64_t*)p, assumed, old);\n  } while (assumed != old);\n  return old;\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umax_i64_shared(volatile __local uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR uint64_t atomic_umin_i64_shared(volatile __local uint64_t *p, uint64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((uint64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_and_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicAnd((uint64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((uint64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_or_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicOr((uint64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_global(v",
                                    "olatile __global int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\nSCALAR_FUN_ATTR int64_t atomic_xor_i64_shared(volatile __local int64_t *p, int64_t x) {\n#if defined(FUTHARK_CUDA) || defined(FUTHARK_HIP)\n  return atomicXor((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\n#endif // defined(FUTHARK_CUDA) || defined(FUTHARK_HIP) || defined(cl_khr_int64_base_atomics) && defined(cl_khr_int64_extended_atomics)\n\n// End of atomics.h\n// Start of transpose.cl\n\n#define GEN_TRANSPOSE_KERNELS(NAME, ELEM_TYPE)                          \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*2, TR_TILE_DIM/TR_ELEMS_PER_THREAD, 1)\\\nvoid map_transpose_##NAME(SHARED_MEM_PARAM                              \\\n                          __global ELEM_TYPE *dst_mem,                  \\\n                          int64_t dst_offset,                           \\\n                          __global ELEM_TYPE *src_mem,                  \\\n                          int64_t src_offset,                           \\\n                          int32_t num_arrays,                           \\\n                          int32_t x_elems,                              \\\n                          int32_t y_elems,                              \\\n                          int32_t mulx,                                 \\\n                          int32_t muly,                                 \\\n                          int32_t repeat_1,                             \\\n                          int32_t repeat_2) {                           \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_g", "lobal_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index = global_id_0;                                    \\\n      int32_t y_index = tblock_id_1 * TR_TILE_DIM + get_local_id(1);    \\\n      if (x_index < x_elems) {                                          \\\n        for (int32_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int32_t index_i = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * x_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < y_elems) { \\\n            block[(get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * (TR_TILE_DIM+1) + \\\n                  get_local_id(0)] =                                    \\\n              src_mem[idata_offset + index_i];                          \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_TILE_DIM + get_local_id(0);            \\\n      y_index = tblock_id_0 * TR_TILE_DIM + get_local_id(1);            \\\n      if (x_index < y_elems) {                                          \\\n        for (int32_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int32_t index_out = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * y_elems + x_index; \\\n          if (y_in", "dex + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < x_elems) { \\\n            dst_mem[(odata_offset + index_out)] =                       \\\n              block[get_local_id(0) * (TR_TILE_DIM+1) +                 \\\n                    get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)]; \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM, TR_BLOCK_DIM, 1)                     \\\nvoid map_transpose_##NAME##_low_height(SHARED_MEM_PARAM                 \\\n                                                __global ELEM_TYPE *dst_mem, \\\n                                                int64_t dst_offset,     \\\n                                                __global ELEM_TYPE *src_mem, \\\n                                                int64_t src_offset,     \\\n                                                int32_t num_arrays,     \\\n                                                int32_t x_elems,        \\\n                                                int32_t y_elems,        \\\n                                                int32_t mulx,           \\\n                                                int32_t muly,           \\\n                                                int32_t repeat_1,       \\\n ",
                                    "                                               int32_t repeat_2) {     \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index =                                                 \\\n        tblock_id_0 * TR_BLOCK_DIM * mulx +                             \\\n        get_local_id(0) +                                               \\\n        get_local_id(1)%mulx * TR_BLOCK_DIM;                            \\\n      int32_t y_index = tblock_id_1 * TR_BLOCK_DIM + get_local_id(1)/mulx; \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      if (x_index < x_elems && y_index < y_elems) {                     \\\n        block[get_local_id(1) * (TR_BLOCK_DIM+1) + get_local_id(0)] =   \\\n          src_mem[idata_offset + index_in];                             \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_BLOCK_DIM + get_local_id(0)/mulx;      \\\n      y_index =                                                         \\\n        tblock_id_0 * TR_BLOCK_DIM * mulx +                             \\\n", "        get_local_id(1) +                                               \\\n        (get_local_id(0)%mulx) * TR_BLOCK_DIM;                          \\\n      int32_t index_out = y_index * y_elems + x_index;                  \\\n      if (x_index < y_elems && y_index < x_elems) {                     \\\n        dst_mem[odata_offset + index_out] =                             \\\n          block[get_local_id(0) * (TR_BLOCK_DIM+1) + get_local_id(1)];  \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM, TR_BLOCK_DIM, 1)                     \\\nvoid map_transpose_##NAME##_low_width(SHARED_MEM_PARAM                  \\\n                                      __global ELEM_TYPE *dst_mem,      \\\n                                      int64_t dst_offset,               \\\n                                      __global ELEM_TYPE *src_mem,      \\\n                                      int64_t src_offset,               \\\n                                      int32_t num_arrays,               \\\n                                      int32_t x_elems,                  \\\n                                      int32_t y_elems,                  \\\n                                      int32_t mulx,                     \\\n                                      int32_t muly,                     \\\n                                      int32_t repeat_1,                 \\\n  ", "                                    int32_t repeat_2) {               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t x_index = tblock_id_0 * TR_BLOCK_DIM + get_local_id(0)/muly; \\\n      int32_t y_index =                                                 \\\n        tblock_id_1 * TR_BLOCK_DIM * muly +                             \\\n        get_local_id(1) + (get_local_id(0)%muly) * TR_BLOCK_DIM;        \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      if (x_index < x_elems && y_index < y_elems) {                     \\\n        block[get_local_id(1) * (TR_BLOCK_DIM+1) + get_local_id(0)] =   \\\n          src_mem[idata_offset + index_in];                             \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_BLOCK_DIM * muly +                     \\\n        get_local_id(0) + (get_local_id(1)%muly) * TR_BLOCK_DIM;        \\\n      y_index = tblock_id_0 * TR_BLOCK_DIM + get_local_id(1)/muly;      \\\n      int32_t index_out = y_index * y_elems + x_index;                  \\\n ",
                                    "     if (x_index < y_elems && y_index < x_elems) {                     \\\n        dst_mem[odata_offset + index_out] =                             \\\n          block[get_local_id(0) * (TR_BLOCK_DIM+1) + get_local_id(1)];  \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_num_tblocks(2) * get_local_size(2);            \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_num_tblocks(1) * get_local_size(1);              \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*TR_BLOCK_DIM, 1, 1)                   \\\nvoid map_transpose_##NAME##_small(SHARED_MEM_PARAM                       \\\n                                  __global ELEM_TYPE *dst_mem,          \\\n                                  int64_t dst_offset,                   \\\n                                  __global ELEM_TYPE *src_mem,          \\\n                                  int64_t src_offset,                   \\\n                                  int32_t num_arrays,                   \\\n                                  int32_t x_elems,                      \\\n                                  int32_t y_elems,                      \\\n                                  int32_t mulx,                         \\\n                                  int32_t muly,                         \\\n                                  int32_t repeat_1,                     \\\n                                  int32_t repeat_2) {                   \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;            \\\n  ", "int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int32_t our_array_offset = global_id_0/(y_elems * x_elems) * y_elems * x_elems; \\\n      int32_t x_index = (global_id_0 % (y_elems * x_elems))/y_elems;    \\\n      int32_t y_index = global_id_0%y_elems;                            \\\n      int32_t odata_offset = dst_offset + our_array_offset;             \\\n      int32_t idata_offset = src_offset + our_array_offset;             \\\n      int32_t index_in = y_index * x_elems + x_index;                   \\\n      int32_t index_out = x_index * y_elems + y_index;                  \\\n      if (global_id_0 < x_elems * y_elems * num_arrays) {               \\\n        dst_mem[odata_offset + index_out] = src_mem[idata_offset + index_in]; \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                                                   \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n                                                                        \\\nFUTHARK_KERNEL_SIZED(TR_BLOCK_DIM*2, TR_TILE_DIM/TR_ELEMS_", "PER_THREAD, 1)\\\nvoid map_transpose_##NAME##_large(SHARED_MEM_PARAM                      \\\n                                  __global ELEM_TYPE *dst_mem,          \\\n                                  int64_t dst_offset,                   \\\n                                  __global ELEM_TYPE *src_mem,          \\\n                                  int64_t src_offset,                   \\\n                                  int64_t num_arrays,                   \\\n                                  int64_t x_elems,                      \\\n                                  int64_t y_elems,                      \\\n                                  int64_t mulx,                         \\\n                                  int64_t muly,                         \\\n                                  int32_t repeat_1,                     \\\n                                  int32_t repeat_2) {                   \\\n  (void)mulx; (void)muly;                                               \\\n  __local ELEM_TYPE* block = (__local ELEM_TYPE*)shared_mem;             \\\n  int tblock_id_0 = get_tblock_id(0);                                   \\\n  int global_id_0 = get_global_id(0);                                   \\\n  int tblock_id_1 = get_tblock_id(1);                                   \\\n  int global_id_1 = get_global_id(1);                                   \\\n  for (int i1 = 0; i1 <= repeat_1; i1++) {                              \\\n    int tblock_id_2 = get_tblock_id(2);                                 \\\n    int global_id_2 = get_global_id(2);                                 \\\n    for (int i2 = 0; i2 <= repeat_2; i2++) {                            \\\n      int64_t our_array_offset = tblock_id_2 * x_elems * y_elems;       \\\n      int64_t odata_offset = dst_offset + our_array_offset;             \\\n      int64_t idata_offset = src_offset + our_array_offset;             \\\n      int64_t x_index = global_id_0;                                    \\\n      int64_t y_index = tblock_id_1 * TR_TILE_DIM + get_loc",
                                    "al_id(1);    \\\n      if (x_index < x_elems) {                                          \\\n        for (int64_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int64_t index_i = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * x_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < y_elems) { \\\n            block[(get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * (TR_TILE_DIM+1) + \\\n                  get_local_id(0)] =                                    \\\n              src_mem[idata_offset + index_i];                          \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      barrier_local();                                                  \\\n      x_index = tblock_id_1 * TR_TILE_DIM + get_local_id(0);            \\\n      y_index = tblock_id_0 * TR_TILE_DIM + get_local_id(1);            \\\n      if (x_index < y_elems) {                                          \\\n        for (int64_t j = 0; j < TR_ELEMS_PER_THREAD; j++) {             \\\n          int64_t index_out = (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)) * y_elems + x_index; \\\n          if (y_index + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD) < x_elems) { \\\n            dst_mem[(odata_offset + index_out)] =                       \\\n              block[get_local_id(0) * (TR_TILE_DIM+1) +                 \\\n                    get_local_id(1) + j * (TR_TILE_DIM/TR_ELEMS_PER_THREAD)]; \\\n          }                                                             \\\n        }                                                               \\\n      }                                                                 \\\n      tblock_id_2 += get_num_tblocks(2);                                \\\n      global_id_2 += get_global_size(2);                                \\\n    }                                      ", "                             \\\n    tblock_id_1 += get_num_tblocks(1);                                  \\\n    global_id_1 += get_global_size(1);                                  \\\n  }                                                                     \\\n}                                                                       \\\n\nGEN_TRANSPOSE_KERNELS(1b, uint8_t)\nGEN_TRANSPOSE_KERNELS(2b, uint16_t)\nGEN_TRANSPOSE_KERNELS(4b, uint32_t)\nGEN_TRANSPOSE_KERNELS(8b, uint64_t)\n\n// End of transpose.cl\n// Start of copy.cl\n\n#define GEN_COPY_KERNEL(NAME, ELEM_TYPE) \\\nFUTHARK_KERNEL void lmad_copy_##NAME(SHARED_MEM_PARAM                   \\\n                               __global ELEM_TYPE *dst_mem,             \\\n                               int64_t dst_offset,                      \\\n                               __global ELEM_TYPE *src_mem,             \\\n                               int64_t src_offset,                      \\\n                               int64_t n,                               \\\n                               int r,                                   \\\n                               int64_t shape0, int64_t dst_stride0, int64_t src_stride0, \\\n                               int64_t shape1, int64_t dst_stride1, int64_t src_stride1, \\\n                               int64_t shape2, int64_t dst_stride2, int64_t src_stride2, \\\n                               int64_t shape3, int64_t dst_stride3, int64_t src_stride3, \\\n                               int64_t shape4, int64_t dst_stride4, int64_t src_stride4, \\\n                               int64_t shape5, int64_t dst_stride5, int64_t src_stride5, \\\n                               int64_t shape6, int64_t dst_stride6, int64_t src_stride6, \\\n                               int64_t shape7, int64_t dst_stride7, int64_t src_stride7) { \\\n  int64_t gtid = get_global_id(0);                                      \\\n  int64_t remainder = gtid;                                             \\\n                                             ", "                           \\\n  if (gtid >= n) {                                                      \\\n    return;                                                             \\\n  }                                                                     \\\n                                                                        \\\n  if (r > 0) {                                                          \\\n    int64_t i = remainder % shape0;                                     \\\n    dst_offset += i * dst_stride0;                                      \\\n    src_offset += i * src_stride0;                                      \\\n    remainder /= shape0;                                                \\\n  }                                                                     \\\n  if (r > 1) {                                                          \\\n    int64_t i = remainder % shape1;                                     \\\n    dst_offset += i * dst_stride1;                                      \\\n    src_offset += i * src_stride1;                                      \\\n    remainder /= shape1;                                                \\\n  }                                                                     \\\n  if (r > 2) {                                                          \\\n    int64_t i = remainder % shape2;                                     \\\n    dst_offset += i * dst_stride2;                                      \\\n    src_offset += i * src_stride2;                                      \\\n    remainder /= shape2;                                                \\\n  }                                                                     \\\n  if (r > 3) {                                                          \\\n    int64_t i = remainder % shape3;                                     \\\n    dst_offset += i * dst_stride3;                                      \\\n    src_offset += i * src_stride3;                                      \\\n    remainder /= shape3;                       ",
                                    "                         \\\n  }                                                                     \\\n  if (r > 4) {                                                          \\\n    int64_t i = remainder % shape4;                                     \\\n    dst_offset += i * dst_stride4;                                      \\\n    src_offset += i * src_stride4;                                      \\\n    remainder /= shape4;                                                \\\n  }                                                                     \\\n  if (r > 5) {                                                          \\\n    int64_t i = remainder % shape5;                                     \\\n    dst_offset += i * dst_stride5;                                      \\\n    src_offset += i * src_stride5;                                      \\\n    remainder /= shape5;                                                \\\n  }                                                                     \\\n  if (r > 6) {                                                          \\\n    int64_t i = remainder % shape6;                                     \\\n    dst_offset += i * dst_stride6;                                      \\\n    src_offset += i * src_stride6;                                      \\\n    remainder /= shape6;                                                \\\n  }                                                                     \\\n  if (r > 7) {                                                          \\\n    int64_t i = remainder % shape7;                                     \\\n    dst_offset += i * dst_stride7;                                      \\\n    src_offset += i * src_stride7;                                      \\\n    remainder /= shape7;                                                \\\n  }                                                                     \\\n                                                                        \\\n  dst_mem[dst_offset] = src_mem[src_offset];     ", "                       \\\n}\n\nGEN_COPY_KERNEL(1b, uint8_t)\nGEN_COPY_KERNEL(2b, uint16_t)\nGEN_COPY_KERNEL(4b, uint32_t)\nGEN_COPY_KERNEL(8b, uint64_t)\n\n// End of copy.cl\n\nFUTHARK_FUN_ATTR void futrts_lifted_lambda_10152(int64_t *out_prim_out_0, double a_30899, double ba_30900, int64_t pf_30901, int64_t pd_30902);\nFUTHARK_FUN_ATTR void futrts_lifted_normalizze_10121(int64_t *out_prim_out_0, int64_t *out_prim_out_1, int64_t *out_prim_out_2, int64_t *out_prim_out_3, int64_t *out_prim_out_4, int64_t slo_31470, int64_t shi_31471, int64_t tlo_31472, int64_t thi_31473, int64_t count_31474);\n\nFUTHARK_FUN_ATTR void futrts_lifted_lambda_10152(int64_t *out_prim_out_0, double a_30899, double ba_30900, int64_t pf_30901, int64_t pd_30902)\n{\n    int64_t prim_out_96091;\n    double zt_lhs_30903 = a_30899 / ba_30900;\n    double i64_res_54732 = sitofp_i64_f64(pf_30901);\n    double f64_arg0_30907 = zt_lhs_30903 * i64_res_54732;\n    int64_t f64_res_54734 = fptosi_f64_i64(f64_arg0_30907);\n    bool cond_30911 = slt64(f64_res_54734, (int64_t) 0);\n    int64_t lifted_lambda_res_30912;\n    \n    if (cond_30911) {\n        lifted_lambda_res_30912 = (int64_t) 0;\n    } else {\n        bool cond_30913 = sle64(pd_30902, f64_res_54734);\n        int64_t lifted_lambda_res_f_res_30914;\n        \n        if (cond_30913) {\n            int64_t lifted_lambda_res_f_res_t_res_67265 = sub64(pd_30902, (int64_t) 1);\n            \n            lifted_lambda_res_f_res_30914 = lifted_lambda_res_f_res_t_res_67265;\n        } else {\n            lifted_lambda_res_f_res_30914 = f64_res_54734;\n        }\n        lifted_lambda_res_30912 = lifted_lambda_res_f_res_30914;\n    }\n    prim_out_96091 = lifted_lambda_res_30912;\n    *out_prim_out_0 = prim_out_96091;\n}\nFUTHARK_FUN_ATTR void futrts_lifted_normalizze_10121(int64_t *out_prim_out_0, int64_t *out_prim_out_1, int64_t *out_prim_out_2, int64_t *out_prim_out_3, int64_t *out_prim_out_4, int64_t slo_31470, int64_t shi_31471, int64_t tlo_31472, int64_t thi_31473, int64_t count_31474)\n{", "\n    int64_t prim_out_96091;\n    int64_t prim_out_96092;\n    int64_t prim_out_96093;\n    int64_t prim_out_96094;\n    int64_t prim_out_96095;\n    int64_t min_arg1_31477 = add64(slo_31470, count_31474);\n    int64_t min_res_54733 = smin64(shi_31471, min_arg1_31477);\n    int64_t min_arg1_31481 = add64(tlo_31472, count_31474);\n    int64_t min_res_54736 = smin64(thi_31473, min_arg1_31481);\n    int64_t zp_lhs_31485 = sub64(min_res_54733, slo_31470);\n    int64_t zp_rhs_31487 = sub64(min_res_54736, tlo_31472);\n    int64_t zm_lhs_31489 = add64(zp_lhs_31485, zp_rhs_31487);\n    int64_t slack_31491 = sub64(zm_lhs_31489, count_31474);\n    int64_t min_res_54739 = smin64(zp_lhs_31485, slack_31491);\n    int64_t min_res_54742 = smin64(zp_rhs_31487, min_res_54739);\n    int64_t max_arg1_31501 = sub64(min_res_54733, min_res_54742);\n    int64_t max_res_54745 = smax64(slo_31470, max_arg1_31501);\n    int64_t max_arg1_31505 = sub64(min_res_54736, min_res_54742);\n    int64_t max_res_54748 = smax64(tlo_31472, max_arg1_31505);\n    int64_t zm_rhs_31509 = sub64(max_res_54745, slo_31470);\n    int64_t zm_lhs_31511 = sub64(count_31474, zm_rhs_31509);\n    int64_t zm_rhs_31513 = sub64(max_res_54748, tlo_31472);\n    int64_t count_31515 = sub64(zm_lhs_31511, zm_rhs_31513);\n    \n    prim_out_96091 = max_res_54745;\n    prim_out_96092 = min_res_54733;\n    prim_out_96093 = max_res_54748;\n    prim_out_96094 = min_res_54736;\n    prim_out_96095 = count_31515;\n    *out_prim_out_0 = prim_out_96091;\n    *out_prim_out_1 = prim_out_96092;\n    *out_prim_out_2 = prim_out_96093;\n    *out_prim_out_3 = prim_out_96094;\n    *out_prim_out_4 = prim_out_96095;\n}\n\nFUTHARK_KERNEL\nvoid builtinzhiota_i64ziiota_i64_96103(int64_t n_96099, int64_t x_96100, int64_t s_96101, int64_t virt_num_tblocks_96108, int64_t num_tblocks_96109, __global unsigned char *mem_96098)\n{\n    int32_t iota_ltid_96104;\n    int32_t tblock_sizze_96106;\n    int32_t iota_gid_96105;\n    int32_t iota_gtid_96103;\n    int32_t phys_tblock_id_96110;\n    int32_t it",
                                    "erations_96111;\n    \n    iota_ltid_96104 = get_local_id(0);\n    tblock_sizze_96106 = get_local_size(0);\n    iota_gid_96105 = get_tblock_id(0);\n    iota_gtid_96103 = iota_gid_96105 * tblock_sizze_96106 + iota_ltid_96104;\n    phys_tblock_id_96110 = get_tblock_id(0);\n    iterations_96111 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96108) - phys_tblock_id_96110, sext_i64_i32(num_tblocks_96109));\n    for (int32_t i_96112 = 0; i_96112 < iterations_96111; i_96112++) {\n        int32_t virt_tblock_id_96113;\n        int64_t global_tid_96114;\n        \n        virt_tblock_id_96113 = phys_tblock_id_96110 + i_96112 * sext_i64_i32(num_tblocks_96109);\n        global_tid_96114 = sext_i32_i64(virt_tblock_id_96113) * sext_i32_i64(tblock_sizze_96106) + sext_i32_i64(iota_ltid_96104);\n        if (slt64(global_tid_96114, n_96099)) {\n            ((__global int64_t *) mem_96098)[global_tid_96114] = add64(mul64(global_tid_96114, s_96101), x_96100);\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_boolzireplicate_96199(int64_t num_elems_96195, unsigned char val_96196_bits, int64_t replicate_n_96198, int64_t virt_num_tblocks_96204, int64_t num_tblocks_96205, __global unsigned char *mem_96194)\n{\n    bool val_96196 = val_96196_bits;\n    int32_t replicate_ltid_96200;\n    int32_t tblock_sizze_96202;\n    int32_t replicate_gid_96201;\n    int32_t replicate_gtid_96199;\n    int32_t phys_tblock_id_96206;\n    int32_t iterations_96207;\n    \n    replicate_ltid_96200 = get_local_id(0);\n    tblock_sizze_96202 = get_local_size(0);\n    replicate_gid_96201 = get_tblock_id(0);\n    replicate_gtid_96199 = replicate_gid_96201 * tblock_sizze_96202 + replicate_ltid_96200;\n    phys_tblock_id_96206 = get_tblock_id(0);\n    iterations_96207 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96204) - phys_tblock_id_96206, sext_i64_i32(num_tblocks_96205));\n    for (int32_t i_96208 = 0; i_96208 < iterations_96207; i_96208++) {\n        int3", "2_t virt_tblock_id_96209;\n        int64_t global_tid_96210;\n        int64_t slice_96212;\n        int64_t rep_i_96211;\n        int64_t remnant_96213;\n        \n        virt_tblock_id_96209 = phys_tblock_id_96206 + i_96208 * sext_i64_i32(num_tblocks_96205);\n        global_tid_96210 = sext_i32_i64(virt_tblock_id_96209) * sext_i32_i64(tblock_sizze_96202) + sext_i32_i64(replicate_ltid_96200);\n        slice_96212 = num_elems_96195;\n        rep_i_96211 = global_tid_96210;\n        remnant_96213 = global_tid_96210 - rep_i_96211;\n        if (slt64(global_tid_96210, replicate_n_96198)) {\n            ((__global bool *) mem_96194)[rep_i_96211] = val_96196;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_f64zireplicate_96220(int64_t num_elems_96216, double val_96217, int64_t replicate_n_96219, int64_t virt_num_tblocks_96225, int64_t num_tblocks_96226, __global unsigned char *mem_96215)\n{\n    int32_t replicate_ltid_96221;\n    int32_t tblock_sizze_96223;\n    int32_t replicate_gid_96222;\n    int32_t replicate_gtid_96220;\n    int32_t phys_tblock_id_96227;\n    int32_t iterations_96228;\n    \n    replicate_ltid_96221 = get_local_id(0);\n    tblock_sizze_96223 = get_local_size(0);\n    replicate_gid_96222 = get_tblock_id(0);\n    replicate_gtid_96220 = replicate_gid_96222 * tblock_sizze_96223 + replicate_ltid_96221;\n    phys_tblock_id_96227 = get_tblock_id(0);\n    iterations_96228 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96225) - phys_tblock_id_96227, sext_i64_i32(num_tblocks_96226));\n    for (int32_t i_96229 = 0; i_96229 < iterations_96228; i_96229++) {\n        int32_t virt_tblock_id_96230;\n        int64_t global_tid_96231;\n        int64_t slice_96233;\n        int64_t rep_i_96232;\n        int64_t remnant_96234;\n        \n        virt_tblock_id_96230 = phys_tblock_id_96227 + i_96229 * sext_i64_i32(num_tblocks_96226);\n        global_tid_96231 = sext_i32_i64(virt_tblock_id_96230) * sext_i32_i64(tb", "lock_sizze_96223) + sext_i32_i64(replicate_ltid_96221);\n        slice_96233 = num_elems_96216;\n        rep_i_96232 = global_tid_96231;\n        remnant_96234 = global_tid_96231 - rep_i_96232;\n        if (slt64(global_tid_96231, replicate_n_96219)) {\n            ((__global double *) mem_96215)[rep_i_96232] = val_96217;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i32zireplicate_96178(int64_t num_elems_96174, int32_t val_96175, int64_t replicate_n_96177, int64_t virt_num_tblocks_96183, int64_t num_tblocks_96184, __global unsigned char *mem_96173)\n{\n    int32_t replicate_ltid_96179;\n    int32_t tblock_sizze_96181;\n    int32_t replicate_gid_96180;\n    int32_t replicate_gtid_96178;\n    int32_t phys_tblock_id_96185;\n    int32_t iterations_96186;\n    \n    replicate_ltid_96179 = get_local_id(0);\n    tblock_sizze_96181 = get_local_size(0);\n    replicate_gid_96180 = get_tblock_id(0);\n    replicate_gtid_96178 = replicate_gid_96180 * tblock_sizze_96181 + replicate_ltid_96179;\n    phys_tblock_id_96185 = get_tblock_id(0);\n    iterations_96186 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96183) - phys_tblock_id_96185, sext_i64_i32(num_tblocks_96184));\n    for (int32_t i_96187 = 0; i_96187 < iterations_96186; i_96187++) {\n        int32_t virt_tblock_id_96188;\n        int64_t global_tid_96189;\n        int64_t slice_96191;\n        int64_t rep_i_96190;\n        int64_t remnant_96192;\n        \n        virt_tblock_id_96188 = phys_tblock_id_96185 + i_96187 * sext_i64_i32(num_tblocks_96184);\n        global_tid_96189 = sext_i32_i64(virt_tblock_id_96188) * sext_i32_i64(tblock_sizze_96181) + sext_i32_i64(replicate_ltid_96179);\n        slice_96191 = num_elems_96174;\n        rep_i_96190 = global_tid_96189;\n        remnant_96192 = global_tid_96189 - rep_i_96190;\n        if (slt64(global_tid_96189, replicate_n_96177)) {\n            ((__global int32_t *) mem_96173)[rep_i_96190] = val_96175;\n        }\n ",
                                    "       barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i64zireplicate_96126(int64_t num_elems_96122, int64_t val_96123, int64_t replicate_n_96125, int64_t virt_num_tblocks_96131, int64_t num_tblocks_96132, __global unsigned char *mem_96121)\n{\n    int32_t replicate_ltid_96127;\n    int32_t tblock_sizze_96129;\n    int32_t replicate_gid_96128;\n    int32_t replicate_gtid_96126;\n    int32_t phys_tblock_id_96133;\n    int32_t iterations_96134;\n    \n    replicate_ltid_96127 = get_local_id(0);\n    tblock_sizze_96129 = get_local_size(0);\n    replicate_gid_96128 = get_tblock_id(0);\n    replicate_gtid_96126 = replicate_gid_96128 * tblock_sizze_96129 + replicate_ltid_96127;\n    phys_tblock_id_96133 = get_tblock_id(0);\n    iterations_96134 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96131) - phys_tblock_id_96133, sext_i64_i32(num_tblocks_96132));\n    for (int32_t i_96135 = 0; i_96135 < iterations_96134; i_96135++) {\n        int32_t virt_tblock_id_96136;\n        int64_t global_tid_96137;\n        int64_t slice_96139;\n        int64_t rep_i_96138;\n        int64_t remnant_96140;\n        \n        virt_tblock_id_96136 = phys_tblock_id_96133 + i_96135 * sext_i64_i32(num_tblocks_96132);\n        global_tid_96137 = sext_i32_i64(virt_tblock_id_96136) * sext_i32_i64(tblock_sizze_96129) + sext_i32_i64(replicate_ltid_96127);\n        slice_96139 = num_elems_96122;\n        rep_i_96138 = global_tid_96137;\n        remnant_96140 = global_tid_96137 - rep_i_96138;\n        if (slt64(global_tid_96137, replicate_n_96125)) {\n            ((__global int64_t *) mem_96121)[rep_i_96138] = val_96123;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid builtinzhreplicate_i8zireplicate_98765(int64_t num_elems_98761, int8_t val_98762, int64_t replicate_n_98764, int64_t virt_num_tblocks_98770, int64_t num_tblocks_98771, __global unsigned char *mem_98760)\n{\n    int32", "_t replicate_ltid_98766;\n    int32_t tblock_sizze_98768;\n    int32_t replicate_gid_98767;\n    int32_t replicate_gtid_98765;\n    int32_t phys_tblock_id_98772;\n    int32_t iterations_98773;\n    \n    replicate_ltid_98766 = get_local_id(0);\n    tblock_sizze_98768 = get_local_size(0);\n    replicate_gid_98767 = get_tblock_id(0);\n    replicate_gtid_98765 = replicate_gid_98767 * tblock_sizze_98768 + replicate_ltid_98766;\n    phys_tblock_id_98772 = get_tblock_id(0);\n    iterations_98773 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98770) - phys_tblock_id_98772, sext_i64_i32(num_tblocks_98771));\n    for (int32_t i_98774 = 0; i_98774 < iterations_98773; i_98774++) {\n        int32_t virt_tblock_id_98775;\n        int64_t global_tid_98776;\n        int64_t slice_98778;\n        int64_t rep_i_98777;\n        int64_t remnant_98779;\n        \n        virt_tblock_id_98775 = phys_tblock_id_98772 + i_98774 * sext_i64_i32(num_tblocks_98771);\n        global_tid_98776 = sext_i32_i64(virt_tblock_id_98775) * sext_i32_i64(tblock_sizze_98768) + sext_i32_i64(replicate_ltid_98766);\n        slice_98778 = num_elems_98761;\n        rep_i_98777 = global_tid_98776;\n        remnant_98779 = global_tid_98776 - rep_i_98777;\n        if (slt64(global_tid_98776, replicate_n_98764)) {\n            ((__global int8_t *) mem_98760)[rep_i_98777] = val_98762;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezigpuseq_96338_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezigpuseq_96338(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91667)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96340;\n    int32_t tblock_sizze_96343;\n    int32_t wave_sizze_96342;\n    int32_t block_id_96341;\n    int32_t global_tid_96339;\n    int64_t tid_96338;\n    int64_t x_91460;\n    \n    local_tid_96340 = get_local_id(0);\n    tblock_sizze_96343 ", "= get_local_size(0);\n    wave_sizze_96342 = LOCKSTEP_WIDTH;\n    block_id_96341 = get_tblock_id(0);\n    global_tid_96339 = block_id_96341 * tblock_sizze_96343 + local_tid_96340;\n    tid_96338 = sext_i32_i64(global_tid_96339);\n    x_91460 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[(int64_t) 0];\n    ((__global int64_t *) mem_91667)[(int64_t) 0] = x_91460;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezigpuseq_96367_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezigpuseq_96367(__global int *global_failure, __global unsigned char *ext_mem_91668, __global unsigned char *mem_91674)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96369;\n    int32_t tblock_sizze_96372;\n    int32_t wave_sizze_96371;\n    int32_t block_id_96370;\n    int32_t global_tid_96368;\n    int64_t tid_96367;\n    int64_t zm_lhs_91464;\n    int64_t min_arg1_91465;\n    \n    local_tid_96369 = get_local_id(0);\n    tblock_sizze_96372 = get_local_size(0);\n    wave_sizze_96371 = LOCKSTEP_WIDTH;\n    block_id_96370 = get_tblock_id(0);\n    global_tid_96368 = block_id_96370 * tblock_sizze_96372 + local_tid_96369;\n    tid_96367 = sext_i32_i64(global_tid_96368);\n    zm_lhs_91464 = ((__global int64_t *) ext_mem_91668)[(int64_t) 0];\n    min_arg1_91465 = sub64(zm_lhs_91464, (int64_t) 1);\n    ((__global int64_t *) mem_91674)[(int64_t) 0] = min_arg1_91465;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_global_Skyline_GFUR_doublezireplicate_96450(int64_t dim_54348, int64_t dz2083U_54353, int64_t replicate_n_96449, int64_t virt_num_tblocks_96455, int64_t num_tblocks_96456, __global unsigned char *mem_91685, __global unsigned char *mem_91688)\n{\n    int32_t replicate_ltid_96451;\n    int32_t tblock_sizze_96453;\n    int32_t replicate_gid_96452;\n    int32_t replicate_gtid_96450;\n    int32_t phys_tblock_id_96457;\n    int32_t iterations_96458;\n    \n    replicate_ltid_96451 = get_local_id(0);\n    tblock_sizze_96453 = get_local_size(0);\n    replicat",
                                    "e_gid_96452 = get_tblock_id(0);\n    replicate_gtid_96450 = replicate_gid_96452 * tblock_sizze_96453 + replicate_ltid_96451;\n    phys_tblock_id_96457 = get_tblock_id(0);\n    iterations_96458 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96455) - phys_tblock_id_96457, sext_i64_i32(num_tblocks_96456));\n    for (int32_t i_96459 = 0; i_96459 < iterations_96458; i_96459++) {\n        int32_t virt_tblock_id_96460;\n        int64_t global_tid_96461;\n        int64_t slice_96464;\n        int64_t slice_96465;\n        int64_t rep_i_96462;\n        int64_t remnant_96466;\n        int64_t rep_i_96463;\n        int64_t remnant_96467;\n        \n        virt_tblock_id_96460 = phys_tblock_id_96457 + i_96459 * sext_i64_i32(num_tblocks_96456);\n        global_tid_96461 = sext_i32_i64(virt_tblock_id_96460) * sext_i32_i64(tblock_sizze_96453) + sext_i32_i64(replicate_ltid_96451);\n        slice_96464 = dz2083U_54353;\n        slice_96465 = dim_54348 * slice_96464;\n        rep_i_96462 = squot64(global_tid_96461, slice_96464);\n        remnant_96466 = global_tid_96461 - rep_i_96462 * slice_96464;\n        rep_i_96463 = remnant_96466;\n        remnant_96467 = remnant_96466 - rep_i_96463;\n        if (slt64(global_tid_96461, replicate_n_96449)) {\n            int64_t tmp_96468 = ((__global int64_t *) mem_91685)[rep_i_96463];\n            \n            ((__global int64_t *) mem_91688)[rep_i_96462 * dz2083U_54353 + rep_i_96463] = tmp_96468;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_global_Skyline_GFUR_doublezireplicate_96494(int64_t dim_54348, int64_t dz2083U_54353, int64_t replicate_n_96493, int64_t virt_num_tblocks_96499, int64_t num_tblocks_96500, __global unsigned char *mem_91737, __global unsigned char *mem_91740)\n{\n    int32_t replicate_ltid_96495;\n    int32_t tblock_sizze_96497;\n    int32_t replicate_gid_96496;\n    int32_t replicate_gtid_96494;\n    int32_t phys_tblock_id_96501;\n    int32_t iterations_96502;\n    \n    re", "plicate_ltid_96495 = get_local_id(0);\n    tblock_sizze_96497 = get_local_size(0);\n    replicate_gid_96496 = get_tblock_id(0);\n    replicate_gtid_96494 = replicate_gid_96496 * tblock_sizze_96497 + replicate_ltid_96495;\n    phys_tblock_id_96501 = get_tblock_id(0);\n    iterations_96502 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96499) - phys_tblock_id_96501, sext_i64_i32(num_tblocks_96500));\n    for (int32_t i_96503 = 0; i_96503 < iterations_96502; i_96503++) {\n        int32_t virt_tblock_id_96504;\n        int64_t global_tid_96505;\n        int64_t slice_96508;\n        int64_t slice_96509;\n        int64_t rep_i_96506;\n        int64_t remnant_96510;\n        int64_t rep_i_96507;\n        int64_t remnant_96511;\n        \n        virt_tblock_id_96504 = phys_tblock_id_96501 + i_96503 * sext_i64_i32(num_tblocks_96500);\n        global_tid_96505 = sext_i32_i64(virt_tblock_id_96504) * sext_i32_i64(tblock_sizze_96497) + sext_i32_i64(replicate_ltid_96495);\n        slice_96508 = dz2083U_54353;\n        slice_96509 = dim_54348 * slice_96508;\n        rep_i_96506 = squot64(global_tid_96505, slice_96508);\n        remnant_96510 = global_tid_96505 - rep_i_96506 * slice_96508;\n        rep_i_96507 = remnant_96510;\n        remnant_96511 = remnant_96510 - rep_i_96507;\n        if (slt64(global_tid_96505, replicate_n_96493)) {\n            int64_t tmp_96512 = ((__global int64_t *) mem_91737)[rep_i_96507];\n            \n            ((__global int64_t *) mem_91740)[rep_i_96506 * dz2083U_54353 + rep_i_96507] = tmp_96512;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_global_Skyline_GFUR_doublezireplicate_96538(int64_t dim_54348, int64_t dz2083U_54353, int64_t replicate_n_96537, int64_t virt_num_tblocks_96543, int64_t num_tblocks_96544, __global unsigned char *mem_91821, __global unsigned char *mem_91824)\n{\n    int32_t replicate_ltid_96539;\n    int32_t tblock_sizze_96541;\n    int32_t replicate_gid_96540;\n    int32_t rep", "licate_gtid_96538;\n    int32_t phys_tblock_id_96545;\n    int32_t iterations_96546;\n    \n    replicate_ltid_96539 = get_local_id(0);\n    tblock_sizze_96541 = get_local_size(0);\n    replicate_gid_96540 = get_tblock_id(0);\n    replicate_gtid_96538 = replicate_gid_96540 * tblock_sizze_96541 + replicate_ltid_96539;\n    phys_tblock_id_96545 = get_tblock_id(0);\n    iterations_96546 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96543) - phys_tblock_id_96545, sext_i64_i32(num_tblocks_96544));\n    for (int32_t i_96547 = 0; i_96547 < iterations_96546; i_96547++) {\n        int32_t virt_tblock_id_96548;\n        int64_t global_tid_96549;\n        int64_t slice_96552;\n        int64_t slice_96553;\n        int64_t rep_i_96550;\n        int64_t remnant_96554;\n        int64_t rep_i_96551;\n        int64_t remnant_96555;\n        \n        virt_tblock_id_96548 = phys_tblock_id_96545 + i_96547 * sext_i64_i32(num_tblocks_96544);\n        global_tid_96549 = sext_i32_i64(virt_tblock_id_96548) * sext_i32_i64(tblock_sizze_96541) + sext_i32_i64(replicate_ltid_96539);\n        slice_96552 = dz2083U_54353;\n        slice_96553 = dim_54348 * slice_96552;\n        rep_i_96550 = squot64(global_tid_96549, slice_96552);\n        remnant_96554 = global_tid_96549 - rep_i_96550 * slice_96552;\n        rep_i_96551 = remnant_96554;\n        remnant_96555 = remnant_96554 - rep_i_96551;\n        if (slt64(global_tid_96549, replicate_n_96537)) {\n            int64_t tmp_96556 = ((__global int64_t *) mem_91821)[rep_i_96551];\n            \n            ((__global int64_t *) mem_91824)[rep_i_96550 * dz2083U_54353 + rep_i_96551] = tmp_96556;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_global_Skyline_GFUR_doublezireplicate_96616(int64_t dim_54348, int64_t dz2083U_54353, int64_t replicate_n_96615, int64_t virt_num_tblocks_96621, int64_t num_tblocks_96622, __global unsigned char *mem_91942, __global unsigned char *mem_91945)\n{\n    int32_t replicat",
                                    "e_ltid_96617;\n    int32_t tblock_sizze_96619;\n    int32_t replicate_gid_96618;\n    int32_t replicate_gtid_96616;\n    int32_t phys_tblock_id_96623;\n    int32_t iterations_96624;\n    \n    replicate_ltid_96617 = get_local_id(0);\n    tblock_sizze_96619 = get_local_size(0);\n    replicate_gid_96618 = get_tblock_id(0);\n    replicate_gtid_96616 = replicate_gid_96618 * tblock_sizze_96619 + replicate_ltid_96617;\n    phys_tblock_id_96623 = get_tblock_id(0);\n    iterations_96624 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96621) - phys_tblock_id_96623, sext_i64_i32(num_tblocks_96622));\n    for (int32_t i_96625 = 0; i_96625 < iterations_96624; i_96625++) {\n        int32_t virt_tblock_id_96626;\n        int64_t global_tid_96627;\n        int64_t slice_96630;\n        int64_t slice_96631;\n        int64_t rep_i_96628;\n        int64_t remnant_96632;\n        int64_t rep_i_96629;\n        int64_t remnant_96633;\n        \n        virt_tblock_id_96626 = phys_tblock_id_96623 + i_96625 * sext_i64_i32(num_tblocks_96622);\n        global_tid_96627 = sext_i32_i64(virt_tblock_id_96626) * sext_i32_i64(tblock_sizze_96619) + sext_i32_i64(replicate_ltid_96617);\n        slice_96630 = dz2083U_54353;\n        slice_96631 = dim_54348 * slice_96630;\n        rep_i_96628 = squot64(global_tid_96627, slice_96630);\n        remnant_96632 = global_tid_96627 - rep_i_96628 * slice_96630;\n        rep_i_96629 = remnant_96632;\n        remnant_96633 = remnant_96632 - rep_i_96629;\n        if (slt64(global_tid_96627, replicate_n_96615)) {\n            double tmp_96634 = ((__global double *) mem_91942)[rep_i_96629 * dim_54348];\n            \n            ((__global double *) mem_91945)[rep_i_96628 * dz2083U_54353 + rep_i_96629] = tmp_96634;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doubleziseghist_global_76549_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doubleziseghist_global_76549(__global int *global_failure, int failur", "e_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_54353, int64_t total_part_no_54362, int64_t m_59898, int64_t num_tblocks_76544, int64_t num_subhistos_96700, int32_t chk_i_96770, int64_t hist_H_chk_96771, __global unsigned char *mem_91642, __global unsigned char *mem_92055, __global unsigned char *defunc_0_map_res_subhistos_mem_96701)\n{\n    #define seghist_tblock_sizze_76542 (calc_global_Skyline_GFUR_doubleziseghist_global_76549ziseghist_tblock_sizze_76542)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96773;\n    int32_t tblock_sizze_96776;\n    int32_t wave_sizze_96775;\n    int32_t block_id_96774;\n    int32_t global_tid_96772;\n    int64_t phys_tid_76549;\n    int32_t subhisto_ind_96777;\n    int64_t num_chunks_96778;\n    \n    local_tid_96773 = get_local_id(0);\n    tblock_sizze_96776 = get_local_size(0);\n    wave_sizze_96775 = LOCKSTEP_WIDTH;\n    block_id_96774 = get_tblock_id(0);\n    global_tid_96772 = block_id_96774 * tblock_sizze_96776 + local_tid_96773;\n    phys_tid_76549 = sext_i32_i64(global_tid_96772);\n    subhisto_ind_96777 = squot32(global_tid_96772, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_76542 * num_tblocks_76544), sext_i64_i32(num_subhistos_96700)));\n    num_chunks_96778 = sdiv_up64(m_59898, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_76542 * num_tblocks_76544)));\n    for (int64_t chunk_i_96779 = 0; chunk_i_96779 < num_chunks_96778; chunk_i_96779++) {\n        int64_t i_96780 = chunk_i_96779 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_76542 * num_tblocks_76544)) + sext_i32_i64(global_tid_96772);\n        \n        if (slt64(i_96780, m_59898)) {\n            int64_t slice_96781;\n            int64_t gtid_76548;\n            int64_t remnant_96782;\n            \n            slice_96781 = m_59898;\n            gtid_76548 = i_96780;\n            remnant_96782 = i_96780 - gtid_76548;\n            if (slt64(i_96780, m_59898)) {\n                int64_t eta_p_76553;\n                bool x_76555;\n                bool", " y_76556;\n                bool bounds_check_76557;\n                bool index_certs_76558;\n                int64_t lifted_lambda_res_76559;\n                \n                eta_p_76553 = ((__global int64_t *) mem_91642)[gtid_76548];\n                x_76555 = sle64((int64_t) 0, eta_p_76553);\n                y_76556 = slt64(eta_p_76553, dz2083U_54353);\n                bounds_check_76557 = x_76555 && y_76556;\n                if (!bounds_check_76557) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 21) == -1) {\n                            global_failure_args[0] = (int64_t) eta_p_76553;\n                            global_failure_args[1] = (int64_t) dz2083U_54353;\n                            ;\n                        }\n                        return;\n                    }\n                }\n                lifted_lambda_res_76559 = ((__global int64_t *) mem_92055)[eta_p_76553];\n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_96770) * hist_H_chk_96771, lifted_lambda_res_76559) && (slt64(lifted_lambda_res_76559, sext_i32_i64(chk_i_96770) * hist_H_chk_96771 + hist_H_chk_96771) && (sle64((int64_t) 0, lifted_lambda_res_76559) && slt64(lifted_lambda_res_76559, total_part_no_54362)))) {\n                        int64_t eta_p_76550;\n                        int64_t eta_p_76551 = (int64_t) 1;\n                        int64_t old_96783;\n                        \n                        old_96783 = atomic_add_i64_global(&((volatile __global int64_t *) defunc_0_map_res_subhistos_mem_96701)[sext_i32_i64(subhisto_ind_96777) * total_part_no_54362 + lifted_lambda_res_76559], (int64_t) eta_p_76551);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_76542\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doubleziseghist_local_76549_dim1, 1, 1)\nvoid ca",
                                    "lc_global_Skyline_GFUR_doubleziseghist_local_76549(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_54353, int64_t total_part_no_54362, int64_t m_59898, int64_t num_subhistos_96700, int64_t num_tblocks_96711, int32_t hist_M_96717, int32_t chk_i_96721, int64_t num_segments_96722, int64_t hist_H_chk_96723, int64_t histo_sizze_96724, int32_t init_per_thread_96725, __global unsigned char *mem_91642, __global unsigned char *mem_92055, __global unsigned char *defunc_0_map_res_subhistos_mem_96701)\n{\n    #define max_tblock_sizze_96710 (calc_global_Skyline_GFUR_doubleziseghist_local_76549zimax_tblock_sizze_96710)\n    \n    volatile __local unsigned char *subhistogram_local_mem_96739_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_96739_backing_0_offset = 0 + ((int64_t) 8 * (hist_M_96717 * hist_H_chk_96723) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_96717 * hist_H_chk_96723), (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96727;\n    int32_t tblock_sizze_96730;\n    int32_t wave_sizze_96729;\n    int32_t block_id_96728;\n    int32_t global_tid_96726;\n    int64_t phys_tid_76549;\n    int32_t phys_tblock_id_96731;\n    int32_t iterations_96732;\n    \n    local_tid_96727 = get_local_id(0);\n    tblock_sizze_96730 = get_local_size(0);\n    wave_sizze_96729 = LOCKSTEP_WIDTH;\n    block_id_96728 = get_tblock_id(0);\n    global_tid_96726 = block_id_96728 * tblock_sizze_96730 + local_tid_96727;\n    phys_tid_76549 = sext_i32_i64(global_tid_96726);\n    phys_tblock_id_96731 = get_tblock_id(0);\n    iterations_96732 = sdiv_up32(sext_i64_i32(num_tblocks_96711 * num_segments_96722) - phys_tblock_id_96731, sext_i64_i32(num_tblocks_96711));\n    for (int32_t i_96733 = 0; i_96733", " < iterations_96732; i_96733++) {\n        int32_t virt_tblock_id_96734;\n        int32_t flat_segment_id_96735;\n        int32_t gid_in_segment_96736;\n        int32_t pgtid_in_segment_96737;\n        int32_t threads_per_segment_96738;\n        __local unsigned char *subhistogram_local_mem_96739;\n        int32_t thread_local_subhisto_i_96741;\n        int64_t num_chunks_96748;\n        \n        virt_tblock_id_96734 = phys_tblock_id_96731 + i_96733 * sext_i64_i32(num_tblocks_96711);\n        flat_segment_id_96735 = squot32(virt_tblock_id_96734, sext_i64_i32(num_tblocks_96711));\n        gid_in_segment_96736 = srem32(virt_tblock_id_96734, sext_i64_i32(num_tblocks_96711));\n        pgtid_in_segment_96737 = gid_in_segment_96736 * sext_i64_i32(max_tblock_sizze_96710) + local_tid_96727;\n        threads_per_segment_96738 = sext_i64_i32(num_tblocks_96711 * max_tblock_sizze_96710);\n        subhistogram_local_mem_96739 = (__local unsigned char *) subhistogram_local_mem_96739_backing_0;\n        thread_local_subhisto_i_96741 = srem32(local_tid_96727, hist_M_96717);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_96742 = 0; local_i_96742 < init_per_thread_96725; local_i_96742++) {\n                int32_t j_96743 = local_i_96742 * sext_i64_i32(max_tblock_sizze_96710) + local_tid_96727;\n                int32_t j_offset_96744 = hist_M_96717 * sext_i64_i32(histo_sizze_96724) * gid_in_segment_96736 + j_96743;\n                int32_t local_subhisto_i_96745 = squot32(j_96743, sext_i64_i32(histo_sizze_96724));\n                int32_t global_subhisto_i_96746 = squot32(j_offset_96744, sext_i64_i32(histo_sizze_96724));\n                \n                if (slt32(j_96743, hist_M_96717 * sext_i64_i32(histo_sizze_96724))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_96746 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t", ") 0, num_subhistos_96700)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_96743, sext_i64_i32(histo_sizze_96724))) + sext_i32_i64(chk_i_96721) * hist_H_chk_96723) && slt64(sext_i32_i64(srem32(j_96743, sext_i64_i32(histo_sizze_96724))) + sext_i32_i64(chk_i_96721) * hist_H_chk_96723, total_part_no_54362)))) {\n                            int64_t tmp_96747 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_96701)[sext_i32_i64(srem32(j_96743, sext_i64_i32(histo_sizze_96724))) + sext_i32_i64(chk_i_96721) * hist_H_chk_96723];\n                            \n                            ((__local int64_t *) subhistogram_local_mem_96739)[sext_i32_i64(local_subhisto_i_96745) * hist_H_chk_96723 + sext_i32_i64(srem32(j_96743, sext_i64_i32(histo_sizze_96724)))] = tmp_96747;\n                        } else {\n                            ((__local int64_t *) subhistogram_local_mem_96739)[sext_i32_i64(local_subhisto_i_96745) * hist_H_chk_96723 + sext_i32_i64(srem32(j_96743, sext_i64_i32(histo_sizze_96724)))] = (int64_t) 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_96748 = sdiv_up64(m_59898, sext_i32_i64(threads_per_segment_96738));\n        for (int64_t chunk_i_96749 = 0; chunk_i_96749 < num_chunks_96748; chunk_i_96749++) {\n            int64_t i_96750 = chunk_i_96749 * sext_i32_i64(threads_per_segment_96738) + sext_i32_i64(pgtid_in_segment_96737);\n            \n            if (slt64(i_96750, m_59898)) {\n                int64_t gtid_76548;\n                int64_t eta_p_76553;\n                bool x_76555;\n                bool y_76556;\n                bool bounds_check_76557;\n                bool index_certs_76558;\n                int64_t lifted_lambda_res_76559;\n                \n                gtid_76548 = i_96750;\n                eta_p_76553 = ((__global int64_t *) mem_91642)[gtid_76548];\n                x_76555 = sle64((int64_t) 0, eta_p_76553);\n                y_76556 = slt64(eta_p",
                                    "_76553, dz2083U_54353);\n                bounds_check_76557 = x_76555 && y_76556;\n                if (!bounds_check_76557) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 20) == -1) {\n                            global_failure_args[0] = (int64_t) eta_p_76553;\n                            global_failure_args[1] = (int64_t) dz2083U_54353;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                lifted_lambda_res_76559 = ((__global int64_t *) mem_92055)[eta_p_76553];\n                if (chk_i_96721 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, lifted_lambda_res_76559) && slt64(lifted_lambda_res_76559, total_part_no_54362)) && (sle64(sext_i32_i64(chk_i_96721) * hist_H_chk_96723, lifted_lambda_res_76559) && slt64(lifted_lambda_res_76559, sext_i32_i64(chk_i_96721) * hist_H_chk_96723 + hist_H_chk_96723))) {\n                        int64_t eta_p_76550;\n                        int64_t eta_p_76551 = (int64_t) 1;\n                        int64_t old_96751;\n                        \n                        old_96751 = atomic_add_i64_shared(&((volatile __local int64_t *) subhistogram_local_mem_96739)[sext_i32_i64(thread_local_subhisto_i_96741) * hist_H_chk_96723 + (lifted_lambda_res_76559 - sext_i32_i64(chk_i_96721) * hist_H_chk_96723)], (int64_t) eta_p_76551);\n                    }\n                }\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_96752 = smin64(", "hist_H_chk_96723, total_part_no_54362 - sext_i32_i64(chk_i_96721) * hist_H_chk_96723);\n            int32_t histo_sizze_96753 = sext_i64_i32(trunc_H_96752);\n            \n            for (int32_t local_i_96754 = 0; local_i_96754 < init_per_thread_96725; local_i_96754++) {\n                int32_t j_96755 = local_i_96754 * sext_i64_i32(max_tblock_sizze_96710) + local_tid_96727;\n                \n                if (slt32(j_96755, histo_sizze_96753)) {\n                    int64_t eta_p_76550;\n                    int64_t eta_p_76551;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_76550 = ((__local int64_t *) subhistogram_local_mem_96739)[sext_i32_i64(j_96755)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_96756 = 0; subhisto_id_96756 < hist_M_96717 - 1; subhisto_id_96756++) {\n                            eta_p_76551 = ((__local int64_t *) subhistogram_local_mem_96739)[(sext_i32_i64(subhisto_id_96756) + (int64_t) 1) * hist_H_chk_96723 + sext_i32_i64(j_96755)];\n                            \n                            int64_t defunc_0_op_res_76552 = add64(eta_p_76550, eta_p_76551);\n                            \n                            eta_p_76550 = defunc_0_op_res_76552;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int64_t *) defunc_0_map_res_subhistos_mem_96701)[srem64(sext_i32_i64(virt_tblock_id_96734), num_tblocks_96711) * total_part_no_54362 + (sext_i32_i64(j_96755) + sext_i32_i64(chk_i_96721) * hist_H_chk_96723)] = eta_p_76550;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_96710\n}\nFUTHARK_KERNEL_SIZED(calc_gl", "obal_Skyline_GFUR_doublezisegmap_74709_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_74709(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54348, int64_t dz2083U_54353, int64_t arg_59797, int64_t i_59802, unsigned char cond_74721_bits, unsigned char x_95111_bits, unsigned char protect_assert_disj_95114_bits, unsigned char protect_assert_disj_95121_bits, int64_t num_threads_95906, __global unsigned char *xys_mem_91601, __global unsigned char *mem_param_91607, __global unsigned char *mem_91632, __global unsigned char *color_95748, __global unsigned char *color_95749)\n{\n    bool cond_74721 = cond_74721_bits;\n    bool x_95111 = x_95111_bits;\n    bool protect_assert_disj_95114 = protect_assert_disj_95114_bits;\n    bool protect_assert_disj_95121 = protect_assert_disj_95121_bits;\n    \n    #define segmap_tblock_sizze_74705 (calc_global_Skyline_GFUR_doublezisegmap_74709zisegmap_tblock_sizze_74705)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96118;\n    int32_t tblock_sizze_96121;\n    int32_t wave_sizze_96120;\n    int32_t block_id_96119;\n    int32_t global_tid_96117;\n    int64_t phys_tid_74709;\n    int64_t global_tid_96122;\n    int64_t slice_96123;\n    int64_t gtid_74708;\n    int64_t remnant_96124;\n    \n    local_tid_96118 = get_local_id(0);\n    tblock_sizze_96121 = get_local_size(0);\n    wave_sizze_96120 = LOCKSTEP_WIDTH;\n    block_id_96119 = get_tblock_id(0);\n    global_tid_96117 = block_id_96119 * tblock_sizze_96121 + local_tid_96118;\n    phys_tid_74709 = sext_i32_i64(global_tid_96117);\n    global_tid_96122 = sext_i32_i64(block_id_96119) * segmap_tblock_sizze_74705 + sext_i32_i64(local_tid_96118);\n    slice_96123 = dz2083U_54353;\n    gtid_74708 = global_tid_96122;\n    remnant_96124 = global_tid_96122 - gtid_74708;\n    if (slt64(gtid_74708, dz2083U_54353)) {\n        int64_t eta_p_74710;\n        bool cond_74711;\n        bool cond_f_res_74712;\n        bool x_74713;\n        bool y",
                                    "_74714;\n        bool cond_74715;\n        bool x_74717;\n        bool y_74718;\n        bool bounds_check_74719;\n        bool protect_assert_disj_95125;\n        bool index_certs_74720;\n        bool protect_assert_disj_95127;\n        bool index_certs_74726;\n        bool protect_assert_disj_95133;\n        bool range_valid_c_74734;\n        bool x_95122;\n        bool protect_cond_conj_95128;\n        double f_arg1_74727;\n        double f_arg0_74728;\n        bool defunc_0_f_res_74729;\n        int64_t defunc_0_f_res_74716;\n        \n        eta_p_74710 = ((__global int64_t *) mem_param_91607)[gtid_74708];\n        cond_74711 = slt64(eta_p_74710, (int64_t) 0);\n        cond_f_res_74712 = eta_p_74710 == i_59802;\n        x_74713 = !cond_74711;\n        y_74714 = cond_f_res_74712 && x_74713;\n        cond_74715 = cond_74711 || y_74714;\n        x_74717 = sle64((int64_t) 0, eta_p_74710);\n        y_74718 = slt64(eta_p_74710, dz2083U_54353);\n        bounds_check_74719 = x_74717 && y_74718;\n        protect_assert_disj_95125 = cond_74715 || bounds_check_74719;\n        if (!protect_assert_disj_95125) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 0) == -1) {\n                    global_failure_args[0] = (int64_t) eta_p_74710;\n                    global_failure_args[1] = (int64_t) dz2083U_54353;\n                    ;\n                }\n                return;\n            }\n        }\n        protect_assert_disj_95127 = cond_74715 || protect_assert_disj_95114;\n        if (!protect_assert_disj_95127) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 1) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) dim_54348;\n                    ;\n                }\n                return;\n            }\n        }\n        protect_assert_disj_95133 = cond_74715 || protect_assert_disj_95121;\n        if (!protect_assert_disj_95133) {\n            {\n                if (at", "omic_cmpxchg_i32_global(global_failure, -1, 2) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 1;\n                    global_failure_args[1] = (int64_t) dim_54348;\n                    ;\n                }\n                return;\n            }\n        }\n        x_95122 = !cond_74715;\n        protect_cond_conj_95128 = x_95111 && x_95122;\n        if (protect_cond_conj_95128) {\n            double x_95115 = ((__global double *) xys_mem_91601)[i_59802 * dim_54348];\n            \n            f_arg1_74727 = x_95115;\n        } else {\n            f_arg1_74727 = 0.0;\n        }\n        if (protect_cond_conj_95128) {\n            double x_95117 = ((__global double *) xys_mem_91601)[eta_p_74710 * dim_54348];\n            \n            f_arg0_74728 = x_95117;\n        } else {\n            f_arg0_74728 = 0.0;\n        }\n        defunc_0_f_res_74729 = f_arg1_74727 <= f_arg0_74728;\n        if (cond_74715) {\n            defunc_0_f_res_74716 = eta_p_74710;\n        } else {\n            __global unsigned char *ext_mem_ext_95915;\n            bool defunc_0_foldl_res_74747;\n            bool acc_74749;\n            bool elimd_74752;\n            int64_t defunc_0_f_res_f_res_74783;\n            \n            if (cond_74721) {\n                ext_mem_ext_95915 = color_95748;\n            } else {\n                for (int64_t nest_i_96125 = 0; nest_i_96125 < dim_54348; nest_i_96125++) {\n                    ((__global bool *) color_95749)[phys_tid_74709 + nest_i_96125 * num_threads_95906] = defunc_0_f_res_74729;\n                }\n                for (int64_t i_74736 = 0; i_74736 < arg_59797; i_74736++) {\n                    int64_t index_primexp_74738;\n                    bool x_74739;\n                    bool y_74740;\n                    bool bounds_check_74741;\n                    bool index_certs_74742;\n                    double f_arg1_74743;\n                    double f_arg0_74744;\n                    bool defunc_0_f_res_74745;\n                    \n                    index_pr", "imexp_74738 = add64((int64_t) 1, i_74736);\n                    x_74739 = sle64((int64_t) 0, index_primexp_74738);\n                    y_74740 = slt64(index_primexp_74738, dim_54348);\n                    bounds_check_74741 = x_74739 && y_74740;\n                    if (!bounds_check_74741) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 3) == -1) {\n                                global_failure_args[0] = (int64_t) index_primexp_74738;\n                                global_failure_args[1] = (int64_t) dim_54348;\n                                ;\n                            }\n                            return;\n                        }\n                    }\n                    f_arg1_74743 = ((__global double *) xys_mem_91601)[i_59802 * dim_54348 + index_primexp_74738];\n                    f_arg0_74744 = ((__global double *) xys_mem_91601)[eta_p_74710 * dim_54348 + index_primexp_74738];\n                    defunc_0_f_res_74745 = f_arg1_74743 <= f_arg0_74744;\n                    ((__global bool *) color_95749)[phys_tid_74709 + index_primexp_74738 * num_threads_95906] = defunc_0_f_res_74745;\n                }\n                ext_mem_ext_95915 = color_95749;\n            }\n            acc_74749 = 1;\n            for (int64_t i_74748 = 0; i_74748 < dim_54348; i_74748++) {\n                bool b_74750;\n                bool x_74751;\n                bool acc_tmp_96127;\n                \n                b_74750 = ((__global bool *) ext_mem_ext_95915)[phys_tid_74709 + i_74748 * num_threads_95906];\n                x_74751 = acc_74749 && b_74750;\n                acc_tmp_96127 = x_74751;\n                acc_74749 = acc_tmp_96127;\n            }\n            defunc_0_foldl_res_74747 = acc_74749;\n            if (defunc_0_foldl_res_74747) {\n                bool bounds_invalid_upwards_74762;\n                bool valid_74764;\n                bool protect_assert_disj_95097;\n                bool range_valid_c_74765;\n                boo",
                                    "l y_74756;\n                int64_t distance_74763;\n                __global unsigned char *ext_mem_ext_95924;\n                bool defunc_0_foldl_res_74778;\n                bool acc_74780;\n                \n                bounds_invalid_upwards_74762 = slt64(dim_54348, (int64_t) 1);\n                valid_74764 = !bounds_invalid_upwards_74762;\n                protect_assert_disj_95097 = cond_74721 || valid_74764;\n                if (!protect_assert_disj_95097) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 4) == -1) {\n                            global_failure_args[0] = (int64_t) (int64_t) 1;\n                            global_failure_args[1] = (int64_t) dim_54348;\n                            ;\n                        }\n                        return;\n                    }\n                }\n                y_74756 = slt64((int64_t) 0, dim_54348);\n                distance_74763 = sub64(dim_54348, (int64_t) 1);\n                if (cond_74721) {\n                    ext_mem_ext_95924 = color_95748;\n                } else {\n                    bool index_certs_74757;\n                    double f_arg1_74758;\n                    double f_arg0_74759;\n                    bool defunc_0_f_res_74760;\n                    \n                    if (!y_74756) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 5) == -1) {\n                                global_failure_args[0] = (int64_t) (int64_t) 0;\n                                global_failure_args[1] = (int64_t) dim_54348;\n                                ;\n                            }\n                            return;\n                        }\n                    }\n                    f_arg1_74758 = ((__global double *) xys_mem_91601)[i_59802 * dim_54348];\n                    f_arg0_74759 = ((__global double *) xys_mem_91601)[eta_p_74710 * dim_54348];\n                    defunc_0_f_res_74760 = f_arg1_74758 < f_arg0_74759;\n ", "                   for (int64_t nest_i_96128 = 0; nest_i_96128 < dim_54348; nest_i_96128++) {\n                        ((__global bool *) color_95749)[phys_tid_74709 + nest_i_96128 * num_threads_95906] = defunc_0_f_res_74760;\n                    }\n                    for (int64_t i_74767 = 0; i_74767 < distance_74763; i_74767++) {\n                        int64_t index_primexp_74769;\n                        bool x_74770;\n                        bool y_74771;\n                        bool bounds_check_74772;\n                        bool index_certs_74773;\n                        double f_arg1_74774;\n                        double f_arg0_74775;\n                        bool defunc_0_f_res_74776;\n                        \n                        index_primexp_74769 = add64((int64_t) 1, i_74767);\n                        x_74770 = sle64((int64_t) 0, index_primexp_74769);\n                        y_74771 = slt64(index_primexp_74769, dim_54348);\n                        bounds_check_74772 = x_74770 && y_74771;\n                        if (!bounds_check_74772) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 6) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_74769;\n                                    global_failure_args[1] = (int64_t) dim_54348;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        f_arg1_74774 = ((__global double *) xys_mem_91601)[i_59802 * dim_54348 + index_primexp_74769];\n                        f_arg0_74775 = ((__global double *) xys_mem_91601)[eta_p_74710 * dim_54348 + index_primexp_74769];\n                        defunc_0_f_res_74776 = f_arg1_74774 < f_arg0_74775;\n                        ((__global bool *) color_95749)[phys_tid_74709 + index_primexp_74769 * num_threads_95906] = defunc_0_f_res_74776;\n               ", "     }\n                    ext_mem_ext_95924 = color_95749;\n                }\n                acc_74780 = 0;\n                for (int64_t i_74779 = 0; i_74779 < dim_54348; i_74779++) {\n                    bool b_74781;\n                    bool defunc_0_f_res_74782;\n                    bool acc_tmp_96130;\n                    \n                    b_74781 = ((__global bool *) ext_mem_ext_95924)[phys_tid_74709 + i_74779 * num_threads_95906];\n                    defunc_0_f_res_74782 = acc_74780 || b_74781;\n                    acc_tmp_96130 = defunc_0_f_res_74782;\n                    acc_74780 = acc_tmp_96130;\n                }\n                defunc_0_foldl_res_74778 = acc_74780;\n                elimd_74752 = defunc_0_foldl_res_74778;\n            } else {\n                elimd_74752 = 0;\n            }\n            if (elimd_74752) {\n                defunc_0_f_res_f_res_74783 = (int64_t) -1;\n            } else {\n                defunc_0_f_res_f_res_74783 = eta_p_74710;\n            }\n            defunc_0_f_res_74716 = defunc_0_f_res_f_res_74783;\n        }\n        ((__global int64_t *) mem_91632)[gtid_74708] = defunc_0_f_res_74716;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74705\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_74793_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_74793(__global int *global_failure, int64_t dz2083U_54353, int64_t m_59898, int64_t num_tblocks_74798, int32_t virt_num_tblocks_96275, __global unsigned char *ext_mem_91635, __global unsigned char *mem_91638, __global unsigned char *mem_91640, __global unsigned char *mem_91642)\n{\n    #define segmap_tblock_sizze_74796 (calc_global_Skyline_GFUR_doublezisegmap_74793zisegmap_tblock_sizze_74796)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96277;\n    int32_t tblock_sizze_96280;\n    int32_t wave_sizze_96279;\n    int32_t block_id_96278;\n    int32_t global_tid_96276;\n    int64_t phys_tid_74793;\n    int32_t phys_tblock_id_96281;\n    in",
                                    "t32_t iterations_96282;\n    \n    local_tid_96277 = get_local_id(0);\n    tblock_sizze_96280 = get_local_size(0);\n    wave_sizze_96279 = LOCKSTEP_WIDTH;\n    block_id_96278 = get_tblock_id(0);\n    global_tid_96276 = block_id_96278 * tblock_sizze_96280 + local_tid_96277;\n    phys_tid_74793 = sext_i32_i64(global_tid_96276);\n    phys_tblock_id_96281 = get_tblock_id(0);\n    iterations_96282 = sdiv_up32(virt_num_tblocks_96275 - phys_tblock_id_96281, sext_i64_i32(num_tblocks_74798));\n    for (int32_t i_96283 = 0; i_96283 < iterations_96282; i_96283++) {\n        int32_t virt_tblock_id_96284;\n        int64_t global_tid_96285;\n        int64_t slice_96286;\n        int64_t write_i_74792;\n        int64_t remnant_96287;\n        \n        virt_tblock_id_96284 = phys_tblock_id_96281 + i_96283 * sext_i64_i32(num_tblocks_74798);\n        global_tid_96285 = sext_i32_i64(virt_tblock_id_96284) * segmap_tblock_sizze_74796 + sext_i32_i64(local_tid_96277);\n        slice_96286 = dz2083U_54353;\n        write_i_74792 = global_tid_96285;\n        remnant_96287 = global_tid_96285 - write_i_74792;\n        if (slt64(write_i_74792, dz2083U_54353)) {\n            int64_t eta_p_67284;\n            int64_t write_value_67286;\n            bool cond_67287;\n            int64_t lifted_lambda_res_67288;\n            \n            eta_p_67284 = ((__global int64_t *) mem_91640)[write_i_74792];\n            write_value_67286 = ((__global int64_t *) ext_mem_91635)[write_i_74792];\n            cond_67287 = eta_p_67284 == (int64_t) 1;\n            if (cond_67287) {\n                int64_t eta_p_67285;\n                int64_t lifted_lambda_res_t_res_67497;\n                \n                eta_p_67285 = ((__global int64_t *) mem_91638)[write_i_74792];\n                lifted_lambda_res_t_res_67497 = sub64(eta_p_67285, (int64_t) 1);\n                lifted_lambda_res_67288 = lifted_lambda_res_t_res_67497;\n            } else {\n                lifted_lambda_res_67288 = (int64_t) -1;\n            }\n            if (sle64((int64_t) 0,", " lifted_lambda_res_67288) && slt64(lifted_lambda_res_67288, m_59898)) {\n                ((__global int64_t *) mem_91642)[lifted_lambda_res_67288] = write_value_67286;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_74796\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_74845_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_74845(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_54353, int64_t m_59898, __global unsigned char *mem_91642, __global unsigned char *mem_91645)\n{\n    #define segmap_tblock_sizze_74841 (calc_global_Skyline_GFUR_doublezisegmap_74845zisegmap_tblock_sizze_74841)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96290;\n    int32_t tblock_sizze_96293;\n    int32_t wave_sizze_96292;\n    int32_t block_id_96291;\n    int32_t global_tid_96289;\n    int64_t phys_tid_74845;\n    int64_t global_tid_96294;\n    int64_t slice_96295;\n    int64_t gtid_74844;\n    int64_t remnant_96296;\n    \n    local_tid_96290 = get_local_id(0);\n    tblock_sizze_96293 = get_local_size(0);\n    wave_sizze_96292 = LOCKSTEP_WIDTH;\n    block_id_96291 = get_tblock_id(0);\n    global_tid_96289 = block_id_96291 * tblock_sizze_96293 + local_tid_96290;\n    phys_tid_74845 = sext_i32_i64(global_tid_96289);\n    global_tid_96294 = sext_i32_i64(block_id_96291) * segmap_tblock_sizze_74841 + sext_i32_i64(local_tid_96290);\n    slice_96295 = m_59898;\n    gtid_74844 = global_tid_96294;\n    remnant_96296 = global_tid_96294 - gtid_74844;\n    if (slt64(gtid_74844, m_59898)) {\n        int64_t eta_p_74846;\n        bool x_74847;\n        bool y_74848;\n        bool bounds_check_74849;\n        bool index_certs_74850;\n        \n        eta_p_74846 = ((__global int64_t *) mem_91642)[gtid_74844];\n        x_74847 = sle64((int64_t) 0, eta_p_74846);\n        y_74848 = slt64(eta_p_74846, dz2083U_54353);\n        bou", "nds_check_74849 = x_74847 && y_74848;\n        if (!bounds_check_74849) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 7) == -1) {\n                    global_failure_args[0] = (int64_t) eta_p_74846;\n                    global_failure_args[1] = (int64_t) dz2083U_54353;\n                    ;\n                }\n                return;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74841\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_74858_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_74858(__global int *global_failure, int64_t dim_54348, int64_t m_59898, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91642, __global unsigned char *mem_91645, __global unsigned char *mem_91649)\n{\n    #define segmap_tblock_sizze_74853 (calc_global_Skyline_GFUR_doublezisegmap_74858zisegmap_tblock_sizze_74853)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96299;\n    int32_t tblock_sizze_96302;\n    int32_t wave_sizze_96301;\n    int32_t block_id_96300;\n    int32_t global_tid_96298;\n    int64_t phys_tid_74858;\n    int64_t global_tid_96303;\n    int64_t slice_96304;\n    int64_t slice_96305;\n    int64_t gtid_74857;\n    int64_t remnant_96306;\n    int64_t gtid_slice_74856;\n    int64_t remnant_96307;\n    \n    local_tid_96299 = get_local_id(0);\n    tblock_sizze_96302 = get_local_size(0);\n    wave_sizze_96301 = LOCKSTEP_WIDTH;\n    block_id_96300 = get_tblock_id(0);\n    global_tid_96298 = block_id_96300 * tblock_sizze_96302 + local_tid_96299;\n    phys_tid_74858 = sext_i32_i64(global_tid_96298);\n    global_tid_96303 = sext_i32_i64(block_id_96300) * segmap_tblock_sizze_74853 + sext_i32_i64(local_tid_96299);\n    slice_96304 = dim_54348;\n    slice_96305 = m_59898 * slice_96304;\n    gtid_74857 = squot64(global_tid_96303, slice_96304);\n    remnant_96306 = global_tid_96303 - gtid_74857 * slice_96304;\n    gtid_slice_74856 = remnant_96306;\n    remnant_96307 = remna",
                                    "nt_96306 - gtid_slice_74856;\n    if (slt64(gtid_74857, m_59898) && slt64(gtid_slice_74856, dim_54348)) {\n        int64_t eta_p_74859;\n        bool index_certs_74860;\n        double v_74861;\n        \n        eta_p_74859 = ((__global int64_t *) mem_91642)[gtid_74857];\n        index_certs_74860 = 0;\n        v_74861 = ((__global double *) xys_mem_91601)[eta_p_74859 * dim_54348 + gtid_slice_74856];\n        ((__global double *) mem_91649)[gtid_74857 * dim_54348 + gtid_slice_74856] = v_74861;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74853\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_74867_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_74867(__global int *global_failure, int64_t m_59898, __global unsigned char *xys_mem_91602, __global unsigned char *mem_91642, __global unsigned char *mem_91645, __global unsigned char *mem_91652)\n{\n    #define segmap_tblock_sizze_74863 (calc_global_Skyline_GFUR_doublezisegmap_74867zisegmap_tblock_sizze_74863)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96310;\n    int32_t tblock_sizze_96313;\n    int32_t wave_sizze_96312;\n    int32_t block_id_96311;\n    int32_t global_tid_96309;\n    int64_t phys_tid_74867;\n    int64_t global_tid_96314;\n    int64_t slice_96315;\n    int64_t gtid_74866;\n    int64_t remnant_96316;\n    \n    local_tid_96310 = get_local_id(0);\n    tblock_sizze_96313 = get_local_size(0);\n    wave_sizze_96312 = LOCKSTEP_WIDTH;\n    block_id_96311 = get_tblock_id(0);\n    global_tid_96309 = block_id_96311 * tblock_sizze_96313 + local_tid_96310;\n    phys_tid_74867 = sext_i32_i64(global_tid_96309);\n    global_tid_96314 = sext_i32_i64(block_id_96311) * segmap_tblock_sizze_74863 + sext_i32_i64(local_tid_96310);\n    slice_96315 = m_59898;\n    gtid_74866 = global_tid_96314;\n    remnant_96316 = global_tid_96314 - gtid_74866;\n    if (slt64(gtid_74866, m_59898)) {\n        int64_t eta_p_74868;\n        bool index_certs_74869;\n        int64_t lifted_lambda_res_74870;\n   ", "     \n        eta_p_74868 = ((__global int64_t *) mem_91642)[gtid_74866];\n        index_certs_74869 = 0;\n        lifted_lambda_res_74870 = ((__global int64_t *) xys_mem_91602)[eta_p_74868];\n        ((__global int64_t *) mem_91652)[gtid_74866] = lifted_lambda_res_74870;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74863\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76232_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76232(__global int *global_failure, int64_t dim_54348, int64_t dz2083U_54353, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91682)\n{\n    #define segmap_tblock_sizze_76227 (calc_global_Skyline_GFUR_doublezisegmap_76232zisegmap_tblock_sizze_76227)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96420;\n    int32_t tblock_sizze_96423;\n    int32_t wave_sizze_96422;\n    int32_t block_id_96421;\n    int32_t global_tid_96419;\n    int64_t phys_tid_76232;\n    int64_t global_tid_96424;\n    int64_t slice_96425;\n    int64_t slice_96426;\n    int64_t gtid_76230;\n    int64_t remnant_96427;\n    int64_t gtid_76231;\n    int64_t remnant_96428;\n    \n    local_tid_96420 = get_local_id(0);\n    tblock_sizze_96423 = get_local_size(0);\n    wave_sizze_96422 = LOCKSTEP_WIDTH;\n    block_id_96421 = get_tblock_id(0);\n    global_tid_96419 = block_id_96421 * tblock_sizze_96423 + local_tid_96420;\n    phys_tid_76232 = sext_i32_i64(global_tid_96419);\n    global_tid_96424 = sext_i32_i64(block_id_96421) * segmap_tblock_sizze_76227 + sext_i32_i64(local_tid_96420);\n    slice_96425 = dim_54348;\n    slice_96426 = dz2083U_54353 * slice_96425;\n    gtid_76230 = squot64(global_tid_96424, slice_96425);\n    remnant_96427 = global_tid_96424 - gtid_76230 * slice_96425;\n    gtid_76231 = remnant_96427;\n    remnant_96428 = remnant_96427 - gtid_76231;\n    if (slt64(gtid_76230, dz2083U_54353) && slt64(gtid_76231, dim_54348)) {\n        double eta_p_76233;\n     ", "   double eta_p_76234;\n        double defunc_0_f_res_76235;\n        \n        eta_p_76233 = ((__global double *) xys_mem_91601)[gtid_76230 * dim_54348 + gtid_76231];\n        eta_p_76234 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_76231];\n        defunc_0_f_res_76235 = eta_p_76233 - eta_p_76234;\n        ((__global double *) mem_91682)[gtid_76230 * dim_54348 + gtid_76231] = defunc_0_f_res_76235;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76227\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76248_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76248(__global int *global_failure, int64_t dim_54348, int64_t dz2083U_54353, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *mem_91682)\n{\n    #define segmap_tblock_sizze_76243 (calc_global_Skyline_GFUR_doublezisegmap_76248zisegmap_tblock_sizze_76243)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96431;\n    int32_t tblock_sizze_96434;\n    int32_t wave_sizze_96433;\n    int32_t block_id_96432;\n    int32_t global_tid_96430;\n    int64_t phys_tid_76248;\n    int64_t global_tid_96435;\n    int64_t slice_96436;\n    int64_t slice_96437;\n    int64_t gtid_76246;\n    int64_t remnant_96438;\n    int64_t gtid_76247;\n    int64_t remnant_96439;\n    \n    local_tid_96431 = get_local_id(0);\n    tblock_sizze_96434 = get_local_size(0);\n    wave_sizze_96433 = LOCKSTEP_WIDTH;\n    block_id_96432 = get_tblock_id(0);\n    global_tid_96430 = block_id_96432 * tblock_sizze_96434 + local_tid_96431;\n    phys_tid_76248 = sext_i32_i64(global_tid_96430);\n    global_tid_96435 = sext_i32_i64(block_id_96432) * segmap_tblock_sizze_76243 + sext_i32_i64(local_tid_96431);\n    slice_96436 = dim_54348;\n    slice_96437 = dz2083U_54353 * slice_96436;\n    gtid_76246 = squot64(global_tid_96435, slice_96436);\n    remnant_96438 = global_tid_96435 - gtid_76246 * slice_96436;\n    gtid_76247 = remnant_96438;\n    remnant_96439 = remnant_96438 - gtid_76247;\n   ",
                                    " if (slt64(gtid_76246, dz2083U_54353) && slt64(gtid_76247, dim_54348)) {\n        double eta_p_76249;\n        double eta_p_76250;\n        double defunc_0_f_res_76251;\n        \n        eta_p_76249 = ((__global double *) mem_91682)[gtid_76246 * dim_54348 + gtid_76247];\n        eta_p_76250 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_76247];\n        defunc_0_f_res_76251 = eta_p_76249 / eta_p_76250;\n        ((__global double *) mem_91682)[gtid_76246 * dim_54348 + gtid_76247] = defunc_0_f_res_76251;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76243\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76260_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76260(__global int *global_failure, int64_t dim_54348, int64_t dz2083U_54353, __global unsigned char *mem_91682, __global unsigned char *mem_91685)\n{\n    #define segmap_tblock_sizze_76256 (calc_global_Skyline_GFUR_doublezisegmap_76260zisegmap_tblock_sizze_76256)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96442;\n    int32_t tblock_sizze_96445;\n    int32_t wave_sizze_96444;\n    int32_t block_id_96443;\n    int32_t global_tid_96441;\n    int64_t phys_tid_76260;\n    int64_t global_tid_96446;\n    int64_t slice_96447;\n    int64_t gtid_76259;\n    int64_t remnant_96448;\n    \n    local_tid_96442 = get_local_id(0);\n    tblock_sizze_96445 = get_local_size(0);\n    wave_sizze_96444 = LOCKSTEP_WIDTH;\n    block_id_96443 = get_tblock_id(0);\n    global_tid_96441 = block_id_96443 * tblock_sizze_96445 + local_tid_96442;\n    phys_tid_76260 = sext_i32_i64(global_tid_96441);\n    global_tid_96446 = sext_i32_i64(block_id_96443) * segmap_tblock_sizze_76256 + sext_i32_i64(local_tid_96442);\n    slice_96447 = dz2083U_54353;\n    gtid_76259 = global_tid_96446;\n    remnant_96448 = global_tid_96446 - gtid_76259;\n    if (slt64(gtid_76259, dz2083U_54353)) {\n        double f_arg0_76262;\n        int64_t f64_res_76263;\n        \n        f_arg0_76262 = ((__global double *) mem", "_91682)[gtid_76259 * dim_54348];\n        f64_res_76263 = fptosi_f64_i64(f_arg0_76262);\n        ((__global int64_t *) mem_91685)[gtid_76259] = f64_res_76263;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76256\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76273_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76273(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54348, int64_t dz2083U_54353, int64_t arg_59797, int64_t num_tblocks_76269, int32_t virt_num_tblocks_96470, __global unsigned char *mem_91699, __global unsigned char *mem_91710, __global unsigned char *mem_91728)\n{\n    #define segmap_tblock_sizze_76268 (calc_global_Skyline_GFUR_doublezisegmap_76273zisegmap_tblock_sizze_76268)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96472;\n    int32_t tblock_sizze_96475;\n    int32_t wave_sizze_96474;\n    int32_t block_id_96473;\n    int32_t global_tid_96471;\n    int64_t phys_tid_76273;\n    int32_t phys_tblock_id_96476;\n    int32_t iterations_96477;\n    \n    local_tid_96472 = get_local_id(0);\n    tblock_sizze_96475 = get_local_size(0);\n    wave_sizze_96474 = LOCKSTEP_WIDTH;\n    block_id_96473 = get_tblock_id(0);\n    global_tid_96471 = block_id_96473 * tblock_sizze_96475 + local_tid_96472;\n    phys_tid_76273 = sext_i32_i64(global_tid_96471);\n    phys_tblock_id_96476 = get_tblock_id(0);\n    iterations_96477 = sdiv_up32(virt_num_tblocks_96470 - phys_tblock_id_96476, sext_i64_i32(num_tblocks_76269));\n    for (int32_t i_96478 = 0; i_96478 < iterations_96477; i_96478++) {\n        int32_t virt_tblock_id_96479;\n        int64_t global_tid_96480;\n        int64_t slice_96481;\n        int64_t gtid_76272;\n        int64_t remnant_96482;\n        \n        virt_tblock_id_964", "79 = phys_tblock_id_96476 + i_96478 * sext_i64_i32(num_tblocks_76269);\n        global_tid_96480 = sext_i32_i64(virt_tblock_id_96479) * segmap_tblock_sizze_76268 + sext_i32_i64(local_tid_96472);\n        slice_96481 = dz2083U_54353;\n        gtid_76272 = global_tid_96480;\n        remnant_96482 = global_tid_96480 - gtid_76272;\n        if (slt64(gtid_76272, dz2083U_54353)) {\n            for (int64_t i_76277 = 0; i_76277 < arg_59797; i_76277++) {\n                int64_t index_primexp_76279;\n                bool x_76280;\n                bool y_76281;\n                bool bounds_check_76282;\n                bool index_certs_76283;\n                double f_arg0_76284;\n                int64_t f64_res_76285;\n                \n                index_primexp_76279 = add64((int64_t) 1, i_76277);\n                x_76280 = sle64((int64_t) 0, index_primexp_76279);\n                y_76281 = slt64(index_primexp_76279, dim_54348);\n                bounds_check_76282 = x_76280 && y_76281;\n                if (!bounds_check_76282) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 14) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_76279;\n                            global_failure_args[1] = (int64_t) dim_54348;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_76284 = ((__global double *) mem_91710)[gtid_76272 + index_primexp_76279 * dz2083U_54353];\n                f64_res_76285 = fptosi_f64_i64(f_arg0_76284);\n                ((__global int64_t *) mem_91699)[gtid_76272 + index_primexp_76279 * dz2083U_54353] = f64_res_76285;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_54348; i_0++) {\n                ((__global int64_t *) mem_91728)[gtid_76272 + i_0 * dz2083U_54353] = ((__global int64_t *) mem_91699)[gtid_76272 + i_0 * dz2083U_54353];\n            }\n",
                                    "        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_76268\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76293_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76293(__global int *global_failure, int64_t dz2083U_54353, int64_t ext_91733, __global unsigned char *ext_mem_91734, __global unsigned char *mem_91737)\n{\n    #define segmap_tblock_sizze_76289 (calc_global_Skyline_GFUR_doublezisegmap_76293zisegmap_tblock_sizze_76289)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96486;\n    int32_t tblock_sizze_96489;\n    int32_t wave_sizze_96488;\n    int32_t block_id_96487;\n    int32_t global_tid_96485;\n    int64_t phys_tid_76293;\n    int64_t global_tid_96490;\n    int64_t slice_96491;\n    int64_t gtid_76292;\n    int64_t remnant_96492;\n    \n    local_tid_96486 = get_local_id(0);\n    tblock_sizze_96489 = get_local_size(0);\n    wave_sizze_96488 = LOCKSTEP_WIDTH;\n    block_id_96487 = get_tblock_id(0);\n    global_tid_96485 = block_id_96487 * tblock_sizze_96489 + local_tid_96486;\n    phys_tid_76293 = sext_i32_i64(global_tid_96485);\n    global_tid_96490 = sext_i32_i64(block_id_96487) * segmap_tblock_sizze_76289 + sext_i32_i64(local_tid_96486);\n    slice_96491 = dz2083U_54353;\n    gtid_76292 = global_tid_96490;\n    remnant_96492 = global_tid_96490 - gtid_76292;\n    if (slt64(gtid_76292, dz2083U_54353)) {\n        int64_t f_arg0_76295;\n        int64_t max_res_76296;\n        \n        f_arg0_76295 = ((__global int64_t *) ext_mem_91734)[gtid_76292 * ext_91733];\n        max_res_76296 = smax64((int64_t) 0, f_arg0_76295);\n        ((__global int64_t *) mem_91737)[gtid_76292] = max_res_76296;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76289\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76306_di", "m1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76306(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54348, int64_t dz2083U_54353, int64_t arg_59797, int64_t num_tblocks_76302, int32_t virt_num_tblocks_96513, __global unsigned char *mem_91751, __global unsigned char *mem_91762, __global unsigned char *mem_91780)\n{\n    #define segmap_tblock_sizze_76301 (calc_global_Skyline_GFUR_doublezisegmap_76306zisegmap_tblock_sizze_76301)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96515;\n    int32_t tblock_sizze_96518;\n    int32_t wave_sizze_96517;\n    int32_t block_id_96516;\n    int32_t global_tid_96514;\n    int64_t phys_tid_76306;\n    int32_t phys_tblock_id_96519;\n    int32_t iterations_96520;\n    \n    local_tid_96515 = get_local_id(0);\n    tblock_sizze_96518 = get_local_size(0);\n    wave_sizze_96517 = LOCKSTEP_WIDTH;\n    block_id_96516 = get_tblock_id(0);\n    global_tid_96514 = block_id_96516 * tblock_sizze_96518 + local_tid_96515;\n    phys_tid_76306 = sext_i32_i64(global_tid_96514);\n    phys_tblock_id_96519 = get_tblock_id(0);\n    iterations_96520 = sdiv_up32(virt_num_tblocks_96513 - phys_tblock_id_96519, sext_i64_i32(num_tblocks_76302));\n    for (int32_t i_96521 = 0; i_96521 < iterations_96520; i_96521++) {\n        int32_t virt_tblock_id_96522;\n        int64_t global_tid_96523;\n        int64_t slice_96524;\n        int64_t gtid_76305;\n        int64_t remnant_96525;\n        \n        virt_tblock_id_96522 = phys_tblock_id_96519 + i_96521 * sext_i64_i32(num_tblocks_76302);\n        global_tid_96523 = sext_i32_i64(virt_tblock_id_96522) * segmap_tblock_sizze_76301 + sext_i32_i64(local_tid_96515);\n        slice_96524 = dz2083U_54353;\n        gtid_76305 = global_tid_96523;\n        remnant_96525 = globa", "l_tid_96523 - gtid_76305;\n        if (slt64(gtid_76305, dz2083U_54353)) {\n            for (int64_t i_76310 = 0; i_76310 < arg_59797; i_76310++) {\n                int64_t index_primexp_76312;\n                bool x_76313;\n                bool y_76314;\n                bool bounds_check_76315;\n                bool index_certs_76316;\n                int64_t f_arg0_76317;\n                int64_t max_res_76318;\n                \n                index_primexp_76312 = add64((int64_t) 1, i_76310);\n                x_76313 = sle64((int64_t) 0, index_primexp_76312);\n                y_76314 = slt64(index_primexp_76312, dim_54348);\n                bounds_check_76315 = x_76313 && y_76314;\n                if (!bounds_check_76315) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 15) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_76312;\n                            global_failure_args[1] = (int64_t) dim_54348;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_76317 = ((__global int64_t *) mem_91762)[gtid_76305 + index_primexp_76312 * dz2083U_54353];\n                max_res_76318 = smax64((int64_t) 0, f_arg0_76317);\n                ((__global int64_t *) mem_91751)[gtid_76305 + index_primexp_76312 * dz2083U_54353] = max_res_76318;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_54348; i_0++) {\n                ((__global int64_t *) mem_91780)[gtid_76305 + i_0 * dz2083U_54353] = ((__global int64_t *) mem_91751)[gtid_76305 + i_0 * dz2083U_54353];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_76301\n}\nFUTHARK_KERNEL_S",
                                    "IZED(calc_global_Skyline_GFUR_doublezisegmap_76326_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76326(__global int *global_failure, int64_t dz2083U_54353, int64_t ext_91817, __global unsigned char *mem_91674, __global unsigned char *ext_mem_91818, __global unsigned char *mem_91821)\n{\n    #define segmap_tblock_sizze_76322 (calc_global_Skyline_GFUR_doublezisegmap_76326zisegmap_tblock_sizze_76322)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96530;\n    int32_t tblock_sizze_96533;\n    int32_t wave_sizze_96532;\n    int32_t block_id_96531;\n    int32_t global_tid_96529;\n    int64_t phys_tid_76326;\n    int64_t global_tid_96534;\n    int64_t slice_96535;\n    int64_t gtid_76325;\n    int64_t remnant_96536;\n    \n    local_tid_96530 = get_local_id(0);\n    tblock_sizze_96533 = get_local_size(0);\n    wave_sizze_96532 = LOCKSTEP_WIDTH;\n    block_id_96531 = get_tblock_id(0);\n    global_tid_96529 = block_id_96531 * tblock_sizze_96533 + local_tid_96530;\n    phys_tid_76326 = sext_i32_i64(global_tid_96529);\n    global_tid_96534 = sext_i32_i64(block_id_96531) * segmap_tblock_sizze_76322 + sext_i32_i64(local_tid_96530);\n    slice_96535 = dz2083U_54353;\n    gtid_76325 = global_tid_96534;\n    remnant_96536 = global_tid_96534 - gtid_76325;\n    if (slt64(gtid_76325, dz2083U_54353)) {\n        int64_t min_arg1_91468;\n        int64_t f_arg0_76328;\n        int64_t min_res_76329;\n        \n        min_arg1_91468 = ((__global int64_t *) mem_91674)[(int64_t) 0];\n        f_arg0_76328 = ((__global int64_t *) ext_mem_91818)[gtid_76325 * ext_91817];\n        min_res_76329 = smin64(f_arg0_76328, min_arg1_91468);\n        ((__global int64_t *) mem_91821)[gtid_76325] = min_res_76329;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76322\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76339_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76339(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_", "args, int64_t dim_54348, int64_t dz2083U_54353, int64_t arg_59797, int64_t num_tblocks_76335, int32_t virt_num_tblocks_96557, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91835, __global unsigned char *mem_91846, __global unsigned char *mem_91864)\n{\n    #define segmap_tblock_sizze_76334 (calc_global_Skyline_GFUR_doublezisegmap_76339zisegmap_tblock_sizze_76334)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96559;\n    int32_t tblock_sizze_96562;\n    int32_t wave_sizze_96561;\n    int32_t block_id_96560;\n    int32_t global_tid_96558;\n    int64_t phys_tid_76339;\n    int32_t phys_tblock_id_96563;\n    int32_t iterations_96564;\n    \n    local_tid_96559 = get_local_id(0);\n    tblock_sizze_96562 = get_local_size(0);\n    wave_sizze_96561 = LOCKSTEP_WIDTH;\n    block_id_96560 = get_tblock_id(0);\n    global_tid_96558 = block_id_96560 * tblock_sizze_96562 + local_tid_96559;\n    phys_tid_76339 = sext_i32_i64(global_tid_96558);\n    phys_tblock_id_96563 = get_tblock_id(0);\n    iterations_96564 = sdiv_up32(virt_num_tblocks_96557 - phys_tblock_id_96563, sext_i64_i32(num_tblocks_76335));\n    for (int32_t i_96565 = 0; i_96565 < iterations_96564; i_96565++) {\n        int32_t virt_tblock_id_96566;\n        int64_t global_tid_96567;\n        int64_t slice_96568;\n        int64_t gtid_76338;\n        int64_t remnant_96569;\n        \n        virt_tblock_id_96566 = phys_tblock_id_96563 + i_96565 * sext_i64_i32(num_tblocks_76335);\n        global_tid_96567 = sext_i32_i64(virt_tblock_id_96566) * segmap_tblock_sizze_76334 + sext_i32_i64(local_tid_96559);\n        slice_96568 = dz2083U_54353;\n        gtid_76338 = global_tid_96567;\n        remnant_96569 = global_tid_96567 - gtid_76338;\n        if (slt64(gtid_76338, dz2083U_54353)) {\n            for (", "int64_t i_76343 = 0; i_76343 < arg_59797; i_76343++) {\n                int64_t index_primexp_76345;\n                bool x_76346;\n                bool y_76347;\n                bool bounds_check_76348;\n                bool index_certs_76349;\n                bool index_certs_76351;\n                int64_t f_arg0_76350;\n                int64_t zm_lhs_76352;\n                int64_t min_arg1_76353;\n                int64_t min_res_76354;\n                \n                index_primexp_76345 = add64((int64_t) 1, i_76343);\n                x_76346 = sle64((int64_t) 0, index_primexp_76345);\n                y_76347 = slt64(index_primexp_76345, dim_54348);\n                bounds_check_76348 = x_76346 && y_76347;\n                if (!bounds_check_76348) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 16) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_76345;\n                            global_failure_args[1] = (int64_t) dim_54348;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_76348) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 17) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_76345;\n                            global_failure_args[1] = (int64_t) dim_54348;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_76350 = ((__global int64_t *) mem_91846)[gtid_76338 + index_primexp_76345 * dz2083U_54353];\n                zm_lhs_76352 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_76345];\n                min_arg1_76353 = sub64(zm_lhs_76352, (int64_t) 1);\n                min_res_7",
                                    "6354 = smin64(f_arg0_76350, min_arg1_76353);\n                ((__global int64_t *) mem_91835)[gtid_76338 + index_primexp_76345 * dz2083U_54353] = min_res_76354;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_54348; i_0++) {\n                ((__global int64_t *) mem_91864)[gtid_76338 + i_0 * dz2083U_54353] = ((__global int64_t *) mem_91835)[gtid_76338 + i_0 * dz2083U_54353];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_76334\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76368_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76368(__global int *global_failure, int64_t dim_54348, int64_t dz2083U_54353, int64_t ext_91913, int64_t ext_91914, __global unsigned char *grid_part_prefix_sum_mem_91595, __global unsigned char *ext_mem_91915, __global unsigned char *mem_91919)\n{\n    #define segmap_tblock_sizze_76363 (calc_global_Skyline_GFUR_doublezisegmap_76368zisegmap_tblock_sizze_76363)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96574;\n    int32_t tblock_sizze_96577;\n    int32_t wave_sizze_96576;\n    int32_t block_id_96575;\n    int32_t global_tid_96573;\n    int64_t phys_tid_76368;\n    int64_t global_tid_96578;\n    int64_t slice_96579;\n    int64_t slice_96580;\n    int64_t gtid_76366;\n    int64_t remnant_96581;\n    int64_t gtid_76367;\n    int64_t remnant_96582;\n    \n    local_tid_96574 = get_local_id(0);\n    tblock_sizze_96577 = get_local_size(0);\n    wave_sizze_96576 = LOCKSTEP_WIDTH;\n    block_id_96575 = get_tblock_id(0);\n    global_tid_96573 = block_id_96575 * tblock_sizze_96577 + local_tid_96574;\n    phys_tid_76368 = sext_i32_i64(global_tid_96573);\n    global_tid_96578 = sext_i32_i64(block_id_96575) * segmap_tblock_sizze_76363 + sext_i32_i64(local_tid_96574);\n    slice_96579 =", " dim_54348;\n    slice_96580 = dz2083U_54353 * slice_96579;\n    gtid_76366 = squot64(global_tid_96578, slice_96579);\n    remnant_96581 = global_tid_96578 - gtid_76366 * slice_96579;\n    gtid_76367 = remnant_96581;\n    remnant_96582 = remnant_96581 - gtid_76367;\n    if (slt64(gtid_76366, dz2083U_54353) && slt64(gtid_76367, dim_54348)) {\n        int64_t eta_p_76369;\n        int64_t eta_p_76370;\n        int64_t defunc_0_f_res_76371;\n        \n        eta_p_76369 = ((__global int64_t *) ext_mem_91915)[gtid_76366 * ext_91914 + gtid_76367 * ext_91913];\n        eta_p_76370 = ((__global int64_t *) grid_part_prefix_sum_mem_91595)[gtid_76367];\n        defunc_0_f_res_76371 = mul64(eta_p_76369, eta_p_76370);\n        ((__global int64_t *) mem_91919)[gtid_76366 * dim_54348 + gtid_76367] = defunc_0_f_res_76371;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76363\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76379_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76379(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54348, int64_t dz2080U_54349, int64_t dz2083U_54353, __global unsigned char *mem_91930, __global unsigned char *mem_91932, __global unsigned char *mem_92055)\n{\n    #define segmap_tblock_sizze_76374 (calc_global_Skyline_GFUR_doublezisegmap_76379zisegmap_tblock_sizze_76374)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96585;\n    int32_t tblock_sizze_96588;\n    int32_t wave_sizze_96587;\n    int32_t block_id_96586;\n    int32_t global_tid_96584;\n    int64_t phys_tid_76379;\n    int64_t global_tid_96589;\n    int64_t slice_96590;\n    int64_t gtid_76378;\n    int64_t remnant_96591;\n    \n    local_tid_96585 = get_local_id(0);\n    tblock_sizze_96588 = get_local_size(0);\n    wave_sizze_96587 = LOCKSTEP_WIDTH;\n    block_id_96586 = get_tblock_id(0);\n    global_tid_96584 = block_id_96586 * tblock_sizze_96588 + local_tid_96585;\n    phys_tid_76379 = sext_i32_i64", "(global_tid_96584);\n    global_tid_96589 = sext_i32_i64(block_id_96586) * segmap_tblock_sizze_76374 + sext_i32_i64(local_tid_96585);\n    slice_96590 = dz2083U_54353;\n    gtid_76378 = global_tid_96589;\n    remnant_96591 = global_tid_96589 - gtid_76378;\n    if (slt64(gtid_76378, dz2083U_54353)) {\n        int64_t defunc_0_foldl_res_76381;\n        int64_t acc_76383;\n        bool x_76386;\n        bool y_76387;\n        bool bounds_check_76388;\n        bool index_certs_76389;\n        \n        acc_76383 = (int64_t) 0;\n        for (int64_t i_76382 = 0; i_76382 < dim_54348; i_76382++) {\n            int64_t b_76384;\n            int64_t defunc_0_f_res_76385;\n            int64_t acc_tmp_96592;\n            \n            b_76384 = ((__global int64_t *) mem_91930)[gtid_76378 + i_76382 * dz2083U_54353];\n            defunc_0_f_res_76385 = add64(acc_76383, b_76384);\n            acc_tmp_96592 = defunc_0_f_res_76385;\n            acc_76383 = acc_tmp_96592;\n        }\n        defunc_0_foldl_res_76381 = acc_76383;\n        x_76386 = sle64((int64_t) 0, defunc_0_foldl_res_76381);\n        y_76387 = slt64(defunc_0_foldl_res_76381, dz2080U_54349);\n        bounds_check_76388 = x_76386 && y_76387;\n        if (!bounds_check_76388) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 18) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_76381;\n                    global_failure_args[1] = (int64_t) dz2080U_54349;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_92055)[gtid_76378] = defunc_0_foldl_res_76381;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76374\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76399_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76399(__global int *global_failure, int64_t dim_54348, int64_t dz2083U_54353, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_91932, ",
                                    "__global unsigned char *mem_91942, __global unsigned char *mem_92055)\n{\n    #define segmap_tblock_sizze_76394 (calc_global_Skyline_GFUR_doublezisegmap_76399zisegmap_tblock_sizze_76394)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96595;\n    int32_t tblock_sizze_96598;\n    int32_t wave_sizze_96597;\n    int32_t block_id_96596;\n    int32_t global_tid_96594;\n    int64_t phys_tid_76399;\n    int64_t global_tid_96599;\n    int64_t slice_96600;\n    int64_t slice_96601;\n    int64_t gtid_76398;\n    int64_t remnant_96602;\n    int64_t gtid_slice_76397;\n    int64_t remnant_96603;\n    \n    local_tid_96595 = get_local_id(0);\n    tblock_sizze_96598 = get_local_size(0);\n    wave_sizze_96597 = LOCKSTEP_WIDTH;\n    block_id_96596 = get_tblock_id(0);\n    global_tid_96594 = block_id_96596 * tblock_sizze_96598 + local_tid_96595;\n    phys_tid_76399 = sext_i32_i64(global_tid_96594);\n    global_tid_96599 = sext_i32_i64(block_id_96596) * segmap_tblock_sizze_76394 + sext_i32_i64(local_tid_96595);\n    slice_96600 = dim_54348;\n    slice_96601 = dz2083U_54353 * slice_96600;\n    gtid_76398 = squot64(global_tid_96599, slice_96600);\n    remnant_96602 = global_tid_96599 - gtid_76398 * slice_96600;\n    gtid_slice_76397 = remnant_96602;\n    remnant_96603 = remnant_96602 - gtid_slice_76397;\n    if (slt64(gtid_76398, dz2083U_54353) && slt64(gtid_slice_76397, dim_54348)) {\n        int64_t defunc_0_foldl_res_76400;\n        bool index_certs_76401;\n        double v_76402;\n        \n        defunc_0_foldl_res_76400 = ((__global int64_t *) mem_92055)[gtid_76398];\n        index_certs_76401 = 0;\n        v_76402 = ((__global double *) start_of_grid_partition_mem_91598)[defunc_0_foldl_res_76400 * dim_54348 + gtid_slice_76397];\n        ((__global double *) mem_91942)[gtid_76398 * dim_54348 + gtid_slice_76397] = v_76402;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76394\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76414_dim1, 1, 1)\nvoid calc_global_Sky", "line_GFUR_doublezisegmap_76414(__global int *global_failure, int64_t dim_54348, int64_t dz2083U_54353, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91942)\n{\n    #define segmap_tblock_sizze_76409 (calc_global_Skyline_GFUR_doublezisegmap_76414zisegmap_tblock_sizze_76409)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96606;\n    int32_t tblock_sizze_96609;\n    int32_t wave_sizze_96608;\n    int32_t block_id_96607;\n    int32_t global_tid_96605;\n    int64_t phys_tid_76414;\n    int64_t global_tid_96610;\n    int64_t slice_96611;\n    int64_t slice_96612;\n    int64_t gtid_76412;\n    int64_t remnant_96613;\n    int64_t gtid_76413;\n    int64_t remnant_96614;\n    \n    local_tid_96606 = get_local_id(0);\n    tblock_sizze_96609 = get_local_size(0);\n    wave_sizze_96608 = LOCKSTEP_WIDTH;\n    block_id_96607 = get_tblock_id(0);\n    global_tid_96605 = block_id_96607 * tblock_sizze_96609 + local_tid_96606;\n    phys_tid_76414 = sext_i32_i64(global_tid_96605);\n    global_tid_96610 = sext_i32_i64(block_id_96607) * segmap_tblock_sizze_76409 + sext_i32_i64(local_tid_96606);\n    slice_96611 = dim_54348;\n    slice_96612 = dz2083U_54353 * slice_96611;\n    gtid_76412 = squot64(global_tid_96610, slice_96611);\n    remnant_96613 = global_tid_96610 - gtid_76412 * slice_96611;\n    gtid_76413 = remnant_96613;\n    remnant_96614 = remnant_96613 - gtid_76413;\n    if (slt64(gtid_76412, dz2083U_54353) && slt64(gtid_76413, dim_54348)) {\n        double eta_p_76415;\n        double eta_p_76416;\n        double defunc_0_f_res_76417;\n        \n        eta_p_76415 = ((__global double *) xys_mem_91601)[gtid_76412 * dim_54348 + gtid_76413];\n        eta_p_76416 = ((__global double *) mem_91942)[gtid_76412 * dim_54348 + gtid_76413];\n        defunc_0_f_res_76417 = eta_p_76415 - eta_p_76416;\n        ((__global double *) mem_91942)[gtid_76412 * dim_54348 + gtid_76413] = defunc_0_f_res_76417;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76409\n}\nFUTHARK_KERN", "EL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76436_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76436(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54348, int64_t dz2083U_54353, int64_t arg_59797, int64_t num_tblocks_76432, int32_t virt_num_tblocks_96636, __global unsigned char *mem_91956, __global unsigned char *mem_91967, __global unsigned char *mem_91985)\n{\n    #define segmap_tblock_sizze_76431 (calc_global_Skyline_GFUR_doublezisegmap_76436zisegmap_tblock_sizze_76431)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96638;\n    int32_t tblock_sizze_96641;\n    int32_t wave_sizze_96640;\n    int32_t block_id_96639;\n    int32_t global_tid_96637;\n    int64_t phys_tid_76436;\n    int32_t phys_tblock_id_96642;\n    int32_t iterations_96643;\n    \n    local_tid_96638 = get_local_id(0);\n    tblock_sizze_96641 = get_local_size(0);\n    wave_sizze_96640 = LOCKSTEP_WIDTH;\n    block_id_96639 = get_tblock_id(0);\n    global_tid_96637 = block_id_96639 * tblock_sizze_96641 + local_tid_96638;\n    phys_tid_76436 = sext_i32_i64(global_tid_96637);\n    phys_tblock_id_96642 = get_tblock_id(0);\n    iterations_96643 = sdiv_up32(virt_num_tblocks_96636 - phys_tblock_id_96642, sext_i64_i32(num_tblocks_76432));\n    for (int32_t i_96644 = 0; i_96644 < iterations_96643; i_96644++) {\n        int32_t virt_tblock_id_96645;\n        int64_t global_tid_96646;\n        int64_t slice_96647;\n        int64_t gtid_76435;\n        int64_t remnant_96648;\n        \n        virt_tblock_id_96645 = phys_tblock_id_96642 + i_96644 * sext_i64_i32(num_tblocks_76432);\n        global_tid_96646 = sext_i32_i64(virt_tblock_id_96645) * segmap_tblock_sizze_76431 + sext_i32_i64(local_tid_96638);\n        slice_96647 = dz2083U_54353;\n        gti",
                                    "d_76435 = global_tid_96646;\n        remnant_96648 = global_tid_96646 - gtid_76435;\n        if (slt64(gtid_76435, dz2083U_54353)) {\n            for (int64_t i_76440 = 0; i_76440 < arg_59797; i_76440++) {\n                int64_t index_primexp_76442;\n                bool x_76443;\n                bool y_76444;\n                bool bounds_check_76445;\n                bool index_certs_76446;\n                \n                index_primexp_76442 = add64((int64_t) 1, i_76440);\n                x_76443 = sle64((int64_t) 0, index_primexp_76442);\n                y_76444 = slt64(index_primexp_76442, dim_54348);\n                bounds_check_76445 = x_76443 && y_76444;\n                if (!bounds_check_76445) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 19) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_76442;\n                            global_failure_args[1] = (int64_t) dim_54348;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_91956)[gtid_76435 + dz2083U_54353 * index_primexp_76442 + i_0 * dz2083U_54353] = ((__global double *) mem_91967)[gtid_76435 + dz2083U_54353 * index_primexp_76442 + i_0 * dz2083U_54353];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_54348; i_0++) {\n                ((__global double *) mem_91985)[gtid_76435 + i_0 * dz2083U_54353] = ((__global double *) mem_91956)[gtid_76435 + i_0 * dz2083U_54353];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_76431\n}\nFUTHARK_KERNEL_SIZED(", "calc_global_Skyline_GFUR_doublezisegmap_76484_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76484(__global int *global_failure, int64_t dz2083U_54353, int64_t map_arg1_76457, int64_t j_m_i_76458, int64_t ext_91732, int64_t ext_91733, __global unsigned char *ext_mem_91991, __global unsigned char *mem_91999)\n{\n    #define segmap_tblock_sizze_76479 (calc_global_Skyline_GFUR_doublezisegmap_76484zisegmap_tblock_sizze_76479)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96656;\n    int32_t tblock_sizze_96659;\n    int32_t wave_sizze_96658;\n    int32_t block_id_96657;\n    int32_t global_tid_96655;\n    int64_t phys_tid_76484;\n    int64_t global_tid_96660;\n    int64_t slice_96661;\n    int64_t slice_96662;\n    int64_t gtid_76482;\n    int64_t remnant_96663;\n    int64_t gtid_76483;\n    int64_t remnant_96664;\n    \n    local_tid_96656 = get_local_id(0);\n    tblock_sizze_96659 = get_local_size(0);\n    wave_sizze_96658 = LOCKSTEP_WIDTH;\n    block_id_96657 = get_tblock_id(0);\n    global_tid_96655 = block_id_96657 * tblock_sizze_96659 + local_tid_96656;\n    phys_tid_76484 = sext_i32_i64(global_tid_96655);\n    global_tid_96660 = sext_i32_i64(block_id_96657) * segmap_tblock_sizze_76479 + sext_i32_i64(local_tid_96656);\n    slice_96661 = j_m_i_76458;\n    slice_96662 = dz2083U_54353 * slice_96661;\n    gtid_76482 = squot64(global_tid_96660, slice_96661);\n    remnant_96663 = global_tid_96660 - gtid_76482 * slice_96661;\n    gtid_76483 = remnant_96663;\n    remnant_96664 = remnant_96663 - gtid_76483;\n    if (slt64(gtid_76482, dz2083U_54353) && slt64(gtid_76483, j_m_i_76458)) {\n        int64_t slice_91261;\n        double eta_p_76485;\n        double lifted_lambda_res_76486;\n        \n        slice_91261 = map_arg1_76457 + gtid_76483;\n        eta_p_76485 = ((__global double *) ext_mem_91991)[gtid_76482 * ext_91733 + slice_91261 * ext_91732];\n        lifted_lambda_res_76486 = eta_p_76485 * eta_p_76485;\n        ((__global double *) mem_91999)[gtid_76482 * j_m_i_76", "458 + gtid_76483] = lifted_lambda_res_76486;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76479\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76494_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76494(__global int *global_failure, int64_t dz2083U_54353, int64_t arg_59797, int64_t i_76453, int64_t j_m_i_76458, int64_t num_tblocks_76490, int64_t ext_91732, int64_t ext_91733, int32_t virt_num_tblocks_96665, __global unsigned char *ext_mem_91991, __global unsigned char *mem_92010, __global unsigned char *mem_92021, __global unsigned char *mem_92033)\n{\n    #define segmap_tblock_sizze_76489 (calc_global_Skyline_GFUR_doublezisegmap_76494zisegmap_tblock_sizze_76489)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96667;\n    int32_t tblock_sizze_96670;\n    int32_t wave_sizze_96669;\n    int32_t block_id_96668;\n    int32_t global_tid_96666;\n    int64_t phys_tid_76494;\n    int32_t phys_tblock_id_96671;\n    int32_t iterations_96672;\n    \n    local_tid_96667 = get_local_id(0);\n    tblock_sizze_96670 = get_local_size(0);\n    wave_sizze_96669 = LOCKSTEP_WIDTH;\n    block_id_96668 = get_tblock_id(0);\n    global_tid_96666 = block_id_96668 * tblock_sizze_96670 + local_tid_96667;\n    phys_tid_76494 = sext_i32_i64(global_tid_96666);\n    phys_tblock_id_96671 = get_tblock_id(0);\n    iterations_96672 = sdiv_up32(virt_num_tblocks_96665 - phys_tblock_id_96671, sext_i64_i32(num_tblocks_76490));\n    for (int32_t i_96673 = 0; i_96673 < iterations_96672; i_96673++) {\n        int32_t virt_tblock_id_96674;\n        int64_t global_tid_96675;\n        int64_t slice_96676;\n        int64_t gtid_76493;\n        int64_t remnant_96677;\n        \n        virt_tblock_id_96674 = phys_tblock_id_96671 + i_96673 * sext_i64_i32(num_tblocks_76490);\n        global_tid_96675 = sext_i32_i64(virt_tblock_id_96674) * segmap_tblock_sizze_76489 + sext_i32_i64(local_tid_96667);\n        slice_96676 = dz2083U_54353;\n        gtid_76493 = global_tid_96675;\n  ",
                                    "      remnant_96677 = global_tid_96675 - gtid_76493;\n        if (slt64(gtid_76493, dz2083U_54353)) {\n            double defunc_0_seqmap_res_r_transformed_row_76496;\n            double defunc_0_foldl_res_76498;\n            double acc_76500;\n            double sqrt_res_76503;\n            double atan2_res_76504;\n            \n            defunc_0_seqmap_res_r_transformed_row_76496 = ((__global double *) ext_mem_91991)[gtid_76493 * ext_91733 + i_76453 * ext_91732];\n            acc_76500 = 0.0;\n            for (int64_t i_76499 = 0; i_76499 < j_m_i_76458; i_76499++) {\n                double b_76501;\n                double defunc_0_f_res_76502;\n                double acc_tmp_96678;\n                \n                b_76501 = ((__global double *) mem_92021)[gtid_76493 + i_76499 * dz2083U_54353];\n                defunc_0_f_res_76502 = acc_76500 + b_76501;\n                acc_tmp_96678 = defunc_0_f_res_76502;\n                acc_76500 = acc_tmp_96678;\n            }\n            defunc_0_foldl_res_76498 = acc_76500;\n            sqrt_res_76503 = futrts_sqrt64(defunc_0_foldl_res_76498);\n            atan2_res_76504 = futrts_atan2_64(sqrt_res_76503, defunc_0_seqmap_res_r_transformed_row_76496);\n            ((__global double *) mem_92010)[gtid_76493 + i_76453 * dz2083U_54353] = atan2_res_76504;\n            for (int64_t i_0 = 0; i_0 < arg_59797; i_0++) {\n                ((__global double *) mem_92033)[gtid_76493 + i_0 * dz2083U_54353] = ((__global double *) mem_92010)[gtid_76493 + i_0 * dz2083U_54353];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_76489\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76518_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76518(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_54353, int64_t arg_59797, int64_t ext_92034, int64_t ext_92035, __global unsigned char *angle", "_part_prefix_sum_mem_91593, __global unsigned char *angle_partitions_per_dim_mem_91594, __global unsigned char *ext_mem_91665, __global unsigned char *ext_mem_92037, __global unsigned char *mem_92041)\n{\n    #define segmap_tblock_sizze_76513 (calc_global_Skyline_GFUR_doublezisegmap_76518zisegmap_tblock_sizze_76513)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96681;\n    int32_t tblock_sizze_96684;\n    int32_t wave_sizze_96683;\n    int32_t block_id_96682;\n    int32_t global_tid_96680;\n    int64_t phys_tid_76518;\n    int64_t global_tid_96685;\n    int64_t slice_96686;\n    int64_t slice_96687;\n    int64_t gtid_76516;\n    int64_t remnant_96688;\n    int64_t gtid_76517;\n    int64_t remnant_96689;\n    \n    local_tid_96681 = get_local_id(0);\n    tblock_sizze_96684 = get_local_size(0);\n    wave_sizze_96683 = LOCKSTEP_WIDTH;\n    block_id_96682 = get_tblock_id(0);\n    global_tid_96680 = block_id_96682 * tblock_sizze_96684 + local_tid_96681;\n    phys_tid_76518 = sext_i32_i64(global_tid_96680);\n    global_tid_96685 = sext_i32_i64(block_id_96682) * segmap_tblock_sizze_76513 + sext_i32_i64(local_tid_96681);\n    slice_96686 = arg_59797;\n    slice_96687 = dz2083U_54353 * slice_96686;\n    gtid_76516 = squot64(global_tid_96685, slice_96686);\n    remnant_96688 = global_tid_96685 - gtid_76516 * slice_96686;\n    gtid_76517 = remnant_96688;\n    remnant_96689 = remnant_96688 - gtid_76517;\n    if (slt64(gtid_76516, dz2083U_54353) && slt64(gtid_76517, arg_59797)) {\n        double eta_p_76519;\n        double eta_p_76520;\n        int64_t eta_p_76521;\n        int64_t eta_p_76522;\n        int64_t defunc_0_f_res_76523;\n        \n        eta_p_76519 = ((__global double *) ext_mem_92037)[gtid_76516 * ext_92035 + gtid_76517 * ext_92034];\n        eta_p_76520 = ((__global double *) ext_mem_91665)[gtid_76517];\n        eta_p_76521 = ((__global int64_t *) angle_part_prefix_sum_mem_91593)[gtid_76517];\n      ", "  eta_p_76522 = ((__global int64_t *) angle_partitions_per_dim_mem_91594)[gtid_76517];\n        futrts_lifted_lambda_10152(&defunc_0_f_res_76523, eta_p_76519, eta_p_76520, eta_p_76521, eta_p_76522);\n        ((__global int64_t *) mem_92041)[gtid_76516 * arg_59797 + gtid_76517] = defunc_0_f_res_76523;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76513\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76530_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76530(__global int *global_failure, int64_t dz2083U_54353, int64_t total_angle_no_54360, int64_t arg_59797, __global unsigned char *mem_92052, __global unsigned char *mem_92055)\n{\n    #define segmap_tblock_sizze_76526 (calc_global_Skyline_GFUR_doublezisegmap_76530zisegmap_tblock_sizze_76526)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96692;\n    int32_t tblock_sizze_96695;\n    int32_t wave_sizze_96694;\n    int32_t block_id_96693;\n    int32_t global_tid_96691;\n    int64_t phys_tid_76530;\n    int64_t global_tid_96696;\n    int64_t slice_96697;\n    int64_t gtid_76529;\n    int64_t remnant_96698;\n    \n    local_tid_96692 = get_local_id(0);\n    tblock_sizze_96695 = get_local_size(0);\n    wave_sizze_96694 = LOCKSTEP_WIDTH;\n    block_id_96693 = get_tblock_id(0);\n    global_tid_96691 = block_id_96693 * tblock_sizze_96695 + local_tid_96692;\n    phys_tid_76530 = sext_i32_i64(global_tid_96691);\n    global_tid_96696 = sext_i32_i64(block_id_96693) * segmap_tblock_sizze_76526 + sext_i32_i64(local_tid_96692);\n    slice_96697 = dz2083U_54353;\n    gtid_76529 = global_tid_96696;\n    remnant_96698 = global_tid_96696 - gtid_76529;\n    if (slt64(gtid_76529, dz2083U_54353)) {\n        int64_t defunc_0_foldl_res_76531;\n        int64_t defunc_0_foldl_res_76533;\n        int64_t acc_76535;\n        int64_t zp_lhs_76538;\n        int64_t get_id_from_grid_angle_res_76539;\n        \n        defunc_0_foldl_res_76531 = ((__global int64_t *) mem_92055)[gtid_76529];\n        acc_76535 = (i",
                                    "nt64_t) 0;\n        for (int64_t i_76534 = 0; i_76534 < arg_59797; i_76534++) {\n            int64_t b_76536;\n            int64_t defunc_0_f_res_76537;\n            int64_t acc_tmp_96699;\n            \n            b_76536 = ((__global int64_t *) mem_92052)[gtid_76529 + i_76534 * dz2083U_54353];\n            defunc_0_f_res_76537 = add64(acc_76535, b_76536);\n            acc_tmp_96699 = defunc_0_f_res_76537;\n            acc_76535 = acc_tmp_96699;\n        }\n        defunc_0_foldl_res_76533 = acc_76535;\n        zp_lhs_76538 = mul64(total_angle_no_54360, defunc_0_foldl_res_76531);\n        get_id_from_grid_angle_res_76539 = add64(defunc_0_foldl_res_76533, zp_lhs_76538);\n        ((__global int64_t *) mem_92055)[gtid_76529] = get_id_from_grid_angle_res_76539;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76526\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegmap_76587_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegmap_76587(__global int *global_failure, int64_t total_part_no_54362, __global unsigned char *mem_92059, __global unsigned char *mem_92062)\n{\n    #define segmap_tblock_sizze_76583 (calc_global_Skyline_GFUR_doublezisegmap_76587zisegmap_tblock_sizze_76583)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96964;\n    int32_t tblock_sizze_96967;\n    int32_t wave_sizze_96966;\n    int32_t block_id_96965;\n    int32_t global_tid_96963;\n    int64_t phys_tid_76587;\n    int64_t global_tid_96968;\n    int64_t slice_96969;\n    int64_t gtid_76586;\n    int64_t remnant_96970;\n    \n    local_tid_96964 = get_local_id(0);\n    tblock_sizze_96967 = get_local_size(0);\n    wave_sizze_96966 = LOCKSTEP_WIDTH;\n    block_id_96965 = get_tblock_id(0);\n    global_tid_96963 = block_id_96965 * tblock_sizze_96967 + local_tid_96964;\n    phys_tid_76587 = sext_i32_i64(global_tid_96963);\n    global_tid_96968 = sext_i32_i64(block_id_96965) * segmap_tblock_sizze_76583 + sext_i32_i64(local_tid_96964);\n    slice_96969 = total_part_no_54362;\n    gtid_76586", " = global_tid_96968;\n    remnant_96970 = global_tid_96968 - gtid_76586;\n    if (slt64(gtid_76586, total_part_no_54362)) {\n        int64_t zv_lhs_76589;\n        int64_t tmp_76590;\n        bool cond_76592;\n        int64_t lifted_lambda_res_76593;\n        \n        zv_lhs_76589 = add64((int64_t) -1, gtid_76586);\n        tmp_76590 = smod64(zv_lhs_76589, total_part_no_54362);\n        cond_76592 = gtid_76586 == (int64_t) 0;\n        if (cond_76592) {\n            lifted_lambda_res_76593 = (int64_t) 0;\n        } else {\n            int64_t lifted_lambda_res_76591 = ((__global int64_t *) mem_92059)[tmp_76590];\n            \n            lifted_lambda_res_76593 = lifted_lambda_res_76591;\n        }\n        ((__global int64_t *) mem_92062)[gtid_76586] = lifted_lambda_res_76593;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_76583\n}\nFUTHARK_KERNEL\nvoid calc_global_Skyline_GFUR_doublezisegmap_intrablock_76100(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54348, int64_t dz2083U_54353, int64_t arg_59797, unsigned char cond_74721_bits, int64_t binop_x_91686, int64_t maxSubHelper_95750, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91674, __global unsigned char *mem_91906)\n{\n    bool cond_74721 = cond_74721_bits;\n    volatile __local unsigned char *color_95755_backing_4 = &shared_mem[0];\n    const int64_t color_95755_backing_4_offset = 0 + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95754_backing_3 = &shared_mem[color_95755_backing_4_offset];\n    const int64_t color_95754_backing_3_offset = color_95755_backing_4_offset + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8));\n    volatile __local un", "signed char *color_95753_backing_2 = &shared_mem[color_95754_backing_3_offset];\n    const int64_t color_95753_backing_2_offset = color_95754_backing_3_offset + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95752_backing_1 = &shared_mem[color_95753_backing_2_offset];\n    const int64_t color_95752_backing_1_offset = color_95753_backing_2_offset + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95751_backing_0 = &shared_mem[color_95752_backing_1_offset];\n    const int64_t color_95751_backing_0_offset = color_95752_backing_1_offset + (maxSubHelper_95750 + srem64((int64_t) 8 - srem64(maxSubHelper_95750, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96382;\n    int32_t tblock_sizze_96385;\n    int32_t wave_sizze_96384;\n    int32_t block_id_96383;\n    int32_t global_tid_96381;\n    int64_t phys_tblock_id_76100;\n    int64_t slice_96387;\n    int64_t ltid_pre_96386;\n    int64_t remnant_96388;\n    int64_t slice_96389;\n    int64_t gtid_76099;\n    int64_t remnant_96390;\n    __local unsigned char *color_95751;\n    __local unsigned char *color_95752;\n    __local unsigned char *color_95753;\n    __local unsigned char *color_95754;\n    __local unsigned char *color_95755;\n    int64_t min_arg1_91467;\n    __local unsigned char *ext_mem_91895;\n    int64_t f_arg0_76147;\n    int64_t min_res_76148;\n    int64_t rep_i_96398;\n    \n    local_tid_96382 = get_local_id(0);\n    tblock_sizze_96385 = get_local_size(0);\n    wave_sizze_96384 = LOCKSTEP_WIDTH;\n    block_id_96383 = get_tblock_id(0);\n    global_tid_96381 = block_id_96383 * tblock_sizze_96385 + local_tid_96382;\n    phys_tblock_id_76100 = se",
                                    "xt_i32_i64(block_id_96383);\n    slice_96387 = dim_54348;\n    ltid_pre_96386 = sext_i32_i64(local_tid_96382);\n    remnant_96388 = sext_i32_i64(local_tid_96382) - ltid_pre_96386;\n    slice_96389 = dz2083U_54353;\n    gtid_76099 = sext_i32_i64(block_id_96383);\n    remnant_96390 = sext_i32_i64(block_id_96383) - gtid_76099;\n    color_95751 = (__local unsigned char *) color_95751_backing_0;\n    color_95752 = (__local unsigned char *) color_95752_backing_1;\n    color_95753 = (__local unsigned char *) color_95753_backing_2;\n    color_95754 = (__local unsigned char *) color_95754_backing_3;\n    color_95755 = (__local unsigned char *) color_95755_backing_4;\n    min_arg1_91467 = ((__global int64_t *) mem_91674)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_74721) {\n        ext_mem_91895 = color_95752;\n    } else {\n        int64_t phys_tid_76107;\n        int64_t gtid_76106;\n        double eta_p_76108;\n        double eta_p_76109;\n        double defunc_0_f_res_76110;\n        int64_t phys_tid_76113;\n        int64_t gtid_76112;\n        double eta_p_76114;\n        double eta_p_76115;\n        double defunc_0_f_res_76116;\n        __local unsigned char *ext_mem_91882;\n        int64_t f_arg0_76133;\n        int64_t max_res_76134;\n        int64_t rep_i_96395;\n        \n        phys_tid_76107 = sext_i32_i64(local_tid_96382);\n        gtid_76106 = sext_i32_i64(sext_i64_i32(ltid_pre_96386));\n        eta_p_76108 = ((__global double *) xys_mem_91601)[gtid_76099 * dim_54348 + gtid_76106];\n        eta_p_76109 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_76106];\n        defunc_0_f_res_76110 = eta_p_76108 - eta_p_76109;\n        ((__local double *) color_95755)[gtid_76106] = defunc_0_f_res_76110;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_76113 = sext_i32_i64(local_tid_96382);\n        gtid_76112 = sext_i32_i64(sext_i64_i32(ltid_pre_96386));\n        eta_p_76114 = ((__local double *) color_95755)[gtid_76112];\n        eta_p_76115 = ((__global double *) grid_pa", "rt_sizze_per_dim_mem_91596)[gtid_76112];\n        defunc_0_f_res_76116 = eta_p_76114 / eta_p_76115;\n        ((__local double *) color_95755)[gtid_76112] = defunc_0_f_res_76116;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_74721) {\n            ext_mem_91882 = color_95751;\n        } else {\n            double f_arg0_76119;\n            int64_t f64_res_76120;\n            int64_t rep_i_96392;\n            \n            f_arg0_76119 = ((__local double *) color_95755)[(int64_t) 0];\n            f64_res_76120 = fptosi_f64_i64(f_arg0_76119);\n            rep_i_96392 = sext_i32_i64(sext_i64_i32(ltid_pre_96386));\n            ((__local int64_t *) color_95754)[rep_i_96392] = f64_res_76120;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_76123 = 0; i_76123 < arg_59797; i_76123++) {\n                int64_t index_primexp_76125;\n                bool x_76126;\n                bool y_76127;\n                bool bounds_check_76128;\n                bool index_certs_76129;\n                double f_arg0_76130;\n                int64_t f64_res_76131;\n                \n                index_primexp_76125 = add64((int64_t) 1, i_76123);\n                x_76126 = sle64((int64_t) 0, index_primexp_76125);\n                y_76127 = slt64(index_primexp_76125, dim_54348);\n                bounds_check_76128 = x_76126 && y_76127;\n                if (!bounds_check_76128) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 8) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_76125;\n                            global_failure_args[1] = (int64_t) dim_54348;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_76130 = ((__local double *) color_95755)[index_primexp_76125];\n         ", "       f64_res_76131 = fptosi_f64_i64(f_arg0_76130);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_96382 == 0) {\n                    ((__local int64_t *) color_95754)[index_primexp_76125] = f64_res_76131;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_91882 = color_95754;\n        }\n        f_arg0_76133 = ((__local int64_t *) ext_mem_91882)[(int64_t) 0];\n        max_res_76134 = smax64((int64_t) 0, f_arg0_76133);\n        rep_i_96395 = sext_i32_i64(sext_i64_i32(ltid_pre_96386));\n        ((__local int64_t *) color_95753)[rep_i_96395] = max_res_76134;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_76137 = 0; i_76137 < arg_59797; i_76137++) {\n            int64_t index_primexp_76139;\n            bool x_76140;\n            bool y_76141;\n            bool bounds_check_76142;\n            bool index_certs_76143;\n            int64_t f_arg0_76144;\n            int64_t max_res_76145;\n            \n            index_primexp_76139 = add64((int64_t) 1, i_76137);\n            x_76140 = sle64((int64_t) 0, index_primexp_76139);\n            y_76141 = slt64(index_primexp_76139, dim_54348);\n            bounds_check_76142 = x_76140 && y_76141;\n            if (!bounds_check_76142) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 9) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_76139;\n                        global_failure_args[1] = (int64_t) dim_54348;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_76144 = ((__local int64_t *) ext_mem_91882)[index_primexp_76139];\n            max_res_76145 = smax64((int64_t) 0, f_arg0_76144);\n            barrier(CLK_LOCAL_MEM_F",
                                    "ENCE);\n            if (local_tid_96382 == 0) {\n                ((__local int64_t *) color_95753)[index_primexp_76139] = max_res_76145;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_91895 = color_95753;\n    }\n    f_arg0_76147 = ((__local int64_t *) ext_mem_91895)[(int64_t) 0];\n    min_res_76148 = smin64(f_arg0_76147, min_arg1_91467);\n    rep_i_96398 = sext_i32_i64(sext_i64_i32(ltid_pre_96386));\n    ((__local int64_t *) color_95751)[rep_i_96398] = min_res_76148;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_76151 = 0; i_76151 < arg_59797; i_76151++) {\n        int64_t index_primexp_76153;\n        bool x_76154;\n        bool y_76155;\n        bool bounds_check_76156;\n        bool index_certs_76157;\n        bool index_certs_76159;\n        int64_t f_arg0_76158;\n        int64_t zm_lhs_76160;\n        int64_t min_arg1_76161;\n        int64_t min_res_76162;\n        \n        index_primexp_76153 = add64((int64_t) 1, i_76151);\n        x_76154 = sle64((int64_t) 0, index_primexp_76153);\n        y_76155 = slt64(index_primexp_76153, dim_54348);\n        bounds_check_76156 = x_76154 && y_76155;\n        if (!bounds_check_76156) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 10) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_76153;\n                    global_failure_args[1] = (int64_t) dim_54348;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_76156) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 11) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_76153;\n                    global_failure_args[1] = (int64_t) dim_54348;\n                    ;\n                }\n                local_failure = 1;\n", "                goto error_7;\n            }\n        }\n        f_arg0_76158 = ((__local int64_t *) ext_mem_91895)[index_primexp_76153];\n        zm_lhs_76160 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_76153];\n        min_arg1_76161 = sub64(zm_lhs_76160, (int64_t) 1);\n        min_res_76162 = smin64(f_arg0_76158, min_arg1_76161);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96382 == 0) {\n            ((__local int64_t *) color_95751)[index_primexp_76153] = min_res_76162;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_91906)[gtid_76099 * dim_54348 + sext_i32_i64(local_tid_96382)] = ((__local int64_t *) color_95751)[sext_i32_i64(local_tid_96382)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_global_Skyline_GFUR_doublezisegmap_intrablock_76176(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_54348, int64_t dz2083U_54353, int64_t arg_59797, unsigned char cond_74721_bits, int64_t binop_x_91686, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91809)\n{\n    bool cond_74721 = cond_74721_bits;\n    volatile __local unsigned char *color_95758_backing_2 = &shared_mem[0];\n    const int64_t color_95758_backing_2_offset = 0 + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95757_backing_1 = &shared_mem[color_95758_backing_2_offset];\n    const int64_t color_95757_backing_1_offset = color_95758_backing_2_offset + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95756_backing_0 = &shared_mem[color_95757_backing_1_offset];\n    const int64_t color_95756_backing_0_offset = color_95757_backing_1_offset + (binop_x_916", "86 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96403;\n    int32_t tblock_sizze_96406;\n    int32_t wave_sizze_96405;\n    int32_t block_id_96404;\n    int32_t global_tid_96402;\n    int64_t phys_tblock_id_76176;\n    int64_t slice_96408;\n    int64_t ltid_pre_96407;\n    int64_t remnant_96409;\n    int64_t slice_96410;\n    int64_t gtid_76175;\n    int64_t remnant_96411;\n    __local unsigned char *color_95756;\n    __local unsigned char *color_95757;\n    __local unsigned char *color_95758;\n    int64_t phys_tid_76181;\n    int64_t gtid_76180;\n    double eta_p_76182;\n    double eta_p_76183;\n    double defunc_0_f_res_76184;\n    int64_t phys_tid_76187;\n    int64_t gtid_76186;\n    double eta_p_76188;\n    double eta_p_76189;\n    double defunc_0_f_res_76190;\n    __local unsigned char *ext_mem_91798;\n    int64_t f_arg0_76207;\n    int64_t max_res_76208;\n    int64_t rep_i_96416;\n    \n    local_tid_96403 = get_local_id(0);\n    tblock_sizze_96406 = get_local_size(0);\n    wave_sizze_96405 = LOCKSTEP_WIDTH;\n    block_id_96404 = get_tblock_id(0);\n    global_tid_96402 = block_id_96404 * tblock_sizze_96406 + local_tid_96403;\n    phys_tblock_id_76176 = sext_i32_i64(block_id_96404);\n    slice_96408 = dim_54348;\n    ltid_pre_96407 = sext_i32_i64(local_tid_96403);\n    remnant_96409 = sext_i32_i64(local_tid_96403) - ltid_pre_96407;\n    slice_96410 = dz2083U_54353;\n    gtid_76175 = sext_i32_i64(block_id_96404);\n    remnant_96411 = sext_i32_i64(block_id_96404) - gtid_76175;\n    color_95756 = (__local unsigned char *) color_95756_backing_0;\n    color_95757 = (__local unsigned char *) color_95757_backing_1;\n    color_95758 = (__local unsigned char *) color_95758_backing_2;\n    phys_tid_76181 = sext_i32_i64(local_tid_964",
                                    "03);\n    gtid_76180 = sext_i32_i64(sext_i64_i32(ltid_pre_96407));\n    eta_p_76182 = ((__global double *) xys_mem_91601)[gtid_76175 * dim_54348 + gtid_76180];\n    eta_p_76183 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_76180];\n    defunc_0_f_res_76184 = eta_p_76182 - eta_p_76183;\n    ((__local double *) color_95756)[gtid_76180] = defunc_0_f_res_76184;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_76187 = sext_i32_i64(local_tid_96403);\n    gtid_76186 = sext_i32_i64(sext_i64_i32(ltid_pre_96407));\n    eta_p_76188 = ((__local double *) color_95756)[gtid_76186];\n    eta_p_76189 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_76186];\n    defunc_0_f_res_76190 = eta_p_76188 / eta_p_76189;\n    ((__local double *) color_95756)[gtid_76186] = defunc_0_f_res_76190;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_74721) {\n        ext_mem_91798 = color_95757;\n    } else {\n        double f_arg0_76193;\n        int64_t f64_res_76194;\n        int64_t rep_i_96413;\n        \n        f_arg0_76193 = ((__local double *) color_95756)[(int64_t) 0];\n        f64_res_76194 = fptosi_f64_i64(f_arg0_76193);\n        rep_i_96413 = sext_i32_i64(sext_i64_i32(ltid_pre_96407));\n        ((__local int64_t *) color_95758)[rep_i_96413] = f64_res_76194;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_76197 = 0; i_76197 < arg_59797; i_76197++) {\n            int64_t index_primexp_76199;\n            bool x_76200;\n            bool y_76201;\n            bool bounds_check_76202;\n            bool index_certs_76203;\n            double f_arg0_76204;\n            int64_t f64_res_76205;\n            \n            index_primexp_76199 = add64((int64_t) 1, i_76197);\n            x_76200 = sle64((int64_t) 0, index_primexp_76199);\n            y_76201 = slt64(index_primexp_76199, dim_54348);\n            bounds_check_76202 = x_76200 && y_76201;\n            if (!bounds_check_76202) {\n                {\n               ", "     if (atomic_cmpxchg_i32_global(global_failure, -1, 12) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_76199;\n                        global_failure_args[1] = (int64_t) dim_54348;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_76204 = ((__local double *) color_95756)[index_primexp_76199];\n            f64_res_76205 = fptosi_f64_i64(f_arg0_76204);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96403 == 0) {\n                ((__local int64_t *) color_95758)[index_primexp_76199] = f64_res_76205;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_91798 = color_95758;\n    }\n    f_arg0_76207 = ((__local int64_t *) ext_mem_91798)[(int64_t) 0];\n    max_res_76208 = smax64((int64_t) 0, f_arg0_76207);\n    rep_i_96416 = sext_i32_i64(sext_i64_i32(ltid_pre_96407));\n    ((__local int64_t *) color_95756)[rep_i_96416] = max_res_76208;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_76211 = 0; i_76211 < arg_59797; i_76211++) {\n        int64_t index_primexp_76213;\n        bool x_76214;\n        bool y_76215;\n        bool bounds_check_76216;\n        bool index_certs_76217;\n        int64_t f_arg0_76218;\n        int64_t max_res_76219;\n        \n        index_primexp_76213 = add64((int64_t) 1, i_76211);\n        x_76214 = sle64((int64_t) 0, index_primexp_76213);\n        y_76215 = slt64(index_primexp_76213, dim_54348);\n        bounds_check_76216 = x_76214 && y_76215;\n        if (!bounds_check_76216) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 13) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_76213;\n                    global_failure_args[1] = (int64_t) dim_54348;\n                    ;\n   ", "             }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_76218 = ((__local int64_t *) ext_mem_91798)[index_primexp_76213];\n        max_res_76219 = smax64((int64_t) 0, f_arg0_76218);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96403 == 0) {\n            ((__local int64_t *) color_95756)[index_primexp_76213] = max_res_76219;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_91809)[gtid_76175 * dim_54348 + sext_i32_i64(local_tid_96403)] = ((__local int64_t *) color_95756)[sext_i32_i64(local_tid_96403)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegred_large_96786_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegred_large_96786(__global int *global_failure, int64_t total_part_no_54362, int64_t num_tblocks_76544, int64_t num_subhistos_96700, int64_t blocks_per_segment_96817, int64_t q_96818, int64_t num_virtblocks_96819, int64_t threads_per_segment_96820, __global unsigned char *mem_91673, __global unsigned char *defunc_0_map_res_subhistos_mem_96701, __global unsigned char *segred_tmp_mem_96821, __global unsigned char *counters_mem_96823)\n{\n    #define seghist_tblock_sizze_76542 (calc_global_Skyline_GFUR_doublezisegred_large_96786ziseghist_tblock_sizze_76542)\n    #define chunk_sizze_96787 (calc_global_Skyline_GFUR_doublezisegred_large_96786zichunk_sizze_96787)\n    \n    volatile __local unsigned char *sync_arr_mem_96832_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_96832_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_96830_backing_0 = &shared_mem[sync_arr_mem_96832_backing_1_offset];\n    const int64_t red_arr_i64_mem_96830_backing_0_offset = sync_arr_mem_96832_backing_1_offset + ((int64_t) 8 * seghist_tblock_sizze_76542 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_76542, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_f",
                                    "ailure >= 0)\n        return;\n    \n    int32_t local_tid_96826;\n    int32_t tblock_sizze_96829;\n    int32_t wave_sizze_96828;\n    int32_t block_id_96827;\n    int32_t global_tid_96825;\n    int64_t flat_gtid_96786;\n    __local unsigned char *red_arr_i64_mem_96830;\n    __local unsigned char *sync_arr_mem_96832;\n    int32_t phys_tblock_id_96834;\n    int32_t iterations_96835;\n    \n    local_tid_96826 = get_local_id(0);\n    tblock_sizze_96829 = get_local_size(0);\n    wave_sizze_96828 = LOCKSTEP_WIDTH;\n    block_id_96827 = get_tblock_id(0);\n    global_tid_96825 = block_id_96827 * tblock_sizze_96829 + local_tid_96826;\n    flat_gtid_96786 = sext_i32_i64(global_tid_96825);\n    red_arr_i64_mem_96830 = (__local unsigned char *) red_arr_i64_mem_96830_backing_0;\n    sync_arr_mem_96832 = (__local unsigned char *) sync_arr_mem_96832_backing_1;\n    phys_tblock_id_96834 = get_tblock_id(0);\n    iterations_96835 = sdiv_up32(sext_i64_i32(num_virtblocks_96819) - phys_tblock_id_96834, sext_i64_i32(num_tblocks_76544));\n    for (int32_t i_96836 = 0; i_96836 < iterations_96835; i_96836++) {\n        int32_t virt_tblock_id_96837;\n        int64_t flat_segment_id_96838;\n        int64_t global_tid_96839;\n        int64_t slice_96840;\n        int64_t bucket_id_96784;\n        int64_t remnant_96841;\n        int64_t subhistogram_id_96785;\n        int64_t eta_p_block_res_acc_96842;\n        int64_t eta_p_76550;\n        int64_t eta_p_76551;\n        int64_t tblock_id_in_segment_96846;\n        int64_t block_base_offset_96847;\n        int32_t offset_96850;\n        int32_t skip_waves_96851;\n        int64_t eta_p_96843;\n        int64_t eta_p_96844;\n        \n        virt_tblock_id_96837 = phys_tblock_id_96834 + i_96836 * sext_i64_i32(num_tblocks_76544);\n        flat_segment_id_96838 = squot64(sext_i32_i64(virt_tblock_id_96837), blocks_per_segment_96817);\n        global_tid_96839 = srem64(sext_i32_i64(virt_tblock_id_96837) * seghist_tblock_sizze_76542 + sext_i32_i64(local_tid_96826), threads_per_segment_96820);\n", "        slice_96840 = total_part_no_54362;\n        bucket_id_96784 = flat_segment_id_96838;\n        remnant_96841 = flat_segment_id_96838 - bucket_id_96784;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_96842 = (int64_t) 0;\n        }\n        tblock_id_in_segment_96846 = squot64(global_tid_96839, seghist_tblock_sizze_76542);\n        block_base_offset_96847 = tblock_id_in_segment_96846 * q_96818 * seghist_tblock_sizze_76542;\n        for (int64_t i_96848 = 0; i_96848 < q_96818; i_96848++) {\n            int64_t block_offset_96849 = block_base_offset_96847 + i_96848 * seghist_tblock_sizze_76542;\n            \n            subhistogram_id_96785 = global_tid_96839 + threads_per_segment_96820 * i_96848;\n            if (slt64(subhistogram_id_96785, num_subhistos_96700)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_76550 = eta_p_block_res_acc_96842;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_76551 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_96701)[subhistogram_id_96785 * total_part_no_54362 + bucket_id_96784];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t defunc_0_op_res_76552 = add64(eta_p_76550, eta_p_76551);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_96842 = defunc_0_op_res_76552;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826)] = eta_p_block_res_acc_96842;\n        }\n        barrier(CLK_LOCAL_M", "EM_FENCE);\n        skip_waves_96851 = 1;\n        offset_96850 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_96826, sext_i64_i32(seghist_tblock_sizze_76542))) {\n                eta_p_96843 = ((__local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826 + offset_96850)];\n            }\n        }\n        offset_96850 = 1;\n        while (slt32(offset_96850, wave_sizze_96828)) {\n            if (slt32(local_tid_96826 + offset_96850, sext_i64_i32(seghist_tblock_sizze_76542)) && ((local_tid_96826 - squot32(local_tid_96826, wave_sizze_96828) * wave_sizze_96828) & (2 * offset_96850 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_96844 = ((volatile __local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826 + offset_96850)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_96845 = add64(eta_p_96843, eta_p_96844);\n                    \n                    eta_p_96843 = defunc_0_op_res_96845;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826)] = eta_p_96843;\n                }\n            }\n            offset_96850 *= 2;\n        }\n        while (slt32(skip_waves_96851, squot32(sext_i64_i32(seghist_tblock_sizze_76542) + wave_sizze_96828 - 1, wave_sizze_96828))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_96850 = skip_waves_96851 * wave_sizze_96828;\n            if (slt32(local_tid_96826 + offset_96850, sext_i64_i32(seghist_tblock_sizze_76542)) && ((local_tid_96826 - squot32(local_tid_96826, wave_sizze_96828) * wave_sizze_96828) == 0 && (squot32(local_tid_96826, wave_sizze_96828) & (2 * skip_waves_96851 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_96844 = ((__local int64_t *) red_arr",
                                    "_i64_mem_96830)[sext_i32_i64(local_tid_96826 + offset_96850)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_96845 = add64(eta_p_96843, eta_p_96844);\n                    \n                    eta_p_96843 = defunc_0_op_res_96845;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826)] = eta_p_96843;\n                }\n            }\n            skip_waves_96851 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_96826) == (int64_t) 0) {\n                eta_p_block_res_acc_96842 = eta_p_96843;\n            } else {\n                eta_p_block_res_acc_96842 = (int64_t) 0;\n            }\n        }\n        if (blocks_per_segment_96817 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_96826 == 0) {\n                    ((__global int64_t *) mem_91673)[bucket_id_96784] = eta_p_block_res_acc_96842;\n                }\n            }\n        } else {\n            int32_t old_counter_96852;\n            bool is_last_block_96853;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_96826 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_96821)[sext_i32_i64(virt_tblock_id_96837)] = eta_p_block_res_acc_96842;\n                    mem_fence_global();\n                    old_counter_96852 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96823)[srem64(flat_segment_id_96838, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_96832)[(int64_t) 0] = old_counter_96852 == sext_i64_i32(blocks_per_segment_96817 - (int64_t) 1);\n                }\n ", "           }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_96853 = ((__local bool *) sync_arr_mem_96832)[(int64_t) 0];\n            if (is_last_block_96853) {\n                if (local_tid_96826 == 0) {\n                    old_counter_96852 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96823)[srem64(flat_segment_id_96838, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_96817));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_96854 = sdiv_up64(blocks_per_segment_96817, seghist_tblock_sizze_76542);\n                    \n                    eta_p_76550 = (int64_t) 0;\n                    for (int64_t i_96855 = 0; i_96855 < read_per_thread_96854; i_96855++) {\n                        int64_t block_res_id_96856 = sext_i32_i64(local_tid_96826) * read_per_thread_96854 + i_96855;\n                        int64_t index_of_block_res_96857 = flat_segment_id_96838 * blocks_per_segment_96817 + block_res_id_96856;\n                        \n                        if (slt64(block_res_id_96856, blocks_per_segment_96817)) {\n                            eta_p_76551 = ((__global int64_t *) segred_tmp_mem_96821)[index_of_block_res_96857];\n                            \n                            int64_t defunc_0_op_res_76552 = add64(eta_p_76550, eta_p_76551);\n                            \n                            eta_p_76550 = defunc_0_op_res_76552;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826)] = eta_p_76550;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_96858;\n                    int32_t skip_waves_96859 = 1;\n                    int64_t eta_p_96843;\n                    int64_t eta_p_96844;\n                    \n       ", "             offset_96858 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_96826, sext_i64_i32(seghist_tblock_sizze_76542))) {\n                            eta_p_96843 = ((__local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826 + offset_96858)];\n                        }\n                    }\n                    offset_96858 = 1;\n                    while (slt32(offset_96858, wave_sizze_96828)) {\n                        if (slt32(local_tid_96826 + offset_96858, sext_i64_i32(seghist_tblock_sizze_76542)) && ((local_tid_96826 - squot32(local_tid_96826, wave_sizze_96828) * wave_sizze_96828) & (2 * offset_96858 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_96844 = ((volatile __local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826 + offset_96858)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_96845 = add64(eta_p_96843, eta_p_96844);\n                                \n                                eta_p_96843 = defunc_0_op_res_96845;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826)] = eta_p_96843;\n                            }\n                        }\n                        offset_96858 *= 2;\n                    }\n                    while (slt32(skip_waves_96859, squot32(sext_i64_i32(seghist_tblock_sizze_76542) + wave_sizze_96828 - 1, wave_sizze_96828))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_96858 = skip_waves_96859 * wave_sizze_96828;\n                        if (slt32(local_tid_96826 + offset_96858, sext_i64_i32(",
                                    "seghist_tblock_sizze_76542)) && ((local_tid_96826 - squot32(local_tid_96826, wave_sizze_96828) * wave_sizze_96828) == 0 && (squot32(local_tid_96826, wave_sizze_96828) & (2 * skip_waves_96859 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_96844 = ((__local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826 + offset_96858)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_96845 = add64(eta_p_96843, eta_p_96844);\n                                \n                                eta_p_96843 = defunc_0_op_res_96845;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_i64_mem_96830)[sext_i32_i64(local_tid_96826)] = eta_p_96843;\n                            }\n                        }\n                        skip_waves_96859 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_96826 == 0) {\n                            ((__global int64_t *) mem_91673)[bucket_id_96784] = eta_p_96843;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_76542\n    #undef chunk_sizze_96787\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegred_small_96786_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegred_small_96786(__global int *global_failure, int64_t total_part_no_54362, int64_t num_tblocks_76544, int64_t num_subhistos_96700, int64_t segment_sizze_nonzzero_96788, __global unsigned char *mem_91673, __global unsigned char *defunc_0", "_map_res_subhistos_mem_96701)\n{\n    #define seghist_tblock_sizze_76542 (calc_global_Skyline_GFUR_doublezisegred_small_96786ziseghist_tblock_sizze_76542)\n    \n    volatile __local unsigned char *red_arr_i64_mem_96795_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i64_mem_96795_backing_0_offset = 0 + ((int64_t) 8 * seghist_tblock_sizze_76542 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_76542, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96791;\n    int32_t tblock_sizze_96794;\n    int32_t wave_sizze_96793;\n    int32_t block_id_96792;\n    int32_t global_tid_96790;\n    int64_t flat_gtid_96786;\n    __local unsigned char *red_arr_i64_mem_96795;\n    int32_t phys_tblock_id_96797;\n    int32_t iterations_96798;\n    \n    local_tid_96791 = get_local_id(0);\n    tblock_sizze_96794 = get_local_size(0);\n    wave_sizze_96793 = LOCKSTEP_WIDTH;\n    block_id_96792 = get_tblock_id(0);\n    global_tid_96790 = block_id_96792 * tblock_sizze_96794 + local_tid_96791;\n    flat_gtid_96786 = sext_i32_i64(global_tid_96790);\n    red_arr_i64_mem_96795 = (__local unsigned char *) red_arr_i64_mem_96795_backing_0;\n    phys_tblock_id_96797 = get_tblock_id(0);\n    iterations_96798 = sdiv_up32(sext_i64_i32(sdiv_up64(total_part_no_54362, squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788))) - phys_tblock_id_96797, sext_i64_i32(num_tblocks_76544));\n    for (int32_t i_96799 = 0; i_96799 < iterations_96798; i_96799++) {\n        int32_t virt_tblock_id_96800;\n        int64_t slice_96801;\n        int64_t bucket_id_96784;\n        int64_t remnant_96802;\n        int64_t subhistogram_id_96785;\n        \n        virt_tblock_id_96800 = phys_tblock_id_96797 + i_96799 * sext_i64_i32(num_tblocks_76544);\n        slice_96801 = total_part_no_54362;\n        bucket_id_96784 = squot64(sext_i32_i64(local_tid_96791), segment_sizze_nonzzero_96788) + sext_i32_i64(virt_tblock_id_96800) * squot64(seghist_tblock_sizze_76542, segment_s", "izze_nonzzero_96788);\n        remnant_96802 = squot64(sext_i32_i64(local_tid_96791), segment_sizze_nonzzero_96788) + sext_i32_i64(virt_tblock_id_96800) * squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788) - bucket_id_96784;\n        subhistogram_id_96785 = srem64(sext_i32_i64(local_tid_96791), num_subhistos_96700);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_96700) && (slt64(bucket_id_96784, total_part_no_54362) && slt64(sext_i32_i64(local_tid_96791), num_subhistos_96700 * squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788)))) {\n                // save results to be reduced\n                {\n                    int64_t tmp_96803 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_96701)[subhistogram_id_96785 * total_part_no_54362 + bucket_id_96784];\n                    \n                    ((__local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791)] = tmp_96803;\n                }\n            } else {\n                ((__local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_96700)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t eta_p_76550;\n                int64_t eta_p_76551;\n                int64_t eta_p_96804;\n                int64_t eta_p_96805;\n                bool ltid_in_bounds_96807 = slt64(sext_i32_i64(local_tid_96791), num_subhistos_96700 * squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788));\n                int32_t skip_threads_96808;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_96807) {\n                        eta_p_76551 = ((volatile __local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791)];\n                        if ((local_tid_96791 - squot32(local_tid_96791",
                                    ", 32) * 32) == 0) {\n                            eta_p_76550 = eta_p_76551;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96808 = 1;\n                    while (slt32(skip_threads_96808, 32)) {\n                        bool thread_active_96809 = sle32(skip_threads_96808, local_tid_96791 - squot32(local_tid_96791, 32) * 32) && ltid_in_bounds_96807;\n                        \n                        if (thread_active_96809) {\n                            // read operands\n                            {\n                                eta_p_76550 = ((volatile __local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791) - sext_i32_i64(skip_threads_96808)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_96810 = slt64(srem64(sext_i32_i64(local_tid_96791), num_subhistos_96700), sext_i32_i64(local_tid_96791) - sext_i32_i64(local_tid_96791 - skip_threads_96808));\n                            \n                            if (thread_active_96809 && inactive_96810) {\n                                eta_p_76550 = eta_p_76551;\n                            }\n                            if (thread_active_96809) {\n                                if (!inactive_96810) {\n                                    int64_t defunc_0_op_res_76552 = add64(eta_p_76550, eta_p_76551);\n                                    \n                                    eta_p_76550 = defunc_0_op_res_76552;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_96793, skip_threads_96808)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_96809) {\n                            // write result\n                 ", "           {\n                                ((volatile __local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791)] = eta_p_76550;\n                                eta_p_76551 = eta_p_76550;\n                            }\n                        }\n                        if (sle32(wave_sizze_96793, skip_threads_96808)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96808 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_96791 - squot32(local_tid_96791, 32) * 32) == 31 && ltid_in_bounds_96807) {\n                        ((volatile __local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(squot32(local_tid_96791, 32))] = eta_p_76550;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_96811;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_96791, 32) == 0 && ltid_in_bounds_96807) {\n                            eta_p_96805 = ((volatile __local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791)];\n                            if ((local_tid_96791 - squot32(local_tid_96791, 32) * 32) == 0) {\n                                eta_p_96804 = eta_p_96805;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_96811 = 1;\n                        while (slt32(skip_threads_96811, 32)) {\n                            bool thread_active_96812 = sle32(skip_threads_96811, local_tid_96791 - squot32(local", "_tid_96791, 32) * 32) && (squot32(local_tid_96791, 32) == 0 && ltid_in_bounds_96807);\n                            \n                            if (thread_active_96812) {\n                                // read operands\n                                {\n                                    eta_p_96804 = ((volatile __local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791) - sext_i32_i64(skip_threads_96811)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_96813 = slt64(srem64(sext_i32_i64(local_tid_96791 * 32 + 32 - 1), num_subhistos_96700), sext_i32_i64(local_tid_96791 * 32 + 32 - 1) - sext_i32_i64((local_tid_96791 - skip_threads_96811) * 32 + 32 - 1));\n                                \n                                if (thread_active_96812 && inactive_96813) {\n                                    eta_p_96804 = eta_p_96805;\n                                }\n                                if (thread_active_96812) {\n                                    if (!inactive_96813) {\n                                        int64_t defunc_0_op_res_96806 = add64(eta_p_96804, eta_p_96805);\n                                        \n                                        eta_p_96804 = defunc_0_op_res_96806;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_96793, skip_threads_96811)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_96812) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791)] = eta_p_96804;\n                                    eta_p_96805 = eta_p_96804;\n                             ",
                                    "   }\n                            }\n                            if (sle32(wave_sizze_96793, skip_threads_96811)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_96811 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_96814 = squot32(local_tid_96791, 32) == 0 || !ltid_in_bounds_96807;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_96814) {\n                            eta_p_76551 = eta_p_76550;\n                            eta_p_76550 = ((__local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(squot32(local_tid_96791, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_96815 = slt64(srem64(sext_i32_i64(local_tid_96791), num_subhistos_96700), sext_i32_i64(local_tid_96791) - sext_i32_i64(squot32(local_tid_96791, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_96814) {\n                            if (inactive_96815) {\n                                eta_p_76550 = eta_p_76551;\n                            }\n                        }\n                        if (!no_carry_in_96814) {\n                            if (!inactive_96815) {\n                                int64_t defunc_0_op_res_76552 = add64(eta_p_76550, eta_p_76551);\n                                \n                                eta_p_76550 = defunc_0_op_res_76552;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_96814) {\n                            ((__local int64_t *) red_arr_i64_mem_", "96795)[sext_i32_i64(local_tid_96791)] = eta_p_76550;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_96791, 32) == 0 && ltid_in_bounds_96807) {\n                        ((__local int64_t *) red_arr_i64_mem_96795)[sext_i32_i64(local_tid_96791)] = eta_p_76551;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_96800) * squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788) + sext_i32_i64(local_tid_96791), total_part_no_54362) && slt64(sext_i32_i64(local_tid_96791), squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788))) {\n                int64_t tmp_96816 = ((__local int64_t *) red_arr_i64_mem_96795)[(sext_i32_i64(local_tid_96791) + (int64_t) 1) * segment_sizze_nonzzero_96788 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_91673)[sext_i32_i64(virt_tblock_id_96800) * squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788) + sext_i32_i64(local_tid_96791)] = tmp_96816;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_76542\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegscan_74791_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegscan_74791(__global int *global_failure, int64_t dz2083U_54353, int64_t num_tblocks_74788, int64_t num_virt_blocks_96137, int64_t num_virt_threads_96138, __global unsigned char *ext_mem_91635, __global unsigned char *mem_91638, __global unsigned char *mem_91640, __global unsigned char *status_flags_mem_96139, __global unsigned char *aggregates_mem_96161, __global ", "unsigned char *incprefixes_mem_96163, __global unsigned char *global_dynid_mem_96165)\n{\n    #define segscan_tblock_sizze_74786 (calc_global_Skyline_GFUR_doublezisegscan_74791zisegscan_tblock_sizze_74786)\n    #define chunk_sizze_96136 (calc_global_Skyline_GFUR_doublezisegscan_74791zichunk_sizze_96136)\n    \n    volatile __local unsigned char *local_mem_96195_backing_0 = &shared_mem[0];\n    const int64_t local_mem_96195_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_74786), chunk_sizze_96136 * segscan_tblock_sizze_74786 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_74786), chunk_sizze_96136 * segscan_tblock_sizze_74786 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96188;\n    int32_t tblock_sizze_96191;\n    int32_t wave_sizze_96190;\n    int32_t block_id_96189;\n    int32_t global_tid_96187;\n    int64_t phys_tid_74791;\n    int32_t chunk_sizze_32b_96192;\n    int64_t byte_offsets_96193;\n    int64_t warp_byte_offset_96194;\n    __local unsigned char *local_mem_96195;\n    int64_t trans_arr_len_96196;\n    int64_t phys_block_id_96202;\n    int64_t virtloop_bound_96203;\n    \n    local_tid_96188 = get_local_id(0);\n    tblock_sizze_96191 = get_local_size(0);\n    wave_sizze_96190 = LOCKSTEP_WIDTH;\n    block_id_96189 = get_tblock_id(0);\n    global_tid_96187 = block_id_96189 * tblock_sizze_96191 + local_tid_96188;\n    phys_tid_74791 = sext_i32_i64(global_tid_96187);\n    chunk_sizze_32b_96192 = sext_i64_i32(chunk_sizze_96136);\n    byte_offsets_96193 = segscan_tblock_sizze_74786 * (int64_t) 8;\n    warp_byte_offset_96194 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_96195 = (__local unsigned char *) local_mem_96195_backing_0;\n    trans_arr_len_96196 = chunk_sizze_96136 * segscan_tblock_sizze_74786;\n    phys_block_id_96202 = get_tblock_id(0);\n    virtloop_bound_96203 = sdiv_up64(n",
                                    "um_virt_blocks_96137 - phys_block_id_96202, num_tblocks_74788);\n    for (int64_t virtloop_i_96204 = 0; virtloop_i_96204 < virtloop_bound_96203; virtloop_i_96204++) {\n        int64_t dynamic_id_96205;\n        int64_t block_offset_96206;\n        int64_t sgm_idx_96207;\n        int32_t boundary_96208;\n        int32_t segsizze_compact_96209;\n        int64_t private_mem_96210[chunk_sizze_96136];\n        int64_t thd_offset_96212;\n        int64_t acc_96228;\n        int64_t prefix_96238;\n        bool block_new_sgm_96239;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_96188 == 0) {\n                dynamic_id_96205 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_96165)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_96195)[(int64_t) 0] = dynamic_id_96205;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_96205 == num_virt_blocks_96137 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_96165)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_96205 = ((__local int32_t *) local_mem_96195)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_96206 = dynamic_id_96205 * chunk_sizze_96136 * segscan_tblock_sizze_74786;\n        sgm_idx_96207 = smod64(block_offset_96206, dz2083U_54353);\n        boundary_96208 = sext_i64_i32(smin64(chunk_sizze_96136 * segscan_tblock_sizze_74786, dz2083U_54353 - sgm_idx_96207));\n        segsizze_compact_96209 = sext_i64_i32(smin64(chunk_sizze_96136 * segscan_tblock_sizze_74786, dz2083U_54353));\n        thd_offset_96212 = block_offset_96206 + sext_i32_i64(local_tid_96188);\n        // Load and map\n        {\n            for (int64_t i_96213 = 0; i_", "96213 < chunk_sizze_96136; i_96213++) {\n                int64_t virt_tid_96214 = thd_offset_96212 + i_96213 * segscan_tblock_sizze_74786;\n                int64_t slice_96215 = dz2083U_54353;\n                int64_t gtid_74790 = virt_tid_96214;\n                int64_t remnant_96216 = virt_tid_96214 - gtid_74790;\n                \n                if (slt64(virt_tid_96214, dz2083U_54353)) {\n                    int64_t eta_p_67292 = ((__global int64_t *) ext_mem_91635)[gtid_74790];\n                    bool lifted_lambda_res_67293 = sle64((int64_t) 0, eta_p_67292);\n                    int64_t defunc_0_f_res_67294 = btoi_bool_i64(lifted_lambda_res_67293);\n                    \n                    ((__global int64_t *) mem_91640)[gtid_74790] = defunc_0_f_res_67294;\n                    private_mem_96210[i_96213] = defunc_0_f_res_67294;\n                } else {\n                    private_mem_96210[i_96213] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_96217 = 0; i_96217 < chunk_sizze_96136; i_96217++) {\n                int64_t sharedIdx_96218 = sext_i32_i64(local_tid_96188) + i_96217 * segscan_tblock_sizze_74786;\n                int64_t tmp_96219 = private_mem_96210[i_96217];\n                \n                ((__local int64_t *) local_mem_96195)[sharedIdx_96218] = tmp_96219;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96220 = 0; i_96220 < chunk_sizze_96136; i_96220++) {\n                int64_t sharedIdx_96221 = sext_i32_i64(local_tid_96188) * chunk_sizze_96136 + i_96220;\n                int64_t tmp_96222 = ((__local int64_t *) local_mem_96195)[sharedIdx_96221];\n                \n                private_mem_96210[i_96220] = tmp_96222;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_96223 = 0; i_96223 < chunk_sizze_96136 - (int64_t) 1; i_96223", "++) {\n                int64_t eta_p_59885;\n                int64_t eta_p_59886;\n                \n                eta_p_59885 = private_mem_96210[i_96223];\n                eta_p_59886 = private_mem_96210[i_96223 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_59887 = add64(eta_p_59885, eta_p_59886);\n                \n                private_mem_96210[i_96223 + (int64_t) 1] = defunc_0_op_res_59887;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_96224 = private_mem_96210[chunk_sizze_96136 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)] = tmp_96224;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_96225;\n            int64_t eta_p_96226;\n            int64_t eta_p_96229;\n            int64_t eta_p_96230;\n            bool ltid_in_bounds_96232 = slt64(sext_i32_i64(local_tid_96188), num_virt_threads_96138);\n            int32_t skip_threads_96233;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_96232) {\n                    eta_p_96226 = ((volatile __local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)];\n                    if ((local_tid_96188 - squot32(local_tid_96188, 32) * 32) == 0) {\n                        eta_p_96225 = eta_p_96226;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_96233 = 1;\n                while (slt32(skip_threads_96233, 32)) {\n                    bool thread_active_96234 = sle32(skip_threads_96233, local_tid_96188 - squot32(local_tid_96188, 32) * 32) && ltid_in_bounds_96232;\n                    \n                    if (thread_active_96234) {\n                        // read operands\n                        {\n                            eta_p_96225 = ((volatile __",
                                    "local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188) - sext_i32_i64(skip_threads_96233)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_96234) {\n                            int64_t defunc_0_op_res_96227 = add64(eta_p_96225, eta_p_96226);\n                            \n                            eta_p_96225 = defunc_0_op_res_96227;\n                        }\n                    }\n                    if (sle32(wave_sizze_96190, skip_threads_96233)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_96234) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)] = eta_p_96225;\n                            eta_p_96226 = eta_p_96225;\n                        }\n                    }\n                    if (sle32(wave_sizze_96190, skip_threads_96233)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_96233 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_96188 - squot32(local_tid_96188, 32) * 32) == 31 && ltid_in_bounds_96232) {\n                    ((volatile __local int64_t *) local_mem_96195)[sext_i32_i64(squot32(local_tid_96188, 32))] = eta_p_96225;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_96235;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_96188, 32) == 0 && ltid_in_bounds_96232) {\n                        eta_p_96230 = (", "(volatile __local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)];\n                        if ((local_tid_96188 - squot32(local_tid_96188, 32) * 32) == 0) {\n                            eta_p_96229 = eta_p_96230;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96235 = 1;\n                    while (slt32(skip_threads_96235, 32)) {\n                        bool thread_active_96236 = sle32(skip_threads_96235, local_tid_96188 - squot32(local_tid_96188, 32) * 32) && (squot32(local_tid_96188, 32) == 0 && ltid_in_bounds_96232);\n                        \n                        if (thread_active_96236) {\n                            // read operands\n                            {\n                                eta_p_96229 = ((volatile __local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188) - sext_i32_i64(skip_threads_96235)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_96236) {\n                                int64_t defunc_0_op_res_96231 = add64(eta_p_96229, eta_p_96230);\n                                \n                                eta_p_96229 = defunc_0_op_res_96231;\n                            }\n                        }\n                        if (sle32(wave_sizze_96190, skip_threads_96235)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_96236) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)] = eta_p_96229;\n                                eta_p_96230 = eta_p_96229;\n                            }\n                        }\n                        if (sle32(wave_sizze_96190, skip_th", "reads_96235)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96235 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_96237 = squot32(local_tid_96188, 32) == 0 || !ltid_in_bounds_96232;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_96237) {\n                        eta_p_96226 = eta_p_96225;\n                        eta_p_96225 = ((__local int64_t *) local_mem_96195)[sext_i32_i64(squot32(local_tid_96188, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_96237) {\n                        int64_t defunc_0_op_res_96227 = add64(eta_p_96225, eta_p_96226);\n                        \n                        eta_p_96225 = defunc_0_op_res_96227;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_96237) {\n                        ((__local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)] = eta_p_96225;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_96188, 32) == 0 && ltid_in_bounds_96232) {\n                    ((__local int64_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)] = eta_p_96226;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96188 == 0) {\n                acc_96228 = ((__local int64_t *) local_mem_96195)[segscan_tblock_sizze_74786 - (int64_t) 1];\n            } else {\n                acc_96228 = ((__local int64_t *) local_mem_96195)[sext_i32_i6",
                                    "4(local_tid_96188) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_96238 = (int64_t) 0;\n        block_new_sgm_96239 = sgm_idx_96207 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_96239 && local_tid_96188 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_96163)[dynamic_id_96205] = acc_96228;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_96139)[dynamic_id_96205] = (int8_t) 2;\n                acc_96228 = (int64_t) 0;\n            }\n            if (!block_new_sgm_96239 && slt32(local_tid_96188, wave_sizze_96190)) {\n                if (local_tid_96188 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_96161)[dynamic_id_96205] = acc_96228;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_96139)[dynamic_id_96205] = (int8_t) 1;\n                    \n                    int8_t tmp_96240 = ((volatile __global int8_t *) status_flags_mem_96139)[dynamic_id_96205 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_96195)[(int64_t) 0] = tmp_96240;\n                }\n                mem_fence_local();\n                \n                int8_t status_96241 = ((__local int8_t *) local_mem_96195)[(int64_t) 0];\n                \n                if (status_96241 == (int8_t) 2) {\n                    if (local_tid_96188 == 0) {\n                        prefix_96238 = ((volatile __global int64_t *) incprefixes_mem_96163)[dynamic_id_96205 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_96242 = sext_i64_i32(dynamic_id_96205 - sext_i32_i64(wave_sizze_96190));\n                    \n                    while (slt32(wave_sizze_96190 * -1, readOffset_96242)) {\n                        int32_t read_i_96243 = readOffset_96242 + local_tid_96188;\n                        int64_", "t aggr_96244 = (int64_t) 0;\n                        int8_t flag_96245 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_96243)) {\n                            flag_96245 = ((volatile __global int8_t *) status_flags_mem_96139)[sext_i32_i64(read_i_96243)];\n                            if (flag_96245 == (int8_t) 2) {\n                                aggr_96244 = ((volatile __global int64_t *) incprefixes_mem_96163)[sext_i32_i64(read_i_96243)];\n                            } else if (flag_96245 == (int8_t) 1) {\n                                aggr_96244 = ((volatile __global int64_t *) aggregates_mem_96161)[sext_i32_i64(read_i_96243)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_96195)[(int64_t) 4 + sext_i32_i64(local_tid_96188)] = aggr_96244;\n                        ((__local int8_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)] = flag_96245;\n                        flag_96245 = ((__local int8_t *) local_mem_96195)[sext_i32_i64(wave_sizze_96190) - (int64_t) 1];\n                        if (slt8(flag_96245, (int8_t) 2)) {\n                            int8_t flg_x_96249;\n                            int8_t flg_y_96250;\n                            int64_t eta_p_96246;\n                            int64_t eta_p_96247;\n                            int32_t skip_threads_96251;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_96250 = ((volatile __local int8_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)];\n                                eta_p_96247 = ((volatile __local int64_t *) local_mem_96195)[(int64_t) 4 + sext_i32_i64(local_tid_96188)];\n                                if ((local_tid_96188 - squot32(local_tid_96188, 32) * 32) == 0) {\n                                    eta_p_96246 = eta_p_96247;\n                                    flg_x_96249 = flg_y_96250;\n           ", "                     }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_96251 = 1;\n                                while (slt32(skip_threads_96251, 32)) {\n                                    if (sle32(skip_threads_96251, local_tid_96188 - squot32(local_tid_96188, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_96249 = ((volatile __local int8_t *) local_mem_96195)[sext_i32_i64(local_tid_96188) - sext_i32_i64(skip_threads_96251)];\n                                            eta_p_96246 = ((volatile __local int64_t *) local_mem_96195)[(int64_t) 4 + (sext_i32_i64(local_tid_96188) - sext_i32_i64(skip_threads_96251))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_96250 == (int8_t) 2 || flg_y_96250 == (int8_t) 0) {\n                                                flg_x_96249 = flg_y_96250;\n                                                eta_p_96246 = eta_p_96247;\n                                            } else {\n                                                int64_t defunc_0_op_res_96248 = add64(eta_p_96246, eta_p_96247);\n                                                \n                                                eta_p_96246 = defunc_0_op_res_96248;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_96195)[sext_i32_i64(local_tid_96188)] = flg_x_96249;\n                                            flg_y_96250 = flg_x_96249;\n                                       ",
                                    "     ((volatile __local int64_t *) local_mem_96195)[(int64_t) 4 + sext_i32_i64(local_tid_96188)] = eta_p_96246;\n                                            eta_p_96247 = eta_p_96246;\n                                        }\n                                    }\n                                    skip_threads_96251 *= 2;\n                                }\n                            }\n                        }\n                        flag_96245 = ((__local int8_t *) local_mem_96195)[sext_i32_i64(wave_sizze_96190) - (int64_t) 1];\n                        aggr_96244 = ((__local int64_t *) local_mem_96195)[(int64_t) 4 + (sext_i32_i64(wave_sizze_96190) - (int64_t) 1)];\n                        if (flag_96245 == (int8_t) 2) {\n                            readOffset_96242 = wave_sizze_96190 * -1;\n                        } else if (flag_96245 == (int8_t) 1) {\n                            readOffset_96242 -= wave_sizze_96190;\n                        }\n                        if (slt8((int8_t) 0, flag_96245)) {\n                            int64_t eta_p_96252 = aggr_96244;\n                            int64_t eta_p_96253 = prefix_96238;\n                            int64_t defunc_0_op_res_96254 = add64(eta_p_96252, eta_p_96253);\n                            \n                            prefix_96238 = defunc_0_op_res_96254;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_96188 == 0) {\n                    if (boundary_96208 == sext_i64_i32(segscan_tblock_sizze_74786 * chunk_sizze_96136)) {\n                        int64_t eta_p_96255 = prefix_96238;\n                        int64_t eta_p_96256 = acc_96228;\n                        int64_t defunc_0_op_res_96257 = add64(eta_p_96255, eta_p_96256);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_96163)[dynamic_id_96205] = defunc_0_op_res_96257;\n                        mem_fence_global();\n                 ", "       ((volatile __global int8_t *) status_flags_mem_96139)[dynamic_id_96205] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_96195)[(int64_t) 4] = prefix_96238;\n                    acc_96228 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_96205 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_96238 = ((__local int64_t *) local_mem_96195)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_96258;\n            int64_t eta_p_96259;\n            int64_t eta_p_96261 = prefix_96238;\n            int64_t eta_p_96262 = acc_96228;\n            \n            if (slt32(local_tid_96188 * chunk_sizze_32b_96192, boundary_96208) && !block_new_sgm_96239) {\n                int64_t defunc_0_op_res_96263 = add64(eta_p_96261, eta_p_96262);\n                \n                eta_p_96258 = defunc_0_op_res_96263;\n            } else {\n                eta_p_96258 = acc_96228;\n            }\n            \n            int32_t stopping_point_96264 = segsizze_compact_96209 - srem32(local_tid_96188 * chunk_sizze_32b_96192 - 1 + segsizze_compact_96209 - boundary_96208, segsizze_compact_96209);\n            \n            for (int64_t i_96265 = 0; i_96265 < chunk_sizze_96136; i_96265++) {\n                if (slt32(sext_i64_i32(i_96265), stopping_point_96264 - 1)) {\n                    eta_p_96259 = private_mem_96210[i_96265];\n                    \n                    int64_t defunc_0_op_res_96260 = add64(eta_p_96258, eta_p_96259);\n                    \n                    private_mem_96210[i_96265] = defunc_0_op_res_96260;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_96266 = 0; i_96266 < chunk_sizze_96136; i_96266++) {\n                int64_t sharedIdx_96267 = sext_i32_i64(local_tid_96188) * c", "hunk_sizze_96136 + i_96266;\n                int64_t tmp_96268 = private_mem_96210[i_96266];\n                \n                ((__local int64_t *) local_mem_96195)[sharedIdx_96267] = tmp_96268;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96269 = 0; i_96269 < chunk_sizze_96136; i_96269++) {\n                int64_t flat_idx_96270 = thd_offset_96212 + i_96269 * segscan_tblock_sizze_74786;\n                int64_t slice_96271 = dz2083U_54353;\n                int64_t gtid_74790 = flat_idx_96270;\n                int64_t remnant_96272 = flat_idx_96270 - gtid_74790;\n                \n                if (slt64(flat_idx_96270, dz2083U_54353)) {\n                    int64_t tmp_96273 = ((__local int64_t *) local_mem_96195)[flat_idx_96270 - block_offset_96206];\n                    \n                    ((__global int64_t *) mem_91638)[gtid_74790] = tmp_96273;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_74786\n    #undef chunk_sizze_96136\n}\nFUTHARK_KERNEL_SIZED(calc_global_Skyline_GFUR_doublezisegscan_76567_dim1, 1, 1)\nvoid calc_global_Skyline_GFUR_doublezisegscan_76567(__global int *global_failure, int64_t total_part_no_54362, int64_t num_tblocks_76564, int64_t num_virt_blocks_96865, int64_t num_virt_threads_96866, __global unsigned char *mem_91673, __global unsigned char *mem_92059, __global unsigned char *status_flags_mem_96867, __global unsigned char *aggregates_mem_96869, __global unsigned char *incprefixes_mem_96871, __global unsigned char *global_dynid_mem_96873)\n{\n    #define segscan_tblock_sizze_76562 (calc_global_Skyline_GFUR_doublezisegscan_76567zisegscan_tblock_sizze_76562)\n    #define chunk_sizze_96864 (calc_global_Skyline_GFUR_doublezisegscan_76567zichunk_sizze_96864)\n    \n    volatile __local unsigned char *local_mem_96883_backing_0 = &shared_mem[0];\n    const int64_t local_mem_96883_backing_0_offset = 0 + (smax64(smax64((int64",
                                    "_t) 288, (int64_t) 8 * segscan_tblock_sizze_76562), chunk_sizze_96864 * segscan_tblock_sizze_76562 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_76562), chunk_sizze_96864 * segscan_tblock_sizze_76562 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96876;\n    int32_t tblock_sizze_96879;\n    int32_t wave_sizze_96878;\n    int32_t block_id_96877;\n    int32_t global_tid_96875;\n    int64_t phys_tid_76567;\n    int32_t chunk_sizze_32b_96880;\n    int64_t byte_offsets_96881;\n    int64_t warp_byte_offset_96882;\n    __local unsigned char *local_mem_96883;\n    int64_t trans_arr_len_96884;\n    int64_t phys_block_id_96890;\n    int64_t virtloop_bound_96891;\n    \n    local_tid_96876 = get_local_id(0);\n    tblock_sizze_96879 = get_local_size(0);\n    wave_sizze_96878 = LOCKSTEP_WIDTH;\n    block_id_96877 = get_tblock_id(0);\n    global_tid_96875 = block_id_96877 * tblock_sizze_96879 + local_tid_96876;\n    phys_tid_76567 = sext_i32_i64(global_tid_96875);\n    chunk_sizze_32b_96880 = sext_i64_i32(chunk_sizze_96864);\n    byte_offsets_96881 = segscan_tblock_sizze_76562 * (int64_t) 8;\n    warp_byte_offset_96882 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_96883 = (__local unsigned char *) local_mem_96883_backing_0;\n    trans_arr_len_96884 = chunk_sizze_96864 * segscan_tblock_sizze_76562;\n    phys_block_id_96890 = get_tblock_id(0);\n    virtloop_bound_96891 = sdiv_up64(num_virt_blocks_96865 - phys_block_id_96890, num_tblocks_76564);\n    for (int64_t virtloop_i_96892 = 0; virtloop_i_96892 < virtloop_bound_96891; virtloop_i_96892++) {\n        int64_t dynamic_id_96893;\n        int64_t block_offset_96894;\n        int64_t sgm_idx_96895;\n        int32_t boundary_96896;\n        int32_t segsizze_compact_96897;\n        int64_t private_mem_96898[chunk_sizze_96864];\n        int64_t thd_offset_96900;\n        int64_t acc_96916;\n        int", "64_t prefix_96926;\n        bool block_new_sgm_96927;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_96876 == 0) {\n                dynamic_id_96893 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_96873)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_96883)[(int64_t) 0] = dynamic_id_96893;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_96893 == num_virt_blocks_96865 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_96873)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_96893 = ((__local int32_t *) local_mem_96883)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_96894 = dynamic_id_96893 * chunk_sizze_96864 * segscan_tblock_sizze_76562;\n        sgm_idx_96895 = smod64(block_offset_96894, total_part_no_54362);\n        boundary_96896 = sext_i64_i32(smin64(chunk_sizze_96864 * segscan_tblock_sizze_76562, total_part_no_54362 - sgm_idx_96895));\n        segsizze_compact_96897 = sext_i64_i32(smin64(chunk_sizze_96864 * segscan_tblock_sizze_76562, total_part_no_54362));\n        thd_offset_96900 = block_offset_96894 + sext_i32_i64(local_tid_96876);\n        // Load and map\n        {\n            for (int64_t i_96901 = 0; i_96901 < chunk_sizze_96864; i_96901++) {\n                int64_t virt_tid_96902 = thd_offset_96900 + i_96901 * segscan_tblock_sizze_76562;\n                int64_t slice_96903 = total_part_no_54362;\n                int64_t gtid_76566 = virt_tid_96902;\n                int64_t remnant_96904 = virt_tid_96902 - gtid_76566;\n                \n                if (slt64(virt_tid_96902, total_part_no_54362)) {\n                    int64_t x_60126 = ((__glo", "bal int64_t *) mem_91673)[gtid_76566];\n                    \n                    private_mem_96898[i_96901] = x_60126;\n                } else {\n                    private_mem_96898[i_96901] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_96905 = 0; i_96905 < chunk_sizze_96864; i_96905++) {\n                int64_t sharedIdx_96906 = sext_i32_i64(local_tid_96876) + i_96905 * segscan_tblock_sizze_76562;\n                int64_t tmp_96907 = private_mem_96898[i_96905];\n                \n                ((__local int64_t *) local_mem_96883)[sharedIdx_96906] = tmp_96907;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96908 = 0; i_96908 < chunk_sizze_96864; i_96908++) {\n                int64_t sharedIdx_96909 = sext_i32_i64(local_tid_96876) * chunk_sizze_96864 + i_96908;\n                int64_t tmp_96910 = ((__local int64_t *) local_mem_96883)[sharedIdx_96909];\n                \n                private_mem_96898[i_96908] = tmp_96910;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_96911 = 0; i_96911 < chunk_sizze_96864 - (int64_t) 1; i_96911++) {\n                int64_t eta_p_60127;\n                int64_t eta_p_60128;\n                \n                eta_p_60127 = private_mem_96898[i_96911];\n                eta_p_60128 = private_mem_96898[i_96911 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_60129 = add64(eta_p_60127, eta_p_60128);\n                \n                private_mem_96898[i_96911 + (int64_t) 1] = defunc_0_op_res_60129;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_96912 = private_mem_96898[chunk_sizze_96864 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)] = tmp_96912;\n            barrier(CLK_LOC",
                                    "AL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_96913;\n            int64_t eta_p_96914;\n            int64_t eta_p_96917;\n            int64_t eta_p_96918;\n            bool ltid_in_bounds_96920 = slt64(sext_i32_i64(local_tid_96876), num_virt_threads_96866);\n            int32_t skip_threads_96921;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_96920) {\n                    eta_p_96914 = ((volatile __local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)];\n                    if ((local_tid_96876 - squot32(local_tid_96876, 32) * 32) == 0) {\n                        eta_p_96913 = eta_p_96914;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_96921 = 1;\n                while (slt32(skip_threads_96921, 32)) {\n                    bool thread_active_96922 = sle32(skip_threads_96921, local_tid_96876 - squot32(local_tid_96876, 32) * 32) && ltid_in_bounds_96920;\n                    \n                    if (thread_active_96922) {\n                        // read operands\n                        {\n                            eta_p_96913 = ((volatile __local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876) - sext_i32_i64(skip_threads_96921)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_96922) {\n                            int64_t defunc_0_op_res_96915 = add64(eta_p_96913, eta_p_96914);\n                            \n                            eta_p_96913 = defunc_0_op_res_96915;\n                        }\n                    }\n                    if (sle32(wave_sizze_96878, skip_threads_96921)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_96922) {\n                        // w", "rite result\n                        {\n                            ((volatile __local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)] = eta_p_96913;\n                            eta_p_96914 = eta_p_96913;\n                        }\n                    }\n                    if (sle32(wave_sizze_96878, skip_threads_96921)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_96921 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_96876 - squot32(local_tid_96876, 32) * 32) == 31 && ltid_in_bounds_96920) {\n                    ((volatile __local int64_t *) local_mem_96883)[sext_i32_i64(squot32(local_tid_96876, 32))] = eta_p_96913;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_96923;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_96876, 32) == 0 && ltid_in_bounds_96920) {\n                        eta_p_96918 = ((volatile __local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)];\n                        if ((local_tid_96876 - squot32(local_tid_96876, 32) * 32) == 0) {\n                            eta_p_96917 = eta_p_96918;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96923 = 1;\n                    while (slt32(skip_threads_96923, 32)) {\n                        bool thread_active_96924 = sle32(skip_threads_96923, local_tid_96876 - squot32(local_tid_96876, 32) * 32) && (squot32(local_tid_96876, 32) == 0 && ltid_in_bounds_96920);\n                        \n                        if", " (thread_active_96924) {\n                            // read operands\n                            {\n                                eta_p_96917 = ((volatile __local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876) - sext_i32_i64(skip_threads_96923)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_96924) {\n                                int64_t defunc_0_op_res_96919 = add64(eta_p_96917, eta_p_96918);\n                                \n                                eta_p_96917 = defunc_0_op_res_96919;\n                            }\n                        }\n                        if (sle32(wave_sizze_96878, skip_threads_96923)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_96924) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)] = eta_p_96917;\n                                eta_p_96918 = eta_p_96917;\n                            }\n                        }\n                        if (sle32(wave_sizze_96878, skip_threads_96923)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96923 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_96925 = squot32(local_tid_96876, 32) == 0 || !ltid_in_bounds_96920;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_96925) {\n                        eta_p_96914 = eta_p_96913;\n                        eta_p_96913 = ((__local int64_t *) local_mem_96883)[sext_i32_i64(squot32(local_tid_96876, 32)) - (int64_t) 1]",
                                    ";\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_96925) {\n                        int64_t defunc_0_op_res_96915 = add64(eta_p_96913, eta_p_96914);\n                        \n                        eta_p_96913 = defunc_0_op_res_96915;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_96925) {\n                        ((__local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)] = eta_p_96913;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_96876, 32) == 0 && ltid_in_bounds_96920) {\n                    ((__local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)] = eta_p_96914;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96876 == 0) {\n                acc_96916 = ((__local int64_t *) local_mem_96883)[segscan_tblock_sizze_76562 - (int64_t) 1];\n            } else {\n                acc_96916 = ((__local int64_t *) local_mem_96883)[sext_i32_i64(local_tid_96876) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_96926 = (int64_t) 0;\n        block_new_sgm_96927 = sgm_idx_96895 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_96927 && local_tid_96876 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_96871)[dynamic_id_96893] = acc_96916;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_96867)[dynamic_id_96893] = (int8_t) 2;\n                acc_96916 = (int64_t) 0;\n            }\n            if (!block_new_sgm_96927 && slt32(local_tid_96876, wave_sizze_96878)) {\n                if (local_tid_96876 == 0) {\n", "                    ((volatile __global int64_t *) aggregates_mem_96869)[dynamic_id_96893] = acc_96916;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_96867)[dynamic_id_96893] = (int8_t) 1;\n                    \n                    int8_t tmp_96928 = ((volatile __global int8_t *) status_flags_mem_96867)[dynamic_id_96893 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_96883)[(int64_t) 0] = tmp_96928;\n                }\n                mem_fence_local();\n                \n                int8_t status_96929 = ((__local int8_t *) local_mem_96883)[(int64_t) 0];\n                \n                if (status_96929 == (int8_t) 2) {\n                    if (local_tid_96876 == 0) {\n                        prefix_96926 = ((volatile __global int64_t *) incprefixes_mem_96871)[dynamic_id_96893 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_96930 = sext_i64_i32(dynamic_id_96893 - sext_i32_i64(wave_sizze_96878));\n                    \n                    while (slt32(wave_sizze_96878 * -1, readOffset_96930)) {\n                        int32_t read_i_96931 = readOffset_96930 + local_tid_96876;\n                        int64_t aggr_96932 = (int64_t) 0;\n                        int8_t flag_96933 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_96931)) {\n                            flag_96933 = ((volatile __global int8_t *) status_flags_mem_96867)[sext_i32_i64(read_i_96931)];\n                            if (flag_96933 == (int8_t) 2) {\n                                aggr_96932 = ((volatile __global int64_t *) incprefixes_mem_96871)[sext_i32_i64(read_i_96931)];\n                            } else if (flag_96933 == (int8_t) 1) {\n                                aggr_96932 = ((volatile __global int64_t *) aggregates_mem_96869)[sext_i32_i64(read_i_96931)];\n                            }\n                     ", "   }\n                        ((__local int64_t *) local_mem_96883)[(int64_t) 4 + sext_i32_i64(local_tid_96876)] = aggr_96932;\n                        ((__local int8_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)] = flag_96933;\n                        flag_96933 = ((__local int8_t *) local_mem_96883)[sext_i32_i64(wave_sizze_96878) - (int64_t) 1];\n                        if (slt8(flag_96933, (int8_t) 2)) {\n                            int8_t flg_x_96937;\n                            int8_t flg_y_96938;\n                            int64_t eta_p_96934;\n                            int64_t eta_p_96935;\n                            int32_t skip_threads_96939;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_96938 = ((volatile __local int8_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)];\n                                eta_p_96935 = ((volatile __local int64_t *) local_mem_96883)[(int64_t) 4 + sext_i32_i64(local_tid_96876)];\n                                if ((local_tid_96876 - squot32(local_tid_96876, 32) * 32) == 0) {\n                                    eta_p_96934 = eta_p_96935;\n                                    flg_x_96937 = flg_y_96938;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_96939 = 1;\n                                while (slt32(skip_threads_96939, 32)) {\n                                    if (sle32(skip_threads_96939, local_tid_96876 - squot32(local_tid_96876, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_96937 = ((volatile __local int8_t *) local_mem_96883)[sext_i32_i64(local_tid_96876) - sext_i32_i64(skip_threads_96939)];\n                                         ",
                                    "   eta_p_96934 = ((volatile __local int64_t *) local_mem_96883)[(int64_t) 4 + (sext_i32_i64(local_tid_96876) - sext_i32_i64(skip_threads_96939))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_96938 == (int8_t) 2 || flg_y_96938 == (int8_t) 0) {\n                                                flg_x_96937 = flg_y_96938;\n                                                eta_p_96934 = eta_p_96935;\n                                            } else {\n                                                int64_t defunc_0_op_res_96936 = add64(eta_p_96934, eta_p_96935);\n                                                \n                                                eta_p_96934 = defunc_0_op_res_96936;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_96883)[sext_i32_i64(local_tid_96876)] = flg_x_96937;\n                                            flg_y_96938 = flg_x_96937;\n                                            ((volatile __local int64_t *) local_mem_96883)[(int64_t) 4 + sext_i32_i64(local_tid_96876)] = eta_p_96934;\n                                            eta_p_96935 = eta_p_96934;\n                                        }\n                                    }\n                                    skip_threads_96939 *= 2;\n                                }\n                            }\n                        }\n                        flag_96933 = ((__local int8_t *) local_mem_96883)[sext_i32_i64(wave_sizze_96878) - (int64_t) 1];\n                        aggr_96932 = ((__local int64_t *) local_mem_96883)[(int64_t) 4 + (sext_i32_i64(wave_sizze_96878) - (int64_t) 1)];\n                        if (flag_96933 == (int8", "_t) 2) {\n                            readOffset_96930 = wave_sizze_96878 * -1;\n                        } else if (flag_96933 == (int8_t) 1) {\n                            readOffset_96930 -= wave_sizze_96878;\n                        }\n                        if (slt8((int8_t) 0, flag_96933)) {\n                            int64_t eta_p_96940 = aggr_96932;\n                            int64_t eta_p_96941 = prefix_96926;\n                            int64_t defunc_0_op_res_96942 = add64(eta_p_96940, eta_p_96941);\n                            \n                            prefix_96926 = defunc_0_op_res_96942;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_96876 == 0) {\n                    if (boundary_96896 == sext_i64_i32(segscan_tblock_sizze_76562 * chunk_sizze_96864)) {\n                        int64_t eta_p_96943 = prefix_96926;\n                        int64_t eta_p_96944 = acc_96916;\n                        int64_t defunc_0_op_res_96945 = add64(eta_p_96943, eta_p_96944);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_96871)[dynamic_id_96893] = defunc_0_op_res_96945;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_96867)[dynamic_id_96893] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_96883)[(int64_t) 4] = prefix_96926;\n                    acc_96916 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_96893 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_96926 = ((__local int64_t *) local_mem_96883)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_96946;\n            int64_t eta_p_96947;\n            int64_t eta_p_96949 = prefix_96926;\n            int64_t eta_p_96950 = ", "acc_96916;\n            \n            if (slt32(local_tid_96876 * chunk_sizze_32b_96880, boundary_96896) && !block_new_sgm_96927) {\n                int64_t defunc_0_op_res_96951 = add64(eta_p_96949, eta_p_96950);\n                \n                eta_p_96946 = defunc_0_op_res_96951;\n            } else {\n                eta_p_96946 = acc_96916;\n            }\n            \n            int32_t stopping_point_96952 = segsizze_compact_96897 - srem32(local_tid_96876 * chunk_sizze_32b_96880 - 1 + segsizze_compact_96897 - boundary_96896, segsizze_compact_96897);\n            \n            for (int64_t i_96953 = 0; i_96953 < chunk_sizze_96864; i_96953++) {\n                if (slt32(sext_i64_i32(i_96953), stopping_point_96952 - 1)) {\n                    eta_p_96947 = private_mem_96898[i_96953];\n                    \n                    int64_t defunc_0_op_res_96948 = add64(eta_p_96946, eta_p_96947);\n                    \n                    private_mem_96898[i_96953] = defunc_0_op_res_96948;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_96954 = 0; i_96954 < chunk_sizze_96864; i_96954++) {\n                int64_t sharedIdx_96955 = sext_i32_i64(local_tid_96876) * chunk_sizze_96864 + i_96954;\n                int64_t tmp_96956 = private_mem_96898[i_96954];\n                \n                ((__local int64_t *) local_mem_96883)[sharedIdx_96955] = tmp_96956;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96957 = 0; i_96957 < chunk_sizze_96864; i_96957++) {\n                int64_t flat_idx_96958 = thd_offset_96900 + i_96957 * segscan_tblock_sizze_76562;\n                int64_t slice_96959 = total_part_no_54362;\n                int64_t gtid_76566 = flat_idx_96958;\n                int64_t remnant_96960 = flat_idx_96958 - gtid_76566;\n                \n                if (slt64(flat_idx_96958, total_part_no_54362)) {\n                    int64_t t",
                                    "mp_96961 = ((__local int64_t *) local_mem_96883)[flat_idx_96958 - block_offset_96894];\n                    \n                    ((__global int64_t *) mem_92059)[gtid_76566] = tmp_96961;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_76562\n    #undef chunk_sizze_96864\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96169_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96169(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91610)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96171;\n    int32_t tblock_sizze_96174;\n    int32_t wave_sizze_96173;\n    int32_t block_id_96172;\n    int32_t global_tid_96170;\n    int64_t tid_96169;\n    int64_t x_91460;\n    \n    local_tid_96171 = get_local_id(0);\n    tblock_sizze_96174 = get_local_size(0);\n    wave_sizze_96173 = LOCKSTEP_WIDTH;\n    block_id_96172 = get_tblock_id(0);\n    global_tid_96170 = block_id_96172 * tblock_sizze_96174 + local_tid_96171;\n    tid_96169 = sext_i32_i64(global_tid_96170);\n    x_91460 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[(int64_t) 0];\n    ((__global int64_t *) mem_91610)[(int64_t) 0] = x_91460;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96201_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96201(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91626)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96203;\n    int32_t tblock_sizze_96206;\n    int32_t wave_sizze_96205;\n    int32_t block_id_96204;\n    int32_t global_tid_96202;\n    int64_t tid_96201;\n    int64_t x_91469;\n    \n    local_tid_96203 = get_local_id(0);\n    tblock_sizze_96206 = get_local_size(0);\n    wave_sizze_96205 = LOCKSTEP_WIDTH;\n    block_id_96204 = get_tblock_id(0", ");\n    global_tid_96202 = block_id_96204 * tblock_sizze_96206 + local_tid_96203;\n    tid_96201 = sext_i32_i64(global_tid_96202);\n    x_91469 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[(int64_t) 0];\n    ((__global int64_t *) mem_91626)[(int64_t) 0] = x_91469;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezigpuseq_96207_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezigpuseq_96207(__global int *global_failure, __global unsigned char *ext_mem_91611, __global unsigned char *ext_mem_91627, __global unsigned char *mem_91633, __global unsigned char *mem_91634)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96209;\n    int32_t tblock_sizze_96212;\n    int32_t wave_sizze_96211;\n    int32_t block_id_96210;\n    int32_t global_tid_96208;\n    int64_t tid_96207;\n    int64_t zm_lhs_91464;\n    int64_t min_arg1_91465;\n    int64_t zm_lhs_91473;\n    int64_t min_arg1_91474;\n    \n    local_tid_96209 = get_local_id(0);\n    tblock_sizze_96212 = get_local_size(0);\n    wave_sizze_96211 = LOCKSTEP_WIDTH;\n    block_id_96210 = get_tblock_id(0);\n    global_tid_96208 = block_id_96210 * tblock_sizze_96212 + local_tid_96209;\n    tid_96207 = sext_i32_i64(global_tid_96208);\n    zm_lhs_91464 = ((__global int64_t *) ext_mem_91611)[(int64_t) 0];\n    min_arg1_91465 = sub64(zm_lhs_91464, (int64_t) 1);\n    zm_lhs_91473 = ((__global int64_t *) ext_mem_91627)[(int64_t) 0];\n    min_arg1_91474 = sub64(zm_lhs_91473, (int64_t) 1);\n    ((__global int64_t *) mem_91633)[(int64_t) 0] = min_arg1_91465;\n    ((__global int64_t *) mem_91634)[(int64_t) 0] = min_arg1_91474;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96305(int64_t dim_51486, int64_t dz2083U_51491, int64_t replicate_n_96304, int64_t virt_num_tblocks_96310, int64_t num_tblocks_96311, __global unsigned char *mem_91645, __global unsigned char *mem_91648)\n{\n    int32_t replicate_ltid_96306;\n    int32_t tblock_sizze_96308;\n    int32_t re", "plicate_gid_96307;\n    int32_t replicate_gtid_96305;\n    int32_t phys_tblock_id_96312;\n    int32_t iterations_96313;\n    \n    replicate_ltid_96306 = get_local_id(0);\n    tblock_sizze_96308 = get_local_size(0);\n    replicate_gid_96307 = get_tblock_id(0);\n    replicate_gtid_96305 = replicate_gid_96307 * tblock_sizze_96308 + replicate_ltid_96306;\n    phys_tblock_id_96312 = get_tblock_id(0);\n    iterations_96313 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96310) - phys_tblock_id_96312, sext_i64_i32(num_tblocks_96311));\n    for (int32_t i_96314 = 0; i_96314 < iterations_96313; i_96314++) {\n        int32_t virt_tblock_id_96315;\n        int64_t global_tid_96316;\n        int64_t slice_96319;\n        int64_t slice_96320;\n        int64_t rep_i_96317;\n        int64_t remnant_96321;\n        int64_t rep_i_96318;\n        int64_t remnant_96322;\n        \n        virt_tblock_id_96315 = phys_tblock_id_96312 + i_96314 * sext_i64_i32(num_tblocks_96311);\n        global_tid_96316 = sext_i32_i64(virt_tblock_id_96315) * sext_i32_i64(tblock_sizze_96308) + sext_i32_i64(replicate_ltid_96306);\n        slice_96319 = dz2083U_51491;\n        slice_96320 = dim_51486 * slice_96319;\n        rep_i_96317 = squot64(global_tid_96316, slice_96319);\n        remnant_96321 = global_tid_96316 - rep_i_96317 * slice_96319;\n        rep_i_96318 = remnant_96321;\n        remnant_96322 = remnant_96321 - rep_i_96318;\n        if (slt64(global_tid_96316, replicate_n_96304)) {\n            int64_t tmp_96323 = ((__global int64_t *) mem_91645)[rep_i_96318];\n            \n            ((__global int64_t *) mem_91648)[rep_i_96317 * dz2083U_51491 + rep_i_96318] = tmp_96323;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96349(int64_t dim_51486, int64_t dz2083U_51491, int64_t replicate_n_96348, int64_t virt_num_tblocks_96354, int64_t num_tblocks_96355, __global unsigned char *mem_91716, __global unsigned char *",
                                    "mem_91719)\n{\n    int32_t replicate_ltid_96350;\n    int32_t tblock_sizze_96352;\n    int32_t replicate_gid_96351;\n    int32_t replicate_gtid_96349;\n    int32_t phys_tblock_id_96356;\n    int32_t iterations_96357;\n    \n    replicate_ltid_96350 = get_local_id(0);\n    tblock_sizze_96352 = get_local_size(0);\n    replicate_gid_96351 = get_tblock_id(0);\n    replicate_gtid_96349 = replicate_gid_96351 * tblock_sizze_96352 + replicate_ltid_96350;\n    phys_tblock_id_96356 = get_tblock_id(0);\n    iterations_96357 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96354) - phys_tblock_id_96356, sext_i64_i32(num_tblocks_96355));\n    for (int32_t i_96358 = 0; i_96358 < iterations_96357; i_96358++) {\n        int32_t virt_tblock_id_96359;\n        int64_t global_tid_96360;\n        int64_t slice_96363;\n        int64_t slice_96364;\n        int64_t rep_i_96361;\n        int64_t remnant_96365;\n        int64_t rep_i_96362;\n        int64_t remnant_96366;\n        \n        virt_tblock_id_96359 = phys_tblock_id_96356 + i_96358 * sext_i64_i32(num_tblocks_96355);\n        global_tid_96360 = sext_i32_i64(virt_tblock_id_96359) * sext_i32_i64(tblock_sizze_96352) + sext_i32_i64(replicate_ltid_96350);\n        slice_96363 = dz2083U_51491;\n        slice_96364 = dim_51486 * slice_96363;\n        rep_i_96361 = squot64(global_tid_96360, slice_96363);\n        remnant_96365 = global_tid_96360 - rep_i_96361 * slice_96363;\n        rep_i_96362 = remnant_96365;\n        remnant_96366 = remnant_96365 - rep_i_96362;\n        if (slt64(global_tid_96360, replicate_n_96348)) {\n            int64_t tmp_96367 = ((__global int64_t *) mem_91716)[rep_i_96362];\n            \n            ((__global int64_t *) mem_91719)[rep_i_96361 * dz2083U_51491 + rep_i_96362] = tmp_96367;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96393(int64_t dim_51486, int64_t dz2083U_51491, int64_t replicate_n_96392, int64_t virt_num_tblocks_", "96398, int64_t num_tblocks_96399, __global unsigned char *mem_91800, __global unsigned char *mem_91803)\n{\n    int32_t replicate_ltid_96394;\n    int32_t tblock_sizze_96396;\n    int32_t replicate_gid_96395;\n    int32_t replicate_gtid_96393;\n    int32_t phys_tblock_id_96400;\n    int32_t iterations_96401;\n    \n    replicate_ltid_96394 = get_local_id(0);\n    tblock_sizze_96396 = get_local_size(0);\n    replicate_gid_96395 = get_tblock_id(0);\n    replicate_gtid_96393 = replicate_gid_96395 * tblock_sizze_96396 + replicate_ltid_96394;\n    phys_tblock_id_96400 = get_tblock_id(0);\n    iterations_96401 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96398) - phys_tblock_id_96400, sext_i64_i32(num_tblocks_96399));\n    for (int32_t i_96402 = 0; i_96402 < iterations_96401; i_96402++) {\n        int32_t virt_tblock_id_96403;\n        int64_t global_tid_96404;\n        int64_t slice_96407;\n        int64_t slice_96408;\n        int64_t rep_i_96405;\n        int64_t remnant_96409;\n        int64_t rep_i_96406;\n        int64_t remnant_96410;\n        \n        virt_tblock_id_96403 = phys_tblock_id_96400 + i_96402 * sext_i64_i32(num_tblocks_96399);\n        global_tid_96404 = sext_i32_i64(virt_tblock_id_96403) * sext_i32_i64(tblock_sizze_96396) + sext_i32_i64(replicate_ltid_96394);\n        slice_96407 = dz2083U_51491;\n        slice_96408 = dim_51486 * slice_96407;\n        rep_i_96405 = squot64(global_tid_96404, slice_96407);\n        remnant_96409 = global_tid_96404 - rep_i_96405 * slice_96407;\n        rep_i_96406 = remnant_96409;\n        remnant_96410 = remnant_96409 - rep_i_96406;\n        if (slt64(global_tid_96404, replicate_n_96392)) {\n            int64_t tmp_96411 = ((__global int64_t *) mem_91800)[rep_i_96406];\n            \n            ((__global int64_t *) mem_91803)[rep_i_96405 * dz2083U_51491 + rep_i_96406] = tmp_96411;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96494(i", "nt64_t dim_51486, int64_t dz2083U_51491, int64_t replicate_n_96493, int64_t virt_num_tblocks_96499, int64_t num_tblocks_96500, __global unsigned char *mem_91948, __global unsigned char *mem_91951)\n{\n    int32_t replicate_ltid_96495;\n    int32_t tblock_sizze_96497;\n    int32_t replicate_gid_96496;\n    int32_t replicate_gtid_96494;\n    int32_t phys_tblock_id_96501;\n    int32_t iterations_96502;\n    \n    replicate_ltid_96495 = get_local_id(0);\n    tblock_sizze_96497 = get_local_size(0);\n    replicate_gid_96496 = get_tblock_id(0);\n    replicate_gtid_96494 = replicate_gid_96496 * tblock_sizze_96497 + replicate_ltid_96495;\n    phys_tblock_id_96501 = get_tblock_id(0);\n    iterations_96502 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96499) - phys_tblock_id_96501, sext_i64_i32(num_tblocks_96500));\n    for (int32_t i_96503 = 0; i_96503 < iterations_96502; i_96503++) {\n        int32_t virt_tblock_id_96504;\n        int64_t global_tid_96505;\n        int64_t slice_96508;\n        int64_t slice_96509;\n        int64_t rep_i_96506;\n        int64_t remnant_96510;\n        int64_t rep_i_96507;\n        int64_t remnant_96511;\n        \n        virt_tblock_id_96504 = phys_tblock_id_96501 + i_96503 * sext_i64_i32(num_tblocks_96500);\n        global_tid_96505 = sext_i32_i64(virt_tblock_id_96504) * sext_i32_i64(tblock_sizze_96497) + sext_i32_i64(replicate_ltid_96495);\n        slice_96508 = dz2083U_51491;\n        slice_96509 = dim_51486 * slice_96508;\n        rep_i_96506 = squot64(global_tid_96505, slice_96508);\n        remnant_96510 = global_tid_96505 - rep_i_96506 * slice_96508;\n        rep_i_96507 = remnant_96510;\n        remnant_96511 = remnant_96510 - rep_i_96507;\n        if (slt64(global_tid_96505, replicate_n_96493)) {\n            double tmp_96512 = ((__global double *) mem_91948)[rep_i_96507 * dim_51486];\n            \n            ((__global double *) mem_91951)[rep_i_96506 * dz2083U_51491 + rep_i_96507] = tmp_96512;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n   ",
                                    " }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96828(int64_t dim_51486, int64_t dz2083U_51491, int64_t replicate_n_96827, int64_t virt_num_tblocks_96833, int64_t num_tblocks_96834, __global unsigned char *mem_92117, __global unsigned char *mem_92120)\n{\n    int32_t replicate_ltid_96829;\n    int32_t tblock_sizze_96831;\n    int32_t replicate_gid_96830;\n    int32_t replicate_gtid_96828;\n    int32_t phys_tblock_id_96835;\n    int32_t iterations_96836;\n    \n    replicate_ltid_96829 = get_local_id(0);\n    tblock_sizze_96831 = get_local_size(0);\n    replicate_gid_96830 = get_tblock_id(0);\n    replicate_gtid_96828 = replicate_gid_96830 * tblock_sizze_96831 + replicate_ltid_96829;\n    phys_tblock_id_96835 = get_tblock_id(0);\n    iterations_96836 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96833) - phys_tblock_id_96835, sext_i64_i32(num_tblocks_96834));\n    for (int32_t i_96837 = 0; i_96837 < iterations_96836; i_96837++) {\n        int32_t virt_tblock_id_96838;\n        int64_t global_tid_96839;\n        int64_t slice_96842;\n        int64_t slice_96843;\n        int64_t rep_i_96840;\n        int64_t remnant_96844;\n        int64_t rep_i_96841;\n        int64_t remnant_96845;\n        \n        virt_tblock_id_96838 = phys_tblock_id_96835 + i_96837 * sext_i64_i32(num_tblocks_96834);\n        global_tid_96839 = sext_i32_i64(virt_tblock_id_96838) * sext_i32_i64(tblock_sizze_96831) + sext_i32_i64(replicate_ltid_96829);\n        slice_96842 = dz2083U_51491;\n        slice_96843 = dim_51486 * slice_96842;\n        rep_i_96840 = squot64(global_tid_96839, slice_96842);\n        remnant_96844 = global_tid_96839 - rep_i_96840 * slice_96842;\n        rep_i_96841 = remnant_96844;\n        remnant_96845 = remnant_96844 - rep_i_96841;\n        if (slt64(global_tid_96839, replicate_n_96827)) {\n            int64_t tmp_96846 = ((__global int64_t *) mem_92117)[rep_i_96841];\n            \n            ((__global int64_t *) mem_92120)[rep_i_96840 * dz2083U_51491 + rep_i_9", "6841] = tmp_96846;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96872(int64_t dim_51486, int64_t dz2083U_51491, int64_t replicate_n_96871, int64_t virt_num_tblocks_96877, int64_t num_tblocks_96878, __global unsigned char *mem_92169, __global unsigned char *mem_92172)\n{\n    int32_t replicate_ltid_96873;\n    int32_t tblock_sizze_96875;\n    int32_t replicate_gid_96874;\n    int32_t replicate_gtid_96872;\n    int32_t phys_tblock_id_96879;\n    int32_t iterations_96880;\n    \n    replicate_ltid_96873 = get_local_id(0);\n    tblock_sizze_96875 = get_local_size(0);\n    replicate_gid_96874 = get_tblock_id(0);\n    replicate_gtid_96872 = replicate_gid_96874 * tblock_sizze_96875 + replicate_ltid_96873;\n    phys_tblock_id_96879 = get_tblock_id(0);\n    iterations_96880 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96877) - phys_tblock_id_96879, sext_i64_i32(num_tblocks_96878));\n    for (int32_t i_96881 = 0; i_96881 < iterations_96880; i_96881++) {\n        int32_t virt_tblock_id_96882;\n        int64_t global_tid_96883;\n        int64_t slice_96886;\n        int64_t slice_96887;\n        int64_t rep_i_96884;\n        int64_t remnant_96888;\n        int64_t rep_i_96885;\n        int64_t remnant_96889;\n        \n        virt_tblock_id_96882 = phys_tblock_id_96879 + i_96881 * sext_i64_i32(num_tblocks_96878);\n        global_tid_96883 = sext_i32_i64(virt_tblock_id_96882) * sext_i32_i64(tblock_sizze_96875) + sext_i32_i64(replicate_ltid_96873);\n        slice_96886 = dz2083U_51491;\n        slice_96887 = dim_51486 * slice_96886;\n        rep_i_96884 = squot64(global_tid_96883, slice_96886);\n        remnant_96888 = global_tid_96883 - rep_i_96884 * slice_96886;\n        rep_i_96885 = remnant_96888;\n        remnant_96889 = remnant_96888 - rep_i_96885;\n        if (slt64(global_tid_96883, replicate_n_96871)) {\n            int64_t tmp_96890 = ((__global int64_t *) mem_92169)[rep_i_96885];\n  ", "          \n            ((__global int64_t *) mem_92172)[rep_i_96884 * dz2083U_51491 + rep_i_96885] = tmp_96890;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96916(int64_t dim_51486, int64_t dz2083U_51491, int64_t replicate_n_96915, int64_t virt_num_tblocks_96921, int64_t num_tblocks_96922, __global unsigned char *mem_92253, __global unsigned char *mem_92256)\n{\n    int32_t replicate_ltid_96917;\n    int32_t tblock_sizze_96919;\n    int32_t replicate_gid_96918;\n    int32_t replicate_gtid_96916;\n    int32_t phys_tblock_id_96923;\n    int32_t iterations_96924;\n    \n    replicate_ltid_96917 = get_local_id(0);\n    tblock_sizze_96919 = get_local_size(0);\n    replicate_gid_96918 = get_tblock_id(0);\n    replicate_gtid_96916 = replicate_gid_96918 * tblock_sizze_96919 + replicate_ltid_96917;\n    phys_tblock_id_96923 = get_tblock_id(0);\n    iterations_96924 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96921) - phys_tblock_id_96923, sext_i64_i32(num_tblocks_96922));\n    for (int32_t i_96925 = 0; i_96925 < iterations_96924; i_96925++) {\n        int32_t virt_tblock_id_96926;\n        int64_t global_tid_96927;\n        int64_t slice_96930;\n        int64_t slice_96931;\n        int64_t rep_i_96928;\n        int64_t remnant_96932;\n        int64_t rep_i_96929;\n        int64_t remnant_96933;\n        \n        virt_tblock_id_96926 = phys_tblock_id_96923 + i_96925 * sext_i64_i32(num_tblocks_96922);\n        global_tid_96927 = sext_i32_i64(virt_tblock_id_96926) * sext_i32_i64(tblock_sizze_96919) + sext_i32_i64(replicate_ltid_96917);\n        slice_96930 = dz2083U_51491;\n        slice_96931 = dim_51486 * slice_96930;\n        rep_i_96928 = squot64(global_tid_96927, slice_96930);\n        remnant_96932 = global_tid_96927 - rep_i_96928 * slice_96930;\n        rep_i_96929 = remnant_96932;\n        remnant_96933 = remnant_96932 - rep_i_96929;\n        if (slt64(global_tid_96927, replicate_",
                                    "n_96915)) {\n            int64_t tmp_96934 = ((__global int64_t *) mem_92253)[rep_i_96929];\n            \n            ((__global int64_t *) mem_92256)[rep_i_96928 * dz2083U_51491 + rep_i_96929] = tmp_96934;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezireplicate_96994(int64_t dim_51486, int64_t dz2083U_51491, int64_t replicate_n_96993, int64_t virt_num_tblocks_96999, int64_t num_tblocks_97000, __global unsigned char *mem_92374, __global unsigned char *mem_92377)\n{\n    int32_t replicate_ltid_96995;\n    int32_t tblock_sizze_96997;\n    int32_t replicate_gid_96996;\n    int32_t replicate_gtid_96994;\n    int32_t phys_tblock_id_97001;\n    int32_t iterations_97002;\n    \n    replicate_ltid_96995 = get_local_id(0);\n    tblock_sizze_96997 = get_local_size(0);\n    replicate_gid_96996 = get_tblock_id(0);\n    replicate_gtid_96994 = replicate_gid_96996 * tblock_sizze_96997 + replicate_ltid_96995;\n    phys_tblock_id_97001 = get_tblock_id(0);\n    iterations_97002 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96999) - phys_tblock_id_97001, sext_i64_i32(num_tblocks_97000));\n    for (int32_t i_97003 = 0; i_97003 < iterations_97002; i_97003++) {\n        int32_t virt_tblock_id_97004;\n        int64_t global_tid_97005;\n        int64_t slice_97008;\n        int64_t slice_97009;\n        int64_t rep_i_97006;\n        int64_t remnant_97010;\n        int64_t rep_i_97007;\n        int64_t remnant_97011;\n        \n        virt_tblock_id_97004 = phys_tblock_id_97001 + i_97003 * sext_i64_i32(num_tblocks_97000);\n        global_tid_97005 = sext_i32_i64(virt_tblock_id_97004) * sext_i32_i64(tblock_sizze_96997) + sext_i32_i64(replicate_ltid_96995);\n        slice_97008 = dz2083U_51491;\n        slice_97009 = dim_51486 * slice_97008;\n        rep_i_97006 = squot64(global_tid_97005, slice_97008);\n        remnant_97010 = global_tid_97005 - rep_i_97006 * slice_97008;\n        rep_i_97007 = remnant_97010;\n      ", "  remnant_97011 = remnant_97010 - rep_i_97007;\n        if (slt64(global_tid_97005, replicate_n_96993)) {\n            double tmp_97012 = ((__global double *) mem_92374)[rep_i_97007 * dim_51486];\n            \n            ((__global double *) mem_92377)[rep_i_97006 * dz2083U_51491 + rep_i_97007] = tmp_97012;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doubleziseghist_global_74577_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doubleziseghist_global_74577(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_51491, int64_t total_part_no_51500, int64_t m_60147, int64_t num_tblocks_74572, int64_t num_subhistos_97079, int32_t chk_i_97149, int64_t hist_H_chk_97150, __global unsigned char *mem_92096, __global unsigned char *mem_92487, __global unsigned char *defunc_0_map_res_subhistos_mem_97080)\n{\n    #define seghist_tblock_sizze_74570 (calc_local_Skyline_GFUR_doubleziseghist_global_74577ziseghist_tblock_sizze_74570)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97152;\n    int32_t tblock_sizze_97155;\n    int32_t wave_sizze_97154;\n    int32_t block_id_97153;\n    int32_t global_tid_97151;\n    int64_t phys_tid_74577;\n    int32_t subhisto_ind_97156;\n    int64_t num_chunks_97157;\n    \n    local_tid_97152 = get_local_id(0);\n    tblock_sizze_97155 = get_local_size(0);\n    wave_sizze_97154 = LOCKSTEP_WIDTH;\n    block_id_97153 = get_tblock_id(0);\n    global_tid_97151 = block_id_97153 * tblock_sizze_97155 + local_tid_97152;\n    phys_tid_74577 = sext_i32_i64(global_tid_97151);\n    subhisto_ind_97156 = squot32(global_tid_97151, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_74570 * num_tblocks_74572), sext_i64_i32(num_subhistos_97079)));\n    num_chunks_97157 = sdiv_up64(m_60147, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_74570 * num_tblocks_74572)));\n    for (int64_t chunk_i_97158 = 0; chunk_i_97158 < n", "um_chunks_97157; chunk_i_97158++) {\n        int64_t i_97159 = chunk_i_97158 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_74570 * num_tblocks_74572)) + sext_i32_i64(global_tid_97151);\n        \n        if (slt64(i_97159, m_60147)) {\n            int64_t slice_97160;\n            int64_t gtid_74576;\n            int64_t remnant_97161;\n            \n            slice_97160 = m_60147;\n            gtid_74576 = i_97159;\n            remnant_97161 = i_97159 - gtid_74576;\n            if (slt64(i_97159, m_60147)) {\n                int64_t eta_p_74581;\n                bool x_74583;\n                bool y_74584;\n                bool bounds_check_74585;\n                bool index_certs_74586;\n                int64_t lifted_lambda_res_74587;\n                \n                eta_p_74581 = ((__global int64_t *) mem_92096)[gtid_74576];\n                x_74583 = sle64((int64_t) 0, eta_p_74581);\n                y_74584 = slt64(eta_p_74581, dz2083U_51491);\n                bounds_check_74585 = x_74583 && y_74584;\n                if (!bounds_check_74585) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 59) == -1) {\n                            global_failure_args[0] = (int64_t) eta_p_74581;\n                            global_failure_args[1] = (int64_t) dz2083U_51491;\n                            ;\n                        }\n                        return;\n                    }\n                }\n                lifted_lambda_res_74587 = ((__global int64_t *) mem_92487)[eta_p_74581];\n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_97149) * hist_H_chk_97150, lifted_lambda_res_74587) && (slt64(lifted_lambda_res_74587, sext_i32_i64(chk_i_97149) * hist_H_chk_97150 + hist_H_chk_97150) && (sle64((int64_t) 0, lifted_lambda_res_74587) && slt64(lifted_lambda_res_74587, total_part_no_51500)))) {\n                        int64_t eta_p_745",
                                    "78;\n                        int64_t eta_p_74579 = (int64_t) 1;\n                        int64_t old_97162;\n                        \n                        old_97162 = atomic_add_i64_global(&((volatile __global int64_t *) defunc_0_map_res_subhistos_mem_97080)[sext_i32_i64(subhisto_ind_97156) * total_part_no_51500 + lifted_lambda_res_74587], (int64_t) eta_p_74579);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_74570\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doubleziseghist_local_74577_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doubleziseghist_local_74577(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_51491, int64_t total_part_no_51500, int64_t m_60147, int64_t num_subhistos_97079, int64_t num_tblocks_97090, int32_t hist_M_97096, int32_t chk_i_97100, int64_t num_segments_97101, int64_t hist_H_chk_97102, int64_t histo_sizze_97103, int32_t init_per_thread_97104, __global unsigned char *mem_92096, __global unsigned char *mem_92487, __global unsigned char *defunc_0_map_res_subhistos_mem_97080)\n{\n    #define max_tblock_sizze_97089 (calc_local_Skyline_GFUR_doubleziseghist_local_74577zimax_tblock_sizze_97089)\n    \n    volatile __local unsigned char *subhistogram_local_mem_97118_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_97118_backing_0_offset = 0 + ((int64_t) 8 * (hist_M_97096 * hist_H_chk_97102) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_97096 * hist_H_chk_97102), (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97106;\n    int32_t tblock_sizze_97109;\n    int32_t wave_sizze_97108;\n    int32_t block_id_97107;\n    int32_t global_tid_97105;\n    int64_t phys_tid_", "74577;\n    int32_t phys_tblock_id_97110;\n    int32_t iterations_97111;\n    \n    local_tid_97106 = get_local_id(0);\n    tblock_sizze_97109 = get_local_size(0);\n    wave_sizze_97108 = LOCKSTEP_WIDTH;\n    block_id_97107 = get_tblock_id(0);\n    global_tid_97105 = block_id_97107 * tblock_sizze_97109 + local_tid_97106;\n    phys_tid_74577 = sext_i32_i64(global_tid_97105);\n    phys_tblock_id_97110 = get_tblock_id(0);\n    iterations_97111 = sdiv_up32(sext_i64_i32(num_tblocks_97090 * num_segments_97101) - phys_tblock_id_97110, sext_i64_i32(num_tblocks_97090));\n    for (int32_t i_97112 = 0; i_97112 < iterations_97111; i_97112++) {\n        int32_t virt_tblock_id_97113;\n        int32_t flat_segment_id_97114;\n        int32_t gid_in_segment_97115;\n        int32_t pgtid_in_segment_97116;\n        int32_t threads_per_segment_97117;\n        __local unsigned char *subhistogram_local_mem_97118;\n        int32_t thread_local_subhisto_i_97120;\n        int64_t num_chunks_97127;\n        \n        virt_tblock_id_97113 = phys_tblock_id_97110 + i_97112 * sext_i64_i32(num_tblocks_97090);\n        flat_segment_id_97114 = squot32(virt_tblock_id_97113, sext_i64_i32(num_tblocks_97090));\n        gid_in_segment_97115 = srem32(virt_tblock_id_97113, sext_i64_i32(num_tblocks_97090));\n        pgtid_in_segment_97116 = gid_in_segment_97115 * sext_i64_i32(max_tblock_sizze_97089) + local_tid_97106;\n        threads_per_segment_97117 = sext_i64_i32(num_tblocks_97090 * max_tblock_sizze_97089);\n        subhistogram_local_mem_97118 = (__local unsigned char *) subhistogram_local_mem_97118_backing_0;\n        thread_local_subhisto_i_97120 = srem32(local_tid_97106, hist_M_97096);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_97121 = 0; local_i_97121 < init_per_thread_97104; local_i_97121++) {\n                int32_t j_97122 = local_i_97121 * sext_i64_i32(max_tblock_sizze_97089) + local_tid_97106;\n                int32_t j_offset_97123 = hist_M_97096 * sext_i64_i32(histo_siz", "ze_97103) * gid_in_segment_97115 + j_97122;\n                int32_t local_subhisto_i_97124 = squot32(j_97122, sext_i64_i32(histo_sizze_97103));\n                int32_t global_subhisto_i_97125 = squot32(j_offset_97123, sext_i64_i32(histo_sizze_97103));\n                \n                if (slt32(j_97122, hist_M_97096 * sext_i64_i32(histo_sizze_97103))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_97125 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_97079)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_97122, sext_i64_i32(histo_sizze_97103))) + sext_i32_i64(chk_i_97100) * hist_H_chk_97102) && slt64(sext_i32_i64(srem32(j_97122, sext_i64_i32(histo_sizze_97103))) + sext_i32_i64(chk_i_97100) * hist_H_chk_97102, total_part_no_51500)))) {\n                            int64_t tmp_97126 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_97080)[sext_i32_i64(srem32(j_97122, sext_i64_i32(histo_sizze_97103))) + sext_i32_i64(chk_i_97100) * hist_H_chk_97102];\n                            \n                            ((__local int64_t *) subhistogram_local_mem_97118)[sext_i32_i64(local_subhisto_i_97124) * hist_H_chk_97102 + sext_i32_i64(srem32(j_97122, sext_i64_i32(histo_sizze_97103)))] = tmp_97126;\n                        } else {\n                            ((__local int64_t *) subhistogram_local_mem_97118)[sext_i32_i64(local_subhisto_i_97124) * hist_H_chk_97102 + sext_i32_i64(srem32(j_97122, sext_i64_i32(histo_sizze_97103)))] = (int64_t) 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_97127 = sdiv_up64(m_60147, sext_i32_i64(threads_per_segment_97117));\n        for (int64_t chunk_i_97128 = 0; chunk_i_97128 < num_chunks_97127; chunk_i_97128++) {\n            int64_t i_97129 = chunk_i_97128 * sext_i32_i64(threads_per_segment",
                                    "_97117) + sext_i32_i64(pgtid_in_segment_97116);\n            \n            if (slt64(i_97129, m_60147)) {\n                int64_t gtid_74576;\n                int64_t eta_p_74581;\n                bool x_74583;\n                bool y_74584;\n                bool bounds_check_74585;\n                bool index_certs_74586;\n                int64_t lifted_lambda_res_74587;\n                \n                gtid_74576 = i_97129;\n                eta_p_74581 = ((__global int64_t *) mem_92096)[gtid_74576];\n                x_74583 = sle64((int64_t) 0, eta_p_74581);\n                y_74584 = slt64(eta_p_74581, dz2083U_51491);\n                bounds_check_74585 = x_74583 && y_74584;\n                if (!bounds_check_74585) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 58) == -1) {\n                            global_failure_args[0] = (int64_t) eta_p_74581;\n                            global_failure_args[1] = (int64_t) dz2083U_51491;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                lifted_lambda_res_74587 = ((__global int64_t *) mem_92487)[eta_p_74581];\n                if (chk_i_97100 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, lifted_lambda_res_74587) && slt64(lifted_lambda_res_74587, total_part_no_51500)) && (sle64(sext_i32_i64(chk_i_97100) * hist_H_chk_97102, lifted_lambda_res_74587) && slt64(lifted_lambda_res_74587, sext_i32_i64(chk_i_97100) * hist_H_chk_97102 + hist_H_chk_97102))) {\n                        int64_t eta_p_74578;\n                        int64_t eta_p_74579 = (int64_t) 1;\n                        int64_t old_97130;\n                        \n                        old_97130 = atomic_add_i64_shared(&((volatile __local int64_t ", "*) subhistogram_local_mem_97118)[sext_i32_i64(thread_local_subhisto_i_97120) * hist_H_chk_97102 + (lifted_lambda_res_74587 - sext_i32_i64(chk_i_97100) * hist_H_chk_97102)], (int64_t) eta_p_74579);\n                    }\n                }\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_97131 = smin64(hist_H_chk_97102, total_part_no_51500 - sext_i32_i64(chk_i_97100) * hist_H_chk_97102);\n            int32_t histo_sizze_97132 = sext_i64_i32(trunc_H_97131);\n            \n            for (int32_t local_i_97133 = 0; local_i_97133 < init_per_thread_97104; local_i_97133++) {\n                int32_t j_97134 = local_i_97133 * sext_i64_i32(max_tblock_sizze_97089) + local_tid_97106;\n                \n                if (slt32(j_97134, histo_sizze_97132)) {\n                    int64_t eta_p_74578;\n                    int64_t eta_p_74579;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_74578 = ((__local int64_t *) subhistogram_local_mem_97118)[sext_i32_i64(j_97134)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_97135 = 0; subhisto_id_97135 < hist_M_97096 - 1; subhisto_id_97135++) {\n                            eta_p_74579 = ((__local int64_t *) subhistogram_local_mem_97118)[(sext_i32_i64(subhisto_id_97135) + (int64_t) 1) * hist_H_chk_97102 + sext_i32_i64(j_97134)];\n                            \n                            int64_t defunc_0_op_res_74580 = add64(eta_p_74578, eta_p_74579);\n                            \n                            eta_p_74578 = defunc_0_op_res_74580;\n                    ", "    }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int64_t *) defunc_0_map_res_subhistos_mem_97080)[srem64(sext_i32_i64(virt_tblock_id_97113), num_tblocks_97090) * total_part_no_51500 + (sext_i32_i64(j_97134) + sext_i32_i64(chk_i_97100) * hist_H_chk_97102)] = eta_p_74578;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_97089\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72419_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72419(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91642)\n{\n    #define segmap_tblock_sizze_72414 (calc_local_Skyline_GFUR_doublezisegmap_72419zisegmap_tblock_sizze_72414)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96275;\n    int32_t tblock_sizze_96278;\n    int32_t wave_sizze_96277;\n    int32_t block_id_96276;\n    int32_t global_tid_96274;\n    int64_t phys_tid_72419;\n    int64_t global_tid_96279;\n    int64_t slice_96280;\n    int64_t slice_96281;\n    int64_t gtid_72417;\n    int64_t remnant_96282;\n    int64_t gtid_72418;\n    int64_t remnant_96283;\n    \n    local_tid_96275 = get_local_id(0);\n    tblock_sizze_96278 = get_local_size(0);\n    wave_sizze_96277 = LOCKSTEP_WIDTH;\n    block_id_96276 = get_tblock_id(0);\n    global_tid_96274 = block_id_96276 * tblock_sizze_96278 + local_tid_96275;\n    phys_tid_72419 = sext_i32_i64(global_tid_96274);\n    global_tid_96279 = sext_i32_i64(block_id_96276) * segmap_tblock_sizze_72414 + sext_i32_i64(local_tid_96275);\n    slice_96280 = dim_51486;\n    slice_96281 = dz2083U_51491 * slice_96280;\n    gtid_72417 = squot64(global_tid_96279, slice_96280);\n    remnant_96282 = global_tid_962",
                                    "79 - gtid_72417 * slice_96280;\n    gtid_72418 = remnant_96282;\n    remnant_96283 = remnant_96282 - gtid_72418;\n    if (slt64(gtid_72417, dz2083U_51491) && slt64(gtid_72418, dim_51486)) {\n        double eta_p_72420;\n        double eta_p_72421;\n        double defunc_0_f_res_72422;\n        \n        eta_p_72420 = ((__global double *) xys_mem_91601)[gtid_72417 * dim_51486 + gtid_72418];\n        eta_p_72421 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_72418];\n        defunc_0_f_res_72422 = eta_p_72420 - eta_p_72421;\n        ((__global double *) mem_91642)[gtid_72417 * dim_51486 + gtid_72418] = defunc_0_f_res_72422;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72414\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72435_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72435(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *mem_91642)\n{\n    #define segmap_tblock_sizze_72430 (calc_local_Skyline_GFUR_doublezisegmap_72435zisegmap_tblock_sizze_72430)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96286;\n    int32_t tblock_sizze_96289;\n    int32_t wave_sizze_96288;\n    int32_t block_id_96287;\n    int32_t global_tid_96285;\n    int64_t phys_tid_72435;\n    int64_t global_tid_96290;\n    int64_t slice_96291;\n    int64_t slice_96292;\n    int64_t gtid_72433;\n    int64_t remnant_96293;\n    int64_t gtid_72434;\n    int64_t remnant_96294;\n    \n    local_tid_96286 = get_local_id(0);\n    tblock_sizze_96289 = get_local_size(0);\n    wave_sizze_96288 = LOCKSTEP_WIDTH;\n    block_id_96287 = get_tblock_id(0);\n    global_tid_96285 = block_id_96287 * tblock_sizze_96289 + local_tid_96286;\n    phys_tid_72435 = sext_i32_i64(global_tid_96285);\n    global_tid_96290 = sext_i32_i64(block_id_96287) * segmap_tblock_sizze_72430 + sext_i32_i64(local_tid_96286);\n    slice_96291 = dim_51486;\n    slice_96292 = dz2083U_51491 * s", "lice_96291;\n    gtid_72433 = squot64(global_tid_96290, slice_96291);\n    remnant_96293 = global_tid_96290 - gtid_72433 * slice_96291;\n    gtid_72434 = remnant_96293;\n    remnant_96294 = remnant_96293 - gtid_72434;\n    if (slt64(gtid_72433, dz2083U_51491) && slt64(gtid_72434, dim_51486)) {\n        double eta_p_72436;\n        double eta_p_72437;\n        double defunc_0_f_res_72438;\n        \n        eta_p_72436 = ((__global double *) mem_91642)[gtid_72433 * dim_51486 + gtid_72434];\n        eta_p_72437 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_72434];\n        defunc_0_f_res_72438 = eta_p_72436 / eta_p_72437;\n        ((__global double *) mem_91642)[gtid_72433 * dim_51486 + gtid_72434] = defunc_0_f_res_72438;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72430\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72445_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72445(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *mem_91642, __global unsigned char *mem_91645)\n{\n    #define segmap_tblock_sizze_72441 (calc_local_Skyline_GFUR_doublezisegmap_72445zisegmap_tblock_sizze_72441)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96297;\n    int32_t tblock_sizze_96300;\n    int32_t wave_sizze_96299;\n    int32_t block_id_96298;\n    int32_t global_tid_96296;\n    int64_t phys_tid_72445;\n    int64_t global_tid_96301;\n    int64_t slice_96302;\n    int64_t gtid_72444;\n    int64_t remnant_96303;\n    \n    local_tid_96297 = get_local_id(0);\n    tblock_sizze_96300 = get_local_size(0);\n    wave_sizze_96299 = LOCKSTEP_WIDTH;\n    block_id_96298 = get_tblock_id(0);\n    global_tid_96296 = block_id_96298 * tblock_sizze_96300 + local_tid_96297;\n    phys_tid_72445 = sext_i32_i64(global_tid_96296);\n    global_tid_96301 = sext_i32_i64(block_id_96298) * segmap_tblock_sizze_72441 + sext_i32_i64(local_tid_96297);\n    slice_96302 = dz2083U_51491;\n    gtid_72444 = global_tid_9630", "1;\n    remnant_96303 = global_tid_96301 - gtid_72444;\n    if (slt64(gtid_72444, dz2083U_51491)) {\n        double f_arg0_72447;\n        int64_t f64_res_72448;\n        \n        f_arg0_72447 = ((__global double *) mem_91642)[gtid_72444 * dim_51486];\n        f64_res_72448 = fptosi_f64_i64(f_arg0_72447);\n        ((__global int64_t *) mem_91645)[gtid_72444] = f64_res_72448;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72441\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72458_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72458(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t num_tblocks_72454, int32_t virt_num_tblocks_96324, __global unsigned char *mem_91659, __global unsigned char *mem_91670, __global unsigned char *mem_91688)\n{\n    #define segmap_tblock_sizze_72453 (calc_local_Skyline_GFUR_doublezisegmap_72458zisegmap_tblock_sizze_72453)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96326;\n    int32_t tblock_sizze_96329;\n    int32_t wave_sizze_96328;\n    int32_t block_id_96327;\n    int32_t global_tid_96325;\n    int64_t phys_tid_72458;\n    int32_t phys_tblock_id_96330;\n    int32_t iterations_96331;\n    \n    local_tid_96326 = get_local_id(0);\n    tblock_sizze_96329 = get_local_size(0);\n    wave_sizze_96328 = LOCKSTEP_WIDTH;\n    block_id_96327 = get_tblock_id(0);\n    global_tid_96325 = block_id_96327 * tblock_sizze_96329 + local_tid_96326;\n    phys_tid_72458 = sext_i32_i64(global_tid_96325);\n    phys_tblock_id_96330 = get_tblock_id(0);\n    iterations_96331 = sdiv_up32(virt_num_tblocks_96324 - phys_tblock_id_96330, sext_i64_i32(num_tblocks_72454));\n    for (int32_t i_96332 = 0; i_96332 < iterations_9633",
                                    "1; i_96332++) {\n        int32_t virt_tblock_id_96333;\n        int64_t global_tid_96334;\n        int64_t slice_96335;\n        int64_t gtid_72457;\n        int64_t remnant_96336;\n        \n        virt_tblock_id_96333 = phys_tblock_id_96330 + i_96332 * sext_i64_i32(num_tblocks_72454);\n        global_tid_96334 = sext_i32_i64(virt_tblock_id_96333) * segmap_tblock_sizze_72453 + sext_i32_i64(local_tid_96326);\n        slice_96335 = dz2083U_51491;\n        gtid_72457 = global_tid_96334;\n        remnant_96336 = global_tid_96334 - gtid_72457;\n        if (slt64(gtid_72457, dz2083U_51491)) {\n            for (int64_t i_72462 = 0; i_72462 < arg_59797; i_72462++) {\n                int64_t index_primexp_72464;\n                bool x_72465;\n                bool y_72466;\n                bool bounds_check_72467;\n                bool index_certs_72468;\n                double f_arg0_72469;\n                int64_t f64_res_72470;\n                \n                index_primexp_72464 = add64((int64_t) 1, i_72462);\n                x_72465 = sle64((int64_t) 0, index_primexp_72464);\n                y_72466 = slt64(index_primexp_72464, dim_51486);\n                bounds_check_72467 = x_72465 && y_72466;\n                if (!bounds_check_72467) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 30) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_72464;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_72469 = ((__global double *) mem_91670)[gtid_72457 + index_primexp_72464 * dz2083U_51491];\n                f64_res_72470 = fptosi_f64_i64(f_arg0_72469);\n                ((__global int64_t *) mem_91659)[gtid_72457 + index_primexp_72464 * dz2083U_51491] = f64_res_72470;\n            }\n            for ", "(int64_t i_0 = 0; i_0 < dim_51486; i_0++) {\n                ((__global int64_t *) mem_91688)[gtid_72457 + i_0 * dz2083U_51491] = ((__global int64_t *) mem_91659)[gtid_72457 + i_0 * dz2083U_51491];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_72453\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72478_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72478(__global int *global_failure, int64_t dz2083U_51491, int64_t ext_91712, __global unsigned char *ext_mem_91713, __global unsigned char *mem_91716)\n{\n    #define segmap_tblock_sizze_72474 (calc_local_Skyline_GFUR_doublezisegmap_72478zisegmap_tblock_sizze_72474)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96341;\n    int32_t tblock_sizze_96344;\n    int32_t wave_sizze_96343;\n    int32_t block_id_96342;\n    int32_t global_tid_96340;\n    int64_t phys_tid_72478;\n    int64_t global_tid_96345;\n    int64_t slice_96346;\n    int64_t gtid_72477;\n    int64_t remnant_96347;\n    \n    local_tid_96341 = get_local_id(0);\n    tblock_sizze_96344 = get_local_size(0);\n    wave_sizze_96343 = LOCKSTEP_WIDTH;\n    block_id_96342 = get_tblock_id(0);\n    global_tid_96340 = block_id_96342 * tblock_sizze_96344 + local_tid_96341;\n    phys_tid_72478 = sext_i32_i64(global_tid_96340);\n    global_tid_96345 = sext_i32_i64(block_id_96342) * segmap_tblock_sizze_72474 + sext_i32_i64(local_tid_96341);\n    slice_96346 = dz2083U_51491;\n    gtid_72477 = global_tid_96345;\n    remnant_96347 = global_tid_96345 - gtid_72477;\n    if (slt64(gtid_72477, dz2083U_51491)) {\n        int64_t f_arg0_72480;\n        int64_t max_res_72481;\n        \n        f_arg0_72480 = ((__global int64_t *) ext_mem_91713)[gtid_72477 * ext_91712];\n        max_res_72481 = smax64((int64_t) 0, f_arg0_72480);\n    ", "    ((__global int64_t *) mem_91716)[gtid_72477] = max_res_72481;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72474\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72491_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72491(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t num_tblocks_72487, int32_t virt_num_tblocks_96368, __global unsigned char *mem_91730, __global unsigned char *mem_91741, __global unsigned char *mem_91759)\n{\n    #define segmap_tblock_sizze_72486 (calc_local_Skyline_GFUR_doublezisegmap_72491zisegmap_tblock_sizze_72486)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96370;\n    int32_t tblock_sizze_96373;\n    int32_t wave_sizze_96372;\n    int32_t block_id_96371;\n    int32_t global_tid_96369;\n    int64_t phys_tid_72491;\n    int32_t phys_tblock_id_96374;\n    int32_t iterations_96375;\n    \n    local_tid_96370 = get_local_id(0);\n    tblock_sizze_96373 = get_local_size(0);\n    wave_sizze_96372 = LOCKSTEP_WIDTH;\n    block_id_96371 = get_tblock_id(0);\n    global_tid_96369 = block_id_96371 * tblock_sizze_96373 + local_tid_96370;\n    phys_tid_72491 = sext_i32_i64(global_tid_96369);\n    phys_tblock_id_96374 = get_tblock_id(0);\n    iterations_96375 = sdiv_up32(virt_num_tblocks_96368 - phys_tblock_id_96374, sext_i64_i32(num_tblocks_72487));\n    for (int32_t i_96376 = 0; i_96376 < iterations_96375; i_96376++) {\n        int32_t virt_tblock_id_96377;\n        int64_t global_tid_96378;\n        int64_t slice_96379;\n        int64_t gtid_72490;\n        int64_t remnant_96380;\n        \n        virt_tblock_id_96377 = phys_tblock_id_96374 + i_96376 * sext_i64_i32(num_tblocks_72487);\n        global_tid_9637",
                                    "8 = sext_i32_i64(virt_tblock_id_96377) * segmap_tblock_sizze_72486 + sext_i32_i64(local_tid_96370);\n        slice_96379 = dz2083U_51491;\n        gtid_72490 = global_tid_96378;\n        remnant_96380 = global_tid_96378 - gtid_72490;\n        if (slt64(gtid_72490, dz2083U_51491)) {\n            for (int64_t i_72495 = 0; i_72495 < arg_59797; i_72495++) {\n                int64_t index_primexp_72497;\n                bool x_72498;\n                bool y_72499;\n                bool bounds_check_72500;\n                bool index_certs_72501;\n                int64_t f_arg0_72502;\n                int64_t max_res_72503;\n                \n                index_primexp_72497 = add64((int64_t) 1, i_72495);\n                x_72498 = sle64((int64_t) 0, index_primexp_72497);\n                y_72499 = slt64(index_primexp_72497, dim_51486);\n                bounds_check_72500 = x_72498 && y_72499;\n                if (!bounds_check_72500) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 31) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_72497;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_72502 = ((__global int64_t *) mem_91741)[gtid_72490 + index_primexp_72497 * dz2083U_51491];\n                max_res_72503 = smax64((int64_t) 0, f_arg0_72502);\n                ((__global int64_t *) mem_91730)[gtid_72490 + index_primexp_72497 * dz2083U_51491] = max_res_72503;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_51486; i_0++) {\n                ((__global int64_t *) mem_91759)[gtid_72490 + i_0 * dz2083U_51491] = ((__global int64_t *) mem_91730)[gtid_72490 + i_0 * dz2083U_51491];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_", "FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_72486\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72511_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72511(__global int *global_failure, int64_t dz2083U_51491, int64_t ext_91796, __global unsigned char *mem_91633, __global unsigned char *ext_mem_91797, __global unsigned char *mem_91800)\n{\n    #define segmap_tblock_sizze_72507 (calc_local_Skyline_GFUR_doublezisegmap_72511zisegmap_tblock_sizze_72507)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96385;\n    int32_t tblock_sizze_96388;\n    int32_t wave_sizze_96387;\n    int32_t block_id_96386;\n    int32_t global_tid_96384;\n    int64_t phys_tid_72511;\n    int64_t global_tid_96389;\n    int64_t slice_96390;\n    int64_t gtid_72510;\n    int64_t remnant_96391;\n    \n    local_tid_96385 = get_local_id(0);\n    tblock_sizze_96388 = get_local_size(0);\n    wave_sizze_96387 = LOCKSTEP_WIDTH;\n    block_id_96386 = get_tblock_id(0);\n    global_tid_96384 = block_id_96386 * tblock_sizze_96388 + local_tid_96385;\n    phys_tid_72511 = sext_i32_i64(global_tid_96384);\n    global_tid_96389 = sext_i32_i64(block_id_96386) * segmap_tblock_sizze_72507 + sext_i32_i64(local_tid_96385);\n    slice_96390 = dz2083U_51491;\n    gtid_72510 = global_tid_96389;\n    remnant_96391 = global_tid_96389 - gtid_72510;\n    if (slt64(gtid_72510, dz2083U_51491)) {\n        int64_t min_arg1_91468;\n        int64_t f_arg0_72513;\n        int64_t min_res_72514;\n        \n        min_arg1_91468 = ((__global int64_t *) mem_91633)[(int64_t) 0];\n        f_arg0_72513 = ((__global int64_t *) ext_mem_91797)[gtid_72510 * ext_91796];\n        min_res_72514 = smin64(f_arg0_72513, min_arg1_91468);\n        ((__global int64_t *) mem_91800)[gtid_72510] = min_res_72514;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72507\n}\nFUTHARK_KERNEL_SI", "ZED(calc_local_Skyline_GFUR_doublezisegmap_72524_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72524(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t num_tblocks_72520, int32_t virt_num_tblocks_96412, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91814, __global unsigned char *mem_91825, __global unsigned char *mem_91843)\n{\n    #define segmap_tblock_sizze_72519 (calc_local_Skyline_GFUR_doublezisegmap_72524zisegmap_tblock_sizze_72519)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96414;\n    int32_t tblock_sizze_96417;\n    int32_t wave_sizze_96416;\n    int32_t block_id_96415;\n    int32_t global_tid_96413;\n    int64_t phys_tid_72524;\n    int32_t phys_tblock_id_96418;\n    int32_t iterations_96419;\n    \n    local_tid_96414 = get_local_id(0);\n    tblock_sizze_96417 = get_local_size(0);\n    wave_sizze_96416 = LOCKSTEP_WIDTH;\n    block_id_96415 = get_tblock_id(0);\n    global_tid_96413 = block_id_96415 * tblock_sizze_96417 + local_tid_96414;\n    phys_tid_72524 = sext_i32_i64(global_tid_96413);\n    phys_tblock_id_96418 = get_tblock_id(0);\n    iterations_96419 = sdiv_up32(virt_num_tblocks_96412 - phys_tblock_id_96418, sext_i64_i32(num_tblocks_72520));\n    for (int32_t i_96420 = 0; i_96420 < iterations_96419; i_96420++) {\n        int32_t virt_tblock_id_96421;\n        int64_t global_tid_96422;\n        int64_t slice_96423;\n        int64_t gtid_72523;\n        int64_t remnant_96424;\n        \n        virt_tblock_id_96421 = phys_tblock_id_96418 + i_96420 * sext_i64_i32(num_tblocks_72520);\n        global_tid_96422 = sext_i32_i64(virt_tblock_id_96421) * segmap_tblock_sizze_72519 + sext_i32_i64(local_tid_96414",
                                    ");\n        slice_96423 = dz2083U_51491;\n        gtid_72523 = global_tid_96422;\n        remnant_96424 = global_tid_96422 - gtid_72523;\n        if (slt64(gtid_72523, dz2083U_51491)) {\n            for (int64_t i_72528 = 0; i_72528 < arg_59797; i_72528++) {\n                int64_t index_primexp_72530;\n                bool x_72531;\n                bool y_72532;\n                bool bounds_check_72533;\n                bool index_certs_72534;\n                bool index_certs_72536;\n                int64_t f_arg0_72535;\n                int64_t zm_lhs_72537;\n                int64_t min_arg1_72538;\n                int64_t min_res_72539;\n                \n                index_primexp_72530 = add64((int64_t) 1, i_72528);\n                x_72531 = sle64((int64_t) 0, index_primexp_72530);\n                y_72532 = slt64(index_primexp_72530, dim_51486);\n                bounds_check_72533 = x_72531 && y_72532;\n                if (!bounds_check_72533) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 32) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_72530;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_72533) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 33) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_72530;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_72535 = ((__global int64_t *) mem_91825)[gtid_72523 + index_primexp_72530 * dz2083U_51491];\n   ", "             zm_lhs_72537 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_72530];\n                min_arg1_72538 = sub64(zm_lhs_72537, (int64_t) 1);\n                min_res_72539 = smin64(f_arg0_72535, min_arg1_72538);\n                ((__global int64_t *) mem_91814)[gtid_72523 + index_primexp_72530 * dz2083U_51491] = min_res_72539;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_51486; i_0++) {\n                ((__global int64_t *) mem_91843)[gtid_72523 + i_0 * dz2083U_51491] = ((__global int64_t *) mem_91814)[gtid_72523 + i_0 * dz2083U_51491];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_72519\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72553_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72553(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, int64_t ext_91892, int64_t ext_91893, __global unsigned char *grid_part_prefix_sum_mem_91595, __global unsigned char *ext_mem_91894, __global unsigned char *mem_91898)\n{\n    #define segmap_tblock_sizze_72548 (calc_local_Skyline_GFUR_doublezisegmap_72553zisegmap_tblock_sizze_72548)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96429;\n    int32_t tblock_sizze_96432;\n    int32_t wave_sizze_96431;\n    int32_t block_id_96430;\n    int32_t global_tid_96428;\n    int64_t phys_tid_72553;\n    int64_t global_tid_96433;\n    int64_t slice_96434;\n    int64_t slice_96435;\n    int64_t gtid_72551;\n    int64_t remnant_96436;\n    int64_t gtid_72552;\n    int64_t remnant_96437;\n    \n    local_tid_96429 = get_local_id(0);\n    tblock_sizze_96432 = get_local_size(0);\n    wave_sizze_96431 = LOCKSTEP_WIDTH;\n    block_id_96430 = get_tblock_id(0);\n    global_tid_96428 = block_id_96430 * tblock_sizze_96432 + loca", "l_tid_96429;\n    phys_tid_72553 = sext_i32_i64(global_tid_96428);\n    global_tid_96433 = sext_i32_i64(block_id_96430) * segmap_tblock_sizze_72548 + sext_i32_i64(local_tid_96429);\n    slice_96434 = dim_51486;\n    slice_96435 = dz2083U_51491 * slice_96434;\n    gtid_72551 = squot64(global_tid_96433, slice_96434);\n    remnant_96436 = global_tid_96433 - gtid_72551 * slice_96434;\n    gtid_72552 = remnant_96436;\n    remnant_96437 = remnant_96436 - gtid_72552;\n    if (slt64(gtid_72551, dz2083U_51491) && slt64(gtid_72552, dim_51486)) {\n        int64_t eta_p_72554;\n        int64_t eta_p_72555;\n        int64_t defunc_0_f_res_72556;\n        \n        eta_p_72554 = ((__global int64_t *) ext_mem_91894)[gtid_72551 * ext_91893 + gtid_72552 * ext_91892];\n        eta_p_72555 = ((__global int64_t *) grid_part_prefix_sum_mem_91595)[gtid_72552];\n        defunc_0_f_res_72556 = mul64(eta_p_72554, eta_p_72555);\n        ((__global int64_t *) mem_91898)[gtid_72551 * dim_51486 + gtid_72552] = defunc_0_f_res_72556;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72548\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72564_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72564(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2080U_51487, int64_t dz2083U_51491, __global unsigned char *mem_91909, __global unsigned char *mem_91911, __global unsigned char *mem_91913)\n{\n    #define segmap_tblock_sizze_72559 (calc_local_Skyline_GFUR_doublezisegmap_72564zisegmap_tblock_sizze_72559)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96440;\n    int32_t tblock_sizze_96443;\n    int32_t wave_sizze_96442;\n    int32_t block_id_96441;\n    int32_t global_tid_96439;\n    int64_t phys_tid_72564;\n    int64_t global_tid_96444;\n    int64_t slice_96445;\n    int64_t gtid_72563;\n    int64_t remnant_96446;\n    \n    local_tid_96440 = get_local_id(0);\n    tblock_sizze_96443 = get_local_size(",
                                    "0);\n    wave_sizze_96442 = LOCKSTEP_WIDTH;\n    block_id_96441 = get_tblock_id(0);\n    global_tid_96439 = block_id_96441 * tblock_sizze_96443 + local_tid_96440;\n    phys_tid_72564 = sext_i32_i64(global_tid_96439);\n    global_tid_96444 = sext_i32_i64(block_id_96441) * segmap_tblock_sizze_72559 + sext_i32_i64(local_tid_96440);\n    slice_96445 = dz2083U_51491;\n    gtid_72563 = global_tid_96444;\n    remnant_96446 = global_tid_96444 - gtid_72563;\n    if (slt64(gtid_72563, dz2083U_51491)) {\n        int64_t defunc_0_foldl_res_72566;\n        int64_t acc_72568;\n        bool x_72571;\n        bool y_72572;\n        bool bounds_check_72573;\n        bool index_certs_72574;\n        \n        acc_72568 = (int64_t) 0;\n        for (int64_t i_72567 = 0; i_72567 < dim_51486; i_72567++) {\n            int64_t b_72569;\n            int64_t defunc_0_f_res_72570;\n            int64_t acc_tmp_96447;\n            \n            b_72569 = ((__global int64_t *) mem_91909)[gtid_72563 + i_72567 * dz2083U_51491];\n            defunc_0_f_res_72570 = add64(acc_72568, b_72569);\n            acc_tmp_96447 = defunc_0_f_res_72570;\n            acc_72568 = acc_tmp_96447;\n        }\n        defunc_0_foldl_res_72566 = acc_72568;\n        x_72571 = sle64((int64_t) 0, defunc_0_foldl_res_72566);\n        y_72572 = slt64(defunc_0_foldl_res_72566, dz2080U_51487);\n        bounds_check_72573 = x_72571 && y_72572;\n        if (!bounds_check_72573) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 34) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_72566;\n                    global_failure_args[1] = (int64_t) dz2080U_51487;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_91913)[gtid_72563] = defunc_0_foldl_res_72566;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72559\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72584_dim1, 1, 1)\nvoid calc_local_Skyline_G", "FUR_doublezisegmap_72584(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_91911, __global unsigned char *mem_91913, __global unsigned char *mem_91948)\n{\n    #define segmap_tblock_sizze_72579 (calc_local_Skyline_GFUR_doublezisegmap_72584zisegmap_tblock_sizze_72579)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96473;\n    int32_t tblock_sizze_96476;\n    int32_t wave_sizze_96475;\n    int32_t block_id_96474;\n    int32_t global_tid_96472;\n    int64_t phys_tid_72584;\n    int64_t global_tid_96477;\n    int64_t slice_96478;\n    int64_t slice_96479;\n    int64_t gtid_72583;\n    int64_t remnant_96480;\n    int64_t gtid_slice_72582;\n    int64_t remnant_96481;\n    \n    local_tid_96473 = get_local_id(0);\n    tblock_sizze_96476 = get_local_size(0);\n    wave_sizze_96475 = LOCKSTEP_WIDTH;\n    block_id_96474 = get_tblock_id(0);\n    global_tid_96472 = block_id_96474 * tblock_sizze_96476 + local_tid_96473;\n    phys_tid_72584 = sext_i32_i64(global_tid_96472);\n    global_tid_96477 = sext_i32_i64(block_id_96474) * segmap_tblock_sizze_72579 + sext_i32_i64(local_tid_96473);\n    slice_96478 = dim_51486;\n    slice_96479 = dz2083U_51491 * slice_96478;\n    gtid_72583 = squot64(global_tid_96477, slice_96478);\n    remnant_96480 = global_tid_96477 - gtid_72583 * slice_96478;\n    gtid_slice_72582 = remnant_96480;\n    remnant_96481 = remnant_96480 - gtid_slice_72582;\n    if (slt64(gtid_72583, dz2083U_51491) && slt64(gtid_slice_72582, dim_51486)) {\n        int64_t defunc_0_foldl_res_72585;\n        bool index_certs_72586;\n        double v_72587;\n        \n        defunc_0_foldl_res_72585 = ((__global int64_t *) mem_91913)[gtid_72583];\n        index_certs_72586 = 0;\n        v_72587 = ((__global double *) start_of_grid_partition_mem_91598)[defunc_0_foldl_res_72585 * dim_51486 + gtid_slice_72582];\n        ((__global double *) mem_91948)[gtid_72583 * dim_51486 + gtid_slice_", "72582] = v_72587;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72579\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72599_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72599(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91948)\n{\n    #define segmap_tblock_sizze_72594 (calc_local_Skyline_GFUR_doublezisegmap_72599zisegmap_tblock_sizze_72594)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96484;\n    int32_t tblock_sizze_96487;\n    int32_t wave_sizze_96486;\n    int32_t block_id_96485;\n    int32_t global_tid_96483;\n    int64_t phys_tid_72599;\n    int64_t global_tid_96488;\n    int64_t slice_96489;\n    int64_t slice_96490;\n    int64_t gtid_72597;\n    int64_t remnant_96491;\n    int64_t gtid_72598;\n    int64_t remnant_96492;\n    \n    local_tid_96484 = get_local_id(0);\n    tblock_sizze_96487 = get_local_size(0);\n    wave_sizze_96486 = LOCKSTEP_WIDTH;\n    block_id_96485 = get_tblock_id(0);\n    global_tid_96483 = block_id_96485 * tblock_sizze_96487 + local_tid_96484;\n    phys_tid_72599 = sext_i32_i64(global_tid_96483);\n    global_tid_96488 = sext_i32_i64(block_id_96485) * segmap_tblock_sizze_72594 + sext_i32_i64(local_tid_96484);\n    slice_96489 = dim_51486;\n    slice_96490 = dz2083U_51491 * slice_96489;\n    gtid_72597 = squot64(global_tid_96488, slice_96489);\n    remnant_96491 = global_tid_96488 - gtid_72597 * slice_96489;\n    gtid_72598 = remnant_96491;\n    remnant_96492 = remnant_96491 - gtid_72598;\n    if (slt64(gtid_72597, dz2083U_51491) && slt64(gtid_72598, dim_51486)) {\n        double eta_p_72600;\n        double eta_p_72601;\n        double defunc_0_f_res_72602;\n        \n        eta_p_72600 = ((__global double *) xys_mem_91601)[gtid_72597 * dim_51486 + gtid_72598];\n        eta_p_72601 = ((__global double *) mem_91948)[gtid_72597 * dim_51486 + gtid_72598];\n        defunc_0_f_res_72602 = eta_p_72600 - eta_p_72601;",
                                    "\n        ((__global double *) mem_91948)[gtid_72597 * dim_51486 + gtid_72598] = defunc_0_f_res_72602;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72594\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72621_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72621(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t num_tblocks_72617, int32_t virt_num_tblocks_96513, __global unsigned char *mem_91962, __global unsigned char *mem_91973, __global unsigned char *mem_91991)\n{\n    #define segmap_tblock_sizze_72616 (calc_local_Skyline_GFUR_doublezisegmap_72621zisegmap_tblock_sizze_72616)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96515;\n    int32_t tblock_sizze_96518;\n    int32_t wave_sizze_96517;\n    int32_t block_id_96516;\n    int32_t global_tid_96514;\n    int64_t phys_tid_72621;\n    int32_t phys_tblock_id_96519;\n    int32_t iterations_96520;\n    \n    local_tid_96515 = get_local_id(0);\n    tblock_sizze_96518 = get_local_size(0);\n    wave_sizze_96517 = LOCKSTEP_WIDTH;\n    block_id_96516 = get_tblock_id(0);\n    global_tid_96514 = block_id_96516 * tblock_sizze_96518 + local_tid_96515;\n    phys_tid_72621 = sext_i32_i64(global_tid_96514);\n    phys_tblock_id_96519 = get_tblock_id(0);\n    iterations_96520 = sdiv_up32(virt_num_tblocks_96513 - phys_tblock_id_96519, sext_i64_i32(num_tblocks_72617));\n    for (int32_t i_96521 = 0; i_96521 < iterations_96520; i_96521++) {\n        int32_t virt_tblock_id_96522;\n        int64_t global_tid_96523;\n        int64_t slice_96524;\n        int64_t gtid_72620;\n        int64_t remnant_96525;\n        \n        virt_tblock_id_96522 = phys_tblock_id_96519 + i_96521 * sext_i64_i32(num_tbl", "ocks_72617);\n        global_tid_96523 = sext_i32_i64(virt_tblock_id_96522) * segmap_tblock_sizze_72616 + sext_i32_i64(local_tid_96515);\n        slice_96524 = dz2083U_51491;\n        gtid_72620 = global_tid_96523;\n        remnant_96525 = global_tid_96523 - gtid_72620;\n        if (slt64(gtid_72620, dz2083U_51491)) {\n            for (int64_t i_72625 = 0; i_72625 < arg_59797; i_72625++) {\n                int64_t index_primexp_72627;\n                bool x_72628;\n                bool y_72629;\n                bool bounds_check_72630;\n                bool index_certs_72631;\n                \n                index_primexp_72627 = add64((int64_t) 1, i_72625);\n                x_72628 = sle64((int64_t) 0, index_primexp_72627);\n                y_72629 = slt64(index_primexp_72627, dim_51486);\n                bounds_check_72630 = x_72628 && y_72629;\n                if (!bounds_check_72630) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 35) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_72627;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_91962)[gtid_72620 + dz2083U_51491 * index_primexp_72627 + i_0 * dz2083U_51491] = ((__global double *) mem_91973)[gtid_72620 + dz2083U_51491 * index_primexp_72627 + i_0 * dz2083U_51491];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_51486; i_0++) {\n                ((__global double *) mem_91991)[gtid_72620 + i_0 * dz2083U_51491] = ((__global double *) mem_91962)[gtid_72620 + i_0 * dz2083U_51491];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_", "failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_72616\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72669_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72669(__global int *global_failure, int64_t dz2083U_51491, int64_t map_arg1_72642, int64_t j_m_i_72643, int64_t ext_91995, int64_t ext_91996, __global unsigned char *ext_mem_91997, __global unsigned char *mem_92008)\n{\n    #define segmap_tblock_sizze_72664 (calc_local_Skyline_GFUR_doublezisegmap_72669zisegmap_tblock_sizze_72664)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96533;\n    int32_t tblock_sizze_96536;\n    int32_t wave_sizze_96535;\n    int32_t block_id_96534;\n    int32_t global_tid_96532;\n    int64_t phys_tid_72669;\n    int64_t global_tid_96537;\n    int64_t slice_96538;\n    int64_t slice_96539;\n    int64_t gtid_72667;\n    int64_t remnant_96540;\n    int64_t gtid_72668;\n    int64_t remnant_96541;\n    \n    local_tid_96533 = get_local_id(0);\n    tblock_sizze_96536 = get_local_size(0);\n    wave_sizze_96535 = LOCKSTEP_WIDTH;\n    block_id_96534 = get_tblock_id(0);\n    global_tid_96532 = block_id_96534 * tblock_sizze_96536 + local_tid_96533;\n    phys_tid_72669 = sext_i32_i64(global_tid_96532);\n    global_tid_96537 = sext_i32_i64(block_id_96534) * segmap_tblock_sizze_72664 + sext_i32_i64(local_tid_96533);\n    slice_96538 = j_m_i_72643;\n    slice_96539 = dz2083U_51491 * slice_96538;\n    gtid_72667 = squot64(global_tid_96537, slice_96538);\n    remnant_96540 = global_tid_96537 - gtid_72667 * slice_96538;\n    gtid_72668 = remnant_96540;\n    remnant_96541 = remnant_96540 - gtid_72668;\n    if (slt64(gtid_72667, dz2083U_51491) && slt64(gtid_72668, j_m_i_72643)) {\n        int64_t slice_91264;\n        double eta_p_72670;\n        double lifted_lambda_res_72671;\n        \n        slice_91264 = map_arg1_72642 + gtid_72668;\n        eta_p_72670 = ((__global double *) ext_mem",
                                    "_91997)[gtid_72667 * ext_91996 + slice_91264 * ext_91995];\n        lifted_lambda_res_72671 = eta_p_72670 * eta_p_72670;\n        ((__global double *) mem_92008)[gtid_72667 * j_m_i_72643 + gtid_72668] = lifted_lambda_res_72671;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72664\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72679_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72679(__global int *global_failure, int64_t dz2083U_51491, int64_t arg_59797, int64_t i_72638, int64_t j_m_i_72643, int64_t num_tblocks_72675, int64_t ext_91995, int64_t ext_91996, int32_t virt_num_tblocks_96542, __global unsigned char *ext_mem_91997, __global unsigned char *mem_92019, __global unsigned char *mem_92030, __global unsigned char *mem_92042)\n{\n    #define segmap_tblock_sizze_72674 (calc_local_Skyline_GFUR_doublezisegmap_72679zisegmap_tblock_sizze_72674)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96544;\n    int32_t tblock_sizze_96547;\n    int32_t wave_sizze_96546;\n    int32_t block_id_96545;\n    int32_t global_tid_96543;\n    int64_t phys_tid_72679;\n    int32_t phys_tblock_id_96548;\n    int32_t iterations_96549;\n    \n    local_tid_96544 = get_local_id(0);\n    tblock_sizze_96547 = get_local_size(0);\n    wave_sizze_96546 = LOCKSTEP_WIDTH;\n    block_id_96545 = get_tblock_id(0);\n    global_tid_96543 = block_id_96545 * tblock_sizze_96547 + local_tid_96544;\n    phys_tid_72679 = sext_i32_i64(global_tid_96543);\n    phys_tblock_id_96548 = get_tblock_id(0);\n    iterations_96549 = sdiv_up32(virt_num_tblocks_96542 - phys_tblock_id_96548, sext_i64_i32(num_tblocks_72675));\n    for (int32_t i_96550 = 0; i_96550 < iterations_96549; i_96550++) {\n        int32_t virt_tblock_id_96551;\n        int64_t global_tid_96552;\n        int64_t slice_96553;\n        int64_t gtid_72678;\n        int64_t remnant_96554;\n        \n        virt_tblock_id_96551 = phys_tblock_id_96548 + i_96550 * sext_i64_i32(num_tblocks_72675);\n        global_tid_9655", "2 = sext_i32_i64(virt_tblock_id_96551) * segmap_tblock_sizze_72674 + sext_i32_i64(local_tid_96544);\n        slice_96553 = dz2083U_51491;\n        gtid_72678 = global_tid_96552;\n        remnant_96554 = global_tid_96552 - gtid_72678;\n        if (slt64(gtid_72678, dz2083U_51491)) {\n            double defunc_0_seqmap_res_r_transformed_row_72681;\n            double defunc_0_foldl_res_72683;\n            double acc_72685;\n            double sqrt_res_72688;\n            double atan2_res_72689;\n            \n            defunc_0_seqmap_res_r_transformed_row_72681 = ((__global double *) ext_mem_91997)[gtid_72678 * ext_91996 + i_72638 * ext_91995];\n            acc_72685 = 0.0;\n            for (int64_t i_72684 = 0; i_72684 < j_m_i_72643; i_72684++) {\n                double b_72686;\n                double defunc_0_f_res_72687;\n                double acc_tmp_96555;\n                \n                b_72686 = ((__global double *) mem_92030)[gtid_72678 + i_72684 * dz2083U_51491];\n                defunc_0_f_res_72687 = acc_72685 + b_72686;\n                acc_tmp_96555 = defunc_0_f_res_72687;\n                acc_72685 = acc_tmp_96555;\n            }\n            defunc_0_foldl_res_72683 = acc_72685;\n            sqrt_res_72688 = futrts_sqrt64(defunc_0_foldl_res_72683);\n            atan2_res_72689 = futrts_atan2_64(sqrt_res_72688, defunc_0_seqmap_res_r_transformed_row_72681);\n            ((__global double *) mem_92019)[gtid_72678 + i_72638 * dz2083U_51491] = atan2_res_72689;\n            for (int64_t i_0 = 0; i_0 < arg_59797; i_0++) {\n                ((__global double *) mem_92042)[gtid_72678 + i_0 * dz2083U_51491] = ((__global double *) mem_92019)[gtid_72678 + i_0 * dz2083U_51491];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_72674\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72703_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72703(__global int *global_failure", ", int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_51491, int64_t arg_59797, int64_t ext_92043, int64_t ext_92044, __global unsigned char *angle_part_prefix_sum_mem_91593, __global unsigned char *angle_partitions_per_dim_mem_91594, __global unsigned char *ext_mem_91940, __global unsigned char *ext_mem_92046, __global unsigned char *mem_92050)\n{\n    #define segmap_tblock_sizze_72698 (calc_local_Skyline_GFUR_doublezisegmap_72703zisegmap_tblock_sizze_72698)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96558;\n    int32_t tblock_sizze_96561;\n    int32_t wave_sizze_96560;\n    int32_t block_id_96559;\n    int32_t global_tid_96557;\n    int64_t phys_tid_72703;\n    int64_t global_tid_96562;\n    int64_t slice_96563;\n    int64_t slice_96564;\n    int64_t gtid_72701;\n    int64_t remnant_96565;\n    int64_t gtid_72702;\n    int64_t remnant_96566;\n    \n    local_tid_96558 = get_local_id(0);\n    tblock_sizze_96561 = get_local_size(0);\n    wave_sizze_96560 = LOCKSTEP_WIDTH;\n    block_id_96559 = get_tblock_id(0);\n    global_tid_96557 = block_id_96559 * tblock_sizze_96561 + local_tid_96558;\n    phys_tid_72703 = sext_i32_i64(global_tid_96557);\n    global_tid_96562 = sext_i32_i64(block_id_96559) * segmap_tblock_sizze_72698 + sext_i32_i64(local_tid_96558);\n    slice_96563 = arg_59797;\n    slice_96564 = dz2083U_51491 * slice_96563;\n    gtid_72701 = squot64(global_tid_96562, slice_96563);\n    remnant_96565 = global_tid_96562 - gtid_72701 * slice_96563;\n    gtid_72702 = remnant_96565;\n    remnant_96566 = remnant_96565 - gtid_72702;\n    if (slt64(gtid_72701, dz2083U_51491) && slt64(gtid_72702, arg_59797)) {\n        double eta_p_72704;\n        double eta_p_72705;\n        int64_t eta_p_72706;\n        int64_t eta_p_72707;\n        int64_t defunc_0_f_res_72708;\n        \n        eta_p_72704 = ((__global double *) ext_mem_92046)[gtid_72701 * ext_92044 + gtid_72702 * ext_",
                                    "92043];\n        eta_p_72705 = ((__global double *) ext_mem_91940)[gtid_72702];\n        eta_p_72706 = ((__global int64_t *) angle_part_prefix_sum_mem_91593)[gtid_72702];\n        eta_p_72707 = ((__global int64_t *) angle_partitions_per_dim_mem_91594)[gtid_72702];\n        futrts_lifted_lambda_10152(&defunc_0_f_res_72708, eta_p_72704, eta_p_72705, eta_p_72706, eta_p_72707);\n        ((__global int64_t *) mem_92050)[gtid_72701 * arg_59797 + gtid_72702] = defunc_0_f_res_72708;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72698\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72715_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72715(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2082U_51490, int64_t dz2083U_51491, int64_t total_angle_no_51498, int64_t arg_59797, unsigned char cond_59838_bits, unsigned char protect_assert_disj_59855_bits, unsigned char protect_assert_disj_59867_bits, int64_t i_59872, unsigned char x_67234_bits, int64_t num_threads_95885, __global unsigned char *part_idx_mem_91600, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91606, __global unsigned char *mem_91913, __global unsigned char *mem_91924, __global unsigned char *mem_param_91927, __global unsigned char *mem_92061, __global unsigned char *mem_92086, __global unsigned char *color_95759, __global unsigned char *color_95760)\n{\n    bool cond_59838 = cond_59838_bits;\n    bool protect_assert_disj_59855 = protect_assert_disj_59855_bits;\n    bool protect_assert_disj_59867 = protect_assert_disj_59867_bits;\n    bool x_67234 = x_67234_bits;\n    \n    #define segmap_tblock_sizze_72711 (calc_local_Skyline_GFUR_doublezisegmap_72715zisegmap_tblock_sizze_72711)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96569;\n    int32_t tblock_sizze_96572;\n    int32_t wave_sizze_96571;\n    int32_t block_id_96570;\n    int32_t global_tid_96568;\n    int64_t phys_t", "id_72715;\n    int64_t global_tid_96573;\n    int64_t slice_96574;\n    int64_t gtid_72714;\n    int64_t remnant_96575;\n    \n    local_tid_96569 = get_local_id(0);\n    tblock_sizze_96572 = get_local_size(0);\n    wave_sizze_96571 = LOCKSTEP_WIDTH;\n    block_id_96570 = get_tblock_id(0);\n    global_tid_96568 = block_id_96570 * tblock_sizze_96572 + local_tid_96569;\n    phys_tid_72715 = sext_i32_i64(global_tid_96568);\n    global_tid_96573 = sext_i32_i64(block_id_96570) * segmap_tblock_sizze_72711 + sext_i32_i64(local_tid_96569);\n    slice_96574 = dz2083U_51491;\n    gtid_72714 = global_tid_96573;\n    remnant_96575 = global_tid_96573 - gtid_72714;\n    if (slt64(gtid_72714, dz2083U_51491)) {\n        int64_t eta_p_72717;\n        int64_t defunc_0_foldl_res_72718;\n        int64_t defunc_0_foldl_res_72720;\n        int64_t acc_72722;\n        int64_t zp_lhs_72725;\n        int64_t get_id_from_grid_angle_res_72726;\n        bool x_72727;\n        bool y_72728;\n        bool bounds_check_72729;\n        bool index_certs_72730;\n        int64_t tmp_72731;\n        bool index_certs_72733;\n        int64_t zp_lhs_72734;\n        int64_t zm_lhs_72735;\n        int64_t min_arg1_72736;\n        int64_t min_arg0_72737;\n        int64_t min_res_72738;\n        bool x_72739;\n        bool y_72740;\n        bool bounds_check_72741;\n        bool index_certs_72742;\n        bool cond_72743;\n        bool cond_f_res_72744;\n        bool x_72745;\n        bool y_72746;\n        bool cond_72747;\n        bool protect_assert_disj_95117;\n        bool index_certs_72754;\n        bool protect_assert_disj_95123;\n        bool range_valid_c_72762;\n        bool x_95114;\n        bool protect_cond_conj_95118;\n        double f_arg1_72755;\n        double f_arg0_72756;\n        bool defunc_0_f_res_72757;\n        int64_t defunc_0_f_res_72748;\n        \n        eta_p_72717 = ((__global int64_t *) mem_param_91927)[gtid_72714];\n        defunc_0_foldl_res_72718 = ((__global int64_t *) mem_91913)[gtid_72714];\n        acc_72722 = (int64_t) 0;\n", "        for (int64_t i_72721 = 0; i_72721 < arg_59797; i_72721++) {\n            int64_t b_72723;\n            int64_t defunc_0_f_res_72724;\n            int64_t acc_tmp_96576;\n            \n            b_72723 = ((__global int64_t *) mem_92061)[gtid_72714 + i_72721 * dz2083U_51491];\n            defunc_0_f_res_72724 = add64(acc_72722, b_72723);\n            acc_tmp_96576 = defunc_0_f_res_72724;\n            acc_72722 = acc_tmp_96576;\n        }\n        defunc_0_foldl_res_72720 = acc_72722;\n        zp_lhs_72725 = mul64(total_angle_no_51498, defunc_0_foldl_res_72718);\n        get_id_from_grid_angle_res_72726 = add64(defunc_0_foldl_res_72720, zp_lhs_72725);\n        x_72727 = sle64((int64_t) 0, get_id_from_grid_angle_res_72726);\n        y_72728 = slt64(get_id_from_grid_angle_res_72726, dz2082U_51490);\n        bounds_check_72729 = x_72727 && y_72728;\n        if (!bounds_check_72729) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 36) == -1) {\n                    global_failure_args[0] = (int64_t) get_id_from_grid_angle_res_72726;\n                    global_failure_args[1] = (int64_t) dz2082U_51490;\n                    ;\n                }\n                return;\n            }\n        }\n        tmp_72731 = ((__global int64_t *) mem_91606)[get_id_from_grid_angle_res_72726];\n        if (!bounds_check_72729) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 37) == -1) {\n                    global_failure_args[0] = (int64_t) get_id_from_grid_angle_res_72726;\n                    global_failure_args[1] = (int64_t) dz2082U_51490;\n                    ;\n                }\n                return;\n            }\n        }\n        zp_lhs_72734 = ((__global int64_t *) part_idx_mem_91600)[get_id_from_grid_angle_res_72726];\n        zm_lhs_72735 = add64(tmp_72731, zp_lhs_72734);\n        min_arg1_72736 = sub64(zm_lhs_72735, (int64_t) 1);\n        min_arg0_72737 = add64(i_59872, zp_lhs_72734);\n        min_res_72738 = smin64(min_arg1_72",
                                    "736, min_arg0_72737);\n        x_72739 = sle64((int64_t) 0, min_res_72738);\n        y_72740 = slt64(min_res_72738, dz2083U_51491);\n        bounds_check_72741 = x_72739 && y_72740;\n        if (!bounds_check_72741) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 38) == -1) {\n                    global_failure_args[0] = (int64_t) min_res_72738;\n                    global_failure_args[1] = (int64_t) dz2083U_51491;\n                    ;\n                }\n                return;\n            }\n        }\n        cond_72743 = slt64(eta_p_72717, (int64_t) 0);\n        cond_f_res_72744 = eta_p_72717 == i_59872;\n        x_72745 = !cond_72743;\n        y_72746 = cond_f_res_72744 && x_72745;\n        cond_72747 = cond_72743 || y_72746;\n        protect_assert_disj_95117 = protect_assert_disj_59855 || cond_72747;\n        if (!protect_assert_disj_95117) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 39) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                return;\n            }\n        }\n        protect_assert_disj_95123 = protect_assert_disj_59867 || cond_72747;\n        if (!protect_assert_disj_95123) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 40) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 1;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                return;\n            }\n        }\n        x_95114 = !cond_72747;\n        protect_cond_conj_95118 = x_67234 && x_95114;\n        if (protect_cond_conj_95118) {\n            double x_95107 = ((__global double *) xys_mem_91601)[min_res_72738 * dim_51486];\n            \n            f_arg1_72755 = x_95107;\n        } else {\n            f_arg1_72755 = 0.0;\n        }\n        if (protect_cond_conj_95118) {\n      ", "      double x_95109 = ((__global double *) xys_mem_91601)[gtid_72714 * dim_51486];\n            \n            f_arg0_72756 = x_95109;\n        } else {\n            f_arg0_72756 = 0.0;\n        }\n        defunc_0_f_res_72757 = f_arg1_72755 <= f_arg0_72756;\n        if (cond_72747) {\n            defunc_0_f_res_72748 = eta_p_72717;\n        } else {\n            __global unsigned char *ext_mem_ext_95894;\n            bool defunc_0_foldl_res_72775;\n            bool acc_72777;\n            bool elimd_72780;\n            int64_t defunc_0_f_res_f_res_72811;\n            \n            if (cond_59838) {\n                ext_mem_ext_95894 = color_95759;\n            } else {\n                for (int64_t nest_i_96577 = 0; nest_i_96577 < dim_51486; nest_i_96577++) {\n                    ((__global bool *) color_95760)[phys_tid_72715 + nest_i_96577 * num_threads_95885] = defunc_0_f_res_72757;\n                }\n                for (int64_t i_72764 = 0; i_72764 < arg_59797; i_72764++) {\n                    int64_t index_primexp_72766;\n                    bool x_72767;\n                    bool y_72768;\n                    bool bounds_check_72769;\n                    bool index_certs_72770;\n                    double f_arg1_72771;\n                    double f_arg0_72772;\n                    bool defunc_0_f_res_72773;\n                    \n                    index_primexp_72766 = add64((int64_t) 1, i_72764);\n                    x_72767 = sle64((int64_t) 0, index_primexp_72766);\n                    y_72768 = slt64(index_primexp_72766, dim_51486);\n                    bounds_check_72769 = x_72767 && y_72768;\n                    if (!bounds_check_72769) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 41) == -1) {\n                                global_failure_args[0] = (int64_t) index_primexp_72766;\n                                global_failure_args[1] = (int64_t) dim_51486;\n                                ;\n                            }\n     ", "                       return;\n                        }\n                    }\n                    f_arg1_72771 = ((__global double *) mem_91924)[min_res_72738 + index_primexp_72766 * dz2083U_51491];\n                    f_arg0_72772 = ((__global double *) mem_91924)[gtid_72714 + index_primexp_72766 * dz2083U_51491];\n                    defunc_0_f_res_72773 = f_arg1_72771 <= f_arg0_72772;\n                    ((__global bool *) color_95760)[phys_tid_72715 + index_primexp_72766 * num_threads_95885] = defunc_0_f_res_72773;\n                }\n                ext_mem_ext_95894 = color_95760;\n            }\n            acc_72777 = 1;\n            for (int64_t i_72776 = 0; i_72776 < dim_51486; i_72776++) {\n                bool b_72778;\n                bool x_72779;\n                bool acc_tmp_96579;\n                \n                b_72778 = ((__global bool *) ext_mem_ext_95894)[phys_tid_72715 + i_72776 * num_threads_95885];\n                x_72779 = acc_72777 && b_72778;\n                acc_tmp_96579 = x_72779;\n                acc_72777 = acc_tmp_96579;\n            }\n            defunc_0_foldl_res_72775 = acc_72777;\n            if (defunc_0_foldl_res_72775) {\n                bool bounds_invalid_upwards_72790;\n                bool valid_72792;\n                bool protect_assert_disj_95089;\n                bool range_valid_c_72793;\n                bool y_72784;\n                int64_t distance_72791;\n                __global unsigned char *ext_mem_ext_95903;\n                bool defunc_0_foldl_res_72806;\n                bool acc_72808;\n                \n                bounds_invalid_upwards_72790 = slt64(dim_51486, (int64_t) 1);\n                valid_72792 = !bounds_invalid_upwards_72790;\n                protect_assert_disj_95089 = cond_59838 || valid_72792;\n                if (!protect_assert_disj_95089) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 42) == -1) {\n                            global_failure_args[0] = (int64_t)",
                                    " (int64_t) 1;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        return;\n                    }\n                }\n                y_72784 = slt64((int64_t) 0, dim_51486);\n                distance_72791 = sub64(dim_51486, (int64_t) 1);\n                if (cond_59838) {\n                    ext_mem_ext_95903 = color_95759;\n                } else {\n                    bool index_certs_72785;\n                    double f_arg1_72786;\n                    double f_arg0_72787;\n                    bool defunc_0_f_res_72788;\n                    \n                    if (!y_72784) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 43) == -1) {\n                                global_failure_args[0] = (int64_t) (int64_t) 0;\n                                global_failure_args[1] = (int64_t) dim_51486;\n                                ;\n                            }\n                            return;\n                        }\n                    }\n                    f_arg1_72786 = ((__global double *) xys_mem_91601)[min_res_72738 * dim_51486];\n                    f_arg0_72787 = ((__global double *) xys_mem_91601)[gtid_72714 * dim_51486];\n                    defunc_0_f_res_72788 = f_arg1_72786 < f_arg0_72787;\n                    for (int64_t nest_i_96580 = 0; nest_i_96580 < dim_51486; nest_i_96580++) {\n                        ((__global bool *) color_95760)[phys_tid_72715 + nest_i_96580 * num_threads_95885] = defunc_0_f_res_72788;\n                    }\n                    for (int64_t i_72795 = 0; i_72795 < distance_72791; i_72795++) {\n                        int64_t index_primexp_72797;\n                        bool x_72798;\n                        bool y_72799;\n                        bool bounds_check_72800;\n                        bool index_certs_72801;\n                        double f_arg1_72802;\n                        dou", "ble f_arg0_72803;\n                        bool defunc_0_f_res_72804;\n                        \n                        index_primexp_72797 = add64((int64_t) 1, i_72795);\n                        x_72798 = sle64((int64_t) 0, index_primexp_72797);\n                        y_72799 = slt64(index_primexp_72797, dim_51486);\n                        bounds_check_72800 = x_72798 && y_72799;\n                        if (!bounds_check_72800) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 44) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_72797;\n                                    global_failure_args[1] = (int64_t) dim_51486;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        f_arg1_72802 = ((__global double *) mem_91924)[min_res_72738 + index_primexp_72797 * dz2083U_51491];\n                        f_arg0_72803 = ((__global double *) mem_91924)[gtid_72714 + index_primexp_72797 * dz2083U_51491];\n                        defunc_0_f_res_72804 = f_arg1_72802 < f_arg0_72803;\n                        ((__global bool *) color_95760)[phys_tid_72715 + index_primexp_72797 * num_threads_95885] = defunc_0_f_res_72804;\n                    }\n                    ext_mem_ext_95903 = color_95760;\n                }\n                acc_72808 = 0;\n                for (int64_t i_72807 = 0; i_72807 < dim_51486; i_72807++) {\n                    bool b_72809;\n                    bool defunc_0_f_res_72810;\n                    bool acc_tmp_96582;\n                    \n                    b_72809 = ((__global bool *) ext_mem_ext_95903)[phys_tid_72715 + i_72807 * num_threads_95885];\n                    defunc_0_f_res_72810 = acc_72808 || b_72809;\n                    acc_tmp_96582 = defunc_0_f_res_72810;\n                    acc_72808 = acc_tmp_96582;\n            ", "    }\n                defunc_0_foldl_res_72806 = acc_72808;\n                elimd_72780 = defunc_0_foldl_res_72806;\n            } else {\n                elimd_72780 = 0;\n            }\n            if (elimd_72780) {\n                defunc_0_f_res_f_res_72811 = (int64_t) -1;\n            } else {\n                defunc_0_f_res_f_res_72811 = eta_p_72717;\n            }\n            defunc_0_f_res_72748 = defunc_0_f_res_f_res_72811;\n        }\n        ((__global int64_t *) mem_92086)[gtid_72714] = defunc_0_f_res_72748;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72711\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72821_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72821(__global int *global_failure, int64_t dz2083U_51491, int64_t m_60147, int64_t num_tblocks_72826, int32_t virt_num_tblocks_96709, __global unsigned char *ext_mem_92089, __global unsigned char *mem_92092, __global unsigned char *mem_92094, __global unsigned char *mem_92096)\n{\n    #define segmap_tblock_sizze_72824 (calc_local_Skyline_GFUR_doublezisegmap_72821zisegmap_tblock_sizze_72824)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96711;\n    int32_t tblock_sizze_96714;\n    int32_t wave_sizze_96713;\n    int32_t block_id_96712;\n    int32_t global_tid_96710;\n    int64_t phys_tid_72821;\n    int32_t phys_tblock_id_96715;\n    int32_t iterations_96716;\n    \n    local_tid_96711 = get_local_id(0);\n    tblock_sizze_96714 = get_local_size(0);\n    wave_sizze_96713 = LOCKSTEP_WIDTH;\n    block_id_96712 = get_tblock_id(0);\n    global_tid_96710 = block_id_96712 * tblock_sizze_96714 + local_tid_96711;\n    phys_tid_72821 = sext_i32_i64(global_tid_96710);\n    phys_tblock_id_96715 = get_tblock_id(0);\n    iterations_96716 = sdiv_up32(virt_num_tblocks_96709 - phys_tblock_id_96715, sext_i64_i32(num_tblocks_72826));\n    for (int32_t i_96717 = 0; i_96717 < iterations_96716; i_96717++) {\n        int32_t virt_tblock_id_96718;\n        int64_t global_tid_96719;\n    ",
                                    "    int64_t slice_96720;\n        int64_t write_i_72820;\n        int64_t remnant_96721;\n        \n        virt_tblock_id_96718 = phys_tblock_id_96715 + i_96717 * sext_i64_i32(num_tblocks_72826);\n        global_tid_96719 = sext_i32_i64(virt_tblock_id_96718) * segmap_tblock_sizze_72824 + sext_i32_i64(local_tid_96711);\n        slice_96720 = dz2083U_51491;\n        write_i_72820 = global_tid_96719;\n        remnant_96721 = global_tid_96719 - write_i_72820;\n        if (slt64(write_i_72820, dz2083U_51491)) {\n            int64_t eta_p_67284;\n            int64_t write_value_67286;\n            bool cond_67287;\n            int64_t lifted_lambda_res_67288;\n            \n            eta_p_67284 = ((__global int64_t *) mem_92094)[write_i_72820];\n            write_value_67286 = ((__global int64_t *) ext_mem_92089)[write_i_72820];\n            cond_67287 = eta_p_67284 == (int64_t) 1;\n            if (cond_67287) {\n                int64_t eta_p_67285;\n                int64_t lifted_lambda_res_t_res_68361;\n                \n                eta_p_67285 = ((__global int64_t *) mem_92092)[write_i_72820];\n                lifted_lambda_res_t_res_68361 = sub64(eta_p_67285, (int64_t) 1);\n                lifted_lambda_res_67288 = lifted_lambda_res_t_res_68361;\n            } else {\n                lifted_lambda_res_67288 = (int64_t) -1;\n            }\n            if (sle64((int64_t) 0, lifted_lambda_res_67288) && slt64(lifted_lambda_res_67288, m_60147)) {\n                ((__global int64_t *) mem_92096)[lifted_lambda_res_67288] = write_value_67286;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_72824\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72873_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72873(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_51491, int64_t m_60147, __global unsigned char *mem_92096, __gl", "obal unsigned char *mem_92099)\n{\n    #define segmap_tblock_sizze_72869 (calc_local_Skyline_GFUR_doublezisegmap_72873zisegmap_tblock_sizze_72869)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96724;\n    int32_t tblock_sizze_96727;\n    int32_t wave_sizze_96726;\n    int32_t block_id_96725;\n    int32_t global_tid_96723;\n    int64_t phys_tid_72873;\n    int64_t global_tid_96728;\n    int64_t slice_96729;\n    int64_t gtid_72872;\n    int64_t remnant_96730;\n    \n    local_tid_96724 = get_local_id(0);\n    tblock_sizze_96727 = get_local_size(0);\n    wave_sizze_96726 = LOCKSTEP_WIDTH;\n    block_id_96725 = get_tblock_id(0);\n    global_tid_96723 = block_id_96725 * tblock_sizze_96727 + local_tid_96724;\n    phys_tid_72873 = sext_i32_i64(global_tid_96723);\n    global_tid_96728 = sext_i32_i64(block_id_96725) * segmap_tblock_sizze_72869 + sext_i32_i64(local_tid_96724);\n    slice_96729 = m_60147;\n    gtid_72872 = global_tid_96728;\n    remnant_96730 = global_tid_96728 - gtid_72872;\n    if (slt64(gtid_72872, m_60147)) {\n        int64_t eta_p_72874;\n        bool x_72875;\n        bool y_72876;\n        bool bounds_check_72877;\n        bool index_certs_72878;\n        \n        eta_p_72874 = ((__global int64_t *) mem_92096)[gtid_72872];\n        x_72875 = sle64((int64_t) 0, eta_p_72874);\n        y_72876 = slt64(eta_p_72874, dz2083U_51491);\n        bounds_check_72877 = x_72875 && y_72876;\n        if (!bounds_check_72877) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 45) == -1) {\n                    global_failure_args[0] = (int64_t) eta_p_72874;\n                    global_failure_args[1] = (int64_t) dz2083U_51491;\n                    ;\n                }\n                return;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72869\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72886_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72886(__global int *global_failure, int64_t", " dim_51486, int64_t m_60147, __global unsigned char *xys_mem_91601, __global unsigned char *mem_92096, __global unsigned char *mem_92099, __global unsigned char *mem_92103)\n{\n    #define segmap_tblock_sizze_72881 (calc_local_Skyline_GFUR_doublezisegmap_72886zisegmap_tblock_sizze_72881)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96733;\n    int32_t tblock_sizze_96736;\n    int32_t wave_sizze_96735;\n    int32_t block_id_96734;\n    int32_t global_tid_96732;\n    int64_t phys_tid_72886;\n    int64_t global_tid_96737;\n    int64_t slice_96738;\n    int64_t slice_96739;\n    int64_t gtid_72885;\n    int64_t remnant_96740;\n    int64_t gtid_slice_72884;\n    int64_t remnant_96741;\n    \n    local_tid_96733 = get_local_id(0);\n    tblock_sizze_96736 = get_local_size(0);\n    wave_sizze_96735 = LOCKSTEP_WIDTH;\n    block_id_96734 = get_tblock_id(0);\n    global_tid_96732 = block_id_96734 * tblock_sizze_96736 + local_tid_96733;\n    phys_tid_72886 = sext_i32_i64(global_tid_96732);\n    global_tid_96737 = sext_i32_i64(block_id_96734) * segmap_tblock_sizze_72881 + sext_i32_i64(local_tid_96733);\n    slice_96738 = dim_51486;\n    slice_96739 = m_60147 * slice_96738;\n    gtid_72885 = squot64(global_tid_96737, slice_96738);\n    remnant_96740 = global_tid_96737 - gtid_72885 * slice_96738;\n    gtid_slice_72884 = remnant_96740;\n    remnant_96741 = remnant_96740 - gtid_slice_72884;\n    if (slt64(gtid_72885, m_60147) && slt64(gtid_slice_72884, dim_51486)) {\n        int64_t eta_p_72887;\n        bool index_certs_72888;\n        double v_72889;\n        \n        eta_p_72887 = ((__global int64_t *) mem_92096)[gtid_72885];\n        index_certs_72888 = 0;\n        v_72889 = ((__global double *) xys_mem_91601)[eta_p_72887 * dim_51486 + gtid_slice_72884];\n        ((__global double *) mem_92103)[gtid_72885 * dim_51486 + gtid_slice_72884] = v_72889;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72881\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_72895_di",
                                    "m1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_72895(__global int *global_failure, int64_t m_60147, __global unsigned char *xys_mem_91602, __global unsigned char *mem_92096, __global unsigned char *mem_92099, __global unsigned char *mem_92106)\n{\n    #define segmap_tblock_sizze_72891 (calc_local_Skyline_GFUR_doublezisegmap_72895zisegmap_tblock_sizze_72891)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96744;\n    int32_t tblock_sizze_96747;\n    int32_t wave_sizze_96746;\n    int32_t block_id_96745;\n    int32_t global_tid_96743;\n    int64_t phys_tid_72895;\n    int64_t global_tid_96748;\n    int64_t slice_96749;\n    int64_t gtid_72894;\n    int64_t remnant_96750;\n    \n    local_tid_96744 = get_local_id(0);\n    tblock_sizze_96747 = get_local_size(0);\n    wave_sizze_96746 = LOCKSTEP_WIDTH;\n    block_id_96745 = get_tblock_id(0);\n    global_tid_96743 = block_id_96745 * tblock_sizze_96747 + local_tid_96744;\n    phys_tid_72895 = sext_i32_i64(global_tid_96743);\n    global_tid_96748 = sext_i32_i64(block_id_96745) * segmap_tblock_sizze_72891 + sext_i32_i64(local_tid_96744);\n    slice_96749 = m_60147;\n    gtid_72894 = global_tid_96748;\n    remnant_96750 = global_tid_96748 - gtid_72894;\n    if (slt64(gtid_72894, m_60147)) {\n        int64_t eta_p_72896;\n        bool index_certs_72897;\n        int64_t lifted_lambda_res_72898;\n        \n        eta_p_72896 = ((__global int64_t *) mem_92096)[gtid_72894];\n        index_certs_72897 = 0;\n        lifted_lambda_res_72898 = ((__global int64_t *) xys_mem_91602)[eta_p_72896];\n        ((__global int64_t *) mem_92106)[gtid_72894] = lifted_lambda_res_72898;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_72891\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74260_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74260(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_9", "1601, __global unsigned char *mem_92114)\n{\n    #define segmap_tblock_sizze_74255 (calc_local_Skyline_GFUR_doublezisegmap_74260zisegmap_tblock_sizze_74255)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96798;\n    int32_t tblock_sizze_96801;\n    int32_t wave_sizze_96800;\n    int32_t block_id_96799;\n    int32_t global_tid_96797;\n    int64_t phys_tid_74260;\n    int64_t global_tid_96802;\n    int64_t slice_96803;\n    int64_t slice_96804;\n    int64_t gtid_74258;\n    int64_t remnant_96805;\n    int64_t gtid_74259;\n    int64_t remnant_96806;\n    \n    local_tid_96798 = get_local_id(0);\n    tblock_sizze_96801 = get_local_size(0);\n    wave_sizze_96800 = LOCKSTEP_WIDTH;\n    block_id_96799 = get_tblock_id(0);\n    global_tid_96797 = block_id_96799 * tblock_sizze_96801 + local_tid_96798;\n    phys_tid_74260 = sext_i32_i64(global_tid_96797);\n    global_tid_96802 = sext_i32_i64(block_id_96799) * segmap_tblock_sizze_74255 + sext_i32_i64(local_tid_96798);\n    slice_96803 = dim_51486;\n    slice_96804 = dz2083U_51491 * slice_96803;\n    gtid_74258 = squot64(global_tid_96802, slice_96803);\n    remnant_96805 = global_tid_96802 - gtid_74258 * slice_96803;\n    gtid_74259 = remnant_96805;\n    remnant_96806 = remnant_96805 - gtid_74259;\n    if (slt64(gtid_74258, dz2083U_51491) && slt64(gtid_74259, dim_51486)) {\n        double eta_p_74261;\n        double eta_p_74262;\n        double defunc_0_f_res_74263;\n        \n        eta_p_74261 = ((__global double *) xys_mem_91601)[gtid_74258 * dim_51486 + gtid_74259];\n        eta_p_74262 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_74259];\n        defunc_0_f_res_74263 = eta_p_74261 - eta_p_74262;\n        ((__global double *) mem_92114)[gtid_74258 * dim_51486 + gtid_74259] = defunc_0_f_res_74263;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74255\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74276_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74276(__global int *global_f", "ailure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *mem_92114)\n{\n    #define segmap_tblock_sizze_74271 (calc_local_Skyline_GFUR_doublezisegmap_74276zisegmap_tblock_sizze_74271)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96809;\n    int32_t tblock_sizze_96812;\n    int32_t wave_sizze_96811;\n    int32_t block_id_96810;\n    int32_t global_tid_96808;\n    int64_t phys_tid_74276;\n    int64_t global_tid_96813;\n    int64_t slice_96814;\n    int64_t slice_96815;\n    int64_t gtid_74274;\n    int64_t remnant_96816;\n    int64_t gtid_74275;\n    int64_t remnant_96817;\n    \n    local_tid_96809 = get_local_id(0);\n    tblock_sizze_96812 = get_local_size(0);\n    wave_sizze_96811 = LOCKSTEP_WIDTH;\n    block_id_96810 = get_tblock_id(0);\n    global_tid_96808 = block_id_96810 * tblock_sizze_96812 + local_tid_96809;\n    phys_tid_74276 = sext_i32_i64(global_tid_96808);\n    global_tid_96813 = sext_i32_i64(block_id_96810) * segmap_tblock_sizze_74271 + sext_i32_i64(local_tid_96809);\n    slice_96814 = dim_51486;\n    slice_96815 = dz2083U_51491 * slice_96814;\n    gtid_74274 = squot64(global_tid_96813, slice_96814);\n    remnant_96816 = global_tid_96813 - gtid_74274 * slice_96814;\n    gtid_74275 = remnant_96816;\n    remnant_96817 = remnant_96816 - gtid_74275;\n    if (slt64(gtid_74274, dz2083U_51491) && slt64(gtid_74275, dim_51486)) {\n        double eta_p_74277;\n        double eta_p_74278;\n        double defunc_0_f_res_74279;\n        \n        eta_p_74277 = ((__global double *) mem_92114)[gtid_74274 * dim_51486 + gtid_74275];\n        eta_p_74278 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_74275];\n        defunc_0_f_res_74279 = eta_p_74277 / eta_p_74278;\n        ((__global double *) mem_92114)[gtid_74274 * dim_51486 + gtid_74275] = defunc_0_f_res_74279;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74271\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_double",
                                    "zisegmap_74288_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74288(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *mem_92114, __global unsigned char *mem_92117)\n{\n    #define segmap_tblock_sizze_74284 (calc_local_Skyline_GFUR_doublezisegmap_74288zisegmap_tblock_sizze_74284)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96820;\n    int32_t tblock_sizze_96823;\n    int32_t wave_sizze_96822;\n    int32_t block_id_96821;\n    int32_t global_tid_96819;\n    int64_t phys_tid_74288;\n    int64_t global_tid_96824;\n    int64_t slice_96825;\n    int64_t gtid_74287;\n    int64_t remnant_96826;\n    \n    local_tid_96820 = get_local_id(0);\n    tblock_sizze_96823 = get_local_size(0);\n    wave_sizze_96822 = LOCKSTEP_WIDTH;\n    block_id_96821 = get_tblock_id(0);\n    global_tid_96819 = block_id_96821 * tblock_sizze_96823 + local_tid_96820;\n    phys_tid_74288 = sext_i32_i64(global_tid_96819);\n    global_tid_96824 = sext_i32_i64(block_id_96821) * segmap_tblock_sizze_74284 + sext_i32_i64(local_tid_96820);\n    slice_96825 = dz2083U_51491;\n    gtid_74287 = global_tid_96824;\n    remnant_96826 = global_tid_96824 - gtid_74287;\n    if (slt64(gtid_74287, dz2083U_51491)) {\n        double f_arg0_74290;\n        int64_t f64_res_74291;\n        \n        f_arg0_74290 = ((__global double *) mem_92114)[gtid_74287 * dim_51486];\n        f64_res_74291 = fptosi_f64_i64(f_arg0_74290);\n        ((__global int64_t *) mem_92117)[gtid_74287] = f64_res_74291;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74284\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74301_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74301(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t num_tblocks_74297, int32_t virt_num_tblocks_96848, __global unsigned char *mem_92131, __global unsigned char *mem_92142, _", "_global unsigned char *mem_92160)\n{\n    #define segmap_tblock_sizze_74296 (calc_local_Skyline_GFUR_doublezisegmap_74301zisegmap_tblock_sizze_74296)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96850;\n    int32_t tblock_sizze_96853;\n    int32_t wave_sizze_96852;\n    int32_t block_id_96851;\n    int32_t global_tid_96849;\n    int64_t phys_tid_74301;\n    int32_t phys_tblock_id_96854;\n    int32_t iterations_96855;\n    \n    local_tid_96850 = get_local_id(0);\n    tblock_sizze_96853 = get_local_size(0);\n    wave_sizze_96852 = LOCKSTEP_WIDTH;\n    block_id_96851 = get_tblock_id(0);\n    global_tid_96849 = block_id_96851 * tblock_sizze_96853 + local_tid_96850;\n    phys_tid_74301 = sext_i32_i64(global_tid_96849);\n    phys_tblock_id_96854 = get_tblock_id(0);\n    iterations_96855 = sdiv_up32(virt_num_tblocks_96848 - phys_tblock_id_96854, sext_i64_i32(num_tblocks_74297));\n    for (int32_t i_96856 = 0; i_96856 < iterations_96855; i_96856++) {\n        int32_t virt_tblock_id_96857;\n        int64_t global_tid_96858;\n        int64_t slice_96859;\n        int64_t gtid_74300;\n        int64_t remnant_96860;\n        \n        virt_tblock_id_96857 = phys_tblock_id_96854 + i_96856 * sext_i64_i32(num_tblocks_74297);\n        global_tid_96858 = sext_i32_i64(virt_tblock_id_96857) * segmap_tblock_sizze_74296 + sext_i32_i64(local_tid_96850);\n        slice_96859 = dz2083U_51491;\n        gtid_74300 = global_tid_96858;\n        remnant_96860 = global_tid_96858 - gtid_74300;\n        if (slt64(gtid_74300, dz2083U_51491)) {\n            for (int64_t i_74305 = 0; i_74305 < arg_59797; i_74305++) {\n                int64_t index_primexp_74307;\n                bool x_74308;\n                bool y_74309;\n                bool bounds_check_74310;\n                bool index_certs_74311;\n                ", "double f_arg0_74312;\n                int64_t f64_res_74313;\n                \n                index_primexp_74307 = add64((int64_t) 1, i_74305);\n                x_74308 = sle64((int64_t) 0, index_primexp_74307);\n                y_74309 = slt64(index_primexp_74307, dim_51486);\n                bounds_check_74310 = x_74308 && y_74309;\n                if (!bounds_check_74310) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 52) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_74307;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_74312 = ((__global double *) mem_92142)[gtid_74300 + index_primexp_74307 * dz2083U_51491];\n                f64_res_74313 = fptosi_f64_i64(f_arg0_74312);\n                ((__global int64_t *) mem_92131)[gtid_74300 + index_primexp_74307 * dz2083U_51491] = f64_res_74313;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_51486; i_0++) {\n                ((__global int64_t *) mem_92160)[gtid_74300 + i_0 * dz2083U_51491] = ((__global int64_t *) mem_92131)[gtid_74300 + i_0 * dz2083U_51491];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_74296\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74321_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74321(__global int *global_failure, int64_t dz2083U_51491, int64_t ext_91996, __global unsigned char *ext_mem_92166, __global unsigned char *mem_92169)\n{\n    #define segmap_tblock_sizze_74317 (calc_local_Skyline_GFUR_doublezisegmap_74321zisegmap_tbl",
                                    "ock_sizze_74317)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96864;\n    int32_t tblock_sizze_96867;\n    int32_t wave_sizze_96866;\n    int32_t block_id_96865;\n    int32_t global_tid_96863;\n    int64_t phys_tid_74321;\n    int64_t global_tid_96868;\n    int64_t slice_96869;\n    int64_t gtid_74320;\n    int64_t remnant_96870;\n    \n    local_tid_96864 = get_local_id(0);\n    tblock_sizze_96867 = get_local_size(0);\n    wave_sizze_96866 = LOCKSTEP_WIDTH;\n    block_id_96865 = get_tblock_id(0);\n    global_tid_96863 = block_id_96865 * tblock_sizze_96867 + local_tid_96864;\n    phys_tid_74321 = sext_i32_i64(global_tid_96863);\n    global_tid_96868 = sext_i32_i64(block_id_96865) * segmap_tblock_sizze_74317 + sext_i32_i64(local_tid_96864);\n    slice_96869 = dz2083U_51491;\n    gtid_74320 = global_tid_96868;\n    remnant_96870 = global_tid_96868 - gtid_74320;\n    if (slt64(gtid_74320, dz2083U_51491)) {\n        int64_t f_arg0_74323;\n        int64_t max_res_74324;\n        \n        f_arg0_74323 = ((__global int64_t *) ext_mem_92166)[gtid_74320 * ext_91996];\n        max_res_74324 = smax64((int64_t) 0, f_arg0_74323);\n        ((__global int64_t *) mem_92169)[gtid_74320] = max_res_74324;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74317\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74334_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74334(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t num_tblocks_74330, int32_t virt_num_tblocks_96891, __global unsigned char *mem_92183, __global unsigned char *mem_92194, __global unsigned char *mem_92212)\n{\n    #define segmap_tblock_sizze_74329 (calc_local_Skyline_GFUR_doublezisegmap_74334zisegmap_tblock_sizze_74329)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n   ", "         return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96893;\n    int32_t tblock_sizze_96896;\n    int32_t wave_sizze_96895;\n    int32_t block_id_96894;\n    int32_t global_tid_96892;\n    int64_t phys_tid_74334;\n    int32_t phys_tblock_id_96897;\n    int32_t iterations_96898;\n    \n    local_tid_96893 = get_local_id(0);\n    tblock_sizze_96896 = get_local_size(0);\n    wave_sizze_96895 = LOCKSTEP_WIDTH;\n    block_id_96894 = get_tblock_id(0);\n    global_tid_96892 = block_id_96894 * tblock_sizze_96896 + local_tid_96893;\n    phys_tid_74334 = sext_i32_i64(global_tid_96892);\n    phys_tblock_id_96897 = get_tblock_id(0);\n    iterations_96898 = sdiv_up32(virt_num_tblocks_96891 - phys_tblock_id_96897, sext_i64_i32(num_tblocks_74330));\n    for (int32_t i_96899 = 0; i_96899 < iterations_96898; i_96899++) {\n        int32_t virt_tblock_id_96900;\n        int64_t global_tid_96901;\n        int64_t slice_96902;\n        int64_t gtid_74333;\n        int64_t remnant_96903;\n        \n        virt_tblock_id_96900 = phys_tblock_id_96897 + i_96899 * sext_i64_i32(num_tblocks_74330);\n        global_tid_96901 = sext_i32_i64(virt_tblock_id_96900) * segmap_tblock_sizze_74329 + sext_i32_i64(local_tid_96893);\n        slice_96902 = dz2083U_51491;\n        gtid_74333 = global_tid_96901;\n        remnant_96903 = global_tid_96901 - gtid_74333;\n        if (slt64(gtid_74333, dz2083U_51491)) {\n            for (int64_t i_74338 = 0; i_74338 < arg_59797; i_74338++) {\n                int64_t index_primexp_74340;\n                bool x_74341;\n                bool y_74342;\n                bool bounds_check_74343;\n                bool index_certs_74344;\n                int64_t f_arg0_74345;\n                int64_t max_res_74346;\n                \n                index_primexp_74340 = add64((int64_t) 1, i_74338);\n                x_74341 = sle64((int64_t) 0, index_primexp_74340);\n                y_74342 = slt64(index_primexp_74340, dim_51486);\n                bounds_check", "_74343 = x_74341 && y_74342;\n                if (!bounds_check_74343) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 53) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_74340;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_74345 = ((__global int64_t *) mem_92194)[gtid_74333 + index_primexp_74340 * dz2083U_51491];\n                max_res_74346 = smax64((int64_t) 0, f_arg0_74345);\n                ((__global int64_t *) mem_92183)[gtid_74333 + index_primexp_74340 * dz2083U_51491] = max_res_74346;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_51486; i_0++) {\n                ((__global int64_t *) mem_92212)[gtid_74333 + i_0 * dz2083U_51491] = ((__global int64_t *) mem_92183)[gtid_74333 + i_0 * dz2083U_51491];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_74329\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74354_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74354(__global int *global_failure, int64_t dz2083U_51491, int64_t ext_92249, __global unsigned char *mem_91634, __global unsigned char *ext_mem_92250, __global unsigned char *mem_92253)\n{\n    #define segmap_tblock_sizze_74350 (calc_local_Skyline_GFUR_doublezisegmap_74354zisegmap_tblock_sizze_74350)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96908;\n    int32_t tblock_sizze_96911;\n    int32_t wave_sizze_96910;\n    int32_t block_id_96909;\n    int32_t global_tid_96907;\n    int64_t phys_tid_74354;\n    int64_t global",
                                    "_tid_96912;\n    int64_t slice_96913;\n    int64_t gtid_74353;\n    int64_t remnant_96914;\n    \n    local_tid_96908 = get_local_id(0);\n    tblock_sizze_96911 = get_local_size(0);\n    wave_sizze_96910 = LOCKSTEP_WIDTH;\n    block_id_96909 = get_tblock_id(0);\n    global_tid_96907 = block_id_96909 * tblock_sizze_96911 + local_tid_96908;\n    phys_tid_74354 = sext_i32_i64(global_tid_96907);\n    global_tid_96912 = sext_i32_i64(block_id_96909) * segmap_tblock_sizze_74350 + sext_i32_i64(local_tid_96908);\n    slice_96913 = dz2083U_51491;\n    gtid_74353 = global_tid_96912;\n    remnant_96914 = global_tid_96912 - gtid_74353;\n    if (slt64(gtid_74353, dz2083U_51491)) {\n        int64_t min_arg1_91477;\n        int64_t f_arg0_74356;\n        int64_t min_res_74357;\n        \n        min_arg1_91477 = ((__global int64_t *) mem_91634)[(int64_t) 0];\n        f_arg0_74356 = ((__global int64_t *) ext_mem_92250)[gtid_74353 * ext_92249];\n        min_res_74357 = smin64(f_arg0_74356, min_arg1_91477);\n        ((__global int64_t *) mem_92253)[gtid_74353] = min_res_74357;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74350\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74367_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74367(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t num_tblocks_74363, int32_t virt_num_tblocks_96935, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_92267, __global unsigned char *mem_92278, __global unsigned char *mem_92296)\n{\n    #define segmap_tblock_sizze_74362 (calc_local_Skyline_GFUR_doublezisegmap_74367zisegmap_tblock_sizze_74362)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t ", "local_tid_96937;\n    int32_t tblock_sizze_96940;\n    int32_t wave_sizze_96939;\n    int32_t block_id_96938;\n    int32_t global_tid_96936;\n    int64_t phys_tid_74367;\n    int32_t phys_tblock_id_96941;\n    int32_t iterations_96942;\n    \n    local_tid_96937 = get_local_id(0);\n    tblock_sizze_96940 = get_local_size(0);\n    wave_sizze_96939 = LOCKSTEP_WIDTH;\n    block_id_96938 = get_tblock_id(0);\n    global_tid_96936 = block_id_96938 * tblock_sizze_96940 + local_tid_96937;\n    phys_tid_74367 = sext_i32_i64(global_tid_96936);\n    phys_tblock_id_96941 = get_tblock_id(0);\n    iterations_96942 = sdiv_up32(virt_num_tblocks_96935 - phys_tblock_id_96941, sext_i64_i32(num_tblocks_74363));\n    for (int32_t i_96943 = 0; i_96943 < iterations_96942; i_96943++) {\n        int32_t virt_tblock_id_96944;\n        int64_t global_tid_96945;\n        int64_t slice_96946;\n        int64_t gtid_74366;\n        int64_t remnant_96947;\n        \n        virt_tblock_id_96944 = phys_tblock_id_96941 + i_96943 * sext_i64_i32(num_tblocks_74363);\n        global_tid_96945 = sext_i32_i64(virt_tblock_id_96944) * segmap_tblock_sizze_74362 + sext_i32_i64(local_tid_96937);\n        slice_96946 = dz2083U_51491;\n        gtid_74366 = global_tid_96945;\n        remnant_96947 = global_tid_96945 - gtid_74366;\n        if (slt64(gtid_74366, dz2083U_51491)) {\n            for (int64_t i_74371 = 0; i_74371 < arg_59797; i_74371++) {\n                int64_t index_primexp_74373;\n                bool x_74374;\n                bool y_74375;\n                bool bounds_check_74376;\n                bool index_certs_74377;\n                bool index_certs_74379;\n                int64_t f_arg0_74378;\n                int64_t zm_lhs_74380;\n                int64_t min_arg1_74381;\n                int64_t min_res_74382;\n                \n                index_primexp_74373 = add64((int64_t) 1, i_74371);\n                x_74374 = sle64((int64_t) 0, index_primexp_74373);\n                y_74375 = slt64(index_primexp_74373, dim_51486);\n       ", "         bounds_check_74376 = x_74374 && y_74375;\n                if (!bounds_check_74376) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 54) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_74373;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_74376) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 55) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_74373;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_74378 = ((__global int64_t *) mem_92278)[gtid_74366 + index_primexp_74373 * dz2083U_51491];\n                zm_lhs_74380 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_74373];\n                min_arg1_74381 = sub64(zm_lhs_74380, (int64_t) 1);\n                min_res_74382 = smin64(f_arg0_74378, min_arg1_74381);\n                ((__global int64_t *) mem_92267)[gtid_74366 + index_primexp_74373 * dz2083U_51491] = min_res_74382;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_51486; i_0++) {\n                ((__global int64_t *) mem_92296)[gtid_74366 + i_0 * dz2083U_51491] = ((__global int64_t *) mem_92267)[gtid_74366 + i_0 * dz2083U_51491];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tb",
                                    "lock_sizze_74362\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74396_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74396(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, int64_t ext_92345, int64_t ext_92346, __global unsigned char *grid_part_prefix_sum_mem_91595, __global unsigned char *ext_mem_92347, __global unsigned char *mem_92351)\n{\n    #define segmap_tblock_sizze_74391 (calc_local_Skyline_GFUR_doublezisegmap_74396zisegmap_tblock_sizze_74391)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96952;\n    int32_t tblock_sizze_96955;\n    int32_t wave_sizze_96954;\n    int32_t block_id_96953;\n    int32_t global_tid_96951;\n    int64_t phys_tid_74396;\n    int64_t global_tid_96956;\n    int64_t slice_96957;\n    int64_t slice_96958;\n    int64_t gtid_74394;\n    int64_t remnant_96959;\n    int64_t gtid_74395;\n    int64_t remnant_96960;\n    \n    local_tid_96952 = get_local_id(0);\n    tblock_sizze_96955 = get_local_size(0);\n    wave_sizze_96954 = LOCKSTEP_WIDTH;\n    block_id_96953 = get_tblock_id(0);\n    global_tid_96951 = block_id_96953 * tblock_sizze_96955 + local_tid_96952;\n    phys_tid_74396 = sext_i32_i64(global_tid_96951);\n    global_tid_96956 = sext_i32_i64(block_id_96953) * segmap_tblock_sizze_74391 + sext_i32_i64(local_tid_96952);\n    slice_96957 = dim_51486;\n    slice_96958 = dz2083U_51491 * slice_96957;\n    gtid_74394 = squot64(global_tid_96956, slice_96957);\n    remnant_96959 = global_tid_96956 - gtid_74394 * slice_96957;\n    gtid_74395 = remnant_96959;\n    remnant_96960 = remnant_96959 - gtid_74395;\n    if (slt64(gtid_74394, dz2083U_51491) && slt64(gtid_74395, dim_51486)) {\n        int64_t eta_p_74397;\n        int64_t eta_p_74398;\n        int64_t defunc_0_f_res_74399;\n        \n        eta_p_74397 = ((__global int64_t *) ext_mem_92347)[gtid_74394 * ext_92346 + gtid_74395 * ext_92345];\n        eta_p_74398 = ((__global int64_t *) grid_part_prefix_sum_mem_91595)[gtid_74395];\n        defunc_0_f_res", "_74399 = mul64(eta_p_74397, eta_p_74398);\n        ((__global int64_t *) mem_92351)[gtid_74394 * dim_51486 + gtid_74395] = defunc_0_f_res_74399;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74391\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74407_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74407(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2080U_51487, int64_t dz2083U_51491, __global unsigned char *mem_92362, __global unsigned char *mem_92364, __global unsigned char *mem_92487)\n{\n    #define segmap_tblock_sizze_74402 (calc_local_Skyline_GFUR_doublezisegmap_74407zisegmap_tblock_sizze_74402)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96963;\n    int32_t tblock_sizze_96966;\n    int32_t wave_sizze_96965;\n    int32_t block_id_96964;\n    int32_t global_tid_96962;\n    int64_t phys_tid_74407;\n    int64_t global_tid_96967;\n    int64_t slice_96968;\n    int64_t gtid_74406;\n    int64_t remnant_96969;\n    \n    local_tid_96963 = get_local_id(0);\n    tblock_sizze_96966 = get_local_size(0);\n    wave_sizze_96965 = LOCKSTEP_WIDTH;\n    block_id_96964 = get_tblock_id(0);\n    global_tid_96962 = block_id_96964 * tblock_sizze_96966 + local_tid_96963;\n    phys_tid_74407 = sext_i32_i64(global_tid_96962);\n    global_tid_96967 = sext_i32_i64(block_id_96964) * segmap_tblock_sizze_74402 + sext_i32_i64(local_tid_96963);\n    slice_96968 = dz2083U_51491;\n    gtid_74406 = global_tid_96967;\n    remnant_96969 = global_tid_96967 - gtid_74406;\n    if (slt64(gtid_74406, dz2083U_51491)) {\n        int64_t defunc_0_foldl_res_74409;\n        int64_t acc_74411;\n        bool x_74414;\n        bool y_74415;\n        bool bounds_check_74416;\n        bool index_certs_74417;\n        \n        acc_74411 = (int64_t) 0;\n        for (int64_t i_74410 = 0; i_74410 < dim_51486; i_74410++) {\n            int64_t b_74412;\n            int64_t defunc_0_f_res_74413;\n          ", "  int64_t acc_tmp_96970;\n            \n            b_74412 = ((__global int64_t *) mem_92362)[gtid_74406 + i_74410 * dz2083U_51491];\n            defunc_0_f_res_74413 = add64(acc_74411, b_74412);\n            acc_tmp_96970 = defunc_0_f_res_74413;\n            acc_74411 = acc_tmp_96970;\n        }\n        defunc_0_foldl_res_74409 = acc_74411;\n        x_74414 = sle64((int64_t) 0, defunc_0_foldl_res_74409);\n        y_74415 = slt64(defunc_0_foldl_res_74409, dz2080U_51487);\n        bounds_check_74416 = x_74414 && y_74415;\n        if (!bounds_check_74416) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 56) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_74409;\n                    global_failure_args[1] = (int64_t) dz2080U_51487;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_92487)[gtid_74406] = defunc_0_foldl_res_74409;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74402\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74427_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74427(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_92364, __global unsigned char *mem_92374, __global unsigned char *mem_92487)\n{\n    #define segmap_tblock_sizze_74422 (calc_local_Skyline_GFUR_doublezisegmap_74427zisegmap_tblock_sizze_74422)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96973;\n    int32_t tblock_sizze_96976;\n    int32_t wave_sizze_96975;\n    int32_t block_id_96974;\n    int32_t global_tid_96972;\n    int64_t phys_tid_74427;\n    int64_t global_tid_96977;\n    int64_t slice_96978;\n    int64_t slice_96979;\n    int64_t gtid_74426;\n    int64_t remnant_96980;\n    int64_t gtid_slice_74425;\n    int64_t remnant_96981;\n    \n    local_tid_96973 = get_local_id(0);\n    tblock_sizze_96976 ",
                                    "= get_local_size(0);\n    wave_sizze_96975 = LOCKSTEP_WIDTH;\n    block_id_96974 = get_tblock_id(0);\n    global_tid_96972 = block_id_96974 * tblock_sizze_96976 + local_tid_96973;\n    phys_tid_74427 = sext_i32_i64(global_tid_96972);\n    global_tid_96977 = sext_i32_i64(block_id_96974) * segmap_tblock_sizze_74422 + sext_i32_i64(local_tid_96973);\n    slice_96978 = dim_51486;\n    slice_96979 = dz2083U_51491 * slice_96978;\n    gtid_74426 = squot64(global_tid_96977, slice_96978);\n    remnant_96980 = global_tid_96977 - gtid_74426 * slice_96978;\n    gtid_slice_74425 = remnant_96980;\n    remnant_96981 = remnant_96980 - gtid_slice_74425;\n    if (slt64(gtid_74426, dz2083U_51491) && slt64(gtid_slice_74425, dim_51486)) {\n        int64_t defunc_0_foldl_res_74428;\n        bool index_certs_74429;\n        double v_74430;\n        \n        defunc_0_foldl_res_74428 = ((__global int64_t *) mem_92487)[gtid_74426];\n        index_certs_74429 = 0;\n        v_74430 = ((__global double *) start_of_grid_partition_mem_91598)[defunc_0_foldl_res_74428 * dim_51486 + gtid_slice_74425];\n        ((__global double *) mem_92374)[gtid_74426 * dim_51486 + gtid_slice_74425] = v_74430;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74422\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74442_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74442(__global int *global_failure, int64_t dim_51486, int64_t dz2083U_51491, __global unsigned char *xys_mem_91601, __global unsigned char *mem_92374)\n{\n    #define segmap_tblock_sizze_74437 (calc_local_Skyline_GFUR_doublezisegmap_74442zisegmap_tblock_sizze_74437)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96984;\n    int32_t tblock_sizze_96987;\n    int32_t wave_sizze_96986;\n    int32_t block_id_96985;\n    int32_t global_tid_96983;\n    int64_t phys_tid_74442;\n    int64_t global_tid_96988;\n    int64_t slice_96989;\n    int64_t slice_96990;\n    int64_t gtid_74440;\n    int64_t remnant_96991;\n    int64_t gtid_744", "41;\n    int64_t remnant_96992;\n    \n    local_tid_96984 = get_local_id(0);\n    tblock_sizze_96987 = get_local_size(0);\n    wave_sizze_96986 = LOCKSTEP_WIDTH;\n    block_id_96985 = get_tblock_id(0);\n    global_tid_96983 = block_id_96985 * tblock_sizze_96987 + local_tid_96984;\n    phys_tid_74442 = sext_i32_i64(global_tid_96983);\n    global_tid_96988 = sext_i32_i64(block_id_96985) * segmap_tblock_sizze_74437 + sext_i32_i64(local_tid_96984);\n    slice_96989 = dim_51486;\n    slice_96990 = dz2083U_51491 * slice_96989;\n    gtid_74440 = squot64(global_tid_96988, slice_96989);\n    remnant_96991 = global_tid_96988 - gtid_74440 * slice_96989;\n    gtid_74441 = remnant_96991;\n    remnant_96992 = remnant_96991 - gtid_74441;\n    if (slt64(gtid_74440, dz2083U_51491) && slt64(gtid_74441, dim_51486)) {\n        double eta_p_74443;\n        double eta_p_74444;\n        double defunc_0_f_res_74445;\n        \n        eta_p_74443 = ((__global double *) xys_mem_91601)[gtid_74440 * dim_51486 + gtid_74441];\n        eta_p_74444 = ((__global double *) mem_92374)[gtid_74440 * dim_51486 + gtid_74441];\n        defunc_0_f_res_74445 = eta_p_74443 - eta_p_74444;\n        ((__global double *) mem_92374)[gtid_74440 * dim_51486 + gtid_74441] = defunc_0_f_res_74445;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74437\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74464_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74464(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t num_tblocks_74460, int32_t virt_num_tblocks_97014, __global unsigned char *mem_92388, __global unsigned char *mem_92399, __global unsigned char *mem_92417)\n{\n    #define segmap_tblock_sizze_74459 (calc_local_Skyline_GFUR_doublezisegmap_74464zisegmap_tblock_sizze_74459)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >=", " 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97016;\n    int32_t tblock_sizze_97019;\n    int32_t wave_sizze_97018;\n    int32_t block_id_97017;\n    int32_t global_tid_97015;\n    int64_t phys_tid_74464;\n    int32_t phys_tblock_id_97020;\n    int32_t iterations_97021;\n    \n    local_tid_97016 = get_local_id(0);\n    tblock_sizze_97019 = get_local_size(0);\n    wave_sizze_97018 = LOCKSTEP_WIDTH;\n    block_id_97017 = get_tblock_id(0);\n    global_tid_97015 = block_id_97017 * tblock_sizze_97019 + local_tid_97016;\n    phys_tid_74464 = sext_i32_i64(global_tid_97015);\n    phys_tblock_id_97020 = get_tblock_id(0);\n    iterations_97021 = sdiv_up32(virt_num_tblocks_97014 - phys_tblock_id_97020, sext_i64_i32(num_tblocks_74460));\n    for (int32_t i_97022 = 0; i_97022 < iterations_97021; i_97022++) {\n        int32_t virt_tblock_id_97023;\n        int64_t global_tid_97024;\n        int64_t slice_97025;\n        int64_t gtid_74463;\n        int64_t remnant_97026;\n        \n        virt_tblock_id_97023 = phys_tblock_id_97020 + i_97022 * sext_i64_i32(num_tblocks_74460);\n        global_tid_97024 = sext_i32_i64(virt_tblock_id_97023) * segmap_tblock_sizze_74459 + sext_i32_i64(local_tid_97016);\n        slice_97025 = dz2083U_51491;\n        gtid_74463 = global_tid_97024;\n        remnant_97026 = global_tid_97024 - gtid_74463;\n        if (slt64(gtid_74463, dz2083U_51491)) {\n            for (int64_t i_74468 = 0; i_74468 < arg_59797; i_74468++) {\n                int64_t index_primexp_74470;\n                bool x_74471;\n                bool y_74472;\n                bool bounds_check_74473;\n                bool index_certs_74474;\n                \n                index_primexp_74470 = add64((int64_t) 1, i_74468);\n                x_74471 = sle64((int64_t) 0, index_primexp_74470);\n                y_74472 = slt64(index_primexp_74470, dim_51486);\n                bounds_check_74473 = x_74471 && y_74472;\n            ",
                                    "    if (!bounds_check_74473) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 57) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_74470;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_92388)[gtid_74463 + dz2083U_51491 * index_primexp_74470 + i_0 * dz2083U_51491] = ((__global double *) mem_92399)[gtid_74463 + dz2083U_51491 * index_primexp_74470 + i_0 * dz2083U_51491];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_51486; i_0++) {\n                ((__global double *) mem_92417)[gtid_74463 + i_0 * dz2083U_51491] = ((__global double *) mem_92388)[gtid_74463 + i_0 * dz2083U_51491];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_74459\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74512_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74512(__global int *global_failure, int64_t dz2083U_51491, int64_t map_arg1_74485, int64_t j_m_i_74486, int64_t ext_91995, int64_t ext_91996, __global unsigned char *ext_mem_92423, __global unsigned char *mem_92431)\n{\n    #define segmap_tblock_sizze_74507 (calc_local_Skyline_GFUR_doublezisegmap_74512zisegmap_tblock_sizze_74507)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97034;\n    int32_t tblock_sizze_97037;\n    int32_t wave_sizze_97036;\n    int32_t block_id_97035;\n    int32_t global_tid_97033;\n    int64_t phys_tid_74512;\n    int64_t glo", "bal_tid_97038;\n    int64_t slice_97039;\n    int64_t slice_97040;\n    int64_t gtid_74510;\n    int64_t remnant_97041;\n    int64_t gtid_74511;\n    int64_t remnant_97042;\n    \n    local_tid_97034 = get_local_id(0);\n    tblock_sizze_97037 = get_local_size(0);\n    wave_sizze_97036 = LOCKSTEP_WIDTH;\n    block_id_97035 = get_tblock_id(0);\n    global_tid_97033 = block_id_97035 * tblock_sizze_97037 + local_tid_97034;\n    phys_tid_74512 = sext_i32_i64(global_tid_97033);\n    global_tid_97038 = sext_i32_i64(block_id_97035) * segmap_tblock_sizze_74507 + sext_i32_i64(local_tid_97034);\n    slice_97039 = j_m_i_74486;\n    slice_97040 = dz2083U_51491 * slice_97039;\n    gtid_74510 = squot64(global_tid_97038, slice_97039);\n    remnant_97041 = global_tid_97038 - gtid_74510 * slice_97039;\n    gtid_74511 = remnant_97041;\n    remnant_97042 = remnant_97041 - gtid_74511;\n    if (slt64(gtid_74510, dz2083U_51491) && slt64(gtid_74511, j_m_i_74486)) {\n        int64_t slice_91261;\n        double eta_p_74513;\n        double lifted_lambda_res_74514;\n        \n        slice_91261 = map_arg1_74485 + gtid_74511;\n        eta_p_74513 = ((__global double *) ext_mem_92423)[gtid_74510 * ext_91996 + slice_91261 * ext_91995];\n        lifted_lambda_res_74514 = eta_p_74513 * eta_p_74513;\n        ((__global double *) mem_92431)[gtid_74510 * j_m_i_74486 + gtid_74511] = lifted_lambda_res_74514;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74507\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74522_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74522(__global int *global_failure, int64_t dz2083U_51491, int64_t arg_59797, int64_t i_74481, int64_t j_m_i_74486, int64_t num_tblocks_74518, int64_t ext_91995, int64_t ext_91996, int32_t virt_num_tblocks_97043, __global unsigned char *ext_mem_92423, __global unsigned char *mem_92442, __global unsigned char *mem_92453, __global unsigned char *mem_92465)\n{\n    #define segmap_tblock_sizze_74517 (calc_local_Skyline_GFUR_doublezisegmap_", "74522zisegmap_tblock_sizze_74517)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97045;\n    int32_t tblock_sizze_97048;\n    int32_t wave_sizze_97047;\n    int32_t block_id_97046;\n    int32_t global_tid_97044;\n    int64_t phys_tid_74522;\n    int32_t phys_tblock_id_97049;\n    int32_t iterations_97050;\n    \n    local_tid_97045 = get_local_id(0);\n    tblock_sizze_97048 = get_local_size(0);\n    wave_sizze_97047 = LOCKSTEP_WIDTH;\n    block_id_97046 = get_tblock_id(0);\n    global_tid_97044 = block_id_97046 * tblock_sizze_97048 + local_tid_97045;\n    phys_tid_74522 = sext_i32_i64(global_tid_97044);\n    phys_tblock_id_97049 = get_tblock_id(0);\n    iterations_97050 = sdiv_up32(virt_num_tblocks_97043 - phys_tblock_id_97049, sext_i64_i32(num_tblocks_74518));\n    for (int32_t i_97051 = 0; i_97051 < iterations_97050; i_97051++) {\n        int32_t virt_tblock_id_97052;\n        int64_t global_tid_97053;\n        int64_t slice_97054;\n        int64_t gtid_74521;\n        int64_t remnant_97055;\n        \n        virt_tblock_id_97052 = phys_tblock_id_97049 + i_97051 * sext_i64_i32(num_tblocks_74518);\n        global_tid_97053 = sext_i32_i64(virt_tblock_id_97052) * segmap_tblock_sizze_74517 + sext_i32_i64(local_tid_97045);\n        slice_97054 = dz2083U_51491;\n        gtid_74521 = global_tid_97053;\n        remnant_97055 = global_tid_97053 - gtid_74521;\n        if (slt64(gtid_74521, dz2083U_51491)) {\n            double defunc_0_seqmap_res_r_transformed_row_74524;\n            double defunc_0_foldl_res_74526;\n            double acc_74528;\n            double sqrt_res_74531;\n            double atan2_res_74532;\n            \n            defunc_0_seqmap_res_r_transformed_row_74524 = ((__global double *) ext_mem_92423)[gtid_74521 * ext_91996 + i_74481 * ext_91995];\n            acc_74528 = 0.0;\n            for (int64_t i_74527 = 0; i_74527 < j_m_i_74486; i_74527++) {\n                double b_74529;\n                double defunc_0_f_res_74530;\n                double acc_tmp_9705",
                                    "6;\n                \n                b_74529 = ((__global double *) mem_92453)[gtid_74521 + i_74527 * dz2083U_51491];\n                defunc_0_f_res_74530 = acc_74528 + b_74529;\n                acc_tmp_97056 = defunc_0_f_res_74530;\n                acc_74528 = acc_tmp_97056;\n            }\n            defunc_0_foldl_res_74526 = acc_74528;\n            sqrt_res_74531 = futrts_sqrt64(defunc_0_foldl_res_74526);\n            atan2_res_74532 = futrts_atan2_64(sqrt_res_74531, defunc_0_seqmap_res_r_transformed_row_74524);\n            ((__global double *) mem_92442)[gtid_74521 + i_74481 * dz2083U_51491] = atan2_res_74532;\n            for (int64_t i_0 = 0; i_0 < arg_59797; i_0++) {\n                ((__global double *) mem_92465)[gtid_74521 + i_0 * dz2083U_51491] = ((__global double *) mem_92442)[gtid_74521 + i_0 * dz2083U_51491];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_74517\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74546_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74546(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2083U_51491, int64_t arg_59797, int64_t ext_92466, int64_t ext_92467, __global unsigned char *angle_part_prefix_sum_mem_91593, __global unsigned char *angle_partitions_per_dim_mem_91594, __global unsigned char *ext_mem_91624, __global unsigned char *ext_mem_92469, __global unsigned char *mem_92473)\n{\n    #define segmap_tblock_sizze_74541 (calc_local_Skyline_GFUR_doublezisegmap_74546zisegmap_tblock_sizze_74541)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97059;\n    int32_t tblock_sizze_97062;\n    int32_t wave_sizze_97061;\n    int32_t block_id_97060;\n    int32_t global_tid_97058;\n    int64_t phys_tid_74546;\n    int64_t global_tid_97063;\n    int64_t slice_97064;\n    int64_", "t slice_97065;\n    int64_t gtid_74544;\n    int64_t remnant_97066;\n    int64_t gtid_74545;\n    int64_t remnant_97067;\n    \n    local_tid_97059 = get_local_id(0);\n    tblock_sizze_97062 = get_local_size(0);\n    wave_sizze_97061 = LOCKSTEP_WIDTH;\n    block_id_97060 = get_tblock_id(0);\n    global_tid_97058 = block_id_97060 * tblock_sizze_97062 + local_tid_97059;\n    phys_tid_74546 = sext_i32_i64(global_tid_97058);\n    global_tid_97063 = sext_i32_i64(block_id_97060) * segmap_tblock_sizze_74541 + sext_i32_i64(local_tid_97059);\n    slice_97064 = arg_59797;\n    slice_97065 = dz2083U_51491 * slice_97064;\n    gtid_74544 = squot64(global_tid_97063, slice_97064);\n    remnant_97066 = global_tid_97063 - gtid_74544 * slice_97064;\n    gtid_74545 = remnant_97066;\n    remnant_97067 = remnant_97066 - gtid_74545;\n    if (slt64(gtid_74544, dz2083U_51491) && slt64(gtid_74545, arg_59797)) {\n        double eta_p_74547;\n        double eta_p_74548;\n        int64_t eta_p_74549;\n        int64_t eta_p_74550;\n        int64_t defunc_0_f_res_74551;\n        \n        eta_p_74547 = ((__global double *) ext_mem_92469)[gtid_74544 * ext_92467 + gtid_74545 * ext_92466];\n        eta_p_74548 = ((__global double *) ext_mem_91624)[gtid_74545];\n        eta_p_74549 = ((__global int64_t *) angle_part_prefix_sum_mem_91593)[gtid_74545];\n        eta_p_74550 = ((__global int64_t *) angle_partitions_per_dim_mem_91594)[gtid_74545];\n        futrts_lifted_lambda_10152(&defunc_0_f_res_74551, eta_p_74547, eta_p_74548, eta_p_74549, eta_p_74550);\n        ((__global int64_t *) mem_92473)[gtid_74544 * arg_59797 + gtid_74545] = defunc_0_f_res_74551;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74541\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74558_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74558(__global int *global_failure, int64_t dz2083U_51491, int64_t total_angle_no_51498, int64_t arg_59797, __global unsigned char *mem_92484, __global unsigned char *mem_92487)\n{\n    #def", "ine segmap_tblock_sizze_74554 (calc_local_Skyline_GFUR_doublezisegmap_74558zisegmap_tblock_sizze_74554)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97070;\n    int32_t tblock_sizze_97073;\n    int32_t wave_sizze_97072;\n    int32_t block_id_97071;\n    int32_t global_tid_97069;\n    int64_t phys_tid_74558;\n    int64_t global_tid_97074;\n    int64_t slice_97075;\n    int64_t gtid_74557;\n    int64_t remnant_97076;\n    \n    local_tid_97070 = get_local_id(0);\n    tblock_sizze_97073 = get_local_size(0);\n    wave_sizze_97072 = LOCKSTEP_WIDTH;\n    block_id_97071 = get_tblock_id(0);\n    global_tid_97069 = block_id_97071 * tblock_sizze_97073 + local_tid_97070;\n    phys_tid_74558 = sext_i32_i64(global_tid_97069);\n    global_tid_97074 = sext_i32_i64(block_id_97071) * segmap_tblock_sizze_74554 + sext_i32_i64(local_tid_97070);\n    slice_97075 = dz2083U_51491;\n    gtid_74557 = global_tid_97074;\n    remnant_97076 = global_tid_97074 - gtid_74557;\n    if (slt64(gtid_74557, dz2083U_51491)) {\n        int64_t defunc_0_foldl_res_74559;\n        int64_t defunc_0_foldl_res_74561;\n        int64_t acc_74563;\n        int64_t zp_lhs_74566;\n        int64_t get_id_from_grid_angle_res_74567;\n        \n        defunc_0_foldl_res_74559 = ((__global int64_t *) mem_92487)[gtid_74557];\n        acc_74563 = (int64_t) 0;\n        for (int64_t i_74562 = 0; i_74562 < arg_59797; i_74562++) {\n            int64_t b_74564;\n            int64_t defunc_0_f_res_74565;\n            int64_t acc_tmp_97077;\n            \n            b_74564 = ((__global int64_t *) mem_92484)[gtid_74557 + i_74562 * dz2083U_51491];\n            defunc_0_f_res_74565 = add64(acc_74563, b_74564);\n            acc_tmp_97077 = defunc_0_f_res_74565;\n            acc_74563 = acc_tmp_97077;\n        }\n        defunc_0_foldl_res_74561 = acc_74563;\n        zp_lhs_74566 = mul64(total_angle_no_51498, defunc_0_foldl_res_74559);\n        get_id_from_grid_angle_res_74567 = add64(defunc_0_foldl_res_74561, zp_lhs_74566);\n        ((__global ",
                                    "int64_t *) mem_92487)[gtid_74557] = get_id_from_grid_angle_res_74567;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74554\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegmap_74615_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegmap_74615(__global int *global_failure, int64_t total_part_no_51500, __global unsigned char *mem_92491, __global unsigned char *mem_92494)\n{\n    #define segmap_tblock_sizze_74611 (calc_local_Skyline_GFUR_doublezisegmap_74615zisegmap_tblock_sizze_74611)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97343;\n    int32_t tblock_sizze_97346;\n    int32_t wave_sizze_97345;\n    int32_t block_id_97344;\n    int32_t global_tid_97342;\n    int64_t phys_tid_74615;\n    int64_t global_tid_97347;\n    int64_t slice_97348;\n    int64_t gtid_74614;\n    int64_t remnant_97349;\n    \n    local_tid_97343 = get_local_id(0);\n    tblock_sizze_97346 = get_local_size(0);\n    wave_sizze_97345 = LOCKSTEP_WIDTH;\n    block_id_97344 = get_tblock_id(0);\n    global_tid_97342 = block_id_97344 * tblock_sizze_97346 + local_tid_97343;\n    phys_tid_74615 = sext_i32_i64(global_tid_97342);\n    global_tid_97347 = sext_i32_i64(block_id_97344) * segmap_tblock_sizze_74611 + sext_i32_i64(local_tid_97343);\n    slice_97348 = total_part_no_51500;\n    gtid_74614 = global_tid_97347;\n    remnant_97349 = global_tid_97347 - gtid_74614;\n    if (slt64(gtid_74614, total_part_no_51500)) {\n        int64_t zv_lhs_74617;\n        int64_t tmp_74618;\n        bool cond_74620;\n        int64_t lifted_lambda_res_74621;\n        \n        zv_lhs_74617 = add64((int64_t) -1, gtid_74614);\n        tmp_74618 = smod64(zv_lhs_74617, total_part_no_51500);\n        cond_74620 = gtid_74614 == (int64_t) 0;\n        if (cond_74620) {\n            lifted_lambda_res_74621 = (int64_t) 0;\n        } else {\n            int64_t lifted_lambda_res_74619 = ((__global int64_t *) mem_92491)[tmp_74618];\n            \n            lifted_lambda_res_74621 = lifted_lambda_res_74619;\n       ", " }\n        ((__global int64_t *) mem_92494)[gtid_74614] = lifted_lambda_res_74621;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_74611\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_72246(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, unsigned char cond_59838_bits, int64_t binop_x_91646, int64_t maxSubHelper_95748, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91633, __global unsigned char *mem_91885)\n{\n    bool cond_59838 = cond_59838_bits;\n    volatile __local unsigned char *color_95753_backing_4 = &shared_mem[0];\n    const int64_t color_95753_backing_4_offset = 0 + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95752_backing_3 = &shared_mem[color_95753_backing_4_offset];\n    const int64_t color_95752_backing_3_offset = color_95753_backing_4_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95751_backing_2 = &shared_mem[color_95752_backing_3_offset];\n    const int64_t color_95751_backing_2_offset = color_95752_backing_3_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95750_backing_1 = &shared_mem[color_95751_backing_2_offset];\n    const int64_t color_95750_backing_1_offset = color_95751_backing_2_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95749_backing_0 = &shared_mem[color_95750_backing_1_offset];\n    const int64_t color_95749_backing_0_offset = color_95750_backi", "ng_1_offset + (maxSubHelper_95748 + srem64((int64_t) 8 - srem64(maxSubHelper_95748, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96222;\n    int32_t tblock_sizze_96225;\n    int32_t wave_sizze_96224;\n    int32_t block_id_96223;\n    int32_t global_tid_96221;\n    int64_t phys_tblock_id_72246;\n    int64_t slice_96227;\n    int64_t ltid_pre_96226;\n    int64_t remnant_96228;\n    int64_t slice_96229;\n    int64_t gtid_72245;\n    int64_t remnant_96230;\n    __local unsigned char *color_95749;\n    __local unsigned char *color_95750;\n    __local unsigned char *color_95751;\n    __local unsigned char *color_95752;\n    __local unsigned char *color_95753;\n    int64_t min_arg1_91467;\n    __local unsigned char *ext_mem_91874;\n    int64_t f_arg0_72293;\n    int64_t min_res_72294;\n    int64_t rep_i_96238;\n    \n    local_tid_96222 = get_local_id(0);\n    tblock_sizze_96225 = get_local_size(0);\n    wave_sizze_96224 = LOCKSTEP_WIDTH;\n    block_id_96223 = get_tblock_id(0);\n    global_tid_96221 = block_id_96223 * tblock_sizze_96225 + local_tid_96222;\n    phys_tblock_id_72246 = sext_i32_i64(block_id_96223);\n    slice_96227 = dim_51486;\n    ltid_pre_96226 = sext_i32_i64(local_tid_96222);\n    remnant_96228 = sext_i32_i64(local_tid_96222) - ltid_pre_96226;\n    slice_96229 = dz2083U_51491;\n    gtid_72245 = sext_i32_i64(block_id_96223);\n    remnant_96230 = sext_i32_i64(block_id_96223) - gtid_72245;\n    color_95749 = (__local unsigned char *) color_95749_backing_0;\n    color_95750 = (__local unsigned char *) color_95750_backing_1;\n    color_95751 = (__local unsigned char *) color_95751_backing_2;\n    color_95752 = (__local unsigned char *) color_95752_backing_3;\n    color_95753 = (__local unsigned char *) color_95753_backing_4;\n    min_arg1_91467 = ((__global int",
                                    "64_t *) mem_91633)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_59838) {\n        ext_mem_91874 = color_95750;\n    } else {\n        __local unsigned char *ext_mem_91861;\n        int64_t f_arg0_72279;\n        int64_t max_res_72280;\n        int64_t rep_i_96235;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_59838) {\n            ext_mem_91861 = color_95749;\n        } else {\n            int64_t phys_tid_72255;\n            int64_t gtid_72254;\n            double eta_p_72256;\n            double eta_p_72257;\n            double defunc_0_f_res_72258;\n            int64_t phys_tid_72261;\n            int64_t gtid_72260;\n            double eta_p_72262;\n            double eta_p_72263;\n            double defunc_0_f_res_72264;\n            double f_arg0_72265;\n            int64_t f64_res_72266;\n            int64_t rep_i_96232;\n            \n            phys_tid_72255 = sext_i32_i64(local_tid_96222);\n            gtid_72254 = sext_i32_i64(sext_i64_i32(ltid_pre_96226));\n            eta_p_72256 = ((__global double *) xys_mem_91601)[gtid_72245 * dim_51486 + gtid_72254];\n            eta_p_72257 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_72254];\n            defunc_0_f_res_72258 = eta_p_72256 - eta_p_72257;\n            ((__local double *) color_95753)[gtid_72254] = defunc_0_f_res_72258;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            phys_tid_72261 = sext_i32_i64(local_tid_96222);\n            gtid_72260 = sext_i32_i64(sext_i64_i32(ltid_pre_96226));\n            eta_p_72262 = ((__local double *) color_95753)[gtid_72260];\n            eta_p_72263 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_72260];\n            defunc_0_f_res_72264 = eta_p_72262 / eta_p_72263;\n            ((__local double *) color_95753)[gtid_72260] = defunc_0_f_res_72264;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            f_arg0_72265 = ((__local double *) color_95753)[(int64_t) 0];\n            f64_res_72266 = fptosi_f64_i64(f_arg0_72265);\n            ", "rep_i_96232 = sext_i32_i64(sext_i64_i32(ltid_pre_96226));\n            ((__local int64_t *) color_95752)[rep_i_96232] = f64_res_72266;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_72269 = 0; i_72269 < arg_59797; i_72269++) {\n                int64_t index_primexp_72271;\n                bool x_72272;\n                bool y_72273;\n                bool bounds_check_72274;\n                bool index_certs_72275;\n                double f_arg0_72276;\n                int64_t f64_res_72277;\n                \n                index_primexp_72271 = add64((int64_t) 1, i_72269);\n                x_72272 = sle64((int64_t) 0, index_primexp_72271);\n                y_72273 = slt64(index_primexp_72271, dim_51486);\n                bounds_check_72274 = x_72272 && y_72273;\n                if (!bounds_check_72274) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 23) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_72271;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_72276 = ((__local double *) color_95753)[index_primexp_72271];\n                f64_res_72277 = fptosi_f64_i64(f_arg0_72276);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_96222 == 0) {\n                    ((__local int64_t *) color_95752)[index_primexp_72271] = f64_res_72277;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_91861 = color_95752;\n        }\n        f_arg0_72279 = ((__local int64_t *) ext_mem_91861)[(int64_t) 0];\n        max_res_72280 = smax64((int64_t) 0, f_arg0_72279);\n        rep_i_96235 = sext_i32_i64(sext_i64_i32(ltid_pre_96226));\n        ((__local int64_t *) co", "lor_95751)[rep_i_96235] = max_res_72280;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_72283 = 0; i_72283 < arg_59797; i_72283++) {\n            int64_t index_primexp_72285;\n            bool x_72286;\n            bool y_72287;\n            bool bounds_check_72288;\n            bool index_certs_72289;\n            int64_t f_arg0_72290;\n            int64_t max_res_72291;\n            \n            index_primexp_72285 = add64((int64_t) 1, i_72283);\n            x_72286 = sle64((int64_t) 0, index_primexp_72285);\n            y_72287 = slt64(index_primexp_72285, dim_51486);\n            bounds_check_72288 = x_72286 && y_72287;\n            if (!bounds_check_72288) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 24) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_72285;\n                        global_failure_args[1] = (int64_t) dim_51486;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_72290 = ((__local int64_t *) ext_mem_91861)[index_primexp_72285];\n            max_res_72291 = smax64((int64_t) 0, f_arg0_72290);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96222 == 0) {\n                ((__local int64_t *) color_95751)[index_primexp_72285] = max_res_72291;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_91874 = color_95751;\n    }\n    f_arg0_72293 = ((__local int64_t *) ext_mem_91874)[(int64_t) 0];\n    min_res_72294 = smin64(f_arg0_72293, min_arg1_91467);\n    rep_i_96238 = sext_i32_i64(sext_i64_i32(ltid_pre_96226));\n    ((__local int64_t *) color_95749)[rep_i_96238] = min_res_72294;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if ",
                                    "(local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_72297 = 0; i_72297 < arg_59797; i_72297++) {\n        int64_t index_primexp_72299;\n        bool x_72300;\n        bool y_72301;\n        bool bounds_check_72302;\n        bool index_certs_72303;\n        bool index_certs_72305;\n        int64_t f_arg0_72304;\n        int64_t zm_lhs_72306;\n        int64_t min_arg1_72307;\n        int64_t min_res_72308;\n        \n        index_primexp_72299 = add64((int64_t) 1, i_72297);\n        x_72300 = sle64((int64_t) 0, index_primexp_72299);\n        y_72301 = slt64(index_primexp_72299, dim_51486);\n        bounds_check_72302 = x_72300 && y_72301;\n        if (!bounds_check_72302) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 25) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_72299;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_72302) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 26) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_72299;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_72304 = ((__local int64_t *) ext_mem_91874)[index_primexp_72299];\n        zm_lhs_72306 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_72299];\n        min_arg1_72307 = sub64(zm_lhs_72306, (int64_t) 1);\n        min_res_72308 = smin64(f_arg0_72304, min_arg1_72307);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96222 == 0) {\n            ((__local int64_t *) color_95749)[index_primexp_72299] = min_res_72308;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t", " *) mem_91885)[gtid_72245 * dim_51486 + sext_i32_i64(local_tid_96222)] = ((__local int64_t *) color_95749)[sext_i32_i64(local_tid_96222)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_72322(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, unsigned char cond_59838_bits, int64_t binop_x_91646, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91788)\n{\n    bool cond_59838 = cond_59838_bits;\n    volatile __local unsigned char *color_95756_backing_2 = &shared_mem[0];\n    const int64_t color_95756_backing_2_offset = 0 + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95755_backing_1 = &shared_mem[color_95756_backing_2_offset];\n    const int64_t color_95755_backing_1_offset = color_95756_backing_2_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95754_backing_0 = &shared_mem[color_95755_backing_1_offset];\n    const int64_t color_95754_backing_0_offset = color_95755_backing_1_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96243;\n    int32_t tblock_sizze_96246;\n    int32_t wave_sizze_96245;\n    int32_t block_id_96244;\n    int32_t global_tid_96242;\n    int64_t phys_tblock_id_72322;\n    int64_t slice_96248;\n    int64_t ltid_pre_96247;\n    int64_t remnant_96249;\n    int64_t slic", "e_96250;\n    int64_t gtid_72321;\n    int64_t remnant_96251;\n    __local unsigned char *color_95754;\n    __local unsigned char *color_95755;\n    __local unsigned char *color_95756;\n    __local unsigned char *ext_mem_91777;\n    int64_t f_arg0_72353;\n    int64_t max_res_72354;\n    int64_t rep_i_96256;\n    \n    local_tid_96243 = get_local_id(0);\n    tblock_sizze_96246 = get_local_size(0);\n    wave_sizze_96245 = LOCKSTEP_WIDTH;\n    block_id_96244 = get_tblock_id(0);\n    global_tid_96242 = block_id_96244 * tblock_sizze_96246 + local_tid_96243;\n    phys_tblock_id_72322 = sext_i32_i64(block_id_96244);\n    slice_96248 = dim_51486;\n    ltid_pre_96247 = sext_i32_i64(local_tid_96243);\n    remnant_96249 = sext_i32_i64(local_tid_96243) - ltid_pre_96247;\n    slice_96250 = dz2083U_51491;\n    gtid_72321 = sext_i32_i64(block_id_96244);\n    remnant_96251 = sext_i32_i64(block_id_96244) - gtid_72321;\n    color_95754 = (__local unsigned char *) color_95754_backing_0;\n    color_95755 = (__local unsigned char *) color_95755_backing_1;\n    color_95756 = (__local unsigned char *) color_95756_backing_2;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_59838) {\n        ext_mem_91777 = color_95755;\n    } else {\n        int64_t phys_tid_72329;\n        int64_t gtid_72328;\n        double eta_p_72330;\n        double eta_p_72331;\n        double defunc_0_f_res_72332;\n        int64_t phys_tid_72335;\n        int64_t gtid_72334;\n        double eta_p_72336;\n        double eta_p_72337;\n        double defunc_0_f_res_72338;\n        double f_arg0_72339;\n        int64_t f64_res_72340;\n        int64_t rep_i_96253;\n        \n        phys_tid_72329 = sext_i32_i64(local_tid_96243);\n        gtid_72328 = sext_i32_i64(sext_i64_i32(ltid_pre_96247));\n        eta_p_72330 = ((__global double *) xys_mem_91601)[gtid_72321 * dim_51486 + gtid_72328];\n        eta_p_72331 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_72328];\n        defunc_0_f_res_72332 = eta_p_72330 - eta_p_72331;\n        ((__local double *) co",
                                    "lor_95754)[gtid_72328] = defunc_0_f_res_72332;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_72335 = sext_i32_i64(local_tid_96243);\n        gtid_72334 = sext_i32_i64(sext_i64_i32(ltid_pre_96247));\n        eta_p_72336 = ((__local double *) color_95754)[gtid_72334];\n        eta_p_72337 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_72334];\n        defunc_0_f_res_72338 = eta_p_72336 / eta_p_72337;\n        ((__local double *) color_95754)[gtid_72334] = defunc_0_f_res_72338;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        f_arg0_72339 = ((__local double *) color_95754)[(int64_t) 0];\n        f64_res_72340 = fptosi_f64_i64(f_arg0_72339);\n        rep_i_96253 = sext_i32_i64(sext_i64_i32(ltid_pre_96247));\n        ((__local int64_t *) color_95756)[rep_i_96253] = f64_res_72340;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_72343 = 0; i_72343 < arg_59797; i_72343++) {\n            int64_t index_primexp_72345;\n            bool x_72346;\n            bool y_72347;\n            bool bounds_check_72348;\n            bool index_certs_72349;\n            double f_arg0_72350;\n            int64_t f64_res_72351;\n            \n            index_primexp_72345 = add64((int64_t) 1, i_72343);\n            x_72346 = sle64((int64_t) 0, index_primexp_72345);\n            y_72347 = slt64(index_primexp_72345, dim_51486);\n            bounds_check_72348 = x_72346 && y_72347;\n            if (!bounds_check_72348) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 27) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_72345;\n                        global_failure_args[1] = (int64_t) dim_51486;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_72350 = ((__local double *) color_95754)[index_primexp_72345];\n            f64_res_72351 = fptosi_f64_i64(f", "_arg0_72350);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96243 == 0) {\n                ((__local int64_t *) color_95756)[index_primexp_72345] = f64_res_72351;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_91777 = color_95756;\n    }\n    f_arg0_72353 = ((__local int64_t *) ext_mem_91777)[(int64_t) 0];\n    max_res_72354 = smax64((int64_t) 0, f_arg0_72353);\n    rep_i_96256 = sext_i32_i64(sext_i64_i32(ltid_pre_96247));\n    ((__local int64_t *) color_95754)[rep_i_96256] = max_res_72354;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_72357 = 0; i_72357 < arg_59797; i_72357++) {\n        int64_t index_primexp_72359;\n        bool x_72360;\n        bool y_72361;\n        bool bounds_check_72362;\n        bool index_certs_72363;\n        int64_t f_arg0_72364;\n        int64_t max_res_72365;\n        \n        index_primexp_72359 = add64((int64_t) 1, i_72357);\n        x_72360 = sle64((int64_t) 0, index_primexp_72359);\n        y_72361 = slt64(index_primexp_72359, dim_51486);\n        bounds_check_72362 = x_72360 && y_72361;\n        if (!bounds_check_72362) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 28) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_72359;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_72364 = ((__local int64_t *) ext_mem_91777)[index_primexp_72359];\n        max_res_72365 = smax64((int64_t) 0, f_arg0_72364);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96243 == 0) {\n            ((__local int64_t *) color_95754)[index_primexp_72359] = max_res_72365;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_91788)[gtid", "_72321 * dim_51486 + sext_i32_i64(local_tid_96243)] = ((__local int64_t *) color_95754)[sext_i32_i64(local_tid_96243)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_72379(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, int64_t binop_x_91646, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91704)\n{\n    volatile __local unsigned char *color_95758_backing_1 = &shared_mem[0];\n    const int64_t color_95758_backing_1_offset = 0 + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95757_backing_0 = &shared_mem[color_95758_backing_1_offset];\n    const int64_t color_95757_backing_0_offset = color_95758_backing_1_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96261;\n    int32_t tblock_sizze_96264;\n    int32_t wave_sizze_96263;\n    int32_t block_id_96262;\n    int32_t global_tid_96260;\n    int64_t phys_tblock_id_72379;\n    int64_t slice_96266;\n    int64_t ltid_pre_96265;\n    int64_t remnant_96267;\n    int64_t slice_96268;\n    int64_t gtid_72378;\n    int64_t remnant_96269;\n    __local unsigned char *color_95757;\n    __local unsigned char *color_95758;\n    int64_t phys_tid_72384;\n    int64_t gtid_72383;\n    double eta_p_72385;\n    double eta_p_72386;\n    double defunc_0_f_res_72387;\n    int64_t phys_tid_72390;\n    int64_t gtid_72389;\n    double eta_p_72391;\n    double e",
                                    "ta_p_72392;\n    double defunc_0_f_res_72393;\n    double f_arg0_72394;\n    int64_t f64_res_72395;\n    int64_t rep_i_96271;\n    \n    local_tid_96261 = get_local_id(0);\n    tblock_sizze_96264 = get_local_size(0);\n    wave_sizze_96263 = LOCKSTEP_WIDTH;\n    block_id_96262 = get_tblock_id(0);\n    global_tid_96260 = block_id_96262 * tblock_sizze_96264 + local_tid_96261;\n    phys_tblock_id_72379 = sext_i32_i64(block_id_96262);\n    slice_96266 = dim_51486;\n    ltid_pre_96265 = sext_i32_i64(local_tid_96261);\n    remnant_96267 = sext_i32_i64(local_tid_96261) - ltid_pre_96265;\n    slice_96268 = dz2083U_51491;\n    gtid_72378 = sext_i32_i64(block_id_96262);\n    remnant_96269 = sext_i32_i64(block_id_96262) - gtid_72378;\n    color_95757 = (__local unsigned char *) color_95757_backing_0;\n    color_95758 = (__local unsigned char *) color_95758_backing_1;\n    phys_tid_72384 = sext_i32_i64(local_tid_96261);\n    gtid_72383 = sext_i32_i64(sext_i64_i32(ltid_pre_96265));\n    eta_p_72385 = ((__global double *) xys_mem_91601)[gtid_72378 * dim_51486 + gtid_72383];\n    eta_p_72386 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_72383];\n    defunc_0_f_res_72387 = eta_p_72385 - eta_p_72386;\n    ((__local double *) color_95758)[gtid_72383] = defunc_0_f_res_72387;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_72390 = sext_i32_i64(local_tid_96261);\n    gtid_72389 = sext_i32_i64(sext_i64_i32(ltid_pre_96265));\n    eta_p_72391 = ((__local double *) color_95758)[gtid_72389];\n    eta_p_72392 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_72389];\n    defunc_0_f_res_72393 = eta_p_72391 / eta_p_72392;\n    ((__local double *) color_95758)[gtid_72389] = defunc_0_f_res_72393;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    f_arg0_72394 = ((__local double *) color_95758)[(int64_t) 0];\n    f64_res_72395 = fptosi_f64_i64(f_arg0_72394);\n    rep_i_96271 = sext_i32_i64(sext_i64_i32(ltid_pre_96265));\n    ((__local int64_t *) color_95757)[rep_i_96271] = f64_res_72395;\n    barrier(CLK_LOCAL_MEM_F", "ENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_72398 = 0; i_72398 < arg_59797; i_72398++) {\n        int64_t index_primexp_72400;\n        bool x_72401;\n        bool y_72402;\n        bool bounds_check_72403;\n        bool index_certs_72404;\n        double f_arg0_72405;\n        int64_t f64_res_72406;\n        \n        index_primexp_72400 = add64((int64_t) 1, i_72398);\n        x_72401 = sle64((int64_t) 0, index_primexp_72400);\n        y_72402 = slt64(index_primexp_72400, dim_51486);\n        bounds_check_72403 = x_72401 && y_72402;\n        if (!bounds_check_72403) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 29) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_72400;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                local_failure = 1;\n                goto error_3;\n            }\n        }\n        f_arg0_72405 = ((__local double *) color_95758)[index_primexp_72400];\n        f64_res_72406 = fptosi_f64_i64(f_arg0_72405);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96261 == 0) {\n            ((__local int64_t *) color_95757)[index_primexp_72400] = f64_res_72406;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_91704)[gtid_72378 * dim_51486 + sext_i32_i64(local_tid_96261)] = ((__local int64_t *) color_95757)[sext_i32_i64(local_tid_96261)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_3:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_74128(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, unsigned char cond_59838_bits, int64_t binop_x_91646, int64_t maxSubHelper_95761, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *start_of_grid_partition_mem_9159", "8, __global unsigned char *xys_mem_91601, __global unsigned char *mem_91634, __global unsigned char *mem_92338)\n{\n    bool cond_59838 = cond_59838_bits;\n    volatile __local unsigned char *color_95766_backing_4 = &shared_mem[0];\n    const int64_t color_95766_backing_4_offset = 0 + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95765_backing_3 = &shared_mem[color_95766_backing_4_offset];\n    const int64_t color_95765_backing_3_offset = color_95766_backing_4_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95764_backing_2 = &shared_mem[color_95765_backing_3_offset];\n    const int64_t color_95764_backing_2_offset = color_95765_backing_3_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95763_backing_1 = &shared_mem[color_95764_backing_2_offset];\n    const int64_t color_95763_backing_1_offset = color_95764_backing_2_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95762_backing_0 = &shared_mem[color_95763_backing_1_offset];\n    const int64_t color_95762_backing_0_offset = color_95763_backing_1_offset + (maxSubHelper_95761 + srem64((int64_t) 8 - srem64(maxSubHelper_95761, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96760;\n    int32_t tblock_sizze_96763;\n    int32_t wave_sizze_96762;\n    int32_t block_id_96761;\n    int32_t global_tid_96759;\n    int64_t phys_tblock_id_74128;\n    int64_t slice_96765;\n    int64_t ltid_pre_96764;\n    int64_t remnant_96766;\n    int64_t slice_96767;\n    in",
                                    "t64_t gtid_74127;\n    int64_t remnant_96768;\n    __local unsigned char *color_95762;\n    __local unsigned char *color_95763;\n    __local unsigned char *color_95764;\n    __local unsigned char *color_95765;\n    __local unsigned char *color_95766;\n    int64_t min_arg1_91476;\n    __local unsigned char *ext_mem_92327;\n    int64_t f_arg0_74175;\n    int64_t min_res_74176;\n    int64_t rep_i_96776;\n    \n    local_tid_96760 = get_local_id(0);\n    tblock_sizze_96763 = get_local_size(0);\n    wave_sizze_96762 = LOCKSTEP_WIDTH;\n    block_id_96761 = get_tblock_id(0);\n    global_tid_96759 = block_id_96761 * tblock_sizze_96763 + local_tid_96760;\n    phys_tblock_id_74128 = sext_i32_i64(block_id_96761);\n    slice_96765 = dim_51486;\n    ltid_pre_96764 = sext_i32_i64(local_tid_96760);\n    remnant_96766 = sext_i32_i64(local_tid_96760) - ltid_pre_96764;\n    slice_96767 = dz2083U_51491;\n    gtid_74127 = sext_i32_i64(block_id_96761);\n    remnant_96768 = sext_i32_i64(block_id_96761) - gtid_74127;\n    color_95762 = (__local unsigned char *) color_95762_backing_0;\n    color_95763 = (__local unsigned char *) color_95763_backing_1;\n    color_95764 = (__local unsigned char *) color_95764_backing_2;\n    color_95765 = (__local unsigned char *) color_95765_backing_3;\n    color_95766 = (__local unsigned char *) color_95766_backing_4;\n    min_arg1_91476 = ((__global int64_t *) mem_91634)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_59838) {\n        ext_mem_92327 = color_95763;\n    } else {\n        int64_t phys_tid_74135;\n        int64_t gtid_74134;\n        double eta_p_74136;\n        double eta_p_74137;\n        double defunc_0_f_res_74138;\n        int64_t phys_tid_74141;\n        int64_t gtid_74140;\n        double eta_p_74142;\n        double eta_p_74143;\n        double defunc_0_f_res_74144;\n        __local unsigned char *ext_mem_92314;\n        int64_t f_arg0_74161;\n        int64_t max_res_74162;\n        int64_t rep_i_96773;\n        \n        phys_tid_74135 = sext_i32_i64(local_tid_96760)", ";\n        gtid_74134 = sext_i32_i64(sext_i64_i32(ltid_pre_96764));\n        eta_p_74136 = ((__global double *) xys_mem_91601)[gtid_74127 * dim_51486 + gtid_74134];\n        eta_p_74137 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_74134];\n        defunc_0_f_res_74138 = eta_p_74136 - eta_p_74137;\n        ((__local double *) color_95766)[gtid_74134] = defunc_0_f_res_74138;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_74141 = sext_i32_i64(local_tid_96760);\n        gtid_74140 = sext_i32_i64(sext_i64_i32(ltid_pre_96764));\n        eta_p_74142 = ((__local double *) color_95766)[gtid_74140];\n        eta_p_74143 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_74140];\n        defunc_0_f_res_74144 = eta_p_74142 / eta_p_74143;\n        ((__local double *) color_95766)[gtid_74140] = defunc_0_f_res_74144;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_59838) {\n            ext_mem_92314 = color_95762;\n        } else {\n            double f_arg0_74147;\n            int64_t f64_res_74148;\n            int64_t rep_i_96770;\n            \n            f_arg0_74147 = ((__local double *) color_95766)[(int64_t) 0];\n            f64_res_74148 = fptosi_f64_i64(f_arg0_74147);\n            rep_i_96770 = sext_i32_i64(sext_i64_i32(ltid_pre_96764));\n            ((__local int64_t *) color_95765)[rep_i_96770] = f64_res_74148;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_74151 = 0; i_74151 < arg_59797; i_74151++) {\n                int64_t index_primexp_74153;\n                bool x_74154;\n                bool y_74155;\n                bool bounds_check_74156;\n                bool index_certs_74157;\n                double f_arg0_74158;\n                int64_t f64_res_74159;\n                \n                index_primexp_74153 = add64((int64_t) 1, i_74151);\n                x_74154 = sle64((int64_t) 0, index_primexp_74153);\n                y_74155 = slt64(index", "_primexp_74153, dim_51486);\n                bounds_check_74156 = x_74154 && y_74155;\n                if (!bounds_check_74156) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 46) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_74153;\n                            global_failure_args[1] = (int64_t) dim_51486;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_74158 = ((__local double *) color_95766)[index_primexp_74153];\n                f64_res_74159 = fptosi_f64_i64(f_arg0_74158);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_96760 == 0) {\n                    ((__local int64_t *) color_95765)[index_primexp_74153] = f64_res_74159;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_92314 = color_95765;\n        }\n        f_arg0_74161 = ((__local int64_t *) ext_mem_92314)[(int64_t) 0];\n        max_res_74162 = smax64((int64_t) 0, f_arg0_74161);\n        rep_i_96773 = sext_i32_i64(sext_i64_i32(ltid_pre_96764));\n        ((__local int64_t *) color_95764)[rep_i_96773] = max_res_74162;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_74165 = 0; i_74165 < arg_59797; i_74165++) {\n            int64_t index_primexp_74167;\n            bool x_74168;\n            bool y_74169;\n            bool bounds_check_74170;\n            bool index_certs_74171;\n            int64_t f_arg0_74172;\n            int64_t max_res_74173;\n            \n            index_primexp_74167 = add64((int64_t) 1, i_74165);\n            x_74168 = sle64((int64_t) 0, index_primexp_74167);\n            y_74169 = slt64(index_primexp_74167, dim_51486);\n           ",
                                    " bounds_check_74170 = x_74168 && y_74169;\n            if (!bounds_check_74170) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 47) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_74167;\n                        global_failure_args[1] = (int64_t) dim_51486;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_74172 = ((__local int64_t *) ext_mem_92314)[index_primexp_74167];\n            max_res_74173 = smax64((int64_t) 0, f_arg0_74172);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96760 == 0) {\n                ((__local int64_t *) color_95764)[index_primexp_74167] = max_res_74173;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_92327 = color_95764;\n    }\n    f_arg0_74175 = ((__local int64_t *) ext_mem_92327)[(int64_t) 0];\n    min_res_74176 = smin64(f_arg0_74175, min_arg1_91476);\n    rep_i_96776 = sext_i32_i64(sext_i64_i32(ltid_pre_96764));\n    ((__local int64_t *) color_95762)[rep_i_96776] = min_res_74176;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_74179 = 0; i_74179 < arg_59797; i_74179++) {\n        int64_t index_primexp_74181;\n        bool x_74182;\n        bool y_74183;\n        bool bounds_check_74184;\n        bool index_certs_74185;\n        bool index_certs_74187;\n        int64_t f_arg0_74186;\n        int64_t zm_lhs_74188;\n        int64_t min_arg1_74189;\n        int64_t min_res_74190;\n        \n        index_primexp_74181 = add64((int64_t) 1, i_74179);\n        x_74182 = sle64((int64_t) 0, index_primexp_74181);\n        y_74183 = slt64(index_primexp_74181, dim_51486);\n        bounds_check_74184 = x_74182 && y_74183;\n        if (!bounds_check_74184) {\n            {\n                if (atomic_", "cmpxchg_i32_global(global_failure, -1, 48) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_74181;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_74184) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 49) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_74181;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_74186 = ((__local int64_t *) ext_mem_92327)[index_primexp_74181];\n        zm_lhs_74188 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_74181];\n        min_arg1_74189 = sub64(zm_lhs_74188, (int64_t) 1);\n        min_res_74190 = smin64(f_arg0_74186, min_arg1_74189);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96760 == 0) {\n            ((__local int64_t *) color_95762)[index_primexp_74181] = min_res_74190;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_92338)[gtid_74127 * dim_51486 + sext_i32_i64(local_tid_96760)] = ((__local int64_t *) color_95762)[sext_i32_i64(local_tid_96760)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid calc_local_Skyline_GFUR_doublezisegmap_intrablock_74204(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_51486, int64_t dz2083U_51491, int64_t arg_59797, unsigned char cond_59838_bits, int64_t binop_x_91646, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xys_mem_91601, __global unsigned char *mem_92241)\n{\n    bool cond_59838 = cond_59838_bits;\n    volatile __loc", "al unsigned char *color_95769_backing_2 = &shared_mem[0];\n    const int64_t color_95769_backing_2_offset = 0 + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95768_backing_1 = &shared_mem[color_95769_backing_2_offset];\n    const int64_t color_95768_backing_1_offset = color_95769_backing_2_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95767_backing_0 = &shared_mem[color_95768_backing_1_offset];\n    const int64_t color_95767_backing_0_offset = color_95768_backing_1_offset + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96781;\n    int32_t tblock_sizze_96784;\n    int32_t wave_sizze_96783;\n    int32_t block_id_96782;\n    int32_t global_tid_96780;\n    int64_t phys_tblock_id_74204;\n    int64_t slice_96786;\n    int64_t ltid_pre_96785;\n    int64_t remnant_96787;\n    int64_t slice_96788;\n    int64_t gtid_74203;\n    int64_t remnant_96789;\n    __local unsigned char *color_95767;\n    __local unsigned char *color_95768;\n    __local unsigned char *color_95769;\n    int64_t phys_tid_74209;\n    int64_t gtid_74208;\n    double eta_p_74210;\n    double eta_p_74211;\n    double defunc_0_f_res_74212;\n    int64_t phys_tid_74215;\n    int64_t gtid_74214;\n    double eta_p_74216;\n    double eta_p_74217;\n    double defunc_0_f_res_74218;\n    __local unsigned char *ext_mem_92230;\n    int64_t f_arg0_74235;\n    int64_t max_res_74236;\n    int64_t rep_i_96794;\n    \n    local_tid_96781 = get_local_id(0);\n    tblock_sizze_96784 = get_local_size(0);\n    wave_sizze_96783 = LOCKSTEP_WIDTH;\n    block_id_96782 = get_tblock_id(0);\n    glob",
                                    "al_tid_96780 = block_id_96782 * tblock_sizze_96784 + local_tid_96781;\n    phys_tblock_id_74204 = sext_i32_i64(block_id_96782);\n    slice_96786 = dim_51486;\n    ltid_pre_96785 = sext_i32_i64(local_tid_96781);\n    remnant_96787 = sext_i32_i64(local_tid_96781) - ltid_pre_96785;\n    slice_96788 = dz2083U_51491;\n    gtid_74203 = sext_i32_i64(block_id_96782);\n    remnant_96789 = sext_i32_i64(block_id_96782) - gtid_74203;\n    color_95767 = (__local unsigned char *) color_95767_backing_0;\n    color_95768 = (__local unsigned char *) color_95768_backing_1;\n    color_95769 = (__local unsigned char *) color_95769_backing_2;\n    phys_tid_74209 = sext_i32_i64(local_tid_96781);\n    gtid_74208 = sext_i32_i64(sext_i64_i32(ltid_pre_96785));\n    eta_p_74210 = ((__global double *) xys_mem_91601)[gtid_74203 * dim_51486 + gtid_74208];\n    eta_p_74211 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_74208];\n    defunc_0_f_res_74212 = eta_p_74210 - eta_p_74211;\n    ((__local double *) color_95767)[gtid_74208] = defunc_0_f_res_74212;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_74215 = sext_i32_i64(local_tid_96781);\n    gtid_74214 = sext_i32_i64(sext_i64_i32(ltid_pre_96785));\n    eta_p_74216 = ((__local double *) color_95767)[gtid_74214];\n    eta_p_74217 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_74214];\n    defunc_0_f_res_74218 = eta_p_74216 / eta_p_74217;\n    ((__local double *) color_95767)[gtid_74214] = defunc_0_f_res_74218;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_59838) {\n        ext_mem_92230 = color_95768;\n    } else {\n        double f_arg0_74221;\n        int64_t f64_res_74222;\n        int64_t rep_i_96791;\n        \n        f_arg0_74221 = ((__local double *) color_95767)[(int64_t) 0];\n        f64_res_74222 = fptosi_f64_i64(f_arg0_74221);\n        rep_i_96791 = sext_i32_i64(sext_i64_i32(ltid_pre_96785));\n        ((__local int64_t *) color_95769)[rep_i_96791] = f64_res_74222;\n        barrier(CLK_LOCAL_MEM_FENCE)", ";\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_74225 = 0; i_74225 < arg_59797; i_74225++) {\n            int64_t index_primexp_74227;\n            bool x_74228;\n            bool y_74229;\n            bool bounds_check_74230;\n            bool index_certs_74231;\n            double f_arg0_74232;\n            int64_t f64_res_74233;\n            \n            index_primexp_74227 = add64((int64_t) 1, i_74225);\n            x_74228 = sle64((int64_t) 0, index_primexp_74227);\n            y_74229 = slt64(index_primexp_74227, dim_51486);\n            bounds_check_74230 = x_74228 && y_74229;\n            if (!bounds_check_74230) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 50) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_74227;\n                        global_failure_args[1] = (int64_t) dim_51486;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_74232 = ((__local double *) color_95767)[index_primexp_74227];\n            f64_res_74233 = fptosi_f64_i64(f_arg0_74232);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96781 == 0) {\n                ((__local int64_t *) color_95769)[index_primexp_74227] = f64_res_74233;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_92230 = color_95769;\n    }\n    f_arg0_74235 = ((__local int64_t *) ext_mem_92230)[(int64_t) 0];\n    max_res_74236 = smax64((int64_t) 0, f_arg0_74235);\n    rep_i_96794 = sext_i32_i64(sext_i64_i32(ltid_pre_96785));\n    ((__local int64_t *) color_95767)[rep_i_96794] = max_res_74236;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_74239 = 0; i_74239 < arg_59797; i_74239++) {\n        int64_t index_primexp_74241;\n        bool x_74242;\n        b", "ool y_74243;\n        bool bounds_check_74244;\n        bool index_certs_74245;\n        int64_t f_arg0_74246;\n        int64_t max_res_74247;\n        \n        index_primexp_74241 = add64((int64_t) 1, i_74239);\n        x_74242 = sle64((int64_t) 0, index_primexp_74241);\n        y_74243 = slt64(index_primexp_74241, dim_51486);\n        bounds_check_74244 = x_74242 && y_74243;\n        if (!bounds_check_74244) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 51) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_74241;\n                    global_failure_args[1] = (int64_t) dim_51486;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_74246 = ((__local int64_t *) ext_mem_92230)[index_primexp_74241];\n        max_res_74247 = smax64((int64_t) 0, f_arg0_74246);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96781 == 0) {\n            ((__local int64_t *) color_95767)[index_primexp_74241] = max_res_74247;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_92241)[gtid_74203 * dim_51486 + sext_i32_i64(local_tid_96781)] = ((__local int64_t *) color_95767)[sext_i32_i64(local_tid_96781)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_large_97165_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_large_97165(__global int *global_failure, int64_t total_part_no_51500, int64_t num_tblocks_74572, int64_t num_subhistos_97079, int64_t blocks_per_segment_97196, int64_t q_97197, int64_t num_virtblocks_97198, int64_t threads_per_segment_97199, __global unsigned char *mem_91632, __global unsigned char *defunc_0_map_res_subhistos_mem_97080, __global unsigned char *segred_tmp_mem_97200, __global unsigned char *counters_mem_97202)\n{\n    #define seghist_tblock_sizze_74570 (calc_local_Skyline_GFUR_doublezisegred_large_97165zi",
                                    "seghist_tblock_sizze_74570)\n    #define chunk_sizze_97166 (calc_local_Skyline_GFUR_doublezisegred_large_97165zichunk_sizze_97166)\n    \n    volatile __local unsigned char *sync_arr_mem_97211_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_97211_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_97209_backing_0 = &shared_mem[sync_arr_mem_97211_backing_1_offset];\n    const int64_t red_arr_i64_mem_97209_backing_0_offset = sync_arr_mem_97211_backing_1_offset + ((int64_t) 8 * seghist_tblock_sizze_74570 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_74570, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97205;\n    int32_t tblock_sizze_97208;\n    int32_t wave_sizze_97207;\n    int32_t block_id_97206;\n    int32_t global_tid_97204;\n    int64_t flat_gtid_97165;\n    __local unsigned char *red_arr_i64_mem_97209;\n    __local unsigned char *sync_arr_mem_97211;\n    int32_t phys_tblock_id_97213;\n    int32_t iterations_97214;\n    \n    local_tid_97205 = get_local_id(0);\n    tblock_sizze_97208 = get_local_size(0);\n    wave_sizze_97207 = LOCKSTEP_WIDTH;\n    block_id_97206 = get_tblock_id(0);\n    global_tid_97204 = block_id_97206 * tblock_sizze_97208 + local_tid_97205;\n    flat_gtid_97165 = sext_i32_i64(global_tid_97204);\n    red_arr_i64_mem_97209 = (__local unsigned char *) red_arr_i64_mem_97209_backing_0;\n    sync_arr_mem_97211 = (__local unsigned char *) sync_arr_mem_97211_backing_1;\n    phys_tblock_id_97213 = get_tblock_id(0);\n    iterations_97214 = sdiv_up32(sext_i64_i32(num_virtblocks_97198) - phys_tblock_id_97213, sext_i64_i32(num_tblocks_74572));\n    for (int32_t i_97215 = 0; i_97215 < iterations_97214; i_97215++) {\n        int32_t virt_tblock_id_97216;\n        int64_t flat_segment_id_97217;\n        int64_t global_tid_97218;\n        int64_t slice_97219;\n        int64_t bucket_id_97163;\n        int64_t remnant_97220;\n        int64_t subhistogram_id_97164;\n        int64", "_t eta_p_block_res_acc_97221;\n        int64_t eta_p_74578;\n        int64_t eta_p_74579;\n        int64_t tblock_id_in_segment_97225;\n        int64_t block_base_offset_97226;\n        int32_t offset_97229;\n        int32_t skip_waves_97230;\n        int64_t eta_p_97222;\n        int64_t eta_p_97223;\n        \n        virt_tblock_id_97216 = phys_tblock_id_97213 + i_97215 * sext_i64_i32(num_tblocks_74572);\n        flat_segment_id_97217 = squot64(sext_i32_i64(virt_tblock_id_97216), blocks_per_segment_97196);\n        global_tid_97218 = srem64(sext_i32_i64(virt_tblock_id_97216) * seghist_tblock_sizze_74570 + sext_i32_i64(local_tid_97205), threads_per_segment_97199);\n        slice_97219 = total_part_no_51500;\n        bucket_id_97163 = flat_segment_id_97217;\n        remnant_97220 = flat_segment_id_97217 - bucket_id_97163;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_97221 = (int64_t) 0;\n        }\n        tblock_id_in_segment_97225 = squot64(global_tid_97218, seghist_tblock_sizze_74570);\n        block_base_offset_97226 = tblock_id_in_segment_97225 * q_97197 * seghist_tblock_sizze_74570;\n        for (int64_t i_97227 = 0; i_97227 < q_97197; i_97227++) {\n            int64_t block_offset_97228 = block_base_offset_97226 + i_97227 * seghist_tblock_sizze_74570;\n            \n            subhistogram_id_97164 = global_tid_97218 + threads_per_segment_97199 * i_97227;\n            if (slt64(subhistogram_id_97164, num_subhistos_97079)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_74578 = eta_p_block_res_acc_97221;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_74579 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_97080)[subhistogram_id_97164 * total_part_no_51500 + bucket_id_97163];\n                    }\n                    // apply reduction operator(", "s)\n                    {\n                        int64_t defunc_0_op_res_74580 = add64(eta_p_74578, eta_p_74579);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_97221 = defunc_0_op_res_74580;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205)] = eta_p_block_res_acc_97221;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_97230 = 1;\n        offset_97229 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_97205, sext_i64_i32(seghist_tblock_sizze_74570))) {\n                eta_p_97222 = ((__local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205 + offset_97229)];\n            }\n        }\n        offset_97229 = 1;\n        while (slt32(offset_97229, wave_sizze_97207)) {\n            if (slt32(local_tid_97205 + offset_97229, sext_i64_i32(seghist_tblock_sizze_74570)) && ((local_tid_97205 - squot32(local_tid_97205, wave_sizze_97207) * wave_sizze_97207) & (2 * offset_97229 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_97223 = ((volatile __local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205 + offset_97229)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_97224 = add64(eta_p_97222, eta_p_97223);\n                    \n                    eta_p_97222 = defunc_0_op_res_97224;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205)] = eta_p_97222;\n                }\n            }\n         ",
                                    "   offset_97229 *= 2;\n        }\n        while (slt32(skip_waves_97230, squot32(sext_i64_i32(seghist_tblock_sizze_74570) + wave_sizze_97207 - 1, wave_sizze_97207))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_97229 = skip_waves_97230 * wave_sizze_97207;\n            if (slt32(local_tid_97205 + offset_97229, sext_i64_i32(seghist_tblock_sizze_74570)) && ((local_tid_97205 - squot32(local_tid_97205, wave_sizze_97207) * wave_sizze_97207) == 0 && (squot32(local_tid_97205, wave_sizze_97207) & (2 * skip_waves_97230 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_97223 = ((__local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205 + offset_97229)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_97224 = add64(eta_p_97222, eta_p_97223);\n                    \n                    eta_p_97222 = defunc_0_op_res_97224;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205)] = eta_p_97222;\n                }\n            }\n            skip_waves_97230 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_97205) == (int64_t) 0) {\n                eta_p_block_res_acc_97221 = eta_p_97222;\n            } else {\n                eta_p_block_res_acc_97221 = (int64_t) 0;\n            }\n        }\n        if (blocks_per_segment_97196 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_97205 == 0) {\n                    ((__global int64_t *) mem_91632)[bucket_id_97163] = eta_p_block_res_acc_97221;\n                }\n            }\n        } else {\n            int32_t old_counter_97231;\n            bool is_last", "_block_97232;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_97205 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_97200)[sext_i32_i64(virt_tblock_id_97216)] = eta_p_block_res_acc_97221;\n                    mem_fence_global();\n                    old_counter_97231 = atomic_add_i32_global(&((volatile __global int *) counters_mem_97202)[srem64(flat_segment_id_97217, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_97211)[(int64_t) 0] = old_counter_97231 == sext_i64_i32(blocks_per_segment_97196 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_97232 = ((__local bool *) sync_arr_mem_97211)[(int64_t) 0];\n            if (is_last_block_97232) {\n                if (local_tid_97205 == 0) {\n                    old_counter_97231 = atomic_add_i32_global(&((volatile __global int *) counters_mem_97202)[srem64(flat_segment_id_97217, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_97196));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_97233 = sdiv_up64(blocks_per_segment_97196, seghist_tblock_sizze_74570);\n                    \n                    eta_p_74578 = (int64_t) 0;\n                    for (int64_t i_97234 = 0; i_97234 < read_per_thread_97233; i_97234++) {\n                        int64_t block_res_id_97235 = sext_i32_i64(local_tid_97205) * read_per_thread_97233 + i_97234;\n                        int64_t index_of_block_res_97236 = flat_segment_id_97217 * blocks_per_segment_97196 + block_res_id_97235;\n                        \n                        if (slt64(block_res_id_97235, blocks_per_segment_97196)) {\n                            eta_p_74579 = ((__global int64_t *) segred_tmp_mem_97200)[index_of_block_res_97236];\n                            \n          ", "                  int64_t defunc_0_op_res_74580 = add64(eta_p_74578, eta_p_74579);\n                            \n                            eta_p_74578 = defunc_0_op_res_74580;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205)] = eta_p_74578;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_97237;\n                    int32_t skip_waves_97238 = 1;\n                    int64_t eta_p_97222;\n                    int64_t eta_p_97223;\n                    \n                    offset_97237 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_97205, sext_i64_i32(seghist_tblock_sizze_74570))) {\n                            eta_p_97222 = ((__local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205 + offset_97237)];\n                        }\n                    }\n                    offset_97237 = 1;\n                    while (slt32(offset_97237, wave_sizze_97207)) {\n                        if (slt32(local_tid_97205 + offset_97237, sext_i64_i32(seghist_tblock_sizze_74570)) && ((local_tid_97205 - squot32(local_tid_97205, wave_sizze_97207) * wave_sizze_97207) & (2 * offset_97237 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_97223 = ((volatile __local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205 + offset_97237)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_97224 = add64(eta_p_97222, eta_p_97223);\n                                \n                                eta_p_97222 = defunc_0_op_res_97224;\n                            }\n                            // ",
                                    "write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205)] = eta_p_97222;\n                            }\n                        }\n                        offset_97237 *= 2;\n                    }\n                    while (slt32(skip_waves_97238, squot32(sext_i64_i32(seghist_tblock_sizze_74570) + wave_sizze_97207 - 1, wave_sizze_97207))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_97237 = skip_waves_97238 * wave_sizze_97207;\n                        if (slt32(local_tid_97205 + offset_97237, sext_i64_i32(seghist_tblock_sizze_74570)) && ((local_tid_97205 - squot32(local_tid_97205, wave_sizze_97207) * wave_sizze_97207) == 0 && (squot32(local_tid_97205, wave_sizze_97207) & (2 * skip_waves_97238 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_97223 = ((__local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205 + offset_97237)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_97224 = add64(eta_p_97222, eta_p_97223);\n                                \n                                eta_p_97222 = defunc_0_op_res_97224;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_i64_mem_97209)[sext_i32_i64(local_tid_97205)] = eta_p_97222;\n                            }\n                        }\n                        skip_waves_97238 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_97205 == 0) {\n                            ((__global int64_t", " *) mem_91632)[bucket_id_97163] = eta_p_97222;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_74570\n    #undef chunk_sizze_97166\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_nonseg_70755_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_nonseg_70755(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dz2082U_51490, int64_t dz2083U_51491, int64_t zeze_rhs_59801, int64_t num_tblocks_70749, int64_t num_threads_96123, __global unsigned char *part_idx_mem_91600, __global unsigned char *mem_91604, __global unsigned char *mem_91606, __global unsigned char *counters_mem_96099, __global unsigned char *segred_tmp_mem_96121)\n{\n    #define segred_tblock_sizze_70747 (calc_local_Skyline_GFUR_doublezisegred_nonseg_70755zisegred_tblock_sizze_70747)\n    #define chunk_sizze_96098 (calc_local_Skyline_GFUR_doublezisegred_nonseg_70755zichunk_sizze_96098)\n    \n    volatile __local unsigned char *sync_arr_mem_96131_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_96131_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_96129_backing_0 = &shared_mem[sync_arr_mem_96131_backing_1_offset];\n    const int64_t red_arr_i64_mem_96129_backing_0_offset = sync_arr_mem_96131_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_70747 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_70747, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96125;\n    int32_t tblock_sizze_96128;\n    int32_t wave_sizze_96127;\n    int32_t block_id_96126;\n    int32_t global_tid_96124;\n    int64_t phy", "s_tid_70755;\n    __local unsigned char *red_arr_i64_mem_96129;\n    __local unsigned char *sync_arr_mem_96131;\n    int64_t dummy_70753;\n    int64_t gtid_70754;\n    int64_t q_96133;\n    int64_t eta_p_block_res_acc_96134;\n    int64_t eta_p_59826;\n    int64_t eta_p_59827;\n    int64_t tblock_id_in_segment_96138;\n    int64_t block_base_offset_96139;\n    int32_t offset_96142;\n    int32_t skip_waves_96143;\n    int64_t eta_p_96135;\n    int64_t eta_p_96136;\n    int32_t old_counter_96144;\n    bool is_last_block_96145;\n    \n    local_tid_96125 = get_local_id(0);\n    tblock_sizze_96128 = get_local_size(0);\n    wave_sizze_96127 = LOCKSTEP_WIDTH;\n    block_id_96126 = get_tblock_id(0);\n    global_tid_96124 = block_id_96126 * tblock_sizze_96128 + local_tid_96125;\n    phys_tid_70755 = sext_i32_i64(global_tid_96124);\n    red_arr_i64_mem_96129 = (__local unsigned char *) red_arr_i64_mem_96129_backing_0;\n    sync_arr_mem_96131 = (__local unsigned char *) sync_arr_mem_96131_backing_1;\n    dummy_70753 = (int64_t) 0;\n    gtid_70754 = (int64_t) 0;\n    q_96133 = sdiv_up64(dz2082U_51490, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_70747 * num_tblocks_70749)) * chunk_sizze_96098);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_96134 = (int64_t) -9223372036854775808;\n    }\n    tblock_id_in_segment_96138 = squot64(phys_tid_70755, segred_tblock_sizze_70747);\n    block_base_offset_96139 = tblock_id_in_segment_96138 * q_96133 * segred_tblock_sizze_70747;\n    for (int64_t i_96140 = 0; i_96140 < q_96133; i_96140++) {\n        int64_t block_offset_96141 = block_base_offset_96139 + i_96140 * segred_tblock_sizze_70747;\n        \n        gtid_70754 = phys_tid_70755 + num_threads_96123 * i_96140;\n        if (slt64(gtid_70754, dz2082U_51490)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    bool cond_67298 = gtid_70754 == zeze_rhs_59801;\n                    int64_t lifted_lambda_res_",
                                    "67299;\n                    \n                    if (cond_67298) {\n                        int64_t zm_rhs_68290 = ((__global int64_t *) part_idx_mem_91600)[gtid_70754];\n                        int64_t lifted_lambda_res_t_res_68291 = sub64(dz2083U_51491, zm_rhs_68290);\n                        \n                        lifted_lambda_res_67299 = lifted_lambda_res_t_res_68291;\n                    } else {\n                        int64_t zm_lhs_67306 = add64((int64_t) 1, gtid_70754);\n                        bool x_67307 = sle64((int64_t) 0, zm_lhs_67306);\n                        bool y_67308 = slt64(zm_lhs_67306, dz2082U_51490);\n                        bool bounds_check_67309 = x_67307 && y_67308;\n                        bool index_certs_67310;\n                        \n                        if (!bounds_check_67309) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 22) == -1) {\n                                    global_failure_args[0] = (int64_t) zm_lhs_67306;\n                                    global_failure_args[1] = (int64_t) dz2082U_51490;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t zm_lhs_67311 = ((__global int64_t *) part_idx_mem_91600)[zm_lhs_67306];\n                        int64_t zm_rhs_67316 = ((__global int64_t *) part_idx_mem_91600)[gtid_70754];\n                        int64_t lifted_lambda_res_f_res_67317 = sub64(zm_lhs_67311, zm_rhs_67316);\n                        \n                        lifted_lambda_res_67299 = lifted_lambda_res_f_res_67317;\n                    }\n                    // write map-out result(s)\n                    {\n                        ((__global int64_t *) mem_91606)[dummy_70753 * dz2082U_51490 + gtid_70754] = lifted_lambda_res_67299;\n  ", "                  }\n                    // load accumulator(s)\n                    {\n                        eta_p_59826 = eta_p_block_res_acc_96134;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_59827 = lifted_lambda_res_67299;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t max_res_59828 = smax64(eta_p_59826, eta_p_59827);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_96134 = max_res_59828;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125)] = eta_p_block_res_acc_96134;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_96143 = 1;\n    offset_96142 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_96125, sext_i64_i32(segred_tblock_sizze_70747))) {\n            eta_p_96135 = ((__local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125 + offset_96142)];\n        }\n    }\n    offset_96142 = 1;\n    while (slt32(offset_96142, wave_sizze_96127)) {\n        if (slt32(local_tid_96125 + offset_96142, sext_i64_i32(segred_tblock_sizze_70747)) && ((local_tid_96125 - squot32(local_tid_96125, wave_sizze_96127) * wave_sizze_96127) & (2 * offset_96142 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_96136 = ((volatile __local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125 + offset_96142)];\n            }\n            // apply reduction operation\n            {\n                int64_t max_res_96137 = smax64(et", "a_p_96135, eta_p_96136);\n                \n                eta_p_96135 = max_res_96137;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125)] = eta_p_96135;\n            }\n        }\n        offset_96142 *= 2;\n    }\n    while (slt32(skip_waves_96143, squot32(sext_i64_i32(segred_tblock_sizze_70747) + wave_sizze_96127 - 1, wave_sizze_96127))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_96142 = skip_waves_96143 * wave_sizze_96127;\n        if (slt32(local_tid_96125 + offset_96142, sext_i64_i32(segred_tblock_sizze_70747)) && ((local_tid_96125 - squot32(local_tid_96125, wave_sizze_96127) * wave_sizze_96127) == 0 && (squot32(local_tid_96125, wave_sizze_96127) & (2 * skip_waves_96143 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_96136 = ((__local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125 + offset_96142)];\n            }\n            // apply reduction operation\n            {\n                int64_t max_res_96137 = smax64(eta_p_96135, eta_p_96136);\n                \n                eta_p_96135 = max_res_96137;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125)] = eta_p_96135;\n            }\n        }\n        skip_waves_96143 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_96125) == (int64_t) 0) {\n            eta_p_block_res_acc_96134 = eta_p_96135;\n        } else {\n            eta_p_block_res_acc_96134 = (int64_t) -9223372036854775808;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_96125 == 0) {\n            ((__global int64_t *) segred_tmp_mem_96121)[sext_i32_i64(block_id_96126)] = eta_p_block_res_acc_9",
                                    "6134;\n            mem_fence_global();\n            old_counter_96144 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96099)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_96131)[(int64_t) 0] = old_counter_96144 == sext_i64_i32(num_tblocks_70749 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_96145 = ((__local bool *) sync_arr_mem_96131)[(int64_t) 0];\n    if (is_last_block_96145) {\n        if (local_tid_96125 == 0) {\n            old_counter_96144 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96099)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_70749));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_96146 = sdiv_up64(num_tblocks_70749, segred_tblock_sizze_70747);\n            \n            eta_p_59826 = (int64_t) -9223372036854775808;\n            for (int64_t i_96147 = 0; i_96147 < read_per_thread_96146; i_96147++) {\n                int64_t block_res_id_96148 = sext_i32_i64(local_tid_96125) * read_per_thread_96146 + i_96147;\n                int64_t index_of_block_res_96149 = block_res_id_96148;\n                \n                if (slt64(block_res_id_96148, num_tblocks_70749)) {\n                    eta_p_59827 = ((__global int64_t *) segred_tmp_mem_96121)[index_of_block_res_96149];\n                    \n                    int64_t max_res_59828 = smax64(eta_p_59826, eta_p_59827);\n                    \n                    eta_p_59826 = max_res_59828;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125)] = eta_p_59826;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_96150;\n            int32_t skip_waves_96151 = 1;\n            int64_t eta_p_96135;\n            int64_t eta_p_96136;\n            \n            offset_96150 = 0;\n            // participating threads read ini", "tial accumulator\n            {\n                if (slt32(local_tid_96125, sext_i64_i32(segred_tblock_sizze_70747))) {\n                    eta_p_96135 = ((__local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125 + offset_96150)];\n                }\n            }\n            offset_96150 = 1;\n            while (slt32(offset_96150, wave_sizze_96127)) {\n                if (slt32(local_tid_96125 + offset_96150, sext_i64_i32(segred_tblock_sizze_70747)) && ((local_tid_96125 - squot32(local_tid_96125, wave_sizze_96127) * wave_sizze_96127) & (2 * offset_96150 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_96136 = ((volatile __local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125 + offset_96150)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t max_res_96137 = smax64(eta_p_96135, eta_p_96136);\n                        \n                        eta_p_96135 = max_res_96137;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125)] = eta_p_96135;\n                    }\n                }\n                offset_96150 *= 2;\n            }\n            while (slt32(skip_waves_96151, squot32(sext_i64_i32(segred_tblock_sizze_70747) + wave_sizze_96127 - 1, wave_sizze_96127))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_96150 = skip_waves_96151 * wave_sizze_96127;\n                if (slt32(local_tid_96125 + offset_96150, sext_i64_i32(segred_tblock_sizze_70747)) && ((local_tid_96125 - squot32(local_tid_96125, wave_sizze_96127) * wave_sizze_96127) == 0 && (squot32(local_tid_96125, wave_sizze_96127) & (2 * skip_waves_96151 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_96136 = ((__local int64_t *) red_ar", "r_i64_mem_96129)[sext_i32_i64(local_tid_96125 + offset_96150)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t max_res_96137 = smax64(eta_p_96135, eta_p_96136);\n                        \n                        eta_p_96135 = max_res_96137;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_96129)[sext_i32_i64(local_tid_96125)] = eta_p_96135;\n                    }\n                }\n                skip_waves_96151 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_96125 == 0) {\n                    ((__global int64_t *) mem_91604)[(int64_t) 0] = eta_p_96135;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_70747\n    #undef chunk_sizze_96098\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegred_small_97165_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegred_small_97165(__global int *global_failure, int64_t total_part_no_51500, int64_t num_tblocks_74572, int64_t num_subhistos_97079, int64_t segment_sizze_nonzzero_97167, __global unsigned char *mem_91632, __global unsigned char *defunc_0_map_res_subhistos_mem_97080)\n{\n    #define seghist_tblock_sizze_74570 (calc_local_Skyline_GFUR_doublezisegred_small_97165ziseghist_tblock_sizze_74570)\n    \n    volatile __local unsigned char *red_arr_i64_mem_97174_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i64_mem_97174_backing_0_offset = 0 + ((int64_t) 8 * seghist_tblock_sizze_74570 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_74570, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97170;\n    int32_t tblock_sizze_97173;\n    int32_t wave_sizze_97172;\n    int32_t block_id_97171;\n    int32_t global",
                                    "_tid_97169;\n    int64_t flat_gtid_97165;\n    __local unsigned char *red_arr_i64_mem_97174;\n    int32_t phys_tblock_id_97176;\n    int32_t iterations_97177;\n    \n    local_tid_97170 = get_local_id(0);\n    tblock_sizze_97173 = get_local_size(0);\n    wave_sizze_97172 = LOCKSTEP_WIDTH;\n    block_id_97171 = get_tblock_id(0);\n    global_tid_97169 = block_id_97171 * tblock_sizze_97173 + local_tid_97170;\n    flat_gtid_97165 = sext_i32_i64(global_tid_97169);\n    red_arr_i64_mem_97174 = (__local unsigned char *) red_arr_i64_mem_97174_backing_0;\n    phys_tblock_id_97176 = get_tblock_id(0);\n    iterations_97177 = sdiv_up32(sext_i64_i32(sdiv_up64(total_part_no_51500, squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167))) - phys_tblock_id_97176, sext_i64_i32(num_tblocks_74572));\n    for (int32_t i_97178 = 0; i_97178 < iterations_97177; i_97178++) {\n        int32_t virt_tblock_id_97179;\n        int64_t slice_97180;\n        int64_t bucket_id_97163;\n        int64_t remnant_97181;\n        int64_t subhistogram_id_97164;\n        \n        virt_tblock_id_97179 = phys_tblock_id_97176 + i_97178 * sext_i64_i32(num_tblocks_74572);\n        slice_97180 = total_part_no_51500;\n        bucket_id_97163 = squot64(sext_i32_i64(local_tid_97170), segment_sizze_nonzzero_97167) + sext_i32_i64(virt_tblock_id_97179) * squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167);\n        remnant_97181 = squot64(sext_i32_i64(local_tid_97170), segment_sizze_nonzzero_97167) + sext_i32_i64(virt_tblock_id_97179) * squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167) - bucket_id_97163;\n        subhistogram_id_97164 = srem64(sext_i32_i64(local_tid_97170), num_subhistos_97079);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_97079) && (slt64(bucket_id_97163, total_part_no_51500) && slt64(sext_i32_i64(local_tid_97170), num_subhistos_97079 * squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167)))) {\n                // sav", "e results to be reduced\n                {\n                    int64_t tmp_97182 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_97080)[subhistogram_id_97164 * total_part_no_51500 + bucket_id_97163];\n                    \n                    ((__local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170)] = tmp_97182;\n                }\n            } else {\n                ((__local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_97079)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t eta_p_74578;\n                int64_t eta_p_74579;\n                int64_t eta_p_97183;\n                int64_t eta_p_97184;\n                bool ltid_in_bounds_97186 = slt64(sext_i32_i64(local_tid_97170), num_subhistos_97079 * squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167));\n                int32_t skip_threads_97187;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_97186) {\n                        eta_p_74579 = ((volatile __local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170)];\n                        if ((local_tid_97170 - squot32(local_tid_97170, 32) * 32) == 0) {\n                            eta_p_74578 = eta_p_74579;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_97187 = 1;\n                    while (slt32(skip_threads_97187, 32)) {\n                        bool thread_active_97188 = sle32(skip_threads_97187, local_tid_97170 - squot32(local_tid_97170, 32) * 32) && ltid_in_bounds_97186;\n                        \n                        if (thread_active_97188) {\n                            // read operands\n                            {\n          ", "                      eta_p_74578 = ((volatile __local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170) - sext_i32_i64(skip_threads_97187)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_97189 = slt64(srem64(sext_i32_i64(local_tid_97170), num_subhistos_97079), sext_i32_i64(local_tid_97170) - sext_i32_i64(local_tid_97170 - skip_threads_97187));\n                            \n                            if (thread_active_97188 && inactive_97189) {\n                                eta_p_74578 = eta_p_74579;\n                            }\n                            if (thread_active_97188) {\n                                if (!inactive_97189) {\n                                    int64_t defunc_0_op_res_74580 = add64(eta_p_74578, eta_p_74579);\n                                    \n                                    eta_p_74578 = defunc_0_op_res_74580;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_97172, skip_threads_97187)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_97188) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170)] = eta_p_74578;\n                                eta_p_74579 = eta_p_74578;\n                            }\n                        }\n                        if (sle32(wave_sizze_97172, skip_threads_97187)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_97187 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n              ",
                                    "  {\n                    if ((local_tid_97170 - squot32(local_tid_97170, 32) * 32) == 31 && ltid_in_bounds_97186) {\n                        ((volatile __local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(squot32(local_tid_97170, 32))] = eta_p_74578;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_97190;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_97170, 32) == 0 && ltid_in_bounds_97186) {\n                            eta_p_97184 = ((volatile __local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170)];\n                            if ((local_tid_97170 - squot32(local_tid_97170, 32) * 32) == 0) {\n                                eta_p_97183 = eta_p_97184;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_97190 = 1;\n                        while (slt32(skip_threads_97190, 32)) {\n                            bool thread_active_97191 = sle32(skip_threads_97190, local_tid_97170 - squot32(local_tid_97170, 32) * 32) && (squot32(local_tid_97170, 32) == 0 && ltid_in_bounds_97186);\n                            \n                            if (thread_active_97191) {\n                                // read operands\n                                {\n                                    eta_p_97183 = ((volatile __local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170) - sext_i32_i64(skip_threads_97190)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_97192 = slt64(srem64(sext_i32_i", "64(local_tid_97170 * 32 + 32 - 1), num_subhistos_97079), sext_i32_i64(local_tid_97170 * 32 + 32 - 1) - sext_i32_i64((local_tid_97170 - skip_threads_97190) * 32 + 32 - 1));\n                                \n                                if (thread_active_97191 && inactive_97192) {\n                                    eta_p_97183 = eta_p_97184;\n                                }\n                                if (thread_active_97191) {\n                                    if (!inactive_97192) {\n                                        int64_t defunc_0_op_res_97185 = add64(eta_p_97183, eta_p_97184);\n                                        \n                                        eta_p_97183 = defunc_0_op_res_97185;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_97172, skip_threads_97190)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_97191) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170)] = eta_p_97183;\n                                    eta_p_97184 = eta_p_97183;\n                                }\n                            }\n                            if (sle32(wave_sizze_97172, skip_threads_97190)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_97190 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_97193 = squot32(local_tid_97170, 32) == 0 || !ltid_in_bounds_97186;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {", "\n                        if (!no_carry_in_97193) {\n                            eta_p_74579 = eta_p_74578;\n                            eta_p_74578 = ((__local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(squot32(local_tid_97170, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_97194 = slt64(srem64(sext_i32_i64(local_tid_97170), num_subhistos_97079), sext_i32_i64(local_tid_97170) - sext_i32_i64(squot32(local_tid_97170, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_97193) {\n                            if (inactive_97194) {\n                                eta_p_74578 = eta_p_74579;\n                            }\n                        }\n                        if (!no_carry_in_97193) {\n                            if (!inactive_97194) {\n                                int64_t defunc_0_op_res_74580 = add64(eta_p_74578, eta_p_74579);\n                                \n                                eta_p_74578 = defunc_0_op_res_74580;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_97193) {\n                            ((__local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170)] = eta_p_74578;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_97170, 32) == 0 && ltid_in_bounds_97186) {\n                        ((__local int64_t *) red_arr_i64_mem_97174)[sext_i32_i64(local_tid_97170)] = eta_p_74579;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n    ",
                                    "        if (slt64(sext_i32_i64(virt_tblock_id_97179) * squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167) + sext_i32_i64(local_tid_97170), total_part_no_51500) && slt64(sext_i32_i64(local_tid_97170), squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167))) {\n                int64_t tmp_97195 = ((__local int64_t *) red_arr_i64_mem_97174)[(sext_i32_i64(local_tid_97170) + (int64_t) 1) * segment_sizze_nonzzero_97167 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_91632)[sext_i32_i64(virt_tblock_id_97179) * squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167) + sext_i32_i64(local_tid_97170)] = tmp_97195;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_74570\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegscan_72819_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegscan_72819(__global int *global_failure, int64_t dz2083U_51491, int64_t num_tblocks_72816, int64_t num_virt_blocks_96588, int64_t num_virt_threads_96589, __global unsigned char *ext_mem_92089, __global unsigned char *mem_92092, __global unsigned char *mem_92094, __global unsigned char *status_flags_mem_96590, __global unsigned char *aggregates_mem_96612, __global unsigned char *incprefixes_mem_96614, __global unsigned char *global_dynid_mem_96616)\n{\n    #define segscan_tblock_sizze_72814 (calc_local_Skyline_GFUR_doublezisegscan_72819zisegscan_tblock_sizze_72814)\n    #define chunk_sizze_96587 (calc_local_Skyline_GFUR_doublezisegscan_72819zichunk_sizze_96587)\n    \n    volatile __local unsigned char *local_mem_96626_backing_0 = &shared_mem[0];\n    const int64_t local_mem_96626_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_72814), chunk_sizze_96587 * segscan_tblock_sizze_72814 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t)", " 8 * segscan_tblock_sizze_72814), chunk_sizze_96587 * segscan_tblock_sizze_72814 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96619;\n    int32_t tblock_sizze_96622;\n    int32_t wave_sizze_96621;\n    int32_t block_id_96620;\n    int32_t global_tid_96618;\n    int64_t phys_tid_72819;\n    int32_t chunk_sizze_32b_96623;\n    int64_t byte_offsets_96624;\n    int64_t warp_byte_offset_96625;\n    __local unsigned char *local_mem_96626;\n    int64_t trans_arr_len_96627;\n    int64_t phys_block_id_96633;\n    int64_t virtloop_bound_96634;\n    \n    local_tid_96619 = get_local_id(0);\n    tblock_sizze_96622 = get_local_size(0);\n    wave_sizze_96621 = LOCKSTEP_WIDTH;\n    block_id_96620 = get_tblock_id(0);\n    global_tid_96618 = block_id_96620 * tblock_sizze_96622 + local_tid_96619;\n    phys_tid_72819 = sext_i32_i64(global_tid_96618);\n    chunk_sizze_32b_96623 = sext_i64_i32(chunk_sizze_96587);\n    byte_offsets_96624 = segscan_tblock_sizze_72814 * (int64_t) 8;\n    warp_byte_offset_96625 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_96626 = (__local unsigned char *) local_mem_96626_backing_0;\n    trans_arr_len_96627 = chunk_sizze_96587 * segscan_tblock_sizze_72814;\n    phys_block_id_96633 = get_tblock_id(0);\n    virtloop_bound_96634 = sdiv_up64(num_virt_blocks_96588 - phys_block_id_96633, num_tblocks_72816);\n    for (int64_t virtloop_i_96635 = 0; virtloop_i_96635 < virtloop_bound_96634; virtloop_i_96635++) {\n        int64_t dynamic_id_96636;\n        int64_t block_offset_96637;\n        int64_t sgm_idx_96638;\n        int32_t boundary_96639;\n        int32_t segsizze_compact_96640;\n        int64_t private_mem_96641[chunk_sizze_96587];\n        int64_t thd_offset_96643;\n        int64_t acc_96659;\n        int64_t prefix_96669;\n        bool block_new_sgm_96670;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_96619 == 0) {\n     ", "           dynamic_id_96636 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_96616)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_96626)[(int64_t) 0] = dynamic_id_96636;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_96636 == num_virt_blocks_96588 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_96616)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_96636 = ((__local int32_t *) local_mem_96626)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_96637 = dynamic_id_96636 * chunk_sizze_96587 * segscan_tblock_sizze_72814;\n        sgm_idx_96638 = smod64(block_offset_96637, dz2083U_51491);\n        boundary_96639 = sext_i64_i32(smin64(chunk_sizze_96587 * segscan_tblock_sizze_72814, dz2083U_51491 - sgm_idx_96638));\n        segsizze_compact_96640 = sext_i64_i32(smin64(chunk_sizze_96587 * segscan_tblock_sizze_72814, dz2083U_51491));\n        thd_offset_96643 = block_offset_96637 + sext_i32_i64(local_tid_96619);\n        // Load and map\n        {\n            for (int64_t i_96644 = 0; i_96644 < chunk_sizze_96587; i_96644++) {\n                int64_t virt_tid_96645 = thd_offset_96643 + i_96644 * segscan_tblock_sizze_72814;\n                int64_t slice_96646 = dz2083U_51491;\n                int64_t gtid_72818 = virt_tid_96645;\n                int64_t remnant_96647 = virt_tid_96645 - gtid_72818;\n                \n                if (slt64(virt_tid_96645, dz2083U_51491)) {\n                    int64_t eta_p_67292 = ((__global int64_t *) ext_mem_92089)[gtid_72818];\n                    bool lifted_lambda_res_67293 = sle64((int64_t) 0, eta_p_67292);\n                    int64_t defunc_0_f_res_67294 = btoi_bool_i64(lifted_lambda_re",
                                    "s_67293);\n                    \n                    ((__global int64_t *) mem_92094)[gtid_72818] = defunc_0_f_res_67294;\n                    private_mem_96641[i_96644] = defunc_0_f_res_67294;\n                } else {\n                    private_mem_96641[i_96644] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_96648 = 0; i_96648 < chunk_sizze_96587; i_96648++) {\n                int64_t sharedIdx_96649 = sext_i32_i64(local_tid_96619) + i_96648 * segscan_tblock_sizze_72814;\n                int64_t tmp_96650 = private_mem_96641[i_96648];\n                \n                ((__local int64_t *) local_mem_96626)[sharedIdx_96649] = tmp_96650;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96651 = 0; i_96651 < chunk_sizze_96587; i_96651++) {\n                int64_t sharedIdx_96652 = sext_i32_i64(local_tid_96619) * chunk_sizze_96587 + i_96651;\n                int64_t tmp_96653 = ((__local int64_t *) local_mem_96626)[sharedIdx_96652];\n                \n                private_mem_96641[i_96651] = tmp_96653;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_96654 = 0; i_96654 < chunk_sizze_96587 - (int64_t) 1; i_96654++) {\n                int64_t eta_p_60134;\n                int64_t eta_p_60135;\n                \n                eta_p_60134 = private_mem_96641[i_96654];\n                eta_p_60135 = private_mem_96641[i_96654 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_60136 = add64(eta_p_60134, eta_p_60135);\n                \n                private_mem_96641[i_96654 + (int64_t) 1] = defunc_0_op_res_60136;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_96655 = private_mem_96641[chunk_sizze_96587 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_96626", ")[sext_i32_i64(local_tid_96619)] = tmp_96655;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_96656;\n            int64_t eta_p_96657;\n            int64_t eta_p_96660;\n            int64_t eta_p_96661;\n            bool ltid_in_bounds_96663 = slt64(sext_i32_i64(local_tid_96619), num_virt_threads_96589);\n            int32_t skip_threads_96664;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_96663) {\n                    eta_p_96657 = ((volatile __local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)];\n                    if ((local_tid_96619 - squot32(local_tid_96619, 32) * 32) == 0) {\n                        eta_p_96656 = eta_p_96657;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_96664 = 1;\n                while (slt32(skip_threads_96664, 32)) {\n                    bool thread_active_96665 = sle32(skip_threads_96664, local_tid_96619 - squot32(local_tid_96619, 32) * 32) && ltid_in_bounds_96663;\n                    \n                    if (thread_active_96665) {\n                        // read operands\n                        {\n                            eta_p_96656 = ((volatile __local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619) - sext_i32_i64(skip_threads_96664)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_96665) {\n                            int64_t defunc_0_op_res_96658 = add64(eta_p_96656, eta_p_96657);\n                            \n                            eta_p_96656 = defunc_0_op_res_96658;\n                        }\n                    }\n                    if (sle32(wave_sizze_96621, skip_threads_96664)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n  ", "                  if (thread_active_96665) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)] = eta_p_96656;\n                            eta_p_96657 = eta_p_96656;\n                        }\n                    }\n                    if (sle32(wave_sizze_96621, skip_threads_96664)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_96664 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_96619 - squot32(local_tid_96619, 32) * 32) == 31 && ltid_in_bounds_96663) {\n                    ((volatile __local int64_t *) local_mem_96626)[sext_i32_i64(squot32(local_tid_96619, 32))] = eta_p_96656;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_96666;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_96619, 32) == 0 && ltid_in_bounds_96663) {\n                        eta_p_96661 = ((volatile __local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)];\n                        if ((local_tid_96619 - squot32(local_tid_96619, 32) * 32) == 0) {\n                            eta_p_96660 = eta_p_96661;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96666 = 1;\n                    while (slt32(skip_threads_96666, 32)) {\n                        bool thread_active_96667 = sle32(skip_threads_96666, local_tid_96619 - squot32(local_tid_96619, 32) * 32) && (squot32(local_tid_96619, 32) == 0 && l",
                                    "tid_in_bounds_96663);\n                        \n                        if (thread_active_96667) {\n                            // read operands\n                            {\n                                eta_p_96660 = ((volatile __local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619) - sext_i32_i64(skip_threads_96666)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_96667) {\n                                int64_t defunc_0_op_res_96662 = add64(eta_p_96660, eta_p_96661);\n                                \n                                eta_p_96660 = defunc_0_op_res_96662;\n                            }\n                        }\n                        if (sle32(wave_sizze_96621, skip_threads_96666)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_96667) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)] = eta_p_96660;\n                                eta_p_96661 = eta_p_96660;\n                            }\n                        }\n                        if (sle32(wave_sizze_96621, skip_threads_96666)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96666 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_96668 = squot32(local_tid_96619, 32) == 0 || !ltid_in_bounds_96663;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_96668) {\n                        eta_p_96657 = eta_p_96656;\n                        eta_p_96656 = ((__local int64_t *) l", "ocal_mem_96626)[sext_i32_i64(squot32(local_tid_96619, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_96668) {\n                        int64_t defunc_0_op_res_96658 = add64(eta_p_96656, eta_p_96657);\n                        \n                        eta_p_96656 = defunc_0_op_res_96658;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_96668) {\n                        ((__local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)] = eta_p_96656;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_96619, 32) == 0 && ltid_in_bounds_96663) {\n                    ((__local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)] = eta_p_96657;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96619 == 0) {\n                acc_96659 = ((__local int64_t *) local_mem_96626)[segscan_tblock_sizze_72814 - (int64_t) 1];\n            } else {\n                acc_96659 = ((__local int64_t *) local_mem_96626)[sext_i32_i64(local_tid_96619) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_96669 = (int64_t) 0;\n        block_new_sgm_96670 = sgm_idx_96638 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_96670 && local_tid_96619 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_96614)[dynamic_id_96636] = acc_96659;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_96590)[dynamic_id_96636] = (int8_t) 2;\n                acc_96659 = (int64_t) 0;\n            }\n            if (!block_new_sgm_96670 && slt32(local_tid", "_96619, wave_sizze_96621)) {\n                if (local_tid_96619 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_96612)[dynamic_id_96636] = acc_96659;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_96590)[dynamic_id_96636] = (int8_t) 1;\n                    \n                    int8_t tmp_96671 = ((volatile __global int8_t *) status_flags_mem_96590)[dynamic_id_96636 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_96626)[(int64_t) 0] = tmp_96671;\n                }\n                mem_fence_local();\n                \n                int8_t status_96672 = ((__local int8_t *) local_mem_96626)[(int64_t) 0];\n                \n                if (status_96672 == (int8_t) 2) {\n                    if (local_tid_96619 == 0) {\n                        prefix_96669 = ((volatile __global int64_t *) incprefixes_mem_96614)[dynamic_id_96636 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_96673 = sext_i64_i32(dynamic_id_96636 - sext_i32_i64(wave_sizze_96621));\n                    \n                    while (slt32(wave_sizze_96621 * -1, readOffset_96673)) {\n                        int32_t read_i_96674 = readOffset_96673 + local_tid_96619;\n                        int64_t aggr_96675 = (int64_t) 0;\n                        int8_t flag_96676 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_96674)) {\n                            flag_96676 = ((volatile __global int8_t *) status_flags_mem_96590)[sext_i32_i64(read_i_96674)];\n                            if (flag_96676 == (int8_t) 2) {\n                                aggr_96675 = ((volatile __global int64_t *) incprefixes_mem_96614)[sext_i32_i64(read_i_96674)];\n                            } else if (flag_96676 == (int8_t) 1) {\n                                aggr_96675 = ((volatile __global int64_t *) aggregates_mem_96612)[sext_i3",
                                    "2_i64(read_i_96674)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_96626)[(int64_t) 4 + sext_i32_i64(local_tid_96619)] = aggr_96675;\n                        ((__local int8_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)] = flag_96676;\n                        flag_96676 = ((__local int8_t *) local_mem_96626)[sext_i32_i64(wave_sizze_96621) - (int64_t) 1];\n                        if (slt8(flag_96676, (int8_t) 2)) {\n                            int8_t flg_x_96680;\n                            int8_t flg_y_96681;\n                            int64_t eta_p_96677;\n                            int64_t eta_p_96678;\n                            int32_t skip_threads_96682;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_96681 = ((volatile __local int8_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)];\n                                eta_p_96678 = ((volatile __local int64_t *) local_mem_96626)[(int64_t) 4 + sext_i32_i64(local_tid_96619)];\n                                if ((local_tid_96619 - squot32(local_tid_96619, 32) * 32) == 0) {\n                                    eta_p_96677 = eta_p_96678;\n                                    flg_x_96680 = flg_y_96681;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_96682 = 1;\n                                while (slt32(skip_threads_96682, 32)) {\n                                    if (sle32(skip_threads_96682, local_tid_96619 - squot32(local_tid_96619, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_96680 = ((volatile __local int8_t *) local_mem_96626)[sext_i32_i64(local_tid_96619) - sex", "t_i32_i64(skip_threads_96682)];\n                                            eta_p_96677 = ((volatile __local int64_t *) local_mem_96626)[(int64_t) 4 + (sext_i32_i64(local_tid_96619) - sext_i32_i64(skip_threads_96682))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_96681 == (int8_t) 2 || flg_y_96681 == (int8_t) 0) {\n                                                flg_x_96680 = flg_y_96681;\n                                                eta_p_96677 = eta_p_96678;\n                                            } else {\n                                                int64_t defunc_0_op_res_96679 = add64(eta_p_96677, eta_p_96678);\n                                                \n                                                eta_p_96677 = defunc_0_op_res_96679;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_96626)[sext_i32_i64(local_tid_96619)] = flg_x_96680;\n                                            flg_y_96681 = flg_x_96680;\n                                            ((volatile __local int64_t *) local_mem_96626)[(int64_t) 4 + sext_i32_i64(local_tid_96619)] = eta_p_96677;\n                                            eta_p_96678 = eta_p_96677;\n                                        }\n                                    }\n                                    skip_threads_96682 *= 2;\n                                }\n                            }\n                        }\n                        flag_96676 = ((__local int8_t *) local_mem_96626)[sext_i32_i64(wave_sizze_96621) - (int64_t) 1];\n                        aggr_96675 = ((__local int64_t *) local_mem_96626)[(int64_t) 4 + (sext_i32_i64(wave_sizz", "e_96621) - (int64_t) 1)];\n                        if (flag_96676 == (int8_t) 2) {\n                            readOffset_96673 = wave_sizze_96621 * -1;\n                        } else if (flag_96676 == (int8_t) 1) {\n                            readOffset_96673 -= wave_sizze_96621;\n                        }\n                        if (slt8((int8_t) 0, flag_96676)) {\n                            int64_t eta_p_96683 = aggr_96675;\n                            int64_t eta_p_96684 = prefix_96669;\n                            int64_t defunc_0_op_res_96685 = add64(eta_p_96683, eta_p_96684);\n                            \n                            prefix_96669 = defunc_0_op_res_96685;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_96619 == 0) {\n                    if (boundary_96639 == sext_i64_i32(segscan_tblock_sizze_72814 * chunk_sizze_96587)) {\n                        int64_t eta_p_96686 = prefix_96669;\n                        int64_t eta_p_96687 = acc_96659;\n                        int64_t defunc_0_op_res_96688 = add64(eta_p_96686, eta_p_96687);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_96614)[dynamic_id_96636] = defunc_0_op_res_96688;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_96590)[dynamic_id_96636] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_96626)[(int64_t) 4] = prefix_96669;\n                    acc_96659 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_96636 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_96669 = ((__local int64_t *) local_mem_96626)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_96689;\n            int64_t eta_p_96690;\n         ",
                                    "   int64_t eta_p_96692 = prefix_96669;\n            int64_t eta_p_96693 = acc_96659;\n            \n            if (slt32(local_tid_96619 * chunk_sizze_32b_96623, boundary_96639) && !block_new_sgm_96670) {\n                int64_t defunc_0_op_res_96694 = add64(eta_p_96692, eta_p_96693);\n                \n                eta_p_96689 = defunc_0_op_res_96694;\n            } else {\n                eta_p_96689 = acc_96659;\n            }\n            \n            int32_t stopping_point_96695 = segsizze_compact_96640 - srem32(local_tid_96619 * chunk_sizze_32b_96623 - 1 + segsizze_compact_96640 - boundary_96639, segsizze_compact_96640);\n            \n            for (int64_t i_96696 = 0; i_96696 < chunk_sizze_96587; i_96696++) {\n                if (slt32(sext_i64_i32(i_96696), stopping_point_96695 - 1)) {\n                    eta_p_96690 = private_mem_96641[i_96696];\n                    \n                    int64_t defunc_0_op_res_96691 = add64(eta_p_96689, eta_p_96690);\n                    \n                    private_mem_96641[i_96696] = defunc_0_op_res_96691;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_96697 = 0; i_96697 < chunk_sizze_96587; i_96697++) {\n                int64_t sharedIdx_96698 = sext_i32_i64(local_tid_96619) * chunk_sizze_96587 + i_96697;\n                int64_t tmp_96699 = private_mem_96641[i_96697];\n                \n                ((__local int64_t *) local_mem_96626)[sharedIdx_96698] = tmp_96699;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96700 = 0; i_96700 < chunk_sizze_96587; i_96700++) {\n                int64_t flat_idx_96701 = thd_offset_96643 + i_96700 * segscan_tblock_sizze_72814;\n                int64_t slice_96702 = dz2083U_51491;\n                int64_t gtid_72818 = flat_idx_96701;\n                int64_t remnant_96703 = flat_idx_96701 - gtid_72818;\n                \n                if (slt64(fl", "at_idx_96701, dz2083U_51491)) {\n                    int64_t tmp_96704 = ((__local int64_t *) local_mem_96626)[flat_idx_96701 - block_offset_96637];\n                    \n                    ((__global int64_t *) mem_92092)[gtid_72818] = tmp_96704;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_72814\n    #undef chunk_sizze_96587\n}\nFUTHARK_KERNEL_SIZED(calc_local_Skyline_GFUR_doublezisegscan_74595_dim1, 1, 1)\nvoid calc_local_Skyline_GFUR_doublezisegscan_74595(__global int *global_failure, int64_t total_part_no_51500, int64_t num_tblocks_74592, int64_t num_virt_blocks_97244, int64_t num_virt_threads_97245, __global unsigned char *mem_91632, __global unsigned char *mem_92491, __global unsigned char *status_flags_mem_97246, __global unsigned char *aggregates_mem_97248, __global unsigned char *incprefixes_mem_97250, __global unsigned char *global_dynid_mem_97252)\n{\n    #define segscan_tblock_sizze_74590 (calc_local_Skyline_GFUR_doublezisegscan_74595zisegscan_tblock_sizze_74590)\n    #define chunk_sizze_97243 (calc_local_Skyline_GFUR_doublezisegscan_74595zichunk_sizze_97243)\n    \n    volatile __local unsigned char *local_mem_97262_backing_0 = &shared_mem[0];\n    const int64_t local_mem_97262_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_74590), chunk_sizze_97243 * segscan_tblock_sizze_74590 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_74590), chunk_sizze_97243 * segscan_tblock_sizze_74590 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97255;\n    int32_t tblock_sizze_97258;\n    int32_t wave_sizze_97257;\n    int32_t block_id_97256;\n    int32_t global_tid_97254;\n    int64_t phys_tid_74595;\n    int32_t chunk_sizze_32b_97259;\n    int64_t byte_offsets_97260;\n    int64_t warp_byte_offset_97261;\n    __l", "ocal unsigned char *local_mem_97262;\n    int64_t trans_arr_len_97263;\n    int64_t phys_block_id_97269;\n    int64_t virtloop_bound_97270;\n    \n    local_tid_97255 = get_local_id(0);\n    tblock_sizze_97258 = get_local_size(0);\n    wave_sizze_97257 = LOCKSTEP_WIDTH;\n    block_id_97256 = get_tblock_id(0);\n    global_tid_97254 = block_id_97256 * tblock_sizze_97258 + local_tid_97255;\n    phys_tid_74595 = sext_i32_i64(global_tid_97254);\n    chunk_sizze_32b_97259 = sext_i64_i32(chunk_sizze_97243);\n    byte_offsets_97260 = segscan_tblock_sizze_74590 * (int64_t) 8;\n    warp_byte_offset_97261 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_97262 = (__local unsigned char *) local_mem_97262_backing_0;\n    trans_arr_len_97263 = chunk_sizze_97243 * segscan_tblock_sizze_74590;\n    phys_block_id_97269 = get_tblock_id(0);\n    virtloop_bound_97270 = sdiv_up64(num_virt_blocks_97244 - phys_block_id_97269, num_tblocks_74592);\n    for (int64_t virtloop_i_97271 = 0; virtloop_i_97271 < virtloop_bound_97270; virtloop_i_97271++) {\n        int64_t dynamic_id_97272;\n        int64_t block_offset_97273;\n        int64_t sgm_idx_97274;\n        int32_t boundary_97275;\n        int32_t segsizze_compact_97276;\n        int64_t private_mem_97277[chunk_sizze_97243];\n        int64_t thd_offset_97279;\n        int64_t acc_97295;\n        int64_t prefix_97305;\n        bool block_new_sgm_97306;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_97255 == 0) {\n                dynamic_id_97272 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_97252)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_97262)[(int64_t) 0] = dynamic_id_97272;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_97272 == num_virt_blocks_97244 ",
                                    "- (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_97252)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_97272 = ((__local int32_t *) local_mem_97262)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_97273 = dynamic_id_97272 * chunk_sizze_97243 * segscan_tblock_sizze_74590;\n        sgm_idx_97274 = smod64(block_offset_97273, total_part_no_51500);\n        boundary_97275 = sext_i64_i32(smin64(chunk_sizze_97243 * segscan_tblock_sizze_74590, total_part_no_51500 - sgm_idx_97274));\n        segsizze_compact_97276 = sext_i64_i32(smin64(chunk_sizze_97243 * segscan_tblock_sizze_74590, total_part_no_51500));\n        thd_offset_97279 = block_offset_97273 + sext_i32_i64(local_tid_97255);\n        // Load and map\n        {\n            for (int64_t i_97280 = 0; i_97280 < chunk_sizze_97243; i_97280++) {\n                int64_t virt_tid_97281 = thd_offset_97279 + i_97280 * segscan_tblock_sizze_74590;\n                int64_t slice_97282 = total_part_no_51500;\n                int64_t gtid_74594 = virt_tid_97281;\n                int64_t remnant_97283 = virt_tid_97281 - gtid_74594;\n                \n                if (slt64(virt_tid_97281, total_part_no_51500)) {\n                    int64_t x_60359 = ((__global int64_t *) mem_91632)[gtid_74594];\n                    \n                    private_mem_97277[i_97280] = x_60359;\n                } else {\n                    private_mem_97277[i_97280] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_97284 = 0; i_97284 < chunk_sizze_97243; i_97284++) {\n                int64_t sharedIdx_97285 = sext_i32_i64(local_tid_97255) + i_97284 * segscan_tblock_sizze_74590;\n                int64_t tmp_97286 = private_mem_97277[i_97284];\n                \n                ((__local int64_t *) local_mem_972", "62)[sharedIdx_97285] = tmp_97286;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_97287 = 0; i_97287 < chunk_sizze_97243; i_97287++) {\n                int64_t sharedIdx_97288 = sext_i32_i64(local_tid_97255) * chunk_sizze_97243 + i_97287;\n                int64_t tmp_97289 = ((__local int64_t *) local_mem_97262)[sharedIdx_97288];\n                \n                private_mem_97277[i_97287] = tmp_97289;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_97290 = 0; i_97290 < chunk_sizze_97243 - (int64_t) 1; i_97290++) {\n                int64_t eta_p_60360;\n                int64_t eta_p_60361;\n                \n                eta_p_60360 = private_mem_97277[i_97290];\n                eta_p_60361 = private_mem_97277[i_97290 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_60362 = add64(eta_p_60360, eta_p_60361);\n                \n                private_mem_97277[i_97290 + (int64_t) 1] = defunc_0_op_res_60362;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_97291 = private_mem_97277[chunk_sizze_97243 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)] = tmp_97291;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_97292;\n            int64_t eta_p_97293;\n            int64_t eta_p_97296;\n            int64_t eta_p_97297;\n            bool ltid_in_bounds_97299 = slt64(sext_i32_i64(local_tid_97255), num_virt_threads_97245);\n            int32_t skip_threads_97300;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_97299) {\n                    eta_p_97293 = ((volatile __local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)];\n                    if ((local_tid_97255 - squot32(local_tid_97255, 32) *", " 32) == 0) {\n                        eta_p_97292 = eta_p_97293;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_97300 = 1;\n                while (slt32(skip_threads_97300, 32)) {\n                    bool thread_active_97301 = sle32(skip_threads_97300, local_tid_97255 - squot32(local_tid_97255, 32) * 32) && ltid_in_bounds_97299;\n                    \n                    if (thread_active_97301) {\n                        // read operands\n                        {\n                            eta_p_97292 = ((volatile __local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255) - sext_i32_i64(skip_threads_97300)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_97301) {\n                            int64_t defunc_0_op_res_97294 = add64(eta_p_97292, eta_p_97293);\n                            \n                            eta_p_97292 = defunc_0_op_res_97294;\n                        }\n                    }\n                    if (sle32(wave_sizze_97257, skip_threads_97300)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_97301) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)] = eta_p_97292;\n                            eta_p_97293 = eta_p_97292;\n                        }\n                    }\n                    if (sle32(wave_sizze_97257, skip_threads_97300)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_97300 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_97255 ",
                                    "- squot32(local_tid_97255, 32) * 32) == 31 && ltid_in_bounds_97299) {\n                    ((volatile __local int64_t *) local_mem_97262)[sext_i32_i64(squot32(local_tid_97255, 32))] = eta_p_97292;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_97302;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_97255, 32) == 0 && ltid_in_bounds_97299) {\n                        eta_p_97297 = ((volatile __local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)];\n                        if ((local_tid_97255 - squot32(local_tid_97255, 32) * 32) == 0) {\n                            eta_p_97296 = eta_p_97297;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_97302 = 1;\n                    while (slt32(skip_threads_97302, 32)) {\n                        bool thread_active_97303 = sle32(skip_threads_97302, local_tid_97255 - squot32(local_tid_97255, 32) * 32) && (squot32(local_tid_97255, 32) == 0 && ltid_in_bounds_97299);\n                        \n                        if (thread_active_97303) {\n                            // read operands\n                            {\n                                eta_p_97296 = ((volatile __local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255) - sext_i32_i64(skip_threads_97302)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_97303) {\n                                int64_t defunc_0_op_res_97298 = add64(eta_p_97296, eta_p_97297);\n                                \n                                eta_p_97296 = defunc_0_op_res_97298;\n          ", "                  }\n                        }\n                        if (sle32(wave_sizze_97257, skip_threads_97302)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_97303) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)] = eta_p_97296;\n                                eta_p_97297 = eta_p_97296;\n                            }\n                        }\n                        if (sle32(wave_sizze_97257, skip_threads_97302)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_97302 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_97304 = squot32(local_tid_97255, 32) == 0 || !ltid_in_bounds_97299;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_97304) {\n                        eta_p_97293 = eta_p_97292;\n                        eta_p_97292 = ((__local int64_t *) local_mem_97262)[sext_i32_i64(squot32(local_tid_97255, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_97304) {\n                        int64_t defunc_0_op_res_97294 = add64(eta_p_97292, eta_p_97293);\n                        \n                        eta_p_97292 = defunc_0_op_res_97294;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_97304) {\n                        ((__local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)] = eta_p_97292;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL", "_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_97255, 32) == 0 && ltid_in_bounds_97299) {\n                    ((__local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)] = eta_p_97293;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97255 == 0) {\n                acc_97295 = ((__local int64_t *) local_mem_97262)[segscan_tblock_sizze_74590 - (int64_t) 1];\n            } else {\n                acc_97295 = ((__local int64_t *) local_mem_97262)[sext_i32_i64(local_tid_97255) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_97305 = (int64_t) 0;\n        block_new_sgm_97306 = sgm_idx_97274 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_97306 && local_tid_97255 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_97250)[dynamic_id_97272] = acc_97295;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_97246)[dynamic_id_97272] = (int8_t) 2;\n                acc_97295 = (int64_t) 0;\n            }\n            if (!block_new_sgm_97306 && slt32(local_tid_97255, wave_sizze_97257)) {\n                if (local_tid_97255 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_97248)[dynamic_id_97272] = acc_97295;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_97246)[dynamic_id_97272] = (int8_t) 1;\n                    \n                    int8_t tmp_97307 = ((volatile __global int8_t *) status_flags_mem_97246)[dynamic_id_97272 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_97262)[(int64_t) 0] = tmp_97307;\n                }\n                mem_fence_local();\n                \n                int8_t status_97308 = ((__local int8_t *) local_mem_972",
                                    "62)[(int64_t) 0];\n                \n                if (status_97308 == (int8_t) 2) {\n                    if (local_tid_97255 == 0) {\n                        prefix_97305 = ((volatile __global int64_t *) incprefixes_mem_97250)[dynamic_id_97272 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_97309 = sext_i64_i32(dynamic_id_97272 - sext_i32_i64(wave_sizze_97257));\n                    \n                    while (slt32(wave_sizze_97257 * -1, readOffset_97309)) {\n                        int32_t read_i_97310 = readOffset_97309 + local_tid_97255;\n                        int64_t aggr_97311 = (int64_t) 0;\n                        int8_t flag_97312 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_97310)) {\n                            flag_97312 = ((volatile __global int8_t *) status_flags_mem_97246)[sext_i32_i64(read_i_97310)];\n                            if (flag_97312 == (int8_t) 2) {\n                                aggr_97311 = ((volatile __global int64_t *) incprefixes_mem_97250)[sext_i32_i64(read_i_97310)];\n                            } else if (flag_97312 == (int8_t) 1) {\n                                aggr_97311 = ((volatile __global int64_t *) aggregates_mem_97248)[sext_i32_i64(read_i_97310)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_97262)[(int64_t) 4 + sext_i32_i64(local_tid_97255)] = aggr_97311;\n                        ((__local int8_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)] = flag_97312;\n                        flag_97312 = ((__local int8_t *) local_mem_97262)[sext_i32_i64(wave_sizze_97257) - (int64_t) 1];\n                        if (slt8(flag_97312, (int8_t) 2)) {\n                            int8_t flg_x_97316;\n                            int8_t flg_y_97317;\n                            int64_t eta_p_97313;\n                            int64_t eta_p_97314;\n                            int32_t skip_thr", "eads_97318;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_97317 = ((volatile __local int8_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)];\n                                eta_p_97314 = ((volatile __local int64_t *) local_mem_97262)[(int64_t) 4 + sext_i32_i64(local_tid_97255)];\n                                if ((local_tid_97255 - squot32(local_tid_97255, 32) * 32) == 0) {\n                                    eta_p_97313 = eta_p_97314;\n                                    flg_x_97316 = flg_y_97317;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_97318 = 1;\n                                while (slt32(skip_threads_97318, 32)) {\n                                    if (sle32(skip_threads_97318, local_tid_97255 - squot32(local_tid_97255, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_97316 = ((volatile __local int8_t *) local_mem_97262)[sext_i32_i64(local_tid_97255) - sext_i32_i64(skip_threads_97318)];\n                                            eta_p_97313 = ((volatile __local int64_t *) local_mem_97262)[(int64_t) 4 + (sext_i32_i64(local_tid_97255) - sext_i32_i64(skip_threads_97318))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_97317 == (int8_t) 2 || flg_y_97317 == (int8_t) 0) {\n                                                flg_x_97316 = flg_y_97317;\n                                                eta_p_97313 = eta_p_97314;\n                                            } else {\n                                                in", "t64_t defunc_0_op_res_97315 = add64(eta_p_97313, eta_p_97314);\n                                                \n                                                eta_p_97313 = defunc_0_op_res_97315;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_97262)[sext_i32_i64(local_tid_97255)] = flg_x_97316;\n                                            flg_y_97317 = flg_x_97316;\n                                            ((volatile __local int64_t *) local_mem_97262)[(int64_t) 4 + sext_i32_i64(local_tid_97255)] = eta_p_97313;\n                                            eta_p_97314 = eta_p_97313;\n                                        }\n                                    }\n                                    skip_threads_97318 *= 2;\n                                }\n                            }\n                        }\n                        flag_97312 = ((__local int8_t *) local_mem_97262)[sext_i32_i64(wave_sizze_97257) - (int64_t) 1];\n                        aggr_97311 = ((__local int64_t *) local_mem_97262)[(int64_t) 4 + (sext_i32_i64(wave_sizze_97257) - (int64_t) 1)];\n                        if (flag_97312 == (int8_t) 2) {\n                            readOffset_97309 = wave_sizze_97257 * -1;\n                        } else if (flag_97312 == (int8_t) 1) {\n                            readOffset_97309 -= wave_sizze_97257;\n                        }\n                        if (slt8((int8_t) 0, flag_97312)) {\n                            int64_t eta_p_97319 = aggr_97311;\n                            int64_t eta_p_97320 = prefix_97305;\n                            int64_t defunc_0_op_res_97321 = add64(eta_p_97319, eta_p_97320);\n                            \n                            prefix_97305 = defunc_0_op_res_97321;\n                        }\n                 ",
                                    "       mem_fence_local();\n                    }\n                }\n                if (local_tid_97255 == 0) {\n                    if (boundary_97275 == sext_i64_i32(segscan_tblock_sizze_74590 * chunk_sizze_97243)) {\n                        int64_t eta_p_97322 = prefix_97305;\n                        int64_t eta_p_97323 = acc_97295;\n                        int64_t defunc_0_op_res_97324 = add64(eta_p_97322, eta_p_97323);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_97250)[dynamic_id_97272] = defunc_0_op_res_97324;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_97246)[dynamic_id_97272] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_97262)[(int64_t) 4] = prefix_97305;\n                    acc_97295 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_97272 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_97305 = ((__local int64_t *) local_mem_97262)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_97325;\n            int64_t eta_p_97326;\n            int64_t eta_p_97328 = prefix_97305;\n            int64_t eta_p_97329 = acc_97295;\n            \n            if (slt32(local_tid_97255 * chunk_sizze_32b_97259, boundary_97275) && !block_new_sgm_97306) {\n                int64_t defunc_0_op_res_97330 = add64(eta_p_97328, eta_p_97329);\n                \n                eta_p_97325 = defunc_0_op_res_97330;\n            } else {\n                eta_p_97325 = acc_97295;\n            }\n            \n            int32_t stopping_point_97331 = segsizze_compact_97276 - srem32(local_tid_97255 * chunk_sizze_32b_97259 - 1 + segsizze_compact_97276 - boundary_97275, segsizze_compact_97276);\n            \n            for (int64_t i_97332 = 0; i_97332 < chunk_sizze_97243; i_97332++) {\n ", "               if (slt32(sext_i64_i32(i_97332), stopping_point_97331 - 1)) {\n                    eta_p_97326 = private_mem_97277[i_97332];\n                    \n                    int64_t defunc_0_op_res_97327 = add64(eta_p_97325, eta_p_97326);\n                    \n                    private_mem_97277[i_97332] = defunc_0_op_res_97327;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_97333 = 0; i_97333 < chunk_sizze_97243; i_97333++) {\n                int64_t sharedIdx_97334 = sext_i32_i64(local_tid_97255) * chunk_sizze_97243 + i_97333;\n                int64_t tmp_97335 = private_mem_97277[i_97333];\n                \n                ((__local int64_t *) local_mem_97262)[sharedIdx_97334] = tmp_97335;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_97336 = 0; i_97336 < chunk_sizze_97243; i_97336++) {\n                int64_t flat_idx_97337 = thd_offset_97279 + i_97336 * segscan_tblock_sizze_74590;\n                int64_t slice_97338 = total_part_no_51500;\n                int64_t gtid_74594 = flat_idx_97337;\n                int64_t remnant_97339 = flat_idx_97337 - gtid_74594;\n                \n                if (slt64(flat_idx_97337, total_part_no_51500)) {\n                    int64_t tmp_97340 = ((__local int64_t *) local_mem_97262)[flat_idx_97337 - block_offset_97273];\n                    \n                    ((__global int64_t *) mem_92491)[gtid_74594] = tmp_97340;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_74590\n    #undef chunk_sizze_97243\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_70609_dim1, 1, 1)\nvoid define_skyline_space_doublezisegmap_70609(__global int *global_failure, int64_t dim_30775, __global unsigned char *mem_91599, __global unsigned char *mem_91615)\n{\n    #define segmap_tblock_sizze_706", "05 (define_skyline_space_doublezisegmap_70609zisegmap_tblock_sizze_70605)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96419;\n    int32_t tblock_sizze_96422;\n    int32_t wave_sizze_96421;\n    int32_t block_id_96420;\n    int32_t global_tid_96418;\n    int64_t phys_tid_70609;\n    int64_t global_tid_96423;\n    int64_t slice_96424;\n    int64_t gtid_70608;\n    int64_t remnant_96425;\n    \n    local_tid_96419 = get_local_id(0);\n    tblock_sizze_96422 = get_local_size(0);\n    wave_sizze_96421 = LOCKSTEP_WIDTH;\n    block_id_96420 = get_tblock_id(0);\n    global_tid_96418 = block_id_96420 * tblock_sizze_96422 + local_tid_96419;\n    phys_tid_70609 = sext_i32_i64(global_tid_96418);\n    global_tid_96423 = sext_i32_i64(block_id_96420) * segmap_tblock_sizze_70605 + sext_i32_i64(local_tid_96419);\n    slice_96424 = dim_30775;\n    gtid_70608 = global_tid_96423;\n    remnant_96425 = global_tid_96423 - gtid_70608;\n    if (slt64(gtid_70608, dim_30775)) {\n        int64_t zv_lhs_70611;\n        int64_t tmp_70612;\n        bool cond_70614;\n        int64_t lifted_lambda_res_70615;\n        \n        zv_lhs_70611 = add64((int64_t) -1, gtid_70608);\n        tmp_70612 = smod64(zv_lhs_70611, dim_30775);\n        cond_70614 = gtid_70608 == (int64_t) 0;\n        if (cond_70614) {\n            lifted_lambda_res_70615 = (int64_t) 1;\n        } else {\n            int64_t lifted_lambda_res_70613 = ((__global int64_t *) mem_91599)[tmp_70612];\n            \n            lifted_lambda_res_70615 = lifted_lambda_res_70613;\n        }\n        ((__global int64_t *) mem_91615)[gtid_70608] = lifted_lambda_res_70615;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_70605\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_70635_dim1, 1, 1)\nvoid define_skyline_space_doublezisegmap_70635(__global int *global_failure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, __global unsigned char *mem_91608, __global unsigned char *mem_91618)\n{\n    #define segmap_tblock_sizze_70631 (defi",
                                    "ne_skyline_space_doublezisegmap_70635zisegmap_tblock_sizze_70631)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96428;\n    int32_t tblock_sizze_96431;\n    int32_t wave_sizze_96430;\n    int32_t block_id_96429;\n    int32_t global_tid_96427;\n    int64_t phys_tid_70635;\n    int64_t global_tid_96432;\n    int64_t slice_96433;\n    int64_t gtid_70634;\n    int64_t remnant_96434;\n    \n    local_tid_96428 = get_local_id(0);\n    tblock_sizze_96431 = get_local_size(0);\n    wave_sizze_96430 = LOCKSTEP_WIDTH;\n    block_id_96429 = get_tblock_id(0);\n    global_tid_96427 = block_id_96429 * tblock_sizze_96431 + local_tid_96428;\n    phys_tid_70635 = sext_i32_i64(global_tid_96427);\n    global_tid_96432 = sext_i32_i64(block_id_96429) * segmap_tblock_sizze_70631 + sext_i32_i64(local_tid_96428);\n    slice_96433 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776;\n    gtid_70634 = global_tid_96432;\n    remnant_96434 = global_tid_96432 - gtid_70634;\n    if (slt64(gtid_70634, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776)) {\n        int64_t zv_lhs_70637;\n        int64_t tmp_70638;\n        bool cond_70640;\n        int64_t lifted_lambda_res_70641;\n        \n        zv_lhs_70637 = add64((int64_t) -1, gtid_70634);\n        tmp_70638 = smod64(zv_lhs_70637, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776);\n        cond_70640 = gtid_70634 == (int64_t) 0;\n        if (cond_70640) {\n            lifted_lambda_res_70641 = (int64_t) 1;\n        } else {\n            int64_t lifted_lambda_res_70639 = ((__global int64_t *) mem_91608)[tmp_70638];\n            \n            lifted_lambda_res_70641 = lifted_lambda_res_70639;\n        }\n        ((__global int64_t *) mem_91618)[gtid_70634] = lifted_lambda_res_70641;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_70631\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegmap_70722_dim1, 1, 1)\nvoid define_skyline_space_doublezisegmap_70722(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_30775, in", "t64_t defunc_res_67320, __global unsigned char *min_per_dim_mem_91593, __global unsigned char *grid_partitions_per_dim_mem_91595, __global unsigned char *mem_91603, __global unsigned char *mem_91615, __global unsigned char *mem_91622)\n{\n    #define segmap_tblock_sizze_70717 (define_skyline_space_doublezisegmap_70722zisegmap_tblock_sizze_70717)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96437;\n    int32_t tblock_sizze_96440;\n    int32_t wave_sizze_96439;\n    int32_t block_id_96438;\n    int32_t global_tid_96436;\n    int64_t phys_tid_70722;\n    int64_t global_tid_96441;\n    int64_t slice_96442;\n    int64_t slice_96443;\n    int64_t gtid_70720;\n    int64_t remnant_96444;\n    int64_t gtid_70721;\n    int64_t remnant_96445;\n    \n    local_tid_96437 = get_local_id(0);\n    tblock_sizze_96440 = get_local_size(0);\n    wave_sizze_96439 = LOCKSTEP_WIDTH;\n    block_id_96438 = get_tblock_id(0);\n    global_tid_96436 = block_id_96438 * tblock_sizze_96440 + local_tid_96437;\n    phys_tid_70722 = sext_i32_i64(global_tid_96436);\n    global_tid_96441 = sext_i32_i64(block_id_96438) * segmap_tblock_sizze_70717 + sext_i32_i64(local_tid_96437);\n    slice_96442 = dim_30775;\n    slice_96443 = defunc_res_67320 * slice_96442;\n    gtid_70720 = squot64(global_tid_96441, slice_96442);\n    remnant_96444 = global_tid_96441 - gtid_70720 * slice_96442;\n    gtid_70721 = remnant_96444;\n    remnant_96445 = remnant_96444 - gtid_70721;\n    if (slt64(gtid_70720, defunc_res_67320) && slt64(gtid_70721, dim_30775)) {\n        int64_t perDim_70729;\n        int64_t preDim_70730;\n        bool zzero_70731;\n        bool nonzzero_70732;\n        bool nonzzero_cert_70733;\n        bool zzero_70735;\n        bool nonzzero_70736;\n        bool nonzzero_cert_70737;\n        int64_t zv_lhs_70734;\n        int64_t dzlz7bUskOpzifrom_i64z7dUzg_arg0_70738;\n        double i64_res_70739;\n        double dzlz7bUZLskOpzitimesZRz7dUzg_arg1_70740;\n        double defunc_0_times_res_70741;\n        double dzlz7bUZ", "LskOpziplusZRz7dUzg_arg0_70742;\n        double defunc_0_plus_res_70743;\n        \n        perDim_70729 = ((__global int64_t *) grid_partitions_per_dim_mem_91595)[gtid_70721];\n        preDim_70730 = ((__global int64_t *) mem_91615)[gtid_70721];\n        zzero_70731 = preDim_70730 == (int64_t) 0;\n        nonzzero_70732 = !zzero_70731;\n        if (!nonzzero_70732) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 60) == -1) {\n                    ;\n                }\n                return;\n            }\n        }\n        zzero_70735 = perDim_70729 == (int64_t) 0;\n        nonzzero_70736 = !zzero_70735;\n        if (!nonzzero_70736) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 61) == -1) {\n                    ;\n                }\n                return;\n            }\n        }\n        zv_lhs_70734 = sdiv64(gtid_70720, preDim_70730);\n        dzlz7bUskOpzifrom_i64z7dUzg_arg0_70738 = smod64(zv_lhs_70734, perDim_70729);\n        i64_res_70739 = sitofp_i64_f64(dzlz7bUskOpzifrom_i64z7dUzg_arg0_70738);\n        dzlz7bUZLskOpzitimesZRz7dUzg_arg1_70740 = ((__global double *) mem_91603)[gtid_70721];\n        defunc_0_times_res_70741 = i64_res_70739 * dzlz7bUZLskOpzitimesZRz7dUzg_arg1_70740;\n        dzlz7bUZLskOpziplusZRz7dUzg_arg0_70742 = ((__global double *) min_per_dim_mem_91593)[gtid_70721];\n        defunc_0_plus_res_70743 = defunc_0_times_res_70741 + dzlz7bUZLskOpziplusZRz7dUzg_arg0_70742;\n        ((__global double *) mem_91622)[gtid_70720 * dim_30775 + gtid_70721] = defunc_0_plus_res_70743;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_70717\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegred_nonseg_70569_dim1, 1, 1)\nvoid define_skyline_space_doublezisegred_nonseg_70569(__global int *global_failure, int64_t dim_30775, int64_t num_tblocks_70564, int64_t num_threads_96250, __global unsigned char *mem_91601, __global unsigned char *mem_91605, __global unsigned char *counters_mem_96246, __globa",
                                    "l unsigned char *segred_tmp_mem_96248)\n{\n    #define segred_tblock_sizze_70562 (define_skyline_space_doublezisegred_nonseg_70569zisegred_tblock_sizze_70562)\n    #define chunk_sizze_96245 (define_skyline_space_doublezisegred_nonseg_70569zichunk_sizze_96245)\n    \n    volatile __local unsigned char *sync_arr_mem_96258_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_96258_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_96256_backing_0 = &shared_mem[sync_arr_mem_96258_backing_1_offset];\n    const int64_t red_arr_i64_mem_96256_backing_0_offset = sync_arr_mem_96258_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_70562 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_70562, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96252;\n    int32_t tblock_sizze_96255;\n    int32_t wave_sizze_96254;\n    int32_t block_id_96253;\n    int32_t global_tid_96251;\n    int64_t phys_tid_70569;\n    __local unsigned char *red_arr_i64_mem_96256;\n    __local unsigned char *sync_arr_mem_96258;\n    int64_t dummy_70567;\n    int64_t gtid_70568;\n    int64_t q_96260;\n    int64_t eta_p_block_res_acc_96261;\n    int64_t eta_p_67135;\n    int64_t eta_p_67136;\n    int64_t tblock_id_in_segment_96265;\n    int64_t block_base_offset_96266;\n    int32_t offset_96269;\n    int32_t skip_waves_96270;\n    int64_t eta_p_96262;\n    int64_t eta_p_96263;\n    int32_t old_counter_96271;\n    bool is_last_block_96272;\n    \n    local_tid_96252 = get_local_id(0);\n    tblock_sizze_96255 = get_local_size(0);\n    wave_sizze_96254 = LOCKSTEP_WIDTH;\n    block_id_96253 = get_tblock_id(0);\n    global_tid_96251 = block_id_96253 * tblock_sizze_96255 + local_tid_96252;\n    phys_tid_70569 = sext_i32_i64(global_tid_96251);\n    red_arr_i64_mem_96256 = (__local unsigned char *) red_arr_i64_mem_96256_backing_0;\n    sync_arr_mem_96258 = (__local unsigned char *) sync_arr_mem_96258_backing_1;\n    dummy_70567 = (int64_t) 0;\n    g", "tid_70568 = (int64_t) 0;\n    q_96260 = sdiv_up64(dim_30775, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_70562 * num_tblocks_70564)) * chunk_sizze_96245);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_96261 = (int64_t) 1;\n    }\n    tblock_id_in_segment_96265 = squot64(phys_tid_70569, segred_tblock_sizze_70562);\n    block_base_offset_96266 = tblock_id_in_segment_96265 * q_96260 * segred_tblock_sizze_70562;\n    for (int64_t i_96267 = 0; i_96267 < q_96260; i_96267++) {\n        int64_t block_offset_96268 = block_base_offset_96266 + i_96267 * segred_tblock_sizze_70562;\n        \n        gtid_70568 = phys_tid_70569 + num_threads_96250 * i_96267;\n        if (slt64(gtid_70568, dim_30775)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_70551 = ((__global int64_t *) mem_91601)[gtid_70568];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_67135 = eta_p_block_res_acc_96261;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_67136 = x_70551;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t zt_res_67137 = mul64(eta_p_67135, eta_p_67136);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_96261 = zt_res_67137;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252)] = eta_p_block_res_acc_96261;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_96270 = 1;\n    offset_96269 = 0;\n    // participating threads re", "ad initial accumulator\n    {\n        if (slt32(local_tid_96252, sext_i64_i32(segred_tblock_sizze_70562))) {\n            eta_p_96262 = ((__local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252 + offset_96269)];\n        }\n    }\n    offset_96269 = 1;\n    while (slt32(offset_96269, wave_sizze_96254)) {\n        if (slt32(local_tid_96252 + offset_96269, sext_i64_i32(segred_tblock_sizze_70562)) && ((local_tid_96252 - squot32(local_tid_96252, wave_sizze_96254) * wave_sizze_96254) & (2 * offset_96269 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_96263 = ((volatile __local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252 + offset_96269)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_96264 = mul64(eta_p_96262, eta_p_96263);\n                \n                eta_p_96262 = zt_res_96264;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252)] = eta_p_96262;\n            }\n        }\n        offset_96269 *= 2;\n    }\n    while (slt32(skip_waves_96270, squot32(sext_i64_i32(segred_tblock_sizze_70562) + wave_sizze_96254 - 1, wave_sizze_96254))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_96269 = skip_waves_96270 * wave_sizze_96254;\n        if (slt32(local_tid_96252 + offset_96269, sext_i64_i32(segred_tblock_sizze_70562)) && ((local_tid_96252 - squot32(local_tid_96252, wave_sizze_96254) * wave_sizze_96254) == 0 && (squot32(local_tid_96252, wave_sizze_96254) & (2 * skip_waves_96270 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_96263 = ((__local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252 + offset_96269)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_96264 = mul64(eta_p_96262, eta_p_96263);\n                \n                eta_p_96262 = z",
                                    "t_res_96264;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252)] = eta_p_96262;\n            }\n        }\n        skip_waves_96270 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_96252) == (int64_t) 0) {\n            eta_p_block_res_acc_96261 = eta_p_96262;\n        } else {\n            eta_p_block_res_acc_96261 = (int64_t) 1;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_96252 == 0) {\n            ((__global int64_t *) segred_tmp_mem_96248)[sext_i32_i64(block_id_96253)] = eta_p_block_res_acc_96261;\n            mem_fence_global();\n            old_counter_96271 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96246)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_96258)[(int64_t) 0] = old_counter_96271 == sext_i64_i32(num_tblocks_70564 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_96272 = ((__local bool *) sync_arr_mem_96258)[(int64_t) 0];\n    if (is_last_block_96272) {\n        if (local_tid_96252 == 0) {\n            old_counter_96271 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96246)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_70564));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_96273 = sdiv_up64(num_tblocks_70564, segred_tblock_sizze_70562);\n            \n            eta_p_67135 = (int64_t) 1;\n            for (int64_t i_96274 = 0; i_96274 < read_per_thread_96273; i_96274++) {\n                int64_t block_res_id_96275 = sext_i32_i64(local_tid_96252) * read_per_thread_96273 + i_96274;\n                int64_t index_of_block_res_96276 = block_res_id_96275;\n                \n                if (sl", "t64(block_res_id_96275, num_tblocks_70564)) {\n                    eta_p_67136 = ((__global int64_t *) segred_tmp_mem_96248)[index_of_block_res_96276];\n                    \n                    int64_t zt_res_67137 = mul64(eta_p_67135, eta_p_67136);\n                    \n                    eta_p_67135 = zt_res_67137;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252)] = eta_p_67135;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_96277;\n            int32_t skip_waves_96278 = 1;\n            int64_t eta_p_96262;\n            int64_t eta_p_96263;\n            \n            offset_96277 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_96252, sext_i64_i32(segred_tblock_sizze_70562))) {\n                    eta_p_96262 = ((__local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252 + offset_96277)];\n                }\n            }\n            offset_96277 = 1;\n            while (slt32(offset_96277, wave_sizze_96254)) {\n                if (slt32(local_tid_96252 + offset_96277, sext_i64_i32(segred_tblock_sizze_70562)) && ((local_tid_96252 - squot32(local_tid_96252, wave_sizze_96254) * wave_sizze_96254) & (2 * offset_96277 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_96263 = ((volatile __local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252 + offset_96277)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_96264 = mul64(eta_p_96262, eta_p_96263);\n                        \n                        eta_p_96262 = zt_res_96264;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_", "tid_96252)] = eta_p_96262;\n                    }\n                }\n                offset_96277 *= 2;\n            }\n            while (slt32(skip_waves_96278, squot32(sext_i64_i32(segred_tblock_sizze_70562) + wave_sizze_96254 - 1, wave_sizze_96254))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_96277 = skip_waves_96278 * wave_sizze_96254;\n                if (slt32(local_tid_96252 + offset_96277, sext_i64_i32(segred_tblock_sizze_70562)) && ((local_tid_96252 - squot32(local_tid_96252, wave_sizze_96254) * wave_sizze_96254) == 0 && (squot32(local_tid_96252, wave_sizze_96254) & (2 * skip_waves_96278 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_96263 = ((__local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252 + offset_96277)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_96264 = mul64(eta_p_96262, eta_p_96263);\n                        \n                        eta_p_96262 = zt_res_96264;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_96256)[sext_i32_i64(local_tid_96252)] = eta_p_96262;\n                    }\n                }\n                skip_waves_96278 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_96252 == 0) {\n                    ((__global int64_t *) mem_91605)[(int64_t) 0] = eta_p_96262;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_70562\n    #undef chunk_sizze_96245\n}\nFUTHARK_KERNEL_SIZED(define_skyline_space_doublezisegred_nonseg_70589_dim1, 1, 1)\nvoid define_skyline_space_doublezisegred_nonseg_70589(__global int *global_failure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, int64_t num_tblocks_",
                                    "70584, int64_t num_threads_96388, __global unsigned char *mem_91610, __global unsigned char *mem_91612, __global unsigned char *counters_mem_96384, __global unsigned char *segred_tmp_mem_96386)\n{\n    #define segred_tblock_sizze_70582 (define_skyline_space_doublezisegred_nonseg_70589zisegred_tblock_sizze_70582)\n    #define chunk_sizze_96383 (define_skyline_space_doublezisegred_nonseg_70589zichunk_sizze_96383)\n    \n    volatile __local unsigned char *sync_arr_mem_96396_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_96396_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_96394_backing_0 = &shared_mem[sync_arr_mem_96396_backing_1_offset];\n    const int64_t red_arr_i64_mem_96394_backing_0_offset = sync_arr_mem_96396_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_70582 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_70582, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96390;\n    int32_t tblock_sizze_96393;\n    int32_t wave_sizze_96392;\n    int32_t block_id_96391;\n    int32_t global_tid_96389;\n    int64_t phys_tid_70589;\n    __local unsigned char *red_arr_i64_mem_96394;\n    __local unsigned char *sync_arr_mem_96396;\n    int64_t dummy_70587;\n    int64_t gtid_70588;\n    int64_t q_96398;\n    int64_t eta_p_block_res_acc_96399;\n    int64_t eta_p_67142;\n    int64_t eta_p_67143;\n    int64_t tblock_id_in_segment_96403;\n    int64_t block_base_offset_96404;\n    int32_t offset_96407;\n    int32_t skip_waves_96408;\n    int64_t eta_p_96400;\n    int64_t eta_p_96401;\n    int32_t old_counter_96409;\n    bool is_last_block_96410;\n    \n    local_tid_96390 = get_local_id(0);\n    tblock_sizze_96393 = get_local_size(0);\n    wave_sizze_96392 = LOCKSTEP_WIDTH;\n    block_id_96391 = get_tblock_id(0);\n    global_tid_96389 = block_id_96391 * tblock_sizze_96393 + local_tid_96390;\n    phys_tid_70589 = sext_i32_i64(global_tid_96389);\n    red_arr_i64_mem_96394 = (__local unsigned cha", "r *) red_arr_i64_mem_96394_backing_0;\n    sync_arr_mem_96396 = (__local unsigned char *) sync_arr_mem_96396_backing_1;\n    dummy_70587 = (int64_t) 0;\n    gtid_70588 = (int64_t) 0;\n    q_96398 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_70582 * num_tblocks_70584)) * chunk_sizze_96383);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_96399 = (int64_t) 1;\n    }\n    tblock_id_in_segment_96403 = squot64(phys_tid_70589, segred_tblock_sizze_70582);\n    block_base_offset_96404 = tblock_id_in_segment_96403 * q_96398 * segred_tblock_sizze_70582;\n    for (int64_t i_96405 = 0; i_96405 < q_96398; i_96405++) {\n        int64_t block_offset_96406 = block_base_offset_96404 + i_96405 * segred_tblock_sizze_70582;\n        \n        gtid_70588 = phys_tid_70589 + num_threads_96388 * i_96405;\n        if (slt64(gtid_70588, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_70571 = ((__global int64_t *) mem_91610)[gtid_70588];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_67142 = eta_p_block_res_acc_96399;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_67143 = x_70571;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t zt_res_67144 = mul64(eta_p_67142, eta_p_67143);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_96399 = zt_res_67144;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local in", "t64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390)] = eta_p_block_res_acc_96399;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_96408 = 1;\n    offset_96407 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_96390, sext_i64_i32(segred_tblock_sizze_70582))) {\n            eta_p_96400 = ((__local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390 + offset_96407)];\n        }\n    }\n    offset_96407 = 1;\n    while (slt32(offset_96407, wave_sizze_96392)) {\n        if (slt32(local_tid_96390 + offset_96407, sext_i64_i32(segred_tblock_sizze_70582)) && ((local_tid_96390 - squot32(local_tid_96390, wave_sizze_96392) * wave_sizze_96392) & (2 * offset_96407 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_96401 = ((volatile __local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390 + offset_96407)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_96402 = mul64(eta_p_96400, eta_p_96401);\n                \n                eta_p_96400 = zt_res_96402;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390)] = eta_p_96400;\n            }\n        }\n        offset_96407 *= 2;\n    }\n    while (slt32(skip_waves_96408, squot32(sext_i64_i32(segred_tblock_sizze_70582) + wave_sizze_96392 - 1, wave_sizze_96392))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_96407 = skip_waves_96408 * wave_sizze_96392;\n        if (slt32(local_tid_96390 + offset_96407, sext_i64_i32(segred_tblock_sizze_70582)) && ((local_tid_96390 - squot32(local_tid_96390, wave_sizze_96392) * wave_sizze_96392) == 0 && (squot32(local_tid_96390, wave_sizze_96392) & (2 * skip_waves_96408 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_96401 = ((__local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96",
                                    "390 + offset_96407)];\n            }\n            // apply reduction operation\n            {\n                int64_t zt_res_96402 = mul64(eta_p_96400, eta_p_96401);\n                \n                eta_p_96400 = zt_res_96402;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390)] = eta_p_96400;\n            }\n        }\n        skip_waves_96408 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_96390) == (int64_t) 0) {\n            eta_p_block_res_acc_96399 = eta_p_96400;\n        } else {\n            eta_p_block_res_acc_96399 = (int64_t) 1;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_96390 == 0) {\n            ((__global int64_t *) segred_tmp_mem_96386)[sext_i32_i64(block_id_96391)] = eta_p_block_res_acc_96399;\n            mem_fence_global();\n            old_counter_96409 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96384)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_96396)[(int64_t) 0] = old_counter_96409 == sext_i64_i32(num_tblocks_70584 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_96410 = ((__local bool *) sync_arr_mem_96396)[(int64_t) 0];\n    if (is_last_block_96410) {\n        if (local_tid_96390 == 0) {\n            old_counter_96409 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96384)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_70584));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_96411 = sdiv_up64(num_tblocks_70584, segred_tblock_sizze_70582);\n            \n            eta_p_67142 = (int64_t) 1;\n            for (int64_t i_96412 = 0; i_96412 < read_per_thread_96411; i_96412++) {\n         ", "       int64_t block_res_id_96413 = sext_i32_i64(local_tid_96390) * read_per_thread_96411 + i_96412;\n                int64_t index_of_block_res_96414 = block_res_id_96413;\n                \n                if (slt64(block_res_id_96413, num_tblocks_70584)) {\n                    eta_p_67143 = ((__global int64_t *) segred_tmp_mem_96386)[index_of_block_res_96414];\n                    \n                    int64_t zt_res_67144 = mul64(eta_p_67142, eta_p_67143);\n                    \n                    eta_p_67142 = zt_res_67144;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390)] = eta_p_67142;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_96415;\n            int32_t skip_waves_96416 = 1;\n            int64_t eta_p_96400;\n            int64_t eta_p_96401;\n            \n            offset_96415 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_96390, sext_i64_i32(segred_tblock_sizze_70582))) {\n                    eta_p_96400 = ((__local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390 + offset_96415)];\n                }\n            }\n            offset_96415 = 1;\n            while (slt32(offset_96415, wave_sizze_96392)) {\n                if (slt32(local_tid_96390 + offset_96415, sext_i64_i32(segred_tblock_sizze_70582)) && ((local_tid_96390 - squot32(local_tid_96390, wave_sizze_96392) * wave_sizze_96392) & (2 * offset_96415 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_96401 = ((volatile __local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390 + offset_96415)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_96402 = mul64(eta_p_96400, eta_p_96401);\n                        \n                        eta_p_", "96400 = zt_res_96402;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390)] = eta_p_96400;\n                    }\n                }\n                offset_96415 *= 2;\n            }\n            while (slt32(skip_waves_96416, squot32(sext_i64_i32(segred_tblock_sizze_70582) + wave_sizze_96392 - 1, wave_sizze_96392))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_96415 = skip_waves_96416 * wave_sizze_96392;\n                if (slt32(local_tid_96390 + offset_96415, sext_i64_i32(segred_tblock_sizze_70582)) && ((local_tid_96390 - squot32(local_tid_96390, wave_sizze_96392) * wave_sizze_96392) == 0 && (squot32(local_tid_96390, wave_sizze_96392) & (2 * skip_waves_96416 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_96401 = ((__local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390 + offset_96415)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t zt_res_96402 = mul64(eta_p_96400, eta_p_96401);\n                        \n                        eta_p_96400 = zt_res_96402;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_96394)[sext_i32_i64(local_tid_96390)] = eta_p_96400;\n                    }\n                }\n                skip_waves_96416 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_96390 == 0) {\n                    ((__global int64_t *) mem_91612)[(int64_t) 0] = eta_p_96400;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_70582\n    #undef chunk_sizze_96383\n}\nFUTHARK_KERNEL_SIZED(d",
                                    "efine_skyline_space_doublezisegscan_70559_dim1, 1, 1)\nvoid define_skyline_space_doublezisegscan_70559(__global int *global_failure, int64_t dim_30775, int64_t num_tblocks_70556, int64_t num_virt_blocks_96107, int64_t num_virt_threads_96108, __global unsigned char *min_per_dim_mem_91593, __global unsigned char *max_per_dim_mem_91594, __global unsigned char *grid_partitions_per_dim_mem_91595, __global unsigned char *mem_91599, __global unsigned char *mem_91601, __global unsigned char *mem_91603, __global unsigned char *status_flags_mem_96109, __global unsigned char *aggregates_mem_96131, __global unsigned char *incprefixes_mem_96133, __global unsigned char *global_dynid_mem_96135)\n{\n    #define segscan_tblock_sizze_70554 (define_skyline_space_doublezisegscan_70559zisegscan_tblock_sizze_70554)\n    #define chunk_sizze_96106 (define_skyline_space_doublezisegscan_70559zichunk_sizze_96106)\n    \n    volatile __local unsigned char *local_mem_96165_backing_0 = &shared_mem[0];\n    const int64_t local_mem_96165_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_70554), chunk_sizze_96106 * segscan_tblock_sizze_70554 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_70554), chunk_sizze_96106 * segscan_tblock_sizze_70554 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96158;\n    int32_t tblock_sizze_96161;\n    int32_t wave_sizze_96160;\n    int32_t block_id_96159;\n    int32_t global_tid_96157;\n    int64_t phys_tid_70559;\n    int32_t chunk_sizze_32b_96162;\n    int64_t byte_offsets_96163;\n    int64_t warp_byte_offset_96164;\n    __local unsigned char *local_mem_96165;\n    int64_t trans_arr_len_96166;\n    int64_t phys_block_id_96172;\n    int64_t virtloop_bound_96173;\n    \n    local_tid_96158 = get_local_id(0);\n    tblock_sizze_96161 = get_local_size(0);\n    wave_sizze_96160 = LOCKSTEP_WIDTH;\n    block_id_96159 = get_t", "block_id(0);\n    global_tid_96157 = block_id_96159 * tblock_sizze_96161 + local_tid_96158;\n    phys_tid_70559 = sext_i32_i64(global_tid_96157);\n    chunk_sizze_32b_96162 = sext_i64_i32(chunk_sizze_96106);\n    byte_offsets_96163 = segscan_tblock_sizze_70554 * (int64_t) 8;\n    warp_byte_offset_96164 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_96165 = (__local unsigned char *) local_mem_96165_backing_0;\n    trans_arr_len_96166 = chunk_sizze_96106 * segscan_tblock_sizze_70554;\n    phys_block_id_96172 = get_tblock_id(0);\n    virtloop_bound_96173 = sdiv_up64(num_virt_blocks_96107 - phys_block_id_96172, num_tblocks_70556);\n    for (int64_t virtloop_i_96174 = 0; virtloop_i_96174 < virtloop_bound_96173; virtloop_i_96174++) {\n        int64_t dynamic_id_96175;\n        int64_t block_offset_96176;\n        int64_t sgm_idx_96177;\n        int32_t boundary_96178;\n        int32_t segsizze_compact_96179;\n        int64_t private_mem_96180[chunk_sizze_96106];\n        int64_t thd_offset_96182;\n        int64_t acc_96198;\n        int64_t prefix_96208;\n        bool block_new_sgm_96209;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_96158 == 0) {\n                dynamic_id_96175 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_96135)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_96165)[(int64_t) 0] = dynamic_id_96175;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_96175 == num_virt_blocks_96107 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_96135)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_96175 = ((__local int32_t *) local_mem_96165)[(int64_t) 0];\n    ", "    barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_96176 = dynamic_id_96175 * chunk_sizze_96106 * segscan_tblock_sizze_70554;\n        sgm_idx_96177 = smod64(block_offset_96176, dim_30775);\n        boundary_96178 = sext_i64_i32(smin64(chunk_sizze_96106 * segscan_tblock_sizze_70554, dim_30775 - sgm_idx_96177));\n        segsizze_compact_96179 = sext_i64_i32(smin64(chunk_sizze_96106 * segscan_tblock_sizze_70554, dim_30775));\n        thd_offset_96182 = block_offset_96176 + sext_i32_i64(local_tid_96158);\n        // Load and map\n        {\n            for (int64_t i_96183 = 0; i_96183 < chunk_sizze_96106; i_96183++) {\n                int64_t virt_tid_96184 = thd_offset_96182 + i_96183 * segscan_tblock_sizze_70554;\n                int64_t slice_96185 = dim_30775;\n                int64_t gtid_70558 = virt_tid_96184;\n                int64_t remnant_96186 = virt_tid_96184 - gtid_70558;\n                \n                if (slt64(virt_tid_96184, dim_30775)) {\n                    int64_t x_67303 = ((__global int64_t *) grid_partitions_per_dim_mem_91595)[gtid_70558];\n                    double eta_p_67304 = ((__global double *) min_per_dim_mem_91593)[gtid_70558];\n                    double eta_p_67305 = ((__global double *) max_per_dim_mem_91594)[gtid_70558];\n                    double i64_res_67308 = sitofp_i64_f64(x_67303);\n                    double defunc_0_minus_res_67310 = eta_p_67305 - eta_p_67304;\n                    double defunc_0_over_res_67311 = defunc_0_minus_res_67310 / i64_res_67308;\n                    \n                    ((__global int64_t *) mem_91601)[gtid_70558] = x_67303;\n                    ((__global double *) mem_91603)[gtid_70558] = defunc_0_over_res_67311;\n                    private_mem_96180[i_96183] = x_67303;\n                } else {\n                    private_mem_96180[i_96183] = (int64_t) 1;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_96187",
                                    " = 0; i_96187 < chunk_sizze_96106; i_96187++) {\n                int64_t sharedIdx_96188 = sext_i32_i64(local_tid_96158) + i_96187 * segscan_tblock_sizze_70554;\n                int64_t tmp_96189 = private_mem_96180[i_96187];\n                \n                ((__local int64_t *) local_mem_96165)[sharedIdx_96188] = tmp_96189;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96190 = 0; i_96190 < chunk_sizze_96106; i_96190++) {\n                int64_t sharedIdx_96191 = sext_i32_i64(local_tid_96158) * chunk_sizze_96106 + i_96190;\n                int64_t tmp_96192 = ((__local int64_t *) local_mem_96165)[sharedIdx_96191];\n                \n                private_mem_96180[i_96190] = tmp_96192;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_96193 = 0; i_96193 < chunk_sizze_96106 - (int64_t) 1; i_96193++) {\n                int64_t eta_p_57778;\n                int64_t eta_p_57779;\n                \n                eta_p_57778 = private_mem_96180[i_96193];\n                eta_p_57779 = private_mem_96180[i_96193 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_57780 = mul64(eta_p_57778, eta_p_57779);\n                \n                private_mem_96180[i_96193 + (int64_t) 1] = defunc_0_op_res_57780;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_96194 = private_mem_96180[chunk_sizze_96106 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)] = tmp_96194;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_96195;\n            int64_t eta_p_96196;\n            int64_t eta_p_96199;\n            int64_t eta_p_96200;\n            bool ltid_in_bounds_96202 = slt64(sext_i32_i64(local_tid_96158), num_virt_threads_96108);\n            int32_t skip_threads_96203;\n          ", "  \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_96202) {\n                    eta_p_96196 = ((volatile __local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)];\n                    if ((local_tid_96158 - squot32(local_tid_96158, 32) * 32) == 0) {\n                        eta_p_96195 = eta_p_96196;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_96203 = 1;\n                while (slt32(skip_threads_96203, 32)) {\n                    bool thread_active_96204 = sle32(skip_threads_96203, local_tid_96158 - squot32(local_tid_96158, 32) * 32) && ltid_in_bounds_96202;\n                    \n                    if (thread_active_96204) {\n                        // read operands\n                        {\n                            eta_p_96195 = ((volatile __local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158) - sext_i32_i64(skip_threads_96203)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_96204) {\n                            int64_t defunc_0_op_res_96197 = mul64(eta_p_96195, eta_p_96196);\n                            \n                            eta_p_96195 = defunc_0_op_res_96197;\n                        }\n                    }\n                    if (sle32(wave_sizze_96160, skip_threads_96203)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_96204) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)] = eta_p_96195;\n                            eta_p_96196 = eta_p_96195;\n                        }\n                    }\n                    if (sle32(wave_sizze_96160, skip_threads_96203)) {\n                        bar", "rier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_96203 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_96158 - squot32(local_tid_96158, 32) * 32) == 31 && ltid_in_bounds_96202) {\n                    ((volatile __local int64_t *) local_mem_96165)[sext_i32_i64(squot32(local_tid_96158, 32))] = eta_p_96195;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_96205;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_96158, 32) == 0 && ltid_in_bounds_96202) {\n                        eta_p_96200 = ((volatile __local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)];\n                        if ((local_tid_96158 - squot32(local_tid_96158, 32) * 32) == 0) {\n                            eta_p_96199 = eta_p_96200;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96205 = 1;\n                    while (slt32(skip_threads_96205, 32)) {\n                        bool thread_active_96206 = sle32(skip_threads_96205, local_tid_96158 - squot32(local_tid_96158, 32) * 32) && (squot32(local_tid_96158, 32) == 0 && ltid_in_bounds_96202);\n                        \n                        if (thread_active_96206) {\n                            // read operands\n                            {\n                                eta_p_96199 = ((volatile __local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158) - sext_i32_i64(skip_threads_96205)];\n                            }\n                        }\n                        // perform operation",
                                    "\n                        {\n                            if (thread_active_96206) {\n                                int64_t defunc_0_op_res_96201 = mul64(eta_p_96199, eta_p_96200);\n                                \n                                eta_p_96199 = defunc_0_op_res_96201;\n                            }\n                        }\n                        if (sle32(wave_sizze_96160, skip_threads_96205)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_96206) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)] = eta_p_96199;\n                                eta_p_96200 = eta_p_96199;\n                            }\n                        }\n                        if (sle32(wave_sizze_96160, skip_threads_96205)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96205 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_96207 = squot32(local_tid_96158, 32) == 0 || !ltid_in_bounds_96202;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_96207) {\n                        eta_p_96196 = eta_p_96195;\n                        eta_p_96195 = ((__local int64_t *) local_mem_96165)[sext_i32_i64(squot32(local_tid_96158, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_96207) {\n                        int64_t defunc_0_op_res_96197 = mul64(eta_p_96195, eta_p_96196);\n                        \n                        eta_p_96195 = defunc_0_op_res_96197;\n                    }\n                }\n  ", "              // write final result\n                {\n                    if (!no_carry_in_96207) {\n                        ((__local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)] = eta_p_96195;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_96158, 32) == 0 && ltid_in_bounds_96202) {\n                    ((__local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)] = eta_p_96196;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96158 == 0) {\n                acc_96198 = ((__local int64_t *) local_mem_96165)[segscan_tblock_sizze_70554 - (int64_t) 1];\n            } else {\n                acc_96198 = ((__local int64_t *) local_mem_96165)[sext_i32_i64(local_tid_96158) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_96208 = (int64_t) 1;\n        block_new_sgm_96209 = sgm_idx_96177 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_96209 && local_tid_96158 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_96133)[dynamic_id_96175] = acc_96198;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_96109)[dynamic_id_96175] = (int8_t) 2;\n                acc_96198 = (int64_t) 1;\n            }\n            if (!block_new_sgm_96209 && slt32(local_tid_96158, wave_sizze_96160)) {\n                if (local_tid_96158 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_96131)[dynamic_id_96175] = acc_96198;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_96109)[dynamic_id_96175] = (int8_t) 1;\n                    \n                    int8_t tmp_96210 = ((volatile __global int8_t *) status_flags_mem_961", "09)[dynamic_id_96175 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_96165)[(int64_t) 0] = tmp_96210;\n                }\n                mem_fence_local();\n                \n                int8_t status_96211 = ((__local int8_t *) local_mem_96165)[(int64_t) 0];\n                \n                if (status_96211 == (int8_t) 2) {\n                    if (local_tid_96158 == 0) {\n                        prefix_96208 = ((volatile __global int64_t *) incprefixes_mem_96133)[dynamic_id_96175 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_96212 = sext_i64_i32(dynamic_id_96175 - sext_i32_i64(wave_sizze_96160));\n                    \n                    while (slt32(wave_sizze_96160 * -1, readOffset_96212)) {\n                        int32_t read_i_96213 = readOffset_96212 + local_tid_96158;\n                        int64_t aggr_96214 = (int64_t) 1;\n                        int8_t flag_96215 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_96213)) {\n                            flag_96215 = ((volatile __global int8_t *) status_flags_mem_96109)[sext_i32_i64(read_i_96213)];\n                            if (flag_96215 == (int8_t) 2) {\n                                aggr_96214 = ((volatile __global int64_t *) incprefixes_mem_96133)[sext_i32_i64(read_i_96213)];\n                            } else if (flag_96215 == (int8_t) 1) {\n                                aggr_96214 = ((volatile __global int64_t *) aggregates_mem_96131)[sext_i32_i64(read_i_96213)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_96165)[(int64_t) 4 + sext_i32_i64(local_tid_96158)] = aggr_96214;\n                        ((__local int8_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)] = flag_96215;\n                        flag_96215 = ((__local int8_t *) local_mem_96165)[sext_i32_i64(wave_sizze_96160) - (int64_t) 1];\n       ",
                                    "                 if (slt8(flag_96215, (int8_t) 2)) {\n                            int8_t flg_x_96219;\n                            int8_t flg_y_96220;\n                            int64_t eta_p_96216;\n                            int64_t eta_p_96217;\n                            int32_t skip_threads_96221;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_96220 = ((volatile __local int8_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)];\n                                eta_p_96217 = ((volatile __local int64_t *) local_mem_96165)[(int64_t) 4 + sext_i32_i64(local_tid_96158)];\n                                if ((local_tid_96158 - squot32(local_tid_96158, 32) * 32) == 0) {\n                                    eta_p_96216 = eta_p_96217;\n                                    flg_x_96219 = flg_y_96220;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_96221 = 1;\n                                while (slt32(skip_threads_96221, 32)) {\n                                    if (sle32(skip_threads_96221, local_tid_96158 - squot32(local_tid_96158, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_96219 = ((volatile __local int8_t *) local_mem_96165)[sext_i32_i64(local_tid_96158) - sext_i32_i64(skip_threads_96221)];\n                                            eta_p_96216 = ((volatile __local int64_t *) local_mem_96165)[(int64_t) 4 + (sext_i32_i64(local_tid_96158) - sext_i32_i64(skip_threads_96221))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_96220 == (int8", "_t) 2 || flg_y_96220 == (int8_t) 0) {\n                                                flg_x_96219 = flg_y_96220;\n                                                eta_p_96216 = eta_p_96217;\n                                            } else {\n                                                int64_t defunc_0_op_res_96218 = mul64(eta_p_96216, eta_p_96217);\n                                                \n                                                eta_p_96216 = defunc_0_op_res_96218;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_96165)[sext_i32_i64(local_tid_96158)] = flg_x_96219;\n                                            flg_y_96220 = flg_x_96219;\n                                            ((volatile __local int64_t *) local_mem_96165)[(int64_t) 4 + sext_i32_i64(local_tid_96158)] = eta_p_96216;\n                                            eta_p_96217 = eta_p_96216;\n                                        }\n                                    }\n                                    skip_threads_96221 *= 2;\n                                }\n                            }\n                        }\n                        flag_96215 = ((__local int8_t *) local_mem_96165)[sext_i32_i64(wave_sizze_96160) - (int64_t) 1];\n                        aggr_96214 = ((__local int64_t *) local_mem_96165)[(int64_t) 4 + (sext_i32_i64(wave_sizze_96160) - (int64_t) 1)];\n                        if (flag_96215 == (int8_t) 2) {\n                            readOffset_96212 = wave_sizze_96160 * -1;\n                        } else if (flag_96215 == (int8_t) 1) {\n                            readOffset_96212 -= wave_sizze_96160;\n                        }\n                        if (slt8((int8_t) 0, flag_96215)) {\n                            int64_t eta_p_96222 = aggr_96214;\n    ", "                        int64_t eta_p_96223 = prefix_96208;\n                            int64_t defunc_0_op_res_96224 = mul64(eta_p_96222, eta_p_96223);\n                            \n                            prefix_96208 = defunc_0_op_res_96224;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_96158 == 0) {\n                    if (boundary_96178 == sext_i64_i32(segscan_tblock_sizze_70554 * chunk_sizze_96106)) {\n                        int64_t eta_p_96225 = prefix_96208;\n                        int64_t eta_p_96226 = acc_96198;\n                        int64_t defunc_0_op_res_96227 = mul64(eta_p_96225, eta_p_96226);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_96133)[dynamic_id_96175] = defunc_0_op_res_96227;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_96109)[dynamic_id_96175] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_96165)[(int64_t) 4] = prefix_96208;\n                    acc_96198 = (int64_t) 1;\n                }\n            }\n            if (!(dynamic_id_96175 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_96208 = ((__local int64_t *) local_mem_96165)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_96228;\n            int64_t eta_p_96229;\n            int64_t eta_p_96231 = prefix_96208;\n            int64_t eta_p_96232 = acc_96198;\n            \n            if (slt32(local_tid_96158 * chunk_sizze_32b_96162, boundary_96178) && !block_new_sgm_96209) {\n                int64_t defunc_0_op_res_96233 = mul64(eta_p_96231, eta_p_96232);\n                \n                eta_p_96228 = defunc_0_op_res_96233;\n            } else {\n                eta_p_96228 = acc_96198;\n            }\n   ",
                                    "         \n            int32_t stopping_point_96234 = segsizze_compact_96179 - srem32(local_tid_96158 * chunk_sizze_32b_96162 - 1 + segsizze_compact_96179 - boundary_96178, segsizze_compact_96179);\n            \n            for (int64_t i_96235 = 0; i_96235 < chunk_sizze_96106; i_96235++) {\n                if (slt32(sext_i64_i32(i_96235), stopping_point_96234 - 1)) {\n                    eta_p_96229 = private_mem_96180[i_96235];\n                    \n                    int64_t defunc_0_op_res_96230 = mul64(eta_p_96228, eta_p_96229);\n                    \n                    private_mem_96180[i_96235] = defunc_0_op_res_96230;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_96236 = 0; i_96236 < chunk_sizze_96106; i_96236++) {\n                int64_t sharedIdx_96237 = sext_i32_i64(local_tid_96158) * chunk_sizze_96106 + i_96236;\n                int64_t tmp_96238 = private_mem_96180[i_96236];\n                \n                ((__local int64_t *) local_mem_96165)[sharedIdx_96237] = tmp_96238;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96239 = 0; i_96239 < chunk_sizze_96106; i_96239++) {\n                int64_t flat_idx_96240 = thd_offset_96182 + i_96239 * segscan_tblock_sizze_70554;\n                int64_t slice_96241 = dim_30775;\n                int64_t gtid_70558 = flat_idx_96240;\n                int64_t remnant_96242 = flat_idx_96240 - gtid_70558;\n                \n                if (slt64(flat_idx_96240, dim_30775)) {\n                    int64_t tmp_96243 = ((__local int64_t *) local_mem_96165)[flat_idx_96240 - block_offset_96176];\n                    \n                    ((__global int64_t *) mem_91599)[gtid_70558] = tmp_96243;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_70554\n    #undef chunk_sizze_96106\n}\nFUTHARK", "_KERNEL_SIZED(define_skyline_space_doublezisegscan_70579_dim1, 1, 1)\nvoid define_skyline_space_doublezisegscan_70579(__global int *global_failure, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, int64_t num_tblocks_70576, int64_t num_virt_blocks_96285, int64_t num_virt_threads_96286, __global unsigned char *angle_partitions_per_dim_mem_91596, __global unsigned char *mem_91608, __global unsigned char *mem_91610, __global unsigned char *status_flags_mem_96287, __global unsigned char *aggregates_mem_96289, __global unsigned char *incprefixes_mem_96291, __global unsigned char *global_dynid_mem_96293)\n{\n    #define segscan_tblock_sizze_70574 (define_skyline_space_doublezisegscan_70579zisegscan_tblock_sizze_70574)\n    #define chunk_sizze_96284 (define_skyline_space_doublezisegscan_70579zichunk_sizze_96284)\n    \n    volatile __local unsigned char *local_mem_96303_backing_0 = &shared_mem[0];\n    const int64_t local_mem_96303_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_70574), chunk_sizze_96284 * segscan_tblock_sizze_70574 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_70574), chunk_sizze_96284 * segscan_tblock_sizze_70574 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96296;\n    int32_t tblock_sizze_96299;\n    int32_t wave_sizze_96298;\n    int32_t block_id_96297;\n    int32_t global_tid_96295;\n    int64_t phys_tid_70579;\n    int32_t chunk_sizze_32b_96300;\n    int64_t byte_offsets_96301;\n    int64_t warp_byte_offset_96302;\n    __local unsigned char *local_mem_96303;\n    int64_t trans_arr_len_96304;\n    int64_t phys_block_id_96310;\n    int64_t virtloop_bound_96311;\n    \n    local_tid_96296 = get_local_id(0);\n    tblock_sizze_96299 = get_local_size(0);\n    wave_sizze_96298 = LOCKSTEP_WIDTH;\n    block_id_96297 = get_tblock_id(0);\n    global_tid_96295 = block_id_96297 * tblock_sizze_96299 + local_tid_9", "6296;\n    phys_tid_70579 = sext_i32_i64(global_tid_96295);\n    chunk_sizze_32b_96300 = sext_i64_i32(chunk_sizze_96284);\n    byte_offsets_96301 = segscan_tblock_sizze_70574 * (int64_t) 8;\n    warp_byte_offset_96302 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_96303 = (__local unsigned char *) local_mem_96303_backing_0;\n    trans_arr_len_96304 = chunk_sizze_96284 * segscan_tblock_sizze_70574;\n    phys_block_id_96310 = get_tblock_id(0);\n    virtloop_bound_96311 = sdiv_up64(num_virt_blocks_96285 - phys_block_id_96310, num_tblocks_70576);\n    for (int64_t virtloop_i_96312 = 0; virtloop_i_96312 < virtloop_bound_96311; virtloop_i_96312++) {\n        int64_t dynamic_id_96313;\n        int64_t block_offset_96314;\n        int64_t sgm_idx_96315;\n        int32_t boundary_96316;\n        int32_t segsizze_compact_96317;\n        int64_t private_mem_96318[chunk_sizze_96284];\n        int64_t thd_offset_96320;\n        int64_t acc_96336;\n        int64_t prefix_96346;\n        bool block_new_sgm_96347;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_96296 == 0) {\n                dynamic_id_96313 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_96293)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_96303)[(int64_t) 0] = dynamic_id_96313;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_96313 == num_virt_blocks_96285 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_96293)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_96313 = ((__local int32_t *) local_mem_96303)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_96314 = dynamic_id_96313 * chu",
                                    "nk_sizze_96284 * segscan_tblock_sizze_70574;\n        sgm_idx_96315 = smod64(block_offset_96314, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776);\n        boundary_96316 = sext_i64_i32(smin64(chunk_sizze_96284 * segscan_tblock_sizze_70574, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776 - sgm_idx_96315));\n        segsizze_compact_96317 = sext_i64_i32(smin64(chunk_sizze_96284 * segscan_tblock_sizze_70574, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776));\n        thd_offset_96320 = block_offset_96314 + sext_i32_i64(local_tid_96296);\n        // Load and map\n        {\n            for (int64_t i_96321 = 0; i_96321 < chunk_sizze_96284; i_96321++) {\n                int64_t virt_tid_96322 = thd_offset_96320 + i_96321 * segscan_tblock_sizze_70574;\n                int64_t slice_96323 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776;\n                int64_t gtid_70578 = virt_tid_96322;\n                int64_t remnant_96324 = virt_tid_96322 - gtid_70578;\n                \n                if (slt64(virt_tid_96322, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776)) {\n                    int64_t x_67315 = ((__global int64_t *) angle_partitions_per_dim_mem_91596)[gtid_70578];\n                    \n                    ((__global int64_t *) mem_91610)[gtid_70578] = x_67315;\n                    private_mem_96318[i_96321] = x_67315;\n                } else {\n                    private_mem_96318[i_96321] = (int64_t) 1;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_96325 = 0; i_96325 < chunk_sizze_96284; i_96325++) {\n                int64_t sharedIdx_96326 = sext_i32_i64(local_tid_96296) + i_96325 * segscan_tblock_sizze_70574;\n                int64_t tmp_96327 = private_mem_96318[i_96325];\n                \n                ((__local int64_t *) local_mem_96303)[sharedIdx_96326] = tmp_96327;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96328 = 0; i_96328 < chunk_sizze_96284; i_96328++) {\n              ", "  int64_t sharedIdx_96329 = sext_i32_i64(local_tid_96296) * chunk_sizze_96284 + i_96328;\n                int64_t tmp_96330 = ((__local int64_t *) local_mem_96303)[sharedIdx_96329];\n                \n                private_mem_96318[i_96328] = tmp_96330;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_96331 = 0; i_96331 < chunk_sizze_96284 - (int64_t) 1; i_96331++) {\n                int64_t eta_p_57794;\n                int64_t eta_p_57795;\n                \n                eta_p_57794 = private_mem_96318[i_96331];\n                eta_p_57795 = private_mem_96318[i_96331 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_57796 = mul64(eta_p_57794, eta_p_57795);\n                \n                private_mem_96318[i_96331 + (int64_t) 1] = defunc_0_op_res_57796;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_96332 = private_mem_96318[chunk_sizze_96284 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)] = tmp_96332;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_96333;\n            int64_t eta_p_96334;\n            int64_t eta_p_96337;\n            int64_t eta_p_96338;\n            bool ltid_in_bounds_96340 = slt64(sext_i32_i64(local_tid_96296), num_virt_threads_96286);\n            int32_t skip_threads_96341;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_96340) {\n                    eta_p_96334 = ((volatile __local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)];\n                    if ((local_tid_96296 - squot32(local_tid_96296, 32) * 32) == 0) {\n                        eta_p_96333 = eta_p_96334;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n      ", "      {\n                skip_threads_96341 = 1;\n                while (slt32(skip_threads_96341, 32)) {\n                    bool thread_active_96342 = sle32(skip_threads_96341, local_tid_96296 - squot32(local_tid_96296, 32) * 32) && ltid_in_bounds_96340;\n                    \n                    if (thread_active_96342) {\n                        // read operands\n                        {\n                            eta_p_96333 = ((volatile __local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296) - sext_i32_i64(skip_threads_96341)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_96342) {\n                            int64_t defunc_0_op_res_96335 = mul64(eta_p_96333, eta_p_96334);\n                            \n                            eta_p_96333 = defunc_0_op_res_96335;\n                        }\n                    }\n                    if (sle32(wave_sizze_96298, skip_threads_96341)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_96342) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)] = eta_p_96333;\n                            eta_p_96334 = eta_p_96333;\n                        }\n                    }\n                    if (sle32(wave_sizze_96298, skip_threads_96341)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_96341 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_96296 - squot32(local_tid_96296, 32) * 32) == 31 && ltid_in_bounds_96340) {\n                    ((volatile __local int64_t *) local_mem_96303)[sext_i32_i64(squot32(local_tid_96296, 32))] = e",
                                    "ta_p_96333;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_96343;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_96296, 32) == 0 && ltid_in_bounds_96340) {\n                        eta_p_96338 = ((volatile __local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)];\n                        if ((local_tid_96296 - squot32(local_tid_96296, 32) * 32) == 0) {\n                            eta_p_96337 = eta_p_96338;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_96343 = 1;\n                    while (slt32(skip_threads_96343, 32)) {\n                        bool thread_active_96344 = sle32(skip_threads_96343, local_tid_96296 - squot32(local_tid_96296, 32) * 32) && (squot32(local_tid_96296, 32) == 0 && ltid_in_bounds_96340);\n                        \n                        if (thread_active_96344) {\n                            // read operands\n                            {\n                                eta_p_96337 = ((volatile __local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296) - sext_i32_i64(skip_threads_96343)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_96344) {\n                                int64_t defunc_0_op_res_96339 = mul64(eta_p_96337, eta_p_96338);\n                                \n                                eta_p_96337 = defunc_0_op_res_96339;\n                            }\n                        }\n                        if (sle32(wave_sizze_96298, skip_threads_96343)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n     ", "                   }\n                        if (thread_active_96344) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)] = eta_p_96337;\n                                eta_p_96338 = eta_p_96337;\n                            }\n                        }\n                        if (sle32(wave_sizze_96298, skip_threads_96343)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_96343 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_96345 = squot32(local_tid_96296, 32) == 0 || !ltid_in_bounds_96340;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_96345) {\n                        eta_p_96334 = eta_p_96333;\n                        eta_p_96333 = ((__local int64_t *) local_mem_96303)[sext_i32_i64(squot32(local_tid_96296, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_96345) {\n                        int64_t defunc_0_op_res_96335 = mul64(eta_p_96333, eta_p_96334);\n                        \n                        eta_p_96333 = defunc_0_op_res_96335;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_96345) {\n                        ((__local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)] = eta_p_96333;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_96296, 32) == 0 && ltid_in_bounds_96340) {\n                    ((", "__local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)] = eta_p_96334;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96296 == 0) {\n                acc_96336 = ((__local int64_t *) local_mem_96303)[segscan_tblock_sizze_70574 - (int64_t) 1];\n            } else {\n                acc_96336 = ((__local int64_t *) local_mem_96303)[sext_i32_i64(local_tid_96296) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_96346 = (int64_t) 1;\n        block_new_sgm_96347 = sgm_idx_96315 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_96347 && local_tid_96296 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_96291)[dynamic_id_96313] = acc_96336;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_96287)[dynamic_id_96313] = (int8_t) 2;\n                acc_96336 = (int64_t) 1;\n            }\n            if (!block_new_sgm_96347 && slt32(local_tid_96296, wave_sizze_96298)) {\n                if (local_tid_96296 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_96289)[dynamic_id_96313] = acc_96336;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_96287)[dynamic_id_96313] = (int8_t) 1;\n                    \n                    int8_t tmp_96348 = ((volatile __global int8_t *) status_flags_mem_96287)[dynamic_id_96313 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_96303)[(int64_t) 0] = tmp_96348;\n                }\n                mem_fence_local();\n                \n                int8_t status_96349 = ((__local int8_t *) local_mem_96303)[(int64_t) 0];\n                \n                if (status_96349 == (int8_t) 2) {\n                    if (local_tid_96296 == 0) {\n                        prefix_96346 = ((volatile _",
                                    "_global int64_t *) incprefixes_mem_96291)[dynamic_id_96313 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_96350 = sext_i64_i32(dynamic_id_96313 - sext_i32_i64(wave_sizze_96298));\n                    \n                    while (slt32(wave_sizze_96298 * -1, readOffset_96350)) {\n                        int32_t read_i_96351 = readOffset_96350 + local_tid_96296;\n                        int64_t aggr_96352 = (int64_t) 1;\n                        int8_t flag_96353 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_96351)) {\n                            flag_96353 = ((volatile __global int8_t *) status_flags_mem_96287)[sext_i32_i64(read_i_96351)];\n                            if (flag_96353 == (int8_t) 2) {\n                                aggr_96352 = ((volatile __global int64_t *) incprefixes_mem_96291)[sext_i32_i64(read_i_96351)];\n                            } else if (flag_96353 == (int8_t) 1) {\n                                aggr_96352 = ((volatile __global int64_t *) aggregates_mem_96289)[sext_i32_i64(read_i_96351)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_96303)[(int64_t) 4 + sext_i32_i64(local_tid_96296)] = aggr_96352;\n                        ((__local int8_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)] = flag_96353;\n                        flag_96353 = ((__local int8_t *) local_mem_96303)[sext_i32_i64(wave_sizze_96298) - (int64_t) 1];\n                        if (slt8(flag_96353, (int8_t) 2)) {\n                            int8_t flg_x_96357;\n                            int8_t flg_y_96358;\n                            int64_t eta_p_96354;\n                            int64_t eta_p_96355;\n                            int32_t skip_threads_96359;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_96358 = ((volat", "ile __local int8_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)];\n                                eta_p_96355 = ((volatile __local int64_t *) local_mem_96303)[(int64_t) 4 + sext_i32_i64(local_tid_96296)];\n                                if ((local_tid_96296 - squot32(local_tid_96296, 32) * 32) == 0) {\n                                    eta_p_96354 = eta_p_96355;\n                                    flg_x_96357 = flg_y_96358;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_96359 = 1;\n                                while (slt32(skip_threads_96359, 32)) {\n                                    if (sle32(skip_threads_96359, local_tid_96296 - squot32(local_tid_96296, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_96357 = ((volatile __local int8_t *) local_mem_96303)[sext_i32_i64(local_tid_96296) - sext_i32_i64(skip_threads_96359)];\n                                            eta_p_96354 = ((volatile __local int64_t *) local_mem_96303)[(int64_t) 4 + (sext_i32_i64(local_tid_96296) - sext_i32_i64(skip_threads_96359))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_96358 == (int8_t) 2 || flg_y_96358 == (int8_t) 0) {\n                                                flg_x_96357 = flg_y_96358;\n                                                eta_p_96354 = eta_p_96355;\n                                            } else {\n                                                int64_t defunc_0_op_res_96356 = mul64(eta_p_96354, eta_p_96355);\n                                                \n                                                eta_p_96354 = defunc_0_o", "p_res_96356;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_96303)[sext_i32_i64(local_tid_96296)] = flg_x_96357;\n                                            flg_y_96358 = flg_x_96357;\n                                            ((volatile __local int64_t *) local_mem_96303)[(int64_t) 4 + sext_i32_i64(local_tid_96296)] = eta_p_96354;\n                                            eta_p_96355 = eta_p_96354;\n                                        }\n                                    }\n                                    skip_threads_96359 *= 2;\n                                }\n                            }\n                        }\n                        flag_96353 = ((__local int8_t *) local_mem_96303)[sext_i32_i64(wave_sizze_96298) - (int64_t) 1];\n                        aggr_96352 = ((__local int64_t *) local_mem_96303)[(int64_t) 4 + (sext_i32_i64(wave_sizze_96298) - (int64_t) 1)];\n                        if (flag_96353 == (int8_t) 2) {\n                            readOffset_96350 = wave_sizze_96298 * -1;\n                        } else if (flag_96353 == (int8_t) 1) {\n                            readOffset_96350 -= wave_sizze_96298;\n                        }\n                        if (slt8((int8_t) 0, flag_96353)) {\n                            int64_t eta_p_96360 = aggr_96352;\n                            int64_t eta_p_96361 = prefix_96346;\n                            int64_t defunc_0_op_res_96362 = mul64(eta_p_96360, eta_p_96361);\n                            \n                            prefix_96346 = defunc_0_op_res_96362;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_96296 == 0) {\n                    if (boundary_96316 == sext_i64_i32(segscan_tblock_sizz",
                                    "e_70574 * chunk_sizze_96284)) {\n                        int64_t eta_p_96363 = prefix_96346;\n                        int64_t eta_p_96364 = acc_96336;\n                        int64_t defunc_0_op_res_96365 = mul64(eta_p_96363, eta_p_96364);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_96291)[dynamic_id_96313] = defunc_0_op_res_96365;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_96287)[dynamic_id_96313] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_96303)[(int64_t) 4] = prefix_96346;\n                    acc_96336 = (int64_t) 1;\n                }\n            }\n            if (!(dynamic_id_96313 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_96346 = ((__local int64_t *) local_mem_96303)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_96366;\n            int64_t eta_p_96367;\n            int64_t eta_p_96369 = prefix_96346;\n            int64_t eta_p_96370 = acc_96336;\n            \n            if (slt32(local_tid_96296 * chunk_sizze_32b_96300, boundary_96316) && !block_new_sgm_96347) {\n                int64_t defunc_0_op_res_96371 = mul64(eta_p_96369, eta_p_96370);\n                \n                eta_p_96366 = defunc_0_op_res_96371;\n            } else {\n                eta_p_96366 = acc_96336;\n            }\n            \n            int32_t stopping_point_96372 = segsizze_compact_96317 - srem32(local_tid_96296 * chunk_sizze_32b_96300 - 1 + segsizze_compact_96317 - boundary_96316, segsizze_compact_96317);\n            \n            for (int64_t i_96373 = 0; i_96373 < chunk_sizze_96284; i_96373++) {\n                if (slt32(sext_i64_i32(i_96373), stopping_point_96372 - 1)) {\n                    eta_p_96367 = private_mem_96318[i_96373];\n                    \n                    int6", "4_t defunc_0_op_res_96368 = mul64(eta_p_96366, eta_p_96367);\n                    \n                    private_mem_96318[i_96373] = defunc_0_op_res_96368;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_96374 = 0; i_96374 < chunk_sizze_96284; i_96374++) {\n                int64_t sharedIdx_96375 = sext_i32_i64(local_tid_96296) * chunk_sizze_96284 + i_96374;\n                int64_t tmp_96376 = private_mem_96318[i_96374];\n                \n                ((__local int64_t *) local_mem_96303)[sharedIdx_96375] = tmp_96376;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_96377 = 0; i_96377 < chunk_sizze_96284; i_96377++) {\n                int64_t flat_idx_96378 = thd_offset_96320 + i_96377 * segscan_tblock_sizze_70574;\n                int64_t slice_96379 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776;\n                int64_t gtid_70578 = flat_idx_96378;\n                int64_t remnant_96380 = flat_idx_96378 - gtid_70578;\n                \n                if (slt64(flat_idx_96378, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776)) {\n                    int64_t tmp_96381 = ((__local int64_t *) local_mem_96303)[flat_idx_96378 - block_offset_96314];\n                    \n                    ((__global int64_t *) mem_91608)[gtid_70578] = tmp_96381;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_70574\n    #undef chunk_sizze_96284\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_96115_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_96115(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91603)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96117;\n    int32_t tblock_sizze_96120;\n    int32_t wave_sizze_96119;\n    int32_t block_id_96118;\n    int32_t glob", "al_tid_96116;\n    int64_t tid_96115;\n    int64_t x_91460;\n    \n    local_tid_96117 = get_local_id(0);\n    tblock_sizze_96120 = get_local_size(0);\n    wave_sizze_96119 = LOCKSTEP_WIDTH;\n    block_id_96118 = get_tblock_id(0);\n    global_tid_96116 = block_id_96118 * tblock_sizze_96120 + local_tid_96117;\n    tid_96115 = sext_i32_i64(global_tid_96116);\n    x_91460 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[(int64_t) 0];\n    ((__global int64_t *) mem_91603)[(int64_t) 0] = x_91460;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_96141_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_96141(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91606)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96143;\n    int32_t tblock_sizze_96146;\n    int32_t wave_sizze_96145;\n    int32_t block_id_96144;\n    int32_t global_tid_96142;\n    int64_t tid_96141;\n    int64_t x_91467;\n    \n    local_tid_96143 = get_local_id(0);\n    tblock_sizze_96146 = get_local_size(0);\n    wave_sizze_96145 = LOCKSTEP_WIDTH;\n    block_id_96144 = get_tblock_id(0);\n    global_tid_96142 = block_id_96144 * tblock_sizze_96146 + local_tid_96143;\n    tid_96141 = sext_i32_i64(global_tid_96142);\n    x_91467 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[(int64_t) 0];\n    ((__global int64_t *) mem_91606)[(int64_t) 0] = x_91467;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_96167_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_96167(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91609)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96169;\n    int32_t tblock_sizze_96172;\n    int32_t wave_sizze_96171;\n    int32_t block_id_96170;\n    int32_t global_tid_96168;\n    int64_t tid_96167;\n    int64_t x_91493;\n    \n    local_tid_96169 = get_local_i",
                                    "d(0);\n    tblock_sizze_96172 = get_local_size(0);\n    wave_sizze_96171 = LOCKSTEP_WIDTH;\n    block_id_96170 = get_tblock_id(0);\n    global_tid_96168 = block_id_96170 * tblock_sizze_96172 + local_tid_96169;\n    tid_96167 = sext_i32_i64(global_tid_96168);\n    x_91493 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[(int64_t) 0];\n    ((__global int64_t *) mem_91609)[(int64_t) 0] = x_91493;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_96236_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_96236(__global int *global_failure, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91628)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96238;\n    int32_t tblock_sizze_96241;\n    int32_t wave_sizze_96240;\n    int32_t block_id_96239;\n    int32_t global_tid_96237;\n    int64_t tid_96236;\n    int64_t x_91501;\n    \n    local_tid_96238 = get_local_id(0);\n    tblock_sizze_96241 = get_local_size(0);\n    wave_sizze_96240 = LOCKSTEP_WIDTH;\n    block_id_96239 = get_tblock_id(0);\n    global_tid_96237 = block_id_96239 * tblock_sizze_96241 + local_tid_96238;\n    tid_96236 = sext_i32_i64(global_tid_96237);\n    x_91501 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[(int64_t) 0];\n    ((__global int64_t *) mem_91628)[(int64_t) 0] = x_91501;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_96248_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_96248(__global int *global_failure, __global unsigned char *ext_mem_91604, __global unsigned char *ext_mem_91607, __global unsigned char *ext_mem_91610, __global unsigned char *ext_mem_91629, __global unsigned char *mem_91632, __global unsigned char *mem_91633, __global unsigned char *mem_91634, __global unsigned char *mem_91635)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96250;\n    int32_t tblock_sizze_96253;\n    int32_t wave_sizze_96252;\n    int32_t block_id_96251;\n    in", "t32_t global_tid_96249;\n    int64_t tid_96248;\n    int64_t zm_lhs_91464;\n    int64_t min_arg1_91465;\n    int64_t zm_lhs_91471;\n    int64_t min_arg1_91472;\n    int64_t zm_lhs_91497;\n    int64_t min_arg1_91498;\n    int64_t zm_lhs_91505;\n    int64_t min_arg1_91506;\n    \n    local_tid_96250 = get_local_id(0);\n    tblock_sizze_96253 = get_local_size(0);\n    wave_sizze_96252 = LOCKSTEP_WIDTH;\n    block_id_96251 = get_tblock_id(0);\n    global_tid_96249 = block_id_96251 * tblock_sizze_96253 + local_tid_96250;\n    tid_96248 = sext_i32_i64(global_tid_96249);\n    zm_lhs_91464 = ((__global int64_t *) ext_mem_91604)[(int64_t) 0];\n    min_arg1_91465 = sub64(zm_lhs_91464, (int64_t) 1);\n    zm_lhs_91471 = ((__global int64_t *) ext_mem_91607)[(int64_t) 0];\n    min_arg1_91472 = sub64(zm_lhs_91471, (int64_t) 1);\n    zm_lhs_91497 = ((__global int64_t *) ext_mem_91610)[(int64_t) 0];\n    min_arg1_91498 = sub64(zm_lhs_91497, (int64_t) 1);\n    zm_lhs_91505 = ((__global int64_t *) ext_mem_91629)[(int64_t) 0];\n    min_arg1_91506 = sub64(zm_lhs_91505, (int64_t) 1);\n    ((__global int64_t *) mem_91632)[(int64_t) 0] = min_arg1_91465;\n    ((__global int64_t *) mem_91633)[(int64_t) 0] = min_arg1_91472;\n    ((__global int64_t *) mem_91634)[(int64_t) 0] = min_arg1_91498;\n    ((__global int64_t *) mem_91635)[(int64_t) 0] = min_arg1_91506;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_96637_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_96637(__global int *global_failure, __global unsigned char *mem_93553, __global unsigned char *mem_93556, __global unsigned char *mem_93557, __global unsigned char *mem_93558)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96639;\n    int32_t tblock_sizze_96642;\n    int32_t wave_sizze_96641;\n    int32_t block_id_96640;\n    int32_t global_tid_96638;\n    int64_t tid_96637;\n    int64_t defunc_0_reduce_res_91476;\n    int64_t defunc_0_reduce_res_91478;\n    \n    local_tid_96639 = get_local_id(0);\n    tblock_s", "izze_96642 = get_local_size(0);\n    wave_sizze_96641 = LOCKSTEP_WIDTH;\n    block_id_96640 = get_tblock_id(0);\n    global_tid_96638 = block_id_96640 * tblock_sizze_96642 + local_tid_96639;\n    tid_96637 = sext_i32_i64(global_tid_96638);\n    defunc_0_reduce_res_91476 = ((__global int64_t *) mem_93553)[(int64_t) 0];\n    defunc_0_reduce_res_91478 = ((__global int64_t *) mem_93556)[(int64_t) 0];\n    ((__global int64_t *) mem_93557)[(int64_t) 0] = defunc_0_reduce_res_91476;\n    ((__global int64_t *) mem_93558)[(int64_t) 0] = defunc_0_reduce_res_91478;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezigpuseq_97587_dim1, 1, 1)\nvoid sort_for_Skyline_doublezigpuseq_97587(__global int *global_failure, __global unsigned char *mem_92071, __global unsigned char *mem_92072, __global unsigned char *mem_92075, __global unsigned char *mem_92076, __global unsigned char *mem_92077, __global unsigned char *mem_92078)\n{\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97589;\n    int32_t tblock_sizze_97592;\n    int32_t wave_sizze_97591;\n    int32_t block_id_97590;\n    int32_t global_tid_97588;\n    int64_t tid_97587;\n    int64_t defunc_0_reduce_res_91484;\n    double defunc_0_reduce_res_91486;\n    int64_t defunc_0_reduce_res_91488;\n    \n    local_tid_97589 = get_local_id(0);\n    tblock_sizze_97592 = get_local_size(0);\n    wave_sizze_97591 = LOCKSTEP_WIDTH;\n    block_id_97590 = get_tblock_id(0);\n    global_tid_97588 = block_id_97590 * tblock_sizze_97592 + local_tid_97589;\n    tid_97587 = sext_i32_i64(global_tid_97588);\n    defunc_0_reduce_res_91484 = ((__global int64_t *) mem_92071)[(int64_t) 0];\n    defunc_0_reduce_res_91486 = ((__global double *) mem_92072)[(int64_t) 0];\n    defunc_0_reduce_res_91488 = ((__global int64_t *) mem_92075)[(int64_t) 0];\n    ((__global int64_t *) mem_92076)[(int64_t) 0] = defunc_0_reduce_res_91484;\n    ((__global double *) mem_92077)[(int64_t) 0] = defunc_0_reduce_res_91486;\n    ((__global int64_t *) mem_92078)[(",
                                    "int64_t) 0] = defunc_0_reduce_res_91488;\n    \n  error_0:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96334(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_96333, int64_t virt_num_tblocks_96339, int64_t num_tblocks_96340, __global unsigned char *mem_93159, __global unsigned char *mem_93162)\n{\n    int32_t replicate_ltid_96335;\n    int32_t tblock_sizze_96337;\n    int32_t replicate_gid_96336;\n    int32_t replicate_gtid_96334;\n    int32_t phys_tblock_id_96341;\n    int32_t iterations_96342;\n    \n    replicate_ltid_96335 = get_local_id(0);\n    tblock_sizze_96337 = get_local_size(0);\n    replicate_gid_96336 = get_tblock_id(0);\n    replicate_gtid_96334 = replicate_gid_96336 * tblock_sizze_96337 + replicate_ltid_96335;\n    phys_tblock_id_96341 = get_tblock_id(0);\n    iterations_96342 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96339) - phys_tblock_id_96341, sext_i64_i32(num_tblocks_96340));\n    for (int32_t i_96343 = 0; i_96343 < iterations_96342; i_96343++) {\n        int32_t virt_tblock_id_96344;\n        int64_t global_tid_96345;\n        int64_t slice_96348;\n        int64_t slice_96349;\n        int64_t rep_i_96346;\n        int64_t remnant_96350;\n        int64_t rep_i_96347;\n        int64_t remnant_96351;\n        \n        virt_tblock_id_96344 = phys_tblock_id_96341 + i_96343 * sext_i64_i32(num_tblocks_96340);\n        global_tid_96345 = sext_i32_i64(virt_tblock_id_96344) * sext_i32_i64(tblock_sizze_96337) + sext_i32_i64(replicate_ltid_96335);\n        slice_96348 = n_45877;\n        slice_96349 = dim_45874 * slice_96348;\n        rep_i_96346 = squot64(global_tid_96345, slice_96348);\n        remnant_96350 = global_tid_96345 - rep_i_96346 * slice_96348;\n        rep_i_96347 = remnant_96350;\n        remnant_96351 = remnant_96350 - rep_i_96347;\n        if (slt64(global_tid_96345, replicate_n_96333)) {\n            int64_t tmp_96352 = ((__global int64_t *) mem_93159)[rep_i_96347];\n            \n            ((__global int64_t *) mem_93162)[rep_i_96346 * n_45", "877 + rep_i_96347] = tmp_96352;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96377(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_96376, int64_t virt_num_tblocks_96382, int64_t num_tblocks_96383, __global unsigned char *mem_93211, __global unsigned char *mem_93214)\n{\n    int32_t replicate_ltid_96378;\n    int32_t tblock_sizze_96380;\n    int32_t replicate_gid_96379;\n    int32_t replicate_gtid_96377;\n    int32_t phys_tblock_id_96384;\n    int32_t iterations_96385;\n    \n    replicate_ltid_96378 = get_local_id(0);\n    tblock_sizze_96380 = get_local_size(0);\n    replicate_gid_96379 = get_tblock_id(0);\n    replicate_gtid_96377 = replicate_gid_96379 * tblock_sizze_96380 + replicate_ltid_96378;\n    phys_tblock_id_96384 = get_tblock_id(0);\n    iterations_96385 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96382) - phys_tblock_id_96384, sext_i64_i32(num_tblocks_96383));\n    for (int32_t i_96386 = 0; i_96386 < iterations_96385; i_96386++) {\n        int32_t virt_tblock_id_96387;\n        int64_t global_tid_96388;\n        int64_t slice_96391;\n        int64_t slice_96392;\n        int64_t rep_i_96389;\n        int64_t remnant_96393;\n        int64_t rep_i_96390;\n        int64_t remnant_96394;\n        \n        virt_tblock_id_96387 = phys_tblock_id_96384 + i_96386 * sext_i64_i32(num_tblocks_96383);\n        global_tid_96388 = sext_i32_i64(virt_tblock_id_96387) * sext_i32_i64(tblock_sizze_96380) + sext_i32_i64(replicate_ltid_96378);\n        slice_96391 = n_45877;\n        slice_96392 = dim_45874 * slice_96391;\n        rep_i_96389 = squot64(global_tid_96388, slice_96391);\n        remnant_96393 = global_tid_96388 - rep_i_96389 * slice_96391;\n        rep_i_96390 = remnant_96393;\n        remnant_96394 = remnant_96393 - rep_i_96390;\n        if (slt64(global_tid_96388, replicate_n_96376)) {\n            int64_t tmp_96395 = ((__global int64_t *) mem_93211)[rep_i_96390];\n        ", "    \n            ((__global int64_t *) mem_93214)[rep_i_96389 * n_45877 + rep_i_96390] = tmp_96395;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96421(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_96420, int64_t virt_num_tblocks_96426, int64_t num_tblocks_96427, __global unsigned char *mem_93295, __global unsigned char *mem_93298)\n{\n    int32_t replicate_ltid_96422;\n    int32_t tblock_sizze_96424;\n    int32_t replicate_gid_96423;\n    int32_t replicate_gtid_96421;\n    int32_t phys_tblock_id_96428;\n    int32_t iterations_96429;\n    \n    replicate_ltid_96422 = get_local_id(0);\n    tblock_sizze_96424 = get_local_size(0);\n    replicate_gid_96423 = get_tblock_id(0);\n    replicate_gtid_96421 = replicate_gid_96423 * tblock_sizze_96424 + replicate_ltid_96422;\n    phys_tblock_id_96428 = get_tblock_id(0);\n    iterations_96429 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96426) - phys_tblock_id_96428, sext_i64_i32(num_tblocks_96427));\n    for (int32_t i_96430 = 0; i_96430 < iterations_96429; i_96430++) {\n        int32_t virt_tblock_id_96431;\n        int64_t global_tid_96432;\n        int64_t slice_96435;\n        int64_t slice_96436;\n        int64_t rep_i_96433;\n        int64_t remnant_96437;\n        int64_t rep_i_96434;\n        int64_t remnant_96438;\n        \n        virt_tblock_id_96431 = phys_tblock_id_96428 + i_96430 * sext_i64_i32(num_tblocks_96427);\n        global_tid_96432 = sext_i32_i64(virt_tblock_id_96431) * sext_i32_i64(tblock_sizze_96424) + sext_i32_i64(replicate_ltid_96422);\n        slice_96435 = n_45877;\n        slice_96436 = dim_45874 * slice_96435;\n        rep_i_96433 = squot64(global_tid_96432, slice_96435);\n        remnant_96437 = global_tid_96432 - rep_i_96433 * slice_96435;\n        rep_i_96434 = remnant_96437;\n        remnant_96438 = remnant_96437 - rep_i_96434;\n        if (slt64(global_tid_96432, replicate_n_96420)) {\n            int64_t",
                                    " tmp_96439 = ((__global int64_t *) mem_93295)[rep_i_96434];\n            \n            ((__global int64_t *) mem_93298)[rep_i_96433 * n_45877 + rep_i_96434] = tmp_96439;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96499(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_96498, int64_t virt_num_tblocks_96504, int64_t num_tblocks_96505, __global unsigned char *mem_93416, __global unsigned char *mem_93419)\n{\n    int32_t replicate_ltid_96500;\n    int32_t tblock_sizze_96502;\n    int32_t replicate_gid_96501;\n    int32_t replicate_gtid_96499;\n    int32_t phys_tblock_id_96506;\n    int32_t iterations_96507;\n    \n    replicate_ltid_96500 = get_local_id(0);\n    tblock_sizze_96502 = get_local_size(0);\n    replicate_gid_96501 = get_tblock_id(0);\n    replicate_gtid_96499 = replicate_gid_96501 * tblock_sizze_96502 + replicate_ltid_96500;\n    phys_tblock_id_96506 = get_tblock_id(0);\n    iterations_96507 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96504) - phys_tblock_id_96506, sext_i64_i32(num_tblocks_96505));\n    for (int32_t i_96508 = 0; i_96508 < iterations_96507; i_96508++) {\n        int32_t virt_tblock_id_96509;\n        int64_t global_tid_96510;\n        int64_t slice_96513;\n        int64_t slice_96514;\n        int64_t rep_i_96511;\n        int64_t remnant_96515;\n        int64_t rep_i_96512;\n        int64_t remnant_96516;\n        \n        virt_tblock_id_96509 = phys_tblock_id_96506 + i_96508 * sext_i64_i32(num_tblocks_96505);\n        global_tid_96510 = sext_i32_i64(virt_tblock_id_96509) * sext_i32_i64(tblock_sizze_96502) + sext_i32_i64(replicate_ltid_96500);\n        slice_96513 = n_45877;\n        slice_96514 = dim_45874 * slice_96513;\n        rep_i_96511 = squot64(global_tid_96510, slice_96513);\n        remnant_96515 = global_tid_96510 - rep_i_96511 * slice_96513;\n        rep_i_96512 = remnant_96515;\n        remnant_96516 = remnant_96515 - rep_i_96512;\n        i", "f (slt64(global_tid_96510, replicate_n_96498)) {\n            double tmp_96517 = ((__global double *) mem_93416)[rep_i_96512 * dim_45874];\n            \n            ((__global double *) mem_93419)[rep_i_96511 * n_45877 + rep_i_96512] = tmp_96517;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96887(int64_t next_stride_69779, int64_t num_merges_69783, int64_t replicate_n_96886, int64_t virt_num_tblocks_96892, int64_t num_tblocks_96893, __global unsigned char *ext_mem_94106, __global unsigned char *mem_94109)\n{\n    int32_t replicate_ltid_96888;\n    int32_t tblock_sizze_96890;\n    int32_t replicate_gid_96889;\n    int32_t replicate_gtid_96887;\n    int32_t phys_tblock_id_96894;\n    int32_t iterations_96895;\n    \n    replicate_ltid_96888 = get_local_id(0);\n    tblock_sizze_96890 = get_local_size(0);\n    replicate_gid_96889 = get_tblock_id(0);\n    replicate_gtid_96887 = replicate_gid_96889 * tblock_sizze_96890 + replicate_ltid_96888;\n    phys_tblock_id_96894 = get_tblock_id(0);\n    iterations_96895 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96892) - phys_tblock_id_96894, sext_i64_i32(num_tblocks_96893));\n    for (int32_t i_96896 = 0; i_96896 < iterations_96895; i_96896++) {\n        int32_t virt_tblock_id_96897;\n        int64_t global_tid_96898;\n        int64_t slice_96901;\n        int64_t slice_96902;\n        int64_t rep_i_96899;\n        int64_t remnant_96903;\n        int64_t rep_i_96900;\n        int64_t remnant_96904;\n        \n        virt_tblock_id_96897 = phys_tblock_id_96894 + i_96896 * sext_i64_i32(num_tblocks_96893);\n        global_tid_96898 = sext_i32_i64(virt_tblock_id_96897) * sext_i32_i64(tblock_sizze_96890) + sext_i32_i64(replicate_ltid_96888);\n        slice_96901 = num_merges_69783;\n        slice_96902 = next_stride_69779 * slice_96901;\n        rep_i_96899 = squot64(global_tid_96898, slice_96901);\n        remnant_96903 = global_tid_96898 - rep_i_96899", " * slice_96901;\n        rep_i_96900 = remnant_96903;\n        remnant_96904 = remnant_96903 - rep_i_96900;\n        if (slt64(global_tid_96898, replicate_n_96886)) {\n            int64_t tmp_96905 = ((__global int64_t *) ext_mem_94106)[rep_i_96900];\n            \n            ((__global int64_t *) mem_94109)[rep_i_96899 * num_merges_69783 + rep_i_96900] = tmp_96905;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96907(int64_t next_stride_69779, int64_t num_merges_69783, int64_t replicate_n_96906, int64_t virt_num_tblocks_96912, int64_t num_tblocks_96913, __global unsigned char *ext_mem_94104, __global unsigned char *mem_94112)\n{\n    int32_t replicate_ltid_96908;\n    int32_t tblock_sizze_96910;\n    int32_t replicate_gid_96909;\n    int32_t replicate_gtid_96907;\n    int32_t phys_tblock_id_96914;\n    int32_t iterations_96915;\n    \n    replicate_ltid_96908 = get_local_id(0);\n    tblock_sizze_96910 = get_local_size(0);\n    replicate_gid_96909 = get_tblock_id(0);\n    replicate_gtid_96907 = replicate_gid_96909 * tblock_sizze_96910 + replicate_ltid_96908;\n    phys_tblock_id_96914 = get_tblock_id(0);\n    iterations_96915 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96912) - phys_tblock_id_96914, sext_i64_i32(num_tblocks_96913));\n    for (int32_t i_96916 = 0; i_96916 < iterations_96915; i_96916++) {\n        int32_t virt_tblock_id_96917;\n        int64_t global_tid_96918;\n        int64_t slice_96921;\n        int64_t slice_96922;\n        int64_t rep_i_96919;\n        int64_t remnant_96923;\n        int64_t rep_i_96920;\n        int64_t remnant_96924;\n        \n        virt_tblock_id_96917 = phys_tblock_id_96914 + i_96916 * sext_i64_i32(num_tblocks_96913);\n        global_tid_96918 = sext_i32_i64(virt_tblock_id_96917) * sext_i32_i64(tblock_sizze_96910) + sext_i32_i64(replicate_ltid_96908);\n        slice_96921 = num_merges_69783;\n        slice_96922 = next_stride_69779 * slice_9692",
                                    "1;\n        rep_i_96919 = squot64(global_tid_96918, slice_96921);\n        remnant_96923 = global_tid_96918 - rep_i_96919 * slice_96921;\n        rep_i_96920 = remnant_96923;\n        remnant_96924 = remnant_96923 - rep_i_96920;\n        if (slt64(global_tid_96918, replicate_n_96906)) {\n            int64_t tmp_96925 = ((__global int64_t *) ext_mem_94104)[rep_i_96920];\n            \n            ((__global int64_t *) mem_94112)[rep_i_96919 * num_merges_69783 + rep_i_96920] = tmp_96925;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_96927(int64_t dim_45874, int64_t next_stride_69779, int64_t num_merges_69783, int64_t replicate_n_96926, int64_t virt_num_tblocks_96932, int64_t num_tblocks_96933, __global unsigned char *ext_mem_94105, __global unsigned char *mem_94116)\n{\n    int32_t replicate_ltid_96928;\n    int32_t tblock_sizze_96930;\n    int32_t replicate_gid_96929;\n    int32_t replicate_gtid_96927;\n    int32_t phys_tblock_id_96934;\n    int32_t iterations_96935;\n    \n    replicate_ltid_96928 = get_local_id(0);\n    tblock_sizze_96930 = get_local_size(0);\n    replicate_gid_96929 = get_tblock_id(0);\n    replicate_gtid_96927 = replicate_gid_96929 * tblock_sizze_96930 + replicate_ltid_96928;\n    phys_tblock_id_96934 = get_tblock_id(0);\n    iterations_96935 = sdiv_up32(sext_i64_i32(virt_num_tblocks_96932) - phys_tblock_id_96934, sext_i64_i32(num_tblocks_96933));\n    for (int32_t i_96936 = 0; i_96936 < iterations_96935; i_96936++) {\n        int32_t virt_tblock_id_96937;\n        int64_t global_tid_96938;\n        int64_t slice_96942;\n        int64_t slice_96943;\n        int64_t slice_96944;\n        int64_t rep_i_96939;\n        int64_t remnant_96945;\n        int64_t rep_i_96940;\n        int64_t remnant_96946;\n        int64_t rep_i_96941;\n        int64_t remnant_96947;\n        \n        virt_tblock_id_96937 = phys_tblock_id_96934 + i_96936 * sext_i64_i32(num_tblocks_96933);\n", "        global_tid_96938 = sext_i32_i64(virt_tblock_id_96937) * sext_i32_i64(tblock_sizze_96930) + sext_i32_i64(replicate_ltid_96928);\n        slice_96942 = num_merges_69783;\n        slice_96943 = dim_45874 * slice_96942;\n        slice_96944 = next_stride_69779 * slice_96943;\n        rep_i_96939 = squot64(global_tid_96938, slice_96943);\n        remnant_96945 = global_tid_96938 - rep_i_96939 * slice_96943;\n        rep_i_96940 = squot64(remnant_96945, slice_96942);\n        remnant_96946 = remnant_96945 - rep_i_96940 * slice_96942;\n        rep_i_96941 = remnant_96946;\n        remnant_96947 = remnant_96946 - rep_i_96941;\n        if (slt64(global_tid_96938, replicate_n_96926)) {\n            double tmp_96948 = ((__global double *) ext_mem_94105)[rep_i_96940 + rep_i_96941 * dim_45874];\n            \n            ((__global double *) mem_94116)[rep_i_96939 * (num_merges_69783 * dim_45874) + rep_i_96940 * num_merges_69783 + rep_i_96941] = tmp_96948;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97085(int64_t merge_block_sizze_65328, int64_t num_merges_69783, int64_t num_blocks_69798, int64_t replicate_n_97084, int64_t virt_num_tblocks_97090, int64_t num_tblocks_97091, __global unsigned char *mem_93770, __global unsigned char *mem_93808)\n{\n    int32_t replicate_ltid_97086;\n    int32_t tblock_sizze_97088;\n    int32_t replicate_gid_97087;\n    int32_t replicate_gtid_97085;\n    int32_t phys_tblock_id_97092;\n    int32_t iterations_97093;\n    \n    replicate_ltid_97086 = get_local_id(0);\n    tblock_sizze_97088 = get_local_size(0);\n    replicate_gid_97087 = get_tblock_id(0);\n    replicate_gtid_97085 = replicate_gid_97087 * tblock_sizze_97088 + replicate_ltid_97086;\n    phys_tblock_id_97092 = get_tblock_id(0);\n    iterations_97093 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97090) - phys_tblock_id_97092, sext_i64_i32(num_tblocks_97091));\n    for (int32_t i_97094 = 0; i_97094", " < iterations_97093; i_97094++) {\n        int32_t virt_tblock_id_97095;\n        int64_t global_tid_97096;\n        int64_t slice_97100;\n        int64_t slice_97101;\n        int64_t slice_97102;\n        int64_t rep_i_97097;\n        int64_t remnant_97103;\n        int64_t rep_i_97098;\n        int64_t remnant_97104;\n        int64_t rep_i_97099;\n        int64_t remnant_97105;\n        \n        virt_tblock_id_97095 = phys_tblock_id_97092 + i_97094 * sext_i64_i32(num_tblocks_97091);\n        global_tid_97096 = sext_i32_i64(virt_tblock_id_97095) * sext_i32_i64(tblock_sizze_97088) + sext_i32_i64(replicate_ltid_97086);\n        slice_97100 = num_blocks_69798;\n        slice_97101 = num_merges_69783 * slice_97100;\n        slice_97102 = merge_block_sizze_65328 * slice_97101;\n        rep_i_97097 = squot64(global_tid_97096, slice_97101);\n        remnant_97103 = global_tid_97096 - rep_i_97097 * slice_97101;\n        rep_i_97098 = squot64(remnant_97103, slice_97100);\n        remnant_97104 = remnant_97103 - rep_i_97098 * slice_97100;\n        rep_i_97099 = remnant_97104;\n        remnant_97105 = remnant_97104 - rep_i_97099;\n        if (slt64(global_tid_97096, replicate_n_97084)) {\n            int64_t tmp_97106 = ((__global int64_t *) mem_93770)[rep_i_97098 * num_blocks_69798 + rep_i_97099];\n            \n            ((__global int64_t *) mem_93808)[rep_i_97097 * (num_blocks_69798 * num_merges_69783) + rep_i_97098 * num_blocks_69798 + rep_i_97099] = tmp_97106;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97108(int64_t merge_block_sizze_65328, int64_t num_merges_69783, int64_t num_blocks_69798, int64_t replicate_n_97107, int64_t virt_num_tblocks_97113, int64_t num_tblocks_97114, __global unsigned char *mem_93773, __global unsigned char *mem_93812)\n{\n    int32_t replicate_ltid_97109;\n    int32_t tblock_sizze_97111;\n    int32_t replicate_gid_97110;\n    int32_t replicate_gtid_97108",
                                    ";\n    int32_t phys_tblock_id_97115;\n    int32_t iterations_97116;\n    \n    replicate_ltid_97109 = get_local_id(0);\n    tblock_sizze_97111 = get_local_size(0);\n    replicate_gid_97110 = get_tblock_id(0);\n    replicate_gtid_97108 = replicate_gid_97110 * tblock_sizze_97111 + replicate_ltid_97109;\n    phys_tblock_id_97115 = get_tblock_id(0);\n    iterations_97116 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97113) - phys_tblock_id_97115, sext_i64_i32(num_tblocks_97114));\n    for (int32_t i_97117 = 0; i_97117 < iterations_97116; i_97117++) {\n        int32_t virt_tblock_id_97118;\n        int64_t global_tid_97119;\n        int64_t slice_97123;\n        int64_t slice_97124;\n        int64_t slice_97125;\n        int64_t rep_i_97120;\n        int64_t remnant_97126;\n        int64_t rep_i_97121;\n        int64_t remnant_97127;\n        int64_t rep_i_97122;\n        int64_t remnant_97128;\n        \n        virt_tblock_id_97118 = phys_tblock_id_97115 + i_97117 * sext_i64_i32(num_tblocks_97114);\n        global_tid_97119 = sext_i32_i64(virt_tblock_id_97118) * sext_i32_i64(tblock_sizze_97111) + sext_i32_i64(replicate_ltid_97109);\n        slice_97123 = num_blocks_69798;\n        slice_97124 = num_merges_69783 * slice_97123;\n        slice_97125 = merge_block_sizze_65328 * slice_97124;\n        rep_i_97120 = squot64(global_tid_97119, slice_97124);\n        remnant_97126 = global_tid_97119 - rep_i_97120 * slice_97124;\n        rep_i_97121 = squot64(remnant_97126, slice_97123);\n        remnant_97127 = remnant_97126 - rep_i_97121 * slice_97123;\n        rep_i_97122 = remnant_97127;\n        remnant_97128 = remnant_97127 - rep_i_97122;\n        if (slt64(global_tid_97119, replicate_n_97107)) {\n            int64_t tmp_97129 = ((__global int64_t *) mem_93773)[rep_i_97121 * num_blocks_69798 + rep_i_97122];\n            \n            ((__global int64_t *) mem_93812)[rep_i_97120 * (num_blocks_69798 * num_merges_69783) + rep_i_97121 * num_blocks_69798 + rep_i_97122] = tmp_97129;\n        }\n        barrier(CLK_GLOBAL_", "MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97131(int64_t dim_45874, int64_t merge_block_sizze_65328, int64_t num_merges_69783, int64_t num_blocks_69798, int64_t replicate_n_97130, int64_t virt_num_tblocks_97136, int64_t num_tblocks_97137, __global unsigned char *mem_93790, __global unsigned char *mem_93817)\n{\n    int32_t replicate_ltid_97132;\n    int32_t tblock_sizze_97134;\n    int32_t replicate_gid_97133;\n    int32_t replicate_gtid_97131;\n    int32_t phys_tblock_id_97138;\n    int32_t iterations_97139;\n    \n    replicate_ltid_97132 = get_local_id(0);\n    tblock_sizze_97134 = get_local_size(0);\n    replicate_gid_97133 = get_tblock_id(0);\n    replicate_gtid_97131 = replicate_gid_97133 * tblock_sizze_97134 + replicate_ltid_97132;\n    phys_tblock_id_97138 = get_tblock_id(0);\n    iterations_97139 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97136) - phys_tblock_id_97138, sext_i64_i32(num_tblocks_97137));\n    for (int32_t i_97140 = 0; i_97140 < iterations_97139; i_97140++) {\n        int32_t virt_tblock_id_97141;\n        int64_t global_tid_97142;\n        int64_t slice_97147;\n        int64_t slice_97148;\n        int64_t slice_97149;\n        int64_t slice_97150;\n        int64_t rep_i_97143;\n        int64_t remnant_97151;\n        int64_t rep_i_97144;\n        int64_t remnant_97152;\n        int64_t rep_i_97145;\n        int64_t remnant_97153;\n        int64_t rep_i_97146;\n        int64_t remnant_97154;\n        \n        virt_tblock_id_97141 = phys_tblock_id_97138 + i_97140 * sext_i64_i32(num_tblocks_97137);\n        global_tid_97142 = sext_i32_i64(virt_tblock_id_97141) * sext_i32_i64(tblock_sizze_97134) + sext_i32_i64(replicate_ltid_97132);\n        slice_97147 = num_blocks_69798;\n        slice_97148 = num_merges_69783 * slice_97147;\n        slice_97149 = dim_45874 * slice_97148;\n        slice_97150 = merge_block_sizze_65328 * slice_97149;\n        rep_i_97143 = squot64(global_tid_97142, slice_97149);\n    ", "    remnant_97151 = global_tid_97142 - rep_i_97143 * slice_97149;\n        rep_i_97144 = squot64(remnant_97151, slice_97148);\n        remnant_97152 = remnant_97151 - rep_i_97144 * slice_97148;\n        rep_i_97145 = squot64(remnant_97152, slice_97147);\n        remnant_97153 = remnant_97152 - rep_i_97145 * slice_97147;\n        rep_i_97146 = remnant_97153;\n        remnant_97154 = remnant_97153 - rep_i_97146;\n        if (slt64(global_tid_97142, replicate_n_97130)) {\n            double tmp_97155 = ((__global double *) mem_93790)[rep_i_97144 * (num_blocks_69798 * num_merges_69783) + rep_i_97145 * num_blocks_69798 + rep_i_97146];\n            \n            ((__global double *) mem_93817)[rep_i_97143 * (num_blocks_69798 * num_merges_69783 * dim_45874) + rep_i_97144 * (num_blocks_69798 * num_merges_69783) + rep_i_97145 * num_blocks_69798 + rep_i_97146] = tmp_97155;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97249(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_97248, int64_t virt_num_tblocks_97254, int64_t num_tblocks_97255, __global unsigned char *mem_91659, __global unsigned char *mem_91662)\n{\n    int32_t replicate_ltid_97250;\n    int32_t tblock_sizze_97252;\n    int32_t replicate_gid_97251;\n    int32_t replicate_gtid_97249;\n    int32_t phys_tblock_id_97256;\n    int32_t iterations_97257;\n    \n    replicate_ltid_97250 = get_local_id(0);\n    tblock_sizze_97252 = get_local_size(0);\n    replicate_gid_97251 = get_tblock_id(0);\n    replicate_gtid_97249 = replicate_gid_97251 * tblock_sizze_97252 + replicate_ltid_97250;\n    phys_tblock_id_97256 = get_tblock_id(0);\n    iterations_97257 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97254) - phys_tblock_id_97256, sext_i64_i32(num_tblocks_97255));\n    for (int32_t i_97258 = 0; i_97258 < iterations_97257; i_97258++) {\n        int32_t virt_tblock_id_97259;\n        int64_t global_tid_97260;\n        int64_t slice_97263;\n ",
                                    "       int64_t slice_97264;\n        int64_t rep_i_97261;\n        int64_t remnant_97265;\n        int64_t rep_i_97262;\n        int64_t remnant_97266;\n        \n        virt_tblock_id_97259 = phys_tblock_id_97256 + i_97258 * sext_i64_i32(num_tblocks_97255);\n        global_tid_97260 = sext_i32_i64(virt_tblock_id_97259) * sext_i32_i64(tblock_sizze_97252) + sext_i32_i64(replicate_ltid_97250);\n        slice_97263 = n_45877;\n        slice_97264 = dim_45874 * slice_97263;\n        rep_i_97261 = squot64(global_tid_97260, slice_97263);\n        remnant_97265 = global_tid_97260 - rep_i_97261 * slice_97263;\n        rep_i_97262 = remnant_97265;\n        remnant_97266 = remnant_97265 - rep_i_97262;\n        if (slt64(global_tid_97260, replicate_n_97248)) {\n            int64_t tmp_97267 = ((__global int64_t *) mem_91659)[rep_i_97262];\n            \n            ((__global int64_t *) mem_91662)[rep_i_97261 * n_45877 + rep_i_97262] = tmp_97267;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97292(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_97291, int64_t virt_num_tblocks_97297, int64_t num_tblocks_97298, __global unsigned char *mem_91711, __global unsigned char *mem_91714)\n{\n    int32_t replicate_ltid_97293;\n    int32_t tblock_sizze_97295;\n    int32_t replicate_gid_97294;\n    int32_t replicate_gtid_97292;\n    int32_t phys_tblock_id_97299;\n    int32_t iterations_97300;\n    \n    replicate_ltid_97293 = get_local_id(0);\n    tblock_sizze_97295 = get_local_size(0);\n    replicate_gid_97294 = get_tblock_id(0);\n    replicate_gtid_97292 = replicate_gid_97294 * tblock_sizze_97295 + replicate_ltid_97293;\n    phys_tblock_id_97299 = get_tblock_id(0);\n    iterations_97300 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97297) - phys_tblock_id_97299, sext_i64_i32(num_tblocks_97298));\n    for (int32_t i_97301 = 0; i_97301 < iterations_97300; i_97301++) {\n        int32_t virt_tblock_id_973", "02;\n        int64_t global_tid_97303;\n        int64_t slice_97306;\n        int64_t slice_97307;\n        int64_t rep_i_97304;\n        int64_t remnant_97308;\n        int64_t rep_i_97305;\n        int64_t remnant_97309;\n        \n        virt_tblock_id_97302 = phys_tblock_id_97299 + i_97301 * sext_i64_i32(num_tblocks_97298);\n        global_tid_97303 = sext_i32_i64(virt_tblock_id_97302) * sext_i32_i64(tblock_sizze_97295) + sext_i32_i64(replicate_ltid_97293);\n        slice_97306 = n_45877;\n        slice_97307 = dim_45874 * slice_97306;\n        rep_i_97304 = squot64(global_tid_97303, slice_97306);\n        remnant_97308 = global_tid_97303 - rep_i_97304 * slice_97306;\n        rep_i_97305 = remnant_97308;\n        remnant_97309 = remnant_97308 - rep_i_97305;\n        if (slt64(global_tid_97303, replicate_n_97291)) {\n            int64_t tmp_97310 = ((__global int64_t *) mem_91711)[rep_i_97305];\n            \n            ((__global int64_t *) mem_91714)[rep_i_97304 * n_45877 + rep_i_97305] = tmp_97310;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97336(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_97335, int64_t virt_num_tblocks_97341, int64_t num_tblocks_97342, __global unsigned char *mem_91795, __global unsigned char *mem_91798)\n{\n    int32_t replicate_ltid_97337;\n    int32_t tblock_sizze_97339;\n    int32_t replicate_gid_97338;\n    int32_t replicate_gtid_97336;\n    int32_t phys_tblock_id_97343;\n    int32_t iterations_97344;\n    \n    replicate_ltid_97337 = get_local_id(0);\n    tblock_sizze_97339 = get_local_size(0);\n    replicate_gid_97338 = get_tblock_id(0);\n    replicate_gtid_97336 = replicate_gid_97338 * tblock_sizze_97339 + replicate_ltid_97337;\n    phys_tblock_id_97343 = get_tblock_id(0);\n    iterations_97344 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97341) - phys_tblock_id_97343, sext_i64_i32(num_tblocks_97342));\n    for (int32_t i_97345 = 0; i_97345", " < iterations_97344; i_97345++) {\n        int32_t virt_tblock_id_97346;\n        int64_t global_tid_97347;\n        int64_t slice_97350;\n        int64_t slice_97351;\n        int64_t rep_i_97348;\n        int64_t remnant_97352;\n        int64_t rep_i_97349;\n        int64_t remnant_97353;\n        \n        virt_tblock_id_97346 = phys_tblock_id_97343 + i_97345 * sext_i64_i32(num_tblocks_97342);\n        global_tid_97347 = sext_i32_i64(virt_tblock_id_97346) * sext_i32_i64(tblock_sizze_97339) + sext_i32_i64(replicate_ltid_97337);\n        slice_97350 = n_45877;\n        slice_97351 = dim_45874 * slice_97350;\n        rep_i_97348 = squot64(global_tid_97347, slice_97350);\n        remnant_97352 = global_tid_97347 - rep_i_97348 * slice_97350;\n        rep_i_97349 = remnant_97352;\n        remnant_97353 = remnant_97352 - rep_i_97349;\n        if (slt64(global_tid_97347, replicate_n_97335)) {\n            int64_t tmp_97354 = ((__global int64_t *) mem_91795)[rep_i_97349];\n            \n            ((__global int64_t *) mem_91798)[rep_i_97348 * n_45877 + rep_i_97349] = tmp_97354;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97414(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_97413, int64_t virt_num_tblocks_97419, int64_t num_tblocks_97420, __global unsigned char *mem_91916, __global unsigned char *mem_91919)\n{\n    int32_t replicate_ltid_97415;\n    int32_t tblock_sizze_97417;\n    int32_t replicate_gid_97416;\n    int32_t replicate_gtid_97414;\n    int32_t phys_tblock_id_97421;\n    int32_t iterations_97422;\n    \n    replicate_ltid_97415 = get_local_id(0);\n    tblock_sizze_97417 = get_local_size(0);\n    replicate_gid_97416 = get_tblock_id(0);\n    replicate_gtid_97414 = replicate_gid_97416 * tblock_sizze_97417 + replicate_ltid_97415;\n    phys_tblock_id_97421 = get_tblock_id(0);\n    iterations_97422 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97419) - phys_tblock_id_97421, sex",
                                    "t_i64_i32(num_tblocks_97420));\n    for (int32_t i_97423 = 0; i_97423 < iterations_97422; i_97423++) {\n        int32_t virt_tblock_id_97424;\n        int64_t global_tid_97425;\n        int64_t slice_97428;\n        int64_t slice_97429;\n        int64_t rep_i_97426;\n        int64_t remnant_97430;\n        int64_t rep_i_97427;\n        int64_t remnant_97431;\n        \n        virt_tblock_id_97424 = phys_tblock_id_97421 + i_97423 * sext_i64_i32(num_tblocks_97420);\n        global_tid_97425 = sext_i32_i64(virt_tblock_id_97424) * sext_i32_i64(tblock_sizze_97417) + sext_i32_i64(replicate_ltid_97415);\n        slice_97428 = n_45877;\n        slice_97429 = dim_45874 * slice_97428;\n        rep_i_97426 = squot64(global_tid_97425, slice_97428);\n        remnant_97430 = global_tid_97425 - rep_i_97426 * slice_97428;\n        rep_i_97427 = remnant_97430;\n        remnant_97431 = remnant_97430 - rep_i_97427;\n        if (slt64(global_tid_97425, replicate_n_97413)) {\n            double tmp_97432 = ((__global double *) mem_91916)[rep_i_97427 * dim_45874];\n            \n            ((__global double *) mem_91919)[rep_i_97426 * n_45877 + rep_i_97427] = tmp_97432;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97862(int64_t next_stride_66239, int64_t num_merges_66243, int64_t replicate_n_97861, int64_t virt_num_tblocks_97867, int64_t num_tblocks_97868, __global unsigned char *ext_mem_92754, __global unsigned char *mem_92757)\n{\n    int32_t replicate_ltid_97863;\n    int32_t tblock_sizze_97865;\n    int32_t replicate_gid_97864;\n    int32_t replicate_gtid_97862;\n    int32_t phys_tblock_id_97869;\n    int32_t iterations_97870;\n    \n    replicate_ltid_97863 = get_local_id(0);\n    tblock_sizze_97865 = get_local_size(0);\n    replicate_gid_97864 = get_tblock_id(0);\n    replicate_gtid_97862 = replicate_gid_97864 * tblock_sizze_97865 + replicate_ltid_97863;\n    phys_tblock_id_97869 = get_tblock_id(0);", "\n    iterations_97870 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97867) - phys_tblock_id_97869, sext_i64_i32(num_tblocks_97868));\n    for (int32_t i_97871 = 0; i_97871 < iterations_97870; i_97871++) {\n        int32_t virt_tblock_id_97872;\n        int64_t global_tid_97873;\n        int64_t slice_97876;\n        int64_t slice_97877;\n        int64_t rep_i_97874;\n        int64_t remnant_97878;\n        int64_t rep_i_97875;\n        int64_t remnant_97879;\n        \n        virt_tblock_id_97872 = phys_tblock_id_97869 + i_97871 * sext_i64_i32(num_tblocks_97868);\n        global_tid_97873 = sext_i32_i64(virt_tblock_id_97872) * sext_i32_i64(tblock_sizze_97865) + sext_i32_i64(replicate_ltid_97863);\n        slice_97876 = num_merges_66243;\n        slice_97877 = next_stride_66239 * slice_97876;\n        rep_i_97874 = squot64(global_tid_97873, slice_97876);\n        remnant_97878 = global_tid_97873 - rep_i_97874 * slice_97876;\n        rep_i_97875 = remnant_97878;\n        remnant_97879 = remnant_97878 - rep_i_97875;\n        if (slt64(global_tid_97873, replicate_n_97861)) {\n            int64_t tmp_97880 = ((__global int64_t *) ext_mem_92754)[rep_i_97875];\n            \n            ((__global int64_t *) mem_92757)[rep_i_97874 * num_merges_66243 + rep_i_97875] = tmp_97880;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97882(int64_t next_stride_66239, int64_t num_merges_66243, int64_t replicate_n_97881, int64_t virt_num_tblocks_97887, int64_t num_tblocks_97888, __global unsigned char *ext_mem_92753, __global unsigned char *mem_92760)\n{\n    int32_t replicate_ltid_97883;\n    int32_t tblock_sizze_97885;\n    int32_t replicate_gid_97884;\n    int32_t replicate_gtid_97882;\n    int32_t phys_tblock_id_97889;\n    int32_t iterations_97890;\n    \n    replicate_ltid_97883 = get_local_id(0);\n    tblock_sizze_97885 = get_local_size(0);\n    replicate_gid_97884 = get_tblock_id(0);\n    replicate_gti", "d_97882 = replicate_gid_97884 * tblock_sizze_97885 + replicate_ltid_97883;\n    phys_tblock_id_97889 = get_tblock_id(0);\n    iterations_97890 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97887) - phys_tblock_id_97889, sext_i64_i32(num_tblocks_97888));\n    for (int32_t i_97891 = 0; i_97891 < iterations_97890; i_97891++) {\n        int32_t virt_tblock_id_97892;\n        int64_t global_tid_97893;\n        int64_t slice_97896;\n        int64_t slice_97897;\n        int64_t rep_i_97894;\n        int64_t remnant_97898;\n        int64_t rep_i_97895;\n        int64_t remnant_97899;\n        \n        virt_tblock_id_97892 = phys_tblock_id_97889 + i_97891 * sext_i64_i32(num_tblocks_97888);\n        global_tid_97893 = sext_i32_i64(virt_tblock_id_97892) * sext_i32_i64(tblock_sizze_97885) + sext_i32_i64(replicate_ltid_97883);\n        slice_97896 = num_merges_66243;\n        slice_97897 = next_stride_66239 * slice_97896;\n        rep_i_97894 = squot64(global_tid_97893, slice_97896);\n        remnant_97898 = global_tid_97893 - rep_i_97894 * slice_97896;\n        rep_i_97895 = remnant_97898;\n        remnant_97899 = remnant_97898 - rep_i_97895;\n        if (slt64(global_tid_97893, replicate_n_97881)) {\n            double tmp_97900 = ((__global double *) ext_mem_92753)[rep_i_97895];\n            \n            ((__global double *) mem_92760)[rep_i_97894 * num_merges_66243 + rep_i_97895] = tmp_97900;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97902(int64_t next_stride_66239, int64_t num_merges_66243, int64_t replicate_n_97901, int64_t virt_num_tblocks_97907, int64_t num_tblocks_97908, __global unsigned char *ext_mem_92751, __global unsigned char *mem_92763)\n{\n    int32_t replicate_ltid_97903;\n    int32_t tblock_sizze_97905;\n    int32_t replicate_gid_97904;\n    int32_t replicate_gtid_97902;\n    int32_t phys_tblock_id_97909;\n    int32_t iterations_97910;\n    \n    replicate_ltid_97903 = get_lo",
                                    "cal_id(0);\n    tblock_sizze_97905 = get_local_size(0);\n    replicate_gid_97904 = get_tblock_id(0);\n    replicate_gtid_97902 = replicate_gid_97904 * tblock_sizze_97905 + replicate_ltid_97903;\n    phys_tblock_id_97909 = get_tblock_id(0);\n    iterations_97910 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97907) - phys_tblock_id_97909, sext_i64_i32(num_tblocks_97908));\n    for (int32_t i_97911 = 0; i_97911 < iterations_97910; i_97911++) {\n        int32_t virt_tblock_id_97912;\n        int64_t global_tid_97913;\n        int64_t slice_97916;\n        int64_t slice_97917;\n        int64_t rep_i_97914;\n        int64_t remnant_97918;\n        int64_t rep_i_97915;\n        int64_t remnant_97919;\n        \n        virt_tblock_id_97912 = phys_tblock_id_97909 + i_97911 * sext_i64_i32(num_tblocks_97908);\n        global_tid_97913 = sext_i32_i64(virt_tblock_id_97912) * sext_i32_i64(tblock_sizze_97905) + sext_i32_i64(replicate_ltid_97903);\n        slice_97916 = num_merges_66243;\n        slice_97917 = next_stride_66239 * slice_97916;\n        rep_i_97914 = squot64(global_tid_97913, slice_97916);\n        remnant_97918 = global_tid_97913 - rep_i_97914 * slice_97916;\n        rep_i_97915 = remnant_97918;\n        remnant_97919 = remnant_97918 - rep_i_97915;\n        if (slt64(global_tid_97913, replicate_n_97901)) {\n            int64_t tmp_97920 = ((__global int64_t *) ext_mem_92751)[rep_i_97915];\n            \n            ((__global int64_t *) mem_92763)[rep_i_97914 * num_merges_66243 + rep_i_97915] = tmp_97920;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_97922(int64_t dim_45874, int64_t next_stride_66239, int64_t num_merges_66243, int64_t replicate_n_97921, int64_t virt_num_tblocks_97927, int64_t num_tblocks_97928, __global unsigned char *ext_mem_92752, __global unsigned char *mem_92767)\n{\n    int32_t replicate_ltid_97923;\n    int32_t tblock_sizze_97925;\n    int32_t replicate_gid_97924", ";\n    int32_t replicate_gtid_97922;\n    int32_t phys_tblock_id_97929;\n    int32_t iterations_97930;\n    \n    replicate_ltid_97923 = get_local_id(0);\n    tblock_sizze_97925 = get_local_size(0);\n    replicate_gid_97924 = get_tblock_id(0);\n    replicate_gtid_97922 = replicate_gid_97924 * tblock_sizze_97925 + replicate_ltid_97923;\n    phys_tblock_id_97929 = get_tblock_id(0);\n    iterations_97930 = sdiv_up32(sext_i64_i32(virt_num_tblocks_97927) - phys_tblock_id_97929, sext_i64_i32(num_tblocks_97928));\n    for (int32_t i_97931 = 0; i_97931 < iterations_97930; i_97931++) {\n        int32_t virt_tblock_id_97932;\n        int64_t global_tid_97933;\n        int64_t slice_97937;\n        int64_t slice_97938;\n        int64_t slice_97939;\n        int64_t rep_i_97934;\n        int64_t remnant_97940;\n        int64_t rep_i_97935;\n        int64_t remnant_97941;\n        int64_t rep_i_97936;\n        int64_t remnant_97942;\n        \n        virt_tblock_id_97932 = phys_tblock_id_97929 + i_97931 * sext_i64_i32(num_tblocks_97928);\n        global_tid_97933 = sext_i32_i64(virt_tblock_id_97932) * sext_i32_i64(tblock_sizze_97925) + sext_i32_i64(replicate_ltid_97923);\n        slice_97937 = num_merges_66243;\n        slice_97938 = dim_45874 * slice_97937;\n        slice_97939 = next_stride_66239 * slice_97938;\n        rep_i_97934 = squot64(global_tid_97933, slice_97938);\n        remnant_97940 = global_tid_97933 - rep_i_97934 * slice_97938;\n        rep_i_97935 = squot64(remnant_97940, slice_97937);\n        remnant_97941 = remnant_97940 - rep_i_97935 * slice_97937;\n        rep_i_97936 = remnant_97941;\n        remnant_97942 = remnant_97941 - rep_i_97936;\n        if (slt64(global_tid_97933, replicate_n_97921)) {\n            double tmp_97943 = ((__global double *) ext_mem_92752)[rep_i_97935 + rep_i_97936 * dim_45874];\n            \n            ((__global double *) mem_92767)[rep_i_97934 * (num_merges_66243 * dim_45874) + rep_i_97935 * num_merges_66243 + rep_i_97936] = tmp_97943;\n        }\n        barrier(CLK", "_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98095(int64_t merge_block_sizze_66061, int64_t num_merges_66243, int64_t num_blocks_66259, int64_t replicate_n_98094, int64_t virt_num_tblocks_98100, int64_t num_tblocks_98101, __global unsigned char *mem_92337, __global unsigned char *mem_92378)\n{\n    int32_t replicate_ltid_98096;\n    int32_t tblock_sizze_98098;\n    int32_t replicate_gid_98097;\n    int32_t replicate_gtid_98095;\n    int32_t phys_tblock_id_98102;\n    int32_t iterations_98103;\n    \n    replicate_ltid_98096 = get_local_id(0);\n    tblock_sizze_98098 = get_local_size(0);\n    replicate_gid_98097 = get_tblock_id(0);\n    replicate_gtid_98095 = replicate_gid_98097 * tblock_sizze_98098 + replicate_ltid_98096;\n    phys_tblock_id_98102 = get_tblock_id(0);\n    iterations_98103 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98100) - phys_tblock_id_98102, sext_i64_i32(num_tblocks_98101));\n    for (int32_t i_98104 = 0; i_98104 < iterations_98103; i_98104++) {\n        int32_t virt_tblock_id_98105;\n        int64_t global_tid_98106;\n        int64_t slice_98110;\n        int64_t slice_98111;\n        int64_t slice_98112;\n        int64_t rep_i_98107;\n        int64_t remnant_98113;\n        int64_t rep_i_98108;\n        int64_t remnant_98114;\n        int64_t rep_i_98109;\n        int64_t remnant_98115;\n        \n        virt_tblock_id_98105 = phys_tblock_id_98102 + i_98104 * sext_i64_i32(num_tblocks_98101);\n        global_tid_98106 = sext_i32_i64(virt_tblock_id_98105) * sext_i32_i64(tblock_sizze_98098) + sext_i32_i64(replicate_ltid_98096);\n        slice_98110 = num_blocks_66259;\n        slice_98111 = num_merges_66243 * slice_98110;\n        slice_98112 = merge_block_sizze_66061 * slice_98111;\n        rep_i_98107 = squot64(global_tid_98106, slice_98111);\n        remnant_98113 = global_tid_98106 - rep_i_98107 * slice_98111;\n        rep_i_98108 = squot64(remnant_98113, slice_98110);\n        remnant_98114 ",
                                    "= remnant_98113 - rep_i_98108 * slice_98110;\n        rep_i_98109 = remnant_98114;\n        remnant_98115 = remnant_98114 - rep_i_98109;\n        if (slt64(global_tid_98106, replicate_n_98094)) {\n            int64_t tmp_98116 = ((__global int64_t *) mem_92337)[rep_i_98108 * num_blocks_66259 + rep_i_98109];\n            \n            ((__global int64_t *) mem_92378)[rep_i_98107 * (num_blocks_66259 * num_merges_66243) + rep_i_98108 * num_blocks_66259 + rep_i_98109] = tmp_98116;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98118(int64_t merge_block_sizze_66061, int64_t num_merges_66243, int64_t num_blocks_66259, int64_t replicate_n_98117, int64_t virt_num_tblocks_98123, int64_t num_tblocks_98124, __global unsigned char *mem_92340, __global unsigned char *mem_92382)\n{\n    int32_t replicate_ltid_98119;\n    int32_t tblock_sizze_98121;\n    int32_t replicate_gid_98120;\n    int32_t replicate_gtid_98118;\n    int32_t phys_tblock_id_98125;\n    int32_t iterations_98126;\n    \n    replicate_ltid_98119 = get_local_id(0);\n    tblock_sizze_98121 = get_local_size(0);\n    replicate_gid_98120 = get_tblock_id(0);\n    replicate_gtid_98118 = replicate_gid_98120 * tblock_sizze_98121 + replicate_ltid_98119;\n    phys_tblock_id_98125 = get_tblock_id(0);\n    iterations_98126 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98123) - phys_tblock_id_98125, sext_i64_i32(num_tblocks_98124));\n    for (int32_t i_98127 = 0; i_98127 < iterations_98126; i_98127++) {\n        int32_t virt_tblock_id_98128;\n        int64_t global_tid_98129;\n        int64_t slice_98133;\n        int64_t slice_98134;\n        int64_t slice_98135;\n        int64_t rep_i_98130;\n        int64_t remnant_98136;\n        int64_t rep_i_98131;\n        int64_t remnant_98137;\n        int64_t rep_i_98132;\n        int64_t remnant_98138;\n        \n        virt_tblock_id_98128 = phys_tblock_id_98125 + i_98127 * sext_i64_i32(num_tblocks_98124)", ";\n        global_tid_98129 = sext_i32_i64(virt_tblock_id_98128) * sext_i32_i64(tblock_sizze_98121) + sext_i32_i64(replicate_ltid_98119);\n        slice_98133 = num_blocks_66259;\n        slice_98134 = num_merges_66243 * slice_98133;\n        slice_98135 = merge_block_sizze_66061 * slice_98134;\n        rep_i_98130 = squot64(global_tid_98129, slice_98134);\n        remnant_98136 = global_tid_98129 - rep_i_98130 * slice_98134;\n        rep_i_98131 = squot64(remnant_98136, slice_98133);\n        remnant_98137 = remnant_98136 - rep_i_98131 * slice_98133;\n        rep_i_98132 = remnant_98137;\n        remnant_98138 = remnant_98137 - rep_i_98132;\n        if (slt64(global_tid_98129, replicate_n_98117)) {\n            double tmp_98139 = ((__global double *) mem_92340)[rep_i_98131 * num_blocks_66259 + rep_i_98132];\n            \n            ((__global double *) mem_92382)[rep_i_98130 * (num_blocks_66259 * num_merges_66243) + rep_i_98131 * num_blocks_66259 + rep_i_98132] = tmp_98139;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98141(int64_t merge_block_sizze_66061, int64_t num_merges_66243, int64_t num_blocks_66259, int64_t replicate_n_98140, int64_t virt_num_tblocks_98146, int64_t num_tblocks_98147, __global unsigned char *mem_92343, __global unsigned char *mem_92386)\n{\n    int32_t replicate_ltid_98142;\n    int32_t tblock_sizze_98144;\n    int32_t replicate_gid_98143;\n    int32_t replicate_gtid_98141;\n    int32_t phys_tblock_id_98148;\n    int32_t iterations_98149;\n    \n    replicate_ltid_98142 = get_local_id(0);\n    tblock_sizze_98144 = get_local_size(0);\n    replicate_gid_98143 = get_tblock_id(0);\n    replicate_gtid_98141 = replicate_gid_98143 * tblock_sizze_98144 + replicate_ltid_98142;\n    phys_tblock_id_98148 = get_tblock_id(0);\n    iterations_98149 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98146) - phys_tblock_id_98148, sext_i64_i32(num_tblocks_98147));\n    for (int", "32_t i_98150 = 0; i_98150 < iterations_98149; i_98150++) {\n        int32_t virt_tblock_id_98151;\n        int64_t global_tid_98152;\n        int64_t slice_98156;\n        int64_t slice_98157;\n        int64_t slice_98158;\n        int64_t rep_i_98153;\n        int64_t remnant_98159;\n        int64_t rep_i_98154;\n        int64_t remnant_98160;\n        int64_t rep_i_98155;\n        int64_t remnant_98161;\n        \n        virt_tblock_id_98151 = phys_tblock_id_98148 + i_98150 * sext_i64_i32(num_tblocks_98147);\n        global_tid_98152 = sext_i32_i64(virt_tblock_id_98151) * sext_i32_i64(tblock_sizze_98144) + sext_i32_i64(replicate_ltid_98142);\n        slice_98156 = num_blocks_66259;\n        slice_98157 = num_merges_66243 * slice_98156;\n        slice_98158 = merge_block_sizze_66061 * slice_98157;\n        rep_i_98153 = squot64(global_tid_98152, slice_98157);\n        remnant_98159 = global_tid_98152 - rep_i_98153 * slice_98157;\n        rep_i_98154 = squot64(remnant_98159, slice_98156);\n        remnant_98160 = remnant_98159 - rep_i_98154 * slice_98156;\n        rep_i_98155 = remnant_98160;\n        remnant_98161 = remnant_98160 - rep_i_98155;\n        if (slt64(global_tid_98152, replicate_n_98140)) {\n            int64_t tmp_98162 = ((__global int64_t *) mem_92343)[rep_i_98154 * num_blocks_66259 + rep_i_98155];\n            \n            ((__global int64_t *) mem_92386)[rep_i_98153 * (num_blocks_66259 * num_merges_66243) + rep_i_98154 * num_blocks_66259 + rep_i_98155] = tmp_98162;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98164(int64_t dim_45874, int64_t merge_block_sizze_66061, int64_t num_merges_66243, int64_t num_blocks_66259, int64_t replicate_n_98163, int64_t virt_num_tblocks_98169, int64_t num_tblocks_98170, __global unsigned char *mem_92360, __global unsigned char *mem_92391)\n{\n    int32_t replicate_ltid_98165;\n    int32_t tblock_sizze_98167;\n    int32_t replicate",
                                    "_gid_98166;\n    int32_t replicate_gtid_98164;\n    int32_t phys_tblock_id_98171;\n    int32_t iterations_98172;\n    \n    replicate_ltid_98165 = get_local_id(0);\n    tblock_sizze_98167 = get_local_size(0);\n    replicate_gid_98166 = get_tblock_id(0);\n    replicate_gtid_98164 = replicate_gid_98166 * tblock_sizze_98167 + replicate_ltid_98165;\n    phys_tblock_id_98171 = get_tblock_id(0);\n    iterations_98172 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98169) - phys_tblock_id_98171, sext_i64_i32(num_tblocks_98170));\n    for (int32_t i_98173 = 0; i_98173 < iterations_98172; i_98173++) {\n        int32_t virt_tblock_id_98174;\n        int64_t global_tid_98175;\n        int64_t slice_98180;\n        int64_t slice_98181;\n        int64_t slice_98182;\n        int64_t slice_98183;\n        int64_t rep_i_98176;\n        int64_t remnant_98184;\n        int64_t rep_i_98177;\n        int64_t remnant_98185;\n        int64_t rep_i_98178;\n        int64_t remnant_98186;\n        int64_t rep_i_98179;\n        int64_t remnant_98187;\n        \n        virt_tblock_id_98174 = phys_tblock_id_98171 + i_98173 * sext_i64_i32(num_tblocks_98170);\n        global_tid_98175 = sext_i32_i64(virt_tblock_id_98174) * sext_i32_i64(tblock_sizze_98167) + sext_i32_i64(replicate_ltid_98165);\n        slice_98180 = num_blocks_66259;\n        slice_98181 = num_merges_66243 * slice_98180;\n        slice_98182 = dim_45874 * slice_98181;\n        slice_98183 = merge_block_sizze_66061 * slice_98182;\n        rep_i_98176 = squot64(global_tid_98175, slice_98182);\n        remnant_98184 = global_tid_98175 - rep_i_98176 * slice_98182;\n        rep_i_98177 = squot64(remnant_98184, slice_98181);\n        remnant_98185 = remnant_98184 - rep_i_98177 * slice_98181;\n        rep_i_98178 = squot64(remnant_98185, slice_98180);\n        remnant_98186 = remnant_98185 - rep_i_98178 * slice_98180;\n        rep_i_98179 = remnant_98186;\n        remnant_98187 = remnant_98186 - rep_i_98179;\n        if (slt64(global_tid_98175, replicate_n_98163)) {\n            do", "uble tmp_98188 = ((__global double *) mem_92360)[rep_i_98177 * (num_blocks_66259 * num_merges_66243) + rep_i_98178 * num_blocks_66259 + rep_i_98179];\n            \n            ((__global double *) mem_92391)[rep_i_98176 * (num_blocks_66259 * num_merges_66243 * dim_45874) + rep_i_98177 * (num_blocks_66259 * num_merges_66243) + rep_i_98178 * num_blocks_66259 + rep_i_98179] = tmp_98188;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98503(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_98502, int64_t virt_num_tblocks_98508, int64_t num_tblocks_98509, __global unsigned char *mem_94529, __global unsigned char *mem_94532)\n{\n    int32_t replicate_ltid_98504;\n    int32_t tblock_sizze_98506;\n    int32_t replicate_gid_98505;\n    int32_t replicate_gtid_98503;\n    int32_t phys_tblock_id_98510;\n    int32_t iterations_98511;\n    \n    replicate_ltid_98504 = get_local_id(0);\n    tblock_sizze_98506 = get_local_size(0);\n    replicate_gid_98505 = get_tblock_id(0);\n    replicate_gtid_98503 = replicate_gid_98505 * tblock_sizze_98506 + replicate_ltid_98504;\n    phys_tblock_id_98510 = get_tblock_id(0);\n    iterations_98511 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98508) - phys_tblock_id_98510, sext_i64_i32(num_tblocks_98509));\n    for (int32_t i_98512 = 0; i_98512 < iterations_98511; i_98512++) {\n        int32_t virt_tblock_id_98513;\n        int64_t global_tid_98514;\n        int64_t slice_98517;\n        int64_t slice_98518;\n        int64_t rep_i_98515;\n        int64_t remnant_98519;\n        int64_t rep_i_98516;\n        int64_t remnant_98520;\n        \n        virt_tblock_id_98513 = phys_tblock_id_98510 + i_98512 * sext_i64_i32(num_tblocks_98509);\n        global_tid_98514 = sext_i32_i64(virt_tblock_id_98513) * sext_i32_i64(tblock_sizze_98506) + sext_i32_i64(replicate_ltid_98504);\n        slice_98517 = n_45877;\n        slice_98518 = dim_45874 * slice_98517;\n        rep_i", "_98515 = squot64(global_tid_98514, slice_98517);\n        remnant_98519 = global_tid_98514 - rep_i_98515 * slice_98517;\n        rep_i_98516 = remnant_98519;\n        remnant_98520 = remnant_98519 - rep_i_98516;\n        if (slt64(global_tid_98514, replicate_n_98502)) {\n            int64_t tmp_98521 = ((__global int64_t *) mem_94529)[rep_i_98516];\n            \n            ((__global int64_t *) mem_94532)[rep_i_98515 * n_45877 + rep_i_98516] = tmp_98521;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98546(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_98545, int64_t virt_num_tblocks_98551, int64_t num_tblocks_98552, __global unsigned char *mem_94581, __global unsigned char *mem_94584)\n{\n    int32_t replicate_ltid_98547;\n    int32_t tblock_sizze_98549;\n    int32_t replicate_gid_98548;\n    int32_t replicate_gtid_98546;\n    int32_t phys_tblock_id_98553;\n    int32_t iterations_98554;\n    \n    replicate_ltid_98547 = get_local_id(0);\n    tblock_sizze_98549 = get_local_size(0);\n    replicate_gid_98548 = get_tblock_id(0);\n    replicate_gtid_98546 = replicate_gid_98548 * tblock_sizze_98549 + replicate_ltid_98547;\n    phys_tblock_id_98553 = get_tblock_id(0);\n    iterations_98554 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98551) - phys_tblock_id_98553, sext_i64_i32(num_tblocks_98552));\n    for (int32_t i_98555 = 0; i_98555 < iterations_98554; i_98555++) {\n        int32_t virt_tblock_id_98556;\n        int64_t global_tid_98557;\n        int64_t slice_98560;\n        int64_t slice_98561;\n        int64_t rep_i_98558;\n        int64_t remnant_98562;\n        int64_t rep_i_98559;\n        int64_t remnant_98563;\n        \n        virt_tblock_id_98556 = phys_tblock_id_98553 + i_98555 * sext_i64_i32(num_tblocks_98552);\n        global_tid_98557 = sext_i32_i64(virt_tblock_id_98556) * sext_i32_i64(tblock_sizze_98549) + sext_i32_i64(replicate_ltid_98547);\n        slice_98560 = n",
                                    "_45877;\n        slice_98561 = dim_45874 * slice_98560;\n        rep_i_98558 = squot64(global_tid_98557, slice_98560);\n        remnant_98562 = global_tid_98557 - rep_i_98558 * slice_98560;\n        rep_i_98559 = remnant_98562;\n        remnant_98563 = remnant_98562 - rep_i_98559;\n        if (slt64(global_tid_98557, replicate_n_98545)) {\n            int64_t tmp_98564 = ((__global int64_t *) mem_94581)[rep_i_98559];\n            \n            ((__global int64_t *) mem_94584)[rep_i_98558 * n_45877 + rep_i_98559] = tmp_98564;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98590(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_98589, int64_t virt_num_tblocks_98595, int64_t num_tblocks_98596, __global unsigned char *mem_94665, __global unsigned char *mem_94668)\n{\n    int32_t replicate_ltid_98591;\n    int32_t tblock_sizze_98593;\n    int32_t replicate_gid_98592;\n    int32_t replicate_gtid_98590;\n    int32_t phys_tblock_id_98597;\n    int32_t iterations_98598;\n    \n    replicate_ltid_98591 = get_local_id(0);\n    tblock_sizze_98593 = get_local_size(0);\n    replicate_gid_98592 = get_tblock_id(0);\n    replicate_gtid_98590 = replicate_gid_98592 * tblock_sizze_98593 + replicate_ltid_98591;\n    phys_tblock_id_98597 = get_tblock_id(0);\n    iterations_98598 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98595) - phys_tblock_id_98597, sext_i64_i32(num_tblocks_98596));\n    for (int32_t i_98599 = 0; i_98599 < iterations_98598; i_98599++) {\n        int32_t virt_tblock_id_98600;\n        int64_t global_tid_98601;\n        int64_t slice_98604;\n        int64_t slice_98605;\n        int64_t rep_i_98602;\n        int64_t remnant_98606;\n        int64_t rep_i_98603;\n        int64_t remnant_98607;\n        \n        virt_tblock_id_98600 = phys_tblock_id_98597 + i_98599 * sext_i64_i32(num_tblocks_98596);\n        global_tid_98601 = sext_i32_i64(virt_tblock_id_98600) * sext_i32_i64(tblock_sizze_", "98593) + sext_i32_i64(replicate_ltid_98591);\n        slice_98604 = n_45877;\n        slice_98605 = dim_45874 * slice_98604;\n        rep_i_98602 = squot64(global_tid_98601, slice_98604);\n        remnant_98606 = global_tid_98601 - rep_i_98602 * slice_98604;\n        rep_i_98603 = remnant_98606;\n        remnant_98607 = remnant_98606 - rep_i_98603;\n        if (slt64(global_tid_98601, replicate_n_98589)) {\n            int64_t tmp_98608 = ((__global int64_t *) mem_94665)[rep_i_98603];\n            \n            ((__global int64_t *) mem_94668)[rep_i_98602 * n_45877 + rep_i_98603] = tmp_98608;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezireplicate_98668(int64_t dim_45874, int64_t n_45877, int64_t replicate_n_98667, int64_t virt_num_tblocks_98673, int64_t num_tblocks_98674, __global unsigned char *mem_94786, __global unsigned char *mem_94789)\n{\n    int32_t replicate_ltid_98669;\n    int32_t tblock_sizze_98671;\n    int32_t replicate_gid_98670;\n    int32_t replicate_gtid_98668;\n    int32_t phys_tblock_id_98675;\n    int32_t iterations_98676;\n    \n    replicate_ltid_98669 = get_local_id(0);\n    tblock_sizze_98671 = get_local_size(0);\n    replicate_gid_98670 = get_tblock_id(0);\n    replicate_gtid_98668 = replicate_gid_98670 * tblock_sizze_98671 + replicate_ltid_98669;\n    phys_tblock_id_98675 = get_tblock_id(0);\n    iterations_98676 = sdiv_up32(sext_i64_i32(virt_num_tblocks_98673) - phys_tblock_id_98675, sext_i64_i32(num_tblocks_98674));\n    for (int32_t i_98677 = 0; i_98677 < iterations_98676; i_98677++) {\n        int32_t virt_tblock_id_98678;\n        int64_t global_tid_98679;\n        int64_t slice_98682;\n        int64_t slice_98683;\n        int64_t rep_i_98680;\n        int64_t remnant_98684;\n        int64_t rep_i_98681;\n        int64_t remnant_98685;\n        \n        virt_tblock_id_98678 = phys_tblock_id_98675 + i_98677 * sext_i64_i32(num_tblocks_98674);\n        global_tid_986", "79 = sext_i32_i64(virt_tblock_id_98678) * sext_i32_i64(tblock_sizze_98671) + sext_i32_i64(replicate_ltid_98669);\n        slice_98682 = n_45877;\n        slice_98683 = dim_45874 * slice_98682;\n        rep_i_98680 = squot64(global_tid_98679, slice_98682);\n        remnant_98684 = global_tid_98679 - rep_i_98680 * slice_98682;\n        rep_i_98681 = remnant_98684;\n        remnant_98685 = remnant_98684 - rep_i_98681;\n        if (slt64(global_tid_98679, replicate_n_98667)) {\n            double tmp_98686 = ((__global double *) mem_94786)[rep_i_98681 * dim_45874];\n            \n            ((__global double *) mem_94789)[rep_i_98680 * n_45877 + rep_i_98681] = tmp_98686;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_global_88717_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_global_88717(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t total_grid_no_45885, int64_t arg_65084, unsigned char cond_65095_bits, int64_t num_tblocks_88712, int64_t min_arg1_91500, int64_t num_threads_96027, int64_t num_subhistos_98211, int32_t chk_i_98291, int64_t hist_H_chk_98292, __global unsigned char *grid_part_prefix_sum_mem_91595, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_94428, __global unsigned char *color_95853, __global unsigned char *color_95854, __global unsigned char *color_95855, __global unsigned char *color_95856, __global unsigned char *color_95857, __global unsigned char *color_95858, __global unsigned char *color_95859, __global unsigned char *defunc_0_map_res_subhistos_mem_98212)\n{\n    bool cond_65095 = cond_65095_bits;\n    \n    #define seghist_tblock_sizze_88710 (sort_for_Skyline_doubleziseghist_global_88717ziseghist_tb",
                                    "lock_sizze_88710)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98294;\n    int32_t tblock_sizze_98297;\n    int32_t wave_sizze_98296;\n    int32_t block_id_98295;\n    int32_t global_tid_98293;\n    int64_t phys_tid_88717;\n    int32_t subhisto_ind_98298;\n    int64_t num_chunks_98299;\n    \n    local_tid_98294 = get_local_id(0);\n    tblock_sizze_98297 = get_local_size(0);\n    wave_sizze_98296 = LOCKSTEP_WIDTH;\n    block_id_98295 = get_tblock_id(0);\n    global_tid_98293 = block_id_98295 * tblock_sizze_98297 + local_tid_98294;\n    phys_tid_88717 = sext_i32_i64(global_tid_98293);\n    subhisto_ind_98298 = squot32(global_tid_98293, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_88710 * num_tblocks_88712), sext_i64_i32(num_subhistos_98211)));\n    num_chunks_98299 = sdiv_up64(n_45877, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_88710 * num_tblocks_88712)));\n    for (int64_t chunk_i_98300 = 0; chunk_i_98300 < num_chunks_98299; chunk_i_98300++) {\n        int64_t i_98301 = chunk_i_98300 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_88710 * num_tblocks_88712)) + sext_i32_i64(global_tid_98293);\n        \n        if (slt64(i_98301, n_45877)) {\n            int64_t slice_98302;\n            int64_t gtid_88716;\n            int64_t remnant_98303;\n            \n            slice_98302 = n_45877;\n            gtid_88716 = i_98301;\n            remnant_98303 = i_98301 - gtid_88716;\n            if (slt64(i_98301, n_45877)) {\n                __global unsigned char *ext_mem_ext_96071;\n                int64_t defunc_0_foldl_res_88786;\n                int64_t acc_88788;\n                \n                if (cond_65095) {\n                    ext_mem_ext_96071 = color_95854;\n                } else {\n                    __global unsigned char *ext_mem_ext_96062;\n                    int64_t f_arg0_88765;\n                    int64_t min_res_88766;\n                    \n                    if (cond_65095) {\n                        ext_mem_ext_96062 = color_95853;\n                ", "    } else {\n                        __global unsigned char *ext_mem_ext_96053;\n                        int64_t f_arg0_88751;\n                        int64_t max_res_88752;\n                        \n                        for (int64_t i_91421 = 0; i_91421 < dim_45874; i_91421++) {\n                            double eta_p_88728;\n                            double eta_p_88729;\n                            double defunc_0_f_res_88730;\n                            \n                            eta_p_88728 = ((__global double *) mem_94428)[gtid_88716 + i_91421 * n_45877];\n                            eta_p_88729 = ((__global double *) start_of_grid_partition_mem_91598)[i_91421];\n                            defunc_0_f_res_88730 = eta_p_88728 - eta_p_88729;\n                            ((__global double *) color_95857)[phys_tid_88717 + i_91421 * num_threads_96027] = defunc_0_f_res_88730;\n                        }\n                        for (int64_t i_91425 = 0; i_91425 < dim_45874; i_91425++) {\n                            double eta_p_88732;\n                            double eta_p_88733;\n                            double defunc_0_f_res_88734;\n                            \n                            eta_p_88732 = ((__global double *) color_95857)[phys_tid_88717 + i_91425 * num_threads_96027];\n                            eta_p_88733 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[i_91425];\n                            defunc_0_f_res_88734 = eta_p_88732 / eta_p_88733;\n                            ((__global double *) color_95859)[phys_tid_88717 + i_91425 * num_threads_96027] = defunc_0_f_res_88734;\n                        }\n                        if (cond_65095) {\n                            ext_mem_ext_96053 = color_95857;\n                        } else {\n                            double f_arg0_88737;\n                            int64_t f64_res_88738;\n                            \n                            f_arg0_88737 = ((__global double *) color_95859)[phys_tid_8", "8717];\n                            f64_res_88738 = fptosi_f64_i64(f_arg0_88737);\n                            for (int64_t nest_i_98306 = 0; nest_i_98306 < dim_45874; nest_i_98306++) {\n                                ((__global int64_t *) color_95858)[phys_tid_88717 + nest_i_98306 * num_threads_96027] = f64_res_88738;\n                            }\n                            for (int64_t i_88741 = 0; i_88741 < arg_65084; i_88741++) {\n                                int64_t index_primexp_88743;\n                                bool x_88744;\n                                bool y_88745;\n                                bool bounds_check_88746;\n                                bool index_certs_88747;\n                                double f_arg0_88748;\n                                int64_t f64_res_88749;\n                                \n                                index_primexp_88743 = add64((int64_t) 1, i_88741);\n                                x_88744 = sle64((int64_t) 0, index_primexp_88743);\n                                y_88745 = slt64(index_primexp_88743, dim_45874);\n                                bounds_check_88746 = x_88744 && y_88745;\n                                if (!bounds_check_88746) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 204) == -1) {\n                                            global_failure_args[0] = (int64_t) index_primexp_88743;\n                                            global_failure_args[1] = (int64_t) dim_45874;\n                                            ;\n                                        }\n                                        return;\n                                    }\n                                }\n                                f_arg0_88748 = ((__global double *) color_95859)[phys_tid_88717 + index_primexp_88743 * num_threads_96027];\n                                f64_res_88749 = fptosi_f64_i64(f_arg0_88748);\n                   ",
                                    "             ((__global int64_t *) color_95858)[phys_tid_88717 + index_primexp_88743 * num_threads_96027] = f64_res_88749;\n                            }\n                            ext_mem_ext_96053 = color_95858;\n                        }\n                        f_arg0_88751 = ((__global int64_t *) ext_mem_ext_96053)[phys_tid_88717];\n                        max_res_88752 = smax64((int64_t) 0, f_arg0_88751);\n                        for (int64_t nest_i_98308 = 0; nest_i_98308 < dim_45874; nest_i_98308++) {\n                            ((__global int64_t *) color_95856)[phys_tid_88717 + nest_i_98308 * num_threads_96027] = max_res_88752;\n                        }\n                        for (int64_t i_88755 = 0; i_88755 < arg_65084; i_88755++) {\n                            int64_t index_primexp_88757;\n                            bool x_88758;\n                            bool y_88759;\n                            bool bounds_check_88760;\n                            bool index_certs_88761;\n                            int64_t f_arg0_88762;\n                            int64_t max_res_88763;\n                            \n                            index_primexp_88757 = add64((int64_t) 1, i_88755);\n                            x_88758 = sle64((int64_t) 0, index_primexp_88757);\n                            y_88759 = slt64(index_primexp_88757, dim_45874);\n                            bounds_check_88760 = x_88758 && y_88759;\n                            if (!bounds_check_88760) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 205) == -1) {\n                                        global_failure_args[0] = (int64_t) index_primexp_88757;\n                                        global_failure_args[1] = (int64_t) dim_45874;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n         ", "                   f_arg0_88762 = ((__global int64_t *) ext_mem_ext_96053)[phys_tid_88717 + index_primexp_88757 * num_threads_96027];\n                            max_res_88763 = smax64((int64_t) 0, f_arg0_88762);\n                            ((__global int64_t *) color_95856)[phys_tid_88717 + index_primexp_88757 * num_threads_96027] = max_res_88763;\n                        }\n                        ext_mem_ext_96062 = color_95856;\n                    }\n                    f_arg0_88765 = ((__global int64_t *) ext_mem_ext_96062)[phys_tid_88717];\n                    min_res_88766 = smin64(f_arg0_88765, min_arg1_91500);\n                    for (int64_t nest_i_98310 = 0; nest_i_98310 < dim_45874; nest_i_98310++) {\n                        ((__global int64_t *) color_95855)[phys_tid_88717 + nest_i_98310 * num_threads_96027] = min_res_88766;\n                    }\n                    for (int64_t i_88769 = 0; i_88769 < arg_65084; i_88769++) {\n                        int64_t index_primexp_88771;\n                        bool x_88772;\n                        bool y_88773;\n                        bool bounds_check_88774;\n                        bool index_certs_88775;\n                        bool index_certs_88777;\n                        int64_t f_arg0_88776;\n                        int64_t zm_lhs_88778;\n                        int64_t min_arg1_88779;\n                        int64_t min_res_88780;\n                        \n                        index_primexp_88771 = add64((int64_t) 1, i_88769);\n                        x_88772 = sle64((int64_t) 0, index_primexp_88771);\n                        y_88773 = slt64(index_primexp_88771, dim_45874);\n                        bounds_check_88774 = x_88772 && y_88773;\n                        if (!bounds_check_88774) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 206) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_88771;\n          ", "                          global_failure_args[1] = (int64_t) dim_45874;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        if (!bounds_check_88774) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 207) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_88771;\n                                    global_failure_args[1] = (int64_t) dim_45874;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        f_arg0_88776 = ((__global int64_t *) ext_mem_ext_96062)[phys_tid_88717 + index_primexp_88771 * num_threads_96027];\n                        zm_lhs_88778 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_88771];\n                        min_arg1_88779 = sub64(zm_lhs_88778, (int64_t) 1);\n                        min_res_88780 = smin64(f_arg0_88776, min_arg1_88779);\n                        ((__global int64_t *) color_95855)[phys_tid_88717 + index_primexp_88771 * num_threads_96027] = min_res_88780;\n                    }\n                    ext_mem_ext_96071 = color_95855;\n                }\n                for (int64_t i_91429 = 0; i_91429 < dim_45874; i_91429++) {\n                    int64_t eta_p_88783;\n                    int64_t eta_p_88784;\n                    int64_t defunc_0_f_res_88785;\n                    \n                    eta_p_88783 = ((__global int64_t *) ext_mem_ext_96071)[phys_tid_88717 + i_91429 * num_threads_96027];\n                    eta_p_88784 = ((__global int64_t *) grid_part_prefix_sum_mem_91595)[i_91429];\n                    defunc_0_f_res_88785 = mul64(eta_p_88783, eta_p_88784);\n                    ((__global int64_t *) color_95853)[phys_tid_88717 + i_91429",
                                    " * num_threads_96027] = defunc_0_f_res_88785;\n                }\n                acc_88788 = (int64_t) 0;\n                for (int64_t i_88787 = 0; i_88787 < dim_45874; i_88787++) {\n                    int64_t b_88789;\n                    int64_t defunc_0_f_res_88790;\n                    int64_t acc_tmp_98313;\n                    \n                    b_88789 = ((__global int64_t *) color_95853)[phys_tid_88717 + i_88787 * num_threads_96027];\n                    defunc_0_f_res_88790 = add64(acc_88788, b_88789);\n                    acc_tmp_98313 = defunc_0_f_res_88790;\n                    acc_88788 = acc_tmp_98313;\n                }\n                defunc_0_foldl_res_88786 = acc_88788;\n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_98291) * hist_H_chk_98292, defunc_0_foldl_res_88786) && (slt64(defunc_0_foldl_res_88786, sext_i32_i64(chk_i_98291) * hist_H_chk_98292 + hist_H_chk_98292) && (sle64((int64_t) 0, defunc_0_foldl_res_88786) && slt64(defunc_0_foldl_res_88786, total_grid_no_45885)))) {\n                        int32_t eta_p_88718;\n                        int32_t eta_p_88719 = 1;\n                        int32_t old_98314;\n                        \n                        old_98314 = atomic_add_i32_global(&((volatile __global int *) defunc_0_map_res_subhistos_mem_98212)[sext_i32_i64(subhisto_ind_98298) * total_grid_no_45885 + defunc_0_foldl_res_88786], (int) eta_p_88719);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_88710\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_global_91219_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_global_91219(__global int *global_failure, int64_t total_part_no_45886, int64_t m_67009, int64_t num_tblocks_91214, int64_t num_subhistos_98928, int32_t chk_i_98998, int64_t hist_H_chk_98999, __global unsigned char *mem_95032, __gl", "obal unsigned char *defunc_0_map_res_subhistos_mem_98929)\n{\n    #define seghist_tblock_sizze_91212 (sort_for_Skyline_doubleziseghist_global_91219ziseghist_tblock_sizze_91212)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99001;\n    int32_t tblock_sizze_99004;\n    int32_t wave_sizze_99003;\n    int32_t block_id_99002;\n    int32_t global_tid_99000;\n    int64_t phys_tid_91219;\n    int32_t subhisto_ind_99005;\n    int64_t num_chunks_99006;\n    \n    local_tid_99001 = get_local_id(0);\n    tblock_sizze_99004 = get_local_size(0);\n    wave_sizze_99003 = LOCKSTEP_WIDTH;\n    block_id_99002 = get_tblock_id(0);\n    global_tid_99000 = block_id_99002 * tblock_sizze_99004 + local_tid_99001;\n    phys_tid_91219 = sext_i32_i64(global_tid_99000);\n    subhisto_ind_99005 = squot32(global_tid_99000, sdiv_up32(sext_i64_i32(seghist_tblock_sizze_91212 * num_tblocks_91214), sext_i64_i32(num_subhistos_98928)));\n    num_chunks_99006 = sdiv_up64(m_67009, sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_91212 * num_tblocks_91214)));\n    for (int64_t chunk_i_99007 = 0; chunk_i_99007 < num_chunks_99006; chunk_i_99007++) {\n        int64_t i_99008 = chunk_i_99007 * sext_i32_i64(sext_i64_i32(seghist_tblock_sizze_91212 * num_tblocks_91214)) + sext_i32_i64(global_tid_99000);\n        \n        if (slt64(i_99008, m_67009)) {\n            int64_t slice_99009;\n            int64_t gtid_91218;\n            int64_t remnant_99010;\n            \n            slice_99009 = m_67009;\n            gtid_91218 = i_99008;\n            remnant_99010 = i_99008 - gtid_91218;\n            if (slt64(i_99008, m_67009)) {\n                int64_t bucket_p_91223 = ((__global int64_t *) mem_95032)[gtid_91218];\n                \n                // save map-out results\n                { }\n                // perform atomic updates\n                {\n                    if (sle64(sext_i32_i64(chk_i_98998) * hist_H_chk_98999, bucket_p_91223) && (slt64(bucket_p_91223, sext_i32_i64(chk_i_98998) * hist_H_chk_98999 + hist_H_", "chk_98999) && (sle64((int64_t) 0, bucket_p_91223) && slt64(bucket_p_91223, total_part_no_45886)))) {\n                        int64_t eta_p_91220;\n                        int64_t eta_p_91221 = (int64_t) 1;\n                        int64_t old_99011;\n                        \n                        old_99011 = atomic_add_i64_global(&((volatile __global int64_t *) defunc_0_map_res_subhistos_mem_98929)[sext_i32_i64(subhisto_ind_99005) * total_part_no_45886 + bucket_p_91223], (int64_t) eta_p_91221);\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef seghist_tblock_sizze_91212\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_local_88717_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_local_88717(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t total_grid_no_45885, int64_t arg_65084, unsigned char cond_65095_bits, int64_t min_arg1_91500, int64_t num_threads_96027, int64_t num_subhistos_98211, int64_t num_tblocks_98222, int32_t hist_M_98228, int32_t chk_i_98232, int64_t num_segments_98233, int64_t hist_H_chk_98234, int64_t histo_sizze_98235, int32_t init_per_thread_98236, __global unsigned char *grid_part_prefix_sum_mem_91595, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_94428, __global unsigned char *color_95853, __global unsigned char *color_95854, __global unsigned char *color_95855, __global unsigned char *color_95856, __global unsigned char *color_95857, __global unsigned char *color_95858, __global unsigned char *color_95859, __global unsigned char *defunc_0_map_res_subhistos_mem_98212)\n{\n    bool cond_65095 = cond_65095_bits;\n    \n    #define max_tblock_sizze_98221 (sort_for_Skyline_doubleziseghist_local_88717zimax_tblock_sizze_98221)\n    \n    volatile __lo",
                                    "cal unsigned char *subhistogram_local_mem_98250_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_98250_backing_0_offset = 0 + ((int64_t) 4 * (hist_M_98228 * hist_H_chk_98234) + srem64((int64_t) 8 - srem64((int64_t) 4 * (hist_M_98228 * hist_H_chk_98234), (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98238;\n    int32_t tblock_sizze_98241;\n    int32_t wave_sizze_98240;\n    int32_t block_id_98239;\n    int32_t global_tid_98237;\n    int64_t phys_tid_88717;\n    int32_t phys_tblock_id_98242;\n    int32_t iterations_98243;\n    \n    local_tid_98238 = get_local_id(0);\n    tblock_sizze_98241 = get_local_size(0);\n    wave_sizze_98240 = LOCKSTEP_WIDTH;\n    block_id_98239 = get_tblock_id(0);\n    global_tid_98237 = block_id_98239 * tblock_sizze_98241 + local_tid_98238;\n    phys_tid_88717 = sext_i32_i64(global_tid_98237);\n    phys_tblock_id_98242 = get_tblock_id(0);\n    iterations_98243 = sdiv_up32(sext_i64_i32(num_tblocks_98222 * num_segments_98233) - phys_tblock_id_98242, sext_i64_i32(num_tblocks_98222));\n    for (int32_t i_98244 = 0; i_98244 < iterations_98243; i_98244++) {\n        int32_t virt_tblock_id_98245;\n        int32_t flat_segment_id_98246;\n        int32_t gid_in_segment_98247;\n        int32_t pgtid_in_segment_98248;\n        int32_t threads_per_segment_98249;\n        __local unsigned char *subhistogram_local_mem_98250;\n        int32_t thread_local_subhisto_i_98252;\n        int64_t num_chunks_98259;\n        \n        virt_tblock_id_98245 = phys_tblock_id_98242 + i_98244 * sext_i64_i32(num_tblocks_98222);\n        flat_segment_id_98246 = squot32(virt_tblock_id_98245, sext_i64_i32(num_tblocks_98222));\n        gid_in_segment_98247 = srem32(virt_tblock_id_98245, sext_i64_i32(num_tblocks_98222));\n        pgtid_in_segment_9", "8248 = gid_in_segment_98247 * sext_i64_i32(max_tblock_sizze_98221) + local_tid_98238;\n        threads_per_segment_98249 = sext_i64_i32(num_tblocks_98222 * max_tblock_sizze_98221);\n        subhistogram_local_mem_98250 = (__local unsigned char *) subhistogram_local_mem_98250_backing_0;\n        thread_local_subhisto_i_98252 = srem32(local_tid_98238, hist_M_98228);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_98253 = 0; local_i_98253 < init_per_thread_98236; local_i_98253++) {\n                int32_t j_98254 = local_i_98253 * sext_i64_i32(max_tblock_sizze_98221) + local_tid_98238;\n                int32_t j_offset_98255 = hist_M_98228 * sext_i64_i32(histo_sizze_98235) * gid_in_segment_98247 + j_98254;\n                int32_t local_subhisto_i_98256 = squot32(j_98254, sext_i64_i32(histo_sizze_98235));\n                int32_t global_subhisto_i_98257 = squot32(j_offset_98255, sext_i64_i32(histo_sizze_98235));\n                \n                if (slt32(j_98254, hist_M_98228 * sext_i64_i32(histo_sizze_98235))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_98257 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_98211)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_98254, sext_i64_i32(histo_sizze_98235))) + sext_i32_i64(chk_i_98232) * hist_H_chk_98234) && slt64(sext_i32_i64(srem32(j_98254, sext_i64_i32(histo_sizze_98235))) + sext_i32_i64(chk_i_98232) * hist_H_chk_98234, total_grid_no_45885)))) {\n                            int32_t tmp_98258 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_98212)[sext_i32_i64(srem32(j_98254, sext_i64_i32(histo_sizze_98235))) + sext_i32_i64(chk_i_98232) * hist_H_chk_98234];\n                            \n                            ((__local int32_t *) subhistogram_local_mem_98250)[sext_i32_i64(local_subhisto_i_98256) * hist_H_chk_98234 + sex", "t_i32_i64(srem32(j_98254, sext_i64_i32(histo_sizze_98235)))] = tmp_98258;\n                        } else {\n                            ((__local int32_t *) subhistogram_local_mem_98250)[sext_i32_i64(local_subhisto_i_98256) * hist_H_chk_98234 + sext_i32_i64(srem32(j_98254, sext_i64_i32(histo_sizze_98235)))] = 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_98259 = sdiv_up64(n_45877, sext_i32_i64(threads_per_segment_98249));\n        for (int64_t chunk_i_98260 = 0; chunk_i_98260 < num_chunks_98259; chunk_i_98260++) {\n            int64_t i_98261 = chunk_i_98260 * sext_i32_i64(threads_per_segment_98249) + sext_i32_i64(pgtid_in_segment_98248);\n            \n            if (slt64(i_98261, n_45877)) {\n                int64_t gtid_88716;\n                __global unsigned char *ext_mem_ext_96071;\n                int64_t defunc_0_foldl_res_88786;\n                int64_t acc_88788;\n                \n                gtid_88716 = i_98261;\n                if (cond_65095) {\n                    ext_mem_ext_96071 = color_95854;\n                } else {\n                    __global unsigned char *ext_mem_ext_96062;\n                    int64_t f_arg0_88765;\n                    int64_t min_res_88766;\n                    \n                    if (cond_65095) {\n                        ext_mem_ext_96062 = color_95853;\n                    } else {\n                        __global unsigned char *ext_mem_ext_96053;\n                        int64_t f_arg0_88751;\n                        int64_t max_res_88752;\n                        \n                        for (int64_t i_91421 = 0; i_91421 < dim_45874; i_91421++) {\n                            double eta_p_88728;\n                            double eta_p_88729;\n                            double defunc_0_f_res_88730;\n                            \n                            eta_p_88728 = ((__global double *) mem_94428)[gtid_88716 + i_91421 * n_45877]",
                                    ";\n                            eta_p_88729 = ((__global double *) start_of_grid_partition_mem_91598)[i_91421];\n                            defunc_0_f_res_88730 = eta_p_88728 - eta_p_88729;\n                            ((__global double *) color_95857)[phys_tid_88717 + i_91421 * num_threads_96027] = defunc_0_f_res_88730;\n                        }\n                        for (int64_t i_91425 = 0; i_91425 < dim_45874; i_91425++) {\n                            double eta_p_88732;\n                            double eta_p_88733;\n                            double defunc_0_f_res_88734;\n                            \n                            eta_p_88732 = ((__global double *) color_95857)[phys_tid_88717 + i_91425 * num_threads_96027];\n                            eta_p_88733 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[i_91425];\n                            defunc_0_f_res_88734 = eta_p_88732 / eta_p_88733;\n                            ((__global double *) color_95859)[phys_tid_88717 + i_91425 * num_threads_96027] = defunc_0_f_res_88734;\n                        }\n                        if (cond_65095) {\n                            ext_mem_ext_96053 = color_95857;\n                        } else {\n                            double f_arg0_88737;\n                            int64_t f64_res_88738;\n                            \n                            f_arg0_88737 = ((__global double *) color_95859)[phys_tid_88717];\n                            f64_res_88738 = fptosi_f64_i64(f_arg0_88737);\n                            for (int64_t nest_i_98264 = 0; nest_i_98264 < dim_45874; nest_i_98264++) {\n                                ((__global int64_t *) color_95858)[phys_tid_88717 + nest_i_98264 * num_threads_96027] = f64_res_88738;\n                            }\n                            for (int64_t i_88741 = 0; i_88741 < arg_65084; i_88741++) {\n                                int64_t index_primexp_88743;\n                                bool x_88744;\n                         ", "       bool y_88745;\n                                bool bounds_check_88746;\n                                bool index_certs_88747;\n                                double f_arg0_88748;\n                                int64_t f64_res_88749;\n                                \n                                index_primexp_88743 = add64((int64_t) 1, i_88741);\n                                x_88744 = sle64((int64_t) 0, index_primexp_88743);\n                                y_88745 = slt64(index_primexp_88743, dim_45874);\n                                bounds_check_88746 = x_88744 && y_88745;\n                                if (!bounds_check_88746) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 200) == -1) {\n                                            global_failure_args[0] = (int64_t) index_primexp_88743;\n                                            global_failure_args[1] = (int64_t) dim_45874;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                f_arg0_88748 = ((__global double *) color_95859)[phys_tid_88717 + index_primexp_88743 * num_threads_96027];\n                                f64_res_88749 = fptosi_f64_i64(f_arg0_88748);\n                                ((__global int64_t *) color_95858)[phys_tid_88717 + index_primexp_88743 * num_threads_96027] = f64_res_88749;\n                            }\n                            ext_mem_ext_96053 = color_95858;\n                        }\n                        f_arg0_88751 = ((__global int64_t *) ext_mem_ext_96053)[phys_tid_88717];\n                        max_res_88752 = smax64((int64_t) 0, f_arg0_88751);\n                        for (int64_t nest_i_98266 = 0; nest_i_98266 < dim_45874; nest_i_9826", "6++) {\n                            ((__global int64_t *) color_95856)[phys_tid_88717 + nest_i_98266 * num_threads_96027] = max_res_88752;\n                        }\n                        for (int64_t i_88755 = 0; i_88755 < arg_65084; i_88755++) {\n                            int64_t index_primexp_88757;\n                            bool x_88758;\n                            bool y_88759;\n                            bool bounds_check_88760;\n                            bool index_certs_88761;\n                            int64_t f_arg0_88762;\n                            int64_t max_res_88763;\n                            \n                            index_primexp_88757 = add64((int64_t) 1, i_88755);\n                            x_88758 = sle64((int64_t) 0, index_primexp_88757);\n                            y_88759 = slt64(index_primexp_88757, dim_45874);\n                            bounds_check_88760 = x_88758 && y_88759;\n                            if (!bounds_check_88760) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 201) == -1) {\n                                        global_failure_args[0] = (int64_t) index_primexp_88757;\n                                        global_failure_args[1] = (int64_t) dim_45874;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            f_arg0_88762 = ((__global int64_t *) ext_mem_ext_96053)[phys_tid_88717 + index_primexp_88757 * num_threads_96027];\n                            max_res_88763 = smax64((int64_t) 0, f_arg0_88762);\n                            ((__global int64_t *) color_95856)[phys_tid_88717 + index_primexp_88757 * num_threads_96027] = max_res_88763;\n                        }\n                        ext_mem_ext_96062 = color_95856;\n         ",
                                    "           }\n                    f_arg0_88765 = ((__global int64_t *) ext_mem_ext_96062)[phys_tid_88717];\n                    min_res_88766 = smin64(f_arg0_88765, min_arg1_91500);\n                    for (int64_t nest_i_98268 = 0; nest_i_98268 < dim_45874; nest_i_98268++) {\n                        ((__global int64_t *) color_95855)[phys_tid_88717 + nest_i_98268 * num_threads_96027] = min_res_88766;\n                    }\n                    for (int64_t i_88769 = 0; i_88769 < arg_65084; i_88769++) {\n                        int64_t index_primexp_88771;\n                        bool x_88772;\n                        bool y_88773;\n                        bool bounds_check_88774;\n                        bool index_certs_88775;\n                        bool index_certs_88777;\n                        int64_t f_arg0_88776;\n                        int64_t zm_lhs_88778;\n                        int64_t min_arg1_88779;\n                        int64_t min_res_88780;\n                        \n                        index_primexp_88771 = add64((int64_t) 1, i_88769);\n                        x_88772 = sle64((int64_t) 0, index_primexp_88771);\n                        y_88773 = slt64(index_primexp_88771, dim_45874);\n                        bounds_check_88774 = x_88772 && y_88773;\n                        if (!bounds_check_88774) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 202) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_88771;\n                                    global_failure_args[1] = (int64_t) dim_45874;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        if (!bounds_check_88774) {\n                            {\n                                if (atomic_cmpxchg_i32_global(glo", "bal_failure, -1, 203) == -1) {\n                                    global_failure_args[0] = (int64_t) index_primexp_88771;\n                                    global_failure_args[1] = (int64_t) dim_45874;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        f_arg0_88776 = ((__global int64_t *) ext_mem_ext_96062)[phys_tid_88717 + index_primexp_88771 * num_threads_96027];\n                        zm_lhs_88778 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_88771];\n                        min_arg1_88779 = sub64(zm_lhs_88778, (int64_t) 1);\n                        min_res_88780 = smin64(f_arg0_88776, min_arg1_88779);\n                        ((__global int64_t *) color_95855)[phys_tid_88717 + index_primexp_88771 * num_threads_96027] = min_res_88780;\n                    }\n                    ext_mem_ext_96071 = color_95855;\n                }\n                for (int64_t i_91429 = 0; i_91429 < dim_45874; i_91429++) {\n                    int64_t eta_p_88783;\n                    int64_t eta_p_88784;\n                    int64_t defunc_0_f_res_88785;\n                    \n                    eta_p_88783 = ((__global int64_t *) ext_mem_ext_96071)[phys_tid_88717 + i_91429 * num_threads_96027];\n                    eta_p_88784 = ((__global int64_t *) grid_part_prefix_sum_mem_91595)[i_91429];\n                    defunc_0_f_res_88785 = mul64(eta_p_88783, eta_p_88784);\n                    ((__global int64_t *) color_95853)[phys_tid_88717 + i_91429 * num_threads_96027] = defunc_0_f_res_88785;\n                }\n                acc_88788 = (int64_t) 0;\n                for (int64_t i_88787 = 0; i_88787 < dim_45874; i_88787++) {\n                    int64_t b_88789;\n                    int64_t defunc_0_f_res_88790;\n                    int64_t acc_tmp_98271;\n                  ", "  \n                    b_88789 = ((__global int64_t *) color_95853)[phys_tid_88717 + i_88787 * num_threads_96027];\n                    defunc_0_f_res_88790 = add64(acc_88788, b_88789);\n                    acc_tmp_98271 = defunc_0_f_res_88790;\n                    acc_88788 = acc_tmp_98271;\n                }\n                defunc_0_foldl_res_88786 = acc_88788;\n                if (chk_i_98232 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, defunc_0_foldl_res_88786) && slt64(defunc_0_foldl_res_88786, total_grid_no_45885)) && (sle64(sext_i32_i64(chk_i_98232) * hist_H_chk_98234, defunc_0_foldl_res_88786) && slt64(defunc_0_foldl_res_88786, sext_i32_i64(chk_i_98232) * hist_H_chk_98234 + hist_H_chk_98234))) {\n                        int32_t eta_p_88718;\n                        int32_t eta_p_88719 = 1;\n                        int32_t old_98272;\n                        \n                        old_98272 = atomic_add_i32_shared(&((volatile __local int *) subhistogram_local_mem_98250)[sext_i32_i64(thread_local_subhisto_i_98252) * hist_H_chk_98234 + (defunc_0_foldl_res_88786 - sext_i32_i64(chk_i_98232) * hist_H_chk_98234)], (int) eta_p_88719);\n                    }\n                }\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_98273 = smin64(hist_H_chk_98234, total_grid_no_45885 - sext_i32_i64(chk_i_98232) * hist_H_chk_98234);\n            int32_t histo_sizze_98274 = sext_i64_i32(trunc_H_98273);\n            \n            for (int32_t local_i_98275 = 0; local_i_98275 < init_per_thread_98236; local_i_98275++) {\n                int32_t j_98276 =",
                                    " local_i_98275 * sext_i64_i32(max_tblock_sizze_98221) + local_tid_98238;\n                \n                if (slt32(j_98276, histo_sizze_98274)) {\n                    int32_t eta_p_88718;\n                    int32_t eta_p_88719;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_88718 = ((__local int32_t *) subhistogram_local_mem_98250)[sext_i32_i64(j_98276)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_98277 = 0; subhisto_id_98277 < hist_M_98228 - 1; subhisto_id_98277++) {\n                            eta_p_88719 = ((__local int32_t *) subhistogram_local_mem_98250)[(sext_i32_i64(subhisto_id_98277) + (int64_t) 1) * hist_H_chk_98234 + sext_i32_i64(j_98276)];\n                            \n                            int32_t defunc_0_op_res_88720 = add32(eta_p_88718, eta_p_88719);\n                            \n                            eta_p_88718 = defunc_0_op_res_88720;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int32_t *) defunc_0_map_res_subhistos_mem_98212)[srem64(sext_i32_i64(virt_tblock_id_98245), num_tblocks_98222) * total_grid_no_45885 + (sext_i32_i64(j_98276) + sext_i32_i64(chk_i_98232) * hist_H_chk_98234)] = eta_p_88718;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_98221\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doubleziseghist_local_91219_dim1, 1, 1)\nvoid sort_for_Skyline_doubleziseghist_local_91219(__global int *global_failure, int64_t total_part_no_45886, int64_t m_67009, int64_t num_subhistos_98928, int64_t num_tblocks_98939, int32_t hist_M_98945, int32_t chk_i_98949, int64_t num_segments_98950, i", "nt64_t hist_H_chk_98951, int64_t histo_sizze_98952, int32_t init_per_thread_98953, __global unsigned char *mem_95032, __global unsigned char *defunc_0_map_res_subhistos_mem_98929)\n{\n    #define max_tblock_sizze_98938 (sort_for_Skyline_doubleziseghist_local_91219zimax_tblock_sizze_98938)\n    \n    volatile __local unsigned char *subhistogram_local_mem_98967_backing_0 = &shared_mem[0];\n    const int64_t subhistogram_local_mem_98967_backing_0_offset = 0 + ((int64_t) 8 * (hist_M_98945 * hist_H_chk_98951) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_98945 * hist_H_chk_98951), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98955;\n    int32_t tblock_sizze_98958;\n    int32_t wave_sizze_98957;\n    int32_t block_id_98956;\n    int32_t global_tid_98954;\n    int64_t phys_tid_91219;\n    int32_t phys_tblock_id_98959;\n    int32_t iterations_98960;\n    \n    local_tid_98955 = get_local_id(0);\n    tblock_sizze_98958 = get_local_size(0);\n    wave_sizze_98957 = LOCKSTEP_WIDTH;\n    block_id_98956 = get_tblock_id(0);\n    global_tid_98954 = block_id_98956 * tblock_sizze_98958 + local_tid_98955;\n    phys_tid_91219 = sext_i32_i64(global_tid_98954);\n    phys_tblock_id_98959 = get_tblock_id(0);\n    iterations_98960 = sdiv_up32(sext_i64_i32(num_tblocks_98939 * num_segments_98950) - phys_tblock_id_98959, sext_i64_i32(num_tblocks_98939));\n    for (int32_t i_98961 = 0; i_98961 < iterations_98960; i_98961++) {\n        int32_t virt_tblock_id_98962;\n        int32_t flat_segment_id_98963;\n        int32_t gid_in_segment_98964;\n        int32_t pgtid_in_segment_98965;\n        int32_t threads_per_segment_98966;\n        __local unsigned char *subhistogram_local_mem_98967;\n        int32_t thread_local_subhisto_i_98969;\n        int64_t num_chunks_98976;\n        \n        virt_tblock_id_98962 = phys_tblock_id_98959 + i_98961 * sext_i64_i32(num_tblocks_98939);\n        flat_segment_id_98963 = squot32(virt_tblock_id_98962, sext_i64_i32(num_tblocks_", "98939));\n        gid_in_segment_98964 = srem32(virt_tblock_id_98962, sext_i64_i32(num_tblocks_98939));\n        pgtid_in_segment_98965 = gid_in_segment_98964 * sext_i64_i32(max_tblock_sizze_98938) + local_tid_98955;\n        threads_per_segment_98966 = sext_i64_i32(num_tblocks_98939 * max_tblock_sizze_98938);\n        subhistogram_local_mem_98967 = (__local unsigned char *) subhistogram_local_mem_98967_backing_0;\n        thread_local_subhisto_i_98969 = srem32(local_tid_98955, hist_M_98945);\n        // initialize histograms in shared memory\n        {\n            for (int32_t local_i_98970 = 0; local_i_98970 < init_per_thread_98953; local_i_98970++) {\n                int32_t j_98971 = local_i_98970 * sext_i64_i32(max_tblock_sizze_98938) + local_tid_98955;\n                int32_t j_offset_98972 = hist_M_98945 * sext_i64_i32(histo_sizze_98952) * gid_in_segment_98964 + j_98971;\n                int32_t local_subhisto_i_98973 = squot32(j_98971, sext_i64_i32(histo_sizze_98952));\n                int32_t global_subhisto_i_98974 = squot32(j_offset_98972, sext_i64_i32(histo_sizze_98952));\n                \n                if (slt32(j_98971, hist_M_98945 * sext_i64_i32(histo_sizze_98952))) {\n                    // First subhistogram is initialised from global memory; others with neutral element.\n                    {\n                        if (global_subhisto_i_98974 == 0 && ((sle64((int64_t) 0, (int64_t) 0) && slt64((int64_t) 0, num_subhistos_98928)) && (sle64((int64_t) 0, sext_i32_i64(srem32(j_98971, sext_i64_i32(histo_sizze_98952))) + sext_i32_i64(chk_i_98949) * hist_H_chk_98951) && slt64(sext_i32_i64(srem32(j_98971, sext_i64_i32(histo_sizze_98952))) + sext_i32_i64(chk_i_98949) * hist_H_chk_98951, total_part_no_45886)))) {\n                            int64_t tmp_98975 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_98929)[sext_i32_i64(srem32(j_98971, sext_i64_i32(histo_sizze_98952))) + sext_i32_i64(chk_i_98949) * hist_H_chk_98951];\n                            \n           ",
                                    "                 ((__local int64_t *) subhistogram_local_mem_98967)[sext_i32_i64(local_subhisto_i_98973) * hist_H_chk_98951 + sext_i32_i64(srem32(j_98971, sext_i64_i32(histo_sizze_98952)))] = tmp_98975;\n                        } else {\n                            ((__local int64_t *) subhistogram_local_mem_98967)[sext_i32_i64(local_subhisto_i_98973) * hist_H_chk_98951 + sext_i32_i64(srem32(j_98971, sext_i64_i32(histo_sizze_98952)))] = (int64_t) 0;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        num_chunks_98976 = sdiv_up64(m_67009, sext_i32_i64(threads_per_segment_98966));\n        for (int64_t chunk_i_98977 = 0; chunk_i_98977 < num_chunks_98976; chunk_i_98977++) {\n            int64_t i_98978 = chunk_i_98977 * sext_i32_i64(threads_per_segment_98966) + sext_i32_i64(pgtid_in_segment_98965);\n            \n            if (slt64(i_98978, m_67009)) {\n                int64_t gtid_91218;\n                int64_t bucket_p_91223;\n                \n                gtid_91218 = i_98978;\n                bucket_p_91223 = ((__global int64_t *) mem_95032)[gtid_91218];\n                if (chk_i_98949 == 0) {\n                    // save map-out results\n                    { }\n                }\n                // perform atomic updates\n                {\n                    if ((sle64((int64_t) 0, bucket_p_91223) && slt64(bucket_p_91223, total_part_no_45886)) && (sle64(sext_i32_i64(chk_i_98949) * hist_H_chk_98951, bucket_p_91223) && slt64(bucket_p_91223, sext_i32_i64(chk_i_98949) * hist_H_chk_98951 + hist_H_chk_98951))) {\n                        int64_t eta_p_91220;\n                        int64_t eta_p_91221 = (int64_t) 1;\n                        int64_t old_98979;\n                        \n                        old_98979 = atomic_add_i64_shared(&((volatile __local int64_t *) subhistogram_local_mem_98967)[sext_i32_i64(thread_local_subhisto_i_98969) * hist_H_chk_98951 + (bucket_p_91223 - sext_i32_i64(c", "hk_i_98949) * hist_H_chk_98951)], (int64_t) eta_p_91221);\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Compact the multiple shared memory subhistograms to result in global memory\n        {\n            int64_t trunc_H_98980 = smin64(hist_H_chk_98951, total_part_no_45886 - sext_i32_i64(chk_i_98949) * hist_H_chk_98951);\n            int32_t histo_sizze_98981 = sext_i64_i32(trunc_H_98980);\n            \n            for (int32_t local_i_98982 = 0; local_i_98982 < init_per_thread_98953; local_i_98982++) {\n                int32_t j_98983 = local_i_98982 * sext_i64_i32(max_tblock_sizze_98938) + local_tid_98955;\n                \n                if (slt32(j_98983, histo_sizze_98981)) {\n                    int64_t eta_p_91220;\n                    int64_t eta_p_91221;\n                    \n                    // Read values from subhistogram 0.\n                    {\n                        eta_p_91220 = ((__local int64_t *) subhistogram_local_mem_98967)[sext_i32_i64(j_98983)];\n                    }\n                    // Accumulate based on values in other subhistograms.\n                    {\n                        for (int32_t subhisto_id_98984 = 0; subhisto_id_98984 < hist_M_98945 - 1; subhisto_id_98984++) {\n                            eta_p_91221 = ((__local int64_t *) subhistogram_local_mem_98967)[(sext_i32_i64(subhisto_id_98984) + (int64_t) 1) * hist_H_chk_98951 + sext_i32_i64(j_98983)];\n                            \n                            int64_t defunc_0_op_res_91222 = add64(eta_p_91220, eta_p_91221);\n                            \n                            eta_p_91220 = defunc_0_op_res_91222;\n                        }\n                    }\n                    // Put final bucket value in global memory.\n                    {\n                        ((__global int64_t *) defunc_0_map_res_subhistos_mem_98929)[srem64(sext_i32_i64(virt_tblock_id_98962), num_tblocks_98939) * total_par", "t_no_45886 + (sext_i32_i64(j_98983) + sext_i32_i64(chk_i_98949) * hist_H_chk_98951)] = eta_p_91220;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_2:\n    return;\n    #undef max_tblock_sizze_98938\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77955_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77955(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xs_mem_91599, __global unsigned char *mem_93156)\n{\n    #define segmap_tblock_sizze_77950 (sort_for_Skyline_doublezisegmap_77955zisegmap_tblock_sizze_77950)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96304;\n    int32_t tblock_sizze_96307;\n    int32_t wave_sizze_96306;\n    int32_t block_id_96305;\n    int32_t global_tid_96303;\n    int64_t phys_tid_77955;\n    int64_t global_tid_96308;\n    int64_t slice_96309;\n    int64_t slice_96310;\n    int64_t gtid_77953;\n    int64_t remnant_96311;\n    int64_t gtid_77954;\n    int64_t remnant_96312;\n    \n    local_tid_96304 = get_local_id(0);\n    tblock_sizze_96307 = get_local_size(0);\n    wave_sizze_96306 = LOCKSTEP_WIDTH;\n    block_id_96305 = get_tblock_id(0);\n    global_tid_96303 = block_id_96305 * tblock_sizze_96307 + local_tid_96304;\n    phys_tid_77955 = sext_i32_i64(global_tid_96303);\n    global_tid_96308 = sext_i32_i64(block_id_96305) * segmap_tblock_sizze_77950 + sext_i32_i64(local_tid_96304);\n    slice_96309 = dim_45874;\n    slice_96310 = n_45877 * slice_96309;\n    gtid_77953 = squot64(global_tid_96308, slice_96309);\n    remnant_96311 = global_tid_96308 - gtid_77953 * slice_96309;\n    gtid_77954 = remnant_96311;\n    remnant_96312 = remnant_96311 - gtid_77954;\n    if (slt64(gtid_77953, n_45877) && slt64(gtid_77954, dim_45874)) {\n        double eta_p_77956;\n        double eta_p_77957;\n        double defunc_0_f_res_77958;\n        \n        eta_p_77956 = ",
                                    "((__global double *) xs_mem_91599)[gtid_77953 * dim_45874 + gtid_77954];\n        eta_p_77957 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_77954];\n        defunc_0_f_res_77958 = eta_p_77956 - eta_p_77957;\n        ((__global double *) mem_93156)[gtid_77953 * dim_45874 + gtid_77954] = defunc_0_f_res_77958;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77950\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77971_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77971(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *mem_93156)\n{\n    #define segmap_tblock_sizze_77966 (sort_for_Skyline_doublezisegmap_77971zisegmap_tblock_sizze_77966)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96315;\n    int32_t tblock_sizze_96318;\n    int32_t wave_sizze_96317;\n    int32_t block_id_96316;\n    int32_t global_tid_96314;\n    int64_t phys_tid_77971;\n    int64_t global_tid_96319;\n    int64_t slice_96320;\n    int64_t slice_96321;\n    int64_t gtid_77969;\n    int64_t remnant_96322;\n    int64_t gtid_77970;\n    int64_t remnant_96323;\n    \n    local_tid_96315 = get_local_id(0);\n    tblock_sizze_96318 = get_local_size(0);\n    wave_sizze_96317 = LOCKSTEP_WIDTH;\n    block_id_96316 = get_tblock_id(0);\n    global_tid_96314 = block_id_96316 * tblock_sizze_96318 + local_tid_96315;\n    phys_tid_77971 = sext_i32_i64(global_tid_96314);\n    global_tid_96319 = sext_i32_i64(block_id_96316) * segmap_tblock_sizze_77966 + sext_i32_i64(local_tid_96315);\n    slice_96320 = dim_45874;\n    slice_96321 = n_45877 * slice_96320;\n    gtid_77969 = squot64(global_tid_96319, slice_96320);\n    remnant_96322 = global_tid_96319 - gtid_77969 * slice_96320;\n    gtid_77970 = remnant_96322;\n    remnant_96323 = remnant_96322 - gtid_77970;\n    if (slt64(gtid_77969, n_45877) && slt64(gtid_77970, dim_45874)) {\n        double eta_p_77972;\n        double eta_p_77973;\n     ", "   double defunc_0_f_res_77974;\n        \n        eta_p_77972 = ((__global double *) mem_93156)[gtid_77969 * dim_45874 + gtid_77970];\n        eta_p_77973 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_77970];\n        defunc_0_f_res_77974 = eta_p_77972 / eta_p_77973;\n        ((__global double *) mem_93156)[gtid_77969 * dim_45874 + gtid_77970] = defunc_0_f_res_77974;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_77966\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77983_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77983(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *mem_93156, __global unsigned char *mem_93159)\n{\n    #define segmap_tblock_sizze_77979 (sort_for_Skyline_doublezisegmap_77983zisegmap_tblock_sizze_77979)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96326;\n    int32_t tblock_sizze_96329;\n    int32_t wave_sizze_96328;\n    int32_t block_id_96327;\n    int32_t global_tid_96325;\n    int64_t phys_tid_77983;\n    int64_t global_tid_96330;\n    int64_t slice_96331;\n    int64_t gtid_77982;\n    int64_t remnant_96332;\n    \n    local_tid_96326 = get_local_id(0);\n    tblock_sizze_96329 = get_local_size(0);\n    wave_sizze_96328 = LOCKSTEP_WIDTH;\n    block_id_96327 = get_tblock_id(0);\n    global_tid_96325 = block_id_96327 * tblock_sizze_96329 + local_tid_96326;\n    phys_tid_77983 = sext_i32_i64(global_tid_96325);\n    global_tid_96330 = sext_i32_i64(block_id_96327) * segmap_tblock_sizze_77979 + sext_i32_i64(local_tid_96326);\n    slice_96331 = n_45877;\n    gtid_77982 = global_tid_96330;\n    remnant_96332 = global_tid_96330 - gtid_77982;\n    if (slt64(gtid_77982, n_45877)) {\n        double f_arg0_77985;\n        int64_t f64_res_77986;\n        \n        f_arg0_77985 = ((__global double *) mem_93156)[gtid_77982 * dim_45874];\n        f64_res_77986 = fptosi_f64_i64(f_arg0_77985);\n        ((__global int64_t *) mem_93159)[gtid_77982] = f64_res_77986;\n    }\n    \n  error_", "0:\n    return;\n    #undef segmap_tblock_sizze_77979\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_77996_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_77996(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_77992, int32_t virt_num_tblocks_96353, __global unsigned char *mem_93173, __global unsigned char *mem_93184, __global unsigned char *mem_93202)\n{\n    #define segmap_tblock_sizze_77991 (sort_for_Skyline_doublezisegmap_77996zisegmap_tblock_sizze_77991)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96355;\n    int32_t tblock_sizze_96358;\n    int32_t wave_sizze_96357;\n    int32_t block_id_96356;\n    int32_t global_tid_96354;\n    int64_t phys_tid_77996;\n    int32_t phys_tblock_id_96359;\n    int32_t iterations_96360;\n    \n    local_tid_96355 = get_local_id(0);\n    tblock_sizze_96358 = get_local_size(0);\n    wave_sizze_96357 = LOCKSTEP_WIDTH;\n    block_id_96356 = get_tblock_id(0);\n    global_tid_96354 = block_id_96356 * tblock_sizze_96358 + local_tid_96355;\n    phys_tid_77996 = sext_i32_i64(global_tid_96354);\n    phys_tblock_id_96359 = get_tblock_id(0);\n    iterations_96360 = sdiv_up32(virt_num_tblocks_96353 - phys_tblock_id_96359, sext_i64_i32(num_tblocks_77992));\n    for (int32_t i_96361 = 0; i_96361 < iterations_96360; i_96361++) {\n        int32_t virt_tblock_id_96362;\n        int64_t global_tid_96363;\n        int64_t slice_96364;\n        int64_t gtid_77995;\n        int64_t remnant_96365;\n        \n        virt_tblock_id_96362 = phys_tblock_id_96359 + i_96361 * sext_i64_i32(num_tblocks_77992);\n        global_tid_96363 = sext_i32_i64(virt_tblock_id_96362) * segmap_tblock_sizze_77991 + sext_i32_i64(local_tid_96355);\n        slic",
                                    "e_96364 = n_45877;\n        gtid_77995 = global_tid_96363;\n        remnant_96365 = global_tid_96363 - gtid_77995;\n        if (slt64(gtid_77995, n_45877)) {\n            for (int64_t i_78000 = 0; i_78000 < arg_65084; i_78000++) {\n                int64_t index_primexp_78002;\n                bool x_78003;\n                bool y_78004;\n                bool bounds_check_78005;\n                bool index_certs_78006;\n                double f_arg0_78007;\n                int64_t f64_res_78008;\n                \n                index_primexp_78002 = add64((int64_t) 1, i_78000);\n                x_78003 = sle64((int64_t) 0, index_primexp_78002);\n                y_78004 = slt64(index_primexp_78002, dim_45874);\n                bounds_check_78005 = x_78003 && y_78004;\n                if (!bounds_check_78005) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 68) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_78002;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_78007 = ((__global double *) mem_93184)[gtid_77995 + index_primexp_78002 * n_45877];\n                f64_res_78008 = fptosi_f64_i64(f_arg0_78007);\n                ((__global int64_t *) mem_93173)[gtid_77995 + index_primexp_78002 * n_45877] = f64_res_78008;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_93202)[gtid_77995 + i_0 * n_45877] = ((__global int64_t *) mem_93173)[gtid_77995 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #", "undef segmap_tblock_sizze_77991\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78016_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78016(__global int *global_failure, int64_t n_45877, int64_t ext_91707, __global unsigned char *ext_mem_93208, __global unsigned char *mem_93211)\n{\n    #define segmap_tblock_sizze_78012 (sort_for_Skyline_doublezisegmap_78016zisegmap_tblock_sizze_78012)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96369;\n    int32_t tblock_sizze_96372;\n    int32_t wave_sizze_96371;\n    int32_t block_id_96370;\n    int32_t global_tid_96368;\n    int64_t phys_tid_78016;\n    int64_t global_tid_96373;\n    int64_t slice_96374;\n    int64_t gtid_78015;\n    int64_t remnant_96375;\n    \n    local_tid_96369 = get_local_id(0);\n    tblock_sizze_96372 = get_local_size(0);\n    wave_sizze_96371 = LOCKSTEP_WIDTH;\n    block_id_96370 = get_tblock_id(0);\n    global_tid_96368 = block_id_96370 * tblock_sizze_96372 + local_tid_96369;\n    phys_tid_78016 = sext_i32_i64(global_tid_96368);\n    global_tid_96373 = sext_i32_i64(block_id_96370) * segmap_tblock_sizze_78012 + sext_i32_i64(local_tid_96369);\n    slice_96374 = n_45877;\n    gtid_78015 = global_tid_96373;\n    remnant_96375 = global_tid_96373 - gtid_78015;\n    if (slt64(gtid_78015, n_45877)) {\n        int64_t f_arg0_78018;\n        int64_t max_res_78019;\n        \n        f_arg0_78018 = ((__global int64_t *) ext_mem_93208)[gtid_78015 * ext_91707];\n        max_res_78019 = smax64((int64_t) 0, f_arg0_78018);\n        ((__global int64_t *) mem_93211)[gtid_78015] = max_res_78019;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78012\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78029_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78029(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_78025, int32_t virt_num_tblocks_96396, __global unsigned char *mem_93", "225, __global unsigned char *mem_93236, __global unsigned char *mem_93254)\n{\n    #define segmap_tblock_sizze_78024 (sort_for_Skyline_doublezisegmap_78029zisegmap_tblock_sizze_78024)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96398;\n    int32_t tblock_sizze_96401;\n    int32_t wave_sizze_96400;\n    int32_t block_id_96399;\n    int32_t global_tid_96397;\n    int64_t phys_tid_78029;\n    int32_t phys_tblock_id_96402;\n    int32_t iterations_96403;\n    \n    local_tid_96398 = get_local_id(0);\n    tblock_sizze_96401 = get_local_size(0);\n    wave_sizze_96400 = LOCKSTEP_WIDTH;\n    block_id_96399 = get_tblock_id(0);\n    global_tid_96397 = block_id_96399 * tblock_sizze_96401 + local_tid_96398;\n    phys_tid_78029 = sext_i32_i64(global_tid_96397);\n    phys_tblock_id_96402 = get_tblock_id(0);\n    iterations_96403 = sdiv_up32(virt_num_tblocks_96396 - phys_tblock_id_96402, sext_i64_i32(num_tblocks_78025));\n    for (int32_t i_96404 = 0; i_96404 < iterations_96403; i_96404++) {\n        int32_t virt_tblock_id_96405;\n        int64_t global_tid_96406;\n        int64_t slice_96407;\n        int64_t gtid_78028;\n        int64_t remnant_96408;\n        \n        virt_tblock_id_96405 = phys_tblock_id_96402 + i_96404 * sext_i64_i32(num_tblocks_78025);\n        global_tid_96406 = sext_i32_i64(virt_tblock_id_96405) * segmap_tblock_sizze_78024 + sext_i32_i64(local_tid_96398);\n        slice_96407 = n_45877;\n        gtid_78028 = global_tid_96406;\n        remnant_96408 = global_tid_96406 - gtid_78028;\n        if (slt64(gtid_78028, n_45877)) {\n            for (int64_t i_78033 = 0; i_78033 < arg_65084; i_78033++) {\n                int64_t index_primexp_78035;\n                bool x_78036;\n                bool y_78037;\n                bool bounds_check_78038;\n                bool index_certs_7",
                                    "8039;\n                int64_t f_arg0_78040;\n                int64_t max_res_78041;\n                \n                index_primexp_78035 = add64((int64_t) 1, i_78033);\n                x_78036 = sle64((int64_t) 0, index_primexp_78035);\n                y_78037 = slt64(index_primexp_78035, dim_45874);\n                bounds_check_78038 = x_78036 && y_78037;\n                if (!bounds_check_78038) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 69) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_78035;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_78040 = ((__global int64_t *) mem_93236)[gtid_78028 + index_primexp_78035 * n_45877];\n                max_res_78041 = smax64((int64_t) 0, f_arg0_78040);\n                ((__global int64_t *) mem_93225)[gtid_78028 + index_primexp_78035 * n_45877] = max_res_78041;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_93254)[gtid_78028 + i_0 * n_45877] = ((__global int64_t *) mem_93225)[gtid_78028 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_78024\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78049_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78049(__global int *global_failure, int64_t n_45877, int64_t ext_93291, __global unsigned char *mem_91632, __global unsigned char *ext_mem_93292, __global unsigned char *mem_93295)\n{\n    #define segmap_tblock_sizze_78045 (sort_for_Skyline_doublezisegmap_7804", "9zisegmap_tblock_sizze_78045)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96413;\n    int32_t tblock_sizze_96416;\n    int32_t wave_sizze_96415;\n    int32_t block_id_96414;\n    int32_t global_tid_96412;\n    int64_t phys_tid_78049;\n    int64_t global_tid_96417;\n    int64_t slice_96418;\n    int64_t gtid_78048;\n    int64_t remnant_96419;\n    \n    local_tid_96413 = get_local_id(0);\n    tblock_sizze_96416 = get_local_size(0);\n    wave_sizze_96415 = LOCKSTEP_WIDTH;\n    block_id_96414 = get_tblock_id(0);\n    global_tid_96412 = block_id_96414 * tblock_sizze_96416 + local_tid_96413;\n    phys_tid_78049 = sext_i32_i64(global_tid_96412);\n    global_tid_96417 = sext_i32_i64(block_id_96414) * segmap_tblock_sizze_78045 + sext_i32_i64(local_tid_96413);\n    slice_96418 = n_45877;\n    gtid_78048 = global_tid_96417;\n    remnant_96419 = global_tid_96417 - gtid_78048;\n    if (slt64(gtid_78048, n_45877)) {\n        int64_t min_arg1_91475;\n        int64_t f_arg0_78051;\n        int64_t min_res_78052;\n        \n        min_arg1_91475 = ((__global int64_t *) mem_91632)[(int64_t) 0];\n        f_arg0_78051 = ((__global int64_t *) ext_mem_93292)[gtid_78048 * ext_93291];\n        min_res_78052 = smin64(f_arg0_78051, min_arg1_91475);\n        ((__global int64_t *) mem_93295)[gtid_78048] = min_res_78052;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78045\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78062_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78062(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_78058, int32_t virt_num_tblocks_96440, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_93309, __global unsigned char *mem_93320, __global unsigned char *mem_93338)\n{\n    #define segmap_tblock_sizze_78057 (sort_for_Skyline_doublezisegmap_78062zisegmap_tblock_sizze_78057)\n    \n    volatile", " __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96442;\n    int32_t tblock_sizze_96445;\n    int32_t wave_sizze_96444;\n    int32_t block_id_96443;\n    int32_t global_tid_96441;\n    int64_t phys_tid_78062;\n    int32_t phys_tblock_id_96446;\n    int32_t iterations_96447;\n    \n    local_tid_96442 = get_local_id(0);\n    tblock_sizze_96445 = get_local_size(0);\n    wave_sizze_96444 = LOCKSTEP_WIDTH;\n    block_id_96443 = get_tblock_id(0);\n    global_tid_96441 = block_id_96443 * tblock_sizze_96445 + local_tid_96442;\n    phys_tid_78062 = sext_i32_i64(global_tid_96441);\n    phys_tblock_id_96446 = get_tblock_id(0);\n    iterations_96447 = sdiv_up32(virt_num_tblocks_96440 - phys_tblock_id_96446, sext_i64_i32(num_tblocks_78058));\n    for (int32_t i_96448 = 0; i_96448 < iterations_96447; i_96448++) {\n        int32_t virt_tblock_id_96449;\n        int64_t global_tid_96450;\n        int64_t slice_96451;\n        int64_t gtid_78061;\n        int64_t remnant_96452;\n        \n        virt_tblock_id_96449 = phys_tblock_id_96446 + i_96448 * sext_i64_i32(num_tblocks_78058);\n        global_tid_96450 = sext_i32_i64(virt_tblock_id_96449) * segmap_tblock_sizze_78057 + sext_i32_i64(local_tid_96442);\n        slice_96451 = n_45877;\n        gtid_78061 = global_tid_96450;\n        remnant_96452 = global_tid_96450 - gtid_78061;\n        if (slt64(gtid_78061, n_45877)) {\n            for (int64_t i_78066 = 0; i_78066 < arg_65084; i_78066++) {\n                int64_t index_primexp_78068;\n                bool x_78069;\n                bool y_78070;\n                bool bounds_check_78071;\n                bool index_certs_78072;\n                bool index_certs_78074;\n                int64_t f_arg0_78073;\n                int64_t zm_lhs_78075;\n                int64_t min_arg1_78076;\n                int64_t min_res_78077",
                                    ";\n                \n                index_primexp_78068 = add64((int64_t) 1, i_78066);\n                x_78069 = sle64((int64_t) 0, index_primexp_78068);\n                y_78070 = slt64(index_primexp_78068, dim_45874);\n                bounds_check_78071 = x_78069 && y_78070;\n                if (!bounds_check_78071) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 70) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_78068;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_78071) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 71) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_78068;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_78073 = ((__global int64_t *) mem_93320)[gtid_78061 + index_primexp_78068 * n_45877];\n                zm_lhs_78075 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_78068];\n                min_arg1_78076 = sub64(zm_lhs_78075, (int64_t) 1);\n                min_res_78077 = smin64(f_arg0_78073, min_arg1_78076);\n                ((__global int64_t *) mem_93309)[gtid_78061 + index_primexp_78068 * n_45877] = min_res_78077;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_93338)[gtid_78061 + i_0 * n_45877] = ((__global int64_t *) mem_93309)[gtid_78061 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GL", "OBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_78057\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78091_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78091(__global int *global_failure, int64_t dim_45874, int64_t n_45877, int64_t ext_93387, int64_t ext_93388, __global unsigned char *grid_part_prefix_sum_mem_91595, __global unsigned char *ext_mem_93389, __global unsigned char *mem_93393)\n{\n    #define segmap_tblock_sizze_78086 (sort_for_Skyline_doublezisegmap_78091zisegmap_tblock_sizze_78086)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96457;\n    int32_t tblock_sizze_96460;\n    int32_t wave_sizze_96459;\n    int32_t block_id_96458;\n    int32_t global_tid_96456;\n    int64_t phys_tid_78091;\n    int64_t global_tid_96461;\n    int64_t slice_96462;\n    int64_t slice_96463;\n    int64_t gtid_78089;\n    int64_t remnant_96464;\n    int64_t gtid_78090;\n    int64_t remnant_96465;\n    \n    local_tid_96457 = get_local_id(0);\n    tblock_sizze_96460 = get_local_size(0);\n    wave_sizze_96459 = LOCKSTEP_WIDTH;\n    block_id_96458 = get_tblock_id(0);\n    global_tid_96456 = block_id_96458 * tblock_sizze_96460 + local_tid_96457;\n    phys_tid_78091 = sext_i32_i64(global_tid_96456);\n    global_tid_96461 = sext_i32_i64(block_id_96458) * segmap_tblock_sizze_78086 + sext_i32_i64(local_tid_96457);\n    slice_96462 = dim_45874;\n    slice_96463 = n_45877 * slice_96462;\n    gtid_78089 = squot64(global_tid_96461, slice_96462);\n    remnant_96464 = global_tid_96461 - gtid_78089 * slice_96462;\n    gtid_78090 = remnant_96464;\n    remnant_96465 = remnant_96464 - gtid_78090;\n    if (slt64(gtid_78089, n_45877) && slt64(gtid_78090, dim_45874)) {\n        int64_t eta_p_78092;\n        int64_t eta_p_78093;\n        int64_t defunc_0_f_res_78094;\n        \n        eta_p_78092 = ((__global int64_t *) ext_mem_93389)", "[gtid_78089 * ext_93388 + gtid_78090 * ext_93387];\n        eta_p_78093 = ((__global int64_t *) grid_part_prefix_sum_mem_91595)[gtid_78090];\n        defunc_0_f_res_78094 = mul64(eta_p_78092, eta_p_78093);\n        ((__global int64_t *) mem_93393)[gtid_78089 * dim_45874 + gtid_78090] = defunc_0_f_res_78094;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78086\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78102_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78102(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t dz2080U_45875, int64_t n_45877, __global unsigned char *mem_93404, __global unsigned char *mem_93406, __global unsigned char *mem_93532)\n{\n    #define segmap_tblock_sizze_78097 (sort_for_Skyline_doublezisegmap_78102zisegmap_tblock_sizze_78097)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96468;\n    int32_t tblock_sizze_96471;\n    int32_t wave_sizze_96470;\n    int32_t block_id_96469;\n    int32_t global_tid_96467;\n    int64_t phys_tid_78102;\n    int64_t global_tid_96472;\n    int64_t slice_96473;\n    int64_t gtid_78101;\n    int64_t remnant_96474;\n    \n    local_tid_96468 = get_local_id(0);\n    tblock_sizze_96471 = get_local_size(0);\n    wave_sizze_96470 = LOCKSTEP_WIDTH;\n    block_id_96469 = get_tblock_id(0);\n    global_tid_96467 = block_id_96469 * tblock_sizze_96471 + local_tid_96468;\n    phys_tid_78102 = sext_i32_i64(global_tid_96467);\n    global_tid_96472 = sext_i32_i64(block_id_96469) * segmap_tblock_sizze_78097 + sext_i32_i64(local_tid_96468);\n    slice_96473 = n_45877;\n    gtid_78101 = global_tid_96472;\n    remnant_96474 = global_tid_96472 - gtid_78101;\n    if (slt64(gtid_78101, n_45877)) {\n        int64_t defunc_0_foldl_res_78104;\n        int64_t acc_78106;\n        bool x_78109;\n        bool y_78110;\n        bool bounds_check_78111;\n        bool index_certs_78112;\n        \n        acc_78106 = (int64_t) 0;\n        for (int64_t i_781",
                                    "05 = 0; i_78105 < dim_45874; i_78105++) {\n            int64_t b_78107;\n            int64_t defunc_0_f_res_78108;\n            int64_t acc_tmp_96475;\n            \n            b_78107 = ((__global int64_t *) mem_93404)[gtid_78101 + i_78105 * n_45877];\n            defunc_0_f_res_78108 = add64(acc_78106, b_78107);\n            acc_tmp_96475 = defunc_0_f_res_78108;\n            acc_78106 = acc_tmp_96475;\n        }\n        defunc_0_foldl_res_78104 = acc_78106;\n        x_78109 = sle64((int64_t) 0, defunc_0_foldl_res_78104);\n        y_78110 = slt64(defunc_0_foldl_res_78104, dz2080U_45875);\n        bounds_check_78111 = x_78109 && y_78110;\n        if (!bounds_check_78111) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 72) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_78104;\n                    global_failure_args[1] = (int64_t) dz2080U_45875;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_93532)[gtid_78101] = defunc_0_foldl_res_78104;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78097\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78122_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78122(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_93406, __global unsigned char *mem_93416, __global unsigned char *mem_93532)\n{\n    #define segmap_tblock_sizze_78117 (sort_for_Skyline_doublezisegmap_78122zisegmap_tblock_sizze_78117)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96478;\n    int32_t tblock_sizze_96481;\n    int32_t wave_sizze_96480;\n    int32_t block_id_96479;\n    int32_t global_tid_96477;\n    int64_t phys_tid_78122;\n    int64_t global_tid_96482;\n    int64_t slice_96483;\n    int64_t slice_96484;\n    int64_t gtid_78121;\n    int64_t remnant_96485;\n    int64_t gtid_slice_78120;\n    ", "int64_t remnant_96486;\n    \n    local_tid_96478 = get_local_id(0);\n    tblock_sizze_96481 = get_local_size(0);\n    wave_sizze_96480 = LOCKSTEP_WIDTH;\n    block_id_96479 = get_tblock_id(0);\n    global_tid_96477 = block_id_96479 * tblock_sizze_96481 + local_tid_96478;\n    phys_tid_78122 = sext_i32_i64(global_tid_96477);\n    global_tid_96482 = sext_i32_i64(block_id_96479) * segmap_tblock_sizze_78117 + sext_i32_i64(local_tid_96478);\n    slice_96483 = dim_45874;\n    slice_96484 = n_45877 * slice_96483;\n    gtid_78121 = squot64(global_tid_96482, slice_96483);\n    remnant_96485 = global_tid_96482 - gtid_78121 * slice_96483;\n    gtid_slice_78120 = remnant_96485;\n    remnant_96486 = remnant_96485 - gtid_slice_78120;\n    if (slt64(gtid_78121, n_45877) && slt64(gtid_slice_78120, dim_45874)) {\n        int64_t defunc_0_foldl_res_78123;\n        bool index_certs_78124;\n        double v_78125;\n        \n        defunc_0_foldl_res_78123 = ((__global int64_t *) mem_93532)[gtid_78121];\n        index_certs_78124 = 0;\n        v_78125 = ((__global double *) start_of_grid_partition_mem_91598)[defunc_0_foldl_res_78123 * dim_45874 + gtid_slice_78120];\n        ((__global double *) mem_93416)[gtid_78121 * dim_45874 + gtid_slice_78120] = v_78125;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78117\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78137_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78137(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *xs_mem_91599, __global unsigned char *mem_93416)\n{\n    #define segmap_tblock_sizze_78132 (sort_for_Skyline_doublezisegmap_78137zisegmap_tblock_sizze_78132)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96489;\n    int32_t tblock_sizze_96492;\n    int32_t wave_sizze_96491;\n    int32_t block_id_96490;\n    int32_t global_tid_96488;\n    int64_t phys_tid_78137;\n    int64_t global_tid_96493;\n    int64_t slice_96494;\n    int64_t slice_96495;\n    int64_t gtid_7813", "5;\n    int64_t remnant_96496;\n    int64_t gtid_78136;\n    int64_t remnant_96497;\n    \n    local_tid_96489 = get_local_id(0);\n    tblock_sizze_96492 = get_local_size(0);\n    wave_sizze_96491 = LOCKSTEP_WIDTH;\n    block_id_96490 = get_tblock_id(0);\n    global_tid_96488 = block_id_96490 * tblock_sizze_96492 + local_tid_96489;\n    phys_tid_78137 = sext_i32_i64(global_tid_96488);\n    global_tid_96493 = sext_i32_i64(block_id_96490) * segmap_tblock_sizze_78132 + sext_i32_i64(local_tid_96489);\n    slice_96494 = dim_45874;\n    slice_96495 = n_45877 * slice_96494;\n    gtid_78135 = squot64(global_tid_96493, slice_96494);\n    remnant_96496 = global_tid_96493 - gtid_78135 * slice_96494;\n    gtid_78136 = remnant_96496;\n    remnant_96497 = remnant_96496 - gtid_78136;\n    if (slt64(gtid_78135, n_45877) && slt64(gtid_78136, dim_45874)) {\n        double eta_p_78138;\n        double eta_p_78139;\n        double defunc_0_f_res_78140;\n        \n        eta_p_78138 = ((__global double *) xs_mem_91599)[gtid_78135 * dim_45874 + gtid_78136];\n        eta_p_78139 = ((__global double *) mem_93416)[gtid_78135 * dim_45874 + gtid_78136];\n        defunc_0_f_res_78140 = eta_p_78138 - eta_p_78139;\n        ((__global double *) mem_93416)[gtid_78135 * dim_45874 + gtid_78136] = defunc_0_f_res_78140;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78132\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78159_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78159(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_78155, int32_t virt_num_tblocks_96518, __global unsigned char *mem_93430, __global unsigned char *mem_93441, __global unsigned char *mem_93459)\n{\n    #define segmap_tblock_sizze_78154 (sort_for_Skyline_doublezisegmap_78159zisegmap_tblock_sizze_78154)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_",
                                    "failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96520;\n    int32_t tblock_sizze_96523;\n    int32_t wave_sizze_96522;\n    int32_t block_id_96521;\n    int32_t global_tid_96519;\n    int64_t phys_tid_78159;\n    int32_t phys_tblock_id_96524;\n    int32_t iterations_96525;\n    \n    local_tid_96520 = get_local_id(0);\n    tblock_sizze_96523 = get_local_size(0);\n    wave_sizze_96522 = LOCKSTEP_WIDTH;\n    block_id_96521 = get_tblock_id(0);\n    global_tid_96519 = block_id_96521 * tblock_sizze_96523 + local_tid_96520;\n    phys_tid_78159 = sext_i32_i64(global_tid_96519);\n    phys_tblock_id_96524 = get_tblock_id(0);\n    iterations_96525 = sdiv_up32(virt_num_tblocks_96518 - phys_tblock_id_96524, sext_i64_i32(num_tblocks_78155));\n    for (int32_t i_96526 = 0; i_96526 < iterations_96525; i_96526++) {\n        int32_t virt_tblock_id_96527;\n        int64_t global_tid_96528;\n        int64_t slice_96529;\n        int64_t gtid_78158;\n        int64_t remnant_96530;\n        \n        virt_tblock_id_96527 = phys_tblock_id_96524 + i_96526 * sext_i64_i32(num_tblocks_78155);\n        global_tid_96528 = sext_i32_i64(virt_tblock_id_96527) * segmap_tblock_sizze_78154 + sext_i32_i64(local_tid_96520);\n        slice_96529 = n_45877;\n        gtid_78158 = global_tid_96528;\n        remnant_96530 = global_tid_96528 - gtid_78158;\n        if (slt64(gtid_78158, n_45877)) {\n            for (int64_t i_78163 = 0; i_78163 < arg_65084; i_78163++) {\n                int64_t index_primexp_78165;\n                bool x_78166;\n                bool y_78167;\n                bool bounds_check_78168;\n                bool index_certs_78169;\n                \n                index_primexp_78165 = add64((int64_t) 1, i_78163);\n                x_78166 = sle64((int64_t) 0, index_primexp_78165);\n                y_78167 = slt64(index_primexp_78165, dim_45874);\n                bounds_check_78168 = x_78166 && y_78167;\n              ", "  if (!bounds_check_78168) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 73) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_78165;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_93430)[gtid_78158 + n_45877 * index_primexp_78165 + i_0 * n_45877] = ((__global double *) mem_93441)[gtid_78158 + n_45877 * index_primexp_78165 + i_0 * n_45877];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_93459)[gtid_78158 + i_0 * n_45877] = ((__global double *) mem_93430)[gtid_78158 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_78154\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78207_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78207(__global int *global_failure, int64_t n_45877, int64_t map_arg1_78180, int64_t j_m_i_78181, int64_t ext_91706, int64_t ext_91707, __global unsigned char *ext_mem_93465, __global unsigned char *mem_93476)\n{\n    #define segmap_tblock_sizze_78202 (sort_for_Skyline_doublezisegmap_78207zisegmap_tblock_sizze_78202)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96538;\n    int32_t tblock_sizze_96541;\n    int32_t wave_sizze_96540;\n    int32_t block_id_96539;\n    int32_t global_tid_96537;\n    int64_t phys_tid_78207;\n    int64_t global_tid_96542;\n    int64_t slice_96543;\n    int64_t slice_96544;\n", "    int64_t gtid_78205;\n    int64_t remnant_96545;\n    int64_t gtid_78206;\n    int64_t remnant_96546;\n    \n    local_tid_96538 = get_local_id(0);\n    tblock_sizze_96541 = get_local_size(0);\n    wave_sizze_96540 = LOCKSTEP_WIDTH;\n    block_id_96539 = get_tblock_id(0);\n    global_tid_96537 = block_id_96539 * tblock_sizze_96541 + local_tid_96538;\n    phys_tid_78207 = sext_i32_i64(global_tid_96537);\n    global_tid_96542 = sext_i32_i64(block_id_96539) * segmap_tblock_sizze_78202 + sext_i32_i64(local_tid_96538);\n    slice_96543 = j_m_i_78181;\n    slice_96544 = n_45877 * slice_96543;\n    gtid_78205 = squot64(global_tid_96542, slice_96543);\n    remnant_96545 = global_tid_96542 - gtid_78205 * slice_96543;\n    gtid_78206 = remnant_96545;\n    remnant_96546 = remnant_96545 - gtid_78206;\n    if (slt64(gtid_78205, n_45877) && slt64(gtid_78206, j_m_i_78181)) {\n        int64_t slice_91305;\n        double eta_p_78208;\n        double lifted_lambda_res_78209;\n        \n        slice_91305 = map_arg1_78180 + gtid_78206;\n        eta_p_78208 = ((__global double *) ext_mem_93465)[gtid_78205 * ext_91707 + slice_91305 * ext_91706];\n        lifted_lambda_res_78209 = eta_p_78208 * eta_p_78208;\n        ((__global double *) mem_93476)[gtid_78205 * j_m_i_78181 + gtid_78206] = lifted_lambda_res_78209;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78202\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78217_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78217(__global int *global_failure, int64_t n_45877, int64_t arg_65084, int64_t i_78176, int64_t j_m_i_78181, int64_t num_tblocks_78213, int64_t ext_91706, int64_t ext_91707, int32_t virt_num_tblocks_96547, __global unsigned char *ext_mem_93465, __global unsigned char *mem_93487, __global unsigned char *mem_93498, __global unsigned char *mem_93510)\n{\n    #define segmap_tblock_sizze_78212 (sort_for_Skyline_doublezisegmap_78217zisegmap_tblock_sizze_78212)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_t",
                                    "id_96549;\n    int32_t tblock_sizze_96552;\n    int32_t wave_sizze_96551;\n    int32_t block_id_96550;\n    int32_t global_tid_96548;\n    int64_t phys_tid_78217;\n    int32_t phys_tblock_id_96553;\n    int32_t iterations_96554;\n    \n    local_tid_96549 = get_local_id(0);\n    tblock_sizze_96552 = get_local_size(0);\n    wave_sizze_96551 = LOCKSTEP_WIDTH;\n    block_id_96550 = get_tblock_id(0);\n    global_tid_96548 = block_id_96550 * tblock_sizze_96552 + local_tid_96549;\n    phys_tid_78217 = sext_i32_i64(global_tid_96548);\n    phys_tblock_id_96553 = get_tblock_id(0);\n    iterations_96554 = sdiv_up32(virt_num_tblocks_96547 - phys_tblock_id_96553, sext_i64_i32(num_tblocks_78213));\n    for (int32_t i_96555 = 0; i_96555 < iterations_96554; i_96555++) {\n        int32_t virt_tblock_id_96556;\n        int64_t global_tid_96557;\n        int64_t slice_96558;\n        int64_t gtid_78216;\n        int64_t remnant_96559;\n        \n        virt_tblock_id_96556 = phys_tblock_id_96553 + i_96555 * sext_i64_i32(num_tblocks_78213);\n        global_tid_96557 = sext_i32_i64(virt_tblock_id_96556) * segmap_tblock_sizze_78212 + sext_i32_i64(local_tid_96549);\n        slice_96558 = n_45877;\n        gtid_78216 = global_tid_96557;\n        remnant_96559 = global_tid_96557 - gtid_78216;\n        if (slt64(gtid_78216, n_45877)) {\n            double defunc_0_seqmap_res_r_transformed_row_78219;\n            double defunc_0_foldl_res_78221;\n            double acc_78223;\n            double sqrt_res_78226;\n            double atan2_res_78227;\n            \n            defunc_0_seqmap_res_r_transformed_row_78219 = ((__global double *) ext_mem_93465)[gtid_78216 * ext_91707 + i_78176 * ext_91706];\n            acc_78223 = 0.0;\n            for (int64_t i_78222 = 0; i_78222 < j_m_i_78181; i_78222++) {\n                double b_78224;\n                double defunc_0_f_res_78225;\n                double acc_tmp_96560;\n                \n                b_78224 = ((__global double *) mem_93498)[gtid_78216 + i_78222 * n_45877];\n     ", "           defunc_0_f_res_78225 = acc_78223 + b_78224;\n                acc_tmp_96560 = defunc_0_f_res_78225;\n                acc_78223 = acc_tmp_96560;\n            }\n            defunc_0_foldl_res_78221 = acc_78223;\n            sqrt_res_78226 = futrts_sqrt64(defunc_0_foldl_res_78221);\n            atan2_res_78227 = futrts_atan2_64(sqrt_res_78226, defunc_0_seqmap_res_r_transformed_row_78219);\n            ((__global double *) mem_93487)[gtid_78216 + i_78176 * n_45877] = atan2_res_78227;\n            for (int64_t i_0 = 0; i_0 < arg_65084; i_0++) {\n                ((__global double *) mem_93510)[gtid_78216 + i_0 * n_45877] = ((__global double *) mem_93487)[gtid_78216 + i_0 * n_45877];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_78212\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78241_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78241(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t n_45877, int64_t arg_65084, int64_t ext_93511, int64_t ext_93512, __global unsigned char *angle_part_prefix_sum_mem_91593, __global unsigned char *angle_partitions_per_dim_mem_91594, __global unsigned char *ext_mem_93148, __global unsigned char *ext_mem_93514, __global unsigned char *mem_93518)\n{\n    #define segmap_tblock_sizze_78236 (sort_for_Skyline_doublezisegmap_78241zisegmap_tblock_sizze_78236)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96563;\n    int32_t tblock_sizze_96566;\n    int32_t wave_sizze_96565;\n    int32_t block_id_96564;\n    int32_t global_tid_96562;\n    int64_t phys_tid_78241;\n    int64_t global_tid_96567;\n    int64_t slice_96568;\n    int64_t slice_96569;\n    int64_t gtid_78239;\n    int64_t remnant_96570;\n    int64_t gtid_78240;\n    int64_t remnant_96571;\n    \n    local_tid_96563 = get_local_id(0);\n    tb", "lock_sizze_96566 = get_local_size(0);\n    wave_sizze_96565 = LOCKSTEP_WIDTH;\n    block_id_96564 = get_tblock_id(0);\n    global_tid_96562 = block_id_96564 * tblock_sizze_96566 + local_tid_96563;\n    phys_tid_78241 = sext_i32_i64(global_tid_96562);\n    global_tid_96567 = sext_i32_i64(block_id_96564) * segmap_tblock_sizze_78236 + sext_i32_i64(local_tid_96563);\n    slice_96568 = arg_65084;\n    slice_96569 = n_45877 * slice_96568;\n    gtid_78239 = squot64(global_tid_96567, slice_96568);\n    remnant_96570 = global_tid_96567 - gtid_78239 * slice_96568;\n    gtid_78240 = remnant_96570;\n    remnant_96571 = remnant_96570 - gtid_78240;\n    if (slt64(gtid_78239, n_45877) && slt64(gtid_78240, arg_65084)) {\n        double eta_p_78242;\n        double eta_p_78243;\n        int64_t eta_p_78244;\n        int64_t eta_p_78245;\n        int64_t defunc_0_f_res_78246;\n        \n        eta_p_78242 = ((__global double *) ext_mem_93514)[gtid_78239 * ext_93512 + gtid_78240 * ext_93511];\n        eta_p_78243 = ((__global double *) ext_mem_93148)[gtid_78240];\n        eta_p_78244 = ((__global int64_t *) angle_part_prefix_sum_mem_91593)[gtid_78240];\n        eta_p_78245 = ((__global int64_t *) angle_partitions_per_dim_mem_91594)[gtid_78240];\n        futrts_lifted_lambda_10152(&defunc_0_f_res_78246, eta_p_78242, eta_p_78243, eta_p_78244, eta_p_78245);\n        ((__global int64_t *) mem_93518)[gtid_78239 * arg_65084 + gtid_78240] = defunc_0_f_res_78246;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78236\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78253_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78253(__global int *global_failure, int64_t n_45877, int64_t total_angle_no_45884, int64_t arg_65084, __global unsigned char *mem_93529, __global unsigned char *mem_93532)\n{\n    #define segmap_tblock_sizze_78249 (sort_for_Skyline_doublezisegmap_78253zisegmap_tblock_sizze_78249)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96574;\n    int32_t tblock_siz",
                                    "ze_96577;\n    int32_t wave_sizze_96576;\n    int32_t block_id_96575;\n    int32_t global_tid_96573;\n    int64_t phys_tid_78253;\n    int64_t global_tid_96578;\n    int64_t slice_96579;\n    int64_t gtid_78252;\n    int64_t remnant_96580;\n    \n    local_tid_96574 = get_local_id(0);\n    tblock_sizze_96577 = get_local_size(0);\n    wave_sizze_96576 = LOCKSTEP_WIDTH;\n    block_id_96575 = get_tblock_id(0);\n    global_tid_96573 = block_id_96575 * tblock_sizze_96577 + local_tid_96574;\n    phys_tid_78253 = sext_i32_i64(global_tid_96573);\n    global_tid_96578 = sext_i32_i64(block_id_96575) * segmap_tblock_sizze_78249 + sext_i32_i64(local_tid_96574);\n    slice_96579 = n_45877;\n    gtid_78252 = global_tid_96578;\n    remnant_96580 = global_tid_96578 - gtid_78252;\n    if (slt64(gtid_78252, n_45877)) {\n        int64_t defunc_0_foldl_res_78254;\n        int64_t defunc_0_foldl_res_78256;\n        int64_t acc_78258;\n        int64_t zp_lhs_78261;\n        int64_t get_id_from_grid_angle_res_78262;\n        \n        defunc_0_foldl_res_78254 = ((__global int64_t *) mem_93532)[gtid_78252];\n        acc_78258 = (int64_t) 0;\n        for (int64_t i_78257 = 0; i_78257 < arg_65084; i_78257++) {\n            int64_t b_78259;\n            int64_t defunc_0_f_res_78260;\n            int64_t acc_tmp_96581;\n            \n            b_78259 = ((__global int64_t *) mem_93529)[gtid_78252 + i_78257 * n_45877];\n            defunc_0_f_res_78260 = add64(acc_78258, b_78259);\n            acc_tmp_96581 = defunc_0_f_res_78260;\n            acc_78258 = acc_tmp_96581;\n        }\n        defunc_0_foldl_res_78256 = acc_78258;\n        zp_lhs_78261 = mul64(total_angle_no_45884, defunc_0_foldl_res_78254);\n        get_id_from_grid_angle_res_78262 = add64(defunc_0_foldl_res_78256, zp_lhs_78261);\n        ((__global int64_t *) mem_93532)[gtid_78252] = get_id_from_grid_angle_res_78262;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_78249\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78594_dim1, 1, 1)\nvoid sort_", "for_Skyline_doublezisegmap_78594(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t block_sizze_65315, int64_t x_67084, int64_t num_tblocks_78587, int32_t virt_num_tblocks_96643, __global unsigned char *mem_93532, __global unsigned char *mem_93543, __global unsigned char *mem_93555, __global unsigned char *mem_93557, __global unsigned char *mem_93558, __global unsigned char *mem_93565, __global unsigned char *mem_93582, __global unsigned char *mem_93585)\n{\n    #define segmap_tblock_sizze_78586 (sort_for_Skyline_doublezisegmap_78594zisegmap_tblock_sizze_78586)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96645;\n    int32_t tblock_sizze_96648;\n    int32_t wave_sizze_96647;\n    int32_t block_id_96646;\n    int32_t global_tid_96644;\n    int64_t phys_tid_78594;\n    int32_t phys_tblock_id_96649;\n    int32_t iterations_96650;\n    \n    local_tid_96645 = get_local_id(0);\n    tblock_sizze_96648 = get_local_size(0);\n    wave_sizze_96647 = LOCKSTEP_WIDTH;\n    block_id_96646 = get_tblock_id(0);\n    global_tid_96644 = block_id_96646 * tblock_sizze_96648 + local_tid_96645;\n    phys_tid_78594 = sext_i32_i64(global_tid_96644);\n    phys_tblock_id_96649 = get_tblock_id(0);\n    iterations_96650 = sdiv_up32(virt_num_tblocks_96643 - phys_tblock_id_96649, sext_i64_i32(num_tblocks_78587));\n    for (int32_t i_96651 = 0; i_96651 < iterations_96650; i_96651++) {\n        int32_t virt_tblock_id_96652;\n        int64_t global_tid_96653;\n        int64_t slice_96654;\n        int64_t slice_96655;\n        int64_t gtid_78592;\n        int64_t remnant_96656;\n        int64_t gtid_78593;\n        int64_t remnant_96657;\n        \n        virt_tblock_id_96652 = phys_tblock_id_96649 + i_96651 * sext_i64_i32(nu", "m_tblocks_78587);\n        global_tid_96653 = sext_i32_i64(virt_tblock_id_96652) * segmap_tblock_sizze_78586 + sext_i32_i64(local_tid_96645);\n        slice_96654 = block_sizze_65315;\n        slice_96655 = x_67084 * slice_96654;\n        gtid_78592 = squot64(global_tid_96653, slice_96654);\n        remnant_96656 = global_tid_96653 - gtid_78592 * slice_96654;\n        gtid_78593 = remnant_96656;\n        remnant_96657 = remnant_96656 - gtid_78593;\n        if (slt64(gtid_78592, x_67084) && slt64(gtid_78593, block_sizze_65315)) {\n            int64_t index_primexp_91388;\n            int64_t k_78597;\n            bool cond_78598;\n            int64_t ext_93561;\n            int64_t ext_93560;\n            __global unsigned char *ext_mem_93562;\n            int64_t lifted_lambda_res_78599;\n            int64_t lifted_lambda_res_78601;\n            \n            index_primexp_91388 = mul64(block_sizze_65315, gtid_78592);\n            k_78597 = add64(gtid_78593, index_primexp_91388);\n            cond_78598 = slt64(k_78597, n_45877);\n            if (cond_78598) {\n                ext_93561 = k_78597;\n            } else {\n                ext_93561 = (int64_t) 0;\n            }\n            if (cond_78598) {\n                ext_93560 = n_45877;\n            } else {\n                ext_93560 = (int64_t) 1;\n            }\n            if (cond_78598) {\n                bool x_78602;\n                bool bounds_check_78603;\n                bool index_certs_78604;\n                int64_t lifted_lambda_res_t_res_78605;\n                \n                x_78602 = sle64((int64_t) 0, k_78597);\n                bounds_check_78603 = cond_78598 && x_78602;\n                if (!bounds_check_78603) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 74) == -1) {\n                            global_failure_args[0] = (int64_t) k_78597;\n                            global_failure_args[1] = (int64_t) n_45877;\n                            ;\n                        }\n        ",
                                    "                local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                lifted_lambda_res_t_res_78605 = ((__global int64_t *) mem_93532)[k_78597];\n                ext_mem_93562 = mem_93543;\n                lifted_lambda_res_78599 = lifted_lambda_res_t_res_78605;\n                lifted_lambda_res_78601 = k_78597;\n            } else {\n                int64_t defunc_0_reduce_res_91480;\n                int64_t defunc_0_reduce_res_91481;\n                \n                defunc_0_reduce_res_91480 = ((__global int64_t *) mem_93557)[(int64_t) 0];\n                defunc_0_reduce_res_91481 = ((__global int64_t *) mem_93558)[(int64_t) 0];\n                ext_mem_93562 = mem_93555;\n                lifted_lambda_res_78599 = defunc_0_reduce_res_91480;\n                lifted_lambda_res_78601 = defunc_0_reduce_res_91481;\n            }\n            ((__global int64_t *) mem_93565)[gtid_78592 * block_sizze_65315 + gtid_78593] = lifted_lambda_res_78599;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_93582)[gtid_78592 * block_sizze_65315 + gtid_78593 + i_0 * (block_sizze_65315 * x_67084)] = ((__global double *) ext_mem_93562)[ext_93561 + i_0 * ext_93560];\n            }\n            ((__global int64_t *) mem_93585)[gtid_78592 * block_sizze_65315 + gtid_78593] = lifted_lambda_res_78601;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_78586\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_78624_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_78624(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t block_sizze_65315, int64_t distance_65357, int64_t x_67084, int64_t num_tblocks_78618, int64_", "t num_threads_95927, int64_t ctx_95940, int32_t virt_num_tblocks_96658, __global unsigned char *mem_93596, __global unsigned char *mem_93613, __global unsigned char *mem_93624, __global unsigned char *mem_93681, __global unsigned char *mem_93698, __global unsigned char *mem_93709, __global unsigned char *color_95757, __global unsigned char *color_95758)\n{\n    #define segmap_tblock_sizze_78617 (sort_for_Skyline_doublezisegmap_78624zisegmap_tblock_sizze_78617)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96660;\n    int32_t tblock_sizze_96663;\n    int32_t wave_sizze_96662;\n    int32_t block_id_96661;\n    int32_t global_tid_96659;\n    int64_t phys_tid_78624;\n    int32_t phys_tblock_id_96664;\n    int32_t iterations_96665;\n    \n    local_tid_96660 = get_local_id(0);\n    tblock_sizze_96663 = get_local_size(0);\n    wave_sizze_96662 = LOCKSTEP_WIDTH;\n    block_id_96661 = get_tblock_id(0);\n    global_tid_96659 = block_id_96661 * tblock_sizze_96663 + local_tid_96660;\n    phys_tid_78624 = sext_i32_i64(global_tid_96659);\n    phys_tblock_id_96664 = get_tblock_id(0);\n    iterations_96665 = sdiv_up32(virt_num_tblocks_96658 - phys_tblock_id_96664, sext_i64_i32(num_tblocks_78618));\n    for (int32_t i_96666 = 0; i_96666 < iterations_96665; i_96666++) {\n        int32_t virt_tblock_id_96667;\n        int64_t global_tid_96668;\n        int64_t slice_96669;\n        int64_t gtid_78623;\n        int64_t remnant_96670;\n        \n        virt_tblock_id_96667 = phys_tblock_id_96664 + i_96666 * sext_i64_i32(num_tblocks_78618);\n        global_tid_96668 = sext_i32_i64(virt_tblock_id_96667) * segmap_tblock_sizze_78617 + sext_i32_i64(local_tid_96660);\n        slice_96669 = x_67084;\n        gtid_78623 = global_tid_96668;\n        remnant_96670 = global_tid_96668 - gtid_78623;\n        if (s", "lt64(gtid_78623, x_67084)) {\n            for (int64_t i_78631 = 0; i_78631 < distance_65357; i_78631++) {\n                int64_t gt_arg1_78635;\n                bool x_78636;\n                bool y_78637;\n                bool bounds_check_78638;\n                bool index_certs_78639;\n                bool y_78641;\n                bool index_certs_78642;\n                int64_t gt_arg1_78640;\n                int64_t gt_arg0_78643;\n                bool lifted_lambda_res_78644;\n                bool defunc_0_lifted_gt_res_78645;\n                bool s_78646;\n                int64_t s_78650;\n                bool loop_while_78651;\n                int64_t j_78655;\n                \n                gt_arg1_78635 = add64((int64_t) 1, i_78631);\n                x_78636 = sle64((int64_t) 0, gt_arg1_78635);\n                y_78637 = slt64(gt_arg1_78635, block_sizze_65315);\n                bounds_check_78638 = x_78636 && y_78637;\n                if (!bounds_check_78638) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 75) == -1) {\n                            global_failure_args[0] = (int64_t) gt_arg1_78635;\n                            global_failure_args[1] = (int64_t) block_sizze_65315;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                y_78641 = slt64(i_78631, block_sizze_65315);\n                if (!y_78641) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 76) == -1) {\n                            global_failure_args[0] = (int64_t) i_78631;\n                            global_failure_args[1] = (int64_t) block_sizze_65315;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                gt_arg1_78640 = ((__global int64_",
                                    "t *) mem_93596)[gtid_78623 + gt_arg1_78635 * x_67084];\n                gt_arg0_78643 = ((__global int64_t *) mem_93596)[gtid_78623 + i_78631 * x_67084];\n                lifted_lambda_res_78644 = sle64(gt_arg0_78643, gt_arg1_78640);\n                defunc_0_lifted_gt_res_78645 = !lifted_lambda_res_78644;\n                loop_while_78651 = defunc_0_lifted_gt_res_78645;\n                j_78655 = i_78631;\n                while (loop_while_78651) {\n                    bool x_78656;\n                    bool y_78657;\n                    bool bounds_check_78658;\n                    bool index_certs_78659;\n                    int64_t copy_arg0_78664;\n                    bool x_78665;\n                    bool y_78666;\n                    bool bounds_check_78667;\n                    bool index_certs_78668;\n                    int64_t copy_arg0_78660;\n                    int64_t copy_arg0_78662;\n                    int64_t copy_arg0_78669;\n                    int64_t copy_arg0_78671;\n                    int64_t tmp_78679;\n                    bool cond_78680;\n                    bool loop_cond_78681;\n                    bool loop_while_tmp_96674;\n                    int64_t j_tmp_96678;\n                    \n                    x_78656 = sle64((int64_t) 0, j_78655);\n                    y_78657 = slt64(j_78655, block_sizze_65315);\n                    bounds_check_78658 = x_78656 && y_78657;\n                    if (!bounds_check_78658) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 77) == -1) {\n                                global_failure_args[0] = (int64_t) j_78655;\n                                global_failure_args[1] = (int64_t) block_sizze_65315;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_78664 = add64((int64_t) 1, j_78655);\n       ", "             x_78665 = sle64((int64_t) 0, copy_arg0_78664);\n                    y_78666 = slt64(copy_arg0_78664, block_sizze_65315);\n                    bounds_check_78667 = x_78665 && y_78666;\n                    if (!bounds_check_78667) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 78) == -1) {\n                                global_failure_args[0] = (int64_t) copy_arg0_78664;\n                                global_failure_args[1] = (int64_t) block_sizze_65315;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_78660 = ((__global int64_t *) mem_93596)[gtid_78623 + j_78655 * x_67084];\n                    copy_arg0_78662 = ((__global int64_t *) mem_93624)[gtid_78623 + j_78655 * x_67084];\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) color_95758)[phys_tid_78624 + i_0 * num_threads_95927] = ((__global double *) mem_93613)[gtid_78623 + j_78655 * ctx_95940 + i_0 * x_67084];\n                    }\n                    copy_arg0_78669 = ((__global int64_t *) mem_93596)[gtid_78623 + copy_arg0_78664 * x_67084];\n                    copy_arg0_78671 = ((__global int64_t *) mem_93624)[gtid_78623 + copy_arg0_78664 * x_67084];\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) color_95757)[phys_tid_78624 + i_0 * num_threads_95927] = ((__global double *) mem_93613)[gtid_78623 + copy_arg0_78664 * ctx_95940 + i_0 * x_67084];\n                    }\n                    ((__global int64_t *) mem_93596)[gtid_78623 + j_78655 * x_67084] = copy_arg0_78669;\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_93613)[gtid_78623 + j_78655 * ctx_95940 + i_0 * x_67084] = (", "(__global double *) color_95757)[phys_tid_78624 + i_0 * num_threads_95927];\n                    }\n                    ((__global int64_t *) mem_93624)[gtid_78623 + j_78655 * x_67084] = copy_arg0_78671;\n                    ((__global int64_t *) mem_93596)[gtid_78623 + copy_arg0_78664 * x_67084] = copy_arg0_78660;\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_93613)[gtid_78623 + copy_arg0_78664 * ctx_95940 + i_0 * x_67084] = ((__global double *) color_95758)[phys_tid_78624 + i_0 * num_threads_95927];\n                    }\n                    ((__global int64_t *) mem_93624)[gtid_78623 + copy_arg0_78664 * x_67084] = copy_arg0_78662;\n                    tmp_78679 = sub64(j_78655, (int64_t) 1);\n                    cond_78680 = sle64((int64_t) 0, tmp_78679);\n                    if (cond_78680) {\n                        bool y_78683;\n                        bool bounds_check_78684;\n                        bool index_certs_78685;\n                        int64_t gt_arg1_78682;\n                        int64_t gt_arg0_78686;\n                        bool lifted_lambda_res_78687;\n                        bool defunc_0_lifted_gt_res_78688;\n                        \n                        y_78683 = slt64(tmp_78679, block_sizze_65315);\n                        bounds_check_78684 = cond_78680 && y_78683;\n                        if (!bounds_check_78684) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 79) == -1) {\n                                    global_failure_args[0] = (int64_t) tmp_78679;\n                                    global_failure_args[1] = (int64_t) block_sizze_65315;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        gt_arg1_78682 = ((__globa",
                                    "l int64_t *) mem_93596)[gtid_78623 + j_78655 * x_67084];\n                        gt_arg0_78686 = ((__global int64_t *) mem_93596)[gtid_78623 + tmp_78679 * x_67084];\n                        lifted_lambda_res_78687 = sle64(gt_arg0_78686, gt_arg1_78682);\n                        defunc_0_lifted_gt_res_78688 = !lifted_lambda_res_78687;\n                        loop_cond_78681 = defunc_0_lifted_gt_res_78688;\n                    } else {\n                        loop_cond_78681 = 0;\n                    }\n                    loop_while_tmp_96674 = loop_cond_78681;\n                    j_tmp_96678 = tmp_78679;\n                    loop_while_78651 = loop_while_tmp_96674;\n                    j_78655 = j_tmp_96678;\n                }\n                s_78646 = loop_while_78651;\n                s_78650 = j_78655;\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_65315; i_0++) {\n                ((__global int64_t *) mem_93681)[gtid_78623 + i_0 * x_67084] = ((__global int64_t *) mem_93596)[gtid_78623 + i_0 * x_67084];\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_65315; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                    ((__global double *) mem_93698)[gtid_78623 + (i_0 * (x_67084 * dim_45874) + i_1 * x_67084)] = ((__global double *) mem_93613)[gtid_78623 + (i_0 * ctx_95940 + i_1 * x_67084)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_65315; i_0++) {\n                ((__global int64_t *) mem_93709)[gtid_78623 + i_0 * x_67084] = ((__global int64_t *) mem_93624)[gtid_78623 + i_0 * x_67084];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_78617\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81496_dim1, 1, 1)\nvoid sort_for_Skyline_doubl", "ezisegmap_81496(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t loop_dz2084Uz2082U_69773, int64_t next_stride_69779, unsigned char zzero_69780_bits, int64_t num_merges_69783, int64_t m_69788, unsigned char zzero_leq_i_p_m_t_s_69789_bits, unsigned char i_lte_j_69790_bits, __global unsigned char *mem_93746, __global unsigned char *mem_93747)\n{\n    bool zzero_69780 = zzero_69780_bits;\n    bool zzero_leq_i_p_m_t_s_69789 = zzero_leq_i_p_m_t_s_69789_bits;\n    bool i_lte_j_69790 = i_lte_j_69790_bits;\n    \n    #define segmap_tblock_sizze_81490 (sort_for_Skyline_doublezisegmap_81496zisegmap_tblock_sizze_81490)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96821;\n    int32_t tblock_sizze_96824;\n    int32_t wave_sizze_96823;\n    int32_t block_id_96822;\n    int32_t global_tid_96820;\n    int64_t phys_tid_81496;\n    int64_t global_tid_96825;\n    int64_t slice_96826;\n    int64_t gtid_81495;\n    int64_t remnant_96827;\n    \n    local_tid_96821 = get_local_id(0);\n    tblock_sizze_96824 = get_local_size(0);\n    wave_sizze_96823 = LOCKSTEP_WIDTH;\n    block_id_96822 = get_tblock_id(0);\n    global_tid_96820 = block_id_96822 * tblock_sizze_96824 + local_tid_96821;\n    phys_tid_81496 = sext_i32_i64(global_tid_96820);\n    global_tid_96825 = sext_i32_i64(block_id_96822) * segmap_tblock_sizze_81490 + sext_i32_i64(local_tid_96821);\n    slice_96826 = num_merges_69783;\n    gtid_81495 = global_tid_96825;\n    remnant_96827 = global_tid_96825 - gtid_81495;\n    if (slt64(gtid_81495, num_merges_69783)) {\n        int64_t start_81498;\n        int64_t j_m_i_81499;\n        bool empty_slice_81500;\n        int64_t m_81501;\n        int64_t i_p_m_t_s_81502;\n        bool zzero_leq_i_p_m_t_s_81503;\n        bool i_p_m_t_s_leq_w_81504;\n        bool zzero_lte_i_81505;\n        bool i_lte_j_81506;\n        bool y_81507;\n        bool y_81508;\n        bool forwards_ok_81509;\n        bool ok_or_empty_81510;\n        bool index_certs_81511;", "\n        bool i_p_m_t_s_leq_w_81512;\n        bool y_81513;\n        bool forwards_ok_81514;\n        bool ok_or_empty_81515;\n        bool index_certs_81516;\n        \n        start_81498 = mul64(next_stride_69779, gtid_81495);\n        j_m_i_81499 = sub64(loop_dz2084Uz2082U_69773, start_81498);\n        empty_slice_81500 = j_m_i_81499 == (int64_t) 0;\n        m_81501 = sub64(j_m_i_81499, (int64_t) 1);\n        i_p_m_t_s_81502 = add64(start_81498, m_81501);\n        zzero_leq_i_p_m_t_s_81503 = sle64((int64_t) 0, i_p_m_t_s_81502);\n        i_p_m_t_s_leq_w_81504 = slt64(i_p_m_t_s_81502, loop_dz2084Uz2082U_69773);\n        zzero_lte_i_81505 = sle64((int64_t) 0, start_81498);\n        i_lte_j_81506 = sle64(start_81498, loop_dz2084Uz2082U_69773);\n        y_81507 = i_p_m_t_s_leq_w_81504 && zzero_lte_i_81505;\n        y_81508 = zzero_leq_i_p_m_t_s_81503 && y_81507;\n        forwards_ok_81509 = i_lte_j_81506 && y_81508;\n        ok_or_empty_81510 = empty_slice_81500 || forwards_ok_81509;\n        if (!ok_or_empty_81510) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 99) == -1) {\n                    global_failure_args[0] = (int64_t) start_81498;\n                    global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_69773;\n                    ;\n                }\n                return;\n            }\n        }\n        i_p_m_t_s_leq_w_81512 = slt64(m_69788, j_m_i_81499);\n        y_81513 = zzero_leq_i_p_m_t_s_69789 && i_p_m_t_s_leq_w_81512;\n        forwards_ok_81514 = i_lte_j_69790 && y_81513;\n        ok_or_empty_81515 = zzero_69780 || forwards_ok_81514;\n        if (!ok_or_empty_81515) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 100) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) next_stride_69779;\n                    global_failure_args[2] = (int64_t) j_m_i_81499;\n                    ;\n                }\n                return;\n       ",
                                    "     }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_81490\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81528_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81528(__global int *global_failure, int64_t next_stride_69779, int64_t num_merges_69783, __global unsigned char *mem_param_93737, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_94096)\n{\n    #define segmap_tblock_sizze_81524 (sort_for_Skyline_doublezisegmap_81528zisegmap_tblock_sizze_81524)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96830;\n    int32_t tblock_sizze_96833;\n    int32_t wave_sizze_96832;\n    int32_t block_id_96831;\n    int32_t global_tid_96829;\n    int64_t phys_tid_81528;\n    int64_t global_tid_96834;\n    int64_t slice_96835;\n    int64_t gtid_81527;\n    int64_t remnant_96836;\n    \n    local_tid_96830 = get_local_id(0);\n    tblock_sizze_96833 = get_local_size(0);\n    wave_sizze_96832 = LOCKSTEP_WIDTH;\n    block_id_96831 = get_tblock_id(0);\n    global_tid_96829 = block_id_96831 * tblock_sizze_96833 + local_tid_96830;\n    phys_tid_81528 = sext_i32_i64(global_tid_96829);\n    global_tid_96834 = sext_i32_i64(block_id_96831) * segmap_tblock_sizze_81524 + sext_i32_i64(local_tid_96830);\n    slice_96835 = num_merges_69783;\n    gtid_81527 = global_tid_96834;\n    remnant_96836 = global_tid_96834 - gtid_81527;\n    if (slt64(gtid_81527, num_merges_69783)) {\n        int64_t index_primexp_91370;\n        bool index_certs_81530;\n        bool index_certs_81531;\n        int64_t head_res_81532;\n        \n        index_primexp_91370 = mul64(next_stride_69779, gtid_81527);\n        index_certs_81530 = 0;\n        index_certs_81531 = 0;\n        head_res_81532 = ((__global int64_t *) mem_param_93737)[index_primexp_91370];\n        ((__global int64_t *) mem_94096)[gtid_81527] = head_res_81532;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_81524\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublez", "isegmap_81540_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81540(__global int *global_failure, int64_t dim_45874, int64_t next_stride_69779, int64_t num_merges_69783, __global unsigned char *mem_param_93741, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_94100)\n{\n    #define segmap_tblock_sizze_81535 (sort_for_Skyline_doublezisegmap_81540zisegmap_tblock_sizze_81535)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96839;\n    int32_t tblock_sizze_96842;\n    int32_t wave_sizze_96841;\n    int32_t block_id_96840;\n    int32_t global_tid_96838;\n    int64_t phys_tid_81540;\n    int64_t global_tid_96843;\n    int64_t slice_96844;\n    int64_t slice_96845;\n    int64_t gtid_81539;\n    int64_t remnant_96846;\n    int64_t gtid_slice_81538;\n    int64_t remnant_96847;\n    \n    local_tid_96839 = get_local_id(0);\n    tblock_sizze_96842 = get_local_size(0);\n    wave_sizze_96841 = LOCKSTEP_WIDTH;\n    block_id_96840 = get_tblock_id(0);\n    global_tid_96838 = block_id_96840 * tblock_sizze_96842 + local_tid_96839;\n    phys_tid_81540 = sext_i32_i64(global_tid_96838);\n    global_tid_96843 = sext_i32_i64(block_id_96840) * segmap_tblock_sizze_81535 + sext_i32_i64(local_tid_96839);\n    slice_96844 = dim_45874;\n    slice_96845 = num_merges_69783 * slice_96844;\n    gtid_81539 = squot64(global_tid_96843, slice_96844);\n    remnant_96846 = global_tid_96843 - gtid_81539 * slice_96844;\n    gtid_slice_81538 = remnant_96846;\n    remnant_96847 = remnant_96846 - gtid_slice_81538;\n    if (slt64(gtid_81539, num_merges_69783) && slt64(gtid_slice_81538, dim_45874)) {\n        int64_t index_primexp_91367;\n        bool index_certs_81542;\n        bool index_certs_81543;\n        double v_81544;\n        \n        index_primexp_91367 = mul64(next_stride_69779, gtid_81539);\n        index_certs_81542 = 0;\n        index_certs_81543 = 0;\n        v_81544 = ((__global double *) mem_param_93741)[index_primexp_91367 * dim_45874 + gtid_slice_81538];", "\n        ((__global double *) mem_94100)[gtid_81539 * dim_45874 + gtid_slice_81538] = v_81544;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_81535\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81550_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81550(__global int *global_failure, int64_t next_stride_69779, int64_t num_merges_69783, __global unsigned char *mem_param_93744, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_94103)\n{\n    #define segmap_tblock_sizze_81546 (sort_for_Skyline_doublezisegmap_81550zisegmap_tblock_sizze_81546)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96850;\n    int32_t tblock_sizze_96853;\n    int32_t wave_sizze_96852;\n    int32_t block_id_96851;\n    int32_t global_tid_96849;\n    int64_t phys_tid_81550;\n    int64_t global_tid_96854;\n    int64_t slice_96855;\n    int64_t gtid_81549;\n    int64_t remnant_96856;\n    \n    local_tid_96850 = get_local_id(0);\n    tblock_sizze_96853 = get_local_size(0);\n    wave_sizze_96852 = LOCKSTEP_WIDTH;\n    block_id_96851 = get_tblock_id(0);\n    global_tid_96849 = block_id_96851 * tblock_sizze_96853 + local_tid_96850;\n    phys_tid_81550 = sext_i32_i64(global_tid_96849);\n    global_tid_96854 = sext_i32_i64(block_id_96851) * segmap_tblock_sizze_81546 + sext_i32_i64(local_tid_96850);\n    slice_96855 = num_merges_69783;\n    gtid_81549 = global_tid_96854;\n    remnant_96856 = global_tid_96854 - gtid_81549;\n    if (slt64(gtid_81549, num_merges_69783)) {\n        int64_t index_primexp_91364;\n        bool index_certs_81552;\n        bool index_certs_81553;\n        int64_t head_res_81554;\n        \n        index_primexp_91364 = mul64(next_stride_69779, gtid_81549);\n        index_certs_81552 = 0;\n        index_certs_81553 = 0;\n        head_res_81554 = ((__global int64_t *) mem_param_93744)[index_primexp_91364];\n        ((__global int64_t *) mem_94103)[gtid_81549] = head_res_81554;\n    }\n    \n  error_0:\n    return;\n    #u",
                                    "ndef segmap_tblock_sizze_81546\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81564_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81564(__global int *global_failure, int64_t stride_69778, int64_t next_stride_69779, int64_t num_merges_69783, __global unsigned char *mem_param_93737, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_94086, __global unsigned char *mem_94093)\n{\n    #define segmap_tblock_sizze_81559 (sort_for_Skyline_doublezisegmap_81564zisegmap_tblock_sizze_81559)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96859;\n    int32_t tblock_sizze_96862;\n    int32_t wave_sizze_96861;\n    int32_t block_id_96860;\n    int32_t global_tid_96858;\n    int64_t phys_tid_81564;\n    int64_t global_tid_96863;\n    int64_t slice_96864;\n    int64_t gtid_81563;\n    int64_t remnant_96865;\n    \n    local_tid_96859 = get_local_id(0);\n    tblock_sizze_96862 = get_local_size(0);\n    wave_sizze_96861 = LOCKSTEP_WIDTH;\n    block_id_96860 = get_tblock_id(0);\n    global_tid_96858 = block_id_96860 * tblock_sizze_96862 + local_tid_96859;\n    phys_tid_81564 = sext_i32_i64(global_tid_96858);\n    global_tid_96863 = sext_i32_i64(block_id_96860) * segmap_tblock_sizze_81559 + sext_i32_i64(local_tid_96859);\n    slice_96864 = num_merges_69783;\n    gtid_81563 = global_tid_96863;\n    remnant_96865 = global_tid_96863 - gtid_81563;\n    if (slt64(gtid_81563, num_merges_69783)) {\n        int64_t index_primexp_91373;\n        bool index_certs_81566;\n        bool index_certs_81567;\n        int64_t slice_81568;\n        int64_t head_res_81569;\n        \n        index_primexp_91373 = mul64(next_stride_69779, gtid_81563);\n        index_certs_81566 = 0;\n        index_certs_81567 = 0;\n        slice_81568 = stride_69778 + index_primexp_91373;\n        head_res_81569 = ((__global int64_t *) mem_param_93737)[slice_81568];\n        ((__global int64_t *) mem_94093)[gtid_81563] = slice_81568;\n        ((__global int64_t *) mem_94086)[g", "tid_81563] = head_res_81569;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_81559\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81577_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81577(__global int *global_failure, int64_t dim_45874, int64_t num_merges_69783, __global unsigned char *mem_param_93741, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_94090, __global unsigned char *mem_94093)\n{\n    #define segmap_tblock_sizze_81572 (sort_for_Skyline_doublezisegmap_81577zisegmap_tblock_sizze_81572)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96868;\n    int32_t tblock_sizze_96871;\n    int32_t wave_sizze_96870;\n    int32_t block_id_96869;\n    int32_t global_tid_96867;\n    int64_t phys_tid_81577;\n    int64_t global_tid_96872;\n    int64_t slice_96873;\n    int64_t slice_96874;\n    int64_t gtid_81576;\n    int64_t remnant_96875;\n    int64_t gtid_slice_81575;\n    int64_t remnant_96876;\n    \n    local_tid_96868 = get_local_id(0);\n    tblock_sizze_96871 = get_local_size(0);\n    wave_sizze_96870 = LOCKSTEP_WIDTH;\n    block_id_96869 = get_tblock_id(0);\n    global_tid_96867 = block_id_96869 * tblock_sizze_96871 + local_tid_96868;\n    phys_tid_81577 = sext_i32_i64(global_tid_96867);\n    global_tid_96872 = sext_i32_i64(block_id_96869) * segmap_tblock_sizze_81572 + sext_i32_i64(local_tid_96868);\n    slice_96873 = dim_45874;\n    slice_96874 = num_merges_69783 * slice_96873;\n    gtid_81576 = squot64(global_tid_96872, slice_96873);\n    remnant_96875 = global_tid_96872 - gtid_81576 * slice_96873;\n    gtid_slice_81575 = remnant_96875;\n    remnant_96876 = remnant_96875 - gtid_slice_81575;\n    if (slt64(gtid_81576, num_merges_69783) && slt64(gtid_slice_81575, dim_45874)) {\n        bool index_certs_81578;\n        bool index_certs_81579;\n        int64_t slice_81580;\n        double v_81581;\n        \n        index_certs_81578 = 0;\n        index_certs_81579 = 0;\n        slice_81580 = ((__glo", "bal int64_t *) mem_94093)[gtid_81576];\n        v_81581 = ((__global double *) mem_param_93741)[slice_81580 * dim_45874 + gtid_slice_81575];\n        ((__global double *) mem_94090)[gtid_81576 * dim_45874 + gtid_slice_81575] = v_81581;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_81572\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81587_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81587(__global int *global_failure, int64_t num_merges_69783, __global unsigned char *mem_param_93744, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_94093)\n{\n    #define segmap_tblock_sizze_81583 (sort_for_Skyline_doublezisegmap_81587zisegmap_tblock_sizze_81583)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96879;\n    int32_t tblock_sizze_96882;\n    int32_t wave_sizze_96881;\n    int32_t block_id_96880;\n    int32_t global_tid_96878;\n    int64_t phys_tid_81587;\n    int64_t global_tid_96883;\n    int64_t slice_96884;\n    int64_t gtid_81586;\n    int64_t remnant_96885;\n    \n    local_tid_96879 = get_local_id(0);\n    tblock_sizze_96882 = get_local_size(0);\n    wave_sizze_96881 = LOCKSTEP_WIDTH;\n    block_id_96880 = get_tblock_id(0);\n    global_tid_96878 = block_id_96880 * tblock_sizze_96882 + local_tid_96879;\n    phys_tid_81587 = sext_i32_i64(global_tid_96878);\n    global_tid_96883 = sext_i32_i64(block_id_96880) * segmap_tblock_sizze_81583 + sext_i32_i64(local_tid_96879);\n    slice_96884 = num_merges_69783;\n    gtid_81586 = global_tid_96883;\n    remnant_96885 = global_tid_96883 - gtid_81586;\n    if (slt64(gtid_81586, num_merges_69783)) {\n        bool index_certs_81588;\n        bool index_certs_81589;\n        int64_t slice_81590;\n        int64_t head_res_81591;\n        \n        index_certs_81588 = 0;\n        index_certs_81589 = 0;\n        slice_81590 = ((__global int64_t *) mem_94093)[gtid_81586];\n        head_res_81591 = ((__global int64_t *) mem_param_93744)[slice_81590];\n        ((__glo",
                                    "bal int64_t *) mem_94093)[gtid_81586] = head_res_81591;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_81583\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81612_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81612(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t loop_dz2084Uz2082U_69773, int64_t stride_69778, int64_t next_stride_69779, int64_t num_merges_69783, int64_t j_m_i_69800, int64_t num_tblocks_81606, int64_t binop_y_94144, int32_t virt_num_tblocks_96950, __global unsigned char *mem_param_93737, __global unsigned char *mem_param_93744, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_94127, __global unsigned char *mem_94138, __global unsigned char *mem_94155, __global unsigned char *mem_94166, __global unsigned char *mem_94200, __global unsigned char *mem_94217, __global unsigned char *mem_94228)\n{\n    #define segmap_tblock_sizze_81605 (sort_for_Skyline_doublezisegmap_81612zisegmap_tblock_sizze_81605)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96952;\n    int32_t tblock_sizze_96955;\n    int32_t wave_sizze_96954;\n    int32_t block_id_96953;\n    int32_t global_tid_96951;\n    int64_t phys_tid_81612;\n    int32_t phys_tblock_id_96956;\n    int32_t iterations_96957;\n    \n    local_tid_96952 = get_local_id(0);\n    tblock_sizze_96955 = get_local_size(0);\n    wave_sizze_96954 = LOCKSTEP_WIDTH;\n    block_id_96953 = get_tblock_id(0);\n    global_tid_96951 = block_id_96953 * tblock_sizze_96955 + local_tid_96952;\n    phys_tid_81612 = sext_i32_i64(global_tid_96951);\n    phys_tblock_id_96956 = get_tblock_id(0);\n    iterations_96957 = sdiv_up32(virt_num_tblocks_96950 - phys_tblock_id_96956, sext_i64_i32(num_tbloc", "ks_81606));\n    for (int32_t i_96958 = 0; i_96958 < iterations_96957; i_96958++) {\n        int32_t virt_tblock_id_96959;\n        int64_t global_tid_96960;\n        int64_t slice_96961;\n        int64_t gtid_81611;\n        int64_t remnant_96962;\n        \n        virt_tblock_id_96959 = phys_tblock_id_96956 + i_96958 * sext_i64_i32(num_tblocks_81606);\n        global_tid_96960 = sext_i32_i64(virt_tblock_id_96959) * segmap_tblock_sizze_81605 + sext_i32_i64(local_tid_96952);\n        slice_96961 = num_merges_69783;\n        gtid_81611 = global_tid_96960;\n        remnant_96962 = global_tid_96960 - gtid_81611;\n        if (slt64(gtid_81611, num_merges_69783)) {\n            int64_t index_primexp_91361;\n            bool index_certs_81614;\n            bool index_certs_81615;\n            int64_t data_81619;\n            int64_t i_81624;\n            \n            index_primexp_91361 = mul64(next_stride_69779, gtid_81611);\n            index_certs_81614 = 0;\n            index_certs_81615 = 0;\n            i_81624 = (int64_t) 0;\n            for (int64_t k_81623 = 0; k_81623 < next_stride_69779; k_81623++) {\n                int64_t j_81628;\n                bool cond_81629;\n                bool x_95456;\n                bool cond_81631;\n                bool x_81633;\n                bool y_81634;\n                bool bounds_check_81635;\n                bool loop_not_taken_95448;\n                bool protect_assert_disj_95449;\n                bool protect_assert_disj_95459;\n                bool index_certs_81636;\n                int64_t slice_81637;\n                int64_t slice_81638;\n                bool protect_cond_conj_95460;\n                int64_t leq_arg1_81639;\n                bool x_81640;\n                bool bounds_check_81641;\n                bool protect_assert_disj_95453;\n                bool protect_assert_disj_95462;\n                bool index_certs_81642;\n                int64_t slice_81643;\n                int64_t leq_arg0_81644;\n                bool lifted_lambda_res_81645;\n", "                bool x_95632;\n                bool cond_81630;\n                bool protect_assert_disj_95225;\n                bool index_certs_81662;\n                bool loop_not_taken_95220;\n                bool protect_assert_disj_95221;\n                bool index_certs_81654;\n                int64_t ext_94179;\n                int64_t loopres_81646;\n                int64_t loopres_81647;\n                int64_t loopres_81649;\n                int64_t i_tmp_96963;\n                \n                j_81628 = sub64(k_81623, i_81624);\n                cond_81629 = j_81628 == j_m_i_69800;\n                x_95456 = !cond_81629;\n                cond_81631 = slt64(i_81624, stride_69778);\n                x_81633 = sle64((int64_t) 0, j_81628);\n                y_81634 = slt64(j_81628, j_m_i_69800);\n                bounds_check_81635 = x_81633 && y_81634;\n                loop_not_taken_95448 = !cond_81631;\n                protect_assert_disj_95449 = bounds_check_81635 || loop_not_taken_95448;\n                protect_assert_disj_95459 = cond_81629 || protect_assert_disj_95449;\n                if (!protect_assert_disj_95459) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 101) == -1) {\n                            global_failure_args[0] = (int64_t) j_81628;\n                            global_failure_args[1] = (int64_t) j_m_i_69800;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_81637 = stride_69778 + j_81628;\n                slice_81638 = slice_81637 + index_primexp_91361;\n                protect_cond_conj_95460 = cond_81631 && x_95456;\n                if (protect_cond_conj_95460) {\n                    int64_t x_95450 = ((__global int64_t *) mem_param_93737)[slice_81638];\n                    \n                    leq_arg1_81639 = x_95450;\n                } else {\n                   ",
                                    " leq_arg1_81639 = (int64_t) 0;\n                }\n                x_81640 = sle64((int64_t) 0, i_81624);\n                bounds_check_81641 = cond_81631 && x_81640;\n                protect_assert_disj_95453 = bounds_check_81641 || loop_not_taken_95448;\n                protect_assert_disj_95462 = cond_81629 || protect_assert_disj_95453;\n                if (!protect_assert_disj_95462) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 102) == -1) {\n                            global_failure_args[0] = (int64_t) i_81624;\n                            global_failure_args[1] = (int64_t) stride_69778;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_81643 = i_81624 + index_primexp_91361;\n                if (protect_cond_conj_95460) {\n                    int64_t x_95454 = ((__global int64_t *) mem_param_93737)[slice_81643];\n                    \n                    leq_arg0_81644 = x_95454;\n                } else {\n                    leq_arg0_81644 = (int64_t) 0;\n                }\n                lifted_lambda_res_81645 = sle64(leq_arg0_81644, leq_arg1_81639);\n                x_95632 = cond_81631 && lifted_lambda_res_81645;\n                cond_81630 = cond_81629 || x_95632;\n                protect_assert_disj_95225 = cond_81630 || bounds_check_81635;\n                if (!protect_assert_disj_95225) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 103) == -1) {\n                            global_failure_args[0] = (int64_t) j_81628;\n                            global_failure_args[1] = (int64_t) j_m_i_69800;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_95220 = !cond_81630;\n     ", "           protect_assert_disj_95221 = bounds_check_81641 || loop_not_taken_95220;\n                if (!protect_assert_disj_95221) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 104) == -1) {\n                            global_failure_args[0] = (int64_t) i_81624;\n                            global_failure_args[1] = (int64_t) stride_69778;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_81630) {\n                    ext_94179 = slice_81643;\n                } else {\n                    ext_94179 = slice_81638;\n                }\n                if (cond_81630) {\n                    int64_t tmp_81650;\n                    int64_t tmp_81656;\n                    int64_t tmp_81658;\n                    \n                    tmp_81650 = add64((int64_t) 1, i_81624);\n                    tmp_81656 = ((__global int64_t *) mem_param_93737)[slice_81643];\n                    tmp_81658 = ((__global int64_t *) mem_param_93744)[slice_81643];\n                    loopres_81646 = tmp_81650;\n                    loopres_81647 = tmp_81656;\n                    loopres_81649 = tmp_81658;\n                } else {\n                    int64_t tmp_81665;\n                    int64_t tmp_81667;\n                    \n                    tmp_81665 = ((__global int64_t *) mem_param_93737)[slice_81638];\n                    tmp_81667 = ((__global int64_t *) mem_param_93744)[slice_81638];\n                    loopres_81646 = i_81624;\n                    loopres_81647 = tmp_81665;\n                    loopres_81649 = tmp_81667;\n                }\n                ((__global int64_t *) mem_94127)[gtid_81611 + k_81623 * num_merges_69783] = loopres_81647;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__global double *) mem_94155)[gtid_81611 + k_81623 * binop_y_94144 + i_0 * n", "um_merges_69783] = ((__global double *) mem_94166)[ext_94179 + i_0 * loop_dz2084Uz2082U_69773];\n                }\n                ((__global int64_t *) mem_94138)[gtid_81611 + k_81623 * num_merges_69783] = loopres_81649;\n                i_tmp_96963 = loopres_81646;\n                i_81624 = i_tmp_96963;\n            }\n            data_81619 = i_81624;\n            for (int64_t i_0 = 0; i_0 < next_stride_69779; i_0++) {\n                ((__global int64_t *) mem_94200)[gtid_81611 + i_0 * num_merges_69783] = ((__global int64_t *) mem_94127)[gtid_81611 + i_0 * num_merges_69783];\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_69779; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                    ((__global double *) mem_94217)[gtid_81611 + (i_0 * (num_merges_69783 * dim_45874) + i_1 * num_merges_69783)] = ((__global double *) mem_94155)[gtid_81611 + (i_0 * binop_y_94144 + i_1 * num_merges_69783)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_69779; i_0++) {\n                ((__global int64_t *) mem_94228)[gtid_81611 + i_0 * num_merges_69783] = ((__global int64_t *) mem_94138)[gtid_81611 + i_0 * num_merges_69783];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_81605\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_81956_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_81956(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t merge_block_sizze_65328, int64_t stride_69778, int64_t next_stride_69779, int64_t num_merges_69783, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, int64_t j_m_i_69800, __global unsigned char *mem_param_93737, __global unsigned char *mem_93746, __global unsigned char *mem_937",
                                    "47, __global unsigned char *mem_93751, __global unsigned char *mem_93754)\n{\n    #define segmap_tblock_sizze_81950 (sort_for_Skyline_doublezisegmap_81956zisegmap_tblock_sizze_81950)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97054;\n    int32_t tblock_sizze_97057;\n    int32_t wave_sizze_97056;\n    int32_t block_id_97055;\n    int32_t global_tid_97053;\n    int64_t phys_tid_81956;\n    int64_t global_tid_97058;\n    int64_t slice_97059;\n    int64_t slice_97060;\n    int64_t gtid_81954;\n    int64_t remnant_97061;\n    int64_t gtid_81955;\n    int64_t remnant_97062;\n    \n    local_tid_97054 = get_local_id(0);\n    tblock_sizze_97057 = get_local_size(0);\n    wave_sizze_97056 = LOCKSTEP_WIDTH;\n    block_id_97055 = get_tblock_id(0);\n    global_tid_97053 = block_id_97055 * tblock_sizze_97057 + local_tid_97054;\n    phys_tid_81956 = sext_i32_i64(global_tid_97053);\n    global_tid_97058 = sext_i32_i64(block_id_97055) * segmap_tblock_sizze_81950 + sext_i32_i64(local_tid_97054);\n    slice_97059 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n    slice_97060 = num_merges_69783 * slice_97059;\n    gtid_81954 = squot64(global_tid_97058, slice_97059);\n    remnant_97061 = global_tid_97058 - gtid_81954 * slice_97059;\n    gtid_81955 = remnant_97061;\n    remnant_97062 = remnant_97061 - gtid_81955;\n    if (slt64(gtid_81954, num_merges_69783) && slt64(gtid_81955, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799)) {\n        int64_t index_primexp_91385;\n        bool index_certs_81958;\n        bool index_certs_81959;\n        int64_t split_count_arg3_81961;\n        int64_t defunc_0_split_count_res_81962;\n        int64_t defunc_0_split_count_res_81963;\n        int64_t defunc_0_split_count_res_81964;\n        int64_t defunc_0_split_count_res_81965;\n        int64_t defunc_0_split_count_res_81966;\n        bool loop_cond_81967;\n        bool defunc_0_split_count_res_81968;\n        int64_t defunc_0_split_count_re", "s_81969;\n        int64_t defunc_0_split_count_res_81970;\n        int64_t defunc_0_split_count_res_81971;\n        int64_t defunc_0_split_count_res_81972;\n        int64_t defunc_0_split_count_res_81973;\n        bool loop_while_81974;\n        int64_t ss_81975;\n        int64_t ss_81976;\n        int64_t tt_81977;\n        int64_t tt_81978;\n        int64_t count_81979;\n        \n        index_primexp_91385 = mul64(next_stride_69779, gtid_81954);\n        index_certs_81958 = 0;\n        index_certs_81959 = 0;\n        split_count_arg3_81961 = mul64(merge_block_sizze_65328, gtid_81955);\n        futrts_lifted_normalizze_10121(&defunc_0_split_count_res_81962, &defunc_0_split_count_res_81963, &defunc_0_split_count_res_81964, &defunc_0_split_count_res_81965, &defunc_0_split_count_res_81966, (int64_t) 0, stride_69778, (int64_t) 0, j_m_i_69800, split_count_arg3_81961);\n        loop_cond_81967 = slt64((int64_t) 0, defunc_0_split_count_res_81966);\n        loop_while_81974 = loop_cond_81967;\n        ss_81975 = defunc_0_split_count_res_81962;\n        ss_81976 = defunc_0_split_count_res_81963;\n        tt_81977 = defunc_0_split_count_res_81964;\n        tt_81978 = defunc_0_split_count_res_81965;\n        count_81979 = defunc_0_split_count_res_81966;\n        while (loop_while_81974) {\n            int64_t zlze_lhs_81980;\n            bool cond_81981;\n            int64_t defunc_0_lifted_step_res_81982;\n            int64_t defunc_0_lifted_step_res_81983;\n            int64_t defunc_0_lifted_step_res_81984;\n            int64_t defunc_0_lifted_step_res_81985;\n            int64_t loopres_82048;\n            int64_t loopres_82049;\n            int64_t loopres_82050;\n            int64_t loopres_82051;\n            int64_t loopres_82052;\n            bool loop_cond_82053;\n            bool loop_while_tmp_97063;\n            int64_t ss_tmp_97064;\n            int64_t ss_tmp_97065;\n            int64_t tt_tmp_97066;\n            int64_t tt_tmp_97067;\n            int64_t count_tmp_97068;\n            \n            zlz", "e_lhs_81980 = sub64(ss_81976, ss_81975);\n            cond_81981 = sle64(zlze_lhs_81980, (int64_t) 0);\n            if (cond_81981) {\n                int64_t tmp_81986 = add64(tt_81977, count_81979);\n                \n                defunc_0_lifted_step_res_81982 = ss_81975;\n                defunc_0_lifted_step_res_81983 = tmp_81986;\n                defunc_0_lifted_step_res_81984 = tt_81978;\n                defunc_0_lifted_step_res_81985 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_81987;\n                bool cond_81988;\n                int64_t defunc_0_lifted_step_res_f_res_81989;\n                int64_t defunc_0_lifted_step_res_f_res_81990;\n                int64_t defunc_0_lifted_step_res_f_res_81991;\n                int64_t defunc_0_lifted_step_res_f_res_81992;\n                \n                zlze_lhs_81987 = sub64(tt_81978, tt_81977);\n                cond_81988 = sle64(zlze_lhs_81987, (int64_t) 0);\n                if (cond_81988) {\n                    int64_t tmp_81993 = add64(ss_81975, count_81979);\n                    \n                    defunc_0_lifted_step_res_f_res_81989 = tmp_81993;\n                    defunc_0_lifted_step_res_f_res_81990 = tt_81977;\n                    defunc_0_lifted_step_res_f_res_81991 = tt_81978;\n                    defunc_0_lifted_step_res_f_res_81992 = (int64_t) 0;\n                } else {\n                    bool cond_81994;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81995;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81996;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81997;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81998;\n                    \n                    cond_81994 = count_81979 == (int64_t) 1;\n                    if (cond_81994) {\n                        bool x_81999;\n                        bool y_82000;\n                        bool bounds_check_82001;\n                        bool index_certs_82002;\n             ",
                                    "           bool x_82005;\n                        bool y_82006;\n                        bool bounds_check_82007;\n                        bool index_certs_82008;\n                        int64_t slice_82003;\n                        int64_t leq_arg1_82004;\n                        int64_t slice_82009;\n                        int64_t slice_82010;\n                        int64_t leq_arg0_82011;\n                        bool lifted_lambda_res_82012;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_82013;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_82014;\n                        \n                        x_81999 = sle64((int64_t) 0, ss_81975);\n                        y_82000 = slt64(ss_81975, stride_69778);\n                        bounds_check_82001 = x_81999 && y_82000;\n                        if (!bounds_check_82001) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 118) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_81975;\n                                    global_failure_args[1] = (int64_t) stride_69778;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        x_82005 = sle64((int64_t) 0, tt_81977);\n                        y_82006 = slt64(tt_81977, j_m_i_69800);\n                        bounds_check_82007 = x_82005 && y_82006;\n                        if (!bounds_check_82007) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 119) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_81977;\n                                    global_failure_args[1] = (int64_t) j_m_i_69800;\n                                    ;\n                                }\n                                return;\n              ", "              }\n                        }\n                        slice_82003 = ss_81975 + index_primexp_91385;\n                        leq_arg1_82004 = ((__global int64_t *) mem_param_93737)[slice_82003];\n                        slice_82009 = stride_69778 + tt_81977;\n                        slice_82010 = slice_82009 + index_primexp_91385;\n                        leq_arg0_82011 = ((__global int64_t *) mem_param_93737)[slice_82010];\n                        lifted_lambda_res_82012 = sle64(leq_arg0_82011, leq_arg1_82004);\n                        if (lifted_lambda_res_82012) {\n                            int64_t tmp_82015 = add64((int64_t) 1, tt_81977);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_82013 = ss_81975;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_82014 = tmp_82015;\n                        } else {\n                            int64_t tmp_82016 = add64((int64_t) 1, ss_81975);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_82013 = tmp_82016;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_82014 = tt_81977;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_81995 = defunc_0_lifted_step_res_f_res_f_res_t_res_82013;\n                        defunc_0_lifted_step_res_f_res_f_res_81996 = defunc_0_lifted_step_res_f_res_f_res_t_res_82014;\n                        defunc_0_lifted_step_res_f_res_f_res_81997 = tt_81978;\n                        defunc_0_lifted_step_res_f_res_f_res_81998 = (int64_t) 0;\n                    } else {\n                        int64_t m_82017;\n                        int64_t n_82018;\n                        bool cond_82019;\n                        int64_t zgze_lhs_82020;\n                        bool cond_f_res_82021;\n                        bool x_82022;\n                        bool y_82023;\n                        bool cond_82024;\n                        bo", "ol leq_y_x_82025;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_82042;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_82043;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_82044;\n                        \n                        m_82017 = sdiv64(count_81979, (int64_t) 2);\n                        n_82018 = sub64(count_81979, m_82017);\n                        cond_82019 = n_82018 == (int64_t) 0;\n                        zgze_lhs_82020 = add64(ss_81975, m_82017);\n                        cond_f_res_82021 = sle64(ss_81976, zgze_lhs_82020);\n                        x_82022 = !cond_82019;\n                        y_82023 = cond_f_res_82021 && x_82022;\n                        cond_82024 = cond_82019 || y_82023;\n                        if (cond_82024) {\n                            leq_y_x_82025 = 1;\n                        } else {\n                            bool x_82026;\n                            bool y_82027;\n                            bool bounds_check_82028;\n                            bool index_certs_82029;\n                            int64_t zm_lhs_82032;\n                            int64_t leq_arg0_82033;\n                            bool x_82034;\n                            bool y_82035;\n                            bool bounds_check_82036;\n                            bool index_certs_82037;\n                            int64_t slice_82030;\n                            int64_t leq_arg1_82031;\n                            int64_t slice_82038;\n                            int64_t slice_82039;\n                            int64_t leq_arg0_82040;\n                            bool lifted_lambda_res_82041;\n                            \n                            x_82026 = sle64((int64_t) 0, zgze_lhs_82020);\n                            y_82027 = slt64(zgze_lhs_82020, stride_69778);\n                            bounds_check_82028 = x_82026 && y_82027;\n                            if (!bounds_check_82",
                                    "028) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 120) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_82020;\n                                        global_failure_args[1] = (int64_t) stride_69778;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            zm_lhs_82032 = add64(tt_81977, n_82018);\n                            leq_arg0_82033 = sub64(zm_lhs_82032, (int64_t) 1);\n                            x_82034 = sle64((int64_t) 0, leq_arg0_82033);\n                            y_82035 = slt64(leq_arg0_82033, j_m_i_69800);\n                            bounds_check_82036 = x_82034 && y_82035;\n                            if (!bounds_check_82036) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 121) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_82033;\n                                        global_failure_args[1] = (int64_t) j_m_i_69800;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            slice_82030 = zgze_lhs_82020 + index_primexp_91385;\n                            leq_arg1_82031 = ((__global int64_t *) mem_param_93737)[slice_82030];\n                            slice_82038 = stride_69778 + leq_arg0_82033;\n                            slice_82039 = slice_82038 + index_primexp_91385;\n                            leq_arg0_82040 = ((__global int64_t *) mem_param_93737)[slice_82039];\n                            lifted_lambda_res_82041 = sle64(leq_arg0_82040, leq_arg1_82031);\n                            leq_y_x_82025 = lifted_", "lambda_res_82041;\n                        }\n                        if (leq_y_x_82025) {\n                            int64_t tmp_82045;\n                            int64_t tmp_82046;\n                            \n                            tmp_82045 = add64(tt_81977, n_82018);\n                            tmp_82046 = sub64(count_81979, n_82018);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_82042 = tmp_82045;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_82043 = tt_81978;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_82044 = tmp_82046;\n                        } else {\n                            int64_t tmp_82047 = add64(tt_81977, n_82018);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_82042 = tt_81977;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_82043 = tmp_82047;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_82044 = count_81979;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_81995 = ss_81975;\n                        defunc_0_lifted_step_res_f_res_f_res_81996 = defunc_0_lifted_step_res_f_res_f_res_f_res_82042;\n                        defunc_0_lifted_step_res_f_res_f_res_81997 = defunc_0_lifted_step_res_f_res_f_res_f_res_82043;\n                        defunc_0_lifted_step_res_f_res_f_res_81998 = defunc_0_lifted_step_res_f_res_f_res_f_res_82044;\n                    }\n                    defunc_0_lifted_step_res_f_res_81989 = defunc_0_lifted_step_res_f_res_f_res_81995;\n                    defunc_0_lifted_step_res_f_res_81990 = defunc_0_lifted_step_res_f_res_f_res_81996;\n                    defunc_0_lifted_step_res_f_res_81991 = defunc_0_lifted_step_res_f_res_f_res_81997;\n                    defunc_0_lifted_step_res_f_res_81992 = defunc_0_lifted_step_res_f_res_f_res_81998;\n                }\n                defunc_0_lifted_step_res_81982 = defunc_0_lifte", "d_step_res_f_res_81989;\n                defunc_0_lifted_step_res_81983 = defunc_0_lifted_step_res_f_res_81990;\n                defunc_0_lifted_step_res_81984 = defunc_0_lifted_step_res_f_res_81991;\n                defunc_0_lifted_step_res_81985 = defunc_0_lifted_step_res_f_res_81992;\n            }\n            futrts_lifted_normalizze_10121(&loopres_82048, &loopres_82049, &loopres_82050, &loopres_82051, &loopres_82052, defunc_0_lifted_step_res_81982, ss_81976, defunc_0_lifted_step_res_81983, defunc_0_lifted_step_res_81984, defunc_0_lifted_step_res_81985);\n            loop_cond_82053 = slt64((int64_t) 0, loopres_82052);\n            loop_while_tmp_97063 = loop_cond_82053;\n            ss_tmp_97064 = loopres_82048;\n            ss_tmp_97065 = loopres_82049;\n            tt_tmp_97066 = loopres_82050;\n            tt_tmp_97067 = loopres_82051;\n            count_tmp_97068 = loopres_82052;\n            loop_while_81974 = loop_while_tmp_97063;\n            ss_81975 = ss_tmp_97064;\n            ss_81976 = ss_tmp_97065;\n            tt_81977 = tt_tmp_97066;\n            tt_81978 = tt_tmp_97067;\n            count_81979 = count_tmp_97068;\n        }\n        defunc_0_split_count_res_81968 = loop_while_81974;\n        defunc_0_split_count_res_81969 = ss_81975;\n        defunc_0_split_count_res_81970 = ss_81976;\n        defunc_0_split_count_res_81971 = tt_81977;\n        defunc_0_split_count_res_81972 = tt_81978;\n        defunc_0_split_count_res_81973 = count_81979;\n        ((__global int64_t *) mem_93751)[gtid_81954 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799 + gtid_81955] = defunc_0_split_count_res_81969;\n        ((__global int64_t *) mem_93754)[gtid_81954 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799 + gtid_81955] = defunc_0_split_count_res_81971;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_81950\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_82077_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_82077(__global int *global_failure, int failure_is_an_option, _",
                                    "_global int64_t *global_failure_args, int64_t dim_45874, int64_t loop_dz2084Uz2082U_69773, int64_t stride_69778, int64_t next_stride_69779, int64_t num_merges_69783, int64_t num_blocks_69798, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, int64_t num_tblocks_82064, int32_t virt_num_tblocks_97069, __global unsigned char *mem_param_93737, __global unsigned char *mem_param_93744, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_93751, __global unsigned char *mem_93754, __global unsigned char *mem_93765, __global unsigned char *mem_93770, __global unsigned char *mem_93773, __global unsigned char *mem_93790, __global unsigned char *mem_93793, __global unsigned char *mem_93796, __global unsigned char *mem_93799, __global unsigned char *mem_93800, __global unsigned char *mem_93803, __global unsigned char *mem_93804)\n{\n    #define segmap_tblock_sizze_82063 (sort_for_Skyline_doublezisegmap_82077zisegmap_tblock_sizze_82063)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97071;\n    int32_t tblock_sizze_97074;\n    int32_t wave_sizze_97073;\n    int32_t block_id_97072;\n    int32_t global_tid_97070;\n    int64_t phys_tid_82077;\n    int32_t phys_tblock_id_97075;\n    int32_t iterations_97076;\n    \n    local_tid_97071 = get_local_id(0);\n    tblock_sizze_97074 = get_local_size(0);\n    wave_sizze_97073 = LOCKSTEP_WIDTH;\n    block_id_97072 = get_tblock_id(0);\n    global_tid_97070 = block_id_97072 * tblock_sizze_97074 + local_tid_97071;\n    phys_tid_82077 = sext_i32_i64(global_tid_97070);\n    phys_tblock_id_97075 = get_tblock_id(0);\n    iterations_97076 = sdiv_up32(virt_num_tblocks_97069 - phys_tblock_id_97075, sext_i64_i32(num_tblocks_82064));\n    for (int32_t i_97077 = 0; i_97077 < iterations_97076; i_97077++) {\n      ", "  int32_t virt_tblock_id_97078;\n        int64_t global_tid_97079;\n        int64_t slice_97080;\n        int64_t slice_97081;\n        int64_t gtid_82075;\n        int64_t remnant_97082;\n        int64_t gtid_82076;\n        int64_t remnant_97083;\n        \n        virt_tblock_id_97078 = phys_tblock_id_97075 + i_97077 * sext_i64_i32(num_tblocks_82064);\n        global_tid_97079 = sext_i32_i64(virt_tblock_id_97078) * segmap_tblock_sizze_82063 + sext_i32_i64(local_tid_97071);\n        slice_97080 = num_blocks_69798;\n        slice_97081 = num_merges_69783 * slice_97080;\n        gtid_82075 = squot64(global_tid_97079, slice_97080);\n        remnant_97082 = global_tid_97079 - gtid_82075 * slice_97080;\n        gtid_82076 = remnant_97082;\n        remnant_97083 = remnant_97082 - gtid_82076;\n        if (slt64(gtid_82075, num_merges_69783) && slt64(gtid_82076, num_blocks_69798)) {\n            bool y_82085;\n            bool index_certs_82087;\n            int64_t defunc_0_f_res_82088;\n            int64_t defunc_0_f_res_82089;\n            int64_t tmp_82090;\n            bool x_82091;\n            bool y_82092;\n            bool bounds_check_82093;\n            bool index_certs_82094;\n            int64_t defunc_0_f_res_82095;\n            int64_t defunc_0_f_res_82096;\n            int64_t merge_sequential_arg2_82097;\n            int64_t merge_sequential_arg2_82098;\n            int64_t j_m_i_82099;\n            bool empty_slice_82100;\n            int64_t m_82101;\n            int64_t i_p_m_t_s_82102;\n            bool zzero_leq_i_p_m_t_s_82103;\n            bool i_p_m_t_s_leq_w_82104;\n            bool zzero_lte_i_82105;\n            bool i_lte_j_82106;\n            bool y_82107;\n            bool y_82108;\n            bool forwards_ok_82109;\n            bool ok_or_empty_82110;\n            bool index_certs_82111;\n            int64_t j_m_i_82112;\n            bool empty_slice_82113;\n            int64_t m_82114;\n            int64_t i_p_m_t_s_82115;\n            bool zzero_leq_i_p_m_t_s_82116;\n            bool ", "i_p_m_t_s_leq_w_82117;\n            bool zzero_lte_i_82118;\n            bool i_lte_j_82119;\n            bool y_82120;\n            bool y_82121;\n            bool forwards_ok_82122;\n            bool ok_or_empty_82123;\n            bool index_certs_82124;\n            bool cond_82125;\n            bool y_82134;\n            bool protect_assert_disj_95257;\n            bool index_certs_82135;\n            int64_t index_primexp_91382;\n            bool index_certs_82079;\n            bool index_certs_82080;\n            int64_t slice_82136;\n            int64_t slice_82130;\n            int64_t ext_93767;\n            int64_t dummy_82126;\n            int64_t dummy_82128;\n            \n            y_82085 = slt64(gtid_82076, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799);\n            if (!y_82085) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 122) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_82076;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_82088 = ((__global int64_t *) mem_93751)[gtid_82075 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799 + gtid_82076];\n            defunc_0_f_res_82089 = ((__global int64_t *) mem_93754)[gtid_82075 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799 + gtid_82076];\n            tmp_82090 = add64((int64_t) 1, gtid_82076);\n            x_82091 = sle64((int64_t) 0, tmp_82090);\n            y_82092 = slt64(tmp_82090, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799);\n            bounds_check_82093 = x_82091 && y_82092;\n            if (!bounds_check_82093) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 123) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_82090;\n                        global_failure",
                                    "_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_82095 = ((__global int64_t *) mem_93751)[gtid_82075 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799 + tmp_82090];\n            defunc_0_f_res_82096 = ((__global int64_t *) mem_93754)[gtid_82075 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799 + tmp_82090];\n            merge_sequential_arg2_82097 = add64(stride_69778, defunc_0_f_res_82089);\n            merge_sequential_arg2_82098 = add64(stride_69778, defunc_0_f_res_82096);\n            j_m_i_82099 = sub64(merge_sequential_arg2_82098, merge_sequential_arg2_82097);\n            empty_slice_82100 = j_m_i_82099 == (int64_t) 0;\n            m_82101 = sub64(j_m_i_82099, (int64_t) 1);\n            i_p_m_t_s_82102 = add64(merge_sequential_arg2_82097, m_82101);\n            zzero_leq_i_p_m_t_s_82103 = sle64((int64_t) 0, i_p_m_t_s_82102);\n            i_p_m_t_s_leq_w_82104 = slt64(i_p_m_t_s_82102, next_stride_69779);\n            zzero_lte_i_82105 = sle64((int64_t) 0, merge_sequential_arg2_82097);\n            i_lte_j_82106 = sle64(merge_sequential_arg2_82097, merge_sequential_arg2_82098);\n            y_82107 = i_p_m_t_s_leq_w_82104 && zzero_lte_i_82105;\n            y_82108 = zzero_leq_i_p_m_t_s_82103 && y_82107;\n            forwards_ok_82109 = i_lte_j_82106 && y_82108;\n            ok_or_empty_82110 = empty_slice_82100 || forwards_ok_82109;\n            if (!ok_or_empty_82110) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 124) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_82097;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_82098;\n                        global_failure_args[2] = (int64_t) next_stride_69779;\n                        ;\n                    }\n                    l", "ocal_failure = 1;\n                    goto error_0;\n                }\n            }\n            j_m_i_82112 = sub64(defunc_0_f_res_82095, defunc_0_f_res_82088);\n            empty_slice_82113 = j_m_i_82112 == (int64_t) 0;\n            m_82114 = sub64(j_m_i_82112, (int64_t) 1);\n            i_p_m_t_s_82115 = add64(defunc_0_f_res_82088, m_82114);\n            zzero_leq_i_p_m_t_s_82116 = sle64((int64_t) 0, i_p_m_t_s_82115);\n            i_p_m_t_s_leq_w_82117 = slt64(i_p_m_t_s_82115, next_stride_69779);\n            zzero_lte_i_82118 = sle64((int64_t) 0, defunc_0_f_res_82088);\n            i_lte_j_82119 = sle64(defunc_0_f_res_82088, defunc_0_f_res_82095);\n            y_82120 = i_p_m_t_s_leq_w_82117 && zzero_lte_i_82118;\n            y_82121 = zzero_leq_i_p_m_t_s_82116 && y_82120;\n            forwards_ok_82122 = i_lte_j_82119 && y_82121;\n            ok_or_empty_82123 = empty_slice_82113 || forwards_ok_82122;\n            if (!ok_or_empty_82123) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 125) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_82088;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_82095;\n                        global_failure_args[2] = (int64_t) next_stride_69779;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            cond_82125 = slt64((int64_t) 0, j_m_i_82112);\n            y_82134 = slt64((int64_t) 0, j_m_i_82099);\n            protect_assert_disj_95257 = cond_82125 || y_82134;\n            if (!protect_assert_disj_95257) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 126) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_82099;\n                        ;\n                    }\n                    local_failure = 1;\n   ", "                 goto error_0;\n                }\n            }\n            index_primexp_91382 = mul64(next_stride_69779, gtid_82075);\n            index_certs_82079 = 0;\n            index_certs_82080 = 0;\n            slice_82136 = merge_sequential_arg2_82097 + index_primexp_91382;\n            slice_82130 = defunc_0_f_res_82088 + index_primexp_91382;\n            if (cond_82125) {\n                ext_93767 = slice_82130;\n            } else {\n                ext_93767 = slice_82136;\n            }\n            if (cond_82125) {\n                int64_t head_res_82131;\n                int64_t head_res_82133;\n                \n                head_res_82131 = ((__global int64_t *) mem_param_93737)[slice_82130];\n                head_res_82133 = ((__global int64_t *) mem_param_93744)[slice_82130];\n                dummy_82126 = head_res_82131;\n                dummy_82128 = head_res_82133;\n            } else {\n                int64_t head_res_82137;\n                int64_t head_res_82139;\n                \n                head_res_82137 = ((__global int64_t *) mem_param_93737)[slice_82136];\n                head_res_82139 = ((__global int64_t *) mem_param_93744)[slice_82136];\n                dummy_82126 = head_res_82137;\n                dummy_82128 = head_res_82139;\n            }\n            ((__global int64_t *) mem_93770)[gtid_82075 * num_blocks_69798 + gtid_82076] = dummy_82126;\n            ((__global int64_t *) mem_93773)[gtid_82075 * num_blocks_69798 + gtid_82076] = dummy_82128;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_93790)[gtid_82075 * num_blocks_69798 + gtid_82076 + i_0 * (num_blocks_69798 * num_merges_69783)] = ((__global double *) mem_93765)[ext_93767 + i_0 * loop_dz2084Uz2082U_69773];\n            }\n            ((__global int64_t *) mem_93793)[gtid_82075 * num_blocks_69798 + gtid_82076] = defunc_0_f_res_82088;\n            ((__global int64_t *) mem_93796)[gtid_82075 * num_blocks_69798 + gtid_82076] = merge_seque",
                                    "ntial_arg2_82097;\n            ((__global int64_t *) mem_93799)[gtid_82075 * num_blocks_69798 + gtid_82076] = j_m_i_82099;\n            ((__global int64_t *) mem_93803)[gtid_82075 * num_blocks_69798 + gtid_82076] = j_m_i_82112;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_82063\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_82159_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_82159(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t merge_block_sizze_65328, int64_t loop_dz2084Uz2082U_69773, int64_t next_stride_69779, int64_t num_merges_69783, int64_t num_blocks_69798, int64_t nest_sizze_82062, int64_t num_tblocks_82152, int64_t binop_y_93863, int32_t virt_num_tblocks_97156, __global unsigned char *mem_param_93737, __global unsigned char *mem_param_93744, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_93765, __global unsigned char *mem_93793, __global unsigned char *mem_93796, __global unsigned char *mem_93799, __global unsigned char *mem_93800, __global unsigned char *mem_93803, __global unsigned char *mem_93804, __global unsigned char *mem_93834, __global unsigned char *mem_93851, __global unsigned char *mem_93875, __global unsigned char *mem_93925, __global unsigned char *mem_93949, __global unsigned char *mem_93966)\n{\n    #define segmap_tblock_sizze_82151 (sort_for_Skyline_doublezisegmap_82159zisegmap_tblock_sizze_82151)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97158;\n    int32_t tblock_sizze_97161;", "\n    int32_t wave_sizze_97160;\n    int32_t block_id_97159;\n    int32_t global_tid_97157;\n    int64_t phys_tid_82159;\n    int32_t phys_tblock_id_97162;\n    int32_t iterations_97163;\n    \n    local_tid_97158 = get_local_id(0);\n    tblock_sizze_97161 = get_local_size(0);\n    wave_sizze_97160 = LOCKSTEP_WIDTH;\n    block_id_97159 = get_tblock_id(0);\n    global_tid_97157 = block_id_97159 * tblock_sizze_97161 + local_tid_97158;\n    phys_tid_82159 = sext_i32_i64(global_tid_97157);\n    phys_tblock_id_97162 = get_tblock_id(0);\n    iterations_97163 = sdiv_up32(virt_num_tblocks_97156 - phys_tblock_id_97162, sext_i64_i32(num_tblocks_82152));\n    for (int32_t i_97164 = 0; i_97164 < iterations_97163; i_97164++) {\n        int32_t virt_tblock_id_97165;\n        int64_t global_tid_97166;\n        int64_t slice_97167;\n        int64_t slice_97168;\n        int64_t gtid_82157;\n        int64_t remnant_97169;\n        int64_t gtid_82158;\n        int64_t remnant_97170;\n        \n        virt_tblock_id_97165 = phys_tblock_id_97162 + i_97164 * sext_i64_i32(num_tblocks_82152);\n        global_tid_97166 = sext_i32_i64(virt_tblock_id_97165) * segmap_tblock_sizze_82151 + sext_i32_i64(local_tid_97158);\n        slice_97167 = num_blocks_69798;\n        slice_97168 = num_merges_69783 * slice_97167;\n        gtid_82157 = squot64(global_tid_97166, slice_97167);\n        remnant_97169 = global_tid_97166 - gtid_82157 * slice_97167;\n        gtid_82158 = remnant_97169;\n        remnant_97170 = remnant_97169 - gtid_82158;\n        if (slt64(gtid_82157, num_merges_69783) && slt64(gtid_82158, num_blocks_69798)) {\n            int64_t index_primexp_91379;\n            bool index_certs_82161;\n            bool index_certs_82162;\n            int64_t defunc_0_f_res_82163;\n            int64_t merge_sequential_arg2_82164;\n            int64_t j_m_i_82165;\n            bool index_certs_82166;\n            int64_t j_m_i_82167;\n            bool index_certs_82168;\n            int64_t binop_x_93887;\n            int64_t lmad_arg_93888;\n", "            int64_t data_82172;\n            int64_t i_82177;\n            \n            index_primexp_91379 = mul64(next_stride_69779, gtid_82157);\n            index_certs_82161 = 0;\n            index_certs_82162 = 0;\n            defunc_0_f_res_82163 = ((__global int64_t *) mem_93793)[gtid_82157 * num_blocks_69798 + gtid_82158];\n            merge_sequential_arg2_82164 = ((__global int64_t *) mem_93796)[gtid_82157 * num_blocks_69798 + gtid_82158];\n            j_m_i_82165 = ((__global int64_t *) mem_93799)[gtid_82157 * num_blocks_69798 + gtid_82158];\n            index_certs_82166 = 0;\n            j_m_i_82167 = ((__global int64_t *) mem_93803)[gtid_82157 * num_blocks_69798 + gtid_82158];\n            index_certs_82168 = 0;\n            binop_x_93887 = num_blocks_69798 * gtid_82157;\n            lmad_arg_93888 = gtid_82158 + binop_x_93887;\n            i_82177 = (int64_t) 0;\n            for (int64_t k_82176 = 0; k_82176 < merge_block_sizze_65328; k_82176++) {\n                int64_t j_82181;\n                bool cond_82182;\n                bool x_95492;\n                bool cond_82184;\n                bool x_82186;\n                bool y_82187;\n                bool bounds_check_82188;\n                bool loop_not_taken_95484;\n                bool protect_assert_disj_95485;\n                bool protect_assert_disj_95495;\n                bool index_certs_82189;\n                int64_t slice_82190;\n                int64_t slice_82191;\n                bool protect_cond_conj_95496;\n                int64_t leq_arg1_82192;\n                bool x_82193;\n                bool bounds_check_82194;\n                bool protect_assert_disj_95489;\n                bool protect_assert_disj_95498;\n                bool index_certs_82195;\n                int64_t slice_82196;\n                int64_t slice_82197;\n                int64_t leq_arg0_82198;\n                bool lifted_lambda_res_82199;\n                bool x_95638;\n                bool cond_82183;\n                bool protect_assert_d",
                                    "isj_95249;\n                bool index_certs_82217;\n                bool loop_not_taken_95244;\n                bool protect_assert_disj_95245;\n                bool index_certs_82208;\n                int64_t ext_93898;\n                int64_t loopres_82200;\n                int64_t loopres_82201;\n                int64_t loopres_82203;\n                int64_t i_tmp_97171;\n                \n                j_82181 = sub64(k_82176, i_82177);\n                cond_82182 = j_82181 == j_m_i_82165;\n                x_95492 = !cond_82182;\n                cond_82184 = slt64(i_82177, j_m_i_82167);\n                x_82186 = sle64((int64_t) 0, j_82181);\n                y_82187 = slt64(j_82181, j_m_i_82165);\n                bounds_check_82188 = x_82186 && y_82187;\n                loop_not_taken_95484 = !cond_82184;\n                protect_assert_disj_95485 = bounds_check_82188 || loop_not_taken_95484;\n                protect_assert_disj_95495 = cond_82182 || protect_assert_disj_95485;\n                if (!protect_assert_disj_95495) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 127) == -1) {\n                            global_failure_args[0] = (int64_t) j_82181;\n                            global_failure_args[1] = (int64_t) j_m_i_82165;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_82190 = merge_sequential_arg2_82164 + j_82181;\n                slice_82191 = slice_82190 + index_primexp_91379;\n                protect_cond_conj_95496 = cond_82184 && x_95492;\n                if (protect_cond_conj_95496) {\n                    int64_t x_95486 = ((__global int64_t *) mem_param_93737)[slice_82191];\n                    \n                    leq_arg1_82192 = x_95486;\n                } else {\n                    leq_arg1_82192 = (int64_t) 0;\n                }\n                x_82193 = sle64((int6", "4_t) 0, i_82177);\n                bounds_check_82194 = cond_82184 && x_82193;\n                protect_assert_disj_95489 = bounds_check_82194 || loop_not_taken_95484;\n                protect_assert_disj_95498 = cond_82182 || protect_assert_disj_95489;\n                if (!protect_assert_disj_95498) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 128) == -1) {\n                            global_failure_args[0] = (int64_t) i_82177;\n                            global_failure_args[1] = (int64_t) j_m_i_82167;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_82196 = defunc_0_f_res_82163 + i_82177;\n                slice_82197 = slice_82196 + index_primexp_91379;\n                if (protect_cond_conj_95496) {\n                    int64_t x_95490 = ((__global int64_t *) mem_param_93737)[slice_82197];\n                    \n                    leq_arg0_82198 = x_95490;\n                } else {\n                    leq_arg0_82198 = (int64_t) 0;\n                }\n                lifted_lambda_res_82199 = sle64(leq_arg0_82198, leq_arg1_82192);\n                x_95638 = cond_82184 && lifted_lambda_res_82199;\n                cond_82183 = cond_82182 || x_95638;\n                protect_assert_disj_95249 = cond_82183 || bounds_check_82188;\n                if (!protect_assert_disj_95249) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 129) == -1) {\n                            global_failure_args[0] = (int64_t) j_82181;\n                            global_failure_args[1] = (int64_t) j_m_i_82165;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_95244 = !cond_82183;\n                protect_as", "sert_disj_95245 = bounds_check_82194 || loop_not_taken_95244;\n                if (!protect_assert_disj_95245) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 130) == -1) {\n                            global_failure_args[0] = (int64_t) i_82177;\n                            global_failure_args[1] = (int64_t) j_m_i_82167;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_82183) {\n                    ext_93898 = slice_82197;\n                } else {\n                    ext_93898 = slice_82191;\n                }\n                if (cond_82183) {\n                    int64_t tmp_82204;\n                    int64_t tmp_82211;\n                    int64_t tmp_82213;\n                    \n                    tmp_82204 = add64((int64_t) 1, i_82177);\n                    tmp_82211 = ((__global int64_t *) mem_param_93737)[slice_82197];\n                    tmp_82213 = ((__global int64_t *) mem_param_93744)[slice_82197];\n                    loopres_82200 = tmp_82204;\n                    loopres_82201 = tmp_82211;\n                    loopres_82203 = tmp_82213;\n                } else {\n                    int64_t tmp_82220;\n                    int64_t tmp_82222;\n                    \n                    tmp_82220 = ((__global int64_t *) mem_param_93737)[slice_82191];\n                    tmp_82222 = ((__global int64_t *) mem_param_93744)[slice_82191];\n                    loopres_82200 = i_82177;\n                    loopres_82201 = tmp_82220;\n                    loopres_82203 = tmp_82222;\n                }\n                ((__global int64_t *) mem_93834)[lmad_arg_93888 + k_82176 * nest_sizze_82062] = loopres_82201;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__global double *) mem_93875)[lmad_arg_93888 + k_82176 * binop_y_93863 + i_0 * nest_sizze_8206",
                                    "2] = ((__global double *) mem_93765)[ext_93898 + i_0 * loop_dz2084Uz2082U_69773];\n                }\n                ((__global int64_t *) mem_93851)[lmad_arg_93888 + k_82176 * nest_sizze_82062] = loopres_82203;\n                i_tmp_97171 = loopres_82200;\n                i_82177 = i_tmp_97171;\n            }\n            data_82172 = i_82177;\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n                ((__global int64_t *) mem_93925)[gtid_82157 * num_blocks_69798 + gtid_82158 + i_0 * (num_blocks_69798 * num_merges_69783)] = ((__global int64_t *) mem_93834)[lmad_arg_93888 + i_0 * nest_sizze_82062];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                    ((__global double *) mem_93949)[gtid_82157 * num_blocks_69798 + gtid_82158 + (i_0 * (num_blocks_69798 * num_merges_69783 * dim_45874) + i_1 * (num_blocks_69798 * num_merges_69783))] = ((__global double *) mem_93875)[lmad_arg_93888 + (i_0 * binop_y_93863 + i_1 * nest_sizze_82062)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n                ((__global int64_t *) mem_93966)[gtid_82157 * num_blocks_69798 + gtid_82158 + i_0 * (num_blocks_69798 * num_merges_69783)] = ((__global int64_t *) mem_93851)[lmad_arg_93888 + i_0 * nest_sizze_82062];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_82151\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83684_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83684(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xs_mem_91599, __global unsigned char *", "mem_91656)\n{\n    #define segmap_tblock_sizze_83679 (sort_for_Skyline_doublezisegmap_83684zisegmap_tblock_sizze_83679)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97219;\n    int32_t tblock_sizze_97222;\n    int32_t wave_sizze_97221;\n    int32_t block_id_97220;\n    int32_t global_tid_97218;\n    int64_t phys_tid_83684;\n    int64_t global_tid_97223;\n    int64_t slice_97224;\n    int64_t slice_97225;\n    int64_t gtid_83682;\n    int64_t remnant_97226;\n    int64_t gtid_83683;\n    int64_t remnant_97227;\n    \n    local_tid_97219 = get_local_id(0);\n    tblock_sizze_97222 = get_local_size(0);\n    wave_sizze_97221 = LOCKSTEP_WIDTH;\n    block_id_97220 = get_tblock_id(0);\n    global_tid_97218 = block_id_97220 * tblock_sizze_97222 + local_tid_97219;\n    phys_tid_83684 = sext_i32_i64(global_tid_97218);\n    global_tid_97223 = sext_i32_i64(block_id_97220) * segmap_tblock_sizze_83679 + sext_i32_i64(local_tid_97219);\n    slice_97224 = dim_45874;\n    slice_97225 = n_45877 * slice_97224;\n    gtid_83682 = squot64(global_tid_97223, slice_97224);\n    remnant_97226 = global_tid_97223 - gtid_83682 * slice_97224;\n    gtid_83683 = remnant_97226;\n    remnant_97227 = remnant_97226 - gtid_83683;\n    if (slt64(gtid_83682, n_45877) && slt64(gtid_83683, dim_45874)) {\n        double eta_p_83685;\n        double eta_p_83686;\n        double defunc_0_f_res_83687;\n        \n        eta_p_83685 = ((__global double *) xs_mem_91599)[gtid_83682 * dim_45874 + gtid_83683];\n        eta_p_83686 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_83683];\n        defunc_0_f_res_83687 = eta_p_83685 - eta_p_83686;\n        ((__global double *) mem_91656)[gtid_83682 * dim_45874 + gtid_83683] = defunc_0_f_res_83687;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83679\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83700_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83700(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned ch", "ar *grid_part_sizze_per_dim_mem_91596, __global unsigned char *mem_91656)\n{\n    #define segmap_tblock_sizze_83695 (sort_for_Skyline_doublezisegmap_83700zisegmap_tblock_sizze_83695)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97230;\n    int32_t tblock_sizze_97233;\n    int32_t wave_sizze_97232;\n    int32_t block_id_97231;\n    int32_t global_tid_97229;\n    int64_t phys_tid_83700;\n    int64_t global_tid_97234;\n    int64_t slice_97235;\n    int64_t slice_97236;\n    int64_t gtid_83698;\n    int64_t remnant_97237;\n    int64_t gtid_83699;\n    int64_t remnant_97238;\n    \n    local_tid_97230 = get_local_id(0);\n    tblock_sizze_97233 = get_local_size(0);\n    wave_sizze_97232 = LOCKSTEP_WIDTH;\n    block_id_97231 = get_tblock_id(0);\n    global_tid_97229 = block_id_97231 * tblock_sizze_97233 + local_tid_97230;\n    phys_tid_83700 = sext_i32_i64(global_tid_97229);\n    global_tid_97234 = sext_i32_i64(block_id_97231) * segmap_tblock_sizze_83695 + sext_i32_i64(local_tid_97230);\n    slice_97235 = dim_45874;\n    slice_97236 = n_45877 * slice_97235;\n    gtid_83698 = squot64(global_tid_97234, slice_97235);\n    remnant_97237 = global_tid_97234 - gtid_83698 * slice_97235;\n    gtid_83699 = remnant_97237;\n    remnant_97238 = remnant_97237 - gtid_83699;\n    if (slt64(gtid_83698, n_45877) && slt64(gtid_83699, dim_45874)) {\n        double eta_p_83701;\n        double eta_p_83702;\n        double defunc_0_f_res_83703;\n        \n        eta_p_83701 = ((__global double *) mem_91656)[gtid_83698 * dim_45874 + gtid_83699];\n        eta_p_83702 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_83699];\n        defunc_0_f_res_83703 = eta_p_83701 / eta_p_83702;\n        ((__global double *) mem_91656)[gtid_83698 * dim_45874 + gtid_83699] = defunc_0_f_res_83703;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83695\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83712_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83712(__global int *global_failu",
                                    "re, int64_t dim_45874, int64_t n_45877, __global unsigned char *mem_91656, __global unsigned char *mem_91659)\n{\n    #define segmap_tblock_sizze_83708 (sort_for_Skyline_doublezisegmap_83712zisegmap_tblock_sizze_83708)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97241;\n    int32_t tblock_sizze_97244;\n    int32_t wave_sizze_97243;\n    int32_t block_id_97242;\n    int32_t global_tid_97240;\n    int64_t phys_tid_83712;\n    int64_t global_tid_97245;\n    int64_t slice_97246;\n    int64_t gtid_83711;\n    int64_t remnant_97247;\n    \n    local_tid_97241 = get_local_id(0);\n    tblock_sizze_97244 = get_local_size(0);\n    wave_sizze_97243 = LOCKSTEP_WIDTH;\n    block_id_97242 = get_tblock_id(0);\n    global_tid_97240 = block_id_97242 * tblock_sizze_97244 + local_tid_97241;\n    phys_tid_83712 = sext_i32_i64(global_tid_97240);\n    global_tid_97245 = sext_i32_i64(block_id_97242) * segmap_tblock_sizze_83708 + sext_i32_i64(local_tid_97241);\n    slice_97246 = n_45877;\n    gtid_83711 = global_tid_97245;\n    remnant_97247 = global_tid_97245 - gtid_83711;\n    if (slt64(gtid_83711, n_45877)) {\n        double f_arg0_83714;\n        int64_t f64_res_83715;\n        \n        f_arg0_83714 = ((__global double *) mem_91656)[gtid_83711 * dim_45874];\n        f64_res_83715 = fptosi_f64_i64(f_arg0_83714);\n        ((__global int64_t *) mem_91659)[gtid_83711] = f64_res_83715;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83708\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83725_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83725(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_83721, int32_t virt_num_tblocks_97268, __global unsigned char *mem_91673, __global unsigned char *mem_91684, __global unsigned char *mem_91702)\n{\n    #define segmap_tblock_sizze_83720 (sort_for_Skyline_doublezisegmap_83725zisegmap_tblock_sizze_83720)\n    \n  ", "  volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97270;\n    int32_t tblock_sizze_97273;\n    int32_t wave_sizze_97272;\n    int32_t block_id_97271;\n    int32_t global_tid_97269;\n    int64_t phys_tid_83725;\n    int32_t phys_tblock_id_97274;\n    int32_t iterations_97275;\n    \n    local_tid_97270 = get_local_id(0);\n    tblock_sizze_97273 = get_local_size(0);\n    wave_sizze_97272 = LOCKSTEP_WIDTH;\n    block_id_97271 = get_tblock_id(0);\n    global_tid_97269 = block_id_97271 * tblock_sizze_97273 + local_tid_97270;\n    phys_tid_83725 = sext_i32_i64(global_tid_97269);\n    phys_tblock_id_97274 = get_tblock_id(0);\n    iterations_97275 = sdiv_up32(virt_num_tblocks_97268 - phys_tblock_id_97274, sext_i64_i32(num_tblocks_83721));\n    for (int32_t i_97276 = 0; i_97276 < iterations_97275; i_97276++) {\n        int32_t virt_tblock_id_97277;\n        int64_t global_tid_97278;\n        int64_t slice_97279;\n        int64_t gtid_83724;\n        int64_t remnant_97280;\n        \n        virt_tblock_id_97277 = phys_tblock_id_97274 + i_97276 * sext_i64_i32(num_tblocks_83721);\n        global_tid_97278 = sext_i32_i64(virt_tblock_id_97277) * segmap_tblock_sizze_83720 + sext_i32_i64(local_tid_97270);\n        slice_97279 = n_45877;\n        gtid_83724 = global_tid_97278;\n        remnant_97280 = global_tid_97278 - gtid_83724;\n        if (slt64(gtid_83724, n_45877)) {\n            for (int64_t i_83729 = 0; i_83729 < arg_65084; i_83729++) {\n                int64_t index_primexp_83731;\n                bool x_83732;\n                bool y_83733;\n                bool bounds_check_83734;\n                bool index_certs_83735;\n                double f_arg0_83736;\n                int64_t f64_res_83737;\n                \n                index_primexp_83731 = add64((int64_t) 1, i_83729);\n                x_83732", " = sle64((int64_t) 0, index_primexp_83731);\n                y_83733 = slt64(index_primexp_83731, dim_45874);\n                bounds_check_83734 = x_83732 && y_83733;\n                if (!bounds_check_83734) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 137) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83731;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_83736 = ((__global double *) mem_91684)[gtid_83724 + index_primexp_83731 * n_45877];\n                f64_res_83737 = fptosi_f64_i64(f_arg0_83736);\n                ((__global int64_t *) mem_91673)[gtid_83724 + index_primexp_83731 * n_45877] = f64_res_83737;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_91702)[gtid_83724 + i_0 * n_45877] = ((__global int64_t *) mem_91673)[gtid_83724 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83720\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83745_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83745(__global int *global_failure, int64_t n_45877, int64_t ext_91707, __global unsigned char *ext_mem_91708, __global unsigned char *mem_91711)\n{\n    #define segmap_tblock_sizze_83741 (sort_for_Skyline_doublezisegmap_83745zisegmap_tblock_sizze_83741)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97284;\n    int32_t tblock_sizze_97287;\n    int32_t wave_sizze_97286;\n    int32_t block_id_97285;\n    int32_t global_tid_97283;\n",
                                    "    int64_t phys_tid_83745;\n    int64_t global_tid_97288;\n    int64_t slice_97289;\n    int64_t gtid_83744;\n    int64_t remnant_97290;\n    \n    local_tid_97284 = get_local_id(0);\n    tblock_sizze_97287 = get_local_size(0);\n    wave_sizze_97286 = LOCKSTEP_WIDTH;\n    block_id_97285 = get_tblock_id(0);\n    global_tid_97283 = block_id_97285 * tblock_sizze_97287 + local_tid_97284;\n    phys_tid_83745 = sext_i32_i64(global_tid_97283);\n    global_tid_97288 = sext_i32_i64(block_id_97285) * segmap_tblock_sizze_83741 + sext_i32_i64(local_tid_97284);\n    slice_97289 = n_45877;\n    gtid_83744 = global_tid_97288;\n    remnant_97290 = global_tid_97288 - gtid_83744;\n    if (slt64(gtid_83744, n_45877)) {\n        int64_t f_arg0_83747;\n        int64_t max_res_83748;\n        \n        f_arg0_83747 = ((__global int64_t *) ext_mem_91708)[gtid_83744 * ext_91707];\n        max_res_83748 = smax64((int64_t) 0, f_arg0_83747);\n        ((__global int64_t *) mem_91711)[gtid_83744] = max_res_83748;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83741\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83758_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83758(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_83754, int32_t virt_num_tblocks_97311, __global unsigned char *mem_91725, __global unsigned char *mem_91736, __global unsigned char *mem_91754)\n{\n    #define segmap_tblock_sizze_83753 (sort_for_Skyline_doublezisegmap_83758zisegmap_tblock_sizze_83753)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97313;\n    int32_t tblock_sizze_97316;\n    int32_t wave_sizze_97315;\n    int32_t block_id_97314;\n    int32_t global_tid_97312;\n    int64_t phys_tid_8", "3758;\n    int32_t phys_tblock_id_97317;\n    int32_t iterations_97318;\n    \n    local_tid_97313 = get_local_id(0);\n    tblock_sizze_97316 = get_local_size(0);\n    wave_sizze_97315 = LOCKSTEP_WIDTH;\n    block_id_97314 = get_tblock_id(0);\n    global_tid_97312 = block_id_97314 * tblock_sizze_97316 + local_tid_97313;\n    phys_tid_83758 = sext_i32_i64(global_tid_97312);\n    phys_tblock_id_97317 = get_tblock_id(0);\n    iterations_97318 = sdiv_up32(virt_num_tblocks_97311 - phys_tblock_id_97317, sext_i64_i32(num_tblocks_83754));\n    for (int32_t i_97319 = 0; i_97319 < iterations_97318; i_97319++) {\n        int32_t virt_tblock_id_97320;\n        int64_t global_tid_97321;\n        int64_t slice_97322;\n        int64_t gtid_83757;\n        int64_t remnant_97323;\n        \n        virt_tblock_id_97320 = phys_tblock_id_97317 + i_97319 * sext_i64_i32(num_tblocks_83754);\n        global_tid_97321 = sext_i32_i64(virt_tblock_id_97320) * segmap_tblock_sizze_83753 + sext_i32_i64(local_tid_97313);\n        slice_97322 = n_45877;\n        gtid_83757 = global_tid_97321;\n        remnant_97323 = global_tid_97321 - gtid_83757;\n        if (slt64(gtid_83757, n_45877)) {\n            for (int64_t i_83762 = 0; i_83762 < arg_65084; i_83762++) {\n                int64_t index_primexp_83764;\n                bool x_83765;\n                bool y_83766;\n                bool bounds_check_83767;\n                bool index_certs_83768;\n                int64_t f_arg0_83769;\n                int64_t max_res_83770;\n                \n                index_primexp_83764 = add64((int64_t) 1, i_83762);\n                x_83765 = sle64((int64_t) 0, index_primexp_83764);\n                y_83766 = slt64(index_primexp_83764, dim_45874);\n                bounds_check_83767 = x_83765 && y_83766;\n                if (!bounds_check_83767) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 138) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83764;\n  ", "                          global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_83769 = ((__global int64_t *) mem_91736)[gtid_83757 + index_primexp_83764 * n_45877];\n                max_res_83770 = smax64((int64_t) 0, f_arg0_83769);\n                ((__global int64_t *) mem_91725)[gtid_83757 + index_primexp_83764 * n_45877] = max_res_83770;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_91754)[gtid_83757 + i_0 * n_45877] = ((__global int64_t *) mem_91725)[gtid_83757 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83753\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83778_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83778(__global int *global_failure, int64_t n_45877, int64_t ext_91791, __global unsigned char *mem_91633, __global unsigned char *ext_mem_91792, __global unsigned char *mem_91795)\n{\n    #define segmap_tblock_sizze_83774 (sort_for_Skyline_doublezisegmap_83778zisegmap_tblock_sizze_83774)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97328;\n    int32_t tblock_sizze_97331;\n    int32_t wave_sizze_97330;\n    int32_t block_id_97329;\n    int32_t global_tid_97327;\n    int64_t phys_tid_83778;\n    int64_t global_tid_97332;\n    int64_t slice_97333;\n    int64_t gtid_83777;\n    int64_t remnant_97334;\n    \n    local_tid_97328 = get_local_id(0);\n    tblock_sizze_97331 = get_local_size(0);\n    wave_sizze_97330 = LOCKSTEP_WIDTH;\n    block_id_97329 = get_tblock_id(0);\n    global_tid_97327 = block_id_97329 * tblock_sizze_97331 + loc",
                                    "al_tid_97328;\n    phys_tid_83778 = sext_i32_i64(global_tid_97327);\n    global_tid_97332 = sext_i32_i64(block_id_97329) * segmap_tblock_sizze_83774 + sext_i32_i64(local_tid_97328);\n    slice_97333 = n_45877;\n    gtid_83777 = global_tid_97332;\n    remnant_97334 = global_tid_97332 - gtid_83777;\n    if (slt64(gtid_83777, n_45877)) {\n        int64_t min_arg1_91483;\n        int64_t f_arg0_83780;\n        int64_t min_res_83781;\n        \n        min_arg1_91483 = ((__global int64_t *) mem_91633)[(int64_t) 0];\n        f_arg0_83780 = ((__global int64_t *) ext_mem_91792)[gtid_83777 * ext_91791];\n        min_res_83781 = smin64(f_arg0_83780, min_arg1_91483);\n        ((__global int64_t *) mem_91795)[gtid_83777] = min_res_83781;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83774\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83791_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83791(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_83787, int32_t virt_num_tblocks_97355, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_91809, __global unsigned char *mem_91820, __global unsigned char *mem_91838)\n{\n    #define segmap_tblock_sizze_83786 (sort_for_Skyline_doublezisegmap_83791zisegmap_tblock_sizze_83786)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97357;\n    int32_t tblock_sizze_97360;\n    int32_t wave_sizze_97359;\n    int32_t block_id_97358;\n    int32_t global_tid_97356;\n    int64_t phys_tid_83791;\n    int32_t phys_tblock_id_97361;\n    int32_t iterations_97362;\n    \n    local_tid_97357 = get_local_id(0);\n    tblock_sizze_97360 = get_local_size(0);\n    wave_sizze_97359 = LOCKSTEP_WIDTH;\n ", "   block_id_97358 = get_tblock_id(0);\n    global_tid_97356 = block_id_97358 * tblock_sizze_97360 + local_tid_97357;\n    phys_tid_83791 = sext_i32_i64(global_tid_97356);\n    phys_tblock_id_97361 = get_tblock_id(0);\n    iterations_97362 = sdiv_up32(virt_num_tblocks_97355 - phys_tblock_id_97361, sext_i64_i32(num_tblocks_83787));\n    for (int32_t i_97363 = 0; i_97363 < iterations_97362; i_97363++) {\n        int32_t virt_tblock_id_97364;\n        int64_t global_tid_97365;\n        int64_t slice_97366;\n        int64_t gtid_83790;\n        int64_t remnant_97367;\n        \n        virt_tblock_id_97364 = phys_tblock_id_97361 + i_97363 * sext_i64_i32(num_tblocks_83787);\n        global_tid_97365 = sext_i32_i64(virt_tblock_id_97364) * segmap_tblock_sizze_83786 + sext_i32_i64(local_tid_97357);\n        slice_97366 = n_45877;\n        gtid_83790 = global_tid_97365;\n        remnant_97367 = global_tid_97365 - gtid_83790;\n        if (slt64(gtid_83790, n_45877)) {\n            for (int64_t i_83795 = 0; i_83795 < arg_65084; i_83795++) {\n                int64_t index_primexp_83797;\n                bool x_83798;\n                bool y_83799;\n                bool bounds_check_83800;\n                bool index_certs_83801;\n                bool index_certs_83803;\n                int64_t f_arg0_83802;\n                int64_t zm_lhs_83804;\n                int64_t min_arg1_83805;\n                int64_t min_res_83806;\n                \n                index_primexp_83797 = add64((int64_t) 1, i_83795);\n                x_83798 = sle64((int64_t) 0, index_primexp_83797);\n                y_83799 = slt64(index_primexp_83797, dim_45874);\n                bounds_check_83800 = x_83798 && y_83799;\n                if (!bounds_check_83800) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 139) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83797;\n                            global_failure_args[1] = (int64_t) dim_45874;\n        ", "                    ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_83800) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 140) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83797;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_83802 = ((__global int64_t *) mem_91820)[gtid_83790 + index_primexp_83797 * n_45877];\n                zm_lhs_83804 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_83797];\n                min_arg1_83805 = sub64(zm_lhs_83804, (int64_t) 1);\n                min_res_83806 = smin64(f_arg0_83802, min_arg1_83805);\n                ((__global int64_t *) mem_91809)[gtid_83790 + index_primexp_83797 * n_45877] = min_res_83806;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_91838)[gtid_83790 + i_0 * n_45877] = ((__global int64_t *) mem_91809)[gtid_83790 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83786\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83820_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83820(__global int *global_failure, int64_t dim_45874, int64_t n_45877, int64_t ext_91887, int64_t ext_91888, __global unsigned char *grid_part_prefix_sum_mem_91595, __global unsigned char *ext_mem_91889, __global unsigned char *mem_91893)\n{\n    #define segmap_tbl",
                                    "ock_sizze_83815 (sort_for_Skyline_doublezisegmap_83820zisegmap_tblock_sizze_83815)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97372;\n    int32_t tblock_sizze_97375;\n    int32_t wave_sizze_97374;\n    int32_t block_id_97373;\n    int32_t global_tid_97371;\n    int64_t phys_tid_83820;\n    int64_t global_tid_97376;\n    int64_t slice_97377;\n    int64_t slice_97378;\n    int64_t gtid_83818;\n    int64_t remnant_97379;\n    int64_t gtid_83819;\n    int64_t remnant_97380;\n    \n    local_tid_97372 = get_local_id(0);\n    tblock_sizze_97375 = get_local_size(0);\n    wave_sizze_97374 = LOCKSTEP_WIDTH;\n    block_id_97373 = get_tblock_id(0);\n    global_tid_97371 = block_id_97373 * tblock_sizze_97375 + local_tid_97372;\n    phys_tid_83820 = sext_i32_i64(global_tid_97371);\n    global_tid_97376 = sext_i32_i64(block_id_97373) * segmap_tblock_sizze_83815 + sext_i32_i64(local_tid_97372);\n    slice_97377 = dim_45874;\n    slice_97378 = n_45877 * slice_97377;\n    gtid_83818 = squot64(global_tid_97376, slice_97377);\n    remnant_97379 = global_tid_97376 - gtid_83818 * slice_97377;\n    gtid_83819 = remnant_97379;\n    remnant_97380 = remnant_97379 - gtid_83819;\n    if (slt64(gtid_83818, n_45877) && slt64(gtid_83819, dim_45874)) {\n        int64_t eta_p_83821;\n        int64_t eta_p_83822;\n        int64_t defunc_0_f_res_83823;\n        \n        eta_p_83821 = ((__global int64_t *) ext_mem_91889)[gtid_83818 * ext_91888 + gtid_83819 * ext_91887];\n        eta_p_83822 = ((__global int64_t *) grid_part_prefix_sum_mem_91595)[gtid_83819];\n        defunc_0_f_res_83823 = mul64(eta_p_83821, eta_p_83822);\n        ((__global int64_t *) mem_91893)[gtid_83818 * dim_45874 + gtid_83819] = defunc_0_f_res_83823;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83815\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83831_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83831(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int6", "4_t dim_45874, int64_t dz2080U_45875, int64_t n_45877, __global unsigned char *mem_91904, __global unsigned char *mem_91906, __global unsigned char *mem_92050)\n{\n    #define segmap_tblock_sizze_83826 (sort_for_Skyline_doublezisegmap_83831zisegmap_tblock_sizze_83826)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97383;\n    int32_t tblock_sizze_97386;\n    int32_t wave_sizze_97385;\n    int32_t block_id_97384;\n    int32_t global_tid_97382;\n    int64_t phys_tid_83831;\n    int64_t global_tid_97387;\n    int64_t slice_97388;\n    int64_t gtid_83830;\n    int64_t remnant_97389;\n    \n    local_tid_97383 = get_local_id(0);\n    tblock_sizze_97386 = get_local_size(0);\n    wave_sizze_97385 = LOCKSTEP_WIDTH;\n    block_id_97384 = get_tblock_id(0);\n    global_tid_97382 = block_id_97384 * tblock_sizze_97386 + local_tid_97383;\n    phys_tid_83831 = sext_i32_i64(global_tid_97382);\n    global_tid_97387 = sext_i32_i64(block_id_97384) * segmap_tblock_sizze_83826 + sext_i32_i64(local_tid_97383);\n    slice_97388 = n_45877;\n    gtid_83830 = global_tid_97387;\n    remnant_97389 = global_tid_97387 - gtid_83830;\n    if (slt64(gtid_83830, n_45877)) {\n        int64_t defunc_0_foldl_res_83833;\n        int64_t acc_83835;\n        bool x_83838;\n        bool y_83839;\n        bool bounds_check_83840;\n        bool index_certs_83841;\n        \n        acc_83835 = (int64_t) 0;\n        for (int64_t i_83834 = 0; i_83834 < dim_45874; i_83834++) {\n            int64_t b_83836;\n            int64_t defunc_0_f_res_83837;\n            int64_t acc_tmp_97390;\n            \n            b_83836 = ((__global int64_t *) mem_91904)[gtid_83830 + i_83834 * n_45877];\n            defunc_0_f_res_83837 = add64(acc_83835, b_83836);\n            acc_tmp_97390 = defunc_0_f_res_83837;\n            acc_83835 = acc_tmp_97390;\n        }\n        defunc_0_foldl_res_83833 = acc_83835;\n        x_83838 = sle64((int64_t) 0, defunc_0_foldl_res_83833);\n        y_83839 = slt64(defunc_0_foldl_res_83833, dz2080U_45875);\n      ", "  bounds_check_83840 = x_83838 && y_83839;\n        if (!bounds_check_83840) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 141) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_83833;\n                    global_failure_args[1] = (int64_t) dz2080U_45875;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_92050)[gtid_83830] = defunc_0_foldl_res_83833;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83826\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83851_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83851(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_91906, __global unsigned char *mem_91916, __global unsigned char *mem_92050)\n{\n    #define segmap_tblock_sizze_83846 (sort_for_Skyline_doublezisegmap_83851zisegmap_tblock_sizze_83846)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97393;\n    int32_t tblock_sizze_97396;\n    int32_t wave_sizze_97395;\n    int32_t block_id_97394;\n    int32_t global_tid_97392;\n    int64_t phys_tid_83851;\n    int64_t global_tid_97397;\n    int64_t slice_97398;\n    int64_t slice_97399;\n    int64_t gtid_83850;\n    int64_t remnant_97400;\n    int64_t gtid_slice_83849;\n    int64_t remnant_97401;\n    \n    local_tid_97393 = get_local_id(0);\n    tblock_sizze_97396 = get_local_size(0);\n    wave_sizze_97395 = LOCKSTEP_WIDTH;\n    block_id_97394 = get_tblock_id(0);\n    global_tid_97392 = block_id_97394 * tblock_sizze_97396 + local_tid_97393;\n    phys_tid_83851 = sext_i32_i64(global_tid_97392);\n    global_tid_97397 = sext_i32_i64(block_id_97394) * segmap_tblock_sizze_83846 + sext_i32_i64(local_tid_97393);\n    slice_97398 = dim_45874;\n    slice_97399 = n_45877 * slice_97398;\n    gtid_83850 = squot64(global_tid_97397, slice_97398);\n    remnant_97400 = global_tid_",
                                    "97397 - gtid_83850 * slice_97398;\n    gtid_slice_83849 = remnant_97400;\n    remnant_97401 = remnant_97400 - gtid_slice_83849;\n    if (slt64(gtid_83850, n_45877) && slt64(gtid_slice_83849, dim_45874)) {\n        int64_t defunc_0_foldl_res_83852;\n        bool index_certs_83853;\n        double v_83854;\n        \n        defunc_0_foldl_res_83852 = ((__global int64_t *) mem_92050)[gtid_83850];\n        index_certs_83853 = 0;\n        v_83854 = ((__global double *) start_of_grid_partition_mem_91598)[defunc_0_foldl_res_83852 * dim_45874 + gtid_slice_83849];\n        ((__global double *) mem_91916)[gtid_83850 * dim_45874 + gtid_slice_83849] = v_83854;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83846\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83866_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83866(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *xs_mem_91599, __global unsigned char *mem_91916)\n{\n    #define segmap_tblock_sizze_83861 (sort_for_Skyline_doublezisegmap_83866zisegmap_tblock_sizze_83861)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97404;\n    int32_t tblock_sizze_97407;\n    int32_t wave_sizze_97406;\n    int32_t block_id_97405;\n    int32_t global_tid_97403;\n    int64_t phys_tid_83866;\n    int64_t global_tid_97408;\n    int64_t slice_97409;\n    int64_t slice_97410;\n    int64_t gtid_83864;\n    int64_t remnant_97411;\n    int64_t gtid_83865;\n    int64_t remnant_97412;\n    \n    local_tid_97404 = get_local_id(0);\n    tblock_sizze_97407 = get_local_size(0);\n    wave_sizze_97406 = LOCKSTEP_WIDTH;\n    block_id_97405 = get_tblock_id(0);\n    global_tid_97403 = block_id_97405 * tblock_sizze_97407 + local_tid_97404;\n    phys_tid_83866 = sext_i32_i64(global_tid_97403);\n    global_tid_97408 = sext_i32_i64(block_id_97405) * segmap_tblock_sizze_83861 + sext_i32_i64(local_tid_97404);\n    slice_97409 = dim_45874;\n    slice_97410 = n_45877 * slice_97409;\n    gtid_83864 = squot64(globa", "l_tid_97408, slice_97409);\n    remnant_97411 = global_tid_97408 - gtid_83864 * slice_97409;\n    gtid_83865 = remnant_97411;\n    remnant_97412 = remnant_97411 - gtid_83865;\n    if (slt64(gtid_83864, n_45877) && slt64(gtid_83865, dim_45874)) {\n        double eta_p_83867;\n        double eta_p_83868;\n        double defunc_0_f_res_83869;\n        \n        eta_p_83867 = ((__global double *) xs_mem_91599)[gtid_83864 * dim_45874 + gtid_83865];\n        eta_p_83868 = ((__global double *) mem_91916)[gtid_83864 * dim_45874 + gtid_83865];\n        defunc_0_f_res_83869 = eta_p_83867 - eta_p_83868;\n        ((__global double *) mem_91916)[gtid_83864 * dim_45874 + gtid_83865] = defunc_0_f_res_83869;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83861\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83888_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83888(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_83884, int32_t virt_num_tblocks_97433, __global unsigned char *mem_91930, __global unsigned char *mem_91941, __global unsigned char *mem_91959)\n{\n    #define segmap_tblock_sizze_83883 (sort_for_Skyline_doublezisegmap_83888zisegmap_tblock_sizze_83883)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97435;\n    int32_t tblock_sizze_97438;\n    int32_t wave_sizze_97437;\n    int32_t block_id_97436;\n    int32_t global_tid_97434;\n    int64_t phys_tid_83888;\n    int32_t phys_tblock_id_97439;\n    int32_t iterations_97440;\n    \n    local_tid_97435 = get_local_id(0);\n    tblock_sizze_97438 = get_local_size(0);\n    wave_sizze_97437 = LOCKSTEP_WIDTH;\n    block_id_97436 = get_tblock_id(0);\n    global_tid_97434 = block_id_97436 * tblock_sizze_", "97438 + local_tid_97435;\n    phys_tid_83888 = sext_i32_i64(global_tid_97434);\n    phys_tblock_id_97439 = get_tblock_id(0);\n    iterations_97440 = sdiv_up32(virt_num_tblocks_97433 - phys_tblock_id_97439, sext_i64_i32(num_tblocks_83884));\n    for (int32_t i_97441 = 0; i_97441 < iterations_97440; i_97441++) {\n        int32_t virt_tblock_id_97442;\n        int64_t global_tid_97443;\n        int64_t slice_97444;\n        int64_t gtid_83887;\n        int64_t remnant_97445;\n        \n        virt_tblock_id_97442 = phys_tblock_id_97439 + i_97441 * sext_i64_i32(num_tblocks_83884);\n        global_tid_97443 = sext_i32_i64(virt_tblock_id_97442) * segmap_tblock_sizze_83883 + sext_i32_i64(local_tid_97435);\n        slice_97444 = n_45877;\n        gtid_83887 = global_tid_97443;\n        remnant_97445 = global_tid_97443 - gtid_83887;\n        if (slt64(gtid_83887, n_45877)) {\n            for (int64_t i_83892 = 0; i_83892 < arg_65084; i_83892++) {\n                int64_t index_primexp_83894;\n                bool x_83895;\n                bool y_83896;\n                bool bounds_check_83897;\n                bool index_certs_83898;\n                \n                index_primexp_83894 = add64((int64_t) 1, i_83892);\n                x_83895 = sle64((int64_t) 0, index_primexp_83894);\n                y_83896 = slt64(index_primexp_83894, dim_45874);\n                bounds_check_83897 = x_83895 && y_83896;\n                if (!bounds_check_83897) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 142) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83894;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < (int64_t) 1; i_0++) {\n                    ((__global double *) mem_91930)",
                                    "[gtid_83887 + n_45877 * index_primexp_83894 + i_0 * n_45877] = ((__global double *) mem_91941)[gtid_83887 + n_45877 * index_primexp_83894 + i_0 * n_45877];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_91959)[gtid_83887 + i_0 * n_45877] = ((__global double *) mem_91930)[gtid_83887 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83883\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83913_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83913(__global int *global_failure, int64_t dim_45874, int64_t n_45877, int64_t ext_91706, int64_t ext_91707, __global unsigned char *ext_mem_91965, __global unsigned char *mem_91969)\n{\n    #define segmap_tblock_sizze_83908 (sort_for_Skyline_doublezisegmap_83913zisegmap_tblock_sizze_83908)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97449;\n    int32_t tblock_sizze_97452;\n    int32_t wave_sizze_97451;\n    int32_t block_id_97450;\n    int32_t global_tid_97448;\n    int64_t phys_tid_83913;\n    int64_t global_tid_97453;\n    int64_t slice_97454;\n    int64_t slice_97455;\n    int64_t gtid_83911;\n    int64_t remnant_97456;\n    int64_t gtid_83912;\n    int64_t remnant_97457;\n    \n    local_tid_97449 = get_local_id(0);\n    tblock_sizze_97452 = get_local_size(0);\n    wave_sizze_97451 = LOCKSTEP_WIDTH;\n    block_id_97450 = get_tblock_id(0);\n    global_tid_97448 = block_id_97450 * tblock_sizze_97452 + local_tid_97449;\n    phys_tid_83913 = sext_i32_i64(global_tid_97448);\n    global_tid_97453 = sext_i32_i64(block_id_97450) * segmap_tblock_sizze_83908 + sext_i32_i64(local_tid_97449);\n    slice_97454 = dim_45874;\n    slice_97455 = n_45877 * slice_97454;\n    gtid_83911 = squot64(global_ti", "d_97453, slice_97454);\n    remnant_97456 = global_tid_97453 - gtid_83911 * slice_97454;\n    gtid_83912 = remnant_97456;\n    remnant_97457 = remnant_97456 - gtid_83912;\n    if (slt64(gtid_83911, n_45877) && slt64(gtid_83912, dim_45874)) {\n        double eta_p_83914;\n        double lifted_lambda_res_83915;\n        \n        eta_p_83914 = ((__global double *) ext_mem_91965)[gtid_83911 * ext_91707 + gtid_83912 * ext_91706];\n        lifted_lambda_res_83915 = eta_p_83914 * eta_p_83914;\n        ((__global double *) mem_91969)[gtid_83911 * dim_45874 + gtid_83912] = lifted_lambda_res_83915;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83908\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83922_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83922(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *mem_91980, __global unsigned char *mem_91983)\n{\n    #define segmap_tblock_sizze_83918 (sort_for_Skyline_doublezisegmap_83922zisegmap_tblock_sizze_83918)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97460;\n    int32_t tblock_sizze_97463;\n    int32_t wave_sizze_97462;\n    int32_t block_id_97461;\n    int32_t global_tid_97459;\n    int64_t phys_tid_83922;\n    int64_t global_tid_97464;\n    int64_t slice_97465;\n    int64_t gtid_83921;\n    int64_t remnant_97466;\n    \n    local_tid_97460 = get_local_id(0);\n    tblock_sizze_97463 = get_local_size(0);\n    wave_sizze_97462 = LOCKSTEP_WIDTH;\n    block_id_97461 = get_tblock_id(0);\n    global_tid_97459 = block_id_97461 * tblock_sizze_97463 + local_tid_97460;\n    phys_tid_83922 = sext_i32_i64(global_tid_97459);\n    global_tid_97464 = sext_i32_i64(block_id_97461) * segmap_tblock_sizze_83918 + sext_i32_i64(local_tid_97460);\n    slice_97465 = n_45877;\n    gtid_83921 = global_tid_97464;\n    remnant_97466 = global_tid_97464 - gtid_83921;\n    if (slt64(gtid_83921, n_45877)) {\n        double defunc_0_foldl_res_83924;\n        double acc_83926;\n        double sqrt_", "res_83929;\n        \n        acc_83926 = 0.0;\n        for (int64_t i_83925 = 0; i_83925 < dim_45874; i_83925++) {\n            double b_83927;\n            double defunc_0_f_res_83928;\n            double acc_tmp_97467;\n            \n            b_83927 = ((__global double *) mem_91980)[gtid_83921 + i_83925 * n_45877];\n            defunc_0_f_res_83928 = acc_83926 + b_83927;\n            acc_tmp_97467 = defunc_0_f_res_83928;\n            acc_83926 = acc_tmp_97467;\n        }\n        defunc_0_foldl_res_83924 = acc_83926;\n        sqrt_res_83929 = futrts_sqrt64(defunc_0_foldl_res_83924);\n        ((__global double *) mem_91983)[gtid_83921] = sqrt_res_83929;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83918\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83964_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83964(__global int *global_failure, int64_t n_45877, int64_t map_arg1_83937, int64_t j_m_i_83938, int64_t ext_91706, int64_t ext_91707, __global unsigned char *ext_mem_91965, __global unsigned char *mem_91994)\n{\n    #define segmap_tblock_sizze_83959 (sort_for_Skyline_doublezisegmap_83964zisegmap_tblock_sizze_83959)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97474;\n    int32_t tblock_sizze_97477;\n    int32_t wave_sizze_97476;\n    int32_t block_id_97475;\n    int32_t global_tid_97473;\n    int64_t phys_tid_83964;\n    int64_t global_tid_97478;\n    int64_t slice_97479;\n    int64_t slice_97480;\n    int64_t gtid_83962;\n    int64_t remnant_97481;\n    int64_t gtid_83963;\n    int64_t remnant_97482;\n    \n    local_tid_97474 = get_local_id(0);\n    tblock_sizze_97477 = get_local_size(0);\n    wave_sizze_97476 = LOCKSTEP_WIDTH;\n    block_id_97475 = get_tblock_id(0);\n    global_tid_97473 = block_id_97475 * tblock_sizze_97477 + local_tid_97474;\n    phys_tid_83964 = sext_i32_i64(global_tid_97473);\n    global_tid_97478 = sext_i32_i64(block_id_97475) * segmap_tblock_sizze_83959 + sext_i32_i64(local_tid_97474);\n    slice_97479 = j_m_i_83938",
                                    ";\n    slice_97480 = n_45877 * slice_97479;\n    gtid_83962 = squot64(global_tid_97478, slice_97479);\n    remnant_97481 = global_tid_97478 - gtid_83962 * slice_97479;\n    gtid_83963 = remnant_97481;\n    remnant_97482 = remnant_97481 - gtid_83963;\n    if (slt64(gtid_83962, n_45877) && slt64(gtid_83963, j_m_i_83938)) {\n        int64_t slice_91346;\n        double eta_p_83965;\n        double lifted_lambda_res_83966;\n        \n        slice_91346 = map_arg1_83937 + gtid_83963;\n        eta_p_83965 = ((__global double *) ext_mem_91965)[gtid_83962 * ext_91707 + slice_91346 * ext_91706];\n        lifted_lambda_res_83966 = eta_p_83965 * eta_p_83965;\n        ((__global double *) mem_91994)[gtid_83962 * j_m_i_83938 + gtid_83963] = lifted_lambda_res_83966;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83959\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83974_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83974(__global int *global_failure, int64_t n_45877, int64_t arg_65084, int64_t i_83933, int64_t j_m_i_83938, int64_t num_tblocks_83970, int64_t ext_91706, int64_t ext_91707, int32_t virt_num_tblocks_97483, __global unsigned char *ext_mem_91965, __global unsigned char *mem_92005, __global unsigned char *mem_92016, __global unsigned char *mem_92028)\n{\n    #define segmap_tblock_sizze_83969 (sort_for_Skyline_doublezisegmap_83974zisegmap_tblock_sizze_83969)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97485;\n    int32_t tblock_sizze_97488;\n    int32_t wave_sizze_97487;\n    int32_t block_id_97486;\n    int32_t global_tid_97484;\n    int64_t phys_tid_83974;\n    int32_t phys_tblock_id_97489;\n    int32_t iterations_97490;\n    \n    local_tid_97485 = get_local_id(0);\n    tblock_sizze_97488 = get_local_size(0);\n    wave_sizze_97487 = LOCKSTEP_WIDTH;\n    block_id_97486 = get_tblock_id(0);\n    global_tid_97484 = block_id_97486 * tblock_sizze_97488 + local_tid_97485;\n    phys_tid_83974 = sext_i32_i64(global_tid_97484);\n    phys_tblock_id_974", "89 = get_tblock_id(0);\n    iterations_97490 = sdiv_up32(virt_num_tblocks_97483 - phys_tblock_id_97489, sext_i64_i32(num_tblocks_83970));\n    for (int32_t i_97491 = 0; i_97491 < iterations_97490; i_97491++) {\n        int32_t virt_tblock_id_97492;\n        int64_t global_tid_97493;\n        int64_t slice_97494;\n        int64_t gtid_83973;\n        int64_t remnant_97495;\n        \n        virt_tblock_id_97492 = phys_tblock_id_97489 + i_97491 * sext_i64_i32(num_tblocks_83970);\n        global_tid_97493 = sext_i32_i64(virt_tblock_id_97492) * segmap_tblock_sizze_83969 + sext_i32_i64(local_tid_97485);\n        slice_97494 = n_45877;\n        gtid_83973 = global_tid_97493;\n        remnant_97495 = global_tid_97493 - gtid_83973;\n        if (slt64(gtid_83973, n_45877)) {\n            double defunc_0_seqmap_res_r_transformed_row_83976;\n            double defunc_0_foldl_res_83978;\n            double acc_83980;\n            double sqrt_res_83983;\n            double atan2_res_83984;\n            \n            defunc_0_seqmap_res_r_transformed_row_83976 = ((__global double *) ext_mem_91965)[gtid_83973 * ext_91707 + i_83933 * ext_91706];\n            acc_83980 = 0.0;\n            for (int64_t i_83979 = 0; i_83979 < j_m_i_83938; i_83979++) {\n                double b_83981;\n                double defunc_0_f_res_83982;\n                double acc_tmp_97496;\n                \n                b_83981 = ((__global double *) mem_92016)[gtid_83973 + i_83979 * n_45877];\n                defunc_0_f_res_83982 = acc_83980 + b_83981;\n                acc_tmp_97496 = defunc_0_f_res_83982;\n                acc_83980 = acc_tmp_97496;\n            }\n            defunc_0_foldl_res_83978 = acc_83980;\n            sqrt_res_83983 = futrts_sqrt64(defunc_0_foldl_res_83978);\n            atan2_res_83984 = futrts_atan2_64(sqrt_res_83983, defunc_0_seqmap_res_r_transformed_row_83976);\n            ((__global double *) mem_92005)[gtid_83973 + i_83933 * n_45877] = atan2_res_83984;\n            for (int64_t i_0 = 0; i_0 < arg_65084; i", "_0++) {\n                ((__global double *) mem_92028)[gtid_83973 + i_0 * n_45877] = ((__global double *) mem_92005)[gtid_83973 + i_0 * n_45877];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_83969\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_83998_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_83998(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t n_45877, int64_t arg_65084, int64_t ext_92029, int64_t ext_92030, __global unsigned char *angle_part_prefix_sum_mem_91593, __global unsigned char *angle_partitions_per_dim_mem_91594, __global unsigned char *ext_mem_91648, __global unsigned char *ext_mem_92032, __global unsigned char *mem_92036)\n{\n    #define segmap_tblock_sizze_83993 (sort_for_Skyline_doublezisegmap_83998zisegmap_tblock_sizze_83993)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97499;\n    int32_t tblock_sizze_97502;\n    int32_t wave_sizze_97501;\n    int32_t block_id_97500;\n    int32_t global_tid_97498;\n    int64_t phys_tid_83998;\n    int64_t global_tid_97503;\n    int64_t slice_97504;\n    int64_t slice_97505;\n    int64_t gtid_83996;\n    int64_t remnant_97506;\n    int64_t gtid_83997;\n    int64_t remnant_97507;\n    \n    local_tid_97499 = get_local_id(0);\n    tblock_sizze_97502 = get_local_size(0);\n    wave_sizze_97501 = LOCKSTEP_WIDTH;\n    block_id_97500 = get_tblock_id(0);\n    global_tid_97498 = block_id_97500 * tblock_sizze_97502 + local_tid_97499;\n    phys_tid_83998 = sext_i32_i64(global_tid_97498);\n    global_tid_97503 = sext_i32_i64(block_id_97500) * segmap_tblock_sizze_83993 + sext_i32_i64(local_tid_97499);\n    slice_97504 = arg_65084;\n    slice_97505 = n_45877 * slice_97504;\n    gtid_83996 = squot64(global_tid_97503, slice_97504);\n    remnant_97506 = global_tid_97503 - gtid_83996 * sl",
                                    "ice_97504;\n    gtid_83997 = remnant_97506;\n    remnant_97507 = remnant_97506 - gtid_83997;\n    if (slt64(gtid_83996, n_45877) && slt64(gtid_83997, arg_65084)) {\n        double eta_p_83999;\n        double eta_p_84000;\n        int64_t eta_p_84001;\n        int64_t eta_p_84002;\n        int64_t defunc_0_f_res_84003;\n        \n        eta_p_83999 = ((__global double *) ext_mem_92032)[gtid_83996 * ext_92030 + gtid_83997 * ext_92029];\n        eta_p_84000 = ((__global double *) ext_mem_91648)[gtid_83997];\n        eta_p_84001 = ((__global int64_t *) angle_part_prefix_sum_mem_91593)[gtid_83997];\n        eta_p_84002 = ((__global int64_t *) angle_partitions_per_dim_mem_91594)[gtid_83997];\n        futrts_lifted_lambda_10152(&defunc_0_f_res_84003, eta_p_83999, eta_p_84000, eta_p_84001, eta_p_84002);\n        ((__global int64_t *) mem_92036)[gtid_83996 * arg_65084 + gtid_83997] = defunc_0_f_res_84003;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_83993\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_84010_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_84010(__global int *global_failure, int64_t n_45877, int64_t total_angle_no_45884, int64_t arg_65084, __global unsigned char *mem_92047, __global unsigned char *mem_92050)\n{\n    #define segmap_tblock_sizze_84006 (sort_for_Skyline_doublezisegmap_84010zisegmap_tblock_sizze_84006)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97510;\n    int32_t tblock_sizze_97513;\n    int32_t wave_sizze_97512;\n    int32_t block_id_97511;\n    int32_t global_tid_97509;\n    int64_t phys_tid_84010;\n    int64_t global_tid_97514;\n    int64_t slice_97515;\n    int64_t gtid_84009;\n    int64_t remnant_97516;\n    \n    local_tid_97510 = get_local_id(0);\n    tblock_sizze_97513 = get_local_size(0);\n    wave_sizze_97512 = LOCKSTEP_WIDTH;\n    block_id_97511 = get_tblock_id(0);\n    global_tid_97509 = block_id_97511 * tblock_sizze_97513 + local_tid_97510;\n    phys_tid_84010 = sext_i32_i64(global_tid_97509);\n    global_t", "id_97514 = sext_i32_i64(block_id_97511) * segmap_tblock_sizze_84006 + sext_i32_i64(local_tid_97510);\n    slice_97515 = n_45877;\n    gtid_84009 = global_tid_97514;\n    remnant_97516 = global_tid_97514 - gtid_84009;\n    if (slt64(gtid_84009, n_45877)) {\n        int64_t defunc_0_foldl_res_84011;\n        int64_t defunc_0_foldl_res_84013;\n        int64_t acc_84015;\n        int64_t zp_lhs_84018;\n        int64_t get_id_from_grid_angle_res_84019;\n        \n        defunc_0_foldl_res_84011 = ((__global int64_t *) mem_92050)[gtid_84009];\n        acc_84015 = (int64_t) 0;\n        for (int64_t i_84014 = 0; i_84014 < arg_65084; i_84014++) {\n            int64_t b_84016;\n            int64_t defunc_0_f_res_84017;\n            int64_t acc_tmp_97517;\n            \n            b_84016 = ((__global int64_t *) mem_92047)[gtid_84009 + i_84014 * n_45877];\n            defunc_0_f_res_84017 = add64(acc_84015, b_84016);\n            acc_tmp_97517 = defunc_0_f_res_84017;\n            acc_84015 = acc_tmp_97517;\n        }\n        defunc_0_foldl_res_84013 = acc_84015;\n        zp_lhs_84018 = mul64(total_angle_no_45884, defunc_0_foldl_res_84011);\n        get_id_from_grid_angle_res_84019 = add64(defunc_0_foldl_res_84013, zp_lhs_84018);\n        ((__global int64_t *) mem_92050)[gtid_84009] = get_id_from_grid_angle_res_84019;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_84006\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_84438_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_84438(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t block_sizze_66045, int64_t x_67116, int64_t num_tblocks_84430, int32_t virt_num_tblocks_97593, __global unsigned char *mem_91983, __global unsigned char *mem_92050, __global unsigned char *mem_92061, __global unsigned char *mem_92074, __global unsigned char *mem_92076, __global unsigned char *mem_92077, __global unsigned char *mem_92078, __global unsigned char *mem_9", "2085, __global unsigned char *mem_92088, __global unsigned char *mem_92105, __global unsigned char *mem_92108)\n{\n    #define segmap_tblock_sizze_84429 (sort_for_Skyline_doublezisegmap_84438zisegmap_tblock_sizze_84429)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97595;\n    int32_t tblock_sizze_97598;\n    int32_t wave_sizze_97597;\n    int32_t block_id_97596;\n    int32_t global_tid_97594;\n    int64_t phys_tid_84438;\n    int32_t phys_tblock_id_97599;\n    int32_t iterations_97600;\n    \n    local_tid_97595 = get_local_id(0);\n    tblock_sizze_97598 = get_local_size(0);\n    wave_sizze_97597 = LOCKSTEP_WIDTH;\n    block_id_97596 = get_tblock_id(0);\n    global_tid_97594 = block_id_97596 * tblock_sizze_97598 + local_tid_97595;\n    phys_tid_84438 = sext_i32_i64(global_tid_97594);\n    phys_tblock_id_97599 = get_tblock_id(0);\n    iterations_97600 = sdiv_up32(virt_num_tblocks_97593 - phys_tblock_id_97599, sext_i64_i32(num_tblocks_84430));\n    for (int32_t i_97601 = 0; i_97601 < iterations_97600; i_97601++) {\n        int32_t virt_tblock_id_97602;\n        int64_t global_tid_97603;\n        int64_t slice_97604;\n        int64_t slice_97605;\n        int64_t gtid_84436;\n        int64_t remnant_97606;\n        int64_t gtid_84437;\n        int64_t remnant_97607;\n        \n        virt_tblock_id_97602 = phys_tblock_id_97599 + i_97601 * sext_i64_i32(num_tblocks_84430);\n        global_tid_97603 = sext_i32_i64(virt_tblock_id_97602) * segmap_tblock_sizze_84429 + sext_i32_i64(local_tid_97595);\n        slice_97604 = block_sizze_66045;\n        slice_97605 = x_67116 * slice_97604;\n        gtid_84436 = squot64(global_tid_97603, slice_97604);\n        remnant_97606 = global_tid_97603 - gtid_84436 * slice_97604;\n        gtid_84437 = remnant_97606;\n        remnant_97607 = remnant_97606 - gti",
                                    "d_84437;\n        if (slt64(gtid_84436, x_67116) && slt64(gtid_84437, block_sizze_66045)) {\n            int64_t index_primexp_91418;\n            int64_t k_84441;\n            bool cond_84442;\n            int64_t ext_92081;\n            int64_t ext_92080;\n            __global unsigned char *ext_mem_92082;\n            int64_t lifted_lambda_res_84443;\n            double lifted_lambda_res_84444;\n            int64_t lifted_lambda_res_84446;\n            \n            index_primexp_91418 = mul64(block_sizze_66045, gtid_84436);\n            k_84441 = add64(gtid_84437, index_primexp_91418);\n            cond_84442 = slt64(k_84441, n_45877);\n            if (cond_84442) {\n                ext_92081 = k_84441;\n            } else {\n                ext_92081 = (int64_t) 0;\n            }\n            if (cond_84442) {\n                ext_92080 = n_45877;\n            } else {\n                ext_92080 = (int64_t) 1;\n            }\n            if (cond_84442) {\n                bool x_84447;\n                bool bounds_check_84448;\n                bool index_certs_84449;\n                int64_t lifted_lambda_res_t_res_84450;\n                double lifted_lambda_res_t_res_84451;\n                \n                x_84447 = sle64((int64_t) 0, k_84441);\n                bounds_check_84448 = cond_84442 && x_84447;\n                if (!bounds_check_84448) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 143) == -1) {\n                            global_failure_args[0] = (int64_t) k_84441;\n                            global_failure_args[1] = (int64_t) n_45877;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                lifted_lambda_res_t_res_84450 = ((__global int64_t *) mem_92050)[k_84441];\n                lifted_lambda_res_t_res_84451 = ((__global double *) mem_91983)[k_84441];\n                ext_mem_92082 = mem_92061;\n", "                lifted_lambda_res_84443 = lifted_lambda_res_t_res_84450;\n                lifted_lambda_res_84444 = lifted_lambda_res_t_res_84451;\n                lifted_lambda_res_84446 = k_84441;\n            } else {\n                int64_t defunc_0_reduce_res_91490;\n                double defunc_0_reduce_res_91491;\n                int64_t defunc_0_reduce_res_91492;\n                \n                defunc_0_reduce_res_91490 = ((__global int64_t *) mem_92076)[(int64_t) 0];\n                defunc_0_reduce_res_91491 = ((__global double *) mem_92077)[(int64_t) 0];\n                defunc_0_reduce_res_91492 = ((__global int64_t *) mem_92078)[(int64_t) 0];\n                ext_mem_92082 = mem_92074;\n                lifted_lambda_res_84443 = defunc_0_reduce_res_91490;\n                lifted_lambda_res_84444 = defunc_0_reduce_res_91491;\n                lifted_lambda_res_84446 = defunc_0_reduce_res_91492;\n            }\n            ((__global int64_t *) mem_92085)[gtid_84436 * block_sizze_66045 + gtid_84437] = lifted_lambda_res_84443;\n            ((__global double *) mem_92088)[gtid_84436 * block_sizze_66045 + gtid_84437] = lifted_lambda_res_84444;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_92105)[gtid_84436 * block_sizze_66045 + gtid_84437 + i_0 * (block_sizze_66045 * x_67116)] = ((__global double *) ext_mem_92082)[ext_92081 + i_0 * ext_92080];\n            }\n            ((__global int64_t *) mem_92108)[gtid_84436 * block_sizze_66045 + gtid_84437] = lifted_lambda_res_84446;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_84429\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_84474_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_84474(__global int *global_failure, int failure_is_an_option, __global", " int64_t *global_failure_args, int64_t dim_45874, int64_t block_sizze_66045, int64_t distance_66101, int64_t x_67116, int64_t num_tblocks_84467, int64_t num_threads_95971, int64_t ctx_95987, int32_t virt_num_tblocks_97608, __global unsigned char *mem_92119, __global unsigned char *mem_92130, __global unsigned char *mem_92147, __global unsigned char *mem_92158, __global unsigned char *mem_92227, __global unsigned char *mem_92238, __global unsigned char *mem_92255, __global unsigned char *mem_92266, __global unsigned char *color_95805, __global unsigned char *color_95806)\n{\n    #define segmap_tblock_sizze_84466 (sort_for_Skyline_doublezisegmap_84474zisegmap_tblock_sizze_84466)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97610;\n    int32_t tblock_sizze_97613;\n    int32_t wave_sizze_97612;\n    int32_t block_id_97611;\n    int32_t global_tid_97609;\n    int64_t phys_tid_84474;\n    int32_t phys_tblock_id_97614;\n    int32_t iterations_97615;\n    \n    local_tid_97610 = get_local_id(0);\n    tblock_sizze_97613 = get_local_size(0);\n    wave_sizze_97612 = LOCKSTEP_WIDTH;\n    block_id_97611 = get_tblock_id(0);\n    global_tid_97609 = block_id_97611 * tblock_sizze_97613 + local_tid_97610;\n    phys_tid_84474 = sext_i32_i64(global_tid_97609);\n    phys_tblock_id_97614 = get_tblock_id(0);\n    iterations_97615 = sdiv_up32(virt_num_tblocks_97608 - phys_tblock_id_97614, sext_i64_i32(num_tblocks_84467));\n    for (int32_t i_97616 = 0; i_97616 < iterations_97615; i_97616++) {\n        int32_t virt_tblock_id_97617;\n        int64_t global_tid_97618;\n        int64_t slice_97619;\n        int64_t gtid_84473;\n        int64_t remnant_97620;\n        \n        virt_tblock_id_97617 = phys_tblock_id_97614 + i_97616 * sext_i64_i32(num_tblocks_84467);\n        global_tid_97618 = sext_i32_i64(",
                                    "virt_tblock_id_97617) * segmap_tblock_sizze_84466 + sext_i32_i64(local_tid_97610);\n        slice_97619 = x_67116;\n        gtid_84473 = global_tid_97618;\n        remnant_97620 = global_tid_97618 - gtid_84473;\n        if (slt64(gtid_84473, x_67116)) {\n            for (int64_t i_84483 = 0; i_84483 < distance_66101; i_84483++) {\n                int64_t gt_arg1_84488;\n                bool x_84489;\n                bool y_84490;\n                bool bounds_check_84491;\n                bool index_certs_84492;\n                bool y_84495;\n                bool index_certs_84496;\n                int64_t gt_arg1_84493;\n                double gt_arg1_84494;\n                int64_t gt_arg0_84497;\n                double gt_arg0_84498;\n                bool cond_84499;\n                bool cond_84500;\n                bool lifted_lambda_res_f_res_t_res_84501;\n                bool x_84502;\n                bool x_84503;\n                bool y_84504;\n                bool lifted_lambda_res_84505;\n                bool defunc_0_lifted_gt_res_84506;\n                bool s_84507;\n                int64_t s_84512;\n                bool loop_while_84513;\n                int64_t j_84518;\n                \n                gt_arg1_84488 = add64((int64_t) 1, i_84483);\n                x_84489 = sle64((int64_t) 0, gt_arg1_84488);\n                y_84490 = slt64(gt_arg1_84488, block_sizze_66045);\n                bounds_check_84491 = x_84489 && y_84490;\n                if (!bounds_check_84491) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 144) == -1) {\n                            global_failure_args[0] = (int64_t) gt_arg1_84488;\n                            global_failure_args[1] = (int64_t) block_sizze_66045;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                y_84495 = slt64(i_84483, block_sizze_66045);\n         ", "       if (!y_84495) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 145) == -1) {\n                            global_failure_args[0] = (int64_t) i_84483;\n                            global_failure_args[1] = (int64_t) block_sizze_66045;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                gt_arg1_84493 = ((__global int64_t *) mem_92119)[gtid_84473 + gt_arg1_84488 * x_67116];\n                gt_arg1_84494 = ((__global double *) mem_92130)[gtid_84473 + gt_arg1_84488 * x_67116];\n                gt_arg0_84497 = ((__global int64_t *) mem_92119)[gtid_84473 + i_84483 * x_67116];\n                gt_arg0_84498 = ((__global double *) mem_92130)[gtid_84473 + i_84483 * x_67116];\n                cond_84499 = slt64(gt_arg0_84497, gt_arg1_84493);\n                cond_84500 = gt_arg0_84497 == gt_arg1_84493;\n                lifted_lambda_res_f_res_t_res_84501 = gt_arg0_84498 <= gt_arg1_84494;\n                x_84502 = cond_84500 && lifted_lambda_res_f_res_t_res_84501;\n                x_84503 = !cond_84499;\n                y_84504 = x_84502 && x_84503;\n                lifted_lambda_res_84505 = cond_84499 || y_84504;\n                defunc_0_lifted_gt_res_84506 = !lifted_lambda_res_84505;\n                loop_while_84513 = defunc_0_lifted_gt_res_84506;\n                j_84518 = i_84483;\n                while (loop_while_84513) {\n                    bool x_84519;\n                    bool y_84520;\n                    bool bounds_check_84521;\n                    bool index_certs_84522;\n                    int64_t copy_arg0_84528;\n                    bool x_84529;\n                    bool y_84530;\n                    bool bounds_check_84531;\n                    bool index_certs_84532;\n                    int64_t copy_arg0_84523;\n                    double copy_arg0_84524;\n                    int64_t co", "py_arg0_84526;\n                    int64_t copy_arg0_84533;\n                    double copy_arg0_84534;\n                    int64_t copy_arg0_84536;\n                    int64_t tmp_84546;\n                    bool cond_84547;\n                    bool loop_cond_84548;\n                    bool loop_while_tmp_97625;\n                    int64_t j_tmp_97630;\n                    \n                    x_84519 = sle64((int64_t) 0, j_84518);\n                    y_84520 = slt64(j_84518, block_sizze_66045);\n                    bounds_check_84521 = x_84519 && y_84520;\n                    if (!bounds_check_84521) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 146) == -1) {\n                                global_failure_args[0] = (int64_t) j_84518;\n                                global_failure_args[1] = (int64_t) block_sizze_66045;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_84528 = add64((int64_t) 1, j_84518);\n                    x_84529 = sle64((int64_t) 0, copy_arg0_84528);\n                    y_84530 = slt64(copy_arg0_84528, block_sizze_66045);\n                    bounds_check_84531 = x_84529 && y_84530;\n                    if (!bounds_check_84531) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 147) == -1) {\n                                global_failure_args[0] = (int64_t) copy_arg0_84528;\n                                global_failure_args[1] = (int64_t) block_sizze_66045;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    copy_arg0_84523 = ((__global int64_t *) mem_92119)[gtid_84473 + j_84518 * x_67116];\n   ",
                                    "                 copy_arg0_84524 = ((__global double *) mem_92130)[gtid_84473 + j_84518 * x_67116];\n                    copy_arg0_84526 = ((__global int64_t *) mem_92158)[gtid_84473 + j_84518 * x_67116];\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) color_95806)[phys_tid_84474 + i_0 * num_threads_95971] = ((__global double *) mem_92147)[gtid_84473 + j_84518 * ctx_95987 + i_0 * x_67116];\n                    }\n                    copy_arg0_84533 = ((__global int64_t *) mem_92119)[gtid_84473 + copy_arg0_84528 * x_67116];\n                    copy_arg0_84534 = ((__global double *) mem_92130)[gtid_84473 + copy_arg0_84528 * x_67116];\n                    copy_arg0_84536 = ((__global int64_t *) mem_92158)[gtid_84473 + copy_arg0_84528 * x_67116];\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) color_95805)[phys_tid_84474 + i_0 * num_threads_95971] = ((__global double *) mem_92147)[gtid_84473 + copy_arg0_84528 * ctx_95987 + i_0 * x_67116];\n                    }\n                    ((__global int64_t *) mem_92119)[gtid_84473 + j_84518 * x_67116] = copy_arg0_84533;\n                    ((__global double *) mem_92130)[gtid_84473 + j_84518 * x_67116] = copy_arg0_84534;\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_92147)[gtid_84473 + j_84518 * ctx_95987 + i_0 * x_67116] = ((__global double *) color_95805)[phys_tid_84474 + i_0 * num_threads_95971];\n                    }\n                    ((__global int64_t *) mem_92158)[gtid_84473 + j_84518 * x_67116] = copy_arg0_84536;\n                    ((__global int64_t *) mem_92119)[gtid_84473 + copy_arg0_84528 * x_67116] = copy_arg0_84523;\n                    ((__global double *) mem_92130)[gtid_84473 + copy_arg0_84528 * x_67116] = copy_arg0_84524;\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((", "__global double *) mem_92147)[gtid_84473 + copy_arg0_84528 * ctx_95987 + i_0 * x_67116] = ((__global double *) color_95806)[phys_tid_84474 + i_0 * num_threads_95971];\n                    }\n                    ((__global int64_t *) mem_92158)[gtid_84473 + copy_arg0_84528 * x_67116] = copy_arg0_84526;\n                    tmp_84546 = sub64(j_84518, (int64_t) 1);\n                    cond_84547 = sle64((int64_t) 0, tmp_84546);\n                    if (cond_84547) {\n                        bool y_84551;\n                        bool bounds_check_84552;\n                        bool index_certs_84553;\n                        int64_t gt_arg1_84549;\n                        double gt_arg1_84550;\n                        int64_t gt_arg0_84554;\n                        double gt_arg0_84555;\n                        bool cond_84556;\n                        bool cond_84557;\n                        bool lifted_lambda_res_f_res_t_res_84558;\n                        bool x_84559;\n                        bool x_84560;\n                        bool y_84561;\n                        bool lifted_lambda_res_84562;\n                        bool defunc_0_lifted_gt_res_84563;\n                        \n                        y_84551 = slt64(tmp_84546, block_sizze_66045);\n                        bounds_check_84552 = cond_84547 && y_84551;\n                        if (!bounds_check_84552) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 148) == -1) {\n                                    global_failure_args[0] = (int64_t) tmp_84546;\n                                    global_failure_args[1] = (int64_t) block_sizze_66045;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        gt_arg1_84549 = ((__global int64_t *) mem_92119)[gtid_84473 + j_84518 * x_6711", "6];\n                        gt_arg1_84550 = ((__global double *) mem_92130)[gtid_84473 + j_84518 * x_67116];\n                        gt_arg0_84554 = ((__global int64_t *) mem_92119)[gtid_84473 + tmp_84546 * x_67116];\n                        gt_arg0_84555 = ((__global double *) mem_92130)[gtid_84473 + tmp_84546 * x_67116];\n                        cond_84556 = slt64(gt_arg0_84554, gt_arg1_84549);\n                        cond_84557 = gt_arg0_84554 == gt_arg1_84549;\n                        lifted_lambda_res_f_res_t_res_84558 = gt_arg0_84555 <= gt_arg1_84550;\n                        x_84559 = cond_84557 && lifted_lambda_res_f_res_t_res_84558;\n                        x_84560 = !cond_84556;\n                        y_84561 = x_84559 && x_84560;\n                        lifted_lambda_res_84562 = cond_84556 || y_84561;\n                        defunc_0_lifted_gt_res_84563 = !lifted_lambda_res_84562;\n                        loop_cond_84548 = defunc_0_lifted_gt_res_84563;\n                    } else {\n                        loop_cond_84548 = 0;\n                    }\n                    loop_while_tmp_97625 = loop_cond_84548;\n                    j_tmp_97630 = tmp_84546;\n                    loop_while_84513 = loop_while_tmp_97625;\n                    j_84518 = j_tmp_97630;\n                }\n                s_84507 = loop_while_84513;\n                s_84512 = j_84518;\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_66045; i_0++) {\n                ((__global int64_t *) mem_92227)[gtid_84473 + i_0 * x_67116] = ((__global int64_t *) mem_92119)[gtid_84473 + i_0 * x_67116];\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_66045; i_0++) {\n                ((__global double *) mem_92238)[gtid_84473 + i_0 * x_67116] = ((__global double *) mem_92130)[gtid_84473 + i_0 * x_67116];\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_66045; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                    ((__global doub",
                                    "le *) mem_92255)[gtid_84473 + (i_0 * (x_67116 * dim_45874) + i_1 * x_67116)] = ((__global double *) mem_92147)[gtid_84473 + (i_0 * ctx_95987 + i_1 * x_67116)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < block_sizze_66045; i_0++) {\n                ((__global int64_t *) mem_92266)[gtid_84473 + i_0 * x_67116] = ((__global int64_t *) mem_92158)[gtid_84473 + i_0 * x_67116];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_84466\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87810_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87810(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t loop_dz2084Uz2082U_66232, int64_t next_stride_66239, unsigned char zzero_66240_bits, int64_t num_merges_66243, int64_t m_66248, unsigned char zzero_leq_i_p_m_t_s_66249_bits, unsigned char i_lte_j_66250_bits, __global unsigned char *mem_92313, __global unsigned char *mem_92314)\n{\n    bool zzero_66240 = zzero_66240_bits;\n    bool zzero_leq_i_p_m_t_s_66249 = zzero_leq_i_p_m_t_s_66249_bits;\n    bool i_lte_j_66250 = i_lte_j_66250_bits;\n    \n    #define segmap_tblock_sizze_87804 (sort_for_Skyline_doublezisegmap_87810zisegmap_tblock_sizze_87804)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97796;\n    int32_t tblock_sizze_97799;\n    int32_t wave_sizze_97798;\n    int32_t block_id_97797;\n    int32_t global_tid_97795;\n    int64_t phys_tid_87810;\n    int64_t global_tid_97800;\n    int64_t slice_97801;\n    int64_t gtid_87809;\n    int64_t remnant_97802;\n    \n    local_tid_97796 = get_local_id(0);\n    tblock_sizze_97799 = get_local_size(0);\n    wave_sizze_97798 = LOCKSTEP_WIDTH;\n    block_id_97797 = get_tblock_id(0);\n    global_tid_97795 = block_id_97797 * tblock_", "sizze_97799 + local_tid_97796;\n    phys_tid_87810 = sext_i32_i64(global_tid_97795);\n    global_tid_97800 = sext_i32_i64(block_id_97797) * segmap_tblock_sizze_87804 + sext_i32_i64(local_tid_97796);\n    slice_97801 = num_merges_66243;\n    gtid_87809 = global_tid_97800;\n    remnant_97802 = global_tid_97800 - gtid_87809;\n    if (slt64(gtid_87809, num_merges_66243)) {\n        int64_t start_87812;\n        int64_t j_m_i_87813;\n        bool empty_slice_87814;\n        int64_t m_87815;\n        int64_t i_p_m_t_s_87816;\n        bool zzero_leq_i_p_m_t_s_87817;\n        bool i_p_m_t_s_leq_w_87818;\n        bool zzero_lte_i_87819;\n        bool i_lte_j_87820;\n        bool y_87821;\n        bool y_87822;\n        bool forwards_ok_87823;\n        bool ok_or_empty_87824;\n        bool index_certs_87825;\n        bool i_p_m_t_s_leq_w_87826;\n        bool y_87827;\n        bool forwards_ok_87828;\n        bool ok_or_empty_87829;\n        bool index_certs_87830;\n        \n        start_87812 = mul64(next_stride_66239, gtid_87809);\n        j_m_i_87813 = sub64(loop_dz2084Uz2082U_66232, start_87812);\n        empty_slice_87814 = j_m_i_87813 == (int64_t) 0;\n        m_87815 = sub64(j_m_i_87813, (int64_t) 1);\n        i_p_m_t_s_87816 = add64(start_87812, m_87815);\n        zzero_leq_i_p_m_t_s_87817 = sle64((int64_t) 0, i_p_m_t_s_87816);\n        i_p_m_t_s_leq_w_87818 = slt64(i_p_m_t_s_87816, loop_dz2084Uz2082U_66232);\n        zzero_lte_i_87819 = sle64((int64_t) 0, start_87812);\n        i_lte_j_87820 = sle64(start_87812, loop_dz2084Uz2082U_66232);\n        y_87821 = i_p_m_t_s_leq_w_87818 && zzero_lte_i_87819;\n        y_87822 = zzero_leq_i_p_m_t_s_87817 && y_87821;\n        forwards_ok_87823 = i_lte_j_87820 && y_87822;\n        ok_or_empty_87824 = empty_slice_87814 || forwards_ok_87823;\n        if (!ok_or_empty_87824) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 168) == -1) {\n                    global_failure_args[0] = (int64_t) start_87812;\n                    global_failure_", "args[1] = (int64_t) loop_dz2084Uz2082U_66232;\n                    ;\n                }\n                return;\n            }\n        }\n        i_p_m_t_s_leq_w_87826 = slt64(m_66248, j_m_i_87813);\n        y_87827 = zzero_leq_i_p_m_t_s_66249 && i_p_m_t_s_leq_w_87826;\n        forwards_ok_87828 = i_lte_j_66250 && y_87827;\n        ok_or_empty_87829 = zzero_66240 || forwards_ok_87828;\n        if (!ok_or_empty_87829) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 169) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) next_stride_66239;\n                    global_failure_args[2] = (int64_t) j_m_i_87813;\n                    ;\n                }\n                return;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87804\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87845_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87845(__global int *global_failure, int64_t next_stride_66239, int64_t num_merges_66243, __global unsigned char *mem_param_92301, __global unsigned char *mem_param_92304, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92741, __global unsigned char *mem_92743)\n{\n    #define segmap_tblock_sizze_87840 (sort_for_Skyline_doublezisegmap_87845zisegmap_tblock_sizze_87840)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97805;\n    int32_t tblock_sizze_97808;\n    int32_t wave_sizze_97807;\n    int32_t block_id_97806;\n    int32_t global_tid_97804;\n    int64_t phys_tid_87845;\n    int64_t global_tid_97809;\n    int64_t slice_97810;\n    int64_t gtid_87844;\n    int64_t remnant_97811;\n    \n    local_tid_97805 = get_local_id(0);\n    tblock_sizze_97808 = get_local_size(0);\n    wave_sizze_97807 = LOCKSTEP_WIDTH;\n    block_id_97806 = get_tblock_id(0);\n    global_tid_97804 = block_id_97806 * tblock_sizze_97808 + local_tid_97805;\n    phys_tid_878",
                                    "45 = sext_i32_i64(global_tid_97804);\n    global_tid_97809 = sext_i32_i64(block_id_97806) * segmap_tblock_sizze_87840 + sext_i32_i64(local_tid_97805);\n    slice_97810 = num_merges_66243;\n    gtid_87844 = global_tid_97809;\n    remnant_97811 = global_tid_97809 - gtid_87844;\n    if (slt64(gtid_87844, num_merges_66243)) {\n        int64_t index_primexp_91400;\n        bool index_certs_87847;\n        bool index_certs_87848;\n        int64_t head_res_87849;\n        double head_res_87850;\n        \n        index_primexp_91400 = mul64(next_stride_66239, gtid_87844);\n        index_certs_87847 = 0;\n        index_certs_87848 = 0;\n        head_res_87849 = ((__global int64_t *) mem_param_92301)[index_primexp_91400];\n        head_res_87850 = ((__global double *) mem_param_92304)[index_primexp_91400];\n        ((__global int64_t *) mem_92741)[gtid_87844] = head_res_87849;\n        ((__global double *) mem_92743)[gtid_87844] = head_res_87850;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87840\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87858_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87858(__global int *global_failure, int64_t dim_45874, int64_t next_stride_66239, int64_t num_merges_66243, __global unsigned char *mem_param_92308, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92747)\n{\n    #define segmap_tblock_sizze_87853 (sort_for_Skyline_doublezisegmap_87858zisegmap_tblock_sizze_87853)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97814;\n    int32_t tblock_sizze_97817;\n    int32_t wave_sizze_97816;\n    int32_t block_id_97815;\n    int32_t global_tid_97813;\n    int64_t phys_tid_87858;\n    int64_t global_tid_97818;\n    int64_t slice_97819;\n    int64_t slice_97820;\n    int64_t gtid_87857;\n    int64_t remnant_97821;\n    int64_t gtid_slice_87856;\n    int64_t remnant_97822;\n    \n    local_tid_97814 = get_local_id(0);\n    tblock_sizze_97817 = get_local_size(0);\n    wave_sizze_97816", " = LOCKSTEP_WIDTH;\n    block_id_97815 = get_tblock_id(0);\n    global_tid_97813 = block_id_97815 * tblock_sizze_97817 + local_tid_97814;\n    phys_tid_87858 = sext_i32_i64(global_tid_97813);\n    global_tid_97818 = sext_i32_i64(block_id_97815) * segmap_tblock_sizze_87853 + sext_i32_i64(local_tid_97814);\n    slice_97819 = dim_45874;\n    slice_97820 = num_merges_66243 * slice_97819;\n    gtid_87857 = squot64(global_tid_97818, slice_97819);\n    remnant_97821 = global_tid_97818 - gtid_87857 * slice_97819;\n    gtid_slice_87856 = remnant_97821;\n    remnant_97822 = remnant_97821 - gtid_slice_87856;\n    if (slt64(gtid_87857, num_merges_66243) && slt64(gtid_slice_87856, dim_45874)) {\n        int64_t index_primexp_91397;\n        bool index_certs_87860;\n        bool index_certs_87861;\n        double v_87862;\n        \n        index_primexp_91397 = mul64(next_stride_66239, gtid_87857);\n        index_certs_87860 = 0;\n        index_certs_87861 = 0;\n        v_87862 = ((__global double *) mem_param_92308)[index_primexp_91397 * dim_45874 + gtid_slice_87856];\n        ((__global double *) mem_92747)[gtid_87857 * dim_45874 + gtid_slice_87856] = v_87862;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87853\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87868_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87868(__global int *global_failure, int64_t next_stride_66239, int64_t num_merges_66243, __global unsigned char *mem_param_92311, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92750)\n{\n    #define segmap_tblock_sizze_87864 (sort_for_Skyline_doublezisegmap_87868zisegmap_tblock_sizze_87864)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97825;\n    int32_t tblock_sizze_97828;\n    int32_t wave_sizze_97827;\n    int32_t block_id_97826;\n    int32_t global_tid_97824;\n    int64_t phys_tid_87868;\n    int64_t global_tid_97829;\n    int64_t slice_97830;\n    int64_t gtid_87867;\n    int64_t remnant_978", "31;\n    \n    local_tid_97825 = get_local_id(0);\n    tblock_sizze_97828 = get_local_size(0);\n    wave_sizze_97827 = LOCKSTEP_WIDTH;\n    block_id_97826 = get_tblock_id(0);\n    global_tid_97824 = block_id_97826 * tblock_sizze_97828 + local_tid_97825;\n    phys_tid_87868 = sext_i32_i64(global_tid_97824);\n    global_tid_97829 = sext_i32_i64(block_id_97826) * segmap_tblock_sizze_87864 + sext_i32_i64(local_tid_97825);\n    slice_97830 = num_merges_66243;\n    gtid_87867 = global_tid_97829;\n    remnant_97831 = global_tid_97829 - gtid_87867;\n    if (slt64(gtid_87867, num_merges_66243)) {\n        int64_t index_primexp_91394;\n        bool index_certs_87870;\n        bool index_certs_87871;\n        int64_t head_res_87872;\n        \n        index_primexp_91394 = mul64(next_stride_66239, gtid_87867);\n        index_certs_87870 = 0;\n        index_certs_87871 = 0;\n        head_res_87872 = ((__global int64_t *) mem_param_92311)[index_primexp_91394];\n        ((__global int64_t *) mem_92750)[gtid_87867] = head_res_87872;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87864\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87884_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87884(__global int *global_failure, int64_t stride_66238, int64_t next_stride_66239, int64_t num_merges_66243, __global unsigned char *mem_param_92301, __global unsigned char *mem_param_92304, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92729, __global unsigned char *mem_92731, __global unsigned char *mem_92738)\n{\n    #define segmap_tblock_sizze_87878 (sort_for_Skyline_doublezisegmap_87884zisegmap_tblock_sizze_87878)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97834;\n    int32_t tblock_sizze_97837;\n    int32_t wave_sizze_97836;\n    int32_t block_id_97835;\n    int32_t global_tid_97833;\n    int64_t phys_tid_87884;\n    int64_t global_tid_97838;\n    int64_t slice_97839;\n    int64_t gtid_87883;\n    int64_t remnant_97840",
                                    ";\n    \n    local_tid_97834 = get_local_id(0);\n    tblock_sizze_97837 = get_local_size(0);\n    wave_sizze_97836 = LOCKSTEP_WIDTH;\n    block_id_97835 = get_tblock_id(0);\n    global_tid_97833 = block_id_97835 * tblock_sizze_97837 + local_tid_97834;\n    phys_tid_87884 = sext_i32_i64(global_tid_97833);\n    global_tid_97838 = sext_i32_i64(block_id_97835) * segmap_tblock_sizze_87878 + sext_i32_i64(local_tid_97834);\n    slice_97839 = num_merges_66243;\n    gtid_87883 = global_tid_97838;\n    remnant_97840 = global_tid_97838 - gtid_87883;\n    if (slt64(gtid_87883, num_merges_66243)) {\n        int64_t index_primexp_91403;\n        bool index_certs_87886;\n        bool index_certs_87887;\n        int64_t slice_87888;\n        int64_t head_res_87889;\n        double head_res_87890;\n        \n        index_primexp_91403 = mul64(next_stride_66239, gtid_87883);\n        index_certs_87886 = 0;\n        index_certs_87887 = 0;\n        slice_87888 = stride_66238 + index_primexp_91403;\n        head_res_87889 = ((__global int64_t *) mem_param_92301)[slice_87888];\n        head_res_87890 = ((__global double *) mem_param_92304)[slice_87888];\n        ((__global int64_t *) mem_92738)[gtid_87883] = slice_87888;\n        ((__global int64_t *) mem_92729)[gtid_87883] = head_res_87889;\n        ((__global double *) mem_92731)[gtid_87883] = head_res_87890;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87878\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87898_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87898(__global int *global_failure, int64_t dim_45874, int64_t num_merges_66243, __global unsigned char *mem_param_92308, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92735, __global unsigned char *mem_92738)\n{\n    #define segmap_tblock_sizze_87893 (sort_for_Skyline_doublezisegmap_87898zisegmap_tblock_sizze_87893)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97843;\n    int32_t tblock_sizze_97846;\n   ", " int32_t wave_sizze_97845;\n    int32_t block_id_97844;\n    int32_t global_tid_97842;\n    int64_t phys_tid_87898;\n    int64_t global_tid_97847;\n    int64_t slice_97848;\n    int64_t slice_97849;\n    int64_t gtid_87897;\n    int64_t remnant_97850;\n    int64_t gtid_slice_87896;\n    int64_t remnant_97851;\n    \n    local_tid_97843 = get_local_id(0);\n    tblock_sizze_97846 = get_local_size(0);\n    wave_sizze_97845 = LOCKSTEP_WIDTH;\n    block_id_97844 = get_tblock_id(0);\n    global_tid_97842 = block_id_97844 * tblock_sizze_97846 + local_tid_97843;\n    phys_tid_87898 = sext_i32_i64(global_tid_97842);\n    global_tid_97847 = sext_i32_i64(block_id_97844) * segmap_tblock_sizze_87893 + sext_i32_i64(local_tid_97843);\n    slice_97848 = dim_45874;\n    slice_97849 = num_merges_66243 * slice_97848;\n    gtid_87897 = squot64(global_tid_97847, slice_97848);\n    remnant_97850 = global_tid_97847 - gtid_87897 * slice_97848;\n    gtid_slice_87896 = remnant_97850;\n    remnant_97851 = remnant_97850 - gtid_slice_87896;\n    if (slt64(gtid_87897, num_merges_66243) && slt64(gtid_slice_87896, dim_45874)) {\n        bool index_certs_87899;\n        bool index_certs_87900;\n        int64_t slice_87901;\n        double v_87902;\n        \n        index_certs_87899 = 0;\n        index_certs_87900 = 0;\n        slice_87901 = ((__global int64_t *) mem_92738)[gtid_87897];\n        v_87902 = ((__global double *) mem_param_92308)[slice_87901 * dim_45874 + gtid_slice_87896];\n        ((__global double *) mem_92735)[gtid_87897 * dim_45874 + gtid_slice_87896] = v_87902;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87893\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87908_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87908(__global int *global_failure, int64_t num_merges_66243, __global unsigned char *mem_param_92311, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92738)\n{\n    #define segmap_tblock_sizze_87904 (sort_for_Skyline_doublezisegma", "p_87908zisegmap_tblock_sizze_87904)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97854;\n    int32_t tblock_sizze_97857;\n    int32_t wave_sizze_97856;\n    int32_t block_id_97855;\n    int32_t global_tid_97853;\n    int64_t phys_tid_87908;\n    int64_t global_tid_97858;\n    int64_t slice_97859;\n    int64_t gtid_87907;\n    int64_t remnant_97860;\n    \n    local_tid_97854 = get_local_id(0);\n    tblock_sizze_97857 = get_local_size(0);\n    wave_sizze_97856 = LOCKSTEP_WIDTH;\n    block_id_97855 = get_tblock_id(0);\n    global_tid_97853 = block_id_97855 * tblock_sizze_97857 + local_tid_97854;\n    phys_tid_87908 = sext_i32_i64(global_tid_97853);\n    global_tid_97858 = sext_i32_i64(block_id_97855) * segmap_tblock_sizze_87904 + sext_i32_i64(local_tid_97854);\n    slice_97859 = num_merges_66243;\n    gtid_87907 = global_tid_97858;\n    remnant_97860 = global_tid_97858 - gtid_87907;\n    if (slt64(gtid_87907, num_merges_66243)) {\n        bool index_certs_87909;\n        bool index_certs_87910;\n        int64_t slice_87911;\n        int64_t head_res_87912;\n        \n        index_certs_87909 = 0;\n        index_certs_87910 = 0;\n        slice_87911 = ((__global int64_t *) mem_92738)[gtid_87907];\n        head_res_87912 = ((__global int64_t *) mem_param_92311)[slice_87911];\n        ((__global int64_t *) mem_92738)[gtid_87907] = head_res_87912;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_87904\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_87938_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_87938(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t loop_dz2084Uz2082U_66232, int64_t stride_66238, int64_t next_stride_66239, int64_t num_merges_66243, int64_t j_m_i_66261, int64_t num_tblocks_87931, int64_t binop_y_92806, int32_t virt_num_tblocks_97945, __global unsigned char *mem_param_92301, __global unsigned char *mem_param_92304, __global unsigned char *mem_param_92311, __",
                                    "global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92778, __global unsigned char *mem_92789, __global unsigned char *mem_92800, __global unsigned char *mem_92817, __global unsigned char *mem_92828, __global unsigned char *mem_92868, __global unsigned char *mem_92879, __global unsigned char *mem_92896, __global unsigned char *mem_92907)\n{\n    #define segmap_tblock_sizze_87930 (sort_for_Skyline_doublezisegmap_87938zisegmap_tblock_sizze_87930)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97947;\n    int32_t tblock_sizze_97950;\n    int32_t wave_sizze_97949;\n    int32_t block_id_97948;\n    int32_t global_tid_97946;\n    int64_t phys_tid_87938;\n    int32_t phys_tblock_id_97951;\n    int32_t iterations_97952;\n    \n    local_tid_97947 = get_local_id(0);\n    tblock_sizze_97950 = get_local_size(0);\n    wave_sizze_97949 = LOCKSTEP_WIDTH;\n    block_id_97948 = get_tblock_id(0);\n    global_tid_97946 = block_id_97948 * tblock_sizze_97950 + local_tid_97947;\n    phys_tid_87938 = sext_i32_i64(global_tid_97946);\n    phys_tblock_id_97951 = get_tblock_id(0);\n    iterations_97952 = sdiv_up32(virt_num_tblocks_97945 - phys_tblock_id_97951, sext_i64_i32(num_tblocks_87931));\n    for (int32_t i_97953 = 0; i_97953 < iterations_97952; i_97953++) {\n        int32_t virt_tblock_id_97954;\n        int64_t global_tid_97955;\n        int64_t slice_97956;\n        int64_t gtid_87937;\n        int64_t remnant_97957;\n        \n        virt_tblock_id_97954 = phys_tblock_id_97951 + i_97953 * sext_i64_i32(num_tblocks_87931);\n        global_tid_97955 = sext_i32_i64(virt_tblock_id_97954) * segmap_tblock_sizze_87930 + sext_i32_i64(local_tid_97947);\n        slice_97956 = num_merges_66243;\n        gtid_87937 = global_tid_97955;\n        remnant_97957 = global_t", "id_97955 - gtid_87937;\n        if (slt64(gtid_87937, num_merges_66243)) {\n            int64_t index_primexp_91391;\n            bool index_certs_87940;\n            bool index_certs_87941;\n            int64_t data_87946;\n            int64_t i_87952;\n            \n            index_primexp_91391 = mul64(next_stride_66239, gtid_87937);\n            index_certs_87940 = 0;\n            index_certs_87941 = 0;\n            i_87952 = (int64_t) 0;\n            for (int64_t k_87951 = 0; k_87951 < next_stride_66239; k_87951++) {\n                int64_t j_87957;\n                bool cond_87958;\n                bool x_95565;\n                bool cond_87960;\n                bool x_87962;\n                bool y_87963;\n                bool bounds_check_87964;\n                bool loop_not_taken_95553;\n                bool protect_assert_disj_95554;\n                bool protect_assert_disj_95568;\n                bool index_certs_87965;\n                int64_t slice_87966;\n                int64_t slice_87967;\n                bool protect_cond_conj_95569;\n                int64_t leq_arg1_87968;\n                double leq_arg1_87969;\n                bool x_87970;\n                bool bounds_check_87971;\n                bool protect_assert_disj_95560;\n                bool protect_assert_disj_95572;\n                bool index_certs_87972;\n                int64_t slice_87973;\n                int64_t leq_arg0_87974;\n                double leq_arg0_87975;\n                bool cond_87976;\n                bool cond_87977;\n                bool lifted_lambda_res_f_res_t_res_87978;\n                bool x_87979;\n                bool x_87980;\n                bool y_87981;\n                bool lifted_lambda_res_87982;\n                bool x_95647;\n                bool cond_87959;\n                bool protect_assert_disj_95347;\n                bool index_certs_88001;\n                bool loop_not_taken_95342;\n                bool protect_assert_disj_95343;\n                bool index_certs_87992;\n         ", "       int64_t ext_92844;\n                int64_t loopres_87983;\n                int64_t loopres_87984;\n                double loopres_87985;\n                int64_t loopres_87987;\n                int64_t i_tmp_97958;\n                \n                j_87957 = sub64(k_87951, i_87952);\n                cond_87958 = j_87957 == j_m_i_66261;\n                x_95565 = !cond_87958;\n                cond_87960 = slt64(i_87952, stride_66238);\n                x_87962 = sle64((int64_t) 0, j_87957);\n                y_87963 = slt64(j_87957, j_m_i_66261);\n                bounds_check_87964 = x_87962 && y_87963;\n                loop_not_taken_95553 = !cond_87960;\n                protect_assert_disj_95554 = bounds_check_87964 || loop_not_taken_95553;\n                protect_assert_disj_95568 = cond_87958 || protect_assert_disj_95554;\n                if (!protect_assert_disj_95568) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 170) == -1) {\n                            global_failure_args[0] = (int64_t) j_87957;\n                            global_failure_args[1] = (int64_t) j_m_i_66261;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_87966 = stride_66238 + j_87957;\n                slice_87967 = slice_87966 + index_primexp_91391;\n                protect_cond_conj_95569 = cond_87960 && x_95565;\n                if (protect_cond_conj_95569) {\n                    int64_t x_95555 = ((__global int64_t *) mem_param_92301)[slice_87967];\n                    \n                    leq_arg1_87968 = x_95555;\n                } else {\n                    leq_arg1_87968 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95569) {\n                    double x_95557 = ((__global double *) mem_param_92304)[slice_87967];\n                    \n                    leq_arg1_87969 = x_95557;\n ",
                                    "               } else {\n                    leq_arg1_87969 = 0.0;\n                }\n                x_87970 = sle64((int64_t) 0, i_87952);\n                bounds_check_87971 = cond_87960 && x_87970;\n                protect_assert_disj_95560 = bounds_check_87971 || loop_not_taken_95553;\n                protect_assert_disj_95572 = cond_87958 || protect_assert_disj_95560;\n                if (!protect_assert_disj_95572) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 171) == -1) {\n                            global_failure_args[0] = (int64_t) i_87952;\n                            global_failure_args[1] = (int64_t) stride_66238;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_87973 = i_87952 + index_primexp_91391;\n                if (protect_cond_conj_95569) {\n                    int64_t x_95561 = ((__global int64_t *) mem_param_92301)[slice_87973];\n                    \n                    leq_arg0_87974 = x_95561;\n                } else {\n                    leq_arg0_87974 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95569) {\n                    double x_95563 = ((__global double *) mem_param_92304)[slice_87973];\n                    \n                    leq_arg0_87975 = x_95563;\n                } else {\n                    leq_arg0_87975 = 0.0;\n                }\n                cond_87976 = slt64(leq_arg0_87974, leq_arg1_87968);\n                cond_87977 = leq_arg0_87974 == leq_arg1_87968;\n                lifted_lambda_res_f_res_t_res_87978 = leq_arg0_87975 <= leq_arg1_87969;\n                x_87979 = cond_87977 && lifted_lambda_res_f_res_t_res_87978;\n                x_87980 = !cond_87976;\n                y_87981 = x_87979 && x_87980;\n                lifted_lambda_res_87982 = cond_87976 || y_87981;\n                x_95647 = cond_87960 && lifted_la", "mbda_res_87982;\n                cond_87959 = cond_87958 || x_95647;\n                protect_assert_disj_95347 = cond_87959 || bounds_check_87964;\n                if (!protect_assert_disj_95347) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 172) == -1) {\n                            global_failure_args[0] = (int64_t) j_87957;\n                            global_failure_args[1] = (int64_t) j_m_i_66261;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_95342 = !cond_87959;\n                protect_assert_disj_95343 = bounds_check_87971 || loop_not_taken_95342;\n                if (!protect_assert_disj_95343) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 173) == -1) {\n                            global_failure_args[0] = (int64_t) i_87952;\n                            global_failure_args[1] = (int64_t) stride_66238;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_87959) {\n                    ext_92844 = slice_87973;\n                } else {\n                    ext_92844 = slice_87967;\n                }\n                if (cond_87959) {\n                    int64_t tmp_87988;\n                    int64_t tmp_87994;\n                    double tmp_87995;\n                    int64_t tmp_87997;\n                    \n                    tmp_87988 = add64((int64_t) 1, i_87952);\n                    tmp_87994 = ((__global int64_t *) mem_param_92301)[slice_87973];\n                    tmp_87995 = ((__global double *) mem_param_92304)[slice_87973];\n                    tmp_87997 = ((__global int64_t *) mem_param_92311)[slice_87973];\n                    loopres_87983 = tmp_87988;\n    ", "                loopres_87984 = tmp_87994;\n                    loopres_87985 = tmp_87995;\n                    loopres_87987 = tmp_87997;\n                } else {\n                    int64_t tmp_88004;\n                    double tmp_88005;\n                    int64_t tmp_88007;\n                    \n                    tmp_88004 = ((__global int64_t *) mem_param_92301)[slice_87967];\n                    tmp_88005 = ((__global double *) mem_param_92304)[slice_87967];\n                    tmp_88007 = ((__global int64_t *) mem_param_92311)[slice_87967];\n                    loopres_87983 = i_87952;\n                    loopres_87984 = tmp_88004;\n                    loopres_87985 = tmp_88005;\n                    loopres_87987 = tmp_88007;\n                }\n                ((__global int64_t *) mem_92778)[gtid_87937 + k_87951 * num_merges_66243] = loopres_87984;\n                ((__global double *) mem_92789)[gtid_87937 + k_87951 * num_merges_66243] = loopres_87985;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__global double *) mem_92817)[gtid_87937 + k_87951 * binop_y_92806 + i_0 * num_merges_66243] = ((__global double *) mem_92828)[ext_92844 + i_0 * loop_dz2084Uz2082U_66232];\n                }\n                ((__global int64_t *) mem_92800)[gtid_87937 + k_87951 * num_merges_66243] = loopres_87987;\n                i_tmp_97958 = loopres_87983;\n                i_87952 = i_tmp_97958;\n            }\n            data_87946 = i_87952;\n            for (int64_t i_0 = 0; i_0 < next_stride_66239; i_0++) {\n                ((__global int64_t *) mem_92868)[gtid_87937 + i_0 * num_merges_66243] = ((__global int64_t *) mem_92778)[gtid_87937 + i_0 * num_merges_66243];\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_66239; i_0++) {\n                ((__global double *) mem_92879)[gtid_87937 + i_0 * num_merges_66243] = ((__global double *) mem_92789)[gtid_87937 + i_0 * num_merges_66243];\n            }\n            for (int64_t i_0 = 0; i",
                                    "_0 < next_stride_66239; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                    ((__global double *) mem_92896)[gtid_87937 + (i_0 * (num_merges_66243 * dim_45874) + i_1 * num_merges_66243)] = ((__global double *) mem_92817)[gtid_87937 + (i_0 * binop_y_92806 + i_1 * num_merges_66243)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < next_stride_66239; i_0++) {\n                ((__global int64_t *) mem_92907)[gtid_87937 + i_0 * num_merges_66243] = ((__global int64_t *) mem_92800)[gtid_87937 + i_0 * num_merges_66243];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_87930\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_88341_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_88341(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t merge_block_sizze_66061, int64_t stride_66238, int64_t next_stride_66239, int64_t num_merges_66243, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, int64_t j_m_i_66261, __global unsigned char *mem_param_92301, __global unsigned char *mem_param_92304, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92318, __global unsigned char *mem_92321)\n{\n    #define segmap_tblock_sizze_88335 (sort_for_Skyline_doublezisegmap_88341zisegmap_tblock_sizze_88335)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_98064;\n    int32_t tblock_sizze_98067;\n    int32_t wave_sizze_98066;\n    int32_t block_id_98065;\n    int32_t global_tid_98063;\n    int64_t phys_tid_88341;\n    int64_t global_tid_98068;\n    int64_t slice_98069;\n    int64_t slice_98070;\n    int64_t gtid_88339;\n ", "   int64_t remnant_98071;\n    int64_t gtid_88340;\n    int64_t remnant_98072;\n    \n    local_tid_98064 = get_local_id(0);\n    tblock_sizze_98067 = get_local_size(0);\n    wave_sizze_98066 = LOCKSTEP_WIDTH;\n    block_id_98065 = get_tblock_id(0);\n    global_tid_98063 = block_id_98065 * tblock_sizze_98067 + local_tid_98064;\n    phys_tid_88341 = sext_i32_i64(global_tid_98063);\n    global_tid_98068 = sext_i32_i64(block_id_98065) * segmap_tblock_sizze_88335 + sext_i32_i64(local_tid_98064);\n    slice_98069 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n    slice_98070 = num_merges_66243 * slice_98069;\n    gtid_88339 = squot64(global_tid_98068, slice_98069);\n    remnant_98071 = global_tid_98068 - gtid_88339 * slice_98069;\n    gtid_88340 = remnant_98071;\n    remnant_98072 = remnant_98071 - gtid_88340;\n    if (slt64(gtid_88339, num_merges_66243) && slt64(gtid_88340, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260)) {\n        int64_t index_primexp_91415;\n        bool index_certs_88343;\n        bool index_certs_88344;\n        int64_t split_count_arg3_88346;\n        int64_t defunc_0_split_count_res_88347;\n        int64_t defunc_0_split_count_res_88348;\n        int64_t defunc_0_split_count_res_88349;\n        int64_t defunc_0_split_count_res_88350;\n        int64_t defunc_0_split_count_res_88351;\n        bool loop_cond_88352;\n        bool defunc_0_split_count_res_88353;\n        int64_t defunc_0_split_count_res_88354;\n        int64_t defunc_0_split_count_res_88355;\n        int64_t defunc_0_split_count_res_88356;\n        int64_t defunc_0_split_count_res_88357;\n        int64_t defunc_0_split_count_res_88358;\n        bool loop_while_88359;\n        int64_t ss_88360;\n        int64_t ss_88361;\n        int64_t tt_88362;\n        int64_t tt_88363;\n        int64_t count_88364;\n        \n        index_primexp_91415 = mul64(next_stride_66239, gtid_88339);\n        index_certs_88343 = 0;\n        index_certs_88344 = 0;\n        split_count_arg3_88346 = mul64(merge_block_sizze_66061, gtid_88340);\n       ", " futrts_lifted_normalizze_10121(&defunc_0_split_count_res_88347, &defunc_0_split_count_res_88348, &defunc_0_split_count_res_88349, &defunc_0_split_count_res_88350, &defunc_0_split_count_res_88351, (int64_t) 0, stride_66238, (int64_t) 0, j_m_i_66261, split_count_arg3_88346);\n        loop_cond_88352 = slt64((int64_t) 0, defunc_0_split_count_res_88351);\n        loop_while_88359 = loop_cond_88352;\n        ss_88360 = defunc_0_split_count_res_88347;\n        ss_88361 = defunc_0_split_count_res_88348;\n        tt_88362 = defunc_0_split_count_res_88349;\n        tt_88363 = defunc_0_split_count_res_88350;\n        count_88364 = defunc_0_split_count_res_88351;\n        while (loop_while_88359) {\n            int64_t zlze_lhs_88365;\n            bool cond_88366;\n            int64_t defunc_0_lifted_step_res_88367;\n            int64_t defunc_0_lifted_step_res_88368;\n            int64_t defunc_0_lifted_step_res_88369;\n            int64_t defunc_0_lifted_step_res_88370;\n            int64_t loopres_88449;\n            int64_t loopres_88450;\n            int64_t loopres_88451;\n            int64_t loopres_88452;\n            int64_t loopres_88453;\n            bool loop_cond_88454;\n            bool loop_while_tmp_98073;\n            int64_t ss_tmp_98074;\n            int64_t ss_tmp_98075;\n            int64_t tt_tmp_98076;\n            int64_t tt_tmp_98077;\n            int64_t count_tmp_98078;\n            \n            zlze_lhs_88365 = sub64(ss_88361, ss_88360);\n            cond_88366 = sle64(zlze_lhs_88365, (int64_t) 0);\n            if (cond_88366) {\n                int64_t tmp_88371 = add64(tt_88362, count_88364);\n                \n                defunc_0_lifted_step_res_88367 = ss_88360;\n                defunc_0_lifted_step_res_88368 = tmp_88371;\n                defunc_0_lifted_step_res_88369 = tt_88363;\n                defunc_0_lifted_step_res_88370 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_88372;\n                bool cond_88373;\n                int64_t defunc_0_lifted",
                                    "_step_res_f_res_88374;\n                int64_t defunc_0_lifted_step_res_f_res_88375;\n                int64_t defunc_0_lifted_step_res_f_res_88376;\n                int64_t defunc_0_lifted_step_res_f_res_88377;\n                \n                zlze_lhs_88372 = sub64(tt_88363, tt_88362);\n                cond_88373 = sle64(zlze_lhs_88372, (int64_t) 0);\n                if (cond_88373) {\n                    int64_t tmp_88378 = add64(ss_88360, count_88364);\n                    \n                    defunc_0_lifted_step_res_f_res_88374 = tmp_88378;\n                    defunc_0_lifted_step_res_f_res_88375 = tt_88362;\n                    defunc_0_lifted_step_res_f_res_88376 = tt_88363;\n                    defunc_0_lifted_step_res_f_res_88377 = (int64_t) 0;\n                } else {\n                    bool cond_88379;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_88380;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_88381;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_88382;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_88383;\n                    \n                    cond_88379 = count_88364 == (int64_t) 1;\n                    if (cond_88379) {\n                        bool x_88384;\n                        bool y_88385;\n                        bool bounds_check_88386;\n                        bool index_certs_88387;\n                        bool x_88391;\n                        bool y_88392;\n                        bool bounds_check_88393;\n                        bool index_certs_88394;\n                        int64_t slice_88388;\n                        int64_t leq_arg1_88389;\n                        double leq_arg1_88390;\n                        int64_t slice_88395;\n                        int64_t slice_88396;\n                        int64_t leq_arg0_88397;\n                        double leq_arg0_88398;\n                        bool cond_88399;\n                        bool cond_88400;\n                     ", "   bool lifted_lambda_res_f_res_t_res_88401;\n                        bool x_88402;\n                        bool x_88403;\n                        bool y_88404;\n                        bool lifted_lambda_res_88405;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_88406;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_88407;\n                        \n                        x_88384 = sle64((int64_t) 0, ss_88360);\n                        y_88385 = slt64(ss_88360, stride_66238);\n                        bounds_check_88386 = x_88384 && y_88385;\n                        if (!bounds_check_88386) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 187) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_88360;\n                                    global_failure_args[1] = (int64_t) stride_66238;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        x_88391 = sle64((int64_t) 0, tt_88362);\n                        y_88392 = slt64(tt_88362, j_m_i_66261);\n                        bounds_check_88393 = x_88391 && y_88392;\n                        if (!bounds_check_88393) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 188) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_88362;\n                                    global_failure_args[1] = (int64_t) j_m_i_66261;\n                                    ;\n                                }\n                                return;\n                            }\n                        }\n                        slice_88388 = ss_88360 + index_primexp_91415;\n                        leq_arg1_88389 = ((__global int64_t *) mem_param_92301)[slice_88388];\n                        le", "q_arg1_88390 = ((__global double *) mem_param_92304)[slice_88388];\n                        slice_88395 = stride_66238 + tt_88362;\n                        slice_88396 = slice_88395 + index_primexp_91415;\n                        leq_arg0_88397 = ((__global int64_t *) mem_param_92301)[slice_88396];\n                        leq_arg0_88398 = ((__global double *) mem_param_92304)[slice_88396];\n                        cond_88399 = slt64(leq_arg0_88397, leq_arg1_88389);\n                        cond_88400 = leq_arg0_88397 == leq_arg1_88389;\n                        lifted_lambda_res_f_res_t_res_88401 = leq_arg0_88398 <= leq_arg1_88390;\n                        x_88402 = cond_88400 && lifted_lambda_res_f_res_t_res_88401;\n                        x_88403 = !cond_88399;\n                        y_88404 = x_88402 && x_88403;\n                        lifted_lambda_res_88405 = cond_88399 || y_88404;\n                        if (lifted_lambda_res_88405) {\n                            int64_t tmp_88408 = add64((int64_t) 1, tt_88362);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_88406 = ss_88360;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_88407 = tmp_88408;\n                        } else {\n                            int64_t tmp_88409 = add64((int64_t) 1, ss_88360);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_88406 = tmp_88409;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_88407 = tt_88362;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_88380 = defunc_0_lifted_step_res_f_res_f_res_t_res_88406;\n                        defunc_0_lifted_step_res_f_res_f_res_88381 = defunc_0_lifted_step_res_f_res_f_res_t_res_88407;\n                        defunc_0_lifted_step_res_f_res_f_res_88382 = tt_88363;\n                        defunc_0_lifted_step_res_f_res_f_res_88383 = (int64_t) 0;\n                    } e",
                                    "lse {\n                        int64_t m_88410;\n                        int64_t n_88411;\n                        bool cond_88412;\n                        int64_t zgze_lhs_88413;\n                        bool cond_f_res_88414;\n                        bool x_88415;\n                        bool y_88416;\n                        bool cond_88417;\n                        bool leq_y_x_88418;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_88443;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_88444;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_88445;\n                        \n                        m_88410 = sdiv64(count_88364, (int64_t) 2);\n                        n_88411 = sub64(count_88364, m_88410);\n                        cond_88412 = n_88411 == (int64_t) 0;\n                        zgze_lhs_88413 = add64(ss_88360, m_88410);\n                        cond_f_res_88414 = sle64(ss_88361, zgze_lhs_88413);\n                        x_88415 = !cond_88412;\n                        y_88416 = cond_f_res_88414 && x_88415;\n                        cond_88417 = cond_88412 || y_88416;\n                        if (cond_88417) {\n                            leq_y_x_88418 = 1;\n                        } else {\n                            bool x_88419;\n                            bool y_88420;\n                            bool bounds_check_88421;\n                            bool index_certs_88422;\n                            int64_t zm_lhs_88426;\n                            int64_t leq_arg0_88427;\n                            bool x_88428;\n                            bool y_88429;\n                            bool bounds_check_88430;\n                            bool index_certs_88431;\n                            int64_t slice_88423;\n                            int64_t leq_arg1_88424;\n                            double leq_arg1_88425;\n                            int64_t slice_88432;\n                            int64_t ", "slice_88433;\n                            int64_t leq_arg0_88434;\n                            double leq_arg0_88435;\n                            bool cond_88436;\n                            bool cond_88437;\n                            bool lifted_lambda_res_f_res_t_res_88438;\n                            bool x_88439;\n                            bool x_88440;\n                            bool y_88441;\n                            bool lifted_lambda_res_88442;\n                            \n                            x_88419 = sle64((int64_t) 0, zgze_lhs_88413);\n                            y_88420 = slt64(zgze_lhs_88413, stride_66238);\n                            bounds_check_88421 = x_88419 && y_88420;\n                            if (!bounds_check_88421) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 189) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_88413;\n                                        global_failure_args[1] = (int64_t) stride_66238;\n                                        ;\n                                    }\n                                    return;\n                                }\n                            }\n                            zm_lhs_88426 = add64(tt_88362, n_88411);\n                            leq_arg0_88427 = sub64(zm_lhs_88426, (int64_t) 1);\n                            x_88428 = sle64((int64_t) 0, leq_arg0_88427);\n                            y_88429 = slt64(leq_arg0_88427, j_m_i_66261);\n                            bounds_check_88430 = x_88428 && y_88429;\n                            if (!bounds_check_88430) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 190) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_88427;\n                                        global_failure_args[1] = (int64_t) j_m_i_66261;\n   ", "                                     ;\n                                    }\n                                    return;\n                                }\n                            }\n                            slice_88423 = zgze_lhs_88413 + index_primexp_91415;\n                            leq_arg1_88424 = ((__global int64_t *) mem_param_92301)[slice_88423];\n                            leq_arg1_88425 = ((__global double *) mem_param_92304)[slice_88423];\n                            slice_88432 = stride_66238 + leq_arg0_88427;\n                            slice_88433 = slice_88432 + index_primexp_91415;\n                            leq_arg0_88434 = ((__global int64_t *) mem_param_92301)[slice_88433];\n                            leq_arg0_88435 = ((__global double *) mem_param_92304)[slice_88433];\n                            cond_88436 = slt64(leq_arg0_88434, leq_arg1_88424);\n                            cond_88437 = leq_arg0_88434 == leq_arg1_88424;\n                            lifted_lambda_res_f_res_t_res_88438 = leq_arg0_88435 <= leq_arg1_88425;\n                            x_88439 = cond_88437 && lifted_lambda_res_f_res_t_res_88438;\n                            x_88440 = !cond_88436;\n                            y_88441 = x_88439 && x_88440;\n                            lifted_lambda_res_88442 = cond_88436 || y_88441;\n                            leq_y_x_88418 = lifted_lambda_res_88442;\n                        }\n                        if (leq_y_x_88418) {\n                            int64_t tmp_88446;\n                            int64_t tmp_88447;\n                            \n                            tmp_88446 = add64(tt_88362, n_88411);\n                            tmp_88447 = sub64(count_88364, n_88411);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88443 = tmp_88446;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88444 = tt_88363;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88445 = tmp_88447",
                                    ";\n                        } else {\n                            int64_t tmp_88448 = add64(tt_88362, n_88411);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88443 = tt_88362;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88444 = tmp_88448;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88445 = count_88364;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_88380 = ss_88360;\n                        defunc_0_lifted_step_res_f_res_f_res_88381 = defunc_0_lifted_step_res_f_res_f_res_f_res_88443;\n                        defunc_0_lifted_step_res_f_res_f_res_88382 = defunc_0_lifted_step_res_f_res_f_res_f_res_88444;\n                        defunc_0_lifted_step_res_f_res_f_res_88383 = defunc_0_lifted_step_res_f_res_f_res_f_res_88445;\n                    }\n                    defunc_0_lifted_step_res_f_res_88374 = defunc_0_lifted_step_res_f_res_f_res_88380;\n                    defunc_0_lifted_step_res_f_res_88375 = defunc_0_lifted_step_res_f_res_f_res_88381;\n                    defunc_0_lifted_step_res_f_res_88376 = defunc_0_lifted_step_res_f_res_f_res_88382;\n                    defunc_0_lifted_step_res_f_res_88377 = defunc_0_lifted_step_res_f_res_f_res_88383;\n                }\n                defunc_0_lifted_step_res_88367 = defunc_0_lifted_step_res_f_res_88374;\n                defunc_0_lifted_step_res_88368 = defunc_0_lifted_step_res_f_res_88375;\n                defunc_0_lifted_step_res_88369 = defunc_0_lifted_step_res_f_res_88376;\n                defunc_0_lifted_step_res_88370 = defunc_0_lifted_step_res_f_res_88377;\n            }\n            futrts_lifted_normalizze_10121(&loopres_88449, &loopres_88450, &loopres_88451, &loopres_88452, &loopres_88453, defunc_0_lifted_step_res_88367, ss_88361, defunc_0_lifted_step_res_88368, defunc_0_lifted_step_res_88369, defunc_0_lifted_step_res_88370);\n            loop_cond_88454 = slt64((int64_t) 0, loop", "res_88453);\n            loop_while_tmp_98073 = loop_cond_88454;\n            ss_tmp_98074 = loopres_88449;\n            ss_tmp_98075 = loopres_88450;\n            tt_tmp_98076 = loopres_88451;\n            tt_tmp_98077 = loopres_88452;\n            count_tmp_98078 = loopres_88453;\n            loop_while_88359 = loop_while_tmp_98073;\n            ss_88360 = ss_tmp_98074;\n            ss_88361 = ss_tmp_98075;\n            tt_88362 = tt_tmp_98076;\n            tt_88363 = tt_tmp_98077;\n            count_88364 = count_tmp_98078;\n        }\n        defunc_0_split_count_res_88353 = loop_while_88359;\n        defunc_0_split_count_res_88354 = ss_88360;\n        defunc_0_split_count_res_88355 = ss_88361;\n        defunc_0_split_count_res_88356 = tt_88362;\n        defunc_0_split_count_res_88357 = tt_88363;\n        defunc_0_split_count_res_88358 = count_88364;\n        ((__global int64_t *) mem_92318)[gtid_88339 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260 + gtid_88340] = defunc_0_split_count_res_88354;\n        ((__global int64_t *) mem_92321)[gtid_88339 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260 + gtid_88340] = defunc_0_split_count_res_88356;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_88335\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_88479_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_88479(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t loop_dz2084Uz2082U_66232, int64_t stride_66238, int64_t next_stride_66239, int64_t num_merges_66243, int64_t num_blocks_66259, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, int64_t num_tblocks_88465, int32_t virt_num_tblocks_98079, __global unsigned char *mem_param_92301, __global unsigned char *mem_param_92304, __global unsigned char *mem_param_92311, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92318, __global unsigned char *mem_92321, __global unsigned char *mem_92332, __global un", "signed char *mem_92337, __global unsigned char *mem_92340, __global unsigned char *mem_92343, __global unsigned char *mem_92360, __global unsigned char *mem_92363, __global unsigned char *mem_92366, __global unsigned char *mem_92369, __global unsigned char *mem_92370, __global unsigned char *mem_92373, __global unsigned char *mem_92374)\n{\n    #define segmap_tblock_sizze_88464 (sort_for_Skyline_doublezisegmap_88479zisegmap_tblock_sizze_88464)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98081;\n    int32_t tblock_sizze_98084;\n    int32_t wave_sizze_98083;\n    int32_t block_id_98082;\n    int32_t global_tid_98080;\n    int64_t phys_tid_88479;\n    int32_t phys_tblock_id_98085;\n    int32_t iterations_98086;\n    \n    local_tid_98081 = get_local_id(0);\n    tblock_sizze_98084 = get_local_size(0);\n    wave_sizze_98083 = LOCKSTEP_WIDTH;\n    block_id_98082 = get_tblock_id(0);\n    global_tid_98080 = block_id_98082 * tblock_sizze_98084 + local_tid_98081;\n    phys_tid_88479 = sext_i32_i64(global_tid_98080);\n    phys_tblock_id_98085 = get_tblock_id(0);\n    iterations_98086 = sdiv_up32(virt_num_tblocks_98079 - phys_tblock_id_98085, sext_i64_i32(num_tblocks_88465));\n    for (int32_t i_98087 = 0; i_98087 < iterations_98086; i_98087++) {\n        int32_t virt_tblock_id_98088;\n        int64_t global_tid_98089;\n        int64_t slice_98090;\n        int64_t slice_98091;\n        int64_t gtid_88477;\n        int64_t remnant_98092;\n        int64_t gtid_88478;\n        int64_t remnant_98093;\n        \n        virt_tblock_id_98088 = phys_tblock_id_98085 + i_98087 * sext_i64_i32(num_tblocks_88465);\n        global_tid_98089 = sext_i32_i64(virt_tblock_id_98088) * segmap_tblock_sizze_88464 + sext_i32_i64(local_tid_98081);\n        slice_98090 = num_blocks_66259;\n        slice_98091 = num_m",
                                    "erges_66243 * slice_98090;\n        gtid_88477 = squot64(global_tid_98089, slice_98090);\n        remnant_98092 = global_tid_98089 - gtid_88477 * slice_98090;\n        gtid_88478 = remnant_98092;\n        remnant_98093 = remnant_98092 - gtid_88478;\n        if (slt64(gtid_88477, num_merges_66243) && slt64(gtid_88478, num_blocks_66259)) {\n            bool y_88487;\n            bool index_certs_88489;\n            int64_t defunc_0_f_res_88490;\n            int64_t defunc_0_f_res_88491;\n            int64_t tmp_88492;\n            bool x_88493;\n            bool y_88494;\n            bool bounds_check_88495;\n            bool index_certs_88496;\n            int64_t defunc_0_f_res_88497;\n            int64_t defunc_0_f_res_88498;\n            int64_t merge_sequential_arg2_88499;\n            int64_t merge_sequential_arg2_88500;\n            int64_t j_m_i_88501;\n            bool empty_slice_88502;\n            int64_t m_88503;\n            int64_t i_p_m_t_s_88504;\n            bool zzero_leq_i_p_m_t_s_88505;\n            bool i_p_m_t_s_leq_w_88506;\n            bool zzero_lte_i_88507;\n            bool i_lte_j_88508;\n            bool y_88509;\n            bool y_88510;\n            bool forwards_ok_88511;\n            bool ok_or_empty_88512;\n            bool index_certs_88513;\n            int64_t j_m_i_88514;\n            bool empty_slice_88515;\n            int64_t m_88516;\n            int64_t i_p_m_t_s_88517;\n            bool zzero_leq_i_p_m_t_s_88518;\n            bool i_p_m_t_s_leq_w_88519;\n            bool zzero_lte_i_88520;\n            bool i_lte_j_88521;\n            bool y_88522;\n            bool y_88523;\n            bool forwards_ok_88524;\n            bool ok_or_empty_88525;\n            bool index_certs_88526;\n            bool cond_88527;\n            bool y_88538;\n            bool protect_assert_disj_95379;\n            bool index_certs_88539;\n            int64_t index_primexp_91412;\n            bool index_certs_88481;\n            bool index_certs_88482;\n            int64_t slice_88540;\n      ", "      int64_t slice_88533;\n            int64_t ext_92334;\n            int64_t dummy_88528;\n            double dummy_88529;\n            int64_t dummy_88531;\n            \n            y_88487 = slt64(gtid_88478, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260);\n            if (!y_88487) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 191) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_88478;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_88490 = ((__global int64_t *) mem_92318)[gtid_88477 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260 + gtid_88478];\n            defunc_0_f_res_88491 = ((__global int64_t *) mem_92321)[gtid_88477 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260 + gtid_88478];\n            tmp_88492 = add64((int64_t) 1, gtid_88478);\n            x_88493 = sle64((int64_t) 0, tmp_88492);\n            y_88494 = slt64(tmp_88492, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260);\n            bounds_check_88495 = x_88493 && y_88494;\n            if (!bounds_check_88495) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 192) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_88492;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            defunc_0_f_res_88497 = ((__global int64_t *) mem_92318)[gtid_88477 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260 + tmp_88492];\n            defunc_0_f_res_88498 = ((__global int64_t *) mem_92321)[gtid_88477 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260 + tmp_88492];\n      ", "      merge_sequential_arg2_88499 = add64(stride_66238, defunc_0_f_res_88491);\n            merge_sequential_arg2_88500 = add64(stride_66238, defunc_0_f_res_88498);\n            j_m_i_88501 = sub64(merge_sequential_arg2_88500, merge_sequential_arg2_88499);\n            empty_slice_88502 = j_m_i_88501 == (int64_t) 0;\n            m_88503 = sub64(j_m_i_88501, (int64_t) 1);\n            i_p_m_t_s_88504 = add64(merge_sequential_arg2_88499, m_88503);\n            zzero_leq_i_p_m_t_s_88505 = sle64((int64_t) 0, i_p_m_t_s_88504);\n            i_p_m_t_s_leq_w_88506 = slt64(i_p_m_t_s_88504, next_stride_66239);\n            zzero_lte_i_88507 = sle64((int64_t) 0, merge_sequential_arg2_88499);\n            i_lte_j_88508 = sle64(merge_sequential_arg2_88499, merge_sequential_arg2_88500);\n            y_88509 = i_p_m_t_s_leq_w_88506 && zzero_lte_i_88507;\n            y_88510 = zzero_leq_i_p_m_t_s_88505 && y_88509;\n            forwards_ok_88511 = i_lte_j_88508 && y_88510;\n            ok_or_empty_88512 = empty_slice_88502 || forwards_ok_88511;\n            if (!ok_or_empty_88512) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 193) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_88499;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_88500;\n                        global_failure_args[2] = (int64_t) next_stride_66239;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            j_m_i_88514 = sub64(defunc_0_f_res_88497, defunc_0_f_res_88490);\n            empty_slice_88515 = j_m_i_88514 == (int64_t) 0;\n            m_88516 = sub64(j_m_i_88514, (int64_t) 1);\n            i_p_m_t_s_88517 = add64(defunc_0_f_res_88490, m_88516);\n            zzero_leq_i_p_m_t_s_88518 = sle64((int64_t) 0, i_p_m_t_s_88517);\n            i_p_m_t_s_leq_w_88519 = slt64(i_p_m_t_s_88517, next_stride_66239);\n      ",
                                    "      zzero_lte_i_88520 = sle64((int64_t) 0, defunc_0_f_res_88490);\n            i_lte_j_88521 = sle64(defunc_0_f_res_88490, defunc_0_f_res_88497);\n            y_88522 = i_p_m_t_s_leq_w_88519 && zzero_lte_i_88520;\n            y_88523 = zzero_leq_i_p_m_t_s_88518 && y_88522;\n            forwards_ok_88524 = i_lte_j_88521 && y_88523;\n            ok_or_empty_88525 = empty_slice_88515 || forwards_ok_88524;\n            if (!ok_or_empty_88525) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 194) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_88490;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_88497;\n                        global_failure_args[2] = (int64_t) next_stride_66239;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            cond_88527 = slt64((int64_t) 0, j_m_i_88514);\n            y_88538 = slt64((int64_t) 0, j_m_i_88501);\n            protect_assert_disj_95379 = cond_88527 || y_88538;\n            if (!protect_assert_disj_95379) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 195) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_88501;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_0;\n                }\n            }\n            index_primexp_91412 = mul64(next_stride_66239, gtid_88477);\n            index_certs_88481 = 0;\n            index_certs_88482 = 0;\n            slice_88540 = merge_sequential_arg2_88499 + index_primexp_91412;\n            slice_88533 = defunc_0_f_res_88490 + index_primexp_91412;\n            if (cond_88527) {\n                ext_92334 = slice_88533;\n            } else {\n                ext_92334 = slice_88540;\n            }\n       ", "     if (cond_88527) {\n                int64_t head_res_88534;\n                double head_res_88535;\n                int64_t head_res_88537;\n                \n                head_res_88534 = ((__global int64_t *) mem_param_92301)[slice_88533];\n                head_res_88535 = ((__global double *) mem_param_92304)[slice_88533];\n                head_res_88537 = ((__global int64_t *) mem_param_92311)[slice_88533];\n                dummy_88528 = head_res_88534;\n                dummy_88529 = head_res_88535;\n                dummy_88531 = head_res_88537;\n            } else {\n                int64_t head_res_88541;\n                double head_res_88542;\n                int64_t head_res_88544;\n                \n                head_res_88541 = ((__global int64_t *) mem_param_92301)[slice_88540];\n                head_res_88542 = ((__global double *) mem_param_92304)[slice_88540];\n                head_res_88544 = ((__global int64_t *) mem_param_92311)[slice_88540];\n                dummy_88528 = head_res_88541;\n                dummy_88529 = head_res_88542;\n                dummy_88531 = head_res_88544;\n            }\n            ((__global int64_t *) mem_92337)[gtid_88477 * num_blocks_66259 + gtid_88478] = dummy_88528;\n            ((__global double *) mem_92340)[gtid_88477 * num_blocks_66259 + gtid_88478] = dummy_88529;\n            ((__global int64_t *) mem_92343)[gtid_88477 * num_blocks_66259 + gtid_88478] = dummy_88531;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_92360)[gtid_88477 * num_blocks_66259 + gtid_88478 + i_0 * (num_blocks_66259 * num_merges_66243)] = ((__global double *) mem_92332)[ext_92334 + i_0 * loop_dz2084Uz2082U_66232];\n            }\n            ((__global int64_t *) mem_92363)[gtid_88477 * num_blocks_66259 + gtid_88478] = defunc_0_f_res_88490;\n            ((__global int64_t *) mem_92366)[gtid_88477 * num_blocks_66259 + gtid_88478] = merge_sequential_arg2_88499;\n            ((__global int64_t *) mem_92369)[", "gtid_88477 * num_blocks_66259 + gtid_88478] = j_m_i_88501;\n            ((__global int64_t *) mem_92373)[gtid_88477 * num_blocks_66259 + gtid_88478] = j_m_i_88514;\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_88464\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_88568_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_88568(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t merge_block_sizze_66061, int64_t loop_dz2084Uz2082U_66232, int64_t next_stride_66239, int64_t num_merges_66243, int64_t num_blocks_66259, int64_t nest_sizze_88463, int64_t num_tblocks_88560, int64_t binop_y_92454, int32_t virt_num_tblocks_98189, __global unsigned char *mem_param_92301, __global unsigned char *mem_param_92304, __global unsigned char *mem_param_92311, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92332, __global unsigned char *mem_92363, __global unsigned char *mem_92366, __global unsigned char *mem_92369, __global unsigned char *mem_92370, __global unsigned char *mem_92373, __global unsigned char *mem_92374, __global unsigned char *mem_92408, __global unsigned char *mem_92425, __global unsigned char *mem_92442, __global unsigned char *mem_92466, __global unsigned char *mem_92525, __global unsigned char *mem_92542, __global unsigned char *mem_92566, __global unsigned char *mem_92583)\n{\n    #define segmap_tblock_sizze_88559 (sort_for_Skyline_doublezisegmap_88568zisegmap_tblock_sizze_88559)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t ",
                                    "local_tid_98191;\n    int32_t tblock_sizze_98194;\n    int32_t wave_sizze_98193;\n    int32_t block_id_98192;\n    int32_t global_tid_98190;\n    int64_t phys_tid_88568;\n    int32_t phys_tblock_id_98195;\n    int32_t iterations_98196;\n    \n    local_tid_98191 = get_local_id(0);\n    tblock_sizze_98194 = get_local_size(0);\n    wave_sizze_98193 = LOCKSTEP_WIDTH;\n    block_id_98192 = get_tblock_id(0);\n    global_tid_98190 = block_id_98192 * tblock_sizze_98194 + local_tid_98191;\n    phys_tid_88568 = sext_i32_i64(global_tid_98190);\n    phys_tblock_id_98195 = get_tblock_id(0);\n    iterations_98196 = sdiv_up32(virt_num_tblocks_98189 - phys_tblock_id_98195, sext_i64_i32(num_tblocks_88560));\n    for (int32_t i_98197 = 0; i_98197 < iterations_98196; i_98197++) {\n        int32_t virt_tblock_id_98198;\n        int64_t global_tid_98199;\n        int64_t slice_98200;\n        int64_t slice_98201;\n        int64_t gtid_88566;\n        int64_t remnant_98202;\n        int64_t gtid_88567;\n        int64_t remnant_98203;\n        \n        virt_tblock_id_98198 = phys_tblock_id_98195 + i_98197 * sext_i64_i32(num_tblocks_88560);\n        global_tid_98199 = sext_i32_i64(virt_tblock_id_98198) * segmap_tblock_sizze_88559 + sext_i32_i64(local_tid_98191);\n        slice_98200 = num_blocks_66259;\n        slice_98201 = num_merges_66243 * slice_98200;\n        gtid_88566 = squot64(global_tid_98199, slice_98200);\n        remnant_98202 = global_tid_98199 - gtid_88566 * slice_98200;\n        gtid_88567 = remnant_98202;\n        remnant_98203 = remnant_98202 - gtid_88567;\n        if (slt64(gtid_88566, num_merges_66243) && slt64(gtid_88567, num_blocks_66259)) {\n            int64_t index_primexp_91409;\n            bool index_certs_88570;\n            bool index_certs_88571;\n            int64_t defunc_0_f_res_88572;\n            int64_t merge_sequential_arg2_88573;\n            int64_t j_m_i_88574;\n            bool index_certs_88575;\n            int64_t j_m_i_88576;\n            bool index_certs_88577;\n            int64_t bin", "op_x_92481;\n            int64_t lmad_arg_92482;\n            int64_t data_88582;\n            int64_t i_88588;\n            \n            index_primexp_91409 = mul64(next_stride_66239, gtid_88566);\n            index_certs_88570 = 0;\n            index_certs_88571 = 0;\n            defunc_0_f_res_88572 = ((__global int64_t *) mem_92363)[gtid_88566 * num_blocks_66259 + gtid_88567];\n            merge_sequential_arg2_88573 = ((__global int64_t *) mem_92366)[gtid_88566 * num_blocks_66259 + gtid_88567];\n            j_m_i_88574 = ((__global int64_t *) mem_92369)[gtid_88566 * num_blocks_66259 + gtid_88567];\n            index_certs_88575 = 0;\n            j_m_i_88576 = ((__global int64_t *) mem_92373)[gtid_88566 * num_blocks_66259 + gtid_88567];\n            index_certs_88577 = 0;\n            binop_x_92481 = num_blocks_66259 * gtid_88566;\n            lmad_arg_92482 = gtid_88567 + binop_x_92481;\n            i_88588 = (int64_t) 0;\n            for (int64_t k_88587 = 0; k_88587 < merge_block_sizze_66061; k_88587++) {\n                int64_t j_88593;\n                bool cond_88594;\n                bool x_95613;\n                bool cond_88596;\n                bool x_88598;\n                bool y_88599;\n                bool bounds_check_88600;\n                bool loop_not_taken_95601;\n                bool protect_assert_disj_95602;\n                bool protect_assert_disj_95616;\n                bool index_certs_88601;\n                int64_t slice_88602;\n                int64_t slice_88603;\n                bool protect_cond_conj_95617;\n                int64_t leq_arg1_88604;\n                double leq_arg1_88605;\n                bool x_88606;\n                bool bounds_check_88607;\n                bool protect_assert_disj_95608;\n                bool protect_assert_disj_95620;\n                bool index_certs_88608;\n                int64_t slice_88609;\n                int64_t slice_88610;\n                int64_t leq_arg0_88611;\n                double leq_arg0_88612;\n                bool", " cond_88613;\n                bool cond_88614;\n                bool lifted_lambda_res_f_res_t_res_88615;\n                bool x_88616;\n                bool x_88617;\n                bool y_88618;\n                bool lifted_lambda_res_88619;\n                bool x_95653;\n                bool cond_88595;\n                bool protect_assert_disj_95371;\n                bool index_certs_88639;\n                bool loop_not_taken_95366;\n                bool protect_assert_disj_95367;\n                bool index_certs_88629;\n                int64_t ext_92495;\n                int64_t loopres_88620;\n                int64_t loopres_88621;\n                double loopres_88622;\n                int64_t loopres_88624;\n                int64_t i_tmp_98204;\n                \n                j_88593 = sub64(k_88587, i_88588);\n                cond_88594 = j_88593 == j_m_i_88574;\n                x_95613 = !cond_88594;\n                cond_88596 = slt64(i_88588, j_m_i_88576);\n                x_88598 = sle64((int64_t) 0, j_88593);\n                y_88599 = slt64(j_88593, j_m_i_88574);\n                bounds_check_88600 = x_88598 && y_88599;\n                loop_not_taken_95601 = !cond_88596;\n                protect_assert_disj_95602 = bounds_check_88600 || loop_not_taken_95601;\n                protect_assert_disj_95616 = cond_88594 || protect_assert_disj_95602;\n                if (!protect_assert_disj_95616) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 196) == -1) {\n                            global_failure_args[0] = (int64_t) j_88593;\n                            global_failure_args[1] = (int64_t) j_m_i_88574;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_88602 = merge_sequential_arg2_88573 + j_88593;\n                slice_88603 = slice_88602 + index_primexp_91409;\n                protec",
                                    "t_cond_conj_95617 = cond_88596 && x_95613;\n                if (protect_cond_conj_95617) {\n                    int64_t x_95603 = ((__global int64_t *) mem_param_92301)[slice_88603];\n                    \n                    leq_arg1_88604 = x_95603;\n                } else {\n                    leq_arg1_88604 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95617) {\n                    double x_95605 = ((__global double *) mem_param_92304)[slice_88603];\n                    \n                    leq_arg1_88605 = x_95605;\n                } else {\n                    leq_arg1_88605 = 0.0;\n                }\n                x_88606 = sle64((int64_t) 0, i_88588);\n                bounds_check_88607 = cond_88596 && x_88606;\n                protect_assert_disj_95608 = bounds_check_88607 || loop_not_taken_95601;\n                protect_assert_disj_95620 = cond_88594 || protect_assert_disj_95608;\n                if (!protect_assert_disj_95620) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 197) == -1) {\n                            global_failure_args[0] = (int64_t) i_88588;\n                            global_failure_args[1] = (int64_t) j_m_i_88576;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                slice_88609 = defunc_0_f_res_88572 + i_88588;\n                slice_88610 = slice_88609 + index_primexp_91409;\n                if (protect_cond_conj_95617) {\n                    int64_t x_95609 = ((__global int64_t *) mem_param_92301)[slice_88610];\n                    \n                    leq_arg0_88611 = x_95609;\n                } else {\n                    leq_arg0_88611 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95617) {\n                    double x_95611 = ((__global double *) mem_param_92304)[slice_88610];\n                    \n                ", "    leq_arg0_88612 = x_95611;\n                } else {\n                    leq_arg0_88612 = 0.0;\n                }\n                cond_88613 = slt64(leq_arg0_88611, leq_arg1_88604);\n                cond_88614 = leq_arg0_88611 == leq_arg1_88604;\n                lifted_lambda_res_f_res_t_res_88615 = leq_arg0_88612 <= leq_arg1_88605;\n                x_88616 = cond_88614 && lifted_lambda_res_f_res_t_res_88615;\n                x_88617 = !cond_88613;\n                y_88618 = x_88616 && x_88617;\n                lifted_lambda_res_88619 = cond_88613 || y_88618;\n                x_95653 = cond_88596 && lifted_lambda_res_88619;\n                cond_88595 = cond_88594 || x_95653;\n                protect_assert_disj_95371 = cond_88595 || bounds_check_88600;\n                if (!protect_assert_disj_95371) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 198) == -1) {\n                            global_failure_args[0] = (int64_t) j_88593;\n                            global_failure_args[1] = (int64_t) j_m_i_88574;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                loop_not_taken_95366 = !cond_88595;\n                protect_assert_disj_95367 = bounds_check_88607 || loop_not_taken_95366;\n                if (!protect_assert_disj_95367) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 199) == -1) {\n                            global_failure_args[0] = (int64_t) i_88588;\n                            global_failure_args[1] = (int64_t) j_m_i_88576;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (cond_88595) {\n                    ext_92495 = slice_88610;\n                } else {\n                    ext_92495 ", "= slice_88603;\n                }\n                if (cond_88595) {\n                    int64_t tmp_88625;\n                    int64_t tmp_88632;\n                    double tmp_88633;\n                    int64_t tmp_88635;\n                    \n                    tmp_88625 = add64((int64_t) 1, i_88588);\n                    tmp_88632 = ((__global int64_t *) mem_param_92301)[slice_88610];\n                    tmp_88633 = ((__global double *) mem_param_92304)[slice_88610];\n                    tmp_88635 = ((__global int64_t *) mem_param_92311)[slice_88610];\n                    loopres_88620 = tmp_88625;\n                    loopres_88621 = tmp_88632;\n                    loopres_88622 = tmp_88633;\n                    loopres_88624 = tmp_88635;\n                } else {\n                    int64_t tmp_88642;\n                    double tmp_88643;\n                    int64_t tmp_88645;\n                    \n                    tmp_88642 = ((__global int64_t *) mem_param_92301)[slice_88603];\n                    tmp_88643 = ((__global double *) mem_param_92304)[slice_88603];\n                    tmp_88645 = ((__global int64_t *) mem_param_92311)[slice_88603];\n                    loopres_88620 = i_88588;\n                    loopres_88621 = tmp_88642;\n                    loopres_88622 = tmp_88643;\n                    loopres_88624 = tmp_88645;\n                }\n                ((__global int64_t *) mem_92408)[lmad_arg_92482 + k_88587 * nest_sizze_88463] = loopres_88621;\n                ((__global double *) mem_92425)[lmad_arg_92482 + k_88587 * nest_sizze_88463] = loopres_88622;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__global double *) mem_92466)[lmad_arg_92482 + k_88587 * binop_y_92454 + i_0 * nest_sizze_88463] = ((__global double *) mem_92332)[ext_92495 + i_0 * loop_dz2084Uz2082U_66232];\n                }\n                ((__global int64_t *) mem_92442)[lmad_arg_92482 + k_88587 * nest_sizze_88463] = loopres_88624;\n                i_tmp_",
                                    "98204 = loopres_88620;\n                i_88588 = i_tmp_98204;\n            }\n            data_88582 = i_88588;\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n                ((__global int64_t *) mem_92525)[gtid_88566 * num_blocks_66259 + gtid_88567 + i_0 * (num_blocks_66259 * num_merges_66243)] = ((__global int64_t *) mem_92408)[lmad_arg_92482 + i_0 * nest_sizze_88463];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n                ((__global double *) mem_92542)[gtid_88566 * num_blocks_66259 + gtid_88567 + i_0 * (num_blocks_66259 * num_merges_66243)] = ((__global double *) mem_92425)[lmad_arg_92482 + i_0 * nest_sizze_88463];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                    ((__global double *) mem_92566)[gtid_88566 * num_blocks_66259 + gtid_88567 + (i_0 * (num_blocks_66259 * num_merges_66243 * dim_45874) + i_1 * (num_blocks_66259 * num_merges_66243))] = ((__global double *) mem_92466)[lmad_arg_92482 + (i_0 * binop_y_92454 + i_1 * nest_sizze_88463)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n                ((__global int64_t *) mem_92583)[gtid_88566 * num_blocks_66259 + gtid_88567 + i_0 * (num_blocks_66259 * num_merges_66243)] = ((__global int64_t *) mem_92442)[lmad_arg_92482 + i_0 * nest_sizze_88463];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_88559\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90809_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90809(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *start_of_grid_partition_mem_", "91598, __global unsigned char *ext_mem_94417, __global unsigned char *mem_94526)\n{\n    #define segmap_tblock_sizze_90804 (sort_for_Skyline_doublezisegmap_90809zisegmap_tblock_sizze_90804)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98473;\n    int32_t tblock_sizze_98476;\n    int32_t wave_sizze_98475;\n    int32_t block_id_98474;\n    int32_t global_tid_98472;\n    int64_t phys_tid_90809;\n    int64_t global_tid_98477;\n    int64_t slice_98478;\n    int64_t slice_98479;\n    int64_t gtid_90807;\n    int64_t remnant_98480;\n    int64_t gtid_90808;\n    int64_t remnant_98481;\n    \n    local_tid_98473 = get_local_id(0);\n    tblock_sizze_98476 = get_local_size(0);\n    wave_sizze_98475 = LOCKSTEP_WIDTH;\n    block_id_98474 = get_tblock_id(0);\n    global_tid_98472 = block_id_98474 * tblock_sizze_98476 + local_tid_98473;\n    phys_tid_90809 = sext_i32_i64(global_tid_98472);\n    global_tid_98477 = sext_i32_i64(block_id_98474) * segmap_tblock_sizze_90804 + sext_i32_i64(local_tid_98473);\n    slice_98478 = dim_45874;\n    slice_98479 = n_45877 * slice_98478;\n    gtid_90807 = squot64(global_tid_98477, slice_98478);\n    remnant_98480 = global_tid_98477 - gtid_90807 * slice_98478;\n    gtid_90808 = remnant_98480;\n    remnant_98481 = remnant_98480 - gtid_90808;\n    if (slt64(gtid_90807, n_45877) && slt64(gtid_90808, dim_45874)) {\n        double eta_p_90810;\n        double eta_p_90811;\n        double defunc_0_f_res_90812;\n        \n        eta_p_90810 = ((__global double *) ext_mem_94417)[gtid_90807 * dim_45874 + gtid_90808];\n        eta_p_90811 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_90808];\n        defunc_0_f_res_90812 = eta_p_90810 - eta_p_90811;\n        ((__global double *) mem_94526)[gtid_90807 * dim_45874 + gtid_90808] = defunc_0_f_res_90812;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90804\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90825_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90825(__global int *g", "lobal_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *mem_94526)\n{\n    #define segmap_tblock_sizze_90820 (sort_for_Skyline_doublezisegmap_90825zisegmap_tblock_sizze_90820)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98484;\n    int32_t tblock_sizze_98487;\n    int32_t wave_sizze_98486;\n    int32_t block_id_98485;\n    int32_t global_tid_98483;\n    int64_t phys_tid_90825;\n    int64_t global_tid_98488;\n    int64_t slice_98489;\n    int64_t slice_98490;\n    int64_t gtid_90823;\n    int64_t remnant_98491;\n    int64_t gtid_90824;\n    int64_t remnant_98492;\n    \n    local_tid_98484 = get_local_id(0);\n    tblock_sizze_98487 = get_local_size(0);\n    wave_sizze_98486 = LOCKSTEP_WIDTH;\n    block_id_98485 = get_tblock_id(0);\n    global_tid_98483 = block_id_98485 * tblock_sizze_98487 + local_tid_98484;\n    phys_tid_90825 = sext_i32_i64(global_tid_98483);\n    global_tid_98488 = sext_i32_i64(block_id_98485) * segmap_tblock_sizze_90820 + sext_i32_i64(local_tid_98484);\n    slice_98489 = dim_45874;\n    slice_98490 = n_45877 * slice_98489;\n    gtid_90823 = squot64(global_tid_98488, slice_98489);\n    remnant_98491 = global_tid_98488 - gtid_90823 * slice_98489;\n    gtid_90824 = remnant_98491;\n    remnant_98492 = remnant_98491 - gtid_90824;\n    if (slt64(gtid_90823, n_45877) && slt64(gtid_90824, dim_45874)) {\n        double eta_p_90826;\n        double eta_p_90827;\n        double defunc_0_f_res_90828;\n        \n        eta_p_90826 = ((__global double *) mem_94526)[gtid_90823 * dim_45874 + gtid_90824];\n        eta_p_90827 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_90824];\n        defunc_0_f_res_90828 = eta_p_90826 / eta_p_90827;\n        ((__global double *) mem_94526)[gtid_90823 * dim_45874 + gtid_90824] = defunc_0_f_res_90828;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90820\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90837_dim1, 1, 1",
                                    ")\nvoid sort_for_Skyline_doublezisegmap_90837(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *mem_94526, __global unsigned char *mem_94529)\n{\n    #define segmap_tblock_sizze_90833 (sort_for_Skyline_doublezisegmap_90837zisegmap_tblock_sizze_90833)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98495;\n    int32_t tblock_sizze_98498;\n    int32_t wave_sizze_98497;\n    int32_t block_id_98496;\n    int32_t global_tid_98494;\n    int64_t phys_tid_90837;\n    int64_t global_tid_98499;\n    int64_t slice_98500;\n    int64_t gtid_90836;\n    int64_t remnant_98501;\n    \n    local_tid_98495 = get_local_id(0);\n    tblock_sizze_98498 = get_local_size(0);\n    wave_sizze_98497 = LOCKSTEP_WIDTH;\n    block_id_98496 = get_tblock_id(0);\n    global_tid_98494 = block_id_98496 * tblock_sizze_98498 + local_tid_98495;\n    phys_tid_90837 = sext_i32_i64(global_tid_98494);\n    global_tid_98499 = sext_i32_i64(block_id_98496) * segmap_tblock_sizze_90833 + sext_i32_i64(local_tid_98495);\n    slice_98500 = n_45877;\n    gtid_90836 = global_tid_98499;\n    remnant_98501 = global_tid_98499 - gtid_90836;\n    if (slt64(gtid_90836, n_45877)) {\n        double f_arg0_90839;\n        int64_t f64_res_90840;\n        \n        f_arg0_90839 = ((__global double *) mem_94526)[gtid_90836 * dim_45874];\n        f64_res_90840 = fptosi_f64_i64(f_arg0_90839);\n        ((__global int64_t *) mem_94529)[gtid_90836] = f64_res_90840;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90833\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90850_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90850(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_90846, int32_t virt_num_tblocks_98522, __global unsigned char *mem_94543, __global unsigned char *mem_94554, __global unsigned char *mem_94572)\n{\n    #define segmap_tblock_sizze_90845 (so", "rt_for_Skyline_doublezisegmap_90850zisegmap_tblock_sizze_90845)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98524;\n    int32_t tblock_sizze_98527;\n    int32_t wave_sizze_98526;\n    int32_t block_id_98525;\n    int32_t global_tid_98523;\n    int64_t phys_tid_90850;\n    int32_t phys_tblock_id_98528;\n    int32_t iterations_98529;\n    \n    local_tid_98524 = get_local_id(0);\n    tblock_sizze_98527 = get_local_size(0);\n    wave_sizze_98526 = LOCKSTEP_WIDTH;\n    block_id_98525 = get_tblock_id(0);\n    global_tid_98523 = block_id_98525 * tblock_sizze_98527 + local_tid_98524;\n    phys_tid_90850 = sext_i32_i64(global_tid_98523);\n    phys_tblock_id_98528 = get_tblock_id(0);\n    iterations_98529 = sdiv_up32(virt_num_tblocks_98522 - phys_tblock_id_98528, sext_i64_i32(num_tblocks_90846));\n    for (int32_t i_98530 = 0; i_98530 < iterations_98529; i_98530++) {\n        int32_t virt_tblock_id_98531;\n        int64_t global_tid_98532;\n        int64_t slice_98533;\n        int64_t gtid_90849;\n        int64_t remnant_98534;\n        \n        virt_tblock_id_98531 = phys_tblock_id_98528 + i_98530 * sext_i64_i32(num_tblocks_90846);\n        global_tid_98532 = sext_i32_i64(virt_tblock_id_98531) * segmap_tblock_sizze_90845 + sext_i32_i64(local_tid_98524);\n        slice_98533 = n_45877;\n        gtid_90849 = global_tid_98532;\n        remnant_98534 = global_tid_98532 - gtid_90849;\n        if (slt64(gtid_90849, n_45877)) {\n            for (int64_t i_90854 = 0; i_90854 < arg_65084; i_90854++) {\n                int64_t index_primexp_90856;\n                bool x_90857;\n                bool y_90858;\n                bool bounds_check_90859;\n                bool index_certs_90860;\n                double f_arg0_90861;\n                int64_t f64_res_90862;\n                \n                ind", "ex_primexp_90856 = add64((int64_t) 1, i_90854);\n                x_90857 = sle64((int64_t) 0, index_primexp_90856);\n                y_90858 = slt64(index_primexp_90856, dim_45874);\n                bounds_check_90859 = x_90857 && y_90858;\n                if (!bounds_check_90859) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 215) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_90856;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_90861 = ((__global double *) mem_94554)[gtid_90849 + index_primexp_90856 * n_45877];\n                f64_res_90862 = fptosi_f64_i64(f_arg0_90861);\n                ((__global int64_t *) mem_94543)[gtid_90849 + index_primexp_90856 * n_45877] = f64_res_90862;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_94572)[gtid_90849 + i_0 * n_45877] = ((__global int64_t *) mem_94543)[gtid_90849 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_90845\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90870_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90870(__global int *global_failure, int64_t n_45877, int64_t ext_91707, __global unsigned char *ext_mem_94578, __global unsigned char *mem_94581)\n{\n    #define segmap_tblock_sizze_90866 (sort_for_Skyline_doublezisegmap_90870zisegmap_tblock_sizze_90866)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98538;\n    int32_t tblock_sizze_98541;\n    int32_t wave_",
                                    "sizze_98540;\n    int32_t block_id_98539;\n    int32_t global_tid_98537;\n    int64_t phys_tid_90870;\n    int64_t global_tid_98542;\n    int64_t slice_98543;\n    int64_t gtid_90869;\n    int64_t remnant_98544;\n    \n    local_tid_98538 = get_local_id(0);\n    tblock_sizze_98541 = get_local_size(0);\n    wave_sizze_98540 = LOCKSTEP_WIDTH;\n    block_id_98539 = get_tblock_id(0);\n    global_tid_98537 = block_id_98539 * tblock_sizze_98541 + local_tid_98538;\n    phys_tid_90870 = sext_i32_i64(global_tid_98537);\n    global_tid_98542 = sext_i32_i64(block_id_98539) * segmap_tblock_sizze_90866 + sext_i32_i64(local_tid_98538);\n    slice_98543 = n_45877;\n    gtid_90869 = global_tid_98542;\n    remnant_98544 = global_tid_98542 - gtid_90869;\n    if (slt64(gtid_90869, n_45877)) {\n        int64_t f_arg0_90872;\n        int64_t max_res_90873;\n        \n        f_arg0_90872 = ((__global int64_t *) ext_mem_94578)[gtid_90869 * ext_91707];\n        max_res_90873 = smax64((int64_t) 0, f_arg0_90872);\n        ((__global int64_t *) mem_94581)[gtid_90869] = max_res_90873;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90866\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90883_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90883(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_90879, int32_t virt_num_tblocks_98565, __global unsigned char *mem_94595, __global unsigned char *mem_94606, __global unsigned char *mem_94624)\n{\n    #define segmap_tblock_sizze_90878 (sort_for_Skyline_doublezisegmap_90883zisegmap_tblock_sizze_90878)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98567;\n    int32_t tblock_sizze_98570;\n    int32_t wave_sizze_98569;\n    int32", "_t block_id_98568;\n    int32_t global_tid_98566;\n    int64_t phys_tid_90883;\n    int32_t phys_tblock_id_98571;\n    int32_t iterations_98572;\n    \n    local_tid_98567 = get_local_id(0);\n    tblock_sizze_98570 = get_local_size(0);\n    wave_sizze_98569 = LOCKSTEP_WIDTH;\n    block_id_98568 = get_tblock_id(0);\n    global_tid_98566 = block_id_98568 * tblock_sizze_98570 + local_tid_98567;\n    phys_tid_90883 = sext_i32_i64(global_tid_98566);\n    phys_tblock_id_98571 = get_tblock_id(0);\n    iterations_98572 = sdiv_up32(virt_num_tblocks_98565 - phys_tblock_id_98571, sext_i64_i32(num_tblocks_90879));\n    for (int32_t i_98573 = 0; i_98573 < iterations_98572; i_98573++) {\n        int32_t virt_tblock_id_98574;\n        int64_t global_tid_98575;\n        int64_t slice_98576;\n        int64_t gtid_90882;\n        int64_t remnant_98577;\n        \n        virt_tblock_id_98574 = phys_tblock_id_98571 + i_98573 * sext_i64_i32(num_tblocks_90879);\n        global_tid_98575 = sext_i32_i64(virt_tblock_id_98574) * segmap_tblock_sizze_90878 + sext_i32_i64(local_tid_98567);\n        slice_98576 = n_45877;\n        gtid_90882 = global_tid_98575;\n        remnant_98577 = global_tid_98575 - gtid_90882;\n        if (slt64(gtid_90882, n_45877)) {\n            for (int64_t i_90887 = 0; i_90887 < arg_65084; i_90887++) {\n                int64_t index_primexp_90889;\n                bool x_90890;\n                bool y_90891;\n                bool bounds_check_90892;\n                bool index_certs_90893;\n                int64_t f_arg0_90894;\n                int64_t max_res_90895;\n                \n                index_primexp_90889 = add64((int64_t) 1, i_90887);\n                x_90890 = sle64((int64_t) 0, index_primexp_90889);\n                y_90891 = slt64(index_primexp_90889, dim_45874);\n                bounds_check_90892 = x_90890 && y_90891;\n                if (!bounds_check_90892) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 216) == -1) {\n               ", "             global_failure_args[0] = (int64_t) index_primexp_90889;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_90894 = ((__global int64_t *) mem_94606)[gtid_90882 + index_primexp_90889 * n_45877];\n                max_res_90895 = smax64((int64_t) 0, f_arg0_90894);\n                ((__global int64_t *) mem_94595)[gtid_90882 + index_primexp_90889 * n_45877] = max_res_90895;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_94624)[gtid_90882 + i_0 * n_45877] = ((__global int64_t *) mem_94595)[gtid_90882 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_90878\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90903_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90903(__global int *global_failure, int64_t n_45877, int64_t ext_94661, __global unsigned char *mem_91635, __global unsigned char *ext_mem_94662, __global unsigned char *mem_94665)\n{\n    #define segmap_tblock_sizze_90899 (sort_for_Skyline_doublezisegmap_90903zisegmap_tblock_sizze_90899)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98582;\n    int32_t tblock_sizze_98585;\n    int32_t wave_sizze_98584;\n    int32_t block_id_98583;\n    int32_t global_tid_98581;\n    int64_t phys_tid_90903;\n    int64_t global_tid_98586;\n    int64_t slice_98587;\n    int64_t gtid_90902;\n    int64_t remnant_98588;\n    \n    local_tid_98582 = get_local_id(0);\n    tblock_sizze_98585 = get_local_size(0);\n    wave_sizze_98584 = LOCKSTEP_WIDTH;\n    block_id_98583 = get_tblock_",
                                    "id(0);\n    global_tid_98581 = block_id_98583 * tblock_sizze_98585 + local_tid_98582;\n    phys_tid_90903 = sext_i32_i64(global_tid_98581);\n    global_tid_98586 = sext_i32_i64(block_id_98583) * segmap_tblock_sizze_90899 + sext_i32_i64(local_tid_98582);\n    slice_98587 = n_45877;\n    gtid_90902 = global_tid_98586;\n    remnant_98588 = global_tid_98586 - gtid_90902;\n    if (slt64(gtid_90902, n_45877)) {\n        int64_t min_arg1_91510;\n        int64_t f_arg0_90905;\n        int64_t min_res_90906;\n        \n        min_arg1_91510 = ((__global int64_t *) mem_91635)[(int64_t) 0];\n        f_arg0_90905 = ((__global int64_t *) ext_mem_94662)[gtid_90902 * ext_94661];\n        min_res_90906 = smin64(f_arg0_90905, min_arg1_91510);\n        ((__global int64_t *) mem_94665)[gtid_90902] = min_res_90906;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90899\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90916_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90916(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_90912, int32_t virt_num_tblocks_98609, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *mem_94679, __global unsigned char *mem_94690, __global unsigned char *mem_94708)\n{\n    #define segmap_tblock_sizze_90911 (sort_for_Skyline_doublezisegmap_90916zisegmap_tblock_sizze_90911)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98611;\n    int32_t tblock_sizze_98614;\n    int32_t wave_sizze_98613;\n    int32_t block_id_98612;\n    int32_t global_tid_98610;\n    int64_t phys_tid_90916;\n    int32_t phys_tblock_id_98615;\n    int32_t iterations_98616;\n    \n    local_tid_98611 = get_local_id(0);\n    tblock_si", "zze_98614 = get_local_size(0);\n    wave_sizze_98613 = LOCKSTEP_WIDTH;\n    block_id_98612 = get_tblock_id(0);\n    global_tid_98610 = block_id_98612 * tblock_sizze_98614 + local_tid_98611;\n    phys_tid_90916 = sext_i32_i64(global_tid_98610);\n    phys_tblock_id_98615 = get_tblock_id(0);\n    iterations_98616 = sdiv_up32(virt_num_tblocks_98609 - phys_tblock_id_98615, sext_i64_i32(num_tblocks_90912));\n    for (int32_t i_98617 = 0; i_98617 < iterations_98616; i_98617++) {\n        int32_t virt_tblock_id_98618;\n        int64_t global_tid_98619;\n        int64_t slice_98620;\n        int64_t gtid_90915;\n        int64_t remnant_98621;\n        \n        virt_tblock_id_98618 = phys_tblock_id_98615 + i_98617 * sext_i64_i32(num_tblocks_90912);\n        global_tid_98619 = sext_i32_i64(virt_tblock_id_98618) * segmap_tblock_sizze_90911 + sext_i32_i64(local_tid_98611);\n        slice_98620 = n_45877;\n        gtid_90915 = global_tid_98619;\n        remnant_98621 = global_tid_98619 - gtid_90915;\n        if (slt64(gtid_90915, n_45877)) {\n            for (int64_t i_90920 = 0; i_90920 < arg_65084; i_90920++) {\n                int64_t index_primexp_90922;\n                bool x_90923;\n                bool y_90924;\n                bool bounds_check_90925;\n                bool index_certs_90926;\n                bool index_certs_90928;\n                int64_t f_arg0_90927;\n                int64_t zm_lhs_90929;\n                int64_t min_arg1_90930;\n                int64_t min_res_90931;\n                \n                index_primexp_90922 = add64((int64_t) 1, i_90920);\n                x_90923 = sle64((int64_t) 0, index_primexp_90922);\n                y_90924 = slt64(index_primexp_90922, dim_45874);\n                bounds_check_90925 = x_90923 && y_90924;\n                if (!bounds_check_90925) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 217) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_90922;\n           ", "                 global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                if (!bounds_check_90925) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 218) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_90922;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                f_arg0_90927 = ((__global int64_t *) mem_94690)[gtid_90915 + index_primexp_90922 * n_45877];\n                zm_lhs_90929 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_90922];\n                min_arg1_90930 = sub64(zm_lhs_90929, (int64_t) 1);\n                min_res_90931 = smin64(f_arg0_90927, min_arg1_90930);\n                ((__global int64_t *) mem_94679)[gtid_90915 + index_primexp_90922 * n_45877] = min_res_90931;\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global int64_t *) mem_94708)[gtid_90915 + i_0 * n_45877] = ((__global int64_t *) mem_94679)[gtid_90915 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_90911\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90945_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90945(__global int *global_failure, int64_t dim_45874, int64_t n_45877, int64_t ext_94757, int64_t ext_94758, __global unsigned char *grid_part_prefix_sum_mem_91595, __global unsigned char *ext",
                                    "_mem_94759, __global unsigned char *mem_94763)\n{\n    #define segmap_tblock_sizze_90940 (sort_for_Skyline_doublezisegmap_90945zisegmap_tblock_sizze_90940)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98626;\n    int32_t tblock_sizze_98629;\n    int32_t wave_sizze_98628;\n    int32_t block_id_98627;\n    int32_t global_tid_98625;\n    int64_t phys_tid_90945;\n    int64_t global_tid_98630;\n    int64_t slice_98631;\n    int64_t slice_98632;\n    int64_t gtid_90943;\n    int64_t remnant_98633;\n    int64_t gtid_90944;\n    int64_t remnant_98634;\n    \n    local_tid_98626 = get_local_id(0);\n    tblock_sizze_98629 = get_local_size(0);\n    wave_sizze_98628 = LOCKSTEP_WIDTH;\n    block_id_98627 = get_tblock_id(0);\n    global_tid_98625 = block_id_98627 * tblock_sizze_98629 + local_tid_98626;\n    phys_tid_90945 = sext_i32_i64(global_tid_98625);\n    global_tid_98630 = sext_i32_i64(block_id_98627) * segmap_tblock_sizze_90940 + sext_i32_i64(local_tid_98626);\n    slice_98631 = dim_45874;\n    slice_98632 = n_45877 * slice_98631;\n    gtid_90943 = squot64(global_tid_98630, slice_98631);\n    remnant_98633 = global_tid_98630 - gtid_90943 * slice_98631;\n    gtid_90944 = remnant_98633;\n    remnant_98634 = remnant_98633 - gtid_90944;\n    if (slt64(gtid_90943, n_45877) && slt64(gtid_90944, dim_45874)) {\n        int64_t eta_p_90946;\n        int64_t eta_p_90947;\n        int64_t defunc_0_f_res_90948;\n        \n        eta_p_90946 = ((__global int64_t *) ext_mem_94759)[gtid_90943 * ext_94758 + gtid_90944 * ext_94757];\n        eta_p_90947 = ((__global int64_t *) grid_part_prefix_sum_mem_91595)[gtid_90944];\n        defunc_0_f_res_90948 = mul64(eta_p_90946, eta_p_90947);\n        ((__global int64_t *) mem_94763)[gtid_90943 * dim_45874 + gtid_90944] = defunc_0_f_res_90948;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90940\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90956_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90956(__global int *global_failure", ", int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t dz2080U_45875, int64_t n_45877, __global unsigned char *mem_94774, __global unsigned char *mem_94776, __global unsigned char *mem_94778)\n{\n    #define segmap_tblock_sizze_90951 (sort_for_Skyline_doublezisegmap_90956zisegmap_tblock_sizze_90951)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98637;\n    int32_t tblock_sizze_98640;\n    int32_t wave_sizze_98639;\n    int32_t block_id_98638;\n    int32_t global_tid_98636;\n    int64_t phys_tid_90956;\n    int64_t global_tid_98641;\n    int64_t slice_98642;\n    int64_t gtid_90955;\n    int64_t remnant_98643;\n    \n    local_tid_98637 = get_local_id(0);\n    tblock_sizze_98640 = get_local_size(0);\n    wave_sizze_98639 = LOCKSTEP_WIDTH;\n    block_id_98638 = get_tblock_id(0);\n    global_tid_98636 = block_id_98638 * tblock_sizze_98640 + local_tid_98637;\n    phys_tid_90956 = sext_i32_i64(global_tid_98636);\n    global_tid_98641 = sext_i32_i64(block_id_98638) * segmap_tblock_sizze_90951 + sext_i32_i64(local_tid_98637);\n    slice_98642 = n_45877;\n    gtid_90955 = global_tid_98641;\n    remnant_98643 = global_tid_98641 - gtid_90955;\n    if (slt64(gtid_90955, n_45877)) {\n        int64_t defunc_0_foldl_res_90958;\n        int64_t acc_90960;\n        bool x_90963;\n        bool y_90964;\n        bool bounds_check_90965;\n        bool index_certs_90966;\n        \n        acc_90960 = (int64_t) 0;\n        for (int64_t i_90959 = 0; i_90959 < dim_45874; i_90959++) {\n            int64_t b_90961;\n            int64_t defunc_0_f_res_90962;\n            int64_t acc_tmp_98644;\n            \n            b_90961 = ((__global int64_t *) mem_94774)[gtid_90955 + i_90959 * n_45877];\n            defunc_0_f_res_90962 = add64(acc_90960, b_90961);\n            acc_tmp_98644 = defunc_0_f_res_90962;\n            acc_90960 = acc_tmp_98644;\n        }\n        defunc_0_foldl_res_90958 = acc_90960;\n        x_90963 = sle64((int64_t) 0, defunc_0_foldl_res_90958);\n ", "       y_90964 = slt64(defunc_0_foldl_res_90958, dz2080U_45875);\n        bounds_check_90965 = x_90963 && y_90964;\n        if (!bounds_check_90965) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 219) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_foldl_res_90958;\n                    global_failure_args[1] = (int64_t) dz2080U_45875;\n                    ;\n                }\n                return;\n            }\n        }\n        ((__global int64_t *) mem_94778)[gtid_90955] = defunc_0_foldl_res_90958;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90951\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90976_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90976(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_94776, __global unsigned char *mem_94778, __global unsigned char *mem_94786)\n{\n    #define segmap_tblock_sizze_90971 (sort_for_Skyline_doublezisegmap_90976zisegmap_tblock_sizze_90971)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98647;\n    int32_t tblock_sizze_98650;\n    int32_t wave_sizze_98649;\n    int32_t block_id_98648;\n    int32_t global_tid_98646;\n    int64_t phys_tid_90976;\n    int64_t global_tid_98651;\n    int64_t slice_98652;\n    int64_t slice_98653;\n    int64_t gtid_90975;\n    int64_t remnant_98654;\n    int64_t gtid_slice_90974;\n    int64_t remnant_98655;\n    \n    local_tid_98647 = get_local_id(0);\n    tblock_sizze_98650 = get_local_size(0);\n    wave_sizze_98649 = LOCKSTEP_WIDTH;\n    block_id_98648 = get_tblock_id(0);\n    global_tid_98646 = block_id_98648 * tblock_sizze_98650 + local_tid_98647;\n    phys_tid_90976 = sext_i32_i64(global_tid_98646);\n    global_tid_98651 = sext_i32_i64(block_id_98648) * segmap_tblock_sizze_90971 + sext_i32_i64(local_tid_98647);\n    slice_98652 = dim_45874;\n    slice_98653 = n_45877 * slice_98652;\n    gtid_90975 = ",
                                    "squot64(global_tid_98651, slice_98652);\n    remnant_98654 = global_tid_98651 - gtid_90975 * slice_98652;\n    gtid_slice_90974 = remnant_98654;\n    remnant_98655 = remnant_98654 - gtid_slice_90974;\n    if (slt64(gtid_90975, n_45877) && slt64(gtid_slice_90974, dim_45874)) {\n        int64_t defunc_0_foldl_res_90977;\n        bool index_certs_90978;\n        double v_90979;\n        \n        defunc_0_foldl_res_90977 = ((__global int64_t *) mem_94778)[gtid_90975];\n        index_certs_90978 = 0;\n        v_90979 = ((__global double *) start_of_grid_partition_mem_91598)[defunc_0_foldl_res_90977 * dim_45874 + gtid_slice_90974];\n        ((__global double *) mem_94786)[gtid_90975 * dim_45874 + gtid_slice_90974] = v_90979;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90971\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_90991_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_90991(__global int *global_failure, int64_t dim_45874, int64_t n_45877, __global unsigned char *ext_mem_94417, __global unsigned char *mem_94786)\n{\n    #define segmap_tblock_sizze_90986 (sort_for_Skyline_doublezisegmap_90991zisegmap_tblock_sizze_90986)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98658;\n    int32_t tblock_sizze_98661;\n    int32_t wave_sizze_98660;\n    int32_t block_id_98659;\n    int32_t global_tid_98657;\n    int64_t phys_tid_90991;\n    int64_t global_tid_98662;\n    int64_t slice_98663;\n    int64_t slice_98664;\n    int64_t gtid_90989;\n    int64_t remnant_98665;\n    int64_t gtid_90990;\n    int64_t remnant_98666;\n    \n    local_tid_98658 = get_local_id(0);\n    tblock_sizze_98661 = get_local_size(0);\n    wave_sizze_98660 = LOCKSTEP_WIDTH;\n    block_id_98659 = get_tblock_id(0);\n    global_tid_98657 = block_id_98659 * tblock_sizze_98661 + local_tid_98658;\n    phys_tid_90991 = sext_i32_i64(global_tid_98657);\n    global_tid_98662 = sext_i32_i64(block_id_98659) * segmap_tblock_sizze_90986 + sext_i32_i64(local_tid_98658);\n    slice_98663 = dim_45874;", "\n    slice_98664 = n_45877 * slice_98663;\n    gtid_90989 = squot64(global_tid_98662, slice_98663);\n    remnant_98665 = global_tid_98662 - gtid_90989 * slice_98663;\n    gtid_90990 = remnant_98665;\n    remnant_98666 = remnant_98665 - gtid_90990;\n    if (slt64(gtid_90989, n_45877) && slt64(gtid_90990, dim_45874)) {\n        double eta_p_90992;\n        double eta_p_90993;\n        double defunc_0_f_res_90994;\n        \n        eta_p_90992 = ((__global double *) ext_mem_94417)[gtid_90989 * dim_45874 + gtid_90990];\n        eta_p_90993 = ((__global double *) mem_94786)[gtid_90989 * dim_45874 + gtid_90990];\n        defunc_0_f_res_90994 = eta_p_90992 - eta_p_90993;\n        ((__global double *) mem_94786)[gtid_90989 * dim_45874 + gtid_90990] = defunc_0_f_res_90994;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_90986\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91013_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91013(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, int64_t num_tblocks_91009, int32_t virt_num_tblocks_98687, __global unsigned char *mem_94800, __global unsigned char *mem_94811, __global unsigned char *mem_94829)\n{\n    #define segmap_tblock_sizze_91008 (sort_for_Skyline_doublezisegmap_91013zisegmap_tblock_sizze_91008)\n    \n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98689;\n    int32_t tblock_sizze_98692;\n    int32_t wave_sizze_98691;\n    int32_t block_id_98690;\n    int32_t global_tid_98688;\n    int64_t phys_tid_91013;\n    int32_t phys_tblock_id_98693;\n    int32_t iterations_98694;\n    \n    local_tid_98689 = get_local_id(0);\n    tblock_sizze_98692 = get_local_size(0);\n    wave_sizze_98691 = LOCKSTEP_WIDTH;\n    block_id_98690 ", "= get_tblock_id(0);\n    global_tid_98688 = block_id_98690 * tblock_sizze_98692 + local_tid_98689;\n    phys_tid_91013 = sext_i32_i64(global_tid_98688);\n    phys_tblock_id_98693 = get_tblock_id(0);\n    iterations_98694 = sdiv_up32(virt_num_tblocks_98687 - phys_tblock_id_98693, sext_i64_i32(num_tblocks_91009));\n    for (int32_t i_98695 = 0; i_98695 < iterations_98694; i_98695++) {\n        int32_t virt_tblock_id_98696;\n        int64_t global_tid_98697;\n        int64_t slice_98698;\n        int64_t gtid_91012;\n        int64_t remnant_98699;\n        \n        virt_tblock_id_98696 = phys_tblock_id_98693 + i_98695 * sext_i64_i32(num_tblocks_91009);\n        global_tid_98697 = sext_i32_i64(virt_tblock_id_98696) * segmap_tblock_sizze_91008 + sext_i32_i64(local_tid_98689);\n        slice_98698 = n_45877;\n        gtid_91012 = global_tid_98697;\n        remnant_98699 = global_tid_98697 - gtid_91012;\n        if (slt64(gtid_91012, n_45877)) {\n            for (int64_t i_91017 = 0; i_91017 < arg_65084; i_91017++) {\n                int64_t index_primexp_91019;\n                bool x_91020;\n                bool y_91021;\n                bool bounds_check_91022;\n                bool index_certs_91023;\n                \n                index_primexp_91019 = add64((int64_t) 1, i_91017);\n                x_91020 = sle64((int64_t) 0, index_primexp_91019);\n                y_91021 = slt64(index_primexp_91019, dim_45874);\n                bounds_check_91022 = x_91020 && y_91021;\n                if (!bounds_check_91022) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 220) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_91019;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                for (int64_t i_0 = 0; i_0 < ",
                                    "(int64_t) 1; i_0++) {\n                    ((__global double *) mem_94800)[gtid_91012 + n_45877 * index_primexp_91019 + i_0 * n_45877] = ((__global double *) mem_94811)[gtid_91012 + n_45877 * index_primexp_91019 + i_0 * n_45877];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_94829)[gtid_91012 + i_0 * n_45877] = ((__global double *) mem_94800)[gtid_91012 + i_0 * n_45877];\n            }\n        }\n        \n      error_0:\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_91008\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91061_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91061(__global int *global_failure, int64_t n_45877, int64_t map_arg1_91034, int64_t j_m_i_91035, int64_t ext_91706, int64_t ext_91707, __global unsigned char *ext_mem_94835, __global unsigned char *mem_94846)\n{\n    #define segmap_tblock_sizze_91056 (sort_for_Skyline_doublezisegmap_91061zisegmap_tblock_sizze_91056)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98707;\n    int32_t tblock_sizze_98710;\n    int32_t wave_sizze_98709;\n    int32_t block_id_98708;\n    int32_t global_tid_98706;\n    int64_t phys_tid_91061;\n    int64_t global_tid_98711;\n    int64_t slice_98712;\n    int64_t slice_98713;\n    int64_t gtid_91059;\n    int64_t remnant_98714;\n    int64_t gtid_91060;\n    int64_t remnant_98715;\n    \n    local_tid_98707 = get_local_id(0);\n    tblock_sizze_98710 = get_local_size(0);\n    wave_sizze_98709 = LOCKSTEP_WIDTH;\n    block_id_98708 = get_tblock_id(0);\n    global_tid_98706 = block_id_98708 * tblock_sizze_98710 + local_tid_98707;\n    phys_tid_91061 = sext_i32_i64(global_tid_98706);\n    global_tid_98711 = sext_i32_i64(block_id_98708) * segmap_tblock_sizze_91056 + sext_i32_i64(local_tid_98707);\n    s", "lice_98712 = j_m_i_91035;\n    slice_98713 = n_45877 * slice_98712;\n    gtid_91059 = squot64(global_tid_98711, slice_98712);\n    remnant_98714 = global_tid_98711 - gtid_91059 * slice_98712;\n    gtid_91060 = remnant_98714;\n    remnant_98715 = remnant_98714 - gtid_91060;\n    if (slt64(gtid_91059, n_45877) && slt64(gtid_91060, j_m_i_91035)) {\n        int64_t slice_91262;\n        double eta_p_91062;\n        double lifted_lambda_res_91063;\n        \n        slice_91262 = map_arg1_91034 + gtid_91060;\n        eta_p_91062 = ((__global double *) ext_mem_94835)[gtid_91059 * ext_91707 + slice_91262 * ext_91706];\n        lifted_lambda_res_91063 = eta_p_91062 * eta_p_91062;\n        ((__global double *) mem_94846)[gtid_91059 * j_m_i_91035 + gtid_91060] = lifted_lambda_res_91063;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_91056\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91071_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91071(__global int *global_failure, int64_t n_45877, int64_t arg_65084, int64_t i_91030, int64_t j_m_i_91035, int64_t num_tblocks_91067, int64_t ext_91706, int64_t ext_91707, int32_t virt_num_tblocks_98716, __global unsigned char *ext_mem_94835, __global unsigned char *mem_94857, __global unsigned char *mem_94868, __global unsigned char *mem_94880)\n{\n    #define segmap_tblock_sizze_91066 (sort_for_Skyline_doublezisegmap_91071zisegmap_tblock_sizze_91066)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98718;\n    int32_t tblock_sizze_98721;\n    int32_t wave_sizze_98720;\n    int32_t block_id_98719;\n    int32_t global_tid_98717;\n    int64_t phys_tid_91071;\n    int32_t phys_tblock_id_98722;\n    int32_t iterations_98723;\n    \n    local_tid_98718 = get_local_id(0);\n    tblock_sizze_98721 = get_local_size(0);\n    wave_sizze_98720 = LOCKSTEP_WIDTH;\n    block_id_98719 = get_tblock_id(0);\n    global_tid_98717 = block_id_98719 * tblock_sizze_98721 + local_tid_98718;\n    phys_tid_91071 = sext_i32_i64(global_tid_98717)", ";\n    phys_tblock_id_98722 = get_tblock_id(0);\n    iterations_98723 = sdiv_up32(virt_num_tblocks_98716 - phys_tblock_id_98722, sext_i64_i32(num_tblocks_91067));\n    for (int32_t i_98724 = 0; i_98724 < iterations_98723; i_98724++) {\n        int32_t virt_tblock_id_98725;\n        int64_t global_tid_98726;\n        int64_t slice_98727;\n        int64_t gtid_91070;\n        int64_t remnant_98728;\n        \n        virt_tblock_id_98725 = phys_tblock_id_98722 + i_98724 * sext_i64_i32(num_tblocks_91067);\n        global_tid_98726 = sext_i32_i64(virt_tblock_id_98725) * segmap_tblock_sizze_91066 + sext_i32_i64(local_tid_98718);\n        slice_98727 = n_45877;\n        gtid_91070 = global_tid_98726;\n        remnant_98728 = global_tid_98726 - gtid_91070;\n        if (slt64(gtid_91070, n_45877)) {\n            double defunc_0_seqmap_res_r_transformed_row_91073;\n            double defunc_0_foldl_res_91075;\n            double acc_91077;\n            double sqrt_res_91080;\n            double atan2_res_91081;\n            \n            defunc_0_seqmap_res_r_transformed_row_91073 = ((__global double *) ext_mem_94835)[gtid_91070 * ext_91707 + i_91030 * ext_91706];\n            acc_91077 = 0.0;\n            for (int64_t i_91076 = 0; i_91076 < j_m_i_91035; i_91076++) {\n                double b_91078;\n                double defunc_0_f_res_91079;\n                double acc_tmp_98729;\n                \n                b_91078 = ((__global double *) mem_94868)[gtid_91070 + i_91076 * n_45877];\n                defunc_0_f_res_91079 = acc_91077 + b_91078;\n                acc_tmp_98729 = defunc_0_f_res_91079;\n                acc_91077 = acc_tmp_98729;\n            }\n            defunc_0_foldl_res_91075 = acc_91077;\n            sqrt_res_91080 = futrts_sqrt64(defunc_0_foldl_res_91075);\n            atan2_res_91081 = futrts_atan2_64(sqrt_res_91080, defunc_0_seqmap_res_r_transformed_row_91073);\n            ((__global double *) mem_94857)[gtid_91070 + i_91030 * n_45877] = atan2_res_91081;\n            for (int64_t i_0",
                                    " = 0; i_0 < arg_65084; i_0++) {\n                ((__global double *) mem_94880)[gtid_91070 + i_0 * n_45877] = ((__global double *) mem_94857)[gtid_91070 + i_0 * n_45877];\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_91066\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91095_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91095(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t n_45877, int64_t arg_65084, int64_t ext_94881, int64_t ext_94882, __global unsigned char *angle_part_prefix_sum_mem_91593, __global unsigned char *angle_partitions_per_dim_mem_91594, __global unsigned char *ext_mem_91626, __global unsigned char *ext_mem_94884, __global unsigned char *mem_94888)\n{\n    #define segmap_tblock_sizze_91090 (sort_for_Skyline_doublezisegmap_91095zisegmap_tblock_sizze_91090)\n    \n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_98732;\n    int32_t tblock_sizze_98735;\n    int32_t wave_sizze_98734;\n    int32_t block_id_98733;\n    int32_t global_tid_98731;\n    int64_t phys_tid_91095;\n    int64_t global_tid_98736;\n    int64_t slice_98737;\n    int64_t slice_98738;\n    int64_t gtid_91093;\n    int64_t remnant_98739;\n    int64_t gtid_91094;\n    int64_t remnant_98740;\n    \n    local_tid_98732 = get_local_id(0);\n    tblock_sizze_98735 = get_local_size(0);\n    wave_sizze_98734 = LOCKSTEP_WIDTH;\n    block_id_98733 = get_tblock_id(0);\n    global_tid_98731 = block_id_98733 * tblock_sizze_98735 + local_tid_98732;\n    phys_tid_91095 = sext_i32_i64(global_tid_98731);\n    global_tid_98736 = sext_i32_i64(block_id_98733) * segmap_tblock_sizze_91090 + sext_i32_i64(local_tid_98732);\n    slice_98737 = arg_65084;\n    slice_98738 = n_45877 * slice_98737;\n    gtid_91093 = squot64(global_tid_98736, slice_98737);\n    remnant_98739 = global_tid", "_98736 - gtid_91093 * slice_98737;\n    gtid_91094 = remnant_98739;\n    remnant_98740 = remnant_98739 - gtid_91094;\n    if (slt64(gtid_91093, n_45877) && slt64(gtid_91094, arg_65084)) {\n        double eta_p_91096;\n        double eta_p_91097;\n        int64_t eta_p_91098;\n        int64_t eta_p_91099;\n        int64_t defunc_0_f_res_91100;\n        \n        eta_p_91096 = ((__global double *) ext_mem_94884)[gtid_91093 * ext_94882 + gtid_91094 * ext_94881];\n        eta_p_91097 = ((__global double *) ext_mem_91626)[gtid_91094];\n        eta_p_91098 = ((__global int64_t *) angle_part_prefix_sum_mem_91593)[gtid_91094];\n        eta_p_91099 = ((__global int64_t *) angle_partitions_per_dim_mem_91594)[gtid_91094];\n        futrts_lifted_lambda_10152(&defunc_0_f_res_91100, eta_p_91096, eta_p_91097, eta_p_91098, eta_p_91099);\n        ((__global int64_t *) mem_94888)[gtid_91093 * arg_65084 + gtid_91094] = defunc_0_f_res_91100;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_91090\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91108_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91108(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t n_45877, int64_t total_angle_no_45884, int64_t total_grid_no_45885, int64_t arg_65084, __global unsigned char *mem_91613, __global unsigned char *mem_94778, __global unsigned char *mem_94899, __global unsigned char *mem_94902, __global unsigned char *mem_94904)\n{\n    #define segmap_tblock_sizze_91103 (sort_for_Skyline_doublezisegmap_91108zisegmap_tblock_sizze_91103)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98743;\n    int32_t tblock_sizze_98746;\n    int32_t wave_sizze_98745;\n    int32_t block_id_98744;\n    int32_t global_tid_98742;\n    int64_t phys_tid_91108;\n    int64_t global_tid_98747;\n    int64_t slice_98748;\n    int64_t gtid_91107;\n    int64_t remnant_98749;\n    \n    local_tid_98743 = get_local_id(0);\n    tblock_sizze_98746 = get_local_size(0)", ";\n    wave_sizze_98745 = LOCKSTEP_WIDTH;\n    block_id_98744 = get_tblock_id(0);\n    global_tid_98742 = block_id_98744 * tblock_sizze_98746 + local_tid_98743;\n    phys_tid_91108 = sext_i32_i64(global_tid_98742);\n    global_tid_98747 = sext_i32_i64(block_id_98744) * segmap_tblock_sizze_91103 + sext_i32_i64(local_tid_98743);\n    slice_98748 = n_45877;\n    gtid_91107 = global_tid_98747;\n    remnant_98749 = global_tid_98747 - gtid_91107;\n    if (slt64(gtid_91107, n_45877)) {\n        int64_t defunc_0_foldl_res_91109;\n        int64_t defunc_0_foldl_res_91111;\n        int64_t acc_91113;\n        int64_t zp_lhs_91116;\n        int64_t get_id_from_grid_angle_res_91117;\n        int64_t grid_id_91118;\n        bool x_91119;\n        bool y_91120;\n        bool bounds_check_91121;\n        bool index_certs_91122;\n        bool tmp_91123;\n        bool lifted_lambda_res_91124;\n        int64_t defunc_0_f_res_91125;\n        \n        defunc_0_foldl_res_91109 = ((__global int64_t *) mem_94778)[gtid_91107];\n        acc_91113 = (int64_t) 0;\n        for (int64_t i_91112 = 0; i_91112 < arg_65084; i_91112++) {\n            int64_t b_91114;\n            int64_t defunc_0_f_res_91115;\n            int64_t acc_tmp_98750;\n            \n            b_91114 = ((__global int64_t *) mem_94899)[gtid_91107 + i_91112 * n_45877];\n            defunc_0_f_res_91115 = add64(acc_91113, b_91114);\n            acc_tmp_98750 = defunc_0_f_res_91115;\n            acc_91113 = acc_tmp_98750;\n        }\n        defunc_0_foldl_res_91111 = acc_91113;\n        zp_lhs_91116 = mul64(total_angle_no_45884, defunc_0_foldl_res_91109);\n        get_id_from_grid_angle_res_91117 = add64(defunc_0_foldl_res_91111, zp_lhs_91116);\n        grid_id_91118 = sdiv64(get_id_from_grid_angle_res_91117, total_angle_no_45884);\n        x_91119 = sle64((int64_t) 0, grid_id_91118);\n        y_91120 = slt64(grid_id_91118, total_grid_no_45885);\n        bounds_check_91121 = x_91119 && y_91120;\n        if (!bounds_check_91121) {\n            {\n                if (a",
                                    "tomic_cmpxchg_i32_global(global_failure, -1, 221) == -1) {\n                    global_failure_args[0] = (int64_t) grid_id_91118;\n                    global_failure_args[1] = (int64_t) total_grid_no_45885;\n                    ;\n                }\n                return;\n            }\n        }\n        tmp_91123 = ((__global bool *) mem_91613)[grid_id_91118];\n        lifted_lambda_res_91124 = !tmp_91123;\n        defunc_0_f_res_91125 = btoi_bool_i64(lifted_lambda_res_91124);\n        ((__global int64_t *) mem_94902)[gtid_91107] = defunc_0_f_res_91125;\n        ((__global int64_t *) mem_94904)[gtid_91107] = get_id_from_grid_angle_res_91117;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_91103\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91169_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91169(__global int *global_failure, int64_t n_45877, __global unsigned char *mem_94902, __global unsigned char *mem_94909, __global unsigned char *mem_95037, __global unsigned char *mem_95039, __global unsigned char *mem_95041)\n{\n    #define segmap_tblock_sizze_91163 (sort_for_Skyline_doublezisegmap_91169zisegmap_tblock_sizze_91163)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98879;\n    int32_t tblock_sizze_98882;\n    int32_t wave_sizze_98881;\n    int32_t block_id_98880;\n    int32_t global_tid_98878;\n    int64_t phys_tid_91169;\n    int64_t global_tid_98883;\n    int64_t slice_98884;\n    int64_t gtid_91168;\n    int64_t remnant_98885;\n    \n    local_tid_98879 = get_local_id(0);\n    tblock_sizze_98882 = get_local_size(0);\n    wave_sizze_98881 = LOCKSTEP_WIDTH;\n    block_id_98880 = get_tblock_id(0);\n    global_tid_98878 = block_id_98880 * tblock_sizze_98882 + local_tid_98879;\n    phys_tid_91169 = sext_i32_i64(global_tid_98878);\n    global_tid_98883 = sext_i32_i64(block_id_98880) * segmap_tblock_sizze_91163 + sext_i32_i64(local_tid_98879);\n    slice_98884 = n_45877;\n    gtid_91168 = global_tid_98883;\n    remnant_98885 = global_tid_98883", " - gtid_91168;\n    if (slt64(gtid_91168, n_45877)) {\n        int64_t eta_p_91170;\n        bool cond_91172;\n        int64_t lifted_lambda_res_91173;\n        \n        eta_p_91170 = ((__global int64_t *) mem_94902)[gtid_91168];\n        cond_91172 = eta_p_91170 == (int64_t) 1;\n        if (cond_91172) {\n            int64_t eta_p_91171;\n            int64_t lifted_lambda_res_t_res_91174;\n            \n            eta_p_91171 = ((__global int64_t *) mem_94909)[gtid_91168];\n            lifted_lambda_res_t_res_91174 = sub64(eta_p_91171, (int64_t) 1);\n            lifted_lambda_res_91173 = lifted_lambda_res_t_res_91174;\n        } else {\n            lifted_lambda_res_91173 = (int64_t) -1;\n        }\n        ((__global int64_t *) mem_95037)[gtid_91168] = lifted_lambda_res_91173;\n        ((__global int64_t *) mem_95039)[gtid_91168] = lifted_lambda_res_91173;\n        ((__global int64_t *) mem_95041)[gtid_91168] = lifted_lambda_res_91173;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_91163\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91182_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91182(__global int *global_failure, int64_t dim_45874, int64_t n_45877, int64_t m_67009, int64_t num_tblocks_91188, int32_t virt_num_tblocks_98886, __global unsigned char *ext_mem_94417, __global unsigned char *mem_95030, __global unsigned char *mem_95037)\n{\n    #define segmap_tblock_sizze_91186 (sort_for_Skyline_doublezisegmap_91182zisegmap_tblock_sizze_91186)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98888;\n    int32_t tblock_sizze_98891;\n    int32_t wave_sizze_98890;\n    int32_t block_id_98889;\n    int32_t global_tid_98887;\n    int64_t phys_tid_91182;\n    int32_t phys_tblock_id_98892;\n    int32_t iterations_98893;\n    \n    local_tid_98888 = get_local_id(0);\n    tblock_sizze_98891 = get_local_size(0);\n    wave_sizze_98890 = LOCKSTEP_WIDTH;\n    block_id_98889 = get_tblock_id(0);\n    global_tid_98887 = block_id_98889 * tblock_sizze_98891 + lo", "cal_tid_98888;\n    phys_tid_91182 = sext_i32_i64(global_tid_98887);\n    phys_tblock_id_98892 = get_tblock_id(0);\n    iterations_98893 = sdiv_up32(virt_num_tblocks_98886 - phys_tblock_id_98892, sext_i64_i32(num_tblocks_91188));\n    for (int32_t i_98894 = 0; i_98894 < iterations_98893; i_98894++) {\n        int32_t virt_tblock_id_98895;\n        int64_t global_tid_98896;\n        int64_t slice_98897;\n        int64_t slice_98898;\n        int64_t write_i_91178;\n        int64_t remnant_98899;\n        int64_t val_i_91179;\n        int64_t remnant_98900;\n        \n        virt_tblock_id_98895 = phys_tblock_id_98892 + i_98894 * sext_i64_i32(num_tblocks_91188);\n        global_tid_98896 = sext_i32_i64(virt_tblock_id_98895) * segmap_tblock_sizze_91186 + sext_i32_i64(local_tid_98888);\n        slice_98897 = dim_45874;\n        slice_98898 = n_45877 * slice_98897;\n        write_i_91178 = squot64(global_tid_98896, slice_98897);\n        remnant_98899 = global_tid_98896 - write_i_91178 * slice_98897;\n        val_i_91179 = remnant_98899;\n        remnant_98900 = remnant_98899 - val_i_91179;\n        if (slt64(write_i_91178, n_45877) && slt64(val_i_91179, dim_45874)) {\n            double scatter_tmp_elem_91180;\n            int64_t scatter_tmp_i_91181;\n            \n            scatter_tmp_elem_91180 = ((__global double *) ext_mem_94417)[write_i_91178 * dim_45874 + val_i_91179];\n            scatter_tmp_i_91181 = ((__global int64_t *) mem_95037)[write_i_91178];\n            if ((sle64((int64_t) 0, scatter_tmp_i_91181) && slt64(scatter_tmp_i_91181, m_67009)) && (sle64((int64_t) 0, val_i_91179) && slt64(val_i_91179, dim_45874))) {\n                ((__global double *) mem_95030)[scatter_tmp_i_91181 * dim_45874 + val_i_91179] = scatter_tmp_elem_91180;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_91186\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91193_dim1, 1, 1)\nvoid sort_for_Skyline_do",
                                    "ublezisegmap_91193(__global int *global_failure, int64_t n_45877, int64_t m_67009, int64_t num_tblocks_91198, int32_t virt_num_tblocks_98901, __global unsigned char *ext_mem_94416, __global unsigned char *mem_95034, __global unsigned char *mem_95039)\n{\n    #define segmap_tblock_sizze_91196 (sort_for_Skyline_doublezisegmap_91193zisegmap_tblock_sizze_91196)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98903;\n    int32_t tblock_sizze_98906;\n    int32_t wave_sizze_98905;\n    int32_t block_id_98904;\n    int32_t global_tid_98902;\n    int64_t phys_tid_91193;\n    int32_t phys_tblock_id_98907;\n    int32_t iterations_98908;\n    \n    local_tid_98903 = get_local_id(0);\n    tblock_sizze_98906 = get_local_size(0);\n    wave_sizze_98905 = LOCKSTEP_WIDTH;\n    block_id_98904 = get_tblock_id(0);\n    global_tid_98902 = block_id_98904 * tblock_sizze_98906 + local_tid_98903;\n    phys_tid_91193 = sext_i32_i64(global_tid_98902);\n    phys_tblock_id_98907 = get_tblock_id(0);\n    iterations_98908 = sdiv_up32(virt_num_tblocks_98901 - phys_tblock_id_98907, sext_i64_i32(num_tblocks_91198));\n    for (int32_t i_98909 = 0; i_98909 < iterations_98908; i_98909++) {\n        int32_t virt_tblock_id_98910;\n        int64_t global_tid_98911;\n        int64_t slice_98912;\n        int64_t write_i_91190;\n        int64_t remnant_98913;\n        \n        virt_tblock_id_98910 = phys_tblock_id_98907 + i_98909 * sext_i64_i32(num_tblocks_91198);\n        global_tid_98911 = sext_i32_i64(virt_tblock_id_98910) * segmap_tblock_sizze_91196 + sext_i32_i64(local_tid_98903);\n        slice_98912 = n_45877;\n        write_i_91190 = global_tid_98911;\n        remnant_98913 = global_tid_98911 - write_i_91190;\n        if (slt64(write_i_91190, n_45877)) {\n            int64_t scatter_tmp_elem_91191;\n            int64_t scatter_tmp_i_91192;\n            \n            scatter_tmp_elem_91191 = ((__global int64_t *) ext_mem_94416)[write_i_91190];\n            scatter_tmp_i_91192 = ((__global int64_t *) mem_95039)[", "write_i_91190];\n            if (sle64((int64_t) 0, scatter_tmp_i_91192) && slt64(scatter_tmp_i_91192, m_67009)) {\n                ((__global int64_t *) mem_95034)[scatter_tmp_i_91192] = scatter_tmp_elem_91191;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_91196\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91203_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91203(__global int *global_failure, int64_t n_45877, int64_t m_67009, int64_t num_tblocks_91208, int32_t virt_num_tblocks_98914, __global unsigned char *mem_94904, __global unsigned char *mem_95032, __global unsigned char *mem_95041)\n{\n    #define segmap_tblock_sizze_91206 (sort_for_Skyline_doublezisegmap_91203zisegmap_tblock_sizze_91206)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98916;\n    int32_t tblock_sizze_98919;\n    int32_t wave_sizze_98918;\n    int32_t block_id_98917;\n    int32_t global_tid_98915;\n    int64_t phys_tid_91203;\n    int32_t phys_tblock_id_98920;\n    int32_t iterations_98921;\n    \n    local_tid_98916 = get_local_id(0);\n    tblock_sizze_98919 = get_local_size(0);\n    wave_sizze_98918 = LOCKSTEP_WIDTH;\n    block_id_98917 = get_tblock_id(0);\n    global_tid_98915 = block_id_98917 * tblock_sizze_98919 + local_tid_98916;\n    phys_tid_91203 = sext_i32_i64(global_tid_98915);\n    phys_tblock_id_98920 = get_tblock_id(0);\n    iterations_98921 = sdiv_up32(virt_num_tblocks_98914 - phys_tblock_id_98920, sext_i64_i32(num_tblocks_91208));\n    for (int32_t i_98922 = 0; i_98922 < iterations_98921; i_98922++) {\n        int32_t virt_tblock_id_98923;\n        int64_t global_tid_98924;\n        int64_t slice_98925;\n        int64_t write_i_91200;\n        int64_t remnant_98926;\n        \n        virt_tblock_id_98923 = phys_tblock_id_98920 + i_98922 * sext_i64_i32(num_tblocks_91208);\n        global_tid_98924 = sext_i32_i64(virt_tblock_id_98923) * segmap_tblock_sizze_91206 + sex", "t_i32_i64(local_tid_98916);\n        slice_98925 = n_45877;\n        write_i_91200 = global_tid_98924;\n        remnant_98926 = global_tid_98924 - write_i_91200;\n        if (slt64(write_i_91200, n_45877)) {\n            int64_t scatter_tmp_elem_91201;\n            int64_t scatter_tmp_i_91202;\n            \n            scatter_tmp_elem_91201 = ((__global int64_t *) mem_94904)[write_i_91200];\n            scatter_tmp_i_91202 = ((__global int64_t *) mem_95041)[write_i_91200];\n            if (sle64((int64_t) 0, scatter_tmp_i_91202) && slt64(scatter_tmp_i_91202, m_67009)) {\n                ((__global int64_t *) mem_95032)[scatter_tmp_i_91202] = scatter_tmp_elem_91201;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segmap_tblock_sizze_91206\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegmap_91252_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegmap_91252(__global int *global_failure, int64_t total_part_no_45886, __global unsigned char *mem_95048, __global unsigned char *mem_95051)\n{\n    #define segmap_tblock_sizze_91248 (sort_for_Skyline_doublezisegmap_91252zisegmap_tblock_sizze_91248)\n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99192;\n    int32_t tblock_sizze_99195;\n    int32_t wave_sizze_99194;\n    int32_t block_id_99193;\n    int32_t global_tid_99191;\n    int64_t phys_tid_91252;\n    int64_t global_tid_99196;\n    int64_t slice_99197;\n    int64_t gtid_91251;\n    int64_t remnant_99198;\n    \n    local_tid_99192 = get_local_id(0);\n    tblock_sizze_99195 = get_local_size(0);\n    wave_sizze_99194 = LOCKSTEP_WIDTH;\n    block_id_99193 = get_tblock_id(0);\n    global_tid_99191 = block_id_99193 * tblock_sizze_99195 + local_tid_99192;\n    phys_tid_91252 = sext_i32_i64(global_tid_99191);\n    global_tid_99196 = sext_i32_i64(block_id_99193) * segmap_tblock_sizze_91248 + sext_i32_i64(local_tid_99192);\n    slice_99197 = total_part_no_45886;\n    gtid_91251 = global_tid_99196;\n    remna",
                                    "nt_99198 = global_tid_99196 - gtid_91251;\n    if (slt64(gtid_91251, total_part_no_45886)) {\n        int64_t zv_lhs_91254;\n        int64_t tmp_91255;\n        bool cond_91257;\n        int64_t lifted_lambda_res_91258;\n        \n        zv_lhs_91254 = add64((int64_t) -1, gtid_91251);\n        tmp_91255 = smod64(zv_lhs_91254, total_part_no_45886);\n        cond_91257 = gtid_91251 == (int64_t) 0;\n        if (cond_91257) {\n            lifted_lambda_res_91258 = (int64_t) 0;\n        } else {\n            int64_t lifted_lambda_res_91256 = ((__global int64_t *) mem_95048)[tmp_91255];\n            \n            lifted_lambda_res_91258 = lifted_lambda_res_91256;\n        }\n        ((__global int64_t *) mem_95051)[gtid_91251] = lifted_lambda_res_91258;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_tblock_sizze_91248\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_77823(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, unsigned char cond_65095_bits, int64_t binop_x_91660, int64_t maxSubHelper_95748, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xs_mem_91599, __global unsigned char *mem_91632, __global unsigned char *mem_93380)\n{\n    bool cond_65095 = cond_65095_bits;\n    volatile __local unsigned char *color_95753_backing_4 = &shared_mem[0];\n    const int64_t color_95753_backing_4_offset = 0 + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95752_backing_3 = &shared_mem[color_95753_backing_4_offset];\n    const int64_t color_95752_backing_3_offset = color_95753_backing_4_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95751_backing_2 = &shared_", "mem[color_95752_backing_3_offset];\n    const int64_t color_95751_backing_2_offset = color_95752_backing_3_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95750_backing_1 = &shared_mem[color_95751_backing_2_offset];\n    const int64_t color_95750_backing_1_offset = color_95751_backing_2_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95749_backing_0 = &shared_mem[color_95750_backing_1_offset];\n    const int64_t color_95749_backing_0_offset = color_95750_backing_1_offset + (maxSubHelper_95748 + srem64((int64_t) 8 - srem64(maxSubHelper_95748, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96266;\n    int32_t tblock_sizze_96269;\n    int32_t wave_sizze_96268;\n    int32_t block_id_96267;\n    int32_t global_tid_96265;\n    int64_t phys_tblock_id_77823;\n    int64_t slice_96271;\n    int64_t ltid_pre_96270;\n    int64_t remnant_96272;\n    int64_t slice_96273;\n    int64_t gtid_77822;\n    int64_t remnant_96274;\n    __local unsigned char *color_95749;\n    __local unsigned char *color_95750;\n    __local unsigned char *color_95751;\n    __local unsigned char *color_95752;\n    __local unsigned char *color_95753;\n    int64_t min_arg1_91474;\n    __local unsigned char *ext_mem_93369;\n    int64_t f_arg0_77870;\n    int64_t min_res_77871;\n    int64_t rep_i_96282;\n    \n    local_tid_96266 = get_local_id(0);\n    tblock_sizze_96269 = get_local_size(0);\n    wave_sizze_96268 = LOCKSTEP_WIDTH;\n    block_id_96267 = get_tblock_id(0);\n    global_tid_96265 = block_id_96267 * tblock_sizze_96269 + local_tid_96266;\n    phys_tblock_id_77823 = sext_i32_i64(block_id_96267);\n    slice_96271 =", " dim_45874;\n    ltid_pre_96270 = sext_i32_i64(local_tid_96266);\n    remnant_96272 = sext_i32_i64(local_tid_96266) - ltid_pre_96270;\n    slice_96273 = n_45877;\n    gtid_77822 = sext_i32_i64(block_id_96267);\n    remnant_96274 = sext_i32_i64(block_id_96267) - gtid_77822;\n    color_95749 = (__local unsigned char *) color_95749_backing_0;\n    color_95750 = (__local unsigned char *) color_95750_backing_1;\n    color_95751 = (__local unsigned char *) color_95751_backing_2;\n    color_95752 = (__local unsigned char *) color_95752_backing_3;\n    color_95753 = (__local unsigned char *) color_95753_backing_4;\n    min_arg1_91474 = ((__global int64_t *) mem_91632)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_65095) {\n        ext_mem_93369 = color_95750;\n    } else {\n        int64_t phys_tid_77830;\n        int64_t gtid_77829;\n        double eta_p_77831;\n        double eta_p_77832;\n        double defunc_0_f_res_77833;\n        int64_t phys_tid_77836;\n        int64_t gtid_77835;\n        double eta_p_77837;\n        double eta_p_77838;\n        double defunc_0_f_res_77839;\n        __local unsigned char *ext_mem_93356;\n        int64_t f_arg0_77856;\n        int64_t max_res_77857;\n        int64_t rep_i_96279;\n        \n        phys_tid_77830 = sext_i32_i64(local_tid_96266);\n        gtid_77829 = sext_i32_i64(sext_i64_i32(ltid_pre_96270));\n        eta_p_77831 = ((__global double *) xs_mem_91599)[gtid_77822 * dim_45874 + gtid_77829];\n        eta_p_77832 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_77829];\n        defunc_0_f_res_77833 = eta_p_77831 - eta_p_77832;\n        ((__local double *) color_95753)[gtid_77829] = defunc_0_f_res_77833;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_77836 = sext_i32_i64(local_tid_96266);\n        gtid_77835 = sext_i32_i64(sext_i64_i32(ltid_pre_96270));\n        eta_p_77837 = ((__local double *) color_95753)[gtid_77835];\n        eta_p_77838 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_77835];\n        def",
                                    "unc_0_f_res_77839 = eta_p_77837 / eta_p_77838;\n        ((__local double *) color_95753)[gtid_77835] = defunc_0_f_res_77839;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_65095) {\n            ext_mem_93356 = color_95749;\n        } else {\n            double f_arg0_77842;\n            int64_t f64_res_77843;\n            int64_t rep_i_96276;\n            \n            f_arg0_77842 = ((__local double *) color_95753)[(int64_t) 0];\n            f64_res_77843 = fptosi_f64_i64(f_arg0_77842);\n            rep_i_96276 = sext_i32_i64(sext_i64_i32(ltid_pre_96270));\n            ((__local int64_t *) color_95752)[rep_i_96276] = f64_res_77843;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_77846 = 0; i_77846 < arg_65084; i_77846++) {\n                int64_t index_primexp_77848;\n                bool x_77849;\n                bool y_77850;\n                bool bounds_check_77851;\n                bool index_certs_77852;\n                double f_arg0_77853;\n                int64_t f64_res_77854;\n                \n                index_primexp_77848 = add64((int64_t) 1, i_77846);\n                x_77849 = sle64((int64_t) 0, index_primexp_77848);\n                y_77850 = slt64(index_primexp_77848, dim_45874);\n                bounds_check_77851 = x_77849 && y_77850;\n                if (!bounds_check_77851) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 62) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_77848;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_77853 = ((__local double *) color_95753)[index_primexp_77848];\n                f64_res_77854 = fptosi_f64_i64(f_arg0_77853)", ";\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_96266 == 0) {\n                    ((__local int64_t *) color_95752)[index_primexp_77848] = f64_res_77854;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_93356 = color_95752;\n        }\n        f_arg0_77856 = ((__local int64_t *) ext_mem_93356)[(int64_t) 0];\n        max_res_77857 = smax64((int64_t) 0, f_arg0_77856);\n        rep_i_96279 = sext_i32_i64(sext_i64_i32(ltid_pre_96270));\n        ((__local int64_t *) color_95751)[rep_i_96279] = max_res_77857;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_77860 = 0; i_77860 < arg_65084; i_77860++) {\n            int64_t index_primexp_77862;\n            bool x_77863;\n            bool y_77864;\n            bool bounds_check_77865;\n            bool index_certs_77866;\n            int64_t f_arg0_77867;\n            int64_t max_res_77868;\n            \n            index_primexp_77862 = add64((int64_t) 1, i_77860);\n            x_77863 = sle64((int64_t) 0, index_primexp_77862);\n            y_77864 = slt64(index_primexp_77862, dim_45874);\n            bounds_check_77865 = x_77863 && y_77864;\n            if (!bounds_check_77865) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 63) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_77862;\n                        global_failure_args[1] = (int64_t) dim_45874;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_77867 = ((__local int64_t *) ext_mem_93356)[index_primexp_77862];\n            max_res_77868 = smax64((int64_t) 0, f_arg0_77867);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96266 == 0) {\n   ", "             ((__local int64_t *) color_95751)[index_primexp_77862] = max_res_77868;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_93369 = color_95751;\n    }\n    f_arg0_77870 = ((__local int64_t *) ext_mem_93369)[(int64_t) 0];\n    min_res_77871 = smin64(f_arg0_77870, min_arg1_91474);\n    rep_i_96282 = sext_i32_i64(sext_i64_i32(ltid_pre_96270));\n    ((__local int64_t *) color_95749)[rep_i_96282] = min_res_77871;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_77874 = 0; i_77874 < arg_65084; i_77874++) {\n        int64_t index_primexp_77876;\n        bool x_77877;\n        bool y_77878;\n        bool bounds_check_77879;\n        bool index_certs_77880;\n        bool index_certs_77882;\n        int64_t f_arg0_77881;\n        int64_t zm_lhs_77883;\n        int64_t min_arg1_77884;\n        int64_t min_res_77885;\n        \n        index_primexp_77876 = add64((int64_t) 1, i_77874);\n        x_77877 = sle64((int64_t) 0, index_primexp_77876);\n        y_77878 = slt64(index_primexp_77876, dim_45874);\n        bounds_check_77879 = x_77877 && y_77878;\n        if (!bounds_check_77879) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 64) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_77876;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_77879) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 65) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_77876;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n      ",
                                    "  }\n        f_arg0_77881 = ((__local int64_t *) ext_mem_93369)[index_primexp_77876];\n        zm_lhs_77883 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_77876];\n        min_arg1_77884 = sub64(zm_lhs_77883, (int64_t) 1);\n        min_res_77885 = smin64(f_arg0_77881, min_arg1_77884);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96266 == 0) {\n            ((__local int64_t *) color_95749)[index_primexp_77876] = min_res_77885;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_93380)[gtid_77822 * dim_45874 + sext_i32_i64(local_tid_96266)] = ((__local int64_t *) color_95749)[sext_i32_i64(local_tid_96266)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_77899(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, unsigned char cond_65095_bits, int64_t binop_x_91660, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xs_mem_91599, __global unsigned char *mem_93283)\n{\n    bool cond_65095 = cond_65095_bits;\n    volatile __local unsigned char *color_95756_backing_2 = &shared_mem[0];\n    const int64_t color_95756_backing_2_offset = 0 + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95755_backing_1 = &shared_mem[color_95756_backing_2_offset];\n    const int64_t color_95755_backing_1_offset = color_95756_backing_2_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95754_backing_0 = &shared_mem[color_95755_backing_1_offset];\n    const int64_t color_95754_backing_0_offset = color_95755_backing_1_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (in", "t64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_96287;\n    int32_t tblock_sizze_96290;\n    int32_t wave_sizze_96289;\n    int32_t block_id_96288;\n    int32_t global_tid_96286;\n    int64_t phys_tblock_id_77899;\n    int64_t slice_96292;\n    int64_t ltid_pre_96291;\n    int64_t remnant_96293;\n    int64_t slice_96294;\n    int64_t gtid_77898;\n    int64_t remnant_96295;\n    __local unsigned char *color_95754;\n    __local unsigned char *color_95755;\n    __local unsigned char *color_95756;\n    int64_t phys_tid_77904;\n    int64_t gtid_77903;\n    double eta_p_77905;\n    double eta_p_77906;\n    double defunc_0_f_res_77907;\n    int64_t phys_tid_77910;\n    int64_t gtid_77909;\n    double eta_p_77911;\n    double eta_p_77912;\n    double defunc_0_f_res_77913;\n    __local unsigned char *ext_mem_93272;\n    int64_t f_arg0_77930;\n    int64_t max_res_77931;\n    int64_t rep_i_96300;\n    \n    local_tid_96287 = get_local_id(0);\n    tblock_sizze_96290 = get_local_size(0);\n    wave_sizze_96289 = LOCKSTEP_WIDTH;\n    block_id_96288 = get_tblock_id(0);\n    global_tid_96286 = block_id_96288 * tblock_sizze_96290 + local_tid_96287;\n    phys_tblock_id_77899 = sext_i32_i64(block_id_96288);\n    slice_96292 = dim_45874;\n    ltid_pre_96291 = sext_i32_i64(local_tid_96287);\n    remnant_96293 = sext_i32_i64(local_tid_96287) - ltid_pre_96291;\n    slice_96294 = n_45877;\n    gtid_77898 = sext_i32_i64(block_id_96288);\n    remnant_96295 = sext_i32_i64(block_id_96288) - gtid_77898;\n    color_95754 = (__local unsigned char *) color_95754_backing_0;\n    color_95755 = (__local unsigned char *) color_95755_backing_1;\n    color_95756 = (__local unsigned char *) color_95756_backing_2;\n    phys_tid_77904 = sext_i32_i64(local_tid_96287);\n    gtid_77903 = sext_i32_i64(sext_i64_i32(ltid_pre_96291));\n    e", "ta_p_77905 = ((__global double *) xs_mem_91599)[gtid_77898 * dim_45874 + gtid_77903];\n    eta_p_77906 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_77903];\n    defunc_0_f_res_77907 = eta_p_77905 - eta_p_77906;\n    ((__local double *) color_95754)[gtid_77903] = defunc_0_f_res_77907;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_77910 = sext_i32_i64(local_tid_96287);\n    gtid_77909 = sext_i32_i64(sext_i64_i32(ltid_pre_96291));\n    eta_p_77911 = ((__local double *) color_95754)[gtid_77909];\n    eta_p_77912 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_77909];\n    defunc_0_f_res_77913 = eta_p_77911 / eta_p_77912;\n    ((__local double *) color_95754)[gtid_77909] = defunc_0_f_res_77913;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_65095) {\n        ext_mem_93272 = color_95755;\n    } else {\n        double f_arg0_77916;\n        int64_t f64_res_77917;\n        int64_t rep_i_96297;\n        \n        f_arg0_77916 = ((__local double *) color_95754)[(int64_t) 0];\n        f64_res_77917 = fptosi_f64_i64(f_arg0_77916);\n        rep_i_96297 = sext_i32_i64(sext_i64_i32(ltid_pre_96291));\n        ((__local int64_t *) color_95756)[rep_i_96297] = f64_res_77917;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_77920 = 0; i_77920 < arg_65084; i_77920++) {\n            int64_t index_primexp_77922;\n            bool x_77923;\n            bool y_77924;\n            bool bounds_check_77925;\n            bool index_certs_77926;\n            double f_arg0_77927;\n            int64_t f64_res_77928;\n            \n            index_primexp_77922 = add64((int64_t) 1, i_77920);\n            x_77923 = sle64((int64_t) 0, index_primexp_77922);\n            y_77924 = slt64(index_primexp_77922, dim_45874);\n            bounds_check_77925 = x_77923 && y_77924;\n            if (!bounds_check_77925) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 66) == -1) {\n    ",
                                    "                    global_failure_args[0] = (int64_t) index_primexp_77922;\n                        global_failure_args[1] = (int64_t) dim_45874;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_77927 = ((__local double *) color_95754)[index_primexp_77922];\n            f64_res_77928 = fptosi_f64_i64(f_arg0_77927);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96287 == 0) {\n                ((__local int64_t *) color_95756)[index_primexp_77922] = f64_res_77928;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_93272 = color_95756;\n    }\n    f_arg0_77930 = ((__local int64_t *) ext_mem_93272)[(int64_t) 0];\n    max_res_77931 = smax64((int64_t) 0, f_arg0_77930);\n    rep_i_96300 = sext_i32_i64(sext_i64_i32(ltid_pre_96291));\n    ((__local int64_t *) color_95754)[rep_i_96300] = max_res_77931;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_77934 = 0; i_77934 < arg_65084; i_77934++) {\n        int64_t index_primexp_77936;\n        bool x_77937;\n        bool y_77938;\n        bool bounds_check_77939;\n        bool index_certs_77940;\n        int64_t f_arg0_77941;\n        int64_t max_res_77942;\n        \n        index_primexp_77936 = add64((int64_t) 1, i_77934);\n        x_77937 = sle64((int64_t) 0, index_primexp_77936);\n        y_77938 = slt64(index_primexp_77936, dim_45874);\n        bounds_check_77939 = x_77937 && y_77938;\n        if (!bounds_check_77939) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 67) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_77936;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;\n                }\n                local_failure = 1;\n                goto e", "rror_5;\n            }\n        }\n        f_arg0_77941 = ((__local int64_t *) ext_mem_93272)[index_primexp_77936];\n        max_res_77942 = smax64((int64_t) 0, f_arg0_77941);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_96287 == 0) {\n            ((__local int64_t *) color_95754)[index_primexp_77936] = max_res_77942;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_93283)[gtid_77898 * dim_45874 + sext_i32_i64(local_tid_96287)] = ((__local int64_t *) color_95754)[sext_i32_i64(local_tid_96287)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_78951(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t merge_block_sizze_65328, int64_t loop_dz2084Uz2082U_69773, int64_t stride_69778, int64_t next_stride_69779, unsigned char zzero_69780_bits, int64_t num_merges_69783, int64_t m_69788, unsigned char zzero_leq_i_p_m_t_s_69789_bits, unsigned char i_lte_j_69790_bits, unsigned char cond_69791_bits, int64_t num_blocks_69798, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, int64_t j_m_i_69800, unsigned char cond_69810_bits, int64_t computed_tblock_sizze_78694, int64_t bytes_93994, int64_t bytes_94003, int64_t bytes_94008, int64_t lmad_arg_94040, int64_t bytes_94057, int64_t bytes_94061, int64_t binop_x_94107, int64_t binop_x_94114, int64_t maxSubHelper_95759, int64_t maxSubHelper_95760, int64_t maxSubHelper_95761, int32_t num_chunks_96694, int32_t num_chunks_96695, int32_t num_chunks_96696, int32_t num_chunks_96697, __global unsigned char *mem_param_93737, __global unsigned char *mem_param_93741, __global unsigned char *mem_param_93744, __global unsigned char *mem_94362, __global unsigned char *mem_94366, __global unsigned char *mem_94369)\n{\n    bool zzero_69780 = zzero_69780_bits;\n    bool zzero_leq_i_p_m_t_s_69789 = zzero_leq_i_p_m_t_s_69789_bits;\n    bool i_lte_j_69790 = i_lte_j_6", "9790_bits;\n    bool cond_69791 = cond_69791_bits;\n    bool cond_69810 = cond_69810_bits;\n    volatile __local unsigned char *color_95778_backing_16 = &shared_mem[0];\n    const int64_t color_95778_backing_16_offset = 0 + (bytes_93994 + srem64((int64_t) 8 - srem64(bytes_93994, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95777_backing_15 = &shared_mem[color_95778_backing_16_offset];\n    const int64_t color_95777_backing_15_offset = color_95778_backing_16_offset + (bytes_94008 + srem64((int64_t) 8 - srem64(bytes_94008, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95776_backing_14 = &shared_mem[color_95777_backing_15_offset];\n    const int64_t color_95776_backing_14_offset = color_95777_backing_15_offset + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95775_backing_13 = &shared_mem[color_95776_backing_14_offset];\n    const int64_t color_95775_backing_13_offset = color_95776_backing_14_offset + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95774_backing_12 = &shared_mem[color_95775_backing_13_offset];\n    const int64_t color_95774_backing_12_offset = color_95775_backing_13_offset + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95773_backing_11 = &shared_mem[color_95774_backing_12_offset];\n    const int64_t color_95773_backing_11_offset = color_95774_backing_12_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95772_backing_10 = &shared_mem[color_95773_backing_11_offset];\n    const int64_t color_95772_backing_10_offset = color_95773_backing_11_offset + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95771_backing_9 = &shared_mem[color_95772_backing_10_offset];\n    const int64_t color_95771_b",
                                    "acking_9_offset = color_95772_backing_10_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95770_backing_8 = &shared_mem[color_95771_backing_9_offset];\n    const int64_t color_95770_backing_8_offset = color_95771_backing_9_offset + (maxSubHelper_95761 + srem64((int64_t) 8 - srem64(maxSubHelper_95761, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95769_backing_7 = &shared_mem[color_95770_backing_8_offset];\n    const int64_t color_95769_backing_7_offset = color_95770_backing_8_offset + (maxSubHelper_95760 + srem64((int64_t) 8 - srem64(maxSubHelper_95760, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95768_backing_6 = &shared_mem[color_95769_backing_7_offset];\n    const int64_t color_95768_backing_6_offset = color_95769_backing_7_offset + (maxSubHelper_95759 + srem64((int64_t) 8 - srem64(maxSubHelper_95759, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95767_backing_5 = &shared_mem[color_95768_backing_6_offset];\n    const int64_t color_95767_backing_5_offset = color_95768_backing_6_offset + (bytes_94057 + srem64((int64_t) 8 - srem64(bytes_94057, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95766_backing_4 = &shared_mem[color_95767_backing_5_offset];\n    const int64_t color_95766_backing_4_offset = color_95767_backing_5_offset + (bytes_94061 + srem64((int64_t) 8 - srem64(bytes_94061, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95765_backing_3 = &shared_mem[color_95766_backing_4_offset];\n    const int64_t color_95765_backing_3_offset = color_95766_backing_4_offset + (bytes_94057 + srem64((int64_t) 8 - srem64(bytes_94057, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95764_backing_2 = &shared_mem[color_95765_backing_3_offset];\n    const int64_t color_95764_backing_2_offset = color_95765_backing_3_offset + (binop_x_94107 + srem64((int64_t) 8 - srem64(binop_x_94107, (int64_t) 8), (int64_t) 8));\n    volatile __", "local unsigned char *color_95763_backing_1 = &shared_mem[color_95764_backing_2_offset];\n    const int64_t color_95763_backing_1_offset = color_95764_backing_2_offset + (binop_x_94107 + srem64((int64_t) 8 - srem64(binop_x_94107, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95762_backing_0 = &shared_mem[color_95763_backing_1_offset];\n    const int64_t color_95762_backing_0_offset = color_95763_backing_1_offset + (binop_x_94114 + srem64((int64_t) 8 - srem64(binop_x_94114, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96702;\n    int32_t tblock_sizze_96705;\n    int32_t wave_sizze_96704;\n    int32_t block_id_96703;\n    int32_t global_tid_96701;\n    int64_t phys_tblock_id_78951;\n    int64_t slice_96709;\n    int64_t slice_96710;\n    int64_t slice_96711;\n    int64_t ltid_pre_96706;\n    int64_t remnant_96712;\n    int64_t ltid_pre_96707;\n    int64_t remnant_96713;\n    int64_t ltid_pre_96708;\n    int64_t remnant_96714;\n    int64_t slice_96717;\n    int64_t slice_96718;\n    int64_t ltid_pre_96715;\n    int64_t remnant_96719;\n    int64_t ltid_pre_96716;\n    int64_t remnant_96720;\n    int64_t slice_96722;\n    int64_t ltid_pre_96721;\n    int64_t remnant_96723;\n    int64_t slice_96726;\n    int64_t slice_96727;\n    int64_t ltid_pre_96724;\n    int64_t remnant_96728;\n    int64_t ltid_pre_96725;\n    int64_t remnant_96729;\n    int64_t slice_96731;\n    int64_t ltid_pre_96730;\n    int64_t remnant_96732;\n    int64_t slice_96734;\n    int64_t ltid_pre_96733;\n    int64_t remnant_96735;\n    int64_t slice_96736;\n    int64_t gtid_78950;\n    int64_t remnant_96737;\n    __local unsigned char *color_95762;\n    __local unsigned char *color_95763;\n    __local unsigned char *color_95764;\n    __local unsigned char *color_95765;\n    __local unsigned char *color_95766;\n    __local unsigned char *color_95767;\n    __local unsigned char *color_95768;\n    __local ", "unsigned char *color_95769;\n    __local unsigned char *color_95770;\n    __local unsigned char *color_95771;\n    __local unsigned char *color_95772;\n    __local unsigned char *color_95773;\n    __local unsigned char *color_95774;\n    __local unsigned char *color_95775;\n    __local unsigned char *color_95776;\n    __local unsigned char *color_95777;\n    __local unsigned char *color_95778;\n    int64_t start_78953;\n    int64_t j_m_i_78954;\n    bool empty_slice_78955;\n    int64_t m_78956;\n    int64_t i_p_m_t_s_78957;\n    bool zzero_leq_i_p_m_t_s_78958;\n    bool i_p_m_t_s_leq_w_78959;\n    bool zzero_lte_i_78960;\n    bool i_lte_j_78961;\n    bool y_78962;\n    bool y_78963;\n    bool forwards_ok_78964;\n    bool ok_or_empty_78965;\n    bool index_certs_78966;\n    bool i_p_m_t_s_leq_w_78967;\n    bool y_78968;\n    bool forwards_ok_78969;\n    bool ok_or_empty_78970;\n    bool index_certs_78971;\n    int64_t slice_78981;\n    int64_t binop_y_94313;\n    int64_t binop_y_94315;\n    int64_t ext_94317;\n    __local unsigned char *ext_mem_94359;\n    __local unsigned char *ext_mem_94356;\n    __local unsigned char *ext_mem_94352;\n    int32_t num_chunks_96810;\n    int32_t num_chunks_96813;\n    int32_t num_chunks_96816;\n    \n    local_tid_96702 = get_local_id(0);\n    tblock_sizze_96705 = get_local_size(0);\n    wave_sizze_96704 = LOCKSTEP_WIDTH;\n    block_id_96703 = get_tblock_id(0);\n    global_tid_96701 = block_id_96703 * tblock_sizze_96705 + local_tid_96702;\n    phys_tblock_id_78951 = sext_i32_i64(block_id_96703);\n    slice_96709 = num_blocks_69798;\n    slice_96710 = dim_45874 * slice_96709;\n    slice_96711 = merge_block_sizze_65328 * slice_96710;\n    ltid_pre_96706 = squot64(sext_i32_i64(local_tid_96702), slice_96710);\n    remnant_96712 = sext_i32_i64(local_tid_96702) - ltid_pre_96706 * slice_96710;\n    ltid_pre_96707 = squot64(remnant_96712, slice_96709);\n    remnant_96713 = remnant_96712 - ltid_pre_96707 * slice_96709;\n    ltid_pre_96708 = remnant_96713;\n    remnant_96714 = remnant_96713 - lti",
                                    "d_pre_96708;\n    slice_96717 = num_blocks_69798;\n    slice_96718 = merge_block_sizze_65328 * slice_96717;\n    ltid_pre_96715 = squot64(sext_i32_i64(local_tid_96702), slice_96717);\n    remnant_96719 = sext_i32_i64(local_tid_96702) - ltid_pre_96715 * slice_96717;\n    ltid_pre_96716 = remnant_96719;\n    remnant_96720 = remnant_96719 - ltid_pre_96716;\n    slice_96722 = next_stride_69779;\n    ltid_pre_96721 = sext_i32_i64(local_tid_96702);\n    remnant_96723 = sext_i32_i64(local_tid_96702) - ltid_pre_96721;\n    slice_96726 = dim_45874;\n    slice_96727 = next_stride_69779 * slice_96726;\n    ltid_pre_96724 = squot64(sext_i32_i64(local_tid_96702), slice_96726);\n    remnant_96728 = sext_i32_i64(local_tid_96702) - ltid_pre_96724 * slice_96726;\n    ltid_pre_96725 = remnant_96728;\n    remnant_96729 = remnant_96728 - ltid_pre_96725;\n    slice_96731 = num_blocks_69798;\n    ltid_pre_96730 = sext_i32_i64(local_tid_96702);\n    remnant_96732 = sext_i32_i64(local_tid_96702) - ltid_pre_96730;\n    slice_96734 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n    ltid_pre_96733 = sext_i32_i64(local_tid_96702);\n    remnant_96735 = sext_i32_i64(local_tid_96702) - ltid_pre_96733;\n    slice_96736 = num_merges_69783;\n    gtid_78950 = sext_i32_i64(block_id_96703);\n    remnant_96737 = sext_i32_i64(block_id_96703) - gtid_78950;\n    color_95762 = (__local unsigned char *) color_95762_backing_0;\n    color_95763 = (__local unsigned char *) color_95763_backing_1;\n    color_95764 = (__local unsigned char *) color_95764_backing_2;\n    color_95765 = (__local unsigned char *) color_95765_backing_3;\n    color_95766 = (__local unsigned char *) color_95766_backing_4;\n    color_95767 = (__local unsigned char *) color_95767_backing_5;\n    color_95768 = (__local unsigned char *) color_95768_backing_6;\n    color_95769 = (__local unsigned char *) color_95769_backing_7;\n    color_95770 = (__local unsigned char *) color_95770_backing_8;\n    color_95771 = (__local unsigned char *) color_95771_backing_9;\n    color_957", "72 = (__local unsigned char *) color_95772_backing_10;\n    color_95773 = (__local unsigned char *) color_95773_backing_11;\n    color_95774 = (__local unsigned char *) color_95774_backing_12;\n    color_95775 = (__local unsigned char *) color_95775_backing_13;\n    color_95776 = (__local unsigned char *) color_95776_backing_14;\n    color_95777 = (__local unsigned char *) color_95777_backing_15;\n    color_95778 = (__local unsigned char *) color_95778_backing_16;\n    start_78953 = mul64(next_stride_69779, gtid_78950);\n    j_m_i_78954 = sub64(loop_dz2084Uz2082U_69773, start_78953);\n    empty_slice_78955 = j_m_i_78954 == (int64_t) 0;\n    m_78956 = sub64(j_m_i_78954, (int64_t) 1);\n    i_p_m_t_s_78957 = add64(start_78953, m_78956);\n    zzero_leq_i_p_m_t_s_78958 = sle64((int64_t) 0, i_p_m_t_s_78957);\n    i_p_m_t_s_leq_w_78959 = slt64(i_p_m_t_s_78957, loop_dz2084Uz2082U_69773);\n    zzero_lte_i_78960 = sle64((int64_t) 0, start_78953);\n    i_lte_j_78961 = sle64(start_78953, loop_dz2084Uz2082U_69773);\n    y_78962 = i_p_m_t_s_leq_w_78959 && zzero_lte_i_78960;\n    y_78963 = zzero_leq_i_p_m_t_s_78958 && y_78962;\n    forwards_ok_78964 = i_lte_j_78961 && y_78963;\n    ok_or_empty_78965 = empty_slice_78955 || forwards_ok_78964;\n    if (!ok_or_empty_78965) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 80) == -1) {\n                global_failure_args[0] = (int64_t) start_78953;\n                global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_69773;\n                ;\n            }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    i_p_m_t_s_leq_w_78967 = slt64(m_69788, j_m_i_78954);\n    y_78968 = zzero_leq_i_p_m_t_s_69789 && i_p_m_t_s_leq_w_78967;\n    forwards_ok_78969 = i_lte_j_69790 && y_78968;\n    ok_or_empty_78970 = zzero_69780 || forwards_ok_78969;\n    if (!ok_or_empty_78970) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 81) == -1) {\n                global_failure_args[0] = (int64_t) (int64_t) 0;\n  ", "              global_failure_args[1] = (int64_t) next_stride_69779;\n                global_failure_args[2] = (int64_t) j_m_i_78954;\n                ;\n            }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    slice_78981 = stride_69778 + start_78953;\n    binop_y_94313 = dim_45874 * slice_78981;\n    binop_y_94315 = dim_45874 * start_78953;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_69810) {\n        ext_94317 = binop_y_94315;\n    } else {\n        ext_94317 = binop_y_94313;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_69791) {\n        int64_t dummy_78975;\n        int64_t dummy_78977;\n        int64_t data_78988;\n        int64_t i_78993;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_69810) {\n            int64_t head_res_78978;\n            int64_t head_res_78980;\n            \n            head_res_78978 = ((__global int64_t *) mem_param_93737)[start_78953];\n            head_res_78980 = ((__global int64_t *) mem_param_93744)[start_78953];\n            dummy_78975 = head_res_78978;\n            dummy_78977 = head_res_78980;\n        } else {\n            int64_t head_res_78982;\n            int64_t head_res_78984;\n            \n            head_res_78982 = ((__global int64_t *) mem_param_93737)[slice_78981];\n            head_res_78984 = ((__global int64_t *) mem_param_93744)[slice_78981];\n            dummy_78975 = head_res_78982;\n            dummy_78977 = head_res_78984;\n        }\n        for (int32_t chunk_i_96740 = 0; chunk_i_96740 < num_chunks_96696; chunk_i_96740++) {\n            int32_t i_96741;\n            int64_t slice_96742;\n            int64_t rep_i_96739;\n            int64_t remnant_96743;\n            \n            i_96741 = chunk_i_96740 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n            slice_96742 = next_stride_69779;\n            rep_i_96739 = sext_i32_i64(i_96741);\n            remnant_96743 = sex",
                                    "t_i32_i64(i_96741) - rep_i_96739;\n            if (sle64((int64_t) 0, rep_i_96739) && slt64(rep_i_96739, next_stride_69779)) {\n                ((__local int64_t *) color_95764)[rep_i_96739] = dummy_78975;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96746 = 0; chunk_i_96746 < num_chunks_96696; chunk_i_96746++) {\n            int32_t i_96747;\n            int64_t slice_96748;\n            int64_t rep_i_96745;\n            int64_t remnant_96749;\n            \n            i_96747 = chunk_i_96746 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n            slice_96748 = next_stride_69779;\n            rep_i_96745 = sext_i32_i64(i_96747);\n            remnant_96749 = sext_i32_i64(i_96747) - rep_i_96745;\n            if (sle64((int64_t) 0, rep_i_96745) && slt64(rep_i_96745, next_stride_69779)) {\n                ((__local int64_t *) color_95763)[rep_i_96745] = dummy_78977;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96753 = 0; chunk_i_96753 < num_chunks_96697; chunk_i_96753++) {\n            int32_t i_96754;\n            int64_t slice_96755;\n            int64_t slice_96756;\n            int64_t rep_i_96751;\n            int64_t remnant_96757;\n            int64_t rep_i_96752;\n            int64_t remnant_96758;\n            \n            i_96754 = chunk_i_96753 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n            slice_96755 = dim_45874;\n            slice_96756 = next_stride_69779 * slice_96755;\n            rep_i_96751 = squot64(sext_i32_i64(i_96754), slice_96755);\n            remnant_96757 = sext_i32_i64(i_96754) - rep_i_96751 * slice_96755;\n            rep_i_96752 = remnant_96757;\n            remnant_96758 = remnant_96757 - rep_i_96752;\n            if ((sle64((int64_t) 0, rep_i_96751) && slt64(rep_i_96751, next_stride_69779)) && (sle64((int64_t) 0, rep_i_96752) && slt64(rep_i_96752, dim_45874))) {\n                double tmp_96759 = ((__global double *) mem_para", "m_93741)[ext_94317 + rep_i_96752];\n                \n                ((__local double *) color_95762)[rep_i_96751 * dim_45874 + rep_i_96752] = tmp_96759;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        i_78993 = (int64_t) 0;\n        for (int64_t k_78992 = 0; k_78992 < next_stride_69779; k_78992++) {\n            int64_t j_78997;\n            bool cond_78998;\n            bool x_95420;\n            bool cond_79000;\n            bool x_79002;\n            bool y_79003;\n            bool bounds_check_79004;\n            bool loop_not_taken_95412;\n            bool protect_assert_disj_95413;\n            bool protect_assert_disj_95423;\n            bool index_certs_79005;\n            int64_t slice_79006;\n            int64_t slice_79007;\n            bool protect_cond_conj_95424;\n            int64_t leq_arg1_79008;\n            bool x_79009;\n            bool bounds_check_79010;\n            bool protect_assert_disj_95417;\n            bool protect_assert_disj_95426;\n            bool index_certs_79011;\n            int64_t slice_79012;\n            int64_t leq_arg0_79013;\n            bool lifted_lambda_res_79014;\n            bool x_95626;\n            bool cond_78999;\n            bool protect_assert_disj_95177;\n            bool index_certs_79031;\n            bool loop_not_taken_95172;\n            bool protect_assert_disj_95173;\n            bool index_certs_79023;\n            int64_t binop_y_94335;\n            int64_t binop_y_94337;\n            int64_t ext_94339;\n            int64_t loopres_79015;\n            int64_t loopres_79016;\n            int64_t loopres_79018;\n            int32_t num_chunks_96764;\n            int64_t i_tmp_96760;\n            \n            j_78997 = sub64(k_78992, i_78993);\n            cond_78998 = j_78997 == j_m_i_69800;\n            x_95420 = !cond_78998;\n            cond_79000 = slt64(i_78993, stride_69778);\n            x_79002 = sle64((int64_t) 0, j_78997);\n            y_79003 = slt64(j_78997, j_m_i_69800);\n ", "           bounds_check_79004 = x_79002 && y_79003;\n            loop_not_taken_95412 = !cond_79000;\n            protect_assert_disj_95413 = bounds_check_79004 || loop_not_taken_95412;\n            protect_assert_disj_95423 = cond_78998 || protect_assert_disj_95413;\n            if (!protect_assert_disj_95423) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 82) == -1) {\n                        global_failure_args[0] = (int64_t) j_78997;\n                        global_failure_args[1] = (int64_t) j_m_i_69800;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            slice_79006 = stride_69778 + j_78997;\n            slice_79007 = start_78953 + slice_79006;\n            protect_cond_conj_95424 = cond_79000 && x_95420;\n            \n          error_4:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_95424) {\n                int64_t x_95414 = ((__global int64_t *) mem_param_93737)[slice_79007];\n                \n                leq_arg1_79008 = x_95414;\n            } else {\n                leq_arg1_79008 = (int64_t) 0;\n            }\n            x_79009 = sle64((int64_t) 0, i_78993);\n            bounds_check_79010 = cond_79000 && x_79009;\n            protect_assert_disj_95417 = bounds_check_79010 || loop_not_taken_95412;\n            protect_assert_disj_95426 = cond_78998 || protect_assert_disj_95417;\n            if (!protect_assert_disj_95426) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 83) == -1) {\n                        global_failure_args[0] = (int64_t) i_78993;\n                        global_failure_args[1] = (int64_t) stride_69778;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_5;\n         ",
                                    "       }\n            }\n            slice_79012 = start_78953 + i_78993;\n            \n          error_5:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_95424) {\n                int64_t x_95418 = ((__global int64_t *) mem_param_93737)[slice_79012];\n                \n                leq_arg0_79013 = x_95418;\n            } else {\n                leq_arg0_79013 = (int64_t) 0;\n            }\n            lifted_lambda_res_79014 = sle64(leq_arg0_79013, leq_arg1_79008);\n            x_95626 = cond_79000 && lifted_lambda_res_79014;\n            cond_78999 = cond_78998 || x_95626;\n            protect_assert_disj_95177 = cond_78999 || bounds_check_79004;\n            if (!protect_assert_disj_95177) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 84) == -1) {\n                        global_failure_args[0] = (int64_t) j_78997;\n                        global_failure_args[1] = (int64_t) j_m_i_69800;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            loop_not_taken_95172 = !cond_78999;\n            protect_assert_disj_95173 = bounds_check_79010 || loop_not_taken_95172;\n            if (!protect_assert_disj_95173) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 85) == -1) {\n                        global_failure_args[0] = (int64_t) i_78993;\n                        global_failure_args[1] = (int64_t) stride_69778;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            binop_y_94335 = dim_45874 * slice_79007;\n            binop_y_94337 = dim_45874 * slice_79012;\n            \n          error_6:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n   ", "             return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_78999) {\n                ext_94339 = binop_y_94337;\n            } else {\n                ext_94339 = binop_y_94335;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_78999) {\n                int64_t tmp_79019;\n                int64_t tmp_79025;\n                int64_t tmp_79027;\n                \n                tmp_79019 = add64((int64_t) 1, i_78993);\n                tmp_79025 = ((__global int64_t *) mem_param_93737)[slice_79012];\n                tmp_79027 = ((__global int64_t *) mem_param_93744)[slice_79012];\n                loopres_79015 = tmp_79019;\n                loopres_79016 = tmp_79025;\n                loopres_79018 = tmp_79027;\n            } else {\n                int64_t tmp_79034;\n                int64_t tmp_79036;\n                \n                tmp_79034 = ((__global int64_t *) mem_param_93737)[slice_79007];\n                tmp_79036 = ((__global int64_t *) mem_param_93744)[slice_79007];\n                loopres_79015 = i_78993;\n                loopres_79016 = tmp_79034;\n                loopres_79018 = tmp_79036;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96702 == 0) {\n                ((__local int64_t *) color_95764)[k_78992] = loopres_79016;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            num_chunks_96764 = sdiv_up32(sext_i64_i32(dim_45874), sext_i64_i32(computed_tblock_sizze_78694));\n            for (int32_t chunk_i_96765 = 0; chunk_i_96765 < num_chunks_96764; chunk_i_96765++) {\n                int32_t i_96766 = chunk_i_96765 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n                \n                if (slt32(i_96766, sext_i64_i32(dim_45874))) {\n                    ((__local double *) color_95762)[k_78992 * dim_45874 + sext_i32_i64(i_96766)] = ((__global double *) mem_param_93741)[ext_94339 + sext_i32_i64(i_96766)];\n                }\n            }\n            bar", "rier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_96702 == 0) {\n                ((__local int64_t *) color_95763)[k_78992] = loopres_79018;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            i_tmp_96760 = loopres_79015;\n            i_78993 = i_tmp_96760;\n        }\n        data_78988 = i_78993;\n        ext_mem_94359 = color_95764;\n        ext_mem_94356 = color_95762;\n        ext_mem_94352 = color_95763;\n    } else {\n        int64_t phys_tid_79044;\n        int64_t gtid_79043;\n        int64_t phys_tid_79150;\n        int64_t gtid_79149;\n        int64_t phys_tid_79221;\n        int64_t gtid_79220;\n        \n        phys_tid_79044 = sext_i32_i64(local_tid_96702);\n        gtid_79043 = sext_i32_i64(sext_i64_i32(ltid_pre_96733));\n        if (slt64(gtid_79043, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799)) {\n            int64_t split_count_arg3_79046;\n            int64_t defunc_0_split_count_res_79047;\n            int64_t defunc_0_split_count_res_79048;\n            int64_t defunc_0_split_count_res_79049;\n            int64_t defunc_0_split_count_res_79050;\n            int64_t defunc_0_split_count_res_79051;\n            bool loop_cond_79052;\n            bool defunc_0_split_count_res_79053;\n            int64_t defunc_0_split_count_res_79054;\n            int64_t defunc_0_split_count_res_79055;\n            int64_t defunc_0_split_count_res_79056;\n            int64_t defunc_0_split_count_res_79057;\n            int64_t defunc_0_split_count_res_79058;\n            bool loop_while_79059;\n            int64_t ss_79060;\n            int64_t ss_79061;\n            int64_t tt_79062;\n            int64_t tt_79063;\n            int64_t count_79064;\n            \n            split_count_arg3_79046 = mul64(merge_block_sizze_65328, gtid_79043);\n            futrts_lifted_normalizze_10121(&defunc_0_split_count_res_79047, &defunc_0_split_count_res_79048, &defunc_0_split_count_res_79049, &defunc_0_split_count_res_79050, &defunc_0_split_count_res_",
                                    "79051, (int64_t) 0, stride_69778, (int64_t) 0, j_m_i_69800, split_count_arg3_79046);\n            loop_cond_79052 = slt64((int64_t) 0, defunc_0_split_count_res_79051);\n            loop_while_79059 = loop_cond_79052;\n            ss_79060 = defunc_0_split_count_res_79047;\n            ss_79061 = defunc_0_split_count_res_79048;\n            tt_79062 = defunc_0_split_count_res_79049;\n            tt_79063 = defunc_0_split_count_res_79050;\n            count_79064 = defunc_0_split_count_res_79051;\n            while (loop_while_79059) {\n                int64_t zlze_lhs_79065;\n                bool cond_79066;\n                int64_t defunc_0_lifted_step_res_79067;\n                int64_t defunc_0_lifted_step_res_79068;\n                int64_t defunc_0_lifted_step_res_79069;\n                int64_t defunc_0_lifted_step_res_79070;\n                int64_t loopres_79133;\n                int64_t loopres_79134;\n                int64_t loopres_79135;\n                int64_t loopres_79136;\n                int64_t loopres_79137;\n                bool loop_cond_79138;\n                bool loop_while_tmp_96767;\n                int64_t ss_tmp_96768;\n                int64_t ss_tmp_96769;\n                int64_t tt_tmp_96770;\n                int64_t tt_tmp_96771;\n                int64_t count_tmp_96772;\n                \n                zlze_lhs_79065 = sub64(ss_79061, ss_79060);\n                cond_79066 = sle64(zlze_lhs_79065, (int64_t) 0);\n                if (cond_79066) {\n                    int64_t tmp_79071 = add64(tt_79062, count_79064);\n                    \n                    defunc_0_lifted_step_res_79067 = ss_79060;\n                    defunc_0_lifted_step_res_79068 = tmp_79071;\n                    defunc_0_lifted_step_res_79069 = tt_79063;\n                    defunc_0_lifted_step_res_79070 = (int64_t) 0;\n                } else {\n                    int64_t zlze_lhs_79072;\n                    bool cond_79073;\n                    int64_t defunc_0_lifted_step_res_f_res_79074;\n       ", "             int64_t defunc_0_lifted_step_res_f_res_79075;\n                    int64_t defunc_0_lifted_step_res_f_res_79076;\n                    int64_t defunc_0_lifted_step_res_f_res_79077;\n                    \n                    zlze_lhs_79072 = sub64(tt_79063, tt_79062);\n                    cond_79073 = sle64(zlze_lhs_79072, (int64_t) 0);\n                    if (cond_79073) {\n                        int64_t tmp_79078 = add64(ss_79060, count_79064);\n                        \n                        defunc_0_lifted_step_res_f_res_79074 = tmp_79078;\n                        defunc_0_lifted_step_res_f_res_79075 = tt_79062;\n                        defunc_0_lifted_step_res_f_res_79076 = tt_79063;\n                        defunc_0_lifted_step_res_f_res_79077 = (int64_t) 0;\n                    } else {\n                        bool cond_79079;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_79080;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_79081;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_79082;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_79083;\n                        \n                        cond_79079 = count_79064 == (int64_t) 1;\n                        if (cond_79079) {\n                            bool x_79084;\n                            bool y_79085;\n                            bool bounds_check_79086;\n                            bool index_certs_79087;\n                            bool x_79090;\n                            bool y_79091;\n                            bool bounds_check_79092;\n                            bool index_certs_79093;\n                            int64_t slice_79088;\n                            int64_t leq_arg1_79089;\n                            int64_t slice_79094;\n                            int64_t slice_79095;\n                            int64_t leq_arg0_79096;\n                            bool lifted_lambda_res_79097;\n                            i", "nt64_t defunc_0_lifted_step_res_f_res_f_res_t_res_79098;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_79099;\n                            \n                            x_79084 = sle64((int64_t) 0, ss_79060);\n                            y_79085 = slt64(ss_79060, stride_69778);\n                            bounds_check_79086 = x_79084 && y_79085;\n                            if (!bounds_check_79086) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 86) == -1) {\n                                        global_failure_args[0] = (int64_t) ss_79060;\n                                        global_failure_args[1] = (int64_t) stride_69778;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_8;\n                                }\n                            }\n                            x_79090 = sle64((int64_t) 0, tt_79062);\n                            y_79091 = slt64(tt_79062, j_m_i_69800);\n                            bounds_check_79092 = x_79090 && y_79091;\n                            if (!bounds_check_79092) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 87) == -1) {\n                                        global_failure_args[0] = (int64_t) tt_79062;\n                                        global_failure_args[1] = (int64_t) j_m_i_69800;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_8;\n                                }\n                            }\n                            slice_79088 = start_78953 + ss_79060;\n                            leq_arg1_79089 = ((__global int64_t *) mem_param_93737)[slice_79088];\n                            slic",
                                    "e_79094 = stride_69778 + tt_79062;\n                            slice_79095 = start_78953 + slice_79094;\n                            leq_arg0_79096 = ((__global int64_t *) mem_param_93737)[slice_79095];\n                            lifted_lambda_res_79097 = sle64(leq_arg0_79096, leq_arg1_79089);\n                            if (lifted_lambda_res_79097) {\n                                int64_t tmp_79100 = add64((int64_t) 1, tt_79062);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_79098 = ss_79060;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_79099 = tmp_79100;\n                            } else {\n                                int64_t tmp_79101 = add64((int64_t) 1, ss_79060);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_79098 = tmp_79101;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_79099 = tt_79062;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_79080 = defunc_0_lifted_step_res_f_res_f_res_t_res_79098;\n                            defunc_0_lifted_step_res_f_res_f_res_79081 = defunc_0_lifted_step_res_f_res_f_res_t_res_79099;\n                            defunc_0_lifted_step_res_f_res_f_res_79082 = tt_79063;\n                            defunc_0_lifted_step_res_f_res_f_res_79083 = (int64_t) 0;\n                        } else {\n                            int64_t m_79102;\n                            int64_t n_79103;\n                            bool cond_79104;\n                            int64_t zgze_lhs_79105;\n                            bool cond_f_res_79106;\n                            bool x_79107;\n                            bool y_79108;\n                            bool cond_79109;\n                            bool leq_y_x_79110;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_79127;\n                          ", "  int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_79128;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_79129;\n                            \n                            m_79102 = sdiv64(count_79064, (int64_t) 2);\n                            n_79103 = sub64(count_79064, m_79102);\n                            cond_79104 = n_79103 == (int64_t) 0;\n                            zgze_lhs_79105 = add64(ss_79060, m_79102);\n                            cond_f_res_79106 = sle64(ss_79061, zgze_lhs_79105);\n                            x_79107 = !cond_79104;\n                            y_79108 = cond_f_res_79106 && x_79107;\n                            cond_79109 = cond_79104 || y_79108;\n                            if (cond_79109) {\n                                leq_y_x_79110 = 1;\n                            } else {\n                                bool x_79111;\n                                bool y_79112;\n                                bool bounds_check_79113;\n                                bool index_certs_79114;\n                                int64_t zm_lhs_79117;\n                                int64_t leq_arg0_79118;\n                                bool x_79119;\n                                bool y_79120;\n                                bool bounds_check_79121;\n                                bool index_certs_79122;\n                                int64_t slice_79115;\n                                int64_t leq_arg1_79116;\n                                int64_t slice_79123;\n                                int64_t slice_79124;\n                                int64_t leq_arg0_79125;\n                                bool lifted_lambda_res_79126;\n                                \n                                x_79111 = sle64((int64_t) 0, zgze_lhs_79105);\n                                y_79112 = slt64(zgze_lhs_79105, stride_69778);\n                                bounds_check_79113 = x_79111 && y_79112;\n                                if (!b", "ounds_check_79113) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 88) == -1) {\n                                            global_failure_args[0] = (int64_t) zgze_lhs_79105;\n                                            global_failure_args[1] = (int64_t) stride_69778;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_8;\n                                    }\n                                }\n                                zm_lhs_79117 = add64(tt_79062, n_79103);\n                                leq_arg0_79118 = sub64(zm_lhs_79117, (int64_t) 1);\n                                x_79119 = sle64((int64_t) 0, leq_arg0_79118);\n                                y_79120 = slt64(leq_arg0_79118, j_m_i_69800);\n                                bounds_check_79121 = x_79119 && y_79120;\n                                if (!bounds_check_79121) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 89) == -1) {\n                                            global_failure_args[0] = (int64_t) leq_arg0_79118;\n                                            global_failure_args[1] = (int64_t) j_m_i_69800;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_8;\n                                    }\n                                }\n                                slice_79115 = start_78953 + zgze_lhs_79105;\n                                leq_arg1_79116 = ((__global int64_t *) mem_param_93737)[slice_79115];\n                                slice_79123 = stride_69778 + leq_arg0_79118;\n                                slice_79124 = start_78953 + slice_79123;\n    ",
                                    "                            leq_arg0_79125 = ((__global int64_t *) mem_param_93737)[slice_79124];\n                                lifted_lambda_res_79126 = sle64(leq_arg0_79125, leq_arg1_79116);\n                                leq_y_x_79110 = lifted_lambda_res_79126;\n                            }\n                            if (leq_y_x_79110) {\n                                int64_t tmp_79130;\n                                int64_t tmp_79131;\n                                \n                                tmp_79130 = add64(tt_79062, n_79103);\n                                tmp_79131 = sub64(count_79064, n_79103);\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_79127 = tmp_79130;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_79128 = tt_79063;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_79129 = tmp_79131;\n                            } else {\n                                int64_t tmp_79132 = add64(tt_79062, n_79103);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_f_res_79127 = tt_79062;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_79128 = tmp_79132;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_79129 = count_79064;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_79080 = ss_79060;\n                            defunc_0_lifted_step_res_f_res_f_res_79081 = defunc_0_lifted_step_res_f_res_f_res_f_res_79127;\n                            defunc_0_lifted_step_res_f_res_f_res_79082 = defunc_0_lifted_step_res_f_res_f_res_f_res_79128;\n                            defunc_0_lifted_step_res_f_res_f_res_79083 = defunc_0_lifted_step_res_f_res_f_res_f_res_79129;\n                        }\n                        defunc_0_lifted_step_res_f_res_79074 = defunc_0_lifted_step_res_f_res_f_res_79080;\n                        defunc_0_lifted_step_res", "_f_res_79075 = defunc_0_lifted_step_res_f_res_f_res_79081;\n                        defunc_0_lifted_step_res_f_res_79076 = defunc_0_lifted_step_res_f_res_f_res_79082;\n                        defunc_0_lifted_step_res_f_res_79077 = defunc_0_lifted_step_res_f_res_f_res_79083;\n                    }\n                    defunc_0_lifted_step_res_79067 = defunc_0_lifted_step_res_f_res_79074;\n                    defunc_0_lifted_step_res_79068 = defunc_0_lifted_step_res_f_res_79075;\n                    defunc_0_lifted_step_res_79069 = defunc_0_lifted_step_res_f_res_79076;\n                    defunc_0_lifted_step_res_79070 = defunc_0_lifted_step_res_f_res_79077;\n                }\n                futrts_lifted_normalizze_10121(&loopres_79133, &loopres_79134, &loopres_79135, &loopres_79136, &loopres_79137, defunc_0_lifted_step_res_79067, ss_79061, defunc_0_lifted_step_res_79068, defunc_0_lifted_step_res_79069, defunc_0_lifted_step_res_79070);\n                loop_cond_79138 = slt64((int64_t) 0, loopres_79137);\n                loop_while_tmp_96767 = loop_cond_79138;\n                ss_tmp_96768 = loopres_79133;\n                ss_tmp_96769 = loopres_79134;\n                tt_tmp_96770 = loopres_79135;\n                tt_tmp_96771 = loopres_79136;\n                count_tmp_96772 = loopres_79137;\n                loop_while_79059 = loop_while_tmp_96767;\n                ss_79060 = ss_tmp_96768;\n                ss_79061 = ss_tmp_96769;\n                tt_79062 = tt_tmp_96770;\n                tt_79063 = tt_tmp_96771;\n                count_79064 = count_tmp_96772;\n            }\n            defunc_0_split_count_res_79053 = loop_while_79059;\n            defunc_0_split_count_res_79054 = ss_79060;\n            defunc_0_split_count_res_79055 = ss_79061;\n            defunc_0_split_count_res_79056 = tt_79062;\n            defunc_0_split_count_res_79057 = tt_79063;\n            defunc_0_split_count_res_79058 = count_79064;\n            ((__local int64_t *) color_95778)[gtid_79043] = defunc_0_split_c", "ount_res_79054;\n            ((__local int64_t *) color_95770)[gtid_79043] = defunc_0_split_count_res_79056;\n        }\n        \n      error_8:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_79150 = sext_i32_i64(local_tid_96702);\n        gtid_79149 = sext_i32_i64(sext_i64_i32(ltid_pre_96730));\n        if (slt64(gtid_79149, num_blocks_69798)) {\n            bool y_79153;\n            bool index_certs_79155;\n            int64_t defunc_0_f_res_79156;\n            int64_t defunc_0_f_res_79157;\n            int64_t tmp_79158;\n            bool x_79159;\n            bool y_79160;\n            bool bounds_check_79161;\n            bool index_certs_79162;\n            int64_t defunc_0_f_res_79163;\n            int64_t defunc_0_f_res_79164;\n            int64_t merge_sequential_arg2_79165;\n            int64_t merge_sequential_arg2_79166;\n            int64_t j_m_i_79167;\n            bool empty_slice_79168;\n            int64_t m_79169;\n            int64_t i_p_m_t_s_79170;\n            bool zzero_leq_i_p_m_t_s_79171;\n            bool i_p_m_t_s_leq_w_79172;\n            bool zzero_lte_i_79173;\n            bool i_lte_j_79174;\n            bool y_79175;\n            bool y_79176;\n            bool forwards_ok_79177;\n            bool ok_or_empty_79178;\n            bool index_certs_79179;\n            int64_t j_m_i_79180;\n            bool empty_slice_79181;\n            int64_t m_79182;\n            int64_t i_p_m_t_s_79183;\n            bool zzero_leq_i_p_m_t_s_79184;\n            bool i_p_m_t_s_leq_w_79185;\n            bool zzero_lte_i_79186;\n            bool i_lte_j_79187;\n            bool y_79188;\n            bool y_79189;\n            bool forwards_ok_79190;\n            bool ok_or_empty_79191;\n            bool index_certs_79192;\n            bool cond_79193;\n            bool y_79202;\n            bool protect_assert_disj_95198;\n            bool index_certs_79203;\n            int64_t slice_79204;\n            int64",
                                    "_t binop_y_94245;\n            int64_t slice_79198;\n            int64_t binop_y_94247;\n            int64_t ext_94249;\n            int64_t dummy_79194;\n            int64_t dummy_79196;\n            \n            y_79153 = slt64(gtid_79149, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799);\n            if (!y_79153) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 90) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_79149;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            defunc_0_f_res_79156 = ((__local int64_t *) color_95778)[gtid_79149];\n            defunc_0_f_res_79157 = ((__local int64_t *) color_95770)[gtid_79149];\n            tmp_79158 = add64((int64_t) 1, gtid_79149);\n            x_79159 = sle64((int64_t) 0, tmp_79158);\n            y_79160 = slt64(tmp_79158, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799);\n            bounds_check_79161 = x_79159 && y_79160;\n            if (!bounds_check_79161) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 91) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_79158;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            defunc_0_f_res_79163 = ((__local int64_t *) color_95778)[tmp_79158];\n            defunc_0_f_res_79164 = ((__local int64_t *) color_95770)[tmp_79158];\n            merge_sequential_arg2_79165 = add64(stride_69778, defunc_0_f_res_79157);\n            merge_sequential_arg2_79166 = add64(stride_69778, defunc_0_f_res_79164);\n            j_m_i_79167 = sub64(merge_sequentia", "l_arg2_79166, merge_sequential_arg2_79165);\n            empty_slice_79168 = j_m_i_79167 == (int64_t) 0;\n            m_79169 = sub64(j_m_i_79167, (int64_t) 1);\n            i_p_m_t_s_79170 = add64(merge_sequential_arg2_79165, m_79169);\n            zzero_leq_i_p_m_t_s_79171 = sle64((int64_t) 0, i_p_m_t_s_79170);\n            i_p_m_t_s_leq_w_79172 = slt64(i_p_m_t_s_79170, next_stride_69779);\n            zzero_lte_i_79173 = sle64((int64_t) 0, merge_sequential_arg2_79165);\n            i_lte_j_79174 = sle64(merge_sequential_arg2_79165, merge_sequential_arg2_79166);\n            y_79175 = i_p_m_t_s_leq_w_79172 && zzero_lte_i_79173;\n            y_79176 = zzero_leq_i_p_m_t_s_79171 && y_79175;\n            forwards_ok_79177 = i_lte_j_79174 && y_79176;\n            ok_or_empty_79178 = empty_slice_79168 || forwards_ok_79177;\n            if (!ok_or_empty_79178) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 92) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_79165;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_79166;\n                        global_failure_args[2] = (int64_t) next_stride_69779;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            j_m_i_79180 = sub64(defunc_0_f_res_79163, defunc_0_f_res_79156);\n            empty_slice_79181 = j_m_i_79180 == (int64_t) 0;\n            m_79182 = sub64(j_m_i_79180, (int64_t) 1);\n            i_p_m_t_s_79183 = add64(defunc_0_f_res_79156, m_79182);\n            zzero_leq_i_p_m_t_s_79184 = sle64((int64_t) 0, i_p_m_t_s_79183);\n            i_p_m_t_s_leq_w_79185 = slt64(i_p_m_t_s_79183, next_stride_69779);\n            zzero_lte_i_79186 = sle64((int64_t) 0, defunc_0_f_res_79156);\n            i_lte_j_79187 = sle64(defunc_0_f_res_79156, defunc_0_f_res_79163);\n            y_79188 = i_p_m_t_s_leq_w_79185 && zzero_lte_i_79186;", "\n            y_79189 = zzero_leq_i_p_m_t_s_79184 && y_79188;\n            forwards_ok_79190 = i_lte_j_79187 && y_79189;\n            ok_or_empty_79191 = empty_slice_79181 || forwards_ok_79190;\n            if (!ok_or_empty_79191) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 93) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_79156;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_79163;\n                        global_failure_args[2] = (int64_t) next_stride_69779;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            cond_79193 = slt64((int64_t) 0, j_m_i_79180);\n            y_79202 = slt64((int64_t) 0, j_m_i_79167);\n            protect_assert_disj_95198 = cond_79193 || y_79202;\n            if (!protect_assert_disj_95198) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 94) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n                        global_failure_args[1] = (int64_t) j_m_i_79167;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_9;\n                }\n            }\n            slice_79204 = start_78953 + merge_sequential_arg2_79165;\n            binop_y_94245 = dim_45874 * slice_79204;\n            slice_79198 = start_78953 + defunc_0_f_res_79156;\n            binop_y_94247 = dim_45874 * slice_79198;\n            if (cond_79193) {\n                ext_94249 = binop_y_94247;\n            } else {\n                ext_94249 = binop_y_94245;\n            }\n            if (cond_79193) {\n                int64_t head_res_79199;\n                int64_t head_res_79201;\n                \n                head_res_79199 = ((__global int64_t *) mem_param_93737)[slice_79198];\n                head_res_79201 = ((__global int64_t *) m",
                                    "em_param_93744)[slice_79198];\n                dummy_79194 = head_res_79199;\n                dummy_79196 = head_res_79201;\n            } else {\n                int64_t head_res_79205;\n                int64_t head_res_79207;\n                \n                head_res_79205 = ((__global int64_t *) mem_param_93737)[slice_79204];\n                head_res_79207 = ((__global int64_t *) mem_param_93744)[slice_79204];\n                dummy_79194 = head_res_79205;\n                dummy_79196 = head_res_79207;\n            }\n            ((__local int64_t *) color_95769)[gtid_79149] = dummy_79194;\n            ((__local int64_t *) color_95768)[gtid_79149] = dummy_79196;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__local double *) color_95777)[gtid_79149 * dim_45874 + i_0] = ((__global double *) mem_param_93741)[ext_94249 + i_0];\n            }\n            ((__local int64_t *) color_95776)[gtid_79149] = defunc_0_f_res_79156;\n            ((__local int64_t *) color_95775)[gtid_79149] = merge_sequential_arg2_79165;\n            ((__local int64_t *) color_95774)[gtid_79149] = j_m_i_79167;\n            ((__local int64_t *) color_95772)[gtid_79149] = j_m_i_79180;\n        }\n        \n      error_9:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96776 = 0; chunk_i_96776 < num_chunks_96695; chunk_i_96776++) {\n            int32_t i_96777;\n            int64_t slice_96778;\n            int64_t slice_96779;\n            int64_t rep_i_96774;\n            int64_t remnant_96780;\n            int64_t rep_i_96775;\n            int64_t remnant_96781;\n            \n            i_96777 = chunk_i_96776 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n            slice_96778 = num_blocks_69798;\n            slice_96779 = merge_block_sizze_65328 * slice_96778;\n            rep_i_96774 = squot64(sext_i32_i64(i_96777), slice_96778);\n            remnant_96780 = sext_i3", "2_i64(i_96777) - rep_i_96774 * slice_96778;\n            rep_i_96775 = remnant_96780;\n            remnant_96781 = remnant_96780 - rep_i_96775;\n            if ((sle64((int64_t) 0, rep_i_96774) && slt64(rep_i_96774, merge_block_sizze_65328)) && (sle64((int64_t) 0, rep_i_96775) && slt64(rep_i_96775, num_blocks_69798))) {\n                int64_t tmp_96782 = ((__local int64_t *) color_95769)[rep_i_96775];\n                \n                ((__local int64_t *) color_95770)[rep_i_96774 * num_blocks_69798 + rep_i_96775] = tmp_96782;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96786 = 0; chunk_i_96786 < num_chunks_96695; chunk_i_96786++) {\n            int32_t i_96787;\n            int64_t slice_96788;\n            int64_t slice_96789;\n            int64_t rep_i_96784;\n            int64_t remnant_96790;\n            int64_t rep_i_96785;\n            int64_t remnant_96791;\n            \n            i_96787 = chunk_i_96786 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n            slice_96788 = num_blocks_69798;\n            slice_96789 = merge_block_sizze_65328 * slice_96788;\n            rep_i_96784 = squot64(sext_i32_i64(i_96787), slice_96788);\n            remnant_96790 = sext_i32_i64(i_96787) - rep_i_96784 * slice_96788;\n            rep_i_96785 = remnant_96790;\n            remnant_96791 = remnant_96790 - rep_i_96785;\n            if ((sle64((int64_t) 0, rep_i_96784) && slt64(rep_i_96784, merge_block_sizze_65328)) && (sle64((int64_t) 0, rep_i_96785) && slt64(rep_i_96785, num_blocks_69798))) {\n                int64_t tmp_96792 = ((__local int64_t *) color_95768)[rep_i_96785];\n                \n                ((__local int64_t *) color_95769)[rep_i_96784 * num_blocks_69798 + rep_i_96785] = tmp_96792;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_96797 = 0; chunk_i_96797 < num_chunks_96694; chunk_i_96797++) {\n            int32_t i_96798;\n            int64_t slice_96799;\n            ", "int64_t slice_96800;\n            int64_t slice_96801;\n            int64_t rep_i_96794;\n            int64_t remnant_96802;\n            int64_t rep_i_96795;\n            int64_t remnant_96803;\n            int64_t rep_i_96796;\n            int64_t remnant_96804;\n            \n            i_96798 = chunk_i_96797 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n            slice_96799 = num_blocks_69798;\n            slice_96800 = dim_45874 * slice_96799;\n            slice_96801 = merge_block_sizze_65328 * slice_96800;\n            rep_i_96794 = squot64(sext_i32_i64(i_96798), slice_96800);\n            remnant_96802 = sext_i32_i64(i_96798) - rep_i_96794 * slice_96800;\n            rep_i_96795 = squot64(remnant_96802, slice_96799);\n            remnant_96803 = remnant_96802 - rep_i_96795 * slice_96799;\n            rep_i_96796 = remnant_96803;\n            remnant_96804 = remnant_96803 - rep_i_96796;\n            if (((sle64((int64_t) 0, rep_i_96794) && slt64(rep_i_96794, merge_block_sizze_65328)) && (sle64((int64_t) 0, rep_i_96795) && slt64(rep_i_96795, dim_45874))) && (sle64((int64_t) 0, rep_i_96796) && slt64(rep_i_96796, num_blocks_69798))) {\n                double tmp_96805 = ((__local double *) color_95777)[rep_i_96795 + rep_i_96796 * dim_45874];\n                \n                ((__local double *) color_95768)[rep_i_96794 * (num_blocks_69798 * dim_45874) + rep_i_96795 * num_blocks_69798 + rep_i_96796] = tmp_96805;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_79221 = sext_i32_i64(local_tid_96702);\n        gtid_79220 = sext_i32_i64(sext_i64_i32(ltid_pre_96730));\n        if (slt64(gtid_79220, num_blocks_69798)) {\n            int64_t defunc_0_f_res_79222;\n            int64_t merge_sequential_arg2_79223;\n            int64_t j_m_i_79224;\n            bool index_certs_79225;\n            int64_t j_m_i_79226;\n            bool index_certs_79227;\n            int64_t data_79231;\n            int64_t i_79236;\n            \n            defunc_0_f",
                                    "_res_79222 = ((__local int64_t *) color_95776)[gtid_79220];\n            merge_sequential_arg2_79223 = ((__local int64_t *) color_95775)[gtid_79220];\n            j_m_i_79224 = ((__local int64_t *) color_95774)[gtid_79220];\n            index_certs_79225 = 0;\n            j_m_i_79226 = ((__local int64_t *) color_95772)[gtid_79220];\n            index_certs_79227 = 0;\n            i_79236 = (int64_t) 0;\n            for (int64_t k_79235 = 0; k_79235 < merge_block_sizze_65328; k_79235++) {\n                int64_t j_79240;\n                bool cond_79241;\n                bool x_95438;\n                bool cond_79243;\n                bool x_79245;\n                bool y_79246;\n                bool bounds_check_79247;\n                bool loop_not_taken_95430;\n                bool protect_assert_disj_95431;\n                bool protect_assert_disj_95441;\n                bool index_certs_79248;\n                int64_t slice_79249;\n                int64_t slice_79250;\n                bool protect_cond_conj_95442;\n                int64_t leq_arg1_79251;\n                bool x_79252;\n                bool bounds_check_79253;\n                bool protect_assert_disj_95435;\n                bool protect_assert_disj_95444;\n                bool index_certs_79254;\n                int64_t slice_79255;\n                int64_t slice_79256;\n                int64_t leq_arg0_79257;\n                bool lifted_lambda_res_79258;\n                bool x_95629;\n                bool cond_79242;\n                bool protect_assert_disj_95190;\n                bool index_certs_79276;\n                bool loop_not_taken_95185;\n                bool protect_assert_disj_95186;\n                bool index_certs_79267;\n                int64_t binop_y_94288;\n                int64_t binop_y_94290;\n                int64_t ext_94292;\n                int64_t loopres_79259;\n                int64_t loopres_79260;\n                int64_t loopres_79262;\n                int64_t i_tmp_96806;\n                \n            ", "    j_79240 = sub64(k_79235, i_79236);\n                cond_79241 = j_79240 == j_m_i_79224;\n                x_95438 = !cond_79241;\n                cond_79243 = slt64(i_79236, j_m_i_79226);\n                x_79245 = sle64((int64_t) 0, j_79240);\n                y_79246 = slt64(j_79240, j_m_i_79224);\n                bounds_check_79247 = x_79245 && y_79246;\n                loop_not_taken_95430 = !cond_79243;\n                protect_assert_disj_95431 = bounds_check_79247 || loop_not_taken_95430;\n                protect_assert_disj_95441 = cond_79241 || protect_assert_disj_95431;\n                if (!protect_assert_disj_95441) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 95) == -1) {\n                            global_failure_args[0] = (int64_t) j_79240;\n                            global_failure_args[1] = (int64_t) j_m_i_79224;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                slice_79249 = merge_sequential_arg2_79223 + j_79240;\n                slice_79250 = start_78953 + slice_79249;\n                protect_cond_conj_95442 = cond_79243 && x_95438;\n                if (protect_cond_conj_95442) {\n                    int64_t x_95432 = ((__global int64_t *) mem_param_93737)[slice_79250];\n                    \n                    leq_arg1_79251 = x_95432;\n                } else {\n                    leq_arg1_79251 = (int64_t) 0;\n                }\n                x_79252 = sle64((int64_t) 0, i_79236);\n                bounds_check_79253 = cond_79243 && x_79252;\n                protect_assert_disj_95435 = bounds_check_79253 || loop_not_taken_95430;\n                protect_assert_disj_95444 = cond_79241 || protect_assert_disj_95435;\n                if (!protect_assert_disj_95444) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 96) == -1) ", "{\n                            global_failure_args[0] = (int64_t) i_79236;\n                            global_failure_args[1] = (int64_t) j_m_i_79226;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                slice_79255 = defunc_0_f_res_79222 + i_79236;\n                slice_79256 = start_78953 + slice_79255;\n                if (protect_cond_conj_95442) {\n                    int64_t x_95436 = ((__global int64_t *) mem_param_93737)[slice_79256];\n                    \n                    leq_arg0_79257 = x_95436;\n                } else {\n                    leq_arg0_79257 = (int64_t) 0;\n                }\n                lifted_lambda_res_79258 = sle64(leq_arg0_79257, leq_arg1_79251);\n                x_95629 = cond_79243 && lifted_lambda_res_79258;\n                cond_79242 = cond_79241 || x_95629;\n                protect_assert_disj_95190 = cond_79242 || bounds_check_79247;\n                if (!protect_assert_disj_95190) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 97) == -1) {\n                            global_failure_args[0] = (int64_t) j_79240;\n                            global_failure_args[1] = (int64_t) j_m_i_79224;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                loop_not_taken_95185 = !cond_79242;\n                protect_assert_disj_95186 = bounds_check_79253 || loop_not_taken_95185;\n                if (!protect_assert_disj_95186) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 98) == -1) {\n                            global_failure_args[0] = (int64_t) i_79236;\n                            global_failure_args[1] = (int64_t) j_m_i_79226;\n                            ;\n                 ",
                                    "       }\n                        local_failure = 1;\n                        goto error_10;\n                    }\n                }\n                binop_y_94288 = dim_45874 * slice_79250;\n                binop_y_94290 = dim_45874 * slice_79256;\n                if (cond_79242) {\n                    ext_94292 = binop_y_94290;\n                } else {\n                    ext_94292 = binop_y_94288;\n                }\n                if (cond_79242) {\n                    int64_t tmp_79263;\n                    int64_t tmp_79270;\n                    int64_t tmp_79272;\n                    \n                    tmp_79263 = add64((int64_t) 1, i_79236);\n                    tmp_79270 = ((__global int64_t *) mem_param_93737)[slice_79256];\n                    tmp_79272 = ((__global int64_t *) mem_param_93744)[slice_79256];\n                    loopres_79259 = tmp_79263;\n                    loopres_79260 = tmp_79270;\n                    loopres_79262 = tmp_79272;\n                } else {\n                    int64_t tmp_79279;\n                    int64_t tmp_79281;\n                    \n                    tmp_79279 = ((__global int64_t *) mem_param_93737)[slice_79250];\n                    tmp_79281 = ((__global int64_t *) mem_param_93744)[slice_79250];\n                    loopres_79259 = i_79236;\n                    loopres_79260 = tmp_79279;\n                    loopres_79262 = tmp_79281;\n                }\n                ((__local int64_t *) color_95770)[gtid_79220 + k_79235 * num_blocks_69798] = loopres_79260;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__local double *) color_95768)[gtid_79220 + k_79235 * lmad_arg_94040 + i_0 * num_blocks_69798] = ((__global double *) mem_param_93741)[ext_94292 + i_0];\n                }\n                ((__local int64_t *) color_95769)[gtid_79220 + k_79235 * num_blocks_69798] = loopres_79262;\n                i_tmp_96806 = loopres_79259;\n                i_79236 = i_tmp_96806;\n            }\n            data_7", "9231 = i_79236;\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n                ((__local int64_t *) color_95767)[gtid_79220 * merge_block_sizze_65328 + i_0] = ((__local int64_t *) color_95770)[gtid_79220 + i_0 * num_blocks_69798];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                    ((__local double *) color_95766)[gtid_79220 * (dim_45874 * merge_block_sizze_65328) + (i_0 * dim_45874 + i_1)] = ((__local double *) color_95768)[gtid_79220 + (i_0 * lmad_arg_94040 + i_1 * num_blocks_69798)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n                ((__local int64_t *) color_95765)[gtid_79220 * merge_block_sizze_65328 + i_0] = ((__local int64_t *) color_95769)[gtid_79220 + i_0 * num_blocks_69798];\n            }\n        }\n        \n      error_10:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        ext_mem_94359 = color_95767;\n        ext_mem_94356 = color_95766;\n        ext_mem_94352 = color_95765;\n    }\n    num_chunks_96810 = sdiv_up32(sext_i64_i32(next_stride_69779), sext_i64_i32(computed_tblock_sizze_78694));\n    for (int32_t chunk_i_96811 = 0; chunk_i_96811 < num_chunks_96810; chunk_i_96811++) {\n        int32_t i_96812 = chunk_i_96811 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n        \n        if (slt32(i_96812, sext_i64_i32(next_stride_69779))) {\n            ((__global int64_t *) mem_94362)[gtid_78950 * next_stride_69779 + sext_i32_i64(i_96812)] = ((__local int64_t *) ext_mem_94359)[sext_i32_i64(i_96812)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_96813 = sdiv_up32(sext_i64_i32(next_stride_69779) * sext_i64_i32(dim_45874), sext_i64_i32(computed_tblock_sizze_78694));\n    for (int32_t chunk_i_96814 = 0; chunk_i_96814 < num_chunks_96813; chunk", "_i_96814++) {\n        int32_t i_96815 = chunk_i_96814 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n        \n        if (slt32(i_96815, sext_i64_i32(next_stride_69779) * sext_i64_i32(dim_45874))) {\n            ((__global double *) mem_94366)[gtid_78950 * (dim_45874 * next_stride_69779) + sext_i32_i64(squot32(i_96815, sext_i64_i32(dim_45874))) * dim_45874 + sext_i32_i64(i_96815 - squot32(i_96815, sext_i64_i32(dim_45874)) * sext_i64_i32(dim_45874))] = ((__local double *) ext_mem_94356)[sext_i32_i64(squot32(i_96815, sext_i64_i32(dim_45874))) * dim_45874 + sext_i32_i64(i_96815 - squot32(i_96815, sext_i64_i32(dim_45874)) * sext_i64_i32(dim_45874))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_96816 = sdiv_up32(sext_i64_i32(next_stride_69779), sext_i64_i32(computed_tblock_sizze_78694));\n    for (int32_t chunk_i_96817 = 0; chunk_i_96817 < num_chunks_96816; chunk_i_96817++) {\n        int32_t i_96818 = chunk_i_96817 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96702;\n        \n        if (slt32(i_96818, sext_i64_i32(next_stride_69779))) {\n            ((__global int64_t *) mem_94369)[gtid_78950 * next_stride_69779 + sext_i32_i64(i_96818)] = ((__local int64_t *) ext_mem_94352)[sext_i32_i64(i_96818)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_11:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_81691(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t merge_block_sizze_65328, int64_t stride_69778, int64_t next_stride_69779, int64_t num_merges_69783, int64_t num_blocks_69798, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, int64_t j_m_i_69800, int64_t computed_tblock_sizze_78694, int64_t bytes_94003, int64_t bytes_94021, int64_t lmad_arg_94040, int64_t maxSubHelper_95779, int64_t maxSubHelper_95780, int64_t maxSubHelper_95781, int64_t maxSubHelper_95782, int64_t maxSubHelper_95783, int32_t num_chunks_96967, i",
                                    "nt32_t num_chunks_96968, __global unsigned char *mem_param_93737, __global unsigned char *mem_param_93741, __global unsigned char *mem_param_93744, __global unsigned char *mem_93746, __global unsigned char *mem_93747, __global unsigned char *mem_94068, __global unsigned char *mem_94072, __global unsigned char *mem_94075)\n{\n    volatile __local unsigned char *color_95795_backing_11 = &shared_mem[0];\n    const int64_t color_95795_backing_11_offset = 0 + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95794_backing_10 = &shared_mem[color_95795_backing_11_offset];\n    const int64_t color_95794_backing_10_offset = color_95795_backing_11_offset + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95793_backing_9 = &shared_mem[color_95794_backing_10_offset];\n    const int64_t color_95793_backing_9_offset = color_95794_backing_10_offset + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95792_backing_8 = &shared_mem[color_95793_backing_9_offset];\n    const int64_t color_95792_backing_8_offset = color_95793_backing_9_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95791_backing_7 = &shared_mem[color_95792_backing_8_offset];\n    const int64_t color_95791_backing_7_offset = color_95792_backing_8_offset + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95790_backing_6 = &shared_mem[color_95791_backing_7_offset];\n    const int64_t color_95790_backing_6_offset = color_95791_backing_7_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95789_backing_5 = &shared_mem[color_95790_backing_6_offset];\n    const int64_t color_95789_backing_5_offset = color_95790_backing_6_offset + (bytes_94021 + srem64((int64_t) 8 - srem64(bytes_94021, (int64_t) 8), (int", "64_t) 8));\n    volatile __local unsigned char *color_95788_backing_4 = &shared_mem[color_95789_backing_5_offset];\n    const int64_t color_95788_backing_4_offset = color_95789_backing_5_offset + (maxSubHelper_95783 + srem64((int64_t) 8 - srem64(maxSubHelper_95783, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95787_backing_3 = &shared_mem[color_95788_backing_4_offset];\n    const int64_t color_95787_backing_3_offset = color_95788_backing_4_offset + (maxSubHelper_95782 + srem64((int64_t) 8 - srem64(maxSubHelper_95782, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95786_backing_2 = &shared_mem[color_95787_backing_3_offset];\n    const int64_t color_95786_backing_2_offset = color_95787_backing_3_offset + (maxSubHelper_95781 + srem64((int64_t) 8 - srem64(maxSubHelper_95781, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95785_backing_1 = &shared_mem[color_95786_backing_2_offset];\n    const int64_t color_95785_backing_1_offset = color_95786_backing_2_offset + (maxSubHelper_95780 + srem64((int64_t) 8 - srem64(maxSubHelper_95780, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95784_backing_0 = &shared_mem[color_95785_backing_1_offset];\n    const int64_t color_95784_backing_0_offset = color_95785_backing_1_offset + (maxSubHelper_95779 + srem64((int64_t) 8 - srem64(maxSubHelper_95779, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_96973;\n    int32_t tblock_sizze_96976;\n    int32_t wave_sizze_96975;\n    int32_t block_id_96974;\n    int32_t global_tid_96972;\n    int64_t phys_tblock_id_81691;\n    int64_t slice_96980;\n    int64_t slice_96981;\n    int64_t slice_96982;\n    int64_t ltid_pre_96977;\n    int64_t remnant_96983;\n    int64_t ltid_pre_96978;\n    int64_t remnant_96984;\n    int64_t ltid_pre_96979;\n    int64_t remnant_96985;\n    int64_t slice_96988;\n    int64_t", " slice_96989;\n    int64_t ltid_pre_96986;\n    int64_t remnant_96990;\n    int64_t ltid_pre_96987;\n    int64_t remnant_96991;\n    int64_t slice_96993;\n    int64_t ltid_pre_96992;\n    int64_t remnant_96994;\n    int64_t slice_96996;\n    int64_t ltid_pre_96995;\n    int64_t remnant_96997;\n    int64_t slice_96998;\n    int64_t gtid_81690;\n    int64_t remnant_96999;\n    __local unsigned char *color_95784;\n    __local unsigned char *color_95785;\n    __local unsigned char *color_95786;\n    __local unsigned char *color_95787;\n    __local unsigned char *color_95788;\n    __local unsigned char *color_95789;\n    __local unsigned char *color_95790;\n    __local unsigned char *color_95791;\n    __local unsigned char *color_95792;\n    __local unsigned char *color_95793;\n    __local unsigned char *color_95794;\n    __local unsigned char *color_95795;\n    int64_t index_primexp_91376;\n    bool index_certs_81693;\n    bool index_certs_81694;\n    int64_t phys_tid_81698;\n    int64_t gtid_81697;\n    int64_t phys_tid_81803;\n    int64_t gtid_81802;\n    int64_t phys_tid_81874;\n    int64_t gtid_81873;\n    int32_t num_chunks_97043;\n    int32_t num_chunks_97046;\n    int32_t num_chunks_97049;\n    \n    local_tid_96973 = get_local_id(0);\n    tblock_sizze_96976 = get_local_size(0);\n    wave_sizze_96975 = LOCKSTEP_WIDTH;\n    block_id_96974 = get_tblock_id(0);\n    global_tid_96972 = block_id_96974 * tblock_sizze_96976 + local_tid_96973;\n    phys_tblock_id_81691 = sext_i32_i64(block_id_96974);\n    slice_96980 = num_blocks_69798;\n    slice_96981 = dim_45874 * slice_96980;\n    slice_96982 = merge_block_sizze_65328 * slice_96981;\n    ltid_pre_96977 = squot64(sext_i32_i64(local_tid_96973), slice_96981);\n    remnant_96983 = sext_i32_i64(local_tid_96973) - ltid_pre_96977 * slice_96981;\n    ltid_pre_96978 = squot64(remnant_96983, slice_96980);\n    remnant_96984 = remnant_96983 - ltid_pre_96978 * slice_96980;\n    ltid_pre_96979 = remnant_96984;\n    remnant_96985 = remnant_96984 - ltid_pre_96979;\n    slice_96988 = nu",
                                    "m_blocks_69798;\n    slice_96989 = merge_block_sizze_65328 * slice_96988;\n    ltid_pre_96986 = squot64(sext_i32_i64(local_tid_96973), slice_96988);\n    remnant_96990 = sext_i32_i64(local_tid_96973) - ltid_pre_96986 * slice_96988;\n    ltid_pre_96987 = remnant_96990;\n    remnant_96991 = remnant_96990 - ltid_pre_96987;\n    slice_96993 = num_blocks_69798;\n    ltid_pre_96992 = sext_i32_i64(local_tid_96973);\n    remnant_96994 = sext_i32_i64(local_tid_96973) - ltid_pre_96992;\n    slice_96996 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n    ltid_pre_96995 = sext_i32_i64(local_tid_96973);\n    remnant_96997 = sext_i32_i64(local_tid_96973) - ltid_pre_96995;\n    slice_96998 = num_merges_69783;\n    gtid_81690 = sext_i32_i64(block_id_96974);\n    remnant_96999 = sext_i32_i64(block_id_96974) - gtid_81690;\n    color_95784 = (__local unsigned char *) color_95784_backing_0;\n    color_95785 = (__local unsigned char *) color_95785_backing_1;\n    color_95786 = (__local unsigned char *) color_95786_backing_2;\n    color_95787 = (__local unsigned char *) color_95787_backing_3;\n    color_95788 = (__local unsigned char *) color_95788_backing_4;\n    color_95789 = (__local unsigned char *) color_95789_backing_5;\n    color_95790 = (__local unsigned char *) color_95790_backing_6;\n    color_95791 = (__local unsigned char *) color_95791_backing_7;\n    color_95792 = (__local unsigned char *) color_95792_backing_8;\n    color_95793 = (__local unsigned char *) color_95793_backing_9;\n    color_95794 = (__local unsigned char *) color_95794_backing_10;\n    color_95795 = (__local unsigned char *) color_95795_backing_11;\n    index_primexp_91376 = mul64(next_stride_69779, gtid_81690);\n    index_certs_81693 = 0;\n    index_certs_81694 = 0;\n    phys_tid_81698 = sext_i32_i64(local_tid_96973);\n    gtid_81697 = sext_i32_i64(sext_i64_i32(ltid_pre_96995));\n    if (slt64(gtid_81697, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799)) {\n        int64_t split_count_arg3_81700;\n        int64_t defunc_0_split_count_res_8170", "1;\n        int64_t defunc_0_split_count_res_81702;\n        int64_t defunc_0_split_count_res_81703;\n        int64_t defunc_0_split_count_res_81704;\n        int64_t defunc_0_split_count_res_81705;\n        bool loop_cond_81706;\n        bool defunc_0_split_count_res_81707;\n        int64_t defunc_0_split_count_res_81708;\n        int64_t defunc_0_split_count_res_81709;\n        int64_t defunc_0_split_count_res_81710;\n        int64_t defunc_0_split_count_res_81711;\n        int64_t defunc_0_split_count_res_81712;\n        bool loop_while_81713;\n        int64_t ss_81714;\n        int64_t ss_81715;\n        int64_t tt_81716;\n        int64_t tt_81717;\n        int64_t count_81718;\n        \n        split_count_arg3_81700 = mul64(merge_block_sizze_65328, gtid_81697);\n        futrts_lifted_normalizze_10121(&defunc_0_split_count_res_81701, &defunc_0_split_count_res_81702, &defunc_0_split_count_res_81703, &defunc_0_split_count_res_81704, &defunc_0_split_count_res_81705, (int64_t) 0, stride_69778, (int64_t) 0, j_m_i_69800, split_count_arg3_81700);\n        loop_cond_81706 = slt64((int64_t) 0, defunc_0_split_count_res_81705);\n        loop_while_81713 = loop_cond_81706;\n        ss_81714 = defunc_0_split_count_res_81701;\n        ss_81715 = defunc_0_split_count_res_81702;\n        tt_81716 = defunc_0_split_count_res_81703;\n        tt_81717 = defunc_0_split_count_res_81704;\n        count_81718 = defunc_0_split_count_res_81705;\n        while (loop_while_81713) {\n            int64_t zlze_lhs_81719;\n            bool cond_81720;\n            int64_t defunc_0_lifted_step_res_81721;\n            int64_t defunc_0_lifted_step_res_81722;\n            int64_t defunc_0_lifted_step_res_81723;\n            int64_t defunc_0_lifted_step_res_81724;\n            int64_t loopres_81787;\n            int64_t loopres_81788;\n            int64_t loopres_81789;\n            int64_t loopres_81790;\n            int64_t loopres_81791;\n            bool loop_cond_81792;\n            bool loop_while_tmp_97000;\n            int64_t ss", "_tmp_97001;\n            int64_t ss_tmp_97002;\n            int64_t tt_tmp_97003;\n            int64_t tt_tmp_97004;\n            int64_t count_tmp_97005;\n            \n            zlze_lhs_81719 = sub64(ss_81715, ss_81714);\n            cond_81720 = sle64(zlze_lhs_81719, (int64_t) 0);\n            if (cond_81720) {\n                int64_t tmp_81725 = add64(tt_81716, count_81718);\n                \n                defunc_0_lifted_step_res_81721 = ss_81714;\n                defunc_0_lifted_step_res_81722 = tmp_81725;\n                defunc_0_lifted_step_res_81723 = tt_81717;\n                defunc_0_lifted_step_res_81724 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_81726;\n                bool cond_81727;\n                int64_t defunc_0_lifted_step_res_f_res_81728;\n                int64_t defunc_0_lifted_step_res_f_res_81729;\n                int64_t defunc_0_lifted_step_res_f_res_81730;\n                int64_t defunc_0_lifted_step_res_f_res_81731;\n                \n                zlze_lhs_81726 = sub64(tt_81717, tt_81716);\n                cond_81727 = sle64(zlze_lhs_81726, (int64_t) 0);\n                if (cond_81727) {\n                    int64_t tmp_81732 = add64(ss_81714, count_81718);\n                    \n                    defunc_0_lifted_step_res_f_res_81728 = tmp_81732;\n                    defunc_0_lifted_step_res_f_res_81729 = tt_81716;\n                    defunc_0_lifted_step_res_f_res_81730 = tt_81717;\n                    defunc_0_lifted_step_res_f_res_81731 = (int64_t) 0;\n                } else {\n                    bool cond_81733;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81734;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81735;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81736;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_81737;\n                    \n                    cond_81733 = count_81718 == (int64_t) 1;\n                    if (cond_81733) {\n       ",
                                    "                 bool x_81738;\n                        bool y_81739;\n                        bool bounds_check_81740;\n                        bool index_certs_81741;\n                        bool x_81744;\n                        bool y_81745;\n                        bool bounds_check_81746;\n                        bool index_certs_81747;\n                        int64_t slice_81742;\n                        int64_t leq_arg1_81743;\n                        int64_t slice_81748;\n                        int64_t slice_81749;\n                        int64_t leq_arg0_81750;\n                        bool lifted_lambda_res_81751;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_81752;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_81753;\n                        \n                        x_81738 = sle64((int64_t) 0, ss_81714);\n                        y_81739 = slt64(ss_81714, stride_69778);\n                        bounds_check_81740 = x_81738 && y_81739;\n                        if (!bounds_check_81740) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 105) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_81714;\n                                    global_failure_args[1] = (int64_t) stride_69778;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        x_81744 = sle64((int64_t) 0, tt_81716);\n                        y_81745 = slt64(tt_81716, j_m_i_69800);\n                        bounds_check_81746 = x_81744 && y_81745;\n                        if (!bounds_check_81746) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 106) == -1) {\n                                    global_failure_args", "[0] = (int64_t) tt_81716;\n                                    global_failure_args[1] = (int64_t) j_m_i_69800;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        slice_81742 = ss_81714 + index_primexp_91376;\n                        leq_arg1_81743 = ((__global int64_t *) mem_param_93737)[slice_81742];\n                        slice_81748 = stride_69778 + tt_81716;\n                        slice_81749 = slice_81748 + index_primexp_91376;\n                        leq_arg0_81750 = ((__global int64_t *) mem_param_93737)[slice_81749];\n                        lifted_lambda_res_81751 = sle64(leq_arg0_81750, leq_arg1_81743);\n                        if (lifted_lambda_res_81751) {\n                            int64_t tmp_81754 = add64((int64_t) 1, tt_81716);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81752 = ss_81714;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81753 = tmp_81754;\n                        } else {\n                            int64_t tmp_81755 = add64((int64_t) 1, ss_81714);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81752 = tmp_81755;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_81753 = tt_81716;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_81734 = defunc_0_lifted_step_res_f_res_f_res_t_res_81752;\n                        defunc_0_lifted_step_res_f_res_f_res_81735 = defunc_0_lifted_step_res_f_res_f_res_t_res_81753;\n                        defunc_0_lifted_step_res_f_res_f_res_81736 = tt_81717;\n                        defunc_0_lifted_step_res_f_res_f_res_81737 = (int64_t) 0;\n                    } else {\n                        int64_t m_81756;\n                        int", "64_t n_81757;\n                        bool cond_81758;\n                        int64_t zgze_lhs_81759;\n                        bool cond_f_res_81760;\n                        bool x_81761;\n                        bool y_81762;\n                        bool cond_81763;\n                        bool leq_y_x_81764;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81781;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81782;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_81783;\n                        \n                        m_81756 = sdiv64(count_81718, (int64_t) 2);\n                        n_81757 = sub64(count_81718, m_81756);\n                        cond_81758 = n_81757 == (int64_t) 0;\n                        zgze_lhs_81759 = add64(ss_81714, m_81756);\n                        cond_f_res_81760 = sle64(ss_81715, zgze_lhs_81759);\n                        x_81761 = !cond_81758;\n                        y_81762 = cond_f_res_81760 && x_81761;\n                        cond_81763 = cond_81758 || y_81762;\n                        if (cond_81763) {\n                            leq_y_x_81764 = 1;\n                        } else {\n                            bool x_81765;\n                            bool y_81766;\n                            bool bounds_check_81767;\n                            bool index_certs_81768;\n                            int64_t zm_lhs_81771;\n                            int64_t leq_arg0_81772;\n                            bool x_81773;\n                            bool y_81774;\n                            bool bounds_check_81775;\n                            bool index_certs_81776;\n                            int64_t slice_81769;\n                            int64_t leq_arg1_81770;\n                            int64_t slice_81777;\n                            int64_t slice_81778;\n                            int64_t leq_arg0_81779;\n                            bool lifted_lambda_res_81780;\n  ",
                                    "                          \n                            x_81765 = sle64((int64_t) 0, zgze_lhs_81759);\n                            y_81766 = slt64(zgze_lhs_81759, stride_69778);\n                            bounds_check_81767 = x_81765 && y_81766;\n                            if (!bounds_check_81767) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 107) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_81759;\n                                        global_failure_args[1] = (int64_t) stride_69778;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            zm_lhs_81771 = add64(tt_81716, n_81757);\n                            leq_arg0_81772 = sub64(zm_lhs_81771, (int64_t) 1);\n                            x_81773 = sle64((int64_t) 0, leq_arg0_81772);\n                            y_81774 = slt64(leq_arg0_81772, j_m_i_69800);\n                            bounds_check_81775 = x_81773 && y_81774;\n                            if (!bounds_check_81775) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 108) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_81772;\n                                        global_failure_args[1] = (int64_t) j_m_i_69800;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            slice_81769 = zgze_lhs_81759 + index_primexp_91376;\n                            leq_arg1_81770 = ((__global int64_t *) mem_para", "m_93737)[slice_81769];\n                            slice_81777 = stride_69778 + leq_arg0_81772;\n                            slice_81778 = slice_81777 + index_primexp_91376;\n                            leq_arg0_81779 = ((__global int64_t *) mem_param_93737)[slice_81778];\n                            lifted_lambda_res_81780 = sle64(leq_arg0_81779, leq_arg1_81770);\n                            leq_y_x_81764 = lifted_lambda_res_81780;\n                        }\n                        if (leq_y_x_81764) {\n                            int64_t tmp_81784;\n                            int64_t tmp_81785;\n                            \n                            tmp_81784 = add64(tt_81716, n_81757);\n                            tmp_81785 = sub64(count_81718, n_81757);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81781 = tmp_81784;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81782 = tt_81717;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81783 = tmp_81785;\n                        } else {\n                            int64_t tmp_81786 = add64(tt_81716, n_81757);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81781 = tt_81716;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81782 = tmp_81786;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_81783 = count_81718;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_81734 = ss_81714;\n                        defunc_0_lifted_step_res_f_res_f_res_81735 = defunc_0_lifted_step_res_f_res_f_res_f_res_81781;\n                        defunc_0_lifted_step_res_f_res_f_res_81736 = defunc_0_lifted_step_res_f_res_f_res_f_res_81782;\n                        defunc_0_lifted_step_res_f_res_f_res_81737 = defunc_0_lifted_step_res_f_res_f_res_f_res_81783;\n                    }\n                    defunc_0_lifted_step_res_f_res_81728 = defunc_0_lifted_ste", "p_res_f_res_f_res_81734;\n                    defunc_0_lifted_step_res_f_res_81729 = defunc_0_lifted_step_res_f_res_f_res_81735;\n                    defunc_0_lifted_step_res_f_res_81730 = defunc_0_lifted_step_res_f_res_f_res_81736;\n                    defunc_0_lifted_step_res_f_res_81731 = defunc_0_lifted_step_res_f_res_f_res_81737;\n                }\n                defunc_0_lifted_step_res_81721 = defunc_0_lifted_step_res_f_res_81728;\n                defunc_0_lifted_step_res_81722 = defunc_0_lifted_step_res_f_res_81729;\n                defunc_0_lifted_step_res_81723 = defunc_0_lifted_step_res_f_res_81730;\n                defunc_0_lifted_step_res_81724 = defunc_0_lifted_step_res_f_res_81731;\n            }\n            futrts_lifted_normalizze_10121(&loopres_81787, &loopres_81788, &loopres_81789, &loopres_81790, &loopres_81791, defunc_0_lifted_step_res_81721, ss_81715, defunc_0_lifted_step_res_81722, defunc_0_lifted_step_res_81723, defunc_0_lifted_step_res_81724);\n            loop_cond_81792 = slt64((int64_t) 0, loopres_81791);\n            loop_while_tmp_97000 = loop_cond_81792;\n            ss_tmp_97001 = loopres_81787;\n            ss_tmp_97002 = loopres_81788;\n            tt_tmp_97003 = loopres_81789;\n            tt_tmp_97004 = loopres_81790;\n            count_tmp_97005 = loopres_81791;\n            loop_while_81713 = loop_while_tmp_97000;\n            ss_81714 = ss_tmp_97001;\n            ss_81715 = ss_tmp_97002;\n            tt_81716 = tt_tmp_97003;\n            tt_81717 = tt_tmp_97004;\n            count_81718 = count_tmp_97005;\n        }\n        defunc_0_split_count_res_81707 = loop_while_81713;\n        defunc_0_split_count_res_81708 = ss_81714;\n        defunc_0_split_count_res_81709 = ss_81715;\n        defunc_0_split_count_res_81710 = tt_81716;\n        defunc_0_split_count_res_81711 = tt_81717;\n        defunc_0_split_count_res_81712 = count_81718;\n        ((__local int64_t *) color_95788)[gtid_81697] = defunc_0_split_count_res_81708;\n        ((__local int64_t *) color_",
                                    "95787)[gtid_81697] = defunc_0_split_count_res_81710;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_81803 = sext_i32_i64(local_tid_96973);\n    gtid_81802 = sext_i32_i64(sext_i64_i32(ltid_pre_96992));\n    if (slt64(gtid_81802, num_blocks_69798)) {\n        bool y_81806;\n        bool index_certs_81808;\n        int64_t defunc_0_f_res_81809;\n        int64_t defunc_0_f_res_81810;\n        int64_t tmp_81811;\n        bool x_81812;\n        bool y_81813;\n        bool bounds_check_81814;\n        bool index_certs_81815;\n        int64_t defunc_0_f_res_81816;\n        int64_t defunc_0_f_res_81817;\n        int64_t merge_sequential_arg2_81818;\n        int64_t merge_sequential_arg2_81819;\n        int64_t j_m_i_81820;\n        bool empty_slice_81821;\n        int64_t m_81822;\n        int64_t i_p_m_t_s_81823;\n        bool zzero_leq_i_p_m_t_s_81824;\n        bool i_p_m_t_s_leq_w_81825;\n        bool zzero_lte_i_81826;\n        bool i_lte_j_81827;\n        bool y_81828;\n        bool y_81829;\n        bool forwards_ok_81830;\n        bool ok_or_empty_81831;\n        bool index_certs_81832;\n        int64_t j_m_i_81833;\n        bool empty_slice_81834;\n        int64_t m_81835;\n        int64_t i_p_m_t_s_81836;\n        bool zzero_leq_i_p_m_t_s_81837;\n        bool i_p_m_t_s_leq_w_81838;\n        bool zzero_lte_i_81839;\n        bool i_lte_j_81840;\n        bool y_81841;\n        bool y_81842;\n        bool forwards_ok_81843;\n        bool ok_or_empty_81844;\n        bool index_certs_81845;\n        bool cond_81846;\n        bool y_81855;\n        bool protect_assert_disj_95241;\n        bool index_certs_81856;\n        int64_t slice_81857;\n        int64_t binop_y_93998;\n        int64_t slice_81851;\n        int64_t binop_y_94000;\n        int64_t ext_94002;\n        int64_t dummy_81847;\n        int64_t dummy_81849;\n        \n        y_81806 = slt64(gtid_81802, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799);\n        if (!y_81806", ") {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 109) == -1) {\n                    global_failure_args[0] = (int64_t) gtid_81802;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_81809 = ((__local int64_t *) color_95788)[gtid_81802];\n        defunc_0_f_res_81810 = ((__local int64_t *) color_95787)[gtid_81802];\n        tmp_81811 = add64((int64_t) 1, gtid_81802);\n        x_81812 = sle64((int64_t) 0, tmp_81811);\n        y_81813 = slt64(tmp_81811, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799);\n        bounds_check_81814 = x_81812 && y_81813;\n        if (!bounds_check_81814) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 110) == -1) {\n                    global_failure_args[0] = (int64_t) tmp_81811;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_81816 = ((__local int64_t *) color_95788)[tmp_81811];\n        defunc_0_f_res_81817 = ((__local int64_t *) color_95787)[tmp_81811];\n        merge_sequential_arg2_81818 = add64(stride_69778, defunc_0_f_res_81810);\n        merge_sequential_arg2_81819 = add64(stride_69778, defunc_0_f_res_81817);\n        j_m_i_81820 = sub64(merge_sequential_arg2_81819, merge_sequential_arg2_81818);\n        empty_slice_81821 = j_m_i_81820 == (int64_t) 0;\n        m_81822 = sub64(j_m_i_81820, (int64_t) 1);\n        i_p_m_t_s_81823 = add64(merge_sequential_arg2_81818, m_81822);\n        zzero_leq_i_p_m_t_s_81824 = sle64((int64_t) 0, i_p_m_t_s_81823);\n        i_p_m_t_s_leq_w_81825 = slt64(i_p_m_t_s_81823, next_stride_69779);\n        zzero_lte_i_81826 = sle64((int64_t) 0, merge_sequential", "_arg2_81818);\n        i_lte_j_81827 = sle64(merge_sequential_arg2_81818, merge_sequential_arg2_81819);\n        y_81828 = i_p_m_t_s_leq_w_81825 && zzero_lte_i_81826;\n        y_81829 = zzero_leq_i_p_m_t_s_81824 && y_81828;\n        forwards_ok_81830 = i_lte_j_81827 && y_81829;\n        ok_or_empty_81831 = empty_slice_81821 || forwards_ok_81830;\n        if (!ok_or_empty_81831) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 111) == -1) {\n                    global_failure_args[0] = (int64_t) merge_sequential_arg2_81818;\n                    global_failure_args[1] = (int64_t) merge_sequential_arg2_81819;\n                    global_failure_args[2] = (int64_t) next_stride_69779;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        j_m_i_81833 = sub64(defunc_0_f_res_81816, defunc_0_f_res_81809);\n        empty_slice_81834 = j_m_i_81833 == (int64_t) 0;\n        m_81835 = sub64(j_m_i_81833, (int64_t) 1);\n        i_p_m_t_s_81836 = add64(defunc_0_f_res_81809, m_81835);\n        zzero_leq_i_p_m_t_s_81837 = sle64((int64_t) 0, i_p_m_t_s_81836);\n        i_p_m_t_s_leq_w_81838 = slt64(i_p_m_t_s_81836, next_stride_69779);\n        zzero_lte_i_81839 = sle64((int64_t) 0, defunc_0_f_res_81809);\n        i_lte_j_81840 = sle64(defunc_0_f_res_81809, defunc_0_f_res_81816);\n        y_81841 = i_p_m_t_s_leq_w_81838 && zzero_lte_i_81839;\n        y_81842 = zzero_leq_i_p_m_t_s_81837 && y_81841;\n        forwards_ok_81843 = i_lte_j_81840 && y_81842;\n        ok_or_empty_81844 = empty_slice_81834 || forwards_ok_81843;\n        if (!ok_or_empty_81844) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 112) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_f_res_81809;\n                    global_failure_args[1] = (int64_t) defunc_0_f_res_81816;\n                    global_failure_args[2] = (int64_t) next_stride_69779;\n                    ;\n   ",
                                    "             }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        cond_81846 = slt64((int64_t) 0, j_m_i_81833);\n        y_81855 = slt64((int64_t) 0, j_m_i_81820);\n        protect_assert_disj_95241 = cond_81846 || y_81855;\n        if (!protect_assert_disj_95241) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 113) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) j_m_i_81820;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        slice_81857 = merge_sequential_arg2_81818 + index_primexp_91376;\n        binop_y_93998 = dim_45874 * slice_81857;\n        slice_81851 = defunc_0_f_res_81809 + index_primexp_91376;\n        binop_y_94000 = dim_45874 * slice_81851;\n        if (cond_81846) {\n            ext_94002 = binop_y_94000;\n        } else {\n            ext_94002 = binop_y_93998;\n        }\n        if (cond_81846) {\n            int64_t head_res_81852;\n            int64_t head_res_81854;\n            \n            head_res_81852 = ((__global int64_t *) mem_param_93737)[slice_81851];\n            head_res_81854 = ((__global int64_t *) mem_param_93744)[slice_81851];\n            dummy_81847 = head_res_81852;\n            dummy_81849 = head_res_81854;\n        } else {\n            int64_t head_res_81858;\n            int64_t head_res_81860;\n            \n            head_res_81858 = ((__global int64_t *) mem_param_93737)[slice_81857];\n            head_res_81860 = ((__global int64_t *) mem_param_93744)[slice_81857];\n            dummy_81847 = head_res_81858;\n            dummy_81849 = head_res_81860;\n        }\n        ((__local int64_t *) color_95786)[gtid_81802] = dummy_81847;\n        ((__local int64_t *) color_95785)[gtid_81802] = dummy_81849;\n        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n            ((__local double *) color_95784)[gtid_", "81802 * dim_45874 + i_0] = ((__global double *) mem_param_93741)[ext_94002 + i_0];\n        }\n        ((__local int64_t *) color_95795)[gtid_81802] = defunc_0_f_res_81809;\n        ((__local int64_t *) color_95794)[gtid_81802] = merge_sequential_arg2_81818;\n        ((__local int64_t *) color_95793)[gtid_81802] = j_m_i_81820;\n        ((__local int64_t *) color_95791)[gtid_81802] = j_m_i_81833;\n    }\n    \n  error_1:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_97009 = 0; chunk_i_97009 < num_chunks_96968; chunk_i_97009++) {\n        int32_t i_97010;\n        int64_t slice_97011;\n        int64_t slice_97012;\n        int64_t rep_i_97007;\n        int64_t remnant_97013;\n        int64_t rep_i_97008;\n        int64_t remnant_97014;\n        \n        i_97010 = chunk_i_97009 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96973;\n        slice_97011 = num_blocks_69798;\n        slice_97012 = merge_block_sizze_65328 * slice_97011;\n        rep_i_97007 = squot64(sext_i32_i64(i_97010), slice_97011);\n        remnant_97013 = sext_i32_i64(i_97010) - rep_i_97007 * slice_97011;\n        rep_i_97008 = remnant_97013;\n        remnant_97014 = remnant_97013 - rep_i_97008;\n        if ((sle64((int64_t) 0, rep_i_97007) && slt64(rep_i_97007, merge_block_sizze_65328)) && (sle64((int64_t) 0, rep_i_97008) && slt64(rep_i_97008, num_blocks_69798))) {\n            int64_t tmp_97015 = ((__local int64_t *) color_95786)[rep_i_97008];\n            \n            ((__local int64_t *) color_95789)[rep_i_97007 * num_blocks_69798 + rep_i_97008] = tmp_97015;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_97019 = 0; chunk_i_97019 < num_chunks_96968; chunk_i_97019++) {\n        int32_t i_97020;\n        int64_t slice_97021;\n        int64_t slice_97022;\n        int64_t rep_i_97017;\n        int64_t remnant_97023;\n        int64_t rep_i_97018;\n        int64_t remnant_97024;\n        \n        i_97020 = chunk_i_", "97019 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96973;\n        slice_97021 = num_blocks_69798;\n        slice_97022 = merge_block_sizze_65328 * slice_97021;\n        rep_i_97017 = squot64(sext_i32_i64(i_97020), slice_97021);\n        remnant_97023 = sext_i32_i64(i_97020) - rep_i_97017 * slice_97021;\n        rep_i_97018 = remnant_97023;\n        remnant_97024 = remnant_97023 - rep_i_97018;\n        if ((sle64((int64_t) 0, rep_i_97017) && slt64(rep_i_97017, merge_block_sizze_65328)) && (sle64((int64_t) 0, rep_i_97018) && slt64(rep_i_97018, num_blocks_69798))) {\n            int64_t tmp_97025 = ((__local int64_t *) color_95785)[rep_i_97018];\n            \n            ((__local int64_t *) color_95788)[rep_i_97017 * num_blocks_69798 + rep_i_97018] = tmp_97025;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_97030 = 0; chunk_i_97030 < num_chunks_96967; chunk_i_97030++) {\n        int32_t i_97031;\n        int64_t slice_97032;\n        int64_t slice_97033;\n        int64_t slice_97034;\n        int64_t rep_i_97027;\n        int64_t remnant_97035;\n        int64_t rep_i_97028;\n        int64_t remnant_97036;\n        int64_t rep_i_97029;\n        int64_t remnant_97037;\n        \n        i_97031 = chunk_i_97030 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96973;\n        slice_97032 = num_blocks_69798;\n        slice_97033 = dim_45874 * slice_97032;\n        slice_97034 = merge_block_sizze_65328 * slice_97033;\n        rep_i_97027 = squot64(sext_i32_i64(i_97031), slice_97033);\n        remnant_97035 = sext_i32_i64(i_97031) - rep_i_97027 * slice_97033;\n        rep_i_97028 = squot64(remnant_97035, slice_97032);\n        remnant_97036 = remnant_97035 - rep_i_97028 * slice_97032;\n        rep_i_97029 = remnant_97036;\n        remnant_97037 = remnant_97036 - rep_i_97029;\n        if (((sle64((int64_t) 0, rep_i_97027) && slt64(rep_i_97027, merge_block_sizze_65328)) && (sle64((int64_t) 0, rep_i_97028) && slt64(rep_i_97028, dim_45874))) && (sle64((int64_t) 0",
                                    ", rep_i_97029) && slt64(rep_i_97029, num_blocks_69798))) {\n            double tmp_97038 = ((__local double *) color_95784)[rep_i_97028 + rep_i_97029 * dim_45874];\n            \n            ((__local double *) color_95787)[rep_i_97027 * (num_blocks_69798 * dim_45874) + rep_i_97028 * num_blocks_69798 + rep_i_97029] = tmp_97038;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_81874 = sext_i32_i64(local_tid_96973);\n    gtid_81873 = sext_i32_i64(sext_i64_i32(ltid_pre_96992));\n    if (slt64(gtid_81873, num_blocks_69798)) {\n        int64_t defunc_0_f_res_81875;\n        int64_t merge_sequential_arg2_81876;\n        int64_t j_m_i_81877;\n        bool index_certs_81878;\n        int64_t j_m_i_81879;\n        bool index_certs_81880;\n        int64_t data_81884;\n        int64_t i_81889;\n        \n        defunc_0_f_res_81875 = ((__local int64_t *) color_95795)[gtid_81873];\n        merge_sequential_arg2_81876 = ((__local int64_t *) color_95794)[gtid_81873];\n        j_m_i_81877 = ((__local int64_t *) color_95793)[gtid_81873];\n        index_certs_81878 = 0;\n        j_m_i_81879 = ((__local int64_t *) color_95791)[gtid_81873];\n        index_certs_81880 = 0;\n        i_81889 = (int64_t) 0;\n        for (int64_t k_81888 = 0; k_81888 < merge_block_sizze_65328; k_81888++) {\n            int64_t j_81893;\n            bool cond_81894;\n            bool x_95474;\n            bool cond_81896;\n            bool x_81898;\n            bool y_81899;\n            bool bounds_check_81900;\n            bool loop_not_taken_95466;\n            bool protect_assert_disj_95467;\n            bool protect_assert_disj_95477;\n            bool index_certs_81901;\n            int64_t slice_81902;\n            int64_t slice_81903;\n            bool protect_cond_conj_95478;\n            int64_t leq_arg1_81904;\n            bool x_81905;\n            bool bounds_check_81906;\n            bool protect_assert_disj_95471;\n            bool protect_assert_disj_95480;\n            bool index_certs_81907;\n            int64_t slic", "e_81908;\n            int64_t slice_81909;\n            int64_t leq_arg0_81910;\n            bool lifted_lambda_res_81911;\n            bool x_95635;\n            bool cond_81895;\n            bool protect_assert_disj_95233;\n            bool index_certs_81929;\n            bool loop_not_taken_95228;\n            bool protect_assert_disj_95229;\n            bool index_certs_81920;\n            int64_t binop_y_94041;\n            int64_t binop_y_94043;\n            int64_t ext_94045;\n            int64_t loopres_81912;\n            int64_t loopres_81913;\n            int64_t loopres_81915;\n            int64_t i_tmp_97039;\n            \n            j_81893 = sub64(k_81888, i_81889);\n            cond_81894 = j_81893 == j_m_i_81877;\n            x_95474 = !cond_81894;\n            cond_81896 = slt64(i_81889, j_m_i_81879);\n            x_81898 = sle64((int64_t) 0, j_81893);\n            y_81899 = slt64(j_81893, j_m_i_81877);\n            bounds_check_81900 = x_81898 && y_81899;\n            loop_not_taken_95466 = !cond_81896;\n            protect_assert_disj_95467 = bounds_check_81900 || loop_not_taken_95466;\n            protect_assert_disj_95477 = cond_81894 || protect_assert_disj_95467;\n            if (!protect_assert_disj_95477) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 114) == -1) {\n                        global_failure_args[0] = (int64_t) j_81893;\n                        global_failure_args[1] = (int64_t) j_m_i_81877;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_81902 = merge_sequential_arg2_81876 + j_81893;\n            slice_81903 = slice_81902 + index_primexp_91376;\n            protect_cond_conj_95478 = cond_81896 && x_95474;\n            if (protect_cond_conj_95478) {\n                int64_t x_95468 = ((__global int64_t *) mem_param_93737)[slice_81903];\n                \n                leq_arg1_81904 = x_95468;\n    ", "        } else {\n                leq_arg1_81904 = (int64_t) 0;\n            }\n            x_81905 = sle64((int64_t) 0, i_81889);\n            bounds_check_81906 = cond_81896 && x_81905;\n            protect_assert_disj_95471 = bounds_check_81906 || loop_not_taken_95466;\n            protect_assert_disj_95480 = cond_81894 || protect_assert_disj_95471;\n            if (!protect_assert_disj_95480) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 115) == -1) {\n                        global_failure_args[0] = (int64_t) i_81889;\n                        global_failure_args[1] = (int64_t) j_m_i_81879;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_81908 = defunc_0_f_res_81875 + i_81889;\n            slice_81909 = slice_81908 + index_primexp_91376;\n            if (protect_cond_conj_95478) {\n                int64_t x_95472 = ((__global int64_t *) mem_param_93737)[slice_81909];\n                \n                leq_arg0_81910 = x_95472;\n            } else {\n                leq_arg0_81910 = (int64_t) 0;\n            }\n            lifted_lambda_res_81911 = sle64(leq_arg0_81910, leq_arg1_81904);\n            x_95635 = cond_81896 && lifted_lambda_res_81911;\n            cond_81895 = cond_81894 || x_95635;\n            protect_assert_disj_95233 = cond_81895 || bounds_check_81900;\n            if (!protect_assert_disj_95233) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 116) == -1) {\n                        global_failure_args[0] = (int64_t) j_81893;\n                        global_failure_args[1] = (int64_t) j_m_i_81877;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            loop_not_taken_95228 = !cond_81895;\n            protect_assert_disj_95229 = bounds_check_81906 || loop_not_t",
                                    "aken_95228;\n            if (!protect_assert_disj_95229) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 117) == -1) {\n                        global_failure_args[0] = (int64_t) i_81889;\n                        global_failure_args[1] = (int64_t) j_m_i_81879;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            binop_y_94041 = dim_45874 * slice_81903;\n            binop_y_94043 = dim_45874 * slice_81909;\n            if (cond_81895) {\n                ext_94045 = binop_y_94043;\n            } else {\n                ext_94045 = binop_y_94041;\n            }\n            if (cond_81895) {\n                int64_t tmp_81916;\n                int64_t tmp_81923;\n                int64_t tmp_81925;\n                \n                tmp_81916 = add64((int64_t) 1, i_81889);\n                tmp_81923 = ((__global int64_t *) mem_param_93737)[slice_81909];\n                tmp_81925 = ((__global int64_t *) mem_param_93744)[slice_81909];\n                loopres_81912 = tmp_81916;\n                loopres_81913 = tmp_81923;\n                loopres_81915 = tmp_81925;\n            } else {\n                int64_t tmp_81932;\n                int64_t tmp_81934;\n                \n                tmp_81932 = ((__global int64_t *) mem_param_93737)[slice_81903];\n                tmp_81934 = ((__global int64_t *) mem_param_93744)[slice_81903];\n                loopres_81912 = i_81889;\n                loopres_81913 = tmp_81932;\n                loopres_81915 = tmp_81934;\n            }\n            ((__local int64_t *) color_95789)[gtid_81873 + k_81888 * num_blocks_69798] = loopres_81913;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__local double *) color_95787)[gtid_81873 + k_81888 * lmad_arg_94040 + i_0 * num_blocks_69798] = ((__global double *) mem_param_93741)[ext_94045 + i_0];\n            }\n            ((__local int64_t ", "*) color_95788)[gtid_81873 + k_81888 * num_blocks_69798] = loopres_81915;\n            i_tmp_97039 = loopres_81912;\n            i_81889 = i_tmp_97039;\n        }\n        data_81884 = i_81889;\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n            ((__local int64_t *) color_95786)[gtid_81873 * merge_block_sizze_65328 + i_0] = ((__local int64_t *) color_95789)[gtid_81873 + i_0 * num_blocks_69798];\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n            for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                ((__local double *) color_95785)[gtid_81873 * (dim_45874 * merge_block_sizze_65328) + (i_0 * dim_45874 + i_1)] = ((__local double *) color_95787)[gtid_81873 + (i_0 * lmad_arg_94040 + i_1 * num_blocks_69798)];\n            }\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_65328; i_0++) {\n            ((__local int64_t *) color_95784)[gtid_81873 * merge_block_sizze_65328 + i_0] = ((__local int64_t *) color_95788)[gtid_81873 + i_0 * num_blocks_69798];\n        }\n    }\n    \n  error_2:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97043 = sdiv_up32(sext_i64_i32(next_stride_69779), sext_i64_i32(computed_tblock_sizze_78694));\n    for (int32_t chunk_i_97044 = 0; chunk_i_97044 < num_chunks_97043; chunk_i_97044++) {\n        int32_t i_97045 = chunk_i_97044 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96973;\n        \n        if (slt32(i_97045, sext_i64_i32(next_stride_69779))) {\n            ((__global int64_t *) mem_94068)[gtid_81690 * next_stride_69779 + sext_i32_i64(i_97045)] = ((__local int64_t *) color_95786)[sext_i32_i64(i_97045)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97046 = sdiv_up32(sext_i64_i32(next_stride_69779) * sext_i64_i32(dim_45874), sext_i64_i32(computed_tblock_sizze_78694));\n    for (int32_t chunk_i_97047 = 0; chunk_i_97047 < num_chunks_97046; chunk_i_97047++) {\n    ", "    int32_t i_97048 = chunk_i_97047 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96973;\n        \n        if (slt32(i_97048, sext_i64_i32(next_stride_69779) * sext_i64_i32(dim_45874))) {\n            ((__global double *) mem_94072)[gtid_81690 * (dim_45874 * next_stride_69779) + sext_i32_i64(squot32(i_97048, sext_i64_i32(dim_45874))) * dim_45874 + sext_i32_i64(i_97048 - squot32(i_97048, sext_i64_i32(dim_45874)) * sext_i64_i32(dim_45874))] = ((__local double *) color_95785)[sext_i32_i64(squot32(i_97048, sext_i64_i32(dim_45874))) * dim_45874 + sext_i32_i64(i_97048 - squot32(i_97048, sext_i64_i32(dim_45874)) * sext_i64_i32(dim_45874))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97049 = sdiv_up32(sext_i64_i32(next_stride_69779), sext_i64_i32(computed_tblock_sizze_78694));\n    for (int32_t chunk_i_97050 = 0; chunk_i_97050 < num_chunks_97049; chunk_i_97050++) {\n        int32_t i_97051 = chunk_i_97050 * sext_i64_i32(computed_tblock_sizze_78694) + local_tid_96973;\n        \n        if (slt32(i_97051, sext_i64_i32(next_stride_69779))) {\n            ((__global int64_t *) mem_94075)[gtid_81690 * next_stride_69779 + sext_i32_i64(i_97051)] = ((__local int64_t *) color_95784)[sext_i32_i64(i_97051)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_3:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_83552(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, unsigned char cond_65095_bits, int64_t binop_x_91660, int64_t maxSubHelper_95796, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xs_mem_91599, __global unsigned char *mem_91633, __global unsigned char *mem_91880)\n{\n    bool cond_65095 = cond_65095_bits;\n    volatile __local unsigned char *color_95801_backing_4 ",
                                    "= &shared_mem[0];\n    const int64_t color_95801_backing_4_offset = 0 + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95800_backing_3 = &shared_mem[color_95801_backing_4_offset];\n    const int64_t color_95800_backing_3_offset = color_95801_backing_4_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95799_backing_2 = &shared_mem[color_95800_backing_3_offset];\n    const int64_t color_95799_backing_2_offset = color_95800_backing_3_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95798_backing_1 = &shared_mem[color_95799_backing_2_offset];\n    const int64_t color_95798_backing_1_offset = color_95799_backing_2_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95797_backing_0 = &shared_mem[color_95798_backing_1_offset];\n    const int64_t color_95797_backing_0_offset = color_95798_backing_1_offset + (maxSubHelper_95796 + srem64((int64_t) 8 - srem64(maxSubHelper_95796, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97181;\n    int32_t tblock_sizze_97184;\n    int32_t wave_sizze_97183;\n    int32_t block_id_97182;\n    int32_t global_tid_97180;\n    int64_t phys_tblock_id_83552;\n    int64_t slice_97186;\n    int64_t ltid_pre_97185;\n    int64_t remnant_97187;\n    int64_t slice_97188;\n    int64_t gtid_83551;\n    int64_t remnant_97189;\n    __local unsigned char *color_95797;\n    __local unsigned char *color_95798;\n    __local unsigned char *color_95799;\n    __local unsigned char *color_95800;\n    __", "local unsigned char *color_95801;\n    int64_t min_arg1_91482;\n    __local unsigned char *ext_mem_91869;\n    int64_t f_arg0_83599;\n    int64_t min_res_83600;\n    int64_t rep_i_97197;\n    \n    local_tid_97181 = get_local_id(0);\n    tblock_sizze_97184 = get_local_size(0);\n    wave_sizze_97183 = LOCKSTEP_WIDTH;\n    block_id_97182 = get_tblock_id(0);\n    global_tid_97180 = block_id_97182 * tblock_sizze_97184 + local_tid_97181;\n    phys_tblock_id_83552 = sext_i32_i64(block_id_97182);\n    slice_97186 = dim_45874;\n    ltid_pre_97185 = sext_i32_i64(local_tid_97181);\n    remnant_97187 = sext_i32_i64(local_tid_97181) - ltid_pre_97185;\n    slice_97188 = n_45877;\n    gtid_83551 = sext_i32_i64(block_id_97182);\n    remnant_97189 = sext_i32_i64(block_id_97182) - gtid_83551;\n    color_95797 = (__local unsigned char *) color_95797_backing_0;\n    color_95798 = (__local unsigned char *) color_95798_backing_1;\n    color_95799 = (__local unsigned char *) color_95799_backing_2;\n    color_95800 = (__local unsigned char *) color_95800_backing_3;\n    color_95801 = (__local unsigned char *) color_95801_backing_4;\n    min_arg1_91482 = ((__global int64_t *) mem_91633)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_65095) {\n        ext_mem_91869 = color_95798;\n    } else {\n        int64_t phys_tid_83559;\n        int64_t gtid_83558;\n        double eta_p_83560;\n        double eta_p_83561;\n        double defunc_0_f_res_83562;\n        int64_t phys_tid_83565;\n        int64_t gtid_83564;\n        double eta_p_83566;\n        double eta_p_83567;\n        double defunc_0_f_res_83568;\n        __local unsigned char *ext_mem_91856;\n        int64_t f_arg0_83585;\n        int64_t max_res_83586;\n        int64_t rep_i_97194;\n        \n        phys_tid_83559 = sext_i32_i64(local_tid_97181);\n        gtid_83558 = sext_i32_i64(sext_i64_i32(ltid_pre_97185));\n        eta_p_83560 = ((__global double *) xs_mem_91599)[gtid_83551 * dim_45874 + gtid_83558];\n        eta_p_83561 = ((__global double *) start_of_gri", "d_partition_mem_91598)[gtid_83558];\n        defunc_0_f_res_83562 = eta_p_83560 - eta_p_83561;\n        ((__local double *) color_95801)[gtid_83558] = defunc_0_f_res_83562;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_83565 = sext_i32_i64(local_tid_97181);\n        gtid_83564 = sext_i32_i64(sext_i64_i32(ltid_pre_97185));\n        eta_p_83566 = ((__local double *) color_95801)[gtid_83564];\n        eta_p_83567 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_83564];\n        defunc_0_f_res_83568 = eta_p_83566 / eta_p_83567;\n        ((__local double *) color_95801)[gtid_83564] = defunc_0_f_res_83568;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_65095) {\n            ext_mem_91856 = color_95797;\n        } else {\n            double f_arg0_83571;\n            int64_t f64_res_83572;\n            int64_t rep_i_97191;\n            \n            f_arg0_83571 = ((__local double *) color_95801)[(int64_t) 0];\n            f64_res_83572 = fptosi_f64_i64(f_arg0_83571);\n            rep_i_97191 = sext_i32_i64(sext_i64_i32(ltid_pre_97185));\n            ((__local int64_t *) color_95800)[rep_i_97191] = f64_res_83572;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_83575 = 0; i_83575 < arg_65084; i_83575++) {\n                int64_t index_primexp_83577;\n                bool x_83578;\n                bool y_83579;\n                bool bounds_check_83580;\n                bool index_certs_83581;\n                double f_arg0_83582;\n                int64_t f64_res_83583;\n                \n                index_primexp_83577 = add64((int64_t) 1, i_83575);\n                x_83578 = sle64((int64_t) 0, index_primexp_83577);\n                y_83579 = slt64(index_primexp_83577, dim_45874);\n                bounds_check_83580 = x_83578 && y_83579;\n                if (!bounds_check_83580) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure",
                                    ", -1, 131) == -1) {\n                            global_failure_args[0] = (int64_t) index_primexp_83577;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_83582 = ((__local double *) color_95801)[index_primexp_83577];\n                f64_res_83583 = fptosi_f64_i64(f_arg0_83582);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_97181 == 0) {\n                    ((__local int64_t *) color_95800)[index_primexp_83577] = f64_res_83583;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_91856 = color_95800;\n        }\n        f_arg0_83585 = ((__local int64_t *) ext_mem_91856)[(int64_t) 0];\n        max_res_83586 = smax64((int64_t) 0, f_arg0_83585);\n        rep_i_97194 = sext_i32_i64(sext_i64_i32(ltid_pre_97185));\n        ((__local int64_t *) color_95799)[rep_i_97194] = max_res_83586;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_83589 = 0; i_83589 < arg_65084; i_83589++) {\n            int64_t index_primexp_83591;\n            bool x_83592;\n            bool y_83593;\n            bool bounds_check_83594;\n            bool index_certs_83595;\n            int64_t f_arg0_83596;\n            int64_t max_res_83597;\n            \n            index_primexp_83591 = add64((int64_t) 1, i_83589);\n            x_83592 = sle64((int64_t) 0, index_primexp_83591);\n            y_83593 = slt64(index_primexp_83591, dim_45874);\n            bounds_check_83594 = x_83592 && y_83593;\n            if (!bounds_check_83594) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 132) == -1) {\n                        global_fai", "lure_args[0] = (int64_t) index_primexp_83591;\n                        global_failure_args[1] = (int64_t) dim_45874;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_83596 = ((__local int64_t *) ext_mem_91856)[index_primexp_83591];\n            max_res_83597 = smax64((int64_t) 0, f_arg0_83596);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97181 == 0) {\n                ((__local int64_t *) color_95799)[index_primexp_83591] = max_res_83597;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_91869 = color_95799;\n    }\n    f_arg0_83599 = ((__local int64_t *) ext_mem_91869)[(int64_t) 0];\n    min_res_83600 = smin64(f_arg0_83599, min_arg1_91482);\n    rep_i_97197 = sext_i32_i64(sext_i64_i32(ltid_pre_97185));\n    ((__local int64_t *) color_95797)[rep_i_97197] = min_res_83600;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_83603 = 0; i_83603 < arg_65084; i_83603++) {\n        int64_t index_primexp_83605;\n        bool x_83606;\n        bool y_83607;\n        bool bounds_check_83608;\n        bool index_certs_83609;\n        bool index_certs_83611;\n        int64_t f_arg0_83610;\n        int64_t zm_lhs_83612;\n        int64_t min_arg1_83613;\n        int64_t min_res_83614;\n        \n        index_primexp_83605 = add64((int64_t) 1, i_83603);\n        x_83606 = sle64((int64_t) 0, index_primexp_83605);\n        y_83607 = slt64(index_primexp_83605, dim_45874);\n        bounds_check_83608 = x_83606 && y_83607;\n        if (!bounds_check_83608) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 133) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_83605;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;", "\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_83608) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 134) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_83605;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_83610 = ((__local int64_t *) ext_mem_91869)[index_primexp_83605];\n        zm_lhs_83612 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_83605];\n        min_arg1_83613 = sub64(zm_lhs_83612, (int64_t) 1);\n        min_res_83614 = smin64(f_arg0_83610, min_arg1_83613);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_97181 == 0) {\n            ((__local int64_t *) color_95797)[index_primexp_83605] = min_res_83614;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_91880)[gtid_83551 * dim_45874 + sext_i32_i64(local_tid_97181)] = ((__local int64_t *) color_95797)[sext_i32_i64(local_tid_97181)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_83628(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, unsigned char cond_65095_bits, int64_t binop_x_91660, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *xs_mem_91599, __global unsigned char *mem_91783)\n{\n    bool cond_65095 = cond_65095_bits;\n    volatile __local unsigned char *color_95804_backing_2 = &shared_mem[0];\n    const int64_t color_95804_backing_2_offset = 0 + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigne",
                                    "d char *color_95803_backing_1 = &shared_mem[color_95804_backing_2_offset];\n    const int64_t color_95803_backing_1_offset = color_95804_backing_2_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95802_backing_0 = &shared_mem[color_95803_backing_1_offset];\n    const int64_t color_95802_backing_0_offset = color_95803_backing_1_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_97202;\n    int32_t tblock_sizze_97205;\n    int32_t wave_sizze_97204;\n    int32_t block_id_97203;\n    int32_t global_tid_97201;\n    int64_t phys_tblock_id_83628;\n    int64_t slice_97207;\n    int64_t ltid_pre_97206;\n    int64_t remnant_97208;\n    int64_t slice_97209;\n    int64_t gtid_83627;\n    int64_t remnant_97210;\n    __local unsigned char *color_95802;\n    __local unsigned char *color_95803;\n    __local unsigned char *color_95804;\n    int64_t phys_tid_83633;\n    int64_t gtid_83632;\n    double eta_p_83634;\n    double eta_p_83635;\n    double defunc_0_f_res_83636;\n    int64_t phys_tid_83639;\n    int64_t gtid_83638;\n    double eta_p_83640;\n    double eta_p_83641;\n    double defunc_0_f_res_83642;\n    __local unsigned char *ext_mem_91772;\n    int64_t f_arg0_83659;\n    int64_t max_res_83660;\n    int64_t rep_i_97215;\n    \n    local_tid_97202 = get_local_id(0);\n    tblock_sizze_97205 = get_local_size(0);\n    wave_sizze_97204 = LOCKSTEP_WIDTH;\n    block_id_97203 = get_tblock_id(0);\n    global_tid_97201 = block_id_97203 * tblock_sizze_97205 + local_tid_97202;\n    phys_tblock_id_83628 = sext_i32_i64(block_id_97203);\n    slice_97207 = dim_45874;\n    ltid_pre_97206 = sext_i32_i64(local_tid_97202);\n    remnant_97208 = ", "sext_i32_i64(local_tid_97202) - ltid_pre_97206;\n    slice_97209 = n_45877;\n    gtid_83627 = sext_i32_i64(block_id_97203);\n    remnant_97210 = sext_i32_i64(block_id_97203) - gtid_83627;\n    color_95802 = (__local unsigned char *) color_95802_backing_0;\n    color_95803 = (__local unsigned char *) color_95803_backing_1;\n    color_95804 = (__local unsigned char *) color_95804_backing_2;\n    phys_tid_83633 = sext_i32_i64(local_tid_97202);\n    gtid_83632 = sext_i32_i64(sext_i64_i32(ltid_pre_97206));\n    eta_p_83634 = ((__global double *) xs_mem_91599)[gtid_83627 * dim_45874 + gtid_83632];\n    eta_p_83635 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_83632];\n    defunc_0_f_res_83636 = eta_p_83634 - eta_p_83635;\n    ((__local double *) color_95802)[gtid_83632] = defunc_0_f_res_83636;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_83639 = sext_i32_i64(local_tid_97202);\n    gtid_83638 = sext_i32_i64(sext_i64_i32(ltid_pre_97206));\n    eta_p_83640 = ((__local double *) color_95802)[gtid_83638];\n    eta_p_83641 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_83638];\n    defunc_0_f_res_83642 = eta_p_83640 / eta_p_83641;\n    ((__local double *) color_95802)[gtid_83638] = defunc_0_f_res_83642;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_65095) {\n        ext_mem_91772 = color_95803;\n    } else {\n        double f_arg0_83645;\n        int64_t f64_res_83646;\n        int64_t rep_i_97212;\n        \n        f_arg0_83645 = ((__local double *) color_95802)[(int64_t) 0];\n        f64_res_83646 = fptosi_f64_i64(f_arg0_83645);\n        rep_i_97212 = sext_i32_i64(sext_i64_i32(ltid_pre_97206));\n        ((__local int64_t *) color_95804)[rep_i_97212] = f64_res_83646;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_83649 = 0; i_83649 < arg_65084; i_83649++) {\n            int64_t index_primexp_83651;\n            bool x_83652;\n            bool y_83653;\n            bool bounds_check_8365", "4;\n            bool index_certs_83655;\n            double f_arg0_83656;\n            int64_t f64_res_83657;\n            \n            index_primexp_83651 = add64((int64_t) 1, i_83649);\n            x_83652 = sle64((int64_t) 0, index_primexp_83651);\n            y_83653 = slt64(index_primexp_83651, dim_45874);\n            bounds_check_83654 = x_83652 && y_83653;\n            if (!bounds_check_83654) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 135) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_83651;\n                        global_failure_args[1] = (int64_t) dim_45874;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_83656 = ((__local double *) color_95802)[index_primexp_83651];\n            f64_res_83657 = fptosi_f64_i64(f_arg0_83656);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97202 == 0) {\n                ((__local int64_t *) color_95804)[index_primexp_83651] = f64_res_83657;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_91772 = color_95804;\n    }\n    f_arg0_83659 = ((__local int64_t *) ext_mem_91772)[(int64_t) 0];\n    max_res_83660 = smax64((int64_t) 0, f_arg0_83659);\n    rep_i_97215 = sext_i32_i64(sext_i64_i32(ltid_pre_97206));\n    ((__local int64_t *) color_95802)[rep_i_97215] = max_res_83660;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_83663 = 0; i_83663 < arg_65084; i_83663++) {\n        int64_t index_primexp_83665;\n        bool x_83666;\n        bool y_83667;\n        bool bounds_check_83668;\n        bool index_certs_83669;\n        int64_t f_arg0_83670;\n        int64_t max_res_83671;\n        \n        index_primexp_83665 = add64((int64_t) 1, i_83663);\n        x_83666 = sle64((in",
                                    "t64_t) 0, index_primexp_83665);\n        y_83667 = slt64(index_primexp_83665, dim_45874);\n        bounds_check_83668 = x_83666 && y_83667;\n        if (!bounds_check_83668) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 136) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_83665;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_83670 = ((__local int64_t *) ext_mem_91772)[index_primexp_83665];\n        max_res_83671 = smax64((int64_t) 0, f_arg0_83670);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_97202 == 0) {\n            ((__local int64_t *) color_95802)[index_primexp_83665] = max_res_83671;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_91783)[gtid_83627 * dim_45874 + sext_i32_i64(local_tid_97202)] = ((__local int64_t *) color_95802)[sext_i32_i64(local_tid_97202)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_84866(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t merge_block_sizze_66061, int64_t loop_dz2084Uz2082U_66232, int64_t stride_66238, int64_t next_stride_66239, unsigned char zzero_66240_bits, int64_t num_merges_66243, int64_t m_66248, unsigned char zzero_leq_i_p_m_t_s_66249_bits, unsigned char i_lte_j_66250_bits, unsigned char cond_66251_bits, int64_t num_blocks_66259, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, int64_t j_m_i_66261, unsigned char cond_66271_bits, int64_t computed_tblock_sizze_84570, int64_t bytes_92619, int64_t bytes_92628, int64_t bytes_92635, int64_t lmad_arg_92673, int64_t bytes_92693, int64_t bytes_92700, int64_t binop_x_92755, int64_t binop_x_92765, int64_t maxSubHelper_95807, int64_t maxSubHelper_95808, ", "int64_t maxSubHelper_95809, int64_t maxSubHelper_95810, int32_t num_chunks_97648, int32_t num_chunks_97649, int32_t num_chunks_97650, int32_t num_chunks_97651, __global unsigned char *mem_param_92301, __global unsigned char *mem_param_92304, __global unsigned char *mem_param_92308, __global unsigned char *mem_param_92311, __global unsigned char *mem_93069, __global unsigned char *mem_93072, __global unsigned char *mem_93076, __global unsigned char *mem_93079)\n{\n    bool zzero_66240 = zzero_66240_bits;\n    bool zzero_leq_i_p_m_t_s_66249 = zzero_leq_i_p_m_t_s_66249_bits;\n    bool i_lte_j_66250 = i_lte_j_66250_bits;\n    bool cond_66251 = cond_66251_bits;\n    bool cond_66271 = cond_66271_bits;\n    volatile __local unsigned char *color_95830_backing_19 = &shared_mem[0];\n    const int64_t color_95830_backing_19_offset = 0 + (bytes_92619 + srem64((int64_t) 8 - srem64(bytes_92619, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95829_backing_18 = &shared_mem[color_95830_backing_19_offset];\n    const int64_t color_95829_backing_18_offset = color_95830_backing_19_offset + (bytes_92635 + srem64((int64_t) 8 - srem64(bytes_92635, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95828_backing_17 = &shared_mem[color_95829_backing_18_offset];\n    const int64_t color_95828_backing_17_offset = color_95829_backing_18_offset + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95827_backing_16 = &shared_mem[color_95828_backing_17_offset];\n    const int64_t color_95827_backing_16_offset = color_95828_backing_17_offset + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95826_backing_15 = &shared_mem[color_95827_backing_16_offset];\n    const int64_t color_95826_backing_15_offset = color_95827_backing_16_offset + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8)", ");\n    volatile __local unsigned char *color_95825_backing_14 = &shared_mem[color_95826_backing_15_offset];\n    const int64_t color_95825_backing_14_offset = color_95826_backing_15_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95824_backing_13 = &shared_mem[color_95825_backing_14_offset];\n    const int64_t color_95824_backing_13_offset = color_95825_backing_14_offset + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95823_backing_12 = &shared_mem[color_95824_backing_13_offset];\n    const int64_t color_95823_backing_12_offset = color_95824_backing_13_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95822_backing_11 = &shared_mem[color_95823_backing_12_offset];\n    const int64_t color_95822_backing_11_offset = color_95823_backing_12_offset + (maxSubHelper_95810 + srem64((int64_t) 8 - srem64(maxSubHelper_95810, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95821_backing_10 = &shared_mem[color_95822_backing_11_offset];\n    const int64_t color_95821_backing_10_offset = color_95822_backing_11_offset + (maxSubHelper_95809 + srem64((int64_t) 8 - srem64(maxSubHelper_95809, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95820_backing_9 = &shared_mem[color_95821_backing_10_offset];\n    const int64_t color_95820_backing_9_offset = color_95821_backing_10_offset + (maxSubHelper_95808 + srem64((int64_t) 8 - srem64(maxSubHelper_95808, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95819_backing_8 = &shared_mem[color_95820_backing_9_offset];\n    const int64_t color_95819_backing_8_offset = color_95820_backing_9_offset + (maxSubHelper_95807 + srem64((int64_t) 8 - srem64(maxSubHelper_95807, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95818_backing_7 = &shared_mem[color_95819_backing_8_offset];\n    const int64_t color_95818_backing_7_offset = color_95819_backing_8_offset + (byt",
                                    "es_92693 + srem64((int64_t) 8 - srem64(bytes_92693, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95817_backing_6 = &shared_mem[color_95818_backing_7_offset];\n    const int64_t color_95817_backing_6_offset = color_95818_backing_7_offset + (bytes_92693 + srem64((int64_t) 8 - srem64(bytes_92693, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95816_backing_5 = &shared_mem[color_95817_backing_6_offset];\n    const int64_t color_95816_backing_5_offset = color_95817_backing_6_offset + (bytes_92700 + srem64((int64_t) 8 - srem64(bytes_92700, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95815_backing_4 = &shared_mem[color_95816_backing_5_offset];\n    const int64_t color_95815_backing_4_offset = color_95816_backing_5_offset + (bytes_92693 + srem64((int64_t) 8 - srem64(bytes_92693, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95814_backing_3 = &shared_mem[color_95815_backing_4_offset];\n    const int64_t color_95814_backing_3_offset = color_95815_backing_4_offset + (binop_x_92755 + srem64((int64_t) 8 - srem64(binop_x_92755, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95813_backing_2 = &shared_mem[color_95814_backing_3_offset];\n    const int64_t color_95813_backing_2_offset = color_95814_backing_3_offset + (binop_x_92755 + srem64((int64_t) 8 - srem64(binop_x_92755, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95812_backing_1 = &shared_mem[color_95813_backing_2_offset];\n    const int64_t color_95812_backing_1_offset = color_95813_backing_2_offset + (binop_x_92755 + srem64((int64_t) 8 - srem64(binop_x_92755, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95811_backing_0 = &shared_mem[color_95812_backing_1_offset];\n    const int64_t color_95811_backing_0_offset = color_95812_backing_1_offset + (binop_x_92765 + srem64((int64_t) 8 - srem64(binop_x_92765, (int64_t) 8), (int64_t) 8));\n    volatile __local int lo", "cal_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97656;\n    int32_t tblock_sizze_97659;\n    int32_t wave_sizze_97658;\n    int32_t block_id_97657;\n    int32_t global_tid_97655;\n    int64_t phys_tblock_id_84866;\n    int64_t slice_97663;\n    int64_t slice_97664;\n    int64_t slice_97665;\n    int64_t ltid_pre_97660;\n    int64_t remnant_97666;\n    int64_t ltid_pre_97661;\n    int64_t remnant_97667;\n    int64_t ltid_pre_97662;\n    int64_t remnant_97668;\n    int64_t slice_97671;\n    int64_t slice_97672;\n    int64_t ltid_pre_97669;\n    int64_t remnant_97673;\n    int64_t ltid_pre_97670;\n    int64_t remnant_97674;\n    int64_t slice_97676;\n    int64_t ltid_pre_97675;\n    int64_t remnant_97677;\n    int64_t slice_97680;\n    int64_t slice_97681;\n    int64_t ltid_pre_97678;\n    int64_t remnant_97682;\n    int64_t ltid_pre_97679;\n    int64_t remnant_97683;\n    int64_t slice_97685;\n    int64_t ltid_pre_97684;\n    int64_t remnant_97686;\n    int64_t slice_97688;\n    int64_t ltid_pre_97687;\n    int64_t remnant_97689;\n    int64_t slice_97690;\n    int64_t gtid_84865;\n    int64_t remnant_97691;\n    __local unsigned char *color_95811;\n    __local unsigned char *color_95812;\n    __local unsigned char *color_95813;\n    __local unsigned char *color_95814;\n    __local unsigned char *color_95815;\n    __local unsigned char *color_95816;\n    __local unsigned char *color_95817;\n    __local unsigned char *color_95818;\n    __local unsigned char *color_95819;\n    __local unsigned char *color_95820;\n    __local unsigned char *color_95821;\n    __local unsigned char *color_95822;\n    __local unsigned char *color_95823;\n    __local unsigned char *color_95824;\n    __local unsigned char *color_95825;\n    __local unsigned char *color_95826;\n    __local unsigned char *color_95827;\n    __local unsigned char *color_95828;\n    __local unsigned char *color_95829;\n    __local unsigned char *color_95830;\n    int64_t start_84868;\n    int64_t j_m_i_84869", ";\n    bool empty_slice_84870;\n    int64_t m_84871;\n    int64_t i_p_m_t_s_84872;\n    bool zzero_leq_i_p_m_t_s_84873;\n    bool i_p_m_t_s_leq_w_84874;\n    bool zzero_lte_i_84875;\n    bool i_lte_j_84876;\n    bool y_84877;\n    bool y_84878;\n    bool forwards_ok_84879;\n    bool ok_or_empty_84880;\n    bool index_certs_84881;\n    bool i_p_m_t_s_leq_w_84882;\n    bool y_84883;\n    bool forwards_ok_84884;\n    bool ok_or_empty_84885;\n    bool index_certs_84886;\n    int64_t slice_84899;\n    int64_t binop_y_93009;\n    int64_t binop_y_93011;\n    int64_t ext_93013;\n    __local unsigned char *ext_mem_93066;\n    __local unsigned char *ext_mem_93063;\n    __local unsigned char *ext_mem_93060;\n    __local unsigned char *ext_mem_93056;\n    int32_t num_chunks_97782;\n    int32_t num_chunks_97785;\n    int32_t num_chunks_97788;\n    int32_t num_chunks_97791;\n    \n    local_tid_97656 = get_local_id(0);\n    tblock_sizze_97659 = get_local_size(0);\n    wave_sizze_97658 = LOCKSTEP_WIDTH;\n    block_id_97657 = get_tblock_id(0);\n    global_tid_97655 = block_id_97657 * tblock_sizze_97659 + local_tid_97656;\n    phys_tblock_id_84866 = sext_i32_i64(block_id_97657);\n    slice_97663 = num_blocks_66259;\n    slice_97664 = dim_45874 * slice_97663;\n    slice_97665 = merge_block_sizze_66061 * slice_97664;\n    ltid_pre_97660 = squot64(sext_i32_i64(local_tid_97656), slice_97664);\n    remnant_97666 = sext_i32_i64(local_tid_97656) - ltid_pre_97660 * slice_97664;\n    ltid_pre_97661 = squot64(remnant_97666, slice_97663);\n    remnant_97667 = remnant_97666 - ltid_pre_97661 * slice_97663;\n    ltid_pre_97662 = remnant_97667;\n    remnant_97668 = remnant_97667 - ltid_pre_97662;\n    slice_97671 = num_blocks_66259;\n    slice_97672 = merge_block_sizze_66061 * slice_97671;\n    ltid_pre_97669 = squot64(sext_i32_i64(local_tid_97656), slice_97671);\n    remnant_97673 = sext_i32_i64(local_tid_97656) - ltid_pre_97669 * slice_97671;\n    ltid_pre_97670 = remnant_97673;\n    remnant_97674 = remnant_97673 - ltid_pre_97670;\n    slice_9767",
                                    "6 = next_stride_66239;\n    ltid_pre_97675 = sext_i32_i64(local_tid_97656);\n    remnant_97677 = sext_i32_i64(local_tid_97656) - ltid_pre_97675;\n    slice_97680 = dim_45874;\n    slice_97681 = next_stride_66239 * slice_97680;\n    ltid_pre_97678 = squot64(sext_i32_i64(local_tid_97656), slice_97680);\n    remnant_97682 = sext_i32_i64(local_tid_97656) - ltid_pre_97678 * slice_97680;\n    ltid_pre_97679 = remnant_97682;\n    remnant_97683 = remnant_97682 - ltid_pre_97679;\n    slice_97685 = num_blocks_66259;\n    ltid_pre_97684 = sext_i32_i64(local_tid_97656);\n    remnant_97686 = sext_i32_i64(local_tid_97656) - ltid_pre_97684;\n    slice_97688 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n    ltid_pre_97687 = sext_i32_i64(local_tid_97656);\n    remnant_97689 = sext_i32_i64(local_tid_97656) - ltid_pre_97687;\n    slice_97690 = num_merges_66243;\n    gtid_84865 = sext_i32_i64(block_id_97657);\n    remnant_97691 = sext_i32_i64(block_id_97657) - gtid_84865;\n    color_95811 = (__local unsigned char *) color_95811_backing_0;\n    color_95812 = (__local unsigned char *) color_95812_backing_1;\n    color_95813 = (__local unsigned char *) color_95813_backing_2;\n    color_95814 = (__local unsigned char *) color_95814_backing_3;\n    color_95815 = (__local unsigned char *) color_95815_backing_4;\n    color_95816 = (__local unsigned char *) color_95816_backing_5;\n    color_95817 = (__local unsigned char *) color_95817_backing_6;\n    color_95818 = (__local unsigned char *) color_95818_backing_7;\n    color_95819 = (__local unsigned char *) color_95819_backing_8;\n    color_95820 = (__local unsigned char *) color_95820_backing_9;\n    color_95821 = (__local unsigned char *) color_95821_backing_10;\n    color_95822 = (__local unsigned char *) color_95822_backing_11;\n    color_95823 = (__local unsigned char *) color_95823_backing_12;\n    color_95824 = (__local unsigned char *) color_95824_backing_13;\n    color_95825 = (__local unsigned char *) color_95825_backing_14;\n    color_95826 = (__local unsigned c", "har *) color_95826_backing_15;\n    color_95827 = (__local unsigned char *) color_95827_backing_16;\n    color_95828 = (__local unsigned char *) color_95828_backing_17;\n    color_95829 = (__local unsigned char *) color_95829_backing_18;\n    color_95830 = (__local unsigned char *) color_95830_backing_19;\n    start_84868 = mul64(next_stride_66239, gtid_84865);\n    j_m_i_84869 = sub64(loop_dz2084Uz2082U_66232, start_84868);\n    empty_slice_84870 = j_m_i_84869 == (int64_t) 0;\n    m_84871 = sub64(j_m_i_84869, (int64_t) 1);\n    i_p_m_t_s_84872 = add64(start_84868, m_84871);\n    zzero_leq_i_p_m_t_s_84873 = sle64((int64_t) 0, i_p_m_t_s_84872);\n    i_p_m_t_s_leq_w_84874 = slt64(i_p_m_t_s_84872, loop_dz2084Uz2082U_66232);\n    zzero_lte_i_84875 = sle64((int64_t) 0, start_84868);\n    i_lte_j_84876 = sle64(start_84868, loop_dz2084Uz2082U_66232);\n    y_84877 = i_p_m_t_s_leq_w_84874 && zzero_lte_i_84875;\n    y_84878 = zzero_leq_i_p_m_t_s_84873 && y_84877;\n    forwards_ok_84879 = i_lte_j_84876 && y_84878;\n    ok_or_empty_84880 = empty_slice_84870 || forwards_ok_84879;\n    if (!ok_or_empty_84880) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 149) == -1) {\n                global_failure_args[0] = (int64_t) start_84868;\n                global_failure_args[1] = (int64_t) loop_dz2084Uz2082U_66232;\n                ;\n            }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    i_p_m_t_s_leq_w_84882 = slt64(m_66248, j_m_i_84869);\n    y_84883 = zzero_leq_i_p_m_t_s_66249 && i_p_m_t_s_leq_w_84882;\n    forwards_ok_84884 = i_lte_j_66250 && y_84883;\n    ok_or_empty_84885 = zzero_66240 || forwards_ok_84884;\n    if (!ok_or_empty_84885) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 150) == -1) {\n                global_failure_args[0] = (int64_t) (int64_t) 0;\n                global_failure_args[1] = (int64_t) next_stride_66239;\n                global_failure_args[2] = (int64_t) j_m_i_84869;\n                ;\n        ", "    }\n            local_failure = 1;\n            goto error_0;\n        }\n    }\n    slice_84899 = stride_66238 + start_84868;\n    binop_y_93009 = dim_45874 * slice_84899;\n    binop_y_93011 = dim_45874 * start_84868;\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_66271) {\n        ext_93013 = binop_y_93011;\n    } else {\n        ext_93013 = binop_y_93009;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_66251) {\n        int64_t dummy_84891;\n        double dummy_84892;\n        int64_t dummy_84894;\n        int64_t data_84908;\n        int64_t i_84914;\n        \n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_66271) {\n            int64_t head_res_84895;\n            double head_res_84896;\n            int64_t head_res_84898;\n            \n            head_res_84895 = ((__global int64_t *) mem_param_92301)[start_84868];\n            head_res_84896 = ((__global double *) mem_param_92304)[start_84868];\n            head_res_84898 = ((__global int64_t *) mem_param_92311)[start_84868];\n            dummy_84891 = head_res_84895;\n            dummy_84892 = head_res_84896;\n            dummy_84894 = head_res_84898;\n        } else {\n            int64_t head_res_84900;\n            double head_res_84901;\n            int64_t head_res_84903;\n            \n            head_res_84900 = ((__global int64_t *) mem_param_92301)[slice_84899];\n            head_res_84901 = ((__global double *) mem_param_92304)[slice_84899];\n            head_res_84903 = ((__global int64_t *) mem_param_92311)[slice_84899];\n            dummy_84891 = head_res_84900;\n            dummy_84892 = head_res_84901;\n            dummy_84894 = head_res_84903;\n        }\n        for (int32_t chunk_i_97694 = 0; chunk_i_97694 < num_chunks_97650; chunk_i_97694++) {\n            int32_t i_97695;\n            int64_t slice_97696;\n            int64_t rep_i_97693;\n            int64_t remnant_97697;\n            \n            i_97695 = chunk_i_97694 * ",
                                    "sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n            slice_97696 = next_stride_66239;\n            rep_i_97693 = sext_i32_i64(i_97695);\n            remnant_97697 = sext_i32_i64(i_97695) - rep_i_97693;\n            if (sle64((int64_t) 0, rep_i_97693) && slt64(rep_i_97693, next_stride_66239)) {\n                ((__local int64_t *) color_95814)[rep_i_97693] = dummy_84891;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97700 = 0; chunk_i_97700 < num_chunks_97650; chunk_i_97700++) {\n            int32_t i_97701;\n            int64_t slice_97702;\n            int64_t rep_i_97699;\n            int64_t remnant_97703;\n            \n            i_97701 = chunk_i_97700 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n            slice_97702 = next_stride_66239;\n            rep_i_97699 = sext_i32_i64(i_97701);\n            remnant_97703 = sext_i32_i64(i_97701) - rep_i_97699;\n            if (sle64((int64_t) 0, rep_i_97699) && slt64(rep_i_97699, next_stride_66239)) {\n                ((__local double *) color_95813)[rep_i_97699] = dummy_84892;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97706 = 0; chunk_i_97706 < num_chunks_97650; chunk_i_97706++) {\n            int32_t i_97707;\n            int64_t slice_97708;\n            int64_t rep_i_97705;\n            int64_t remnant_97709;\n            \n            i_97707 = chunk_i_97706 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n            slice_97708 = next_stride_66239;\n            rep_i_97705 = sext_i32_i64(i_97707);\n            remnant_97709 = sext_i32_i64(i_97707) - rep_i_97705;\n            if (sle64((int64_t) 0, rep_i_97705) && slt64(rep_i_97705, next_stride_66239)) {\n                ((__local int64_t *) color_95812)[rep_i_97705] = dummy_84894;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97713 = 0; chunk_i_97713 < num_chunks_97651; chunk_i_97713++) {\n    ", "        int32_t i_97714;\n            int64_t slice_97715;\n            int64_t slice_97716;\n            int64_t rep_i_97711;\n            int64_t remnant_97717;\n            int64_t rep_i_97712;\n            int64_t remnant_97718;\n            \n            i_97714 = chunk_i_97713 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n            slice_97715 = dim_45874;\n            slice_97716 = next_stride_66239 * slice_97715;\n            rep_i_97711 = squot64(sext_i32_i64(i_97714), slice_97715);\n            remnant_97717 = sext_i32_i64(i_97714) - rep_i_97711 * slice_97715;\n            rep_i_97712 = remnant_97717;\n            remnant_97718 = remnant_97717 - rep_i_97712;\n            if ((sle64((int64_t) 0, rep_i_97711) && slt64(rep_i_97711, next_stride_66239)) && (sle64((int64_t) 0, rep_i_97712) && slt64(rep_i_97712, dim_45874))) {\n                double tmp_97719 = ((__global double *) mem_param_92308)[ext_93013 + rep_i_97712];\n                \n                ((__local double *) color_95811)[rep_i_97711 * dim_45874 + rep_i_97712] = tmp_97719;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        i_84914 = (int64_t) 0;\n        for (int64_t k_84913 = 0; k_84913 < next_stride_66239; k_84913++) {\n            int64_t j_84919;\n            bool cond_84920;\n            bool x_95517;\n            bool cond_84922;\n            bool x_84924;\n            bool y_84925;\n            bool bounds_check_84926;\n            bool loop_not_taken_95505;\n            bool protect_assert_disj_95506;\n            bool protect_assert_disj_95520;\n            bool index_certs_84927;\n            int64_t slice_84928;\n            int64_t slice_84929;\n            bool protect_cond_conj_95521;\n            int64_t leq_arg1_84930;\n            double leq_arg1_84931;\n            bool x_84932;\n            bool bounds_check_84933;\n            bool protect_assert_disj_95512;\n            bool protect_assert_disj_95524;\n            bool index_certs_84934", ";\n            int64_t slice_84935;\n            int64_t leq_arg0_84936;\n            double leq_arg0_84937;\n            bool cond_84938;\n            bool cond_84939;\n            bool lifted_lambda_res_f_res_t_res_84940;\n            bool x_84941;\n            bool x_84942;\n            bool y_84943;\n            bool lifted_lambda_res_84944;\n            bool x_95641;\n            bool cond_84921;\n            bool protect_assert_disj_95295;\n            bool index_certs_84963;\n            bool loop_not_taken_95290;\n            bool protect_assert_disj_95291;\n            bool index_certs_84954;\n            int64_t binop_y_93036;\n            int64_t binop_y_93038;\n            int64_t ext_93040;\n            int64_t loopres_84945;\n            int64_t loopres_84946;\n            double loopres_84947;\n            int64_t loopres_84949;\n            int32_t num_chunks_97725;\n            int64_t i_tmp_97720;\n            \n            j_84919 = sub64(k_84913, i_84914);\n            cond_84920 = j_84919 == j_m_i_66261;\n            x_95517 = !cond_84920;\n            cond_84922 = slt64(i_84914, stride_66238);\n            x_84924 = sle64((int64_t) 0, j_84919);\n            y_84925 = slt64(j_84919, j_m_i_66261);\n            bounds_check_84926 = x_84924 && y_84925;\n            loop_not_taken_95505 = !cond_84922;\n            protect_assert_disj_95506 = bounds_check_84926 || loop_not_taken_95505;\n            protect_assert_disj_95520 = cond_84920 || protect_assert_disj_95506;\n            if (!protect_assert_disj_95520) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 151) == -1) {\n                        global_failure_args[0] = (int64_t) j_84919;\n                        global_failure_args[1] = (int64_t) j_m_i_66261;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            slice_84928 = stride_66238 + j_84919;\n            slice_84929 = start_84868 +",
                                    " slice_84928;\n            protect_cond_conj_95521 = cond_84922 && x_95517;\n            \n          error_4:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_95521) {\n                int64_t x_95507 = ((__global int64_t *) mem_param_92301)[slice_84929];\n                \n                leq_arg1_84930 = x_95507;\n            } else {\n                leq_arg1_84930 = (int64_t) 0;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_95521) {\n                double x_95509 = ((__global double *) mem_param_92304)[slice_84929];\n                \n                leq_arg1_84931 = x_95509;\n            } else {\n                leq_arg1_84931 = 0.0;\n            }\n            x_84932 = sle64((int64_t) 0, i_84914);\n            bounds_check_84933 = cond_84922 && x_84932;\n            protect_assert_disj_95512 = bounds_check_84933 || loop_not_taken_95505;\n            protect_assert_disj_95524 = cond_84920 || protect_assert_disj_95512;\n            if (!protect_assert_disj_95524) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 152) == -1) {\n                        global_failure_args[0] = (int64_t) i_84914;\n                        global_failure_args[1] = (int64_t) stride_66238;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            slice_84935 = start_84868 + i_84914;\n            \n          error_6:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_95521) {\n                int64_t x_95513 = ((__global int64_t *) mem_param_92301)[slice_84935];\n                \n                leq_arg0_84936 = x_95513;\n            } else {\n                leq_arg0_84936 = (int6", "4_t) 0;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (protect_cond_conj_95521) {\n                double x_95515 = ((__global double *) mem_param_92304)[slice_84935];\n                \n                leq_arg0_84937 = x_95515;\n            } else {\n                leq_arg0_84937 = 0.0;\n            }\n            cond_84938 = slt64(leq_arg0_84936, leq_arg1_84930);\n            cond_84939 = leq_arg0_84936 == leq_arg1_84930;\n            lifted_lambda_res_f_res_t_res_84940 = leq_arg0_84937 <= leq_arg1_84931;\n            x_84941 = cond_84939 && lifted_lambda_res_f_res_t_res_84940;\n            x_84942 = !cond_84938;\n            y_84943 = x_84941 && x_84942;\n            lifted_lambda_res_84944 = cond_84938 || y_84943;\n            x_95641 = cond_84922 && lifted_lambda_res_84944;\n            cond_84921 = cond_84920 || x_95641;\n            protect_assert_disj_95295 = cond_84921 || bounds_check_84926;\n            if (!protect_assert_disj_95295) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 153) == -1) {\n                        global_failure_args[0] = (int64_t) j_84919;\n                        global_failure_args[1] = (int64_t) j_m_i_66261;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_8;\n                }\n            }\n            loop_not_taken_95290 = !cond_84921;\n            protect_assert_disj_95291 = bounds_check_84933 || loop_not_taken_95290;\n            if (!protect_assert_disj_95291) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 154) == -1) {\n                        global_failure_args[0] = (int64_t) i_84914;\n                        global_failure_args[1] = (int64_t) stride_66238;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_8;\n                }\n            }\n            binop_y_93036 = dim_45874 * slice_84929;\n       ", "     binop_y_93038 = dim_45874 * slice_84935;\n            \n          error_8:\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_failure)\n                return;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_84921) {\n                ext_93040 = binop_y_93038;\n            } else {\n                ext_93040 = binop_y_93036;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (cond_84921) {\n                int64_t tmp_84950;\n                int64_t tmp_84956;\n                double tmp_84957;\n                int64_t tmp_84959;\n                \n                tmp_84950 = add64((int64_t) 1, i_84914);\n                tmp_84956 = ((__global int64_t *) mem_param_92301)[slice_84935];\n                tmp_84957 = ((__global double *) mem_param_92304)[slice_84935];\n                tmp_84959 = ((__global int64_t *) mem_param_92311)[slice_84935];\n                loopres_84945 = tmp_84950;\n                loopres_84946 = tmp_84956;\n                loopres_84947 = tmp_84957;\n                loopres_84949 = tmp_84959;\n            } else {\n                int64_t tmp_84966;\n                double tmp_84967;\n                int64_t tmp_84969;\n                \n                tmp_84966 = ((__global int64_t *) mem_param_92301)[slice_84929];\n                tmp_84967 = ((__global double *) mem_param_92304)[slice_84929];\n                tmp_84969 = ((__global int64_t *) mem_param_92311)[slice_84929];\n                loopres_84945 = i_84914;\n                loopres_84946 = tmp_84966;\n                loopres_84947 = tmp_84967;\n                loopres_84949 = tmp_84969;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97656 == 0) {\n                ((__local int64_t *) color_95814)[k_84913] = loopres_84946;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97656 == 0) {\n                ((__local double *) color_95813)[k_84913] = loopres_8",
                                    "4947;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            num_chunks_97725 = sdiv_up32(sext_i64_i32(dim_45874), sext_i64_i32(computed_tblock_sizze_84570));\n            for (int32_t chunk_i_97726 = 0; chunk_i_97726 < num_chunks_97725; chunk_i_97726++) {\n                int32_t i_97727 = chunk_i_97726 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n                \n                if (slt32(i_97727, sext_i64_i32(dim_45874))) {\n                    ((__local double *) color_95811)[k_84913 * dim_45874 + sext_i32_i64(i_97727)] = ((__global double *) mem_param_92308)[ext_93040 + sext_i32_i64(i_97727)];\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_97656 == 0) {\n                ((__local int64_t *) color_95812)[k_84913] = loopres_84949;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            i_tmp_97720 = loopres_84945;\n            i_84914 = i_tmp_97720;\n        }\n        data_84908 = i_84914;\n        ext_mem_93066 = color_95814;\n        ext_mem_93063 = color_95813;\n        ext_mem_93060 = color_95811;\n        ext_mem_93056 = color_95812;\n    } else {\n        int64_t phys_tid_84978;\n        int64_t gtid_84977;\n        int64_t phys_tid_85101;\n        int64_t gtid_85100;\n        int64_t phys_tid_85179;\n        int64_t gtid_85178;\n        \n        phys_tid_84978 = sext_i32_i64(local_tid_97656);\n        gtid_84977 = sext_i32_i64(sext_i64_i32(ltid_pre_97687));\n        if (slt64(gtid_84977, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260)) {\n            int64_t split_count_arg3_84980;\n            int64_t defunc_0_split_count_res_84981;\n            int64_t defunc_0_split_count_res_84982;\n            int64_t defunc_0_split_count_res_84983;\n            int64_t defunc_0_split_count_res_84984;\n            int64_t defunc_0_split_count_res_84985;\n            bool loop_cond_84986;\n            bool defunc_0_split_count_res_84987;\n            int64_t defun", "c_0_split_count_res_84988;\n            int64_t defunc_0_split_count_res_84989;\n            int64_t defunc_0_split_count_res_84990;\n            int64_t defunc_0_split_count_res_84991;\n            int64_t defunc_0_split_count_res_84992;\n            bool loop_while_84993;\n            int64_t ss_84994;\n            int64_t ss_84995;\n            int64_t tt_84996;\n            int64_t tt_84997;\n            int64_t count_84998;\n            \n            split_count_arg3_84980 = mul64(merge_block_sizze_66061, gtid_84977);\n            futrts_lifted_normalizze_10121(&defunc_0_split_count_res_84981, &defunc_0_split_count_res_84982, &defunc_0_split_count_res_84983, &defunc_0_split_count_res_84984, &defunc_0_split_count_res_84985, (int64_t) 0, stride_66238, (int64_t) 0, j_m_i_66261, split_count_arg3_84980);\n            loop_cond_84986 = slt64((int64_t) 0, defunc_0_split_count_res_84985);\n            loop_while_84993 = loop_cond_84986;\n            ss_84994 = defunc_0_split_count_res_84981;\n            ss_84995 = defunc_0_split_count_res_84982;\n            tt_84996 = defunc_0_split_count_res_84983;\n            tt_84997 = defunc_0_split_count_res_84984;\n            count_84998 = defunc_0_split_count_res_84985;\n            while (loop_while_84993) {\n                int64_t zlze_lhs_84999;\n                bool cond_85000;\n                int64_t defunc_0_lifted_step_res_85001;\n                int64_t defunc_0_lifted_step_res_85002;\n                int64_t defunc_0_lifted_step_res_85003;\n                int64_t defunc_0_lifted_step_res_85004;\n                int64_t loopres_85083;\n                int64_t loopres_85084;\n                int64_t loopres_85085;\n                int64_t loopres_85086;\n                int64_t loopres_85087;\n                bool loop_cond_85088;\n                bool loop_while_tmp_97728;\n                int64_t ss_tmp_97729;\n                int64_t ss_tmp_97730;\n                int64_t tt_tmp_97731;\n                int64_t tt_tmp_97732;\n                int64_t c", "ount_tmp_97733;\n                \n                zlze_lhs_84999 = sub64(ss_84995, ss_84994);\n                cond_85000 = sle64(zlze_lhs_84999, (int64_t) 0);\n                if (cond_85000) {\n                    int64_t tmp_85005 = add64(tt_84996, count_84998);\n                    \n                    defunc_0_lifted_step_res_85001 = ss_84994;\n                    defunc_0_lifted_step_res_85002 = tmp_85005;\n                    defunc_0_lifted_step_res_85003 = tt_84997;\n                    defunc_0_lifted_step_res_85004 = (int64_t) 0;\n                } else {\n                    int64_t zlze_lhs_85006;\n                    bool cond_85007;\n                    int64_t defunc_0_lifted_step_res_f_res_85008;\n                    int64_t defunc_0_lifted_step_res_f_res_85009;\n                    int64_t defunc_0_lifted_step_res_f_res_85010;\n                    int64_t defunc_0_lifted_step_res_f_res_85011;\n                    \n                    zlze_lhs_85006 = sub64(tt_84997, tt_84996);\n                    cond_85007 = sle64(zlze_lhs_85006, (int64_t) 0);\n                    if (cond_85007) {\n                        int64_t tmp_85012 = add64(ss_84994, count_84998);\n                        \n                        defunc_0_lifted_step_res_f_res_85008 = tmp_85012;\n                        defunc_0_lifted_step_res_f_res_85009 = tt_84996;\n                        defunc_0_lifted_step_res_f_res_85010 = tt_84997;\n                        defunc_0_lifted_step_res_f_res_85011 = (int64_t) 0;\n                    } else {\n                        bool cond_85013;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_85014;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_85015;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_85016;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_85017;\n                        \n                        cond_85013 = count_84998 == (int64_t) 1;\n                        if (cond_85013) ",
                                    "{\n                            bool x_85018;\n                            bool y_85019;\n                            bool bounds_check_85020;\n                            bool index_certs_85021;\n                            bool x_85025;\n                            bool y_85026;\n                            bool bounds_check_85027;\n                            bool index_certs_85028;\n                            int64_t slice_85022;\n                            int64_t leq_arg1_85023;\n                            double leq_arg1_85024;\n                            int64_t slice_85029;\n                            int64_t slice_85030;\n                            int64_t leq_arg0_85031;\n                            double leq_arg0_85032;\n                            bool cond_85033;\n                            bool cond_85034;\n                            bool lifted_lambda_res_f_res_t_res_85035;\n                            bool x_85036;\n                            bool x_85037;\n                            bool y_85038;\n                            bool lifted_lambda_res_85039;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_85040;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_85041;\n                            \n                            x_85018 = sle64((int64_t) 0, ss_84994);\n                            y_85019 = slt64(ss_84994, stride_66238);\n                            bounds_check_85020 = x_85018 && y_85019;\n                            if (!bounds_check_85020) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 155) == -1) {\n                                        global_failure_args[0] = (int64_t) ss_84994;\n                                        global_failure_args[1] = (int64_t) stride_66238;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                  ", "                  goto error_10;\n                                }\n                            }\n                            x_85025 = sle64((int64_t) 0, tt_84996);\n                            y_85026 = slt64(tt_84996, j_m_i_66261);\n                            bounds_check_85027 = x_85025 && y_85026;\n                            if (!bounds_check_85027) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 156) == -1) {\n                                        global_failure_args[0] = (int64_t) tt_84996;\n                                        global_failure_args[1] = (int64_t) j_m_i_66261;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_10;\n                                }\n                            }\n                            slice_85022 = start_84868 + ss_84994;\n                            leq_arg1_85023 = ((__global int64_t *) mem_param_92301)[slice_85022];\n                            leq_arg1_85024 = ((__global double *) mem_param_92304)[slice_85022];\n                            slice_85029 = stride_66238 + tt_84996;\n                            slice_85030 = start_84868 + slice_85029;\n                            leq_arg0_85031 = ((__global int64_t *) mem_param_92301)[slice_85030];\n                            leq_arg0_85032 = ((__global double *) mem_param_92304)[slice_85030];\n                            cond_85033 = slt64(leq_arg0_85031, leq_arg1_85023);\n                            cond_85034 = leq_arg0_85031 == leq_arg1_85023;\n                            lifted_lambda_res_f_res_t_res_85035 = leq_arg0_85032 <= leq_arg1_85024;\n                            x_85036 = cond_85034 && lifted_lambda_res_f_res_t_res_85035;\n                            x_85037 = !cond_85033;\n                            y_85038 = x_85036 && x_85037;\n                            lifted_lambda", "_res_85039 = cond_85033 || y_85038;\n                            if (lifted_lambda_res_85039) {\n                                int64_t tmp_85042 = add64((int64_t) 1, tt_84996);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_85040 = ss_84994;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_85041 = tmp_85042;\n                            } else {\n                                int64_t tmp_85043 = add64((int64_t) 1, ss_84994);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_t_res_85040 = tmp_85043;\n                                defunc_0_lifted_step_res_f_res_f_res_t_res_85041 = tt_84996;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_85014 = defunc_0_lifted_step_res_f_res_f_res_t_res_85040;\n                            defunc_0_lifted_step_res_f_res_f_res_85015 = defunc_0_lifted_step_res_f_res_f_res_t_res_85041;\n                            defunc_0_lifted_step_res_f_res_f_res_85016 = tt_84997;\n                            defunc_0_lifted_step_res_f_res_f_res_85017 = (int64_t) 0;\n                        } else {\n                            int64_t m_85044;\n                            int64_t n_85045;\n                            bool cond_85046;\n                            int64_t zgze_lhs_85047;\n                            bool cond_f_res_85048;\n                            bool x_85049;\n                            bool y_85050;\n                            bool cond_85051;\n                            bool leq_y_x_85052;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_85077;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_85078;\n                            int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_85079;\n                            \n                            m_85044 = sdiv64(count_84998, (int64_t) 2);\n            ",
                                    "                n_85045 = sub64(count_84998, m_85044);\n                            cond_85046 = n_85045 == (int64_t) 0;\n                            zgze_lhs_85047 = add64(ss_84994, m_85044);\n                            cond_f_res_85048 = sle64(ss_84995, zgze_lhs_85047);\n                            x_85049 = !cond_85046;\n                            y_85050 = cond_f_res_85048 && x_85049;\n                            cond_85051 = cond_85046 || y_85050;\n                            if (cond_85051) {\n                                leq_y_x_85052 = 1;\n                            } else {\n                                bool x_85053;\n                                bool y_85054;\n                                bool bounds_check_85055;\n                                bool index_certs_85056;\n                                int64_t zm_lhs_85060;\n                                int64_t leq_arg0_85061;\n                                bool x_85062;\n                                bool y_85063;\n                                bool bounds_check_85064;\n                                bool index_certs_85065;\n                                int64_t slice_85057;\n                                int64_t leq_arg1_85058;\n                                double leq_arg1_85059;\n                                int64_t slice_85066;\n                                int64_t slice_85067;\n                                int64_t leq_arg0_85068;\n                                double leq_arg0_85069;\n                                bool cond_85070;\n                                bool cond_85071;\n                                bool lifted_lambda_res_f_res_t_res_85072;\n                                bool x_85073;\n                                bool x_85074;\n                                bool y_85075;\n                                bool lifted_lambda_res_85076;\n                                \n                                x_85053 = sle64((int64_t) 0, zgze_lhs_85047);\n                             ", "   y_85054 = slt64(zgze_lhs_85047, stride_66238);\n                                bounds_check_85055 = x_85053 && y_85054;\n                                if (!bounds_check_85055) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 157) == -1) {\n                                            global_failure_args[0] = (int64_t) zgze_lhs_85047;\n                                            global_failure_args[1] = (int64_t) stride_66238;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_10;\n                                    }\n                                }\n                                zm_lhs_85060 = add64(tt_84996, n_85045);\n                                leq_arg0_85061 = sub64(zm_lhs_85060, (int64_t) 1);\n                                x_85062 = sle64((int64_t) 0, leq_arg0_85061);\n                                y_85063 = slt64(leq_arg0_85061, j_m_i_66261);\n                                bounds_check_85064 = x_85062 && y_85063;\n                                if (!bounds_check_85064) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 158) == -1) {\n                                            global_failure_args[0] = (int64_t) leq_arg0_85061;\n                                            global_failure_args[1] = (int64_t) j_m_i_66261;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_10;\n                                    }\n                                }\n                                slice_85057 = start_84868 + zgze_lhs_85047;\n                                leq_arg1_85058 = ((__global int64_t *) mem_param_92301)[sli", "ce_85057];\n                                leq_arg1_85059 = ((__global double *) mem_param_92304)[slice_85057];\n                                slice_85066 = stride_66238 + leq_arg0_85061;\n                                slice_85067 = start_84868 + slice_85066;\n                                leq_arg0_85068 = ((__global int64_t *) mem_param_92301)[slice_85067];\n                                leq_arg0_85069 = ((__global double *) mem_param_92304)[slice_85067];\n                                cond_85070 = slt64(leq_arg0_85068, leq_arg1_85058);\n                                cond_85071 = leq_arg0_85068 == leq_arg1_85058;\n                                lifted_lambda_res_f_res_t_res_85072 = leq_arg0_85069 <= leq_arg1_85059;\n                                x_85073 = cond_85071 && lifted_lambda_res_f_res_t_res_85072;\n                                x_85074 = !cond_85070;\n                                y_85075 = x_85073 && x_85074;\n                                lifted_lambda_res_85076 = cond_85070 || y_85075;\n                                leq_y_x_85052 = lifted_lambda_res_85076;\n                            }\n                            if (leq_y_x_85052) {\n                                int64_t tmp_85080;\n                                int64_t tmp_85081;\n                                \n                                tmp_85080 = add64(tt_84996, n_85045);\n                                tmp_85081 = sub64(count_84998, n_85045);\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_85077 = tmp_85080;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_85078 = tt_84997;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_85079 = tmp_85081;\n                            } else {\n                                int64_t tmp_85082 = add64(tt_84996, n_85045);\n                                \n                                defunc_0_lifted_step_res_f_res_f_res_f_res_85077 = tt_84996;\n                         ",
                                    "       defunc_0_lifted_step_res_f_res_f_res_f_res_85078 = tmp_85082;\n                                defunc_0_lifted_step_res_f_res_f_res_f_res_85079 = count_84998;\n                            }\n                            defunc_0_lifted_step_res_f_res_f_res_85014 = ss_84994;\n                            defunc_0_lifted_step_res_f_res_f_res_85015 = defunc_0_lifted_step_res_f_res_f_res_f_res_85077;\n                            defunc_0_lifted_step_res_f_res_f_res_85016 = defunc_0_lifted_step_res_f_res_f_res_f_res_85078;\n                            defunc_0_lifted_step_res_f_res_f_res_85017 = defunc_0_lifted_step_res_f_res_f_res_f_res_85079;\n                        }\n                        defunc_0_lifted_step_res_f_res_85008 = defunc_0_lifted_step_res_f_res_f_res_85014;\n                        defunc_0_lifted_step_res_f_res_85009 = defunc_0_lifted_step_res_f_res_f_res_85015;\n                        defunc_0_lifted_step_res_f_res_85010 = defunc_0_lifted_step_res_f_res_f_res_85016;\n                        defunc_0_lifted_step_res_f_res_85011 = defunc_0_lifted_step_res_f_res_f_res_85017;\n                    }\n                    defunc_0_lifted_step_res_85001 = defunc_0_lifted_step_res_f_res_85008;\n                    defunc_0_lifted_step_res_85002 = defunc_0_lifted_step_res_f_res_85009;\n                    defunc_0_lifted_step_res_85003 = defunc_0_lifted_step_res_f_res_85010;\n                    defunc_0_lifted_step_res_85004 = defunc_0_lifted_step_res_f_res_85011;\n                }\n                futrts_lifted_normalizze_10121(&loopres_85083, &loopres_85084, &loopres_85085, &loopres_85086, &loopres_85087, defunc_0_lifted_step_res_85001, ss_84995, defunc_0_lifted_step_res_85002, defunc_0_lifted_step_res_85003, defunc_0_lifted_step_res_85004);\n                loop_cond_85088 = slt64((int64_t) 0, loopres_85087);\n                loop_while_tmp_97728 = loop_cond_85088;\n                ss_tmp_97729 = loopres_85083;\n                ss_tmp_97730 = loopres_85084;\n            ", "    tt_tmp_97731 = loopres_85085;\n                tt_tmp_97732 = loopres_85086;\n                count_tmp_97733 = loopres_85087;\n                loop_while_84993 = loop_while_tmp_97728;\n                ss_84994 = ss_tmp_97729;\n                ss_84995 = ss_tmp_97730;\n                tt_84996 = tt_tmp_97731;\n                tt_84997 = tt_tmp_97732;\n                count_84998 = count_tmp_97733;\n            }\n            defunc_0_split_count_res_84987 = loop_while_84993;\n            defunc_0_split_count_res_84988 = ss_84994;\n            defunc_0_split_count_res_84989 = ss_84995;\n            defunc_0_split_count_res_84990 = tt_84996;\n            defunc_0_split_count_res_84991 = tt_84997;\n            defunc_0_split_count_res_84992 = count_84998;\n            ((__local int64_t *) color_95830)[gtid_84977] = defunc_0_split_count_res_84988;\n            ((__local int64_t *) color_95822)[gtid_84977] = defunc_0_split_count_res_84990;\n        }\n        \n      error_10:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_85101 = sext_i32_i64(local_tid_97656);\n        gtid_85100 = sext_i32_i64(sext_i64_i32(ltid_pre_97684));\n        if (slt64(gtid_85100, num_blocks_66259)) {\n            bool y_85104;\n            bool index_certs_85106;\n            int64_t defunc_0_f_res_85107;\n            int64_t defunc_0_f_res_85108;\n            int64_t tmp_85109;\n            bool x_85110;\n            bool y_85111;\n            bool bounds_check_85112;\n            bool index_certs_85113;\n            int64_t defunc_0_f_res_85114;\n            int64_t defunc_0_f_res_85115;\n            int64_t merge_sequential_arg2_85116;\n            int64_t merge_sequential_arg2_85117;\n            int64_t j_m_i_85118;\n            bool empty_slice_85119;\n            int64_t m_85120;\n            int64_t i_p_m_t_s_85121;\n            bool zzero_leq_i_p_m_t_s_85122;\n            bool i_p_m_t_s_leq_w_85123;\n            bool zzero_lte_i_85", "124;\n            bool i_lte_j_85125;\n            bool y_85126;\n            bool y_85127;\n            bool forwards_ok_85128;\n            bool ok_or_empty_85129;\n            bool index_certs_85130;\n            int64_t j_m_i_85131;\n            bool empty_slice_85132;\n            int64_t m_85133;\n            int64_t i_p_m_t_s_85134;\n            bool zzero_leq_i_p_m_t_s_85135;\n            bool i_p_m_t_s_leq_w_85136;\n            bool zzero_lte_i_85137;\n            bool i_lte_j_85138;\n            bool y_85139;\n            bool y_85140;\n            bool forwards_ok_85141;\n            bool ok_or_empty_85142;\n            bool index_certs_85143;\n            bool cond_85144;\n            bool y_85155;\n            bool protect_assert_disj_95317;\n            bool index_certs_85156;\n            int64_t slice_85157;\n            int64_t binop_y_92927;\n            int64_t slice_85150;\n            int64_t binop_y_92929;\n            int64_t ext_92931;\n            int64_t dummy_85145;\n            double dummy_85146;\n            int64_t dummy_85148;\n            \n            y_85104 = slt64(gtid_85100, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260);\n            if (!y_85104) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 159) == -1) {\n                        global_failure_args[0] = (int64_t) gtid_85100;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            defunc_0_f_res_85107 = ((__local int64_t *) color_95830)[gtid_85100];\n            defunc_0_f_res_85108 = ((__local int64_t *) color_95822)[gtid_85100];\n            tmp_85109 = add64((int64_t) 1, gtid_85100);\n            x_85110 = sle64((int64_t) 0, tmp_85109);\n            y_85111 = slt64(tmp_85109, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260);\n            bounds_check_85112 = x_85",
                                    "110 && y_85111;\n            if (!bounds_check_85112) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 160) == -1) {\n                        global_failure_args[0] = (int64_t) tmp_85109;\n                        global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            defunc_0_f_res_85114 = ((__local int64_t *) color_95830)[tmp_85109];\n            defunc_0_f_res_85115 = ((__local int64_t *) color_95822)[tmp_85109];\n            merge_sequential_arg2_85116 = add64(stride_66238, defunc_0_f_res_85108);\n            merge_sequential_arg2_85117 = add64(stride_66238, defunc_0_f_res_85115);\n            j_m_i_85118 = sub64(merge_sequential_arg2_85117, merge_sequential_arg2_85116);\n            empty_slice_85119 = j_m_i_85118 == (int64_t) 0;\n            m_85120 = sub64(j_m_i_85118, (int64_t) 1);\n            i_p_m_t_s_85121 = add64(merge_sequential_arg2_85116, m_85120);\n            zzero_leq_i_p_m_t_s_85122 = sle64((int64_t) 0, i_p_m_t_s_85121);\n            i_p_m_t_s_leq_w_85123 = slt64(i_p_m_t_s_85121, next_stride_66239);\n            zzero_lte_i_85124 = sle64((int64_t) 0, merge_sequential_arg2_85116);\n            i_lte_j_85125 = sle64(merge_sequential_arg2_85116, merge_sequential_arg2_85117);\n            y_85126 = i_p_m_t_s_leq_w_85123 && zzero_lte_i_85124;\n            y_85127 = zzero_leq_i_p_m_t_s_85122 && y_85126;\n            forwards_ok_85128 = i_lte_j_85125 && y_85127;\n            ok_or_empty_85129 = empty_slice_85119 || forwards_ok_85128;\n            if (!ok_or_empty_85129) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 161) == -1) {\n                        global_failure_args[0] = (int64_t) merge_sequential_arg2_85116;\n                        global_failure_args[1] = (int64_t) merge_sequential_arg2_85117;", "\n                        global_failure_args[2] = (int64_t) next_stride_66239;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            j_m_i_85131 = sub64(defunc_0_f_res_85114, defunc_0_f_res_85107);\n            empty_slice_85132 = j_m_i_85131 == (int64_t) 0;\n            m_85133 = sub64(j_m_i_85131, (int64_t) 1);\n            i_p_m_t_s_85134 = add64(defunc_0_f_res_85107, m_85133);\n            zzero_leq_i_p_m_t_s_85135 = sle64((int64_t) 0, i_p_m_t_s_85134);\n            i_p_m_t_s_leq_w_85136 = slt64(i_p_m_t_s_85134, next_stride_66239);\n            zzero_lte_i_85137 = sle64((int64_t) 0, defunc_0_f_res_85107);\n            i_lte_j_85138 = sle64(defunc_0_f_res_85107, defunc_0_f_res_85114);\n            y_85139 = i_p_m_t_s_leq_w_85136 && zzero_lte_i_85137;\n            y_85140 = zzero_leq_i_p_m_t_s_85135 && y_85139;\n            forwards_ok_85141 = i_lte_j_85138 && y_85140;\n            ok_or_empty_85142 = empty_slice_85132 || forwards_ok_85141;\n            if (!ok_or_empty_85142) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 162) == -1) {\n                        global_failure_args[0] = (int64_t) defunc_0_f_res_85107;\n                        global_failure_args[1] = (int64_t) defunc_0_f_res_85114;\n                        global_failure_args[2] = (int64_t) next_stride_66239;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            cond_85144 = slt64((int64_t) 0, j_m_i_85131);\n            y_85155 = slt64((int64_t) 0, j_m_i_85118);\n            protect_assert_disj_95317 = cond_85144 || y_85155;\n            if (!protect_assert_disj_95317) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 163) == -1) {\n                        global_failure_args[0] = (int64_t) (int64_t) 0;\n            ", "            global_failure_args[1] = (int64_t) j_m_i_85118;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_11;\n                }\n            }\n            slice_85157 = start_84868 + merge_sequential_arg2_85116;\n            binop_y_92927 = dim_45874 * slice_85157;\n            slice_85150 = start_84868 + defunc_0_f_res_85107;\n            binop_y_92929 = dim_45874 * slice_85150;\n            if (cond_85144) {\n                ext_92931 = binop_y_92929;\n            } else {\n                ext_92931 = binop_y_92927;\n            }\n            if (cond_85144) {\n                int64_t head_res_85151;\n                double head_res_85152;\n                int64_t head_res_85154;\n                \n                head_res_85151 = ((__global int64_t *) mem_param_92301)[slice_85150];\n                head_res_85152 = ((__global double *) mem_param_92304)[slice_85150];\n                head_res_85154 = ((__global int64_t *) mem_param_92311)[slice_85150];\n                dummy_85145 = head_res_85151;\n                dummy_85146 = head_res_85152;\n                dummy_85148 = head_res_85154;\n            } else {\n                int64_t head_res_85158;\n                double head_res_85159;\n                int64_t head_res_85161;\n                \n                head_res_85158 = ((__global int64_t *) mem_param_92301)[slice_85157];\n                head_res_85159 = ((__global double *) mem_param_92304)[slice_85157];\n                head_res_85161 = ((__global int64_t *) mem_param_92311)[slice_85157];\n                dummy_85145 = head_res_85158;\n                dummy_85146 = head_res_85159;\n                dummy_85148 = head_res_85161;\n            }\n            ((__local int64_t *) color_95821)[gtid_85100] = dummy_85145;\n            ((__local double *) color_95820)[gtid_85100] = dummy_85146;\n            ((__local int64_t *) color_95819)[gtid_85100] = dummy_85148;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_",
                                    "0++) {\n                ((__local double *) color_95829)[gtid_85100 * dim_45874 + i_0] = ((__global double *) mem_param_92308)[ext_92931 + i_0];\n            }\n            ((__local int64_t *) color_95828)[gtid_85100] = defunc_0_f_res_85107;\n            ((__local int64_t *) color_95827)[gtid_85100] = merge_sequential_arg2_85116;\n            ((__local int64_t *) color_95826)[gtid_85100] = j_m_i_85118;\n            ((__local int64_t *) color_95824)[gtid_85100] = j_m_i_85131;\n        }\n        \n      error_11:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97737 = 0; chunk_i_97737 < num_chunks_97649; chunk_i_97737++) {\n            int32_t i_97738;\n            int64_t slice_97739;\n            int64_t slice_97740;\n            int64_t rep_i_97735;\n            int64_t remnant_97741;\n            int64_t rep_i_97736;\n            int64_t remnant_97742;\n            \n            i_97738 = chunk_i_97737 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n            slice_97739 = num_blocks_66259;\n            slice_97740 = merge_block_sizze_66061 * slice_97739;\n            rep_i_97735 = squot64(sext_i32_i64(i_97738), slice_97739);\n            remnant_97741 = sext_i32_i64(i_97738) - rep_i_97735 * slice_97739;\n            rep_i_97736 = remnant_97741;\n            remnant_97742 = remnant_97741 - rep_i_97736;\n            if ((sle64((int64_t) 0, rep_i_97735) && slt64(rep_i_97735, merge_block_sizze_66061)) && (sle64((int64_t) 0, rep_i_97736) && slt64(rep_i_97736, num_blocks_66259))) {\n                int64_t tmp_97743 = ((__local int64_t *) color_95821)[rep_i_97736];\n                \n                ((__local int64_t *) color_95822)[rep_i_97735 * num_blocks_66259 + rep_i_97736] = tmp_97743;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97747 = 0; chunk_i_97747 < num_chunks_97649; chunk_i_97747++) {\n            int32_t i_97748;\n   ", "         int64_t slice_97749;\n            int64_t slice_97750;\n            int64_t rep_i_97745;\n            int64_t remnant_97751;\n            int64_t rep_i_97746;\n            int64_t remnant_97752;\n            \n            i_97748 = chunk_i_97747 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n            slice_97749 = num_blocks_66259;\n            slice_97750 = merge_block_sizze_66061 * slice_97749;\n            rep_i_97745 = squot64(sext_i32_i64(i_97748), slice_97749);\n            remnant_97751 = sext_i32_i64(i_97748) - rep_i_97745 * slice_97749;\n            rep_i_97746 = remnant_97751;\n            remnant_97752 = remnant_97751 - rep_i_97746;\n            if ((sle64((int64_t) 0, rep_i_97745) && slt64(rep_i_97745, merge_block_sizze_66061)) && (sle64((int64_t) 0, rep_i_97746) && slt64(rep_i_97746, num_blocks_66259))) {\n                double tmp_97753 = ((__local double *) color_95820)[rep_i_97746];\n                \n                ((__local double *) color_95821)[rep_i_97745 * num_blocks_66259 + rep_i_97746] = tmp_97753;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97757 = 0; chunk_i_97757 < num_chunks_97649; chunk_i_97757++) {\n            int32_t i_97758;\n            int64_t slice_97759;\n            int64_t slice_97760;\n            int64_t rep_i_97755;\n            int64_t remnant_97761;\n            int64_t rep_i_97756;\n            int64_t remnant_97762;\n            \n            i_97758 = chunk_i_97757 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n            slice_97759 = num_blocks_66259;\n            slice_97760 = merge_block_sizze_66061 * slice_97759;\n            rep_i_97755 = squot64(sext_i32_i64(i_97758), slice_97759);\n            remnant_97761 = sext_i32_i64(i_97758) - rep_i_97755 * slice_97759;\n            rep_i_97756 = remnant_97761;\n            remnant_97762 = remnant_97761 - rep_i_97756;\n            if ((sle64((int64_t) 0, rep_i_97755) && slt64(rep_i_97755, merge_block_sizze_6606", "1)) && (sle64((int64_t) 0, rep_i_97756) && slt64(rep_i_97756, num_blocks_66259))) {\n                int64_t tmp_97763 = ((__local int64_t *) color_95819)[rep_i_97756];\n                \n                ((__local int64_t *) color_95820)[rep_i_97755 * num_blocks_66259 + rep_i_97756] = tmp_97763;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int32_t chunk_i_97768 = 0; chunk_i_97768 < num_chunks_97648; chunk_i_97768++) {\n            int32_t i_97769;\n            int64_t slice_97770;\n            int64_t slice_97771;\n            int64_t slice_97772;\n            int64_t rep_i_97765;\n            int64_t remnant_97773;\n            int64_t rep_i_97766;\n            int64_t remnant_97774;\n            int64_t rep_i_97767;\n            int64_t remnant_97775;\n            \n            i_97769 = chunk_i_97768 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n            slice_97770 = num_blocks_66259;\n            slice_97771 = dim_45874 * slice_97770;\n            slice_97772 = merge_block_sizze_66061 * slice_97771;\n            rep_i_97765 = squot64(sext_i32_i64(i_97769), slice_97771);\n            remnant_97773 = sext_i32_i64(i_97769) - rep_i_97765 * slice_97771;\n            rep_i_97766 = squot64(remnant_97773, slice_97770);\n            remnant_97774 = remnant_97773 - rep_i_97766 * slice_97770;\n            rep_i_97767 = remnant_97774;\n            remnant_97775 = remnant_97774 - rep_i_97767;\n            if (((sle64((int64_t) 0, rep_i_97765) && slt64(rep_i_97765, merge_block_sizze_66061)) && (sle64((int64_t) 0, rep_i_97766) && slt64(rep_i_97766, dim_45874))) && (sle64((int64_t) 0, rep_i_97767) && slt64(rep_i_97767, num_blocks_66259))) {\n                double tmp_97776 = ((__local double *) color_95829)[rep_i_97766 + rep_i_97767 * dim_45874];\n                \n                ((__local double *) color_95819)[rep_i_97765 * (num_blocks_66259 * dim_45874) + rep_i_97766 * num_blocks_66259 + rep_i_97767] = tmp_97776;\n            }\n        }\n        barr",
                                    "ier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_85179 = sext_i32_i64(local_tid_97656);\n        gtid_85178 = sext_i32_i64(sext_i64_i32(ltid_pre_97684));\n        if (slt64(gtid_85178, num_blocks_66259)) {\n            int64_t defunc_0_f_res_85180;\n            int64_t merge_sequential_arg2_85181;\n            int64_t j_m_i_85182;\n            bool index_certs_85183;\n            int64_t j_m_i_85184;\n            bool index_certs_85185;\n            int64_t data_85190;\n            int64_t i_85196;\n            \n            defunc_0_f_res_85180 = ((__local int64_t *) color_95828)[gtid_85178];\n            merge_sequential_arg2_85181 = ((__local int64_t *) color_95827)[gtid_85178];\n            j_m_i_85182 = ((__local int64_t *) color_95826)[gtid_85178];\n            index_certs_85183 = 0;\n            j_m_i_85184 = ((__local int64_t *) color_95824)[gtid_85178];\n            index_certs_85185 = 0;\n            i_85196 = (int64_t) 0;\n            for (int64_t k_85195 = 0; k_85195 < merge_block_sizze_66061; k_85195++) {\n                int64_t j_85201;\n                bool cond_85202;\n                bool x_95541;\n                bool cond_85204;\n                bool x_85206;\n                bool y_85207;\n                bool bounds_check_85208;\n                bool loop_not_taken_95529;\n                bool protect_assert_disj_95530;\n                bool protect_assert_disj_95544;\n                bool index_certs_85209;\n                int64_t slice_85210;\n                int64_t slice_85211;\n                bool protect_cond_conj_95545;\n                int64_t leq_arg1_85212;\n                double leq_arg1_85213;\n                bool x_85214;\n                bool bounds_check_85215;\n                bool protect_assert_disj_95536;\n                bool protect_assert_disj_95548;\n                bool index_certs_85216;\n                int64_t slice_85217;\n                int64_t slice_85218;\n                int64_t leq_arg0_85219;\n                double leq_arg0_85220;\n                bool co", "nd_85221;\n                bool cond_85222;\n                bool lifted_lambda_res_f_res_t_res_85223;\n                bool x_85224;\n                bool x_85225;\n                bool y_85226;\n                bool lifted_lambda_res_85227;\n                bool x_95644;\n                bool cond_85203;\n                bool protect_assert_disj_95309;\n                bool index_certs_85247;\n                bool loop_not_taken_95304;\n                bool protect_assert_disj_95305;\n                bool index_certs_85237;\n                int64_t binop_y_92978;\n                int64_t binop_y_92980;\n                int64_t ext_92982;\n                int64_t loopres_85228;\n                int64_t loopres_85229;\n                double loopres_85230;\n                int64_t loopres_85232;\n                int64_t i_tmp_97777;\n                \n                j_85201 = sub64(k_85195, i_85196);\n                cond_85202 = j_85201 == j_m_i_85182;\n                x_95541 = !cond_85202;\n                cond_85204 = slt64(i_85196, j_m_i_85184);\n                x_85206 = sle64((int64_t) 0, j_85201);\n                y_85207 = slt64(j_85201, j_m_i_85182);\n                bounds_check_85208 = x_85206 && y_85207;\n                loop_not_taken_95529 = !cond_85204;\n                protect_assert_disj_95530 = bounds_check_85208 || loop_not_taken_95529;\n                protect_assert_disj_95544 = cond_85202 || protect_assert_disj_95530;\n                if (!protect_assert_disj_95544) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 164) == -1) {\n                            global_failure_args[0] = (int64_t) j_85201;\n                            global_failure_args[1] = (int64_t) j_m_i_85182;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_12;\n                    }\n                }\n                slice_85210 = merge_sequential_arg2_85181 + j_85201;\n           ", "     slice_85211 = start_84868 + slice_85210;\n                protect_cond_conj_95545 = cond_85204 && x_95541;\n                if (protect_cond_conj_95545) {\n                    int64_t x_95531 = ((__global int64_t *) mem_param_92301)[slice_85211];\n                    \n                    leq_arg1_85212 = x_95531;\n                } else {\n                    leq_arg1_85212 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95545) {\n                    double x_95533 = ((__global double *) mem_param_92304)[slice_85211];\n                    \n                    leq_arg1_85213 = x_95533;\n                } else {\n                    leq_arg1_85213 = 0.0;\n                }\n                x_85214 = sle64((int64_t) 0, i_85196);\n                bounds_check_85215 = cond_85204 && x_85214;\n                protect_assert_disj_95536 = bounds_check_85215 || loop_not_taken_95529;\n                protect_assert_disj_95548 = cond_85202 || protect_assert_disj_95536;\n                if (!protect_assert_disj_95548) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 165) == -1) {\n                            global_failure_args[0] = (int64_t) i_85196;\n                            global_failure_args[1] = (int64_t) j_m_i_85184;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_12;\n                    }\n                }\n                slice_85217 = defunc_0_f_res_85180 + i_85196;\n                slice_85218 = start_84868 + slice_85217;\n                if (protect_cond_conj_95545) {\n                    int64_t x_95537 = ((__global int64_t *) mem_param_92301)[slice_85218];\n                    \n                    leq_arg0_85219 = x_95537;\n                } else {\n                    leq_arg0_85219 = (int64_t) 0;\n                }\n                if (protect_cond_conj_95545) {\n                    double x_95539 = ((__global double *) mem_par",
                                    "am_92304)[slice_85218];\n                    \n                    leq_arg0_85220 = x_95539;\n                } else {\n                    leq_arg0_85220 = 0.0;\n                }\n                cond_85221 = slt64(leq_arg0_85219, leq_arg1_85212);\n                cond_85222 = leq_arg0_85219 == leq_arg1_85212;\n                lifted_lambda_res_f_res_t_res_85223 = leq_arg0_85220 <= leq_arg1_85213;\n                x_85224 = cond_85222 && lifted_lambda_res_f_res_t_res_85223;\n                x_85225 = !cond_85221;\n                y_85226 = x_85224 && x_85225;\n                lifted_lambda_res_85227 = cond_85221 || y_85226;\n                x_95644 = cond_85204 && lifted_lambda_res_85227;\n                cond_85203 = cond_85202 || x_95644;\n                protect_assert_disj_95309 = cond_85203 || bounds_check_85208;\n                if (!protect_assert_disj_95309) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 166) == -1) {\n                            global_failure_args[0] = (int64_t) j_85201;\n                            global_failure_args[1] = (int64_t) j_m_i_85182;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_12;\n                    }\n                }\n                loop_not_taken_95304 = !cond_85203;\n                protect_assert_disj_95305 = bounds_check_85215 || loop_not_taken_95304;\n                if (!protect_assert_disj_95305) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 167) == -1) {\n                            global_failure_args[0] = (int64_t) i_85196;\n                            global_failure_args[1] = (int64_t) j_m_i_85184;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_12;\n                    }\n                }\n                binop_y_92978 = dim_45874 * slice_85211;\n              ", "  binop_y_92980 = dim_45874 * slice_85218;\n                if (cond_85203) {\n                    ext_92982 = binop_y_92980;\n                } else {\n                    ext_92982 = binop_y_92978;\n                }\n                if (cond_85203) {\n                    int64_t tmp_85233;\n                    int64_t tmp_85240;\n                    double tmp_85241;\n                    int64_t tmp_85243;\n                    \n                    tmp_85233 = add64((int64_t) 1, i_85196);\n                    tmp_85240 = ((__global int64_t *) mem_param_92301)[slice_85218];\n                    tmp_85241 = ((__global double *) mem_param_92304)[slice_85218];\n                    tmp_85243 = ((__global int64_t *) mem_param_92311)[slice_85218];\n                    loopres_85228 = tmp_85233;\n                    loopres_85229 = tmp_85240;\n                    loopres_85230 = tmp_85241;\n                    loopres_85232 = tmp_85243;\n                } else {\n                    int64_t tmp_85250;\n                    double tmp_85251;\n                    int64_t tmp_85253;\n                    \n                    tmp_85250 = ((__global int64_t *) mem_param_92301)[slice_85211];\n                    tmp_85251 = ((__global double *) mem_param_92304)[slice_85211];\n                    tmp_85253 = ((__global int64_t *) mem_param_92311)[slice_85211];\n                    loopres_85228 = i_85196;\n                    loopres_85229 = tmp_85250;\n                    loopres_85230 = tmp_85251;\n                    loopres_85232 = tmp_85253;\n                }\n                ((__local int64_t *) color_95822)[gtid_85178 + k_85195 * num_blocks_66259] = loopres_85229;\n                ((__local double *) color_95821)[gtid_85178 + k_85195 * num_blocks_66259] = loopres_85230;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__local double *) color_95819)[gtid_85178 + k_85195 * lmad_arg_92673 + i_0 * num_blocks_66259] = ((__global double *) mem_param_92308)[ext_92982 + i_0];", "\n                }\n                ((__local int64_t *) color_95820)[gtid_85178 + k_85195 * num_blocks_66259] = loopres_85232;\n                i_tmp_97777 = loopres_85228;\n                i_85196 = i_tmp_97777;\n            }\n            data_85190 = i_85196;\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n                ((__local int64_t *) color_95818)[gtid_85178 * merge_block_sizze_66061 + i_0] = ((__local int64_t *) color_95822)[gtid_85178 + i_0 * num_blocks_66259];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n                ((__local double *) color_95817)[gtid_85178 * merge_block_sizze_66061 + i_0] = ((__local double *) color_95821)[gtid_85178 + i_0 * num_blocks_66259];\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n                for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                    ((__local double *) color_95816)[gtid_85178 * (dim_45874 * merge_block_sizze_66061) + (i_0 * dim_45874 + i_1)] = ((__local double *) color_95819)[gtid_85178 + (i_0 * lmad_arg_92673 + i_1 * num_blocks_66259)];\n                }\n            }\n            for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n                ((__local int64_t *) color_95815)[gtid_85178 * merge_block_sizze_66061 + i_0] = ((__local int64_t *) color_95820)[gtid_85178 + i_0 * num_blocks_66259];\n            }\n        }\n        \n      error_12:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        ext_mem_93066 = color_95818;\n        ext_mem_93063 = color_95817;\n        ext_mem_93060 = color_95816;\n        ext_mem_93056 = color_95815;\n    }\n    num_chunks_97782 = sdiv_up32(sext_i64_i32(next_stride_66239), sext_i64_i32(computed_tblock_sizze_84570));\n    for (int32_t chunk_i_97783 = 0; chunk_i_97783 < num_chunks_97782; chunk_i_97783++) {\n        int32_t i_97784 = chunk_i_97783 * sext_i64_i32(computed_t",
                                    "block_sizze_84570) + local_tid_97656;\n        \n        if (slt32(i_97784, sext_i64_i32(next_stride_66239))) {\n            ((__global int64_t *) mem_93069)[gtid_84865 * next_stride_66239 + sext_i32_i64(i_97784)] = ((__local int64_t *) ext_mem_93066)[sext_i32_i64(i_97784)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97785 = sdiv_up32(sext_i64_i32(next_stride_66239), sext_i64_i32(computed_tblock_sizze_84570));\n    for (int32_t chunk_i_97786 = 0; chunk_i_97786 < num_chunks_97785; chunk_i_97786++) {\n        int32_t i_97787 = chunk_i_97786 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n        \n        if (slt32(i_97787, sext_i64_i32(next_stride_66239))) {\n            ((__global double *) mem_93072)[gtid_84865 * next_stride_66239 + sext_i32_i64(i_97787)] = ((__local double *) ext_mem_93063)[sext_i32_i64(i_97787)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97788 = sdiv_up32(sext_i64_i32(next_stride_66239) * sext_i64_i32(dim_45874), sext_i64_i32(computed_tblock_sizze_84570));\n    for (int32_t chunk_i_97789 = 0; chunk_i_97789 < num_chunks_97788; chunk_i_97789++) {\n        int32_t i_97790 = chunk_i_97789 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n        \n        if (slt32(i_97790, sext_i64_i32(next_stride_66239) * sext_i64_i32(dim_45874))) {\n            ((__global double *) mem_93076)[gtid_84865 * (dim_45874 * next_stride_66239) + sext_i32_i64(squot32(i_97790, sext_i64_i32(dim_45874))) * dim_45874 + sext_i32_i64(i_97790 - squot32(i_97790, sext_i64_i32(dim_45874)) * sext_i64_i32(dim_45874))] = ((__local double *) ext_mem_93060)[sext_i32_i64(squot32(i_97790, sext_i64_i32(dim_45874))) * dim_45874 + sext_i32_i64(i_97790 - squot32(i_97790, sext_i64_i32(dim_45874)) * sext_i64_i32(dim_45874))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_97791 = sdiv_up32(sext_i64_i32(next_stride_66239), sext_i64_i32(computed_tblock_sizze_84570));\n    for (int32_t chunk_i_97792 = 0; chunk_i_97792 <", " num_chunks_97791; chunk_i_97792++) {\n        int32_t i_97793 = chunk_i_97792 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97656;\n        \n        if (slt32(i_97793, sext_i64_i32(next_stride_66239))) {\n            ((__global int64_t *) mem_93079)[gtid_84865 * next_stride_66239 + sext_i32_i64(i_97793)] = ((__local int64_t *) ext_mem_93056)[sext_i32_i64(i_97793)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_13:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_88035(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t merge_block_sizze_66061, int64_t stride_66238, int64_t next_stride_66239, int64_t num_merges_66243, int64_t num_blocks_66259, int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, int64_t j_m_i_66261, int64_t computed_tblock_sizze_84570, int64_t bytes_92628, int64_t bytes_92648, int64_t lmad_arg_92673, int64_t maxSubHelper_95831, int64_t maxSubHelper_95832, int64_t maxSubHelper_95833, int64_t maxSubHelper_95834, int64_t maxSubHelper_95835, int64_t maxSubHelper_95836, int32_t num_chunks_97963, int32_t num_chunks_97964, __global unsigned char *mem_param_92301, __global unsigned char *mem_param_92304, __global unsigned char *mem_param_92308, __global unsigned char *mem_param_92311, __global unsigned char *mem_92313, __global unsigned char *mem_92314, __global unsigned char *mem_92707, __global unsigned char *mem_92710, __global unsigned char *mem_92714, __global unsigned char *mem_92717)\n{\n    volatile __local unsigned char *color_95850_backing_13 = &shared_mem[0];\n    const int64_t color_95850_backing_13_offset = 0 + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95849_backing_12 = &shared_mem[color_95850_backing_13_offset];\n    const int64_t color_95849_backing_12_offset = color_95850_backing_13_offset + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_", "92628, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95848_backing_11 = &shared_mem[color_95849_backing_12_offset];\n    const int64_t color_95848_backing_11_offset = color_95849_backing_12_offset + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95847_backing_10 = &shared_mem[color_95848_backing_11_offset];\n    const int64_t color_95847_backing_10_offset = color_95848_backing_11_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95846_backing_9 = &shared_mem[color_95847_backing_10_offset];\n    const int64_t color_95846_backing_9_offset = color_95847_backing_10_offset + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95845_backing_8 = &shared_mem[color_95846_backing_9_offset];\n    const int64_t color_95845_backing_8_offset = color_95846_backing_9_offset + (int64_t) 0;\n    volatile __local unsigned char *color_95844_backing_7 = &shared_mem[color_95845_backing_8_offset];\n    const int64_t color_95844_backing_7_offset = color_95845_backing_8_offset + (bytes_92648 + srem64((int64_t) 8 - srem64(bytes_92648, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95843_backing_6 = &shared_mem[color_95844_backing_7_offset];\n    const int64_t color_95843_backing_6_offset = color_95844_backing_7_offset + (bytes_92648 + srem64((int64_t) 8 - srem64(bytes_92648, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95842_backing_5 = &shared_mem[color_95843_backing_6_offset];\n    const int64_t color_95842_backing_5_offset = color_95843_backing_6_offset + (maxSubHelper_95836 + srem64((int64_t) 8 - srem64(maxSubHelper_95836, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95841_backing_4 = &shared_mem[color_95842_backing_5_offset];\n    const int64_t color_95841_backing_4_offset = color_95842_backing_5_offset + (maxSubHelper_95835 + sre",
                                    "m64((int64_t) 8 - srem64(maxSubHelper_95835, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95840_backing_3 = &shared_mem[color_95841_backing_4_offset];\n    const int64_t color_95840_backing_3_offset = color_95841_backing_4_offset + (maxSubHelper_95834 + srem64((int64_t) 8 - srem64(maxSubHelper_95834, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95839_backing_2 = &shared_mem[color_95840_backing_3_offset];\n    const int64_t color_95839_backing_2_offset = color_95840_backing_3_offset + (maxSubHelper_95833 + srem64((int64_t) 8 - srem64(maxSubHelper_95833, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95838_backing_1 = &shared_mem[color_95839_backing_2_offset];\n    const int64_t color_95838_backing_1_offset = color_95839_backing_2_offset + (maxSubHelper_95832 + srem64((int64_t) 8 - srem64(maxSubHelper_95832, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95837_backing_0 = &shared_mem[color_95838_backing_1_offset];\n    const int64_t color_95837_backing_0_offset = color_95838_backing_1_offset + (maxSubHelper_95831 + srem64((int64_t) 8 - srem64(maxSubHelper_95831, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    // Harmless for all threads to write this.\n    local_failure = 0;\n    \n    int32_t local_tid_97969;\n    int32_t tblock_sizze_97972;\n    int32_t wave_sizze_97971;\n    int32_t block_id_97970;\n    int32_t global_tid_97968;\n    int64_t phys_tblock_id_88035;\n    int64_t slice_97976;\n    int64_t slice_97977;\n    int64_t slice_97978;\n    int64_t ltid_pre_97973;\n    int64_t remnant_97979;\n    int64_t ltid_pre_97974;\n    int64_t remnant_97980;\n    int64_t ltid_pre_97975;\n    int64_t remnant_97981;\n    int64_t slice_97984;\n    int64_t slice_97985;\n    int64_t ltid_pre_97982;\n    int64_t remnant_97986;\n    int64_t ltid_pre_97983;\n    int64_t remnant_97987;\n    int64_t slice_97989;\n    int64_t ltid_pre_97988;\n    int64_t remnant_97990;\n    int64_t sli", "ce_97992;\n    int64_t ltid_pre_97991;\n    int64_t remnant_97993;\n    int64_t slice_97994;\n    int64_t gtid_88034;\n    int64_t remnant_97995;\n    __local unsigned char *color_95837;\n    __local unsigned char *color_95838;\n    __local unsigned char *color_95839;\n    __local unsigned char *color_95840;\n    __local unsigned char *color_95841;\n    __local unsigned char *color_95842;\n    __local unsigned char *color_95843;\n    __local unsigned char *color_95844;\n    __local unsigned char *color_95845;\n    __local unsigned char *color_95846;\n    __local unsigned char *color_95847;\n    __local unsigned char *color_95848;\n    __local unsigned char *color_95849;\n    __local unsigned char *color_95850;\n    int64_t index_primexp_91406;\n    bool index_certs_88037;\n    bool index_certs_88038;\n    int64_t phys_tid_88042;\n    int64_t gtid_88041;\n    int64_t phys_tid_88164;\n    int64_t gtid_88163;\n    int64_t phys_tid_88242;\n    int64_t gtid_88241;\n    int32_t num_chunks_98050;\n    int32_t num_chunks_98053;\n    int32_t num_chunks_98056;\n    int32_t num_chunks_98059;\n    \n    local_tid_97969 = get_local_id(0);\n    tblock_sizze_97972 = get_local_size(0);\n    wave_sizze_97971 = LOCKSTEP_WIDTH;\n    block_id_97970 = get_tblock_id(0);\n    global_tid_97968 = block_id_97970 * tblock_sizze_97972 + local_tid_97969;\n    phys_tblock_id_88035 = sext_i32_i64(block_id_97970);\n    slice_97976 = num_blocks_66259;\n    slice_97977 = dim_45874 * slice_97976;\n    slice_97978 = merge_block_sizze_66061 * slice_97977;\n    ltid_pre_97973 = squot64(sext_i32_i64(local_tid_97969), slice_97977);\n    remnant_97979 = sext_i32_i64(local_tid_97969) - ltid_pre_97973 * slice_97977;\n    ltid_pre_97974 = squot64(remnant_97979, slice_97976);\n    remnant_97980 = remnant_97979 - ltid_pre_97974 * slice_97976;\n    ltid_pre_97975 = remnant_97980;\n    remnant_97981 = remnant_97980 - ltid_pre_97975;\n    slice_97984 = num_blocks_66259;\n    slice_97985 = merge_block_sizze_66061 * slice_97984;\n    ltid_pre_97982 = squot64(sext_i3", "2_i64(local_tid_97969), slice_97984);\n    remnant_97986 = sext_i32_i64(local_tid_97969) - ltid_pre_97982 * slice_97984;\n    ltid_pre_97983 = remnant_97986;\n    remnant_97987 = remnant_97986 - ltid_pre_97983;\n    slice_97989 = num_blocks_66259;\n    ltid_pre_97988 = sext_i32_i64(local_tid_97969);\n    remnant_97990 = sext_i32_i64(local_tid_97969) - ltid_pre_97988;\n    slice_97992 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n    ltid_pre_97991 = sext_i32_i64(local_tid_97969);\n    remnant_97993 = sext_i32_i64(local_tid_97969) - ltid_pre_97991;\n    slice_97994 = num_merges_66243;\n    gtid_88034 = sext_i32_i64(block_id_97970);\n    remnant_97995 = sext_i32_i64(block_id_97970) - gtid_88034;\n    color_95837 = (__local unsigned char *) color_95837_backing_0;\n    color_95838 = (__local unsigned char *) color_95838_backing_1;\n    color_95839 = (__local unsigned char *) color_95839_backing_2;\n    color_95840 = (__local unsigned char *) color_95840_backing_3;\n    color_95841 = (__local unsigned char *) color_95841_backing_4;\n    color_95842 = (__local unsigned char *) color_95842_backing_5;\n    color_95843 = (__local unsigned char *) color_95843_backing_6;\n    color_95844 = (__local unsigned char *) color_95844_backing_7;\n    color_95845 = (__local unsigned char *) color_95845_backing_8;\n    color_95846 = (__local unsigned char *) color_95846_backing_9;\n    color_95847 = (__local unsigned char *) color_95847_backing_10;\n    color_95848 = (__local unsigned char *) color_95848_backing_11;\n    color_95849 = (__local unsigned char *) color_95849_backing_12;\n    color_95850 = (__local unsigned char *) color_95850_backing_13;\n    index_primexp_91406 = mul64(next_stride_66239, gtid_88034);\n    index_certs_88037 = 0;\n    index_certs_88038 = 0;\n    phys_tid_88042 = sext_i32_i64(local_tid_97969);\n    gtid_88041 = sext_i32_i64(sext_i64_i32(ltid_pre_97991));\n    if (slt64(gtid_88041, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260)) {\n        int64_t split_count_arg3_88044;\n        int64_t de",
                                    "func_0_split_count_res_88045;\n        int64_t defunc_0_split_count_res_88046;\n        int64_t defunc_0_split_count_res_88047;\n        int64_t defunc_0_split_count_res_88048;\n        int64_t defunc_0_split_count_res_88049;\n        bool loop_cond_88050;\n        bool defunc_0_split_count_res_88051;\n        int64_t defunc_0_split_count_res_88052;\n        int64_t defunc_0_split_count_res_88053;\n        int64_t defunc_0_split_count_res_88054;\n        int64_t defunc_0_split_count_res_88055;\n        int64_t defunc_0_split_count_res_88056;\n        bool loop_while_88057;\n        int64_t ss_88058;\n        int64_t ss_88059;\n        int64_t tt_88060;\n        int64_t tt_88061;\n        int64_t count_88062;\n        \n        split_count_arg3_88044 = mul64(merge_block_sizze_66061, gtid_88041);\n        futrts_lifted_normalizze_10121(&defunc_0_split_count_res_88045, &defunc_0_split_count_res_88046, &defunc_0_split_count_res_88047, &defunc_0_split_count_res_88048, &defunc_0_split_count_res_88049, (int64_t) 0, stride_66238, (int64_t) 0, j_m_i_66261, split_count_arg3_88044);\n        loop_cond_88050 = slt64((int64_t) 0, defunc_0_split_count_res_88049);\n        loop_while_88057 = loop_cond_88050;\n        ss_88058 = defunc_0_split_count_res_88045;\n        ss_88059 = defunc_0_split_count_res_88046;\n        tt_88060 = defunc_0_split_count_res_88047;\n        tt_88061 = defunc_0_split_count_res_88048;\n        count_88062 = defunc_0_split_count_res_88049;\n        while (loop_while_88057) {\n            int64_t zlze_lhs_88063;\n            bool cond_88064;\n            int64_t defunc_0_lifted_step_res_88065;\n            int64_t defunc_0_lifted_step_res_88066;\n            int64_t defunc_0_lifted_step_res_88067;\n            int64_t defunc_0_lifted_step_res_88068;\n            int64_t loopres_88147;\n            int64_t loopres_88148;\n            int64_t loopres_88149;\n            int64_t loopres_88150;\n            int64_t loopres_88151;\n            bool loop_cond_88152;\n            bool loop_while_tmp_97", "996;\n            int64_t ss_tmp_97997;\n            int64_t ss_tmp_97998;\n            int64_t tt_tmp_97999;\n            int64_t tt_tmp_98000;\n            int64_t count_tmp_98001;\n            \n            zlze_lhs_88063 = sub64(ss_88059, ss_88058);\n            cond_88064 = sle64(zlze_lhs_88063, (int64_t) 0);\n            if (cond_88064) {\n                int64_t tmp_88069 = add64(tt_88060, count_88062);\n                \n                defunc_0_lifted_step_res_88065 = ss_88058;\n                defunc_0_lifted_step_res_88066 = tmp_88069;\n                defunc_0_lifted_step_res_88067 = tt_88061;\n                defunc_0_lifted_step_res_88068 = (int64_t) 0;\n            } else {\n                int64_t zlze_lhs_88070;\n                bool cond_88071;\n                int64_t defunc_0_lifted_step_res_f_res_88072;\n                int64_t defunc_0_lifted_step_res_f_res_88073;\n                int64_t defunc_0_lifted_step_res_f_res_88074;\n                int64_t defunc_0_lifted_step_res_f_res_88075;\n                \n                zlze_lhs_88070 = sub64(tt_88061, tt_88060);\n                cond_88071 = sle64(zlze_lhs_88070, (int64_t) 0);\n                if (cond_88071) {\n                    int64_t tmp_88076 = add64(ss_88058, count_88062);\n                    \n                    defunc_0_lifted_step_res_f_res_88072 = tmp_88076;\n                    defunc_0_lifted_step_res_f_res_88073 = tt_88060;\n                    defunc_0_lifted_step_res_f_res_88074 = tt_88061;\n                    defunc_0_lifted_step_res_f_res_88075 = (int64_t) 0;\n                } else {\n                    bool cond_88077;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_88078;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_88079;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_88080;\n                    int64_t defunc_0_lifted_step_res_f_res_f_res_88081;\n                    \n                    cond_88077 = count_88062 == (int64_t) 1;\n                  ", "  if (cond_88077) {\n                        bool x_88082;\n                        bool y_88083;\n                        bool bounds_check_88084;\n                        bool index_certs_88085;\n                        bool x_88089;\n                        bool y_88090;\n                        bool bounds_check_88091;\n                        bool index_certs_88092;\n                        int64_t slice_88086;\n                        int64_t leq_arg1_88087;\n                        double leq_arg1_88088;\n                        int64_t slice_88093;\n                        int64_t slice_88094;\n                        int64_t leq_arg0_88095;\n                        double leq_arg0_88096;\n                        bool cond_88097;\n                        bool cond_88098;\n                        bool lifted_lambda_res_f_res_t_res_88099;\n                        bool x_88100;\n                        bool x_88101;\n                        bool y_88102;\n                        bool lifted_lambda_res_88103;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_88104;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_88105;\n                        \n                        x_88082 = sle64((int64_t) 0, ss_88058);\n                        y_88083 = slt64(ss_88058, stride_66238);\n                        bounds_check_88084 = x_88082 && y_88083;\n                        if (!bounds_check_88084) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 174) == -1) {\n                                    global_failure_args[0] = (int64_t) ss_88058;\n                                    global_failure_args[1] = (int64_t) stride_66238;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        x_88089 = sle64((i",
                                    "nt64_t) 0, tt_88060);\n                        y_88090 = slt64(tt_88060, j_m_i_66261);\n                        bounds_check_88091 = x_88089 && y_88090;\n                        if (!bounds_check_88091) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 175) == -1) {\n                                    global_failure_args[0] = (int64_t) tt_88060;\n                                    global_failure_args[1] = (int64_t) j_m_i_66261;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        slice_88086 = ss_88058 + index_primexp_91406;\n                        leq_arg1_88087 = ((__global int64_t *) mem_param_92301)[slice_88086];\n                        leq_arg1_88088 = ((__global double *) mem_param_92304)[slice_88086];\n                        slice_88093 = stride_66238 + tt_88060;\n                        slice_88094 = slice_88093 + index_primexp_91406;\n                        leq_arg0_88095 = ((__global int64_t *) mem_param_92301)[slice_88094];\n                        leq_arg0_88096 = ((__global double *) mem_param_92304)[slice_88094];\n                        cond_88097 = slt64(leq_arg0_88095, leq_arg1_88087);\n                        cond_88098 = leq_arg0_88095 == leq_arg1_88087;\n                        lifted_lambda_res_f_res_t_res_88099 = leq_arg0_88096 <= leq_arg1_88088;\n                        x_88100 = cond_88098 && lifted_lambda_res_f_res_t_res_88099;\n                        x_88101 = !cond_88097;\n                        y_88102 = x_88100 && x_88101;\n                        lifted_lambda_res_88103 = cond_88097 || y_88102;\n                        if (lifted_lambda_res_88103) {\n                            int64_t tmp_88106 = add64((int64_t) 1, tt_88060);\n                            \n                            defunc_0_l", "ifted_step_res_f_res_f_res_t_res_88104 = ss_88058;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_88105 = tmp_88106;\n                        } else {\n                            int64_t tmp_88107 = add64((int64_t) 1, ss_88058);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_t_res_88104 = tmp_88107;\n                            defunc_0_lifted_step_res_f_res_f_res_t_res_88105 = tt_88060;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_88078 = defunc_0_lifted_step_res_f_res_f_res_t_res_88104;\n                        defunc_0_lifted_step_res_f_res_f_res_88079 = defunc_0_lifted_step_res_f_res_f_res_t_res_88105;\n                        defunc_0_lifted_step_res_f_res_f_res_88080 = tt_88061;\n                        defunc_0_lifted_step_res_f_res_f_res_88081 = (int64_t) 0;\n                    } else {\n                        int64_t m_88108;\n                        int64_t n_88109;\n                        bool cond_88110;\n                        int64_t zgze_lhs_88111;\n                        bool cond_f_res_88112;\n                        bool x_88113;\n                        bool y_88114;\n                        bool cond_88115;\n                        bool leq_y_x_88116;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_88141;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_88142;\n                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_88143;\n                        \n                        m_88108 = sdiv64(count_88062, (int64_t) 2);\n                        n_88109 = sub64(count_88062, m_88108);\n                        cond_88110 = n_88109 == (int64_t) 0;\n                        zgze_lhs_88111 = add64(ss_88058, m_88108);\n                        cond_f_res_88112 = sle64(ss_88059, zgze_lhs_88111);\n                        x_88113 = !cond_88110;\n                        y_88114 = cond_f_res_88112 && ", "x_88113;\n                        cond_88115 = cond_88110 || y_88114;\n                        if (cond_88115) {\n                            leq_y_x_88116 = 1;\n                        } else {\n                            bool x_88117;\n                            bool y_88118;\n                            bool bounds_check_88119;\n                            bool index_certs_88120;\n                            int64_t zm_lhs_88124;\n                            int64_t leq_arg0_88125;\n                            bool x_88126;\n                            bool y_88127;\n                            bool bounds_check_88128;\n                            bool index_certs_88129;\n                            int64_t slice_88121;\n                            int64_t leq_arg1_88122;\n                            double leq_arg1_88123;\n                            int64_t slice_88130;\n                            int64_t slice_88131;\n                            int64_t leq_arg0_88132;\n                            double leq_arg0_88133;\n                            bool cond_88134;\n                            bool cond_88135;\n                            bool lifted_lambda_res_f_res_t_res_88136;\n                            bool x_88137;\n                            bool x_88138;\n                            bool y_88139;\n                            bool lifted_lambda_res_88140;\n                            \n                            x_88117 = sle64((int64_t) 0, zgze_lhs_88111);\n                            y_88118 = slt64(zgze_lhs_88111, stride_66238);\n                            bounds_check_88119 = x_88117 && y_88118;\n                            if (!bounds_check_88119) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 176) == -1) {\n                                        global_failure_args[0] = (int64_t) zgze_lhs_88111;\n                                        global_failure_args[1] = (int64_t) stride_66238;\n                ",
                                    "                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            zm_lhs_88124 = add64(tt_88060, n_88109);\n                            leq_arg0_88125 = sub64(zm_lhs_88124, (int64_t) 1);\n                            x_88126 = sle64((int64_t) 0, leq_arg0_88125);\n                            y_88127 = slt64(leq_arg0_88125, j_m_i_66261);\n                            bounds_check_88128 = x_88126 && y_88127;\n                            if (!bounds_check_88128) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 177) == -1) {\n                                        global_failure_args[0] = (int64_t) leq_arg0_88125;\n                                        global_failure_args[1] = (int64_t) j_m_i_66261;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            slice_88121 = zgze_lhs_88111 + index_primexp_91406;\n                            leq_arg1_88122 = ((__global int64_t *) mem_param_92301)[slice_88121];\n                            leq_arg1_88123 = ((__global double *) mem_param_92304)[slice_88121];\n                            slice_88130 = stride_66238 + leq_arg0_88125;\n                            slice_88131 = slice_88130 + index_primexp_91406;\n                            leq_arg0_88132 = ((__global int64_t *) mem_param_92301)[slice_88131];\n                            leq_arg0_88133 = ((__global double *) mem_param_92304)[slice_88131];\n                            cond_88134 = slt64(leq_arg0_88132, leq_arg1_88122);\n                            cond_88135 = leq_arg0_88132 == leq_arg1_88122;\n          ", "                  lifted_lambda_res_f_res_t_res_88136 = leq_arg0_88133 <= leq_arg1_88123;\n                            x_88137 = cond_88135 && lifted_lambda_res_f_res_t_res_88136;\n                            x_88138 = !cond_88134;\n                            y_88139 = x_88137 && x_88138;\n                            lifted_lambda_res_88140 = cond_88134 || y_88139;\n                            leq_y_x_88116 = lifted_lambda_res_88140;\n                        }\n                        if (leq_y_x_88116) {\n                            int64_t tmp_88144;\n                            int64_t tmp_88145;\n                            \n                            tmp_88144 = add64(tt_88060, n_88109);\n                            tmp_88145 = sub64(count_88062, n_88109);\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88141 = tmp_88144;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88142 = tt_88061;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88143 = tmp_88145;\n                        } else {\n                            int64_t tmp_88146 = add64(tt_88060, n_88109);\n                            \n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88141 = tt_88060;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88142 = tmp_88146;\n                            defunc_0_lifted_step_res_f_res_f_res_f_res_88143 = count_88062;\n                        }\n                        defunc_0_lifted_step_res_f_res_f_res_88078 = ss_88058;\n                        defunc_0_lifted_step_res_f_res_f_res_88079 = defunc_0_lifted_step_res_f_res_f_res_f_res_88141;\n                        defunc_0_lifted_step_res_f_res_f_res_88080 = defunc_0_lifted_step_res_f_res_f_res_f_res_88142;\n                        defunc_0_lifted_step_res_f_res_f_res_88081 = defunc_0_lifted_step_res_f_res_f_res_f_res_88143;\n                    }\n                    defunc_0_lifted_step_res_f_res_88072 = defunc_0_lifted_st", "ep_res_f_res_f_res_88078;\n                    defunc_0_lifted_step_res_f_res_88073 = defunc_0_lifted_step_res_f_res_f_res_88079;\n                    defunc_0_lifted_step_res_f_res_88074 = defunc_0_lifted_step_res_f_res_f_res_88080;\n                    defunc_0_lifted_step_res_f_res_88075 = defunc_0_lifted_step_res_f_res_f_res_88081;\n                }\n                defunc_0_lifted_step_res_88065 = defunc_0_lifted_step_res_f_res_88072;\n                defunc_0_lifted_step_res_88066 = defunc_0_lifted_step_res_f_res_88073;\n                defunc_0_lifted_step_res_88067 = defunc_0_lifted_step_res_f_res_88074;\n                defunc_0_lifted_step_res_88068 = defunc_0_lifted_step_res_f_res_88075;\n            }\n            futrts_lifted_normalizze_10121(&loopres_88147, &loopres_88148, &loopres_88149, &loopres_88150, &loopres_88151, defunc_0_lifted_step_res_88065, ss_88059, defunc_0_lifted_step_res_88066, defunc_0_lifted_step_res_88067, defunc_0_lifted_step_res_88068);\n            loop_cond_88152 = slt64((int64_t) 0, loopres_88151);\n            loop_while_tmp_97996 = loop_cond_88152;\n            ss_tmp_97997 = loopres_88147;\n            ss_tmp_97998 = loopres_88148;\n            tt_tmp_97999 = loopres_88149;\n            tt_tmp_98000 = loopres_88150;\n            count_tmp_98001 = loopres_88151;\n            loop_while_88057 = loop_while_tmp_97996;\n            ss_88058 = ss_tmp_97997;\n            ss_88059 = ss_tmp_97998;\n            tt_88060 = tt_tmp_97999;\n            tt_88061 = tt_tmp_98000;\n            count_88062 = count_tmp_98001;\n        }\n        defunc_0_split_count_res_88051 = loop_while_88057;\n        defunc_0_split_count_res_88052 = ss_88058;\n        defunc_0_split_count_res_88053 = ss_88059;\n        defunc_0_split_count_res_88054 = tt_88060;\n        defunc_0_split_count_res_88055 = tt_88061;\n        defunc_0_split_count_res_88056 = count_88062;\n        ((__local int64_t *) color_95842)[gtid_88041] = defunc_0_split_count_res_88052;\n        ((__local int64_t *) color",
                                    "_95841)[gtid_88041] = defunc_0_split_count_res_88054;\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_88164 = sext_i32_i64(local_tid_97969);\n    gtid_88163 = sext_i32_i64(sext_i64_i32(ltid_pre_97988));\n    if (slt64(gtid_88163, num_blocks_66259)) {\n        bool y_88167;\n        bool index_certs_88169;\n        int64_t defunc_0_f_res_88170;\n        int64_t defunc_0_f_res_88171;\n        int64_t tmp_88172;\n        bool x_88173;\n        bool y_88174;\n        bool bounds_check_88175;\n        bool index_certs_88176;\n        int64_t defunc_0_f_res_88177;\n        int64_t defunc_0_f_res_88178;\n        int64_t merge_sequential_arg2_88179;\n        int64_t merge_sequential_arg2_88180;\n        int64_t j_m_i_88181;\n        bool empty_slice_88182;\n        int64_t m_88183;\n        int64_t i_p_m_t_s_88184;\n        bool zzero_leq_i_p_m_t_s_88185;\n        bool i_p_m_t_s_leq_w_88186;\n        bool zzero_lte_i_88187;\n        bool i_lte_j_88188;\n        bool y_88189;\n        bool y_88190;\n        bool forwards_ok_88191;\n        bool ok_or_empty_88192;\n        bool index_certs_88193;\n        int64_t j_m_i_88194;\n        bool empty_slice_88195;\n        int64_t m_88196;\n        int64_t i_p_m_t_s_88197;\n        bool zzero_leq_i_p_m_t_s_88198;\n        bool i_p_m_t_s_leq_w_88199;\n        bool zzero_lte_i_88200;\n        bool i_lte_j_88201;\n        bool y_88202;\n        bool y_88203;\n        bool forwards_ok_88204;\n        bool ok_or_empty_88205;\n        bool index_certs_88206;\n        bool cond_88207;\n        bool y_88218;\n        bool protect_assert_disj_95363;\n        bool index_certs_88219;\n        int64_t slice_88220;\n        int64_t binop_y_92623;\n        int64_t slice_88213;\n        int64_t binop_y_92625;\n        int64_t ext_92627;\n        int64_t dummy_88208;\n        double dummy_88209;\n        int64_t dummy_88211;\n        \n        y_88167 = slt64(gtid_88163, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg", "_66260);\n        if (!y_88167) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 178) == -1) {\n                    global_failure_args[0] = (int64_t) gtid_88163;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_88170 = ((__local int64_t *) color_95842)[gtid_88163];\n        defunc_0_f_res_88171 = ((__local int64_t *) color_95841)[gtid_88163];\n        tmp_88172 = add64((int64_t) 1, gtid_88163);\n        x_88173 = sle64((int64_t) 0, tmp_88172);\n        y_88174 = slt64(tmp_88172, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260);\n        bounds_check_88175 = x_88173 && y_88174;\n        if (!bounds_check_88175) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 179) == -1) {\n                    global_failure_args[0] = (int64_t) tmp_88172;\n                    global_failure_args[1] = (int64_t) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        defunc_0_f_res_88177 = ((__local int64_t *) color_95842)[tmp_88172];\n        defunc_0_f_res_88178 = ((__local int64_t *) color_95841)[tmp_88172];\n        merge_sequential_arg2_88179 = add64(stride_66238, defunc_0_f_res_88171);\n        merge_sequential_arg2_88180 = add64(stride_66238, defunc_0_f_res_88178);\n        j_m_i_88181 = sub64(merge_sequential_arg2_88180, merge_sequential_arg2_88179);\n        empty_slice_88182 = j_m_i_88181 == (int64_t) 0;\n        m_88183 = sub64(j_m_i_88181, (int64_t) 1);\n        i_p_m_t_s_88184 = add64(merge_sequential_arg2_88179, m_88183);\n        zzero_leq_i_p_m_t_s_88185 = sle64((int64_t) 0, i_p_m_t_s_88184);\n        i_p_m_t_s_leq_w_88186 = slt64(i_p_m_t_s_88184, next_stride_66239);\n        zzero_lte_i_88187 = sle64(", "(int64_t) 0, merge_sequential_arg2_88179);\n        i_lte_j_88188 = sle64(merge_sequential_arg2_88179, merge_sequential_arg2_88180);\n        y_88189 = i_p_m_t_s_leq_w_88186 && zzero_lte_i_88187;\n        y_88190 = zzero_leq_i_p_m_t_s_88185 && y_88189;\n        forwards_ok_88191 = i_lte_j_88188 && y_88190;\n        ok_or_empty_88192 = empty_slice_88182 || forwards_ok_88191;\n        if (!ok_or_empty_88192) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 180) == -1) {\n                    global_failure_args[0] = (int64_t) merge_sequential_arg2_88179;\n                    global_failure_args[1] = (int64_t) merge_sequential_arg2_88180;\n                    global_failure_args[2] = (int64_t) next_stride_66239;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        j_m_i_88194 = sub64(defunc_0_f_res_88177, defunc_0_f_res_88170);\n        empty_slice_88195 = j_m_i_88194 == (int64_t) 0;\n        m_88196 = sub64(j_m_i_88194, (int64_t) 1);\n        i_p_m_t_s_88197 = add64(defunc_0_f_res_88170, m_88196);\n        zzero_leq_i_p_m_t_s_88198 = sle64((int64_t) 0, i_p_m_t_s_88197);\n        i_p_m_t_s_leq_w_88199 = slt64(i_p_m_t_s_88197, next_stride_66239);\n        zzero_lte_i_88200 = sle64((int64_t) 0, defunc_0_f_res_88170);\n        i_lte_j_88201 = sle64(defunc_0_f_res_88170, defunc_0_f_res_88177);\n        y_88202 = i_p_m_t_s_leq_w_88199 && zzero_lte_i_88200;\n        y_88203 = zzero_leq_i_p_m_t_s_88198 && y_88202;\n        forwards_ok_88204 = i_lte_j_88201 && y_88203;\n        ok_or_empty_88205 = empty_slice_88195 || forwards_ok_88204;\n        if (!ok_or_empty_88205) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 181) == -1) {\n                    global_failure_args[0] = (int64_t) defunc_0_f_res_88170;\n                    global_failure_args[1] = (int64_t) defunc_0_f_res_88177;\n                    global_failure_args[2] = (int64_t) next_stride_662",
                                    "39;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        cond_88207 = slt64((int64_t) 0, j_m_i_88194);\n        y_88218 = slt64((int64_t) 0, j_m_i_88181);\n        protect_assert_disj_95363 = cond_88207 || y_88218;\n        if (!protect_assert_disj_95363) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 182) == -1) {\n                    global_failure_args[0] = (int64_t) (int64_t) 0;\n                    global_failure_args[1] = (int64_t) j_m_i_88181;\n                    ;\n                }\n                local_failure = 1;\n                goto error_1;\n            }\n        }\n        slice_88220 = merge_sequential_arg2_88179 + index_primexp_91406;\n        binop_y_92623 = dim_45874 * slice_88220;\n        slice_88213 = defunc_0_f_res_88170 + index_primexp_91406;\n        binop_y_92625 = dim_45874 * slice_88213;\n        if (cond_88207) {\n            ext_92627 = binop_y_92625;\n        } else {\n            ext_92627 = binop_y_92623;\n        }\n        if (cond_88207) {\n            int64_t head_res_88214;\n            double head_res_88215;\n            int64_t head_res_88217;\n            \n            head_res_88214 = ((__global int64_t *) mem_param_92301)[slice_88213];\n            head_res_88215 = ((__global double *) mem_param_92304)[slice_88213];\n            head_res_88217 = ((__global int64_t *) mem_param_92311)[slice_88213];\n            dummy_88208 = head_res_88214;\n            dummy_88209 = head_res_88215;\n            dummy_88211 = head_res_88217;\n        } else {\n            int64_t head_res_88221;\n            double head_res_88222;\n            int64_t head_res_88224;\n            \n            head_res_88221 = ((__global int64_t *) mem_param_92301)[slice_88220];\n            head_res_88222 = ((__global double *) mem_param_92304)[slice_88220];\n            head_res_88224 = ((__global int64_t *) mem_param_92311)[slice_88220];\n            dummy_88208 = head_res_", "88221;\n            dummy_88209 = head_res_88222;\n            dummy_88211 = head_res_88224;\n        }\n        ((__local int64_t *) color_95840)[gtid_88163] = dummy_88208;\n        ((__local double *) color_95839)[gtid_88163] = dummy_88209;\n        ((__local int64_t *) color_95838)[gtid_88163] = dummy_88211;\n        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n            ((__local double *) color_95837)[gtid_88163 * dim_45874 + i_0] = ((__global double *) mem_param_92308)[ext_92627 + i_0];\n        }\n        ((__local int64_t *) color_95850)[gtid_88163] = defunc_0_f_res_88170;\n        ((__local int64_t *) color_95849)[gtid_88163] = merge_sequential_arg2_88179;\n        ((__local int64_t *) color_95848)[gtid_88163] = j_m_i_88181;\n        ((__local int64_t *) color_95846)[gtid_88163] = j_m_i_88194;\n    }\n    \n  error_1:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_98005 = 0; chunk_i_98005 < num_chunks_97964; chunk_i_98005++) {\n        int32_t i_98006;\n        int64_t slice_98007;\n        int64_t slice_98008;\n        int64_t rep_i_98003;\n        int64_t remnant_98009;\n        int64_t rep_i_98004;\n        int64_t remnant_98010;\n        \n        i_98006 = chunk_i_98005 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97969;\n        slice_98007 = num_blocks_66259;\n        slice_98008 = merge_block_sizze_66061 * slice_98007;\n        rep_i_98003 = squot64(sext_i32_i64(i_98006), slice_98007);\n        remnant_98009 = sext_i32_i64(i_98006) - rep_i_98003 * slice_98007;\n        rep_i_98004 = remnant_98009;\n        remnant_98010 = remnant_98009 - rep_i_98004;\n        if ((sle64((int64_t) 0, rep_i_98003) && slt64(rep_i_98003, merge_block_sizze_66061)) && (sle64((int64_t) 0, rep_i_98004) && slt64(rep_i_98004, num_blocks_66259))) {\n            int64_t tmp_98011 = ((__local int64_t *) color_95840)[rep_i_98004];\n            \n            ((__local int64_t *) color_95844)[rep_i_98003 * num_block", "s_66259 + rep_i_98004] = tmp_98011;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_98015 = 0; chunk_i_98015 < num_chunks_97964; chunk_i_98015++) {\n        int32_t i_98016;\n        int64_t slice_98017;\n        int64_t slice_98018;\n        int64_t rep_i_98013;\n        int64_t remnant_98019;\n        int64_t rep_i_98014;\n        int64_t remnant_98020;\n        \n        i_98016 = chunk_i_98015 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97969;\n        slice_98017 = num_blocks_66259;\n        slice_98018 = merge_block_sizze_66061 * slice_98017;\n        rep_i_98013 = squot64(sext_i32_i64(i_98016), slice_98017);\n        remnant_98019 = sext_i32_i64(i_98016) - rep_i_98013 * slice_98017;\n        rep_i_98014 = remnant_98019;\n        remnant_98020 = remnant_98019 - rep_i_98014;\n        if ((sle64((int64_t) 0, rep_i_98013) && slt64(rep_i_98013, merge_block_sizze_66061)) && (sle64((int64_t) 0, rep_i_98014) && slt64(rep_i_98014, num_blocks_66259))) {\n            double tmp_98021 = ((__local double *) color_95839)[rep_i_98014];\n            \n            ((__local double *) color_95843)[rep_i_98013 * num_blocks_66259 + rep_i_98014] = tmp_98021;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_98025 = 0; chunk_i_98025 < num_chunks_97964; chunk_i_98025++) {\n        int32_t i_98026;\n        int64_t slice_98027;\n        int64_t slice_98028;\n        int64_t rep_i_98023;\n        int64_t remnant_98029;\n        int64_t rep_i_98024;\n        int64_t remnant_98030;\n        \n        i_98026 = chunk_i_98025 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97969;\n        slice_98027 = num_blocks_66259;\n        slice_98028 = merge_block_sizze_66061 * slice_98027;\n        rep_i_98023 = squot64(sext_i32_i64(i_98026), slice_98027);\n        remnant_98029 = sext_i32_i64(i_98026) - rep_i_98023 * slice_98027;\n        rep_i_98024 = remnant_98029;\n        remnant_98030 = remnant_98029 - rep_i_98024;\n        if ((sle64((int64_t) 0, rep_i_",
                                    "98023) && slt64(rep_i_98023, merge_block_sizze_66061)) && (sle64((int64_t) 0, rep_i_98024) && slt64(rep_i_98024, num_blocks_66259))) {\n            int64_t tmp_98031 = ((__local int64_t *) color_95838)[rep_i_98024];\n            \n            ((__local int64_t *) color_95842)[rep_i_98023 * num_blocks_66259 + rep_i_98024] = tmp_98031;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int32_t chunk_i_98036 = 0; chunk_i_98036 < num_chunks_97963; chunk_i_98036++) {\n        int32_t i_98037;\n        int64_t slice_98038;\n        int64_t slice_98039;\n        int64_t slice_98040;\n        int64_t rep_i_98033;\n        int64_t remnant_98041;\n        int64_t rep_i_98034;\n        int64_t remnant_98042;\n        int64_t rep_i_98035;\n        int64_t remnant_98043;\n        \n        i_98037 = chunk_i_98036 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97969;\n        slice_98038 = num_blocks_66259;\n        slice_98039 = dim_45874 * slice_98038;\n        slice_98040 = merge_block_sizze_66061 * slice_98039;\n        rep_i_98033 = squot64(sext_i32_i64(i_98037), slice_98039);\n        remnant_98041 = sext_i32_i64(i_98037) - rep_i_98033 * slice_98039;\n        rep_i_98034 = squot64(remnant_98041, slice_98038);\n        remnant_98042 = remnant_98041 - rep_i_98034 * slice_98038;\n        rep_i_98035 = remnant_98042;\n        remnant_98043 = remnant_98042 - rep_i_98035;\n        if (((sle64((int64_t) 0, rep_i_98033) && slt64(rep_i_98033, merge_block_sizze_66061)) && (sle64((int64_t) 0, rep_i_98034) && slt64(rep_i_98034, dim_45874))) && (sle64((int64_t) 0, rep_i_98035) && slt64(rep_i_98035, num_blocks_66259))) {\n            double tmp_98044 = ((__local double *) color_95837)[rep_i_98034 + rep_i_98035 * dim_45874];\n            \n            ((__local double *) color_95841)[rep_i_98033 * (num_blocks_66259 * dim_45874) + rep_i_98034 * num_blocks_66259 + rep_i_98035] = tmp_98044;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_88242 = sext_i32_i64(local_tid_97969);\n    gtid_88", "241 = sext_i32_i64(sext_i64_i32(ltid_pre_97988));\n    if (slt64(gtid_88241, num_blocks_66259)) {\n        int64_t defunc_0_f_res_88243;\n        int64_t merge_sequential_arg2_88244;\n        int64_t j_m_i_88245;\n        bool index_certs_88246;\n        int64_t j_m_i_88247;\n        bool index_certs_88248;\n        int64_t data_88253;\n        int64_t i_88259;\n        \n        defunc_0_f_res_88243 = ((__local int64_t *) color_95850)[gtid_88241];\n        merge_sequential_arg2_88244 = ((__local int64_t *) color_95849)[gtid_88241];\n        j_m_i_88245 = ((__local int64_t *) color_95848)[gtid_88241];\n        index_certs_88246 = 0;\n        j_m_i_88247 = ((__local int64_t *) color_95846)[gtid_88241];\n        index_certs_88248 = 0;\n        i_88259 = (int64_t) 0;\n        for (int64_t k_88258 = 0; k_88258 < merge_block_sizze_66061; k_88258++) {\n            int64_t j_88264;\n            bool cond_88265;\n            bool x_95589;\n            bool cond_88267;\n            bool x_88269;\n            bool y_88270;\n            bool bounds_check_88271;\n            bool loop_not_taken_95577;\n            bool protect_assert_disj_95578;\n            bool protect_assert_disj_95592;\n            bool index_certs_88272;\n            int64_t slice_88273;\n            int64_t slice_88274;\n            bool protect_cond_conj_95593;\n            int64_t leq_arg1_88275;\n            double leq_arg1_88276;\n            bool x_88277;\n            bool bounds_check_88278;\n            bool protect_assert_disj_95584;\n            bool protect_assert_disj_95596;\n            bool index_certs_88279;\n            int64_t slice_88280;\n            int64_t slice_88281;\n            int64_t leq_arg0_88282;\n            double leq_arg0_88283;\n            bool cond_88284;\n            bool cond_88285;\n            bool lifted_lambda_res_f_res_t_res_88286;\n            bool x_88287;\n            bool x_88288;\n            bool y_88289;\n            bool lifted_lambda_res_88290;\n            bool x_95650;\n            bool cond_88266;\n     ", "       bool protect_assert_disj_95355;\n            bool index_certs_88310;\n            bool loop_not_taken_95350;\n            bool protect_assert_disj_95351;\n            bool index_certs_88300;\n            int64_t binop_y_92674;\n            int64_t binop_y_92676;\n            int64_t ext_92678;\n            int64_t loopres_88291;\n            int64_t loopres_88292;\n            double loopres_88293;\n            int64_t loopres_88295;\n            int64_t i_tmp_98045;\n            \n            j_88264 = sub64(k_88258, i_88259);\n            cond_88265 = j_88264 == j_m_i_88245;\n            x_95589 = !cond_88265;\n            cond_88267 = slt64(i_88259, j_m_i_88247);\n            x_88269 = sle64((int64_t) 0, j_88264);\n            y_88270 = slt64(j_88264, j_m_i_88245);\n            bounds_check_88271 = x_88269 && y_88270;\n            loop_not_taken_95577 = !cond_88267;\n            protect_assert_disj_95578 = bounds_check_88271 || loop_not_taken_95577;\n            protect_assert_disj_95592 = cond_88265 || protect_assert_disj_95578;\n            if (!protect_assert_disj_95592) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 183) == -1) {\n                        global_failure_args[0] = (int64_t) j_88264;\n                        global_failure_args[1] = (int64_t) j_m_i_88245;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_88273 = merge_sequential_arg2_88244 + j_88264;\n            slice_88274 = slice_88273 + index_primexp_91406;\n            protect_cond_conj_95593 = cond_88267 && x_95589;\n            if (protect_cond_conj_95593) {\n                int64_t x_95579 = ((__global int64_t *) mem_param_92301)[slice_88274];\n                \n                leq_arg1_88275 = x_95579;\n            } else {\n                leq_arg1_88275 = (int64_t) 0;\n            }\n            if (protect_cond_conj_95593) {\n                double x_9",
                                    "5581 = ((__global double *) mem_param_92304)[slice_88274];\n                \n                leq_arg1_88276 = x_95581;\n            } else {\n                leq_arg1_88276 = 0.0;\n            }\n            x_88277 = sle64((int64_t) 0, i_88259);\n            bounds_check_88278 = cond_88267 && x_88277;\n            protect_assert_disj_95584 = bounds_check_88278 || loop_not_taken_95577;\n            protect_assert_disj_95596 = cond_88265 || protect_assert_disj_95584;\n            if (!protect_assert_disj_95596) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 184) == -1) {\n                        global_failure_args[0] = (int64_t) i_88259;\n                        global_failure_args[1] = (int64_t) j_m_i_88247;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            slice_88280 = defunc_0_f_res_88243 + i_88259;\n            slice_88281 = slice_88280 + index_primexp_91406;\n            if (protect_cond_conj_95593) {\n                int64_t x_95585 = ((__global int64_t *) mem_param_92301)[slice_88281];\n                \n                leq_arg0_88282 = x_95585;\n            } else {\n                leq_arg0_88282 = (int64_t) 0;\n            }\n            if (protect_cond_conj_95593) {\n                double x_95587 = ((__global double *) mem_param_92304)[slice_88281];\n                \n                leq_arg0_88283 = x_95587;\n            } else {\n                leq_arg0_88283 = 0.0;\n            }\n            cond_88284 = slt64(leq_arg0_88282, leq_arg1_88275);\n            cond_88285 = leq_arg0_88282 == leq_arg1_88275;\n            lifted_lambda_res_f_res_t_res_88286 = leq_arg0_88283 <= leq_arg1_88276;\n            x_88287 = cond_88285 && lifted_lambda_res_f_res_t_res_88286;\n            x_88288 = !cond_88284;\n            y_88289 = x_88287 && x_88288;\n            lifted_lambda_res_88290 = cond_88284 || y_88289;\n            x_95650 = cond_88", "267 && lifted_lambda_res_88290;\n            cond_88266 = cond_88265 || x_95650;\n            protect_assert_disj_95355 = cond_88266 || bounds_check_88271;\n            if (!protect_assert_disj_95355) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 185) == -1) {\n                        global_failure_args[0] = (int64_t) j_88264;\n                        global_failure_args[1] = (int64_t) j_m_i_88245;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            loop_not_taken_95350 = !cond_88266;\n            protect_assert_disj_95351 = bounds_check_88278 || loop_not_taken_95350;\n            if (!protect_assert_disj_95351) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 186) == -1) {\n                        global_failure_args[0] = (int64_t) i_88259;\n                        global_failure_args[1] = (int64_t) j_m_i_88247;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_2;\n                }\n            }\n            binop_y_92674 = dim_45874 * slice_88274;\n            binop_y_92676 = dim_45874 * slice_88281;\n            if (cond_88266) {\n                ext_92678 = binop_y_92676;\n            } else {\n                ext_92678 = binop_y_92674;\n            }\n            if (cond_88266) {\n                int64_t tmp_88296;\n                int64_t tmp_88303;\n                double tmp_88304;\n                int64_t tmp_88306;\n                \n                tmp_88296 = add64((int64_t) 1, i_88259);\n                tmp_88303 = ((__global int64_t *) mem_param_92301)[slice_88281];\n                tmp_88304 = ((__global double *) mem_param_92304)[slice_88281];\n                tmp_88306 = ((__global int64_t *) mem_param_92311)[slice_88281];\n                loopres_88291 = tmp_88296;\n                loopres_88292 = tmp_88303;\n    ", "            loopres_88293 = tmp_88304;\n                loopres_88295 = tmp_88306;\n            } else {\n                int64_t tmp_88313;\n                double tmp_88314;\n                int64_t tmp_88316;\n                \n                tmp_88313 = ((__global int64_t *) mem_param_92301)[slice_88274];\n                tmp_88314 = ((__global double *) mem_param_92304)[slice_88274];\n                tmp_88316 = ((__global int64_t *) mem_param_92311)[slice_88274];\n                loopres_88291 = i_88259;\n                loopres_88292 = tmp_88313;\n                loopres_88293 = tmp_88314;\n                loopres_88295 = tmp_88316;\n            }\n            ((__local int64_t *) color_95844)[gtid_88241 + k_88258 * num_blocks_66259] = loopres_88292;\n            ((__local double *) color_95843)[gtid_88241 + k_88258 * num_blocks_66259] = loopres_88293;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__local double *) color_95841)[gtid_88241 + k_88258 * lmad_arg_92673 + i_0 * num_blocks_66259] = ((__global double *) mem_param_92308)[ext_92678 + i_0];\n            }\n            ((__local int64_t *) color_95842)[gtid_88241 + k_88258 * num_blocks_66259] = loopres_88295;\n            i_tmp_98045 = loopres_88291;\n            i_88259 = i_tmp_98045;\n        }\n        data_88253 = i_88259;\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n            ((__local int64_t *) color_95840)[gtid_88241 * merge_block_sizze_66061 + i_0] = ((__local int64_t *) color_95844)[gtid_88241 + i_0 * num_blocks_66259];\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n            ((__local double *) color_95839)[gtid_88241 * merge_block_sizze_66061 + i_0] = ((__local double *) color_95843)[gtid_88241 + i_0 * num_blocks_66259];\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n            for (int64_t i_1 = 0; i_1 < dim_45874; i_1++) {\n                ((__local double *) color_95838)[gtid_88241 * ",
                                    "(dim_45874 * merge_block_sizze_66061) + (i_0 * dim_45874 + i_1)] = ((__local double *) color_95841)[gtid_88241 + (i_0 * lmad_arg_92673 + i_1 * num_blocks_66259)];\n            }\n        }\n        for (int64_t i_0 = 0; i_0 < merge_block_sizze_66061; i_0++) {\n            ((__local int64_t *) color_95837)[gtid_88241 * merge_block_sizze_66061 + i_0] = ((__local int64_t *) color_95842)[gtid_88241 + i_0 * num_blocks_66259];\n        }\n    }\n    \n  error_2:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_98050 = sdiv_up32(sext_i64_i32(next_stride_66239), sext_i64_i32(computed_tblock_sizze_84570));\n    for (int32_t chunk_i_98051 = 0; chunk_i_98051 < num_chunks_98050; chunk_i_98051++) {\n        int32_t i_98052 = chunk_i_98051 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97969;\n        \n        if (slt32(i_98052, sext_i64_i32(next_stride_66239))) {\n            ((__global int64_t *) mem_92707)[gtid_88034 * next_stride_66239 + sext_i32_i64(i_98052)] = ((__local int64_t *) color_95840)[sext_i32_i64(i_98052)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_98053 = sdiv_up32(sext_i64_i32(next_stride_66239), sext_i64_i32(computed_tblock_sizze_84570));\n    for (int32_t chunk_i_98054 = 0; chunk_i_98054 < num_chunks_98053; chunk_i_98054++) {\n        int32_t i_98055 = chunk_i_98054 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97969;\n        \n        if (slt32(i_98055, sext_i64_i32(next_stride_66239))) {\n            ((__global double *) mem_92710)[gtid_88034 * next_stride_66239 + sext_i32_i64(i_98055)] = ((__local double *) color_95839)[sext_i32_i64(i_98055)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_98056 = sdiv_up32(sext_i64_i32(next_stride_66239) * sext_i64_i32(dim_45874), sext_i64_i32(computed_tblock_sizze_84570));\n    for (int32_t chunk_i_98057 = 0; chunk_i_98057 < num_chunks_98056; chunk_i_98057++) {\n        int32_t i_98058 = chunk_i_98057 * sext_", "i64_i32(computed_tblock_sizze_84570) + local_tid_97969;\n        \n        if (slt32(i_98058, sext_i64_i32(next_stride_66239) * sext_i64_i32(dim_45874))) {\n            ((__global double *) mem_92714)[gtid_88034 * (dim_45874 * next_stride_66239) + sext_i32_i64(squot32(i_98058, sext_i64_i32(dim_45874))) * dim_45874 + sext_i32_i64(i_98058 - squot32(i_98058, sext_i64_i32(dim_45874)) * sext_i64_i32(dim_45874))] = ((__local double *) color_95838)[sext_i32_i64(squot32(i_98058, sext_i64_i32(dim_45874))) * dim_45874 + sext_i32_i64(i_98058 - squot32(i_98058, sext_i64_i32(dim_45874)) * sext_i64_i32(dim_45874))];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    num_chunks_98059 = sdiv_up32(sext_i64_i32(next_stride_66239), sext_i64_i32(computed_tblock_sizze_84570));\n    for (int32_t chunk_i_98060 = 0; chunk_i_98060 < num_chunks_98059; chunk_i_98060++) {\n        int32_t i_98061 = chunk_i_98060 * sext_i64_i32(computed_tblock_sizze_84570) + local_tid_97969;\n        \n        if (slt32(i_98061, sext_i64_i32(next_stride_66239))) {\n            ((__global int64_t *) mem_92717)[gtid_88034 * next_stride_66239 + sext_i32_i64(i_98061)] = ((__local int64_t *) color_95837)[sext_i32_i64(i_98061)];\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_3:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_90677(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, unsigned char cond_65095_bits, int64_t binop_x_91660, int64_t maxSubHelper_95872, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *grid_partitions_per_dim_mem_91597, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_91635, __global unsigned char *ext_mem_94417, __global unsigned char *mem_94750)\n{\n    bool cond_65095 = cond_65095_bits;\n    volatile __local unsigned char *color_95877_backing_4 = &shared_mem[0];\n    const int64_t color_", "95877_backing_4_offset = 0 + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95876_backing_3 = &shared_mem[color_95877_backing_4_offset];\n    const int64_t color_95876_backing_3_offset = color_95877_backing_4_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95875_backing_2 = &shared_mem[color_95876_backing_3_offset];\n    const int64_t color_95875_backing_2_offset = color_95876_backing_3_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95874_backing_1 = &shared_mem[color_95875_backing_2_offset];\n    const int64_t color_95874_backing_1_offset = color_95875_backing_2_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95873_backing_0 = &shared_mem[color_95874_backing_1_offset];\n    const int64_t color_95873_backing_0_offset = color_95874_backing_1_offset + (maxSubHelper_95872 + srem64((int64_t) 8 - srem64(maxSubHelper_95872, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98435;\n    int32_t tblock_sizze_98438;\n    int32_t wave_sizze_98437;\n    int32_t block_id_98436;\n    int32_t global_tid_98434;\n    int64_t phys_tblock_id_90677;\n    int64_t slice_98440;\n    int64_t ltid_pre_98439;\n    int64_t remnant_98441;\n    int64_t slice_98442;\n    int64_t gtid_90676;\n    int64_t remnant_98443;\n    __local unsigned char *color_95873;\n    __local unsigned char *color_95874;\n    __local unsigned char *color_95875;\n    __local unsigned char *color_95876;\n    __local unsigned char *color_95877;\n    int6",
                                    "4_t min_arg1_91509;\n    __local unsigned char *ext_mem_94739;\n    int64_t f_arg0_90724;\n    int64_t min_res_90725;\n    int64_t rep_i_98451;\n    \n    local_tid_98435 = get_local_id(0);\n    tblock_sizze_98438 = get_local_size(0);\n    wave_sizze_98437 = LOCKSTEP_WIDTH;\n    block_id_98436 = get_tblock_id(0);\n    global_tid_98434 = block_id_98436 * tblock_sizze_98438 + local_tid_98435;\n    phys_tblock_id_90677 = sext_i32_i64(block_id_98436);\n    slice_98440 = dim_45874;\n    ltid_pre_98439 = sext_i32_i64(local_tid_98435);\n    remnant_98441 = sext_i32_i64(local_tid_98435) - ltid_pre_98439;\n    slice_98442 = n_45877;\n    gtid_90676 = sext_i32_i64(block_id_98436);\n    remnant_98443 = sext_i32_i64(block_id_98436) - gtid_90676;\n    color_95873 = (__local unsigned char *) color_95873_backing_0;\n    color_95874 = (__local unsigned char *) color_95874_backing_1;\n    color_95875 = (__local unsigned char *) color_95875_backing_2;\n    color_95876 = (__local unsigned char *) color_95876_backing_3;\n    color_95877 = (__local unsigned char *) color_95877_backing_4;\n    min_arg1_91509 = ((__global int64_t *) mem_91635)[(int64_t) 0];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_65095) {\n        ext_mem_94739 = color_95874;\n    } else {\n        int64_t phys_tid_90684;\n        int64_t gtid_90683;\n        double eta_p_90685;\n        double eta_p_90686;\n        double defunc_0_f_res_90687;\n        int64_t phys_tid_90690;\n        int64_t gtid_90689;\n        double eta_p_90691;\n        double eta_p_90692;\n        double defunc_0_f_res_90693;\n        __local unsigned char *ext_mem_94726;\n        int64_t f_arg0_90710;\n        int64_t max_res_90711;\n        int64_t rep_i_98448;\n        \n        phys_tid_90684 = sext_i32_i64(local_tid_98435);\n        gtid_90683 = sext_i32_i64(sext_i64_i32(ltid_pre_98439));\n        eta_p_90685 = ((__global double *) ext_mem_94417)[gtid_90676 * dim_45874 + gtid_90683];\n        eta_p_90686 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_90683];\n     ", "   defunc_0_f_res_90687 = eta_p_90685 - eta_p_90686;\n        ((__local double *) color_95877)[gtid_90683] = defunc_0_f_res_90687;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        phys_tid_90690 = sext_i32_i64(local_tid_98435);\n        gtid_90689 = sext_i32_i64(sext_i64_i32(ltid_pre_98439));\n        eta_p_90691 = ((__local double *) color_95877)[gtid_90689];\n        eta_p_90692 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_90689];\n        defunc_0_f_res_90693 = eta_p_90691 / eta_p_90692;\n        ((__local double *) color_95877)[gtid_90689] = defunc_0_f_res_90693;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (cond_65095) {\n            ext_mem_94726 = color_95873;\n        } else {\n            double f_arg0_90696;\n            int64_t f64_res_90697;\n            int64_t rep_i_98445;\n            \n            f_arg0_90696 = ((__local double *) color_95877)[(int64_t) 0];\n            f64_res_90697 = fptosi_f64_i64(f_arg0_90696);\n            rep_i_98445 = sext_i32_i64(sext_i64_i32(ltid_pre_98439));\n            ((__local int64_t *) color_95876)[rep_i_98445] = f64_res_90697;\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_90700 = 0; i_90700 < arg_65084; i_90700++) {\n                int64_t index_primexp_90702;\n                bool x_90703;\n                bool y_90704;\n                bool bounds_check_90705;\n                bool index_certs_90706;\n                double f_arg0_90707;\n                int64_t f64_res_90708;\n                \n                index_primexp_90702 = add64((int64_t) 1, i_90700);\n                x_90703 = sle64((int64_t) 0, index_primexp_90702);\n                y_90704 = slt64(index_primexp_90702, dim_45874);\n                bounds_check_90705 = x_90703 && y_90704;\n                if (!bounds_check_90705) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 209) == -1) {\n                     ", "       global_failure_args[0] = (int64_t) index_primexp_90702;\n                            global_failure_args[1] = (int64_t) dim_45874;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                f_arg0_90707 = ((__local double *) color_95877)[index_primexp_90702];\n                f64_res_90708 = fptosi_f64_i64(f_arg0_90707);\n                barrier(CLK_LOCAL_MEM_FENCE);\n                if (local_tid_98435 == 0) {\n                    ((__local int64_t *) color_95876)[index_primexp_90702] = f64_res_90708;\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            ext_mem_94726 = color_95876;\n        }\n        f_arg0_90710 = ((__local int64_t *) ext_mem_94726)[(int64_t) 0];\n        max_res_90711 = smax64((int64_t) 0, f_arg0_90710);\n        rep_i_98448 = sext_i32_i64(sext_i64_i32(ltid_pre_98439));\n        ((__local int64_t *) color_95875)[rep_i_98448] = max_res_90711;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_90714 = 0; i_90714 < arg_65084; i_90714++) {\n            int64_t index_primexp_90716;\n            bool x_90717;\n            bool y_90718;\n            bool bounds_check_90719;\n            bool index_certs_90720;\n            int64_t f_arg0_90721;\n            int64_t max_res_90722;\n            \n            index_primexp_90716 = add64((int64_t) 1, i_90714);\n            x_90717 = sle64((int64_t) 0, index_primexp_90716);\n            y_90718 = slt64(index_primexp_90716, dim_45874);\n            bounds_check_90719 = x_90717 && y_90718;\n            if (!bounds_check_90719) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 210) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_90",
                                    "716;\n                        global_failure_args[1] = (int64_t) dim_45874;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_6;\n                }\n            }\n            f_arg0_90721 = ((__local int64_t *) ext_mem_94726)[index_primexp_90716];\n            max_res_90722 = smax64((int64_t) 0, f_arg0_90721);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_98435 == 0) {\n                ((__local int64_t *) color_95875)[index_primexp_90716] = max_res_90722;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_94739 = color_95875;\n    }\n    f_arg0_90724 = ((__local int64_t *) ext_mem_94739)[(int64_t) 0];\n    min_res_90725 = smin64(f_arg0_90724, min_arg1_91509);\n    rep_i_98451 = sext_i32_i64(sext_i64_i32(ltid_pre_98439));\n    ((__local int64_t *) color_95873)[rep_i_98451] = min_res_90725;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_90728 = 0; i_90728 < arg_65084; i_90728++) {\n        int64_t index_primexp_90730;\n        bool x_90731;\n        bool y_90732;\n        bool bounds_check_90733;\n        bool index_certs_90734;\n        bool index_certs_90736;\n        int64_t f_arg0_90735;\n        int64_t zm_lhs_90737;\n        int64_t min_arg1_90738;\n        int64_t min_res_90739;\n        \n        index_primexp_90730 = add64((int64_t) 1, i_90728);\n        x_90731 = sle64((int64_t) 0, index_primexp_90730);\n        y_90732 = slt64(index_primexp_90730, dim_45874);\n        bounds_check_90733 = x_90731 && y_90732;\n        if (!bounds_check_90733) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 211) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_90730;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;\n                }\n                local_", "failure = 1;\n                goto error_7;\n            }\n        }\n        if (!bounds_check_90733) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 212) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_90730;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;\n                }\n                local_failure = 1;\n                goto error_7;\n            }\n        }\n        f_arg0_90735 = ((__local int64_t *) ext_mem_94739)[index_primexp_90730];\n        zm_lhs_90737 = ((__global int64_t *) grid_partitions_per_dim_mem_91597)[index_primexp_90730];\n        min_arg1_90738 = sub64(zm_lhs_90737, (int64_t) 1);\n        min_res_90739 = smin64(f_arg0_90735, min_arg1_90738);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_98435 == 0) {\n            ((__local int64_t *) color_95873)[index_primexp_90730] = min_res_90739;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_94750)[gtid_90676 * dim_45874 + sext_i32_i64(local_tid_98435)] = ((__local int64_t *) color_95873)[sext_i32_i64(local_tid_98435)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_7:\n    return;\n}\nFUTHARK_KERNEL\nvoid sort_for_Skyline_doublezisegmap_intrablock_90753(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t n_45877, int64_t arg_65084, unsigned char cond_65095_bits, int64_t binop_x_91660, __global unsigned char *grid_part_sizze_per_dim_mem_91596, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *ext_mem_94417, __global unsigned char *mem_94653)\n{\n    bool cond_65095 = cond_65095_bits;\n    volatile __local unsigned char *color_95880_backing_2 = &shared_mem[0];\n    const int64_t color_95880_backing_2_offset = 0 + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95879_backing_1 = &shared_", "mem[color_95880_backing_2_offset];\n    const int64_t color_95879_backing_1_offset = color_95880_backing_2_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *color_95878_backing_0 = &shared_mem[color_95879_backing_1_offset];\n    const int64_t color_95878_backing_0_offset = color_95879_backing_1_offset + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_98456;\n    int32_t tblock_sizze_98459;\n    int32_t wave_sizze_98458;\n    int32_t block_id_98457;\n    int32_t global_tid_98455;\n    int64_t phys_tblock_id_90753;\n    int64_t slice_98461;\n    int64_t ltid_pre_98460;\n    int64_t remnant_98462;\n    int64_t slice_98463;\n    int64_t gtid_90752;\n    int64_t remnant_98464;\n    __local unsigned char *color_95878;\n    __local unsigned char *color_95879;\n    __local unsigned char *color_95880;\n    int64_t phys_tid_90758;\n    int64_t gtid_90757;\n    double eta_p_90759;\n    double eta_p_90760;\n    double defunc_0_f_res_90761;\n    int64_t phys_tid_90764;\n    int64_t gtid_90763;\n    double eta_p_90765;\n    double eta_p_90766;\n    double defunc_0_f_res_90767;\n    __local unsigned char *ext_mem_94642;\n    int64_t f_arg0_90784;\n    int64_t max_res_90785;\n    int64_t rep_i_98469;\n    \n    local_tid_98456 = get_local_id(0);\n    tblock_sizze_98459 = get_local_size(0);\n    wave_sizze_98458 = LOCKSTEP_WIDTH;\n    block_id_98457 = get_tblock_id(0);\n    global_tid_98455 = block_id_98457 * tblock_sizze_98459 + local_tid_98456;\n    phys_tblock_id_90753 = sext_i32_i64(block_id_98457);\n    slice_98461 = dim_45874;\n    ltid_pre_98460 = sext_i32_i64(local_tid_98456);\n    remnant_98462 = sext_i32_i64(local_tid_98456) - ltid_pre",
                                    "_98460;\n    slice_98463 = n_45877;\n    gtid_90752 = sext_i32_i64(block_id_98457);\n    remnant_98464 = sext_i32_i64(block_id_98457) - gtid_90752;\n    color_95878 = (__local unsigned char *) color_95878_backing_0;\n    color_95879 = (__local unsigned char *) color_95879_backing_1;\n    color_95880 = (__local unsigned char *) color_95880_backing_2;\n    phys_tid_90758 = sext_i32_i64(local_tid_98456);\n    gtid_90757 = sext_i32_i64(sext_i64_i32(ltid_pre_98460));\n    eta_p_90759 = ((__global double *) ext_mem_94417)[gtid_90752 * dim_45874 + gtid_90757];\n    eta_p_90760 = ((__global double *) start_of_grid_partition_mem_91598)[gtid_90757];\n    defunc_0_f_res_90761 = eta_p_90759 - eta_p_90760;\n    ((__local double *) color_95878)[gtid_90757] = defunc_0_f_res_90761;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    phys_tid_90764 = sext_i32_i64(local_tid_98456);\n    gtid_90763 = sext_i32_i64(sext_i64_i32(ltid_pre_98460));\n    eta_p_90765 = ((__local double *) color_95878)[gtid_90763];\n    eta_p_90766 = ((__global double *) grid_part_sizze_per_dim_mem_91596)[gtid_90763];\n    defunc_0_f_res_90767 = eta_p_90765 / eta_p_90766;\n    ((__local double *) color_95878)[gtid_90763] = defunc_0_f_res_90767;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (cond_65095) {\n        ext_mem_94642 = color_95879;\n    } else {\n        double f_arg0_90770;\n        int64_t f64_res_90771;\n        int64_t rep_i_98466;\n        \n        f_arg0_90770 = ((__local double *) color_95878)[(int64_t) 0];\n        f64_res_90771 = fptosi_f64_i64(f_arg0_90770);\n        rep_i_98466 = sext_i32_i64(sext_i64_i32(ltid_pre_98460));\n        ((__local int64_t *) color_95880)[rep_i_98466] = f64_res_90771;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        for (int64_t i_90774 = 0; i_90774 < arg_65084; i_90774++) {\n            int64_t index_primexp_90776;\n            bool x_90777;\n            bool y_90778;\n            bool bounds_check_90779;\n            bool index_certs_90780;\n", "            double f_arg0_90781;\n            int64_t f64_res_90782;\n            \n            index_primexp_90776 = add64((int64_t) 1, i_90774);\n            x_90777 = sle64((int64_t) 0, index_primexp_90776);\n            y_90778 = slt64(index_primexp_90776, dim_45874);\n            bounds_check_90779 = x_90777 && y_90778;\n            if (!bounds_check_90779) {\n                {\n                    if (atomic_cmpxchg_i32_global(global_failure, -1, 213) == -1) {\n                        global_failure_args[0] = (int64_t) index_primexp_90776;\n                        global_failure_args[1] = (int64_t) dim_45874;\n                        ;\n                    }\n                    local_failure = 1;\n                    goto error_4;\n                }\n            }\n            f_arg0_90781 = ((__local double *) color_95878)[index_primexp_90776];\n            f64_res_90782 = fptosi_f64_i64(f_arg0_90781);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_98456 == 0) {\n                ((__local int64_t *) color_95880)[index_primexp_90776] = f64_res_90782;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        ext_mem_94642 = color_95880;\n    }\n    f_arg0_90784 = ((__local int64_t *) ext_mem_94642)[(int64_t) 0];\n    max_res_90785 = smax64((int64_t) 0, f_arg0_90784);\n    rep_i_98469 = sext_i32_i64(sext_i64_i32(ltid_pre_98460));\n    ((__local int64_t *) color_95878)[rep_i_98469] = max_res_90785;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_4:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    for (int64_t i_90788 = 0; i_90788 < arg_65084; i_90788++) {\n        int64_t index_primexp_90790;\n        bool x_90791;\n        bool y_90792;\n        bool bounds_check_90793;\n        bool index_certs_90794;\n        int64_t f_arg0_90795;\n        int64_t max_res_90796;\n        \n        index_primexp_90790 = add64((int64_t) 1, i_90788);\n        x_90791 = sle64((int64_t) 0, index_primexp_90790);\n       ", " y_90792 = slt64(index_primexp_90790, dim_45874);\n        bounds_check_90793 = x_90791 && y_90792;\n        if (!bounds_check_90793) {\n            {\n                if (atomic_cmpxchg_i32_global(global_failure, -1, 214) == -1) {\n                    global_failure_args[0] = (int64_t) index_primexp_90790;\n                    global_failure_args[1] = (int64_t) dim_45874;\n                    ;\n                }\n                local_failure = 1;\n                goto error_5;\n            }\n        }\n        f_arg0_90795 = ((__local int64_t *) ext_mem_94642)[index_primexp_90790];\n        max_res_90796 = smax64((int64_t) 0, f_arg0_90795);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_tid_98456 == 0) {\n            ((__local int64_t *) color_95878)[index_primexp_90790] = max_res_90796;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n    }\n    ((__global int64_t *) mem_94653)[gtid_90752 * dim_45874 + sext_i32_i64(local_tid_98456)] = ((__local int64_t *) color_95878)[sext_i32_i64(local_tid_98456)];\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_5:\n    return;\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_large_98317_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_large_98317(__global int *global_failure, int64_t total_grid_no_45885, int64_t num_tblocks_88712, int64_t num_subhistos_98211, int64_t blocks_per_segment_98348, int64_t q_98349, int64_t num_virtblocks_98350, int64_t threads_per_segment_98351, __global unsigned char *mem_91612, __global unsigned char *defunc_0_map_res_subhistos_mem_98212, __global unsigned char *segred_tmp_mem_98352, __global unsigned char *counters_mem_98354)\n{\n    #define seghist_tblock_sizze_88710 (sort_for_Skyline_doublezisegred_large_98317ziseghist_tblock_sizze_88710)\n    #define chunk_sizze_98318 (sort_for_Skyline_doublezisegred_large_98317zichunk_sizze_98318)\n    \n    volatile __local unsigned char *sync_arr_mem_98363_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_98363_backing_1_offset = 0 + 8;\n    volatile __loca",
                                    "l unsigned char *red_arr_i32_mem_98361_backing_0 = &shared_mem[sync_arr_mem_98363_backing_1_offset];\n    const int64_t red_arr_i32_mem_98361_backing_0_offset = sync_arr_mem_98363_backing_1_offset + ((int64_t) 4 * seghist_tblock_sizze_88710 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_88710, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98357;\n    int32_t tblock_sizze_98360;\n    int32_t wave_sizze_98359;\n    int32_t block_id_98358;\n    int32_t global_tid_98356;\n    int64_t flat_gtid_98317;\n    __local unsigned char *red_arr_i32_mem_98361;\n    __local unsigned char *sync_arr_mem_98363;\n    int32_t phys_tblock_id_98365;\n    int32_t iterations_98366;\n    \n    local_tid_98357 = get_local_id(0);\n    tblock_sizze_98360 = get_local_size(0);\n    wave_sizze_98359 = LOCKSTEP_WIDTH;\n    block_id_98358 = get_tblock_id(0);\n    global_tid_98356 = block_id_98358 * tblock_sizze_98360 + local_tid_98357;\n    flat_gtid_98317 = sext_i32_i64(global_tid_98356);\n    red_arr_i32_mem_98361 = (__local unsigned char *) red_arr_i32_mem_98361_backing_0;\n    sync_arr_mem_98363 = (__local unsigned char *) sync_arr_mem_98363_backing_1;\n    phys_tblock_id_98365 = get_tblock_id(0);\n    iterations_98366 = sdiv_up32(sext_i64_i32(num_virtblocks_98350) - phys_tblock_id_98365, sext_i64_i32(num_tblocks_88712));\n    for (int32_t i_98367 = 0; i_98367 < iterations_98366; i_98367++) {\n        int32_t virt_tblock_id_98368;\n        int64_t flat_segment_id_98369;\n        int64_t global_tid_98370;\n        int64_t slice_98371;\n        int64_t bucket_id_98315;\n        int64_t remnant_98372;\n        int64_t subhistogram_id_98316;\n        int32_t eta_p_block_res_acc_98373;\n        int32_t eta_p_88718;\n        int32_t eta_p_88719;\n        int64_t tblock_id_in_segment_98377;\n        int64_t block_base_offset_98378;\n        int32_t offset_98381;\n        int32_t skip_waves_98382;\n        int32_t eta_p_98374;\n        int32_t eta_p_98375;\n     ", "   \n        virt_tblock_id_98368 = phys_tblock_id_98365 + i_98367 * sext_i64_i32(num_tblocks_88712);\n        flat_segment_id_98369 = squot64(sext_i32_i64(virt_tblock_id_98368), blocks_per_segment_98348);\n        global_tid_98370 = srem64(sext_i32_i64(virt_tblock_id_98368) * seghist_tblock_sizze_88710 + sext_i32_i64(local_tid_98357), threads_per_segment_98351);\n        slice_98371 = total_grid_no_45885;\n        bucket_id_98315 = flat_segment_id_98369;\n        remnant_98372 = flat_segment_id_98369 - bucket_id_98315;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_98373 = 0;\n        }\n        tblock_id_in_segment_98377 = squot64(global_tid_98370, seghist_tblock_sizze_88710);\n        block_base_offset_98378 = tblock_id_in_segment_98377 * q_98349 * seghist_tblock_sizze_88710;\n        for (int64_t i_98379 = 0; i_98379 < q_98349; i_98379++) {\n            int64_t block_offset_98380 = block_base_offset_98378 + i_98379 * seghist_tblock_sizze_88710;\n            \n            subhistogram_id_98316 = global_tid_98370 + threads_per_segment_98351 * i_98379;\n            if (slt64(subhistogram_id_98316, num_subhistos_98211)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_88718 = eta_p_block_res_acc_98373;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_88719 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_98212)[subhistogram_id_98316 * total_grid_no_45885 + bucket_id_98315];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int32_t defunc_0_op_res_88720 = add32(eta_p_88718, eta_p_88719);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_98373 = defunc_0_op_res_88720;\n               ", "         }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357)] = eta_p_block_res_acc_98373;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_98382 = 1;\n        offset_98381 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_98357, sext_i64_i32(seghist_tblock_sizze_88710))) {\n                eta_p_98374 = ((__local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357 + offset_98381)];\n            }\n        }\n        offset_98381 = 1;\n        while (slt32(offset_98381, wave_sizze_98359)) {\n            if (slt32(local_tid_98357 + offset_98381, sext_i64_i32(seghist_tblock_sizze_88710)) && ((local_tid_98357 - squot32(local_tid_98357, wave_sizze_98359) * wave_sizze_98359) & (2 * offset_98381 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_98375 = ((volatile __local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357 + offset_98381)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_0_op_res_98376 = add32(eta_p_98374, eta_p_98375);\n                    \n                    eta_p_98374 = defunc_0_op_res_98376;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357)] = eta_p_98374;\n                }\n            }\n            offset_98381 *= 2;\n        }\n        while (slt32(skip_waves_98382, squot32(sext_i64_i32(seghist_tblock_sizze_88710) + wave_sizze_98359 - 1, wave_sizze_98359))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_98381 = skip_waves_98382 * wave_sizze_98359;\n            if (slt32(local_tid_98357 ",
                                    "+ offset_98381, sext_i64_i32(seghist_tblock_sizze_88710)) && ((local_tid_98357 - squot32(local_tid_98357, wave_sizze_98359) * wave_sizze_98359) == 0 && (squot32(local_tid_98357, wave_sizze_98359) & (2 * skip_waves_98382 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_98375 = ((__local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357 + offset_98381)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_0_op_res_98376 = add32(eta_p_98374, eta_p_98375);\n                    \n                    eta_p_98374 = defunc_0_op_res_98376;\n                }\n                // write result of operation\n                {\n                    ((__local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357)] = eta_p_98374;\n                }\n            }\n            skip_waves_98382 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_98357) == (int64_t) 0) {\n                eta_p_block_res_acc_98373 = eta_p_98374;\n            } else {\n                eta_p_block_res_acc_98373 = 0;\n            }\n        }\n        if (blocks_per_segment_98348 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_98357 == 0) {\n                    ((__global int32_t *) mem_91612)[bucket_id_98315] = eta_p_block_res_acc_98373;\n                }\n            }\n        } else {\n            int32_t old_counter_98383;\n            bool is_last_block_98384;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_98357 == 0) {\n                    ((__global int32_t *) segred_tmp_mem_98352)[sext_i32_i64(virt_tblock_id_98368)] = eta_p_block_res_acc_98373;\n                    mem_fence_glo", "bal();\n                    old_counter_98383 = atomic_add_i32_global(&((volatile __global int *) counters_mem_98354)[srem64(flat_segment_id_98369, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_98363)[(int64_t) 0] = old_counter_98383 == sext_i64_i32(blocks_per_segment_98348 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_98384 = ((__local bool *) sync_arr_mem_98363)[(int64_t) 0];\n            if (is_last_block_98384) {\n                if (local_tid_98357 == 0) {\n                    old_counter_98383 = atomic_add_i32_global(&((volatile __global int *) counters_mem_98354)[srem64(flat_segment_id_98369, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_98348));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_98385 = sdiv_up64(blocks_per_segment_98348, seghist_tblock_sizze_88710);\n                    \n                    eta_p_88718 = 0;\n                    for (int64_t i_98386 = 0; i_98386 < read_per_thread_98385; i_98386++) {\n                        int64_t block_res_id_98387 = sext_i32_i64(local_tid_98357) * read_per_thread_98385 + i_98386;\n                        int64_t index_of_block_res_98388 = flat_segment_id_98369 * blocks_per_segment_98348 + block_res_id_98387;\n                        \n                        if (slt64(block_res_id_98387, blocks_per_segment_98348)) {\n                            eta_p_88719 = ((__global int32_t *) segred_tmp_mem_98352)[index_of_block_res_98388];\n                            \n                            int32_t defunc_0_op_res_88720 = add32(eta_p_88718, eta_p_88719);\n                            \n                            eta_p_88718 = defunc_0_op_res_88720;\n                        }\n                    }\n                }\n                ((__local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_9835", "7)] = eta_p_88718;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_98389;\n                    int32_t skip_waves_98390 = 1;\n                    int32_t eta_p_98374;\n                    int32_t eta_p_98375;\n                    \n                    offset_98389 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_98357, sext_i64_i32(seghist_tblock_sizze_88710))) {\n                            eta_p_98374 = ((__local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357 + offset_98389)];\n                        }\n                    }\n                    offset_98389 = 1;\n                    while (slt32(offset_98389, wave_sizze_98359)) {\n                        if (slt32(local_tid_98357 + offset_98389, sext_i64_i32(seghist_tblock_sizze_88710)) && ((local_tid_98357 - squot32(local_tid_98357, wave_sizze_98359) * wave_sizze_98359) & (2 * offset_98389 - 1)) == 0) {\n                            // read array element\n                            {\n                                eta_p_98375 = ((volatile __local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357 + offset_98389)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_0_op_res_98376 = add32(eta_p_98374, eta_p_98375);\n                                \n                                eta_p_98374 = defunc_0_op_res_98376;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357)] = eta_p_98374;\n                            }\n                        }\n                        offset_98389 *= 2;\n                    }\n                    wh",
                                    "ile (slt32(skip_waves_98390, squot32(sext_i64_i32(seghist_tblock_sizze_88710) + wave_sizze_98359 - 1, wave_sizze_98359))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_98389 = skip_waves_98390 * wave_sizze_98359;\n                        if (slt32(local_tid_98357 + offset_98389, sext_i64_i32(seghist_tblock_sizze_88710)) && ((local_tid_98357 - squot32(local_tid_98357, wave_sizze_98359) * wave_sizze_98359) == 0 && (squot32(local_tid_98357, wave_sizze_98359) & (2 * skip_waves_98390 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_98375 = ((__local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357 + offset_98389)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_0_op_res_98376 = add32(eta_p_98374, eta_p_98375);\n                                \n                                eta_p_98374 = defunc_0_op_res_98376;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int32_t *) red_arr_i32_mem_98361)[sext_i32_i64(local_tid_98357)] = eta_p_98374;\n                            }\n                        }\n                        skip_waves_98390 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_98357 == 0) {\n                            ((__global int32_t *) mem_91612)[bucket_id_98315] = eta_p_98374;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_88710\n    #undef chunk_sizze_98318\n}\nFUTHARK_KERNEL_SIZED(sort_for", "_Skyline_doublezisegred_large_99014_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_large_99014(__global int *global_failure, int64_t total_part_no_45886, int64_t num_tblocks_91214, int64_t num_subhistos_98928, int64_t blocks_per_segment_99045, int64_t q_99046, int64_t num_virtblocks_99047, int64_t threads_per_segment_99048, __global unsigned char *mem_91631, __global unsigned char *defunc_0_map_res_subhistos_mem_98929, __global unsigned char *segred_tmp_mem_99049, __global unsigned char *counters_mem_99051)\n{\n    #define seghist_tblock_sizze_91212 (sort_for_Skyline_doublezisegred_large_99014ziseghist_tblock_sizze_91212)\n    #define chunk_sizze_99015 (sort_for_Skyline_doublezisegred_large_99014zichunk_sizze_99015)\n    \n    volatile __local unsigned char *sync_arr_mem_99060_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_99060_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_99058_backing_0 = &shared_mem[sync_arr_mem_99060_backing_1_offset];\n    const int64_t red_arr_i64_mem_99058_backing_0_offset = sync_arr_mem_99060_backing_1_offset + ((int64_t) 8 * seghist_tblock_sizze_91212 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_91212, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99054;\n    int32_t tblock_sizze_99057;\n    int32_t wave_sizze_99056;\n    int32_t block_id_99055;\n    int32_t global_tid_99053;\n    int64_t flat_gtid_99014;\n    __local unsigned char *red_arr_i64_mem_99058;\n    __local unsigned char *sync_arr_mem_99060;\n    int32_t phys_tblock_id_99062;\n    int32_t iterations_99063;\n    \n    local_tid_99054 = get_local_id(0);\n    tblock_sizze_99057 = get_local_size(0);\n    wave_sizze_99056 = LOCKSTEP_WIDTH;\n    block_id_99055 = get_tblock_id(0);\n    global_tid_99053 = block_id_99055 * tblock_sizze_99057 + local_tid_99054;\n    flat_gtid_99014 = sext_i32_i64(global_tid_99053);\n    red_arr_i64_mem_99058 = (__local unsigned char *) red_arr_i64_mem_9", "9058_backing_0;\n    sync_arr_mem_99060 = (__local unsigned char *) sync_arr_mem_99060_backing_1;\n    phys_tblock_id_99062 = get_tblock_id(0);\n    iterations_99063 = sdiv_up32(sext_i64_i32(num_virtblocks_99047) - phys_tblock_id_99062, sext_i64_i32(num_tblocks_91214));\n    for (int32_t i_99064 = 0; i_99064 < iterations_99063; i_99064++) {\n        int32_t virt_tblock_id_99065;\n        int64_t flat_segment_id_99066;\n        int64_t global_tid_99067;\n        int64_t slice_99068;\n        int64_t bucket_id_99012;\n        int64_t remnant_99069;\n        int64_t subhistogram_id_99013;\n        int64_t eta_p_block_res_acc_99070;\n        int64_t eta_p_91220;\n        int64_t eta_p_91221;\n        int64_t tblock_id_in_segment_99074;\n        int64_t block_base_offset_99075;\n        int32_t offset_99078;\n        int32_t skip_waves_99079;\n        int64_t eta_p_99071;\n        int64_t eta_p_99072;\n        \n        virt_tblock_id_99065 = phys_tblock_id_99062 + i_99064 * sext_i64_i32(num_tblocks_91214);\n        flat_segment_id_99066 = squot64(sext_i32_i64(virt_tblock_id_99065), blocks_per_segment_99045);\n        global_tid_99067 = srem64(sext_i32_i64(virt_tblock_id_99065) * seghist_tblock_sizze_91212 + sext_i32_i64(local_tid_99054), threads_per_segment_99048);\n        slice_99068 = total_part_no_45886;\n        bucket_id_99012 = flat_segment_id_99066;\n        remnant_99069 = flat_segment_id_99066 - bucket_id_99012;\n        // ne-initialise the outer (per-block) accumulator(s)\n        {\n            eta_p_block_res_acc_99070 = (int64_t) 0;\n        }\n        tblock_id_in_segment_99074 = squot64(global_tid_99067, seghist_tblock_sizze_91212);\n        block_base_offset_99075 = tblock_id_in_segment_99074 * q_99046 * seghist_tblock_sizze_91212;\n        for (int64_t i_99076 = 0; i_99076 < q_99046; i_99076++) {\n            int64_t block_offset_99077 = block_base_offset_99075 + i_99076 * seghist_tblock_sizze_91212;\n            \n            subhistogram_id_99013 = global_tid_99067 + threads_per_segmen",
                                    "t_99048 * i_99076;\n            if (slt64(subhistogram_id_99013, num_subhistos_98928)) {\n                // apply map function(s)\n                {\n                    // load accumulator(s)\n                    {\n                        eta_p_91220 = eta_p_block_res_acc_99070;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_91221 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_98929)[subhistogram_id_99013 * total_part_no_45886 + bucket_id_99012];\n                    }\n                    // apply reduction operator(s)\n                    {\n                        int64_t defunc_0_op_res_91222 = add64(eta_p_91220, eta_p_91221);\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_99070 = defunc_0_op_res_91222;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054)] = eta_p_block_res_acc_99070;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_99079 = 1;\n        offset_99078 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_99054, sext_i64_i32(seghist_tblock_sizze_91212))) {\n                eta_p_99071 = ((__local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054 + offset_99078)];\n            }\n        }\n        offset_99078 = 1;\n        while (slt32(offset_99078, wave_sizze_99056)) {\n            if (slt32(local_tid_99054 + offset_99078, sext_i64_i32(seghist_tblock_sizze_91212)) && ((local_tid_99054 - squot32(local_tid_99054, wave_sizze_99056) * wave_sizze_99056) & (2 * offset_99078 - 1)) == 0) {\n                // read array element\n                {\n                    eta_", "p_99072 = ((volatile __local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054 + offset_99078)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_99073 = add64(eta_p_99071, eta_p_99072);\n                    \n                    eta_p_99071 = defunc_0_op_res_99073;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054)] = eta_p_99071;\n                }\n            }\n            offset_99078 *= 2;\n        }\n        while (slt32(skip_waves_99079, squot32(sext_i64_i32(seghist_tblock_sizze_91212) + wave_sizze_99056 - 1, wave_sizze_99056))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_99078 = skip_waves_99079 * wave_sizze_99056;\n            if (slt32(local_tid_99054 + offset_99078, sext_i64_i32(seghist_tblock_sizze_91212)) && ((local_tid_99054 - squot32(local_tid_99054, wave_sizze_99056) * wave_sizze_99056) == 0 && (squot32(local_tid_99054, wave_sizze_99056) & (2 * skip_waves_99079 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_99072 = ((__local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054 + offset_99078)];\n                }\n                // apply reduction operation\n                {\n                    int64_t defunc_0_op_res_99073 = add64(eta_p_99071, eta_p_99072);\n                    \n                    eta_p_99071 = defunc_0_op_res_99073;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054)] = eta_p_99071;\n                }\n            }\n            skip_waves_99079 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (se", "xt_i32_i64(local_tid_99054) == (int64_t) 0) {\n                eta_p_block_res_acc_99070 = eta_p_99071;\n            } else {\n                eta_p_block_res_acc_99070 = (int64_t) 0;\n            }\n        }\n        if (blocks_per_segment_99045 == (int64_t) 1) {\n            // first thread in block saves final result to memory\n            {\n                if (local_tid_99054 == 0) {\n                    ((__global int64_t *) mem_91631)[bucket_id_99012] = eta_p_block_res_acc_99070;\n                }\n            }\n        } else {\n            int32_t old_counter_99080;\n            bool is_last_block_99081;\n            \n            // first thread in block saves block result to global memory\n            {\n                if (local_tid_99054 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_99049)[sext_i32_i64(virt_tblock_id_99065)] = eta_p_block_res_acc_99070;\n                    mem_fence_global();\n                    old_counter_99080 = atomic_add_i32_global(&((volatile __global int *) counters_mem_99051)[srem64(flat_segment_id_99066, (int64_t) 20480)], (int) 1);\n                    ((__local bool *) sync_arr_mem_99060)[(int64_t) 0] = old_counter_99080 == sext_i64_i32(blocks_per_segment_99045 - (int64_t) 1);\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            is_last_block_99081 = ((__local bool *) sync_arr_mem_99060)[(int64_t) 0];\n            if (is_last_block_99081) {\n                if (local_tid_99054 == 0) {\n                    old_counter_99080 = atomic_add_i32_global(&((volatile __global int *) counters_mem_99051)[srem64(flat_segment_id_99066, (int64_t) 20480)], (int) sext_i64_i32((int64_t) 0 - blocks_per_segment_99045));\n                }\n                // read in the per-block-results\n                {\n                    int64_t read_per_thread_99082 = sdiv_up64(blocks_per_segment_99045, seghist_tblock_sizze_91212);\n                    \n                    eta_p_91220 = (int64_t) 0;\n     ",
                                    "               for (int64_t i_99083 = 0; i_99083 < read_per_thread_99082; i_99083++) {\n                        int64_t block_res_id_99084 = sext_i32_i64(local_tid_99054) * read_per_thread_99082 + i_99083;\n                        int64_t index_of_block_res_99085 = flat_segment_id_99066 * blocks_per_segment_99045 + block_res_id_99084;\n                        \n                        if (slt64(block_res_id_99084, blocks_per_segment_99045)) {\n                            eta_p_91221 = ((__global int64_t *) segred_tmp_mem_99049)[index_of_block_res_99085];\n                            \n                            int64_t defunc_0_op_res_91222 = add64(eta_p_91220, eta_p_91221);\n                            \n                            eta_p_91220 = defunc_0_op_res_91222;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054)] = eta_p_91220;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-block results\n                {\n                    int32_t offset_99086;\n                    int32_t skip_waves_99087 = 1;\n                    int64_t eta_p_99071;\n                    int64_t eta_p_99072;\n                    \n                    offset_99086 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_99054, sext_i64_i32(seghist_tblock_sizze_91212))) {\n                            eta_p_99071 = ((__local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054 + offset_99086)];\n                        }\n                    }\n                    offset_99086 = 1;\n                    while (slt32(offset_99086, wave_sizze_99056)) {\n                        if (slt32(local_tid_99054 + offset_99086, sext_i64_i32(seghist_tblock_sizze_91212)) && ((local_tid_99054 - squot32(local_tid_99054, wave_sizze_99056) * wave_sizze_99056) & (2 * offset_99086 - 1)) == 0) {\n        ", "                    // read array element\n                            {\n                                eta_p_99072 = ((volatile __local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054 + offset_99086)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_99073 = add64(eta_p_99071, eta_p_99072);\n                                \n                                eta_p_99071 = defunc_0_op_res_99073;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054)] = eta_p_99071;\n                            }\n                        }\n                        offset_99086 *= 2;\n                    }\n                    while (slt32(skip_waves_99087, squot32(sext_i64_i32(seghist_tblock_sizze_91212) + wave_sizze_99056 - 1, wave_sizze_99056))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_99086 = skip_waves_99087 * wave_sizze_99056;\n                        if (slt32(local_tid_99054 + offset_99086, sext_i64_i32(seghist_tblock_sizze_91212)) && ((local_tid_99054 - squot32(local_tid_99054, wave_sizze_99056) * wave_sizze_99056) == 0 && (squot32(local_tid_99054, wave_sizze_99056) & (2 * skip_waves_99087 - 1)) == 0)) {\n                            // read array element\n                            {\n                                eta_p_99072 = ((__local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054 + offset_99086)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t defunc_0_op_res_99073 = add64(eta_p_99071, eta_p_99072);\n                                \n                                eta_p_99071 = defunc_0_op_res_99073;\n   ", "                         }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_i64_mem_99058)[sext_i32_i64(local_tid_99054)] = eta_p_99071;\n                            }\n                        }\n                        skip_waves_99087 *= 2;\n                    }\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_99054 == 0) {\n                            ((__global int64_t *) mem_91631)[bucket_id_99012] = eta_p_99071;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_6:\n    return;\n    #undef seghist_tblock_sizze_91212\n    #undef chunk_sizze_99015\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_nonseg_78274_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_nonseg_78274(__global int *global_failure, int64_t dim_45874, int64_t n_45877, int64_t reduce_arg1_69643, int64_t num_tblocks_78267, int64_t num_threads_93544, __global unsigned char *xs_mem_91599, __global unsigned char *mem_93532, __global unsigned char *mem_93543, __global unsigned char *mem_93548, __global unsigned char *mem_93553, __global unsigned char *mem_93555, __global unsigned char *mem_93556, __global unsigned char *counters_mem_96583, __global unsigned char *segred_tmp_mem_96585, __global unsigned char *segred_tmp_mem_96587, __global unsigned char *segred_tmp_mem_96589)\n{\n    #define segred_tblock_sizze_78265 (sort_for_Skyline_doublezisegred_nonseg_78274zisegred_tblock_sizze_78265)\n    #define chunk_sizze_96582 (sort_for_Skyline_doublezisegred_nonseg_78274zichunk_sizze_96582)\n    \n    volatile __local unsigned char *sync_arr_mem_96602_backing_2 = &shared_mem[0];\n    const int64_t sync_arr_mem_96602_backing_2_offset = 0 + 8;\n    volatile __local unsigned char *re",
                                    "d_arr_i64_mem_96600_backing_1 = &shared_mem[sync_arr_mem_96602_backing_2_offset];\n    const int64_t red_arr_i64_mem_96600_backing_1_offset = sync_arr_mem_96602_backing_2_offset + ((int64_t) 8 * segred_tblock_sizze_78265 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_78265, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *red_arr_i64_mem_96597_backing_0 = &shared_mem[red_arr_i64_mem_96600_backing_1_offset];\n    const int64_t red_arr_i64_mem_96597_backing_0_offset = red_arr_i64_mem_96600_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_78265 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_78265, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_96593;\n    int32_t tblock_sizze_96596;\n    int32_t wave_sizze_96595;\n    int32_t block_id_96594;\n    int32_t global_tid_96592;\n    int64_t phys_tid_78274;\n    __local unsigned char *red_arr_i64_mem_96597;\n    __local unsigned char *red_arr_i64_mem_96600;\n    __local unsigned char *sync_arr_mem_96602;\n    int64_t dummy_78272;\n    int64_t gtid_78273;\n    int64_t q_96604;\n    int64_t eta_p_block_res_acc_96605;\n    int64_t eta_p_block_res_acc_96606;\n    int64_t eta_p_69654;\n    int64_t eta_p_69656;\n    int64_t eta_p_69657;\n    int64_t eta_p_69659;\n    int64_t tblock_id_in_segment_96621;\n    int64_t block_base_offset_96622;\n    int32_t old_counter_96627;\n    bool is_last_block_96630;\n    \n    local_tid_96593 = get_local_id(0);\n    tblock_sizze_96596 = get_local_size(0);\n    wave_sizze_96595 = LOCKSTEP_WIDTH;\n    block_id_96594 = get_tblock_id(0);\n    global_tid_96592 = block_id_96594 * tblock_sizze_96596 + local_tid_96593;\n    phys_tid_78274 = sext_i32_i64(global_tid_96592);\n    red_arr_i64_mem_96597 = (__local unsigned char *) red_arr_i64_mem_96597_backing_0;\n    red_arr_i64_mem_96600 = (__local unsigned char *) red_arr_i64_mem_96600_backing_1;\n    sync_arr_mem_96602 = (__local unsigned char *) sync_arr_mem_96602_backing_2", ";\n    dummy_78272 = (int64_t) 0;\n    gtid_78273 = (int64_t) 0;\n    q_96604 = sdiv_up64(n_45877, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_78265 * num_tblocks_78267)) * chunk_sizze_96582);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_96605 = reduce_arg1_69643;\n        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n            ((__global double *) segred_tmp_mem_96587)[sext_i32_i64(local_tid_96593) + sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + i_0 * segred_tblock_sizze_78265] = ((__global double *) xs_mem_91599)[i_0];\n        }\n        eta_p_block_res_acc_96606 = (int64_t) 0;\n    }\n    tblock_id_in_segment_96621 = squot64(phys_tid_78274, segred_tblock_sizze_78265);\n    block_base_offset_96622 = tblock_id_in_segment_96621 * q_96604 * segred_tblock_sizze_78265;\n    for (int64_t i_96623 = 0; i_96623 < q_96604; i_96623++) {\n        int64_t block_offset_96624;\n        int32_t offset_96625;\n        int32_t skip_waves_96626;\n        int64_t eta_p_96607;\n        int64_t eta_p_96609;\n        int64_t eta_p_96610;\n        int64_t eta_p_96612;\n        \n        block_offset_96624 = block_base_offset_96622 + i_96623 * segred_tblock_sizze_78265;\n        gtid_78273 = block_offset_96624 + sext_i32_i64(local_tid_96593);\n        if (slt64(gtid_78273, n_45877)) {\n            // apply map function(s)\n            {\n                // apply map function\n                {\n                    int64_t x_69651 = ((__global int64_t *) mem_93532)[gtid_78273];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_69654 = eta_p_block_res_acc_96605;\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) segred_tmp_mem_96587)[sext_i32_i64(local_tid_96593) + sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) +", " i_0 * segred_tblock_sizze_78265];\n                        }\n                        eta_p_69656 = eta_p_block_res_acc_96606;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_69657 = x_69651;\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[(phys_tid_78274 + num_threads_93544) * dim_45874 + i_0] = ((__global double *) mem_93543)[gtid_78273 + i_0 * n_45877];\n                        }\n                        eta_p_69659 = gtid_78273;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        bool lifted_lambda_res_69660 = sle64(eta_p_69654, eta_p_69657);\n                        int64_t defunc_0_op_res_69661;\n                        \n                        if (lifted_lambda_res_69660) {\n                            defunc_0_op_res_69661 = eta_p_69657;\n                        } else {\n                            defunc_0_op_res_69661 = eta_p_69654;\n                        }\n                        \n                        int64_t defunc_0_op_res_69662;\n                        \n                        if (lifted_lambda_res_69660) {\n                            defunc_0_op_res_69662 = eta_p_69659;\n                        } else {\n                            defunc_0_op_res_69662 = eta_p_69656;\n                        }\n                        \n                        int64_t lmad_ext_93549 = dim_45874 * phys_tid_78274;\n                        int64_t binop_x_93550 = phys_tid_78274 + num_threads_93544;\n                        int64_t lmad_ext_93551 = dim_45874 * binop_x_93550;\n                        int64_t ext_93552;\n                        \n                        if (lifted_lambda_res_69660) {\n                            ext_93552 = lmad_ext_93551;\n                        } else {\n                            ext_93552 = lmad_ext_93549;\n                        }\n  ",
                                    "                      if (lifted_lambda_res_69660) { }\n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_96605 = defunc_0_op_res_69661;\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) segred_tmp_mem_96587)[sext_i32_i64(local_tid_96593) + sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + i_0 * segred_tblock_sizze_78265] = ((__global double *) mem_93548)[ext_93552 + i_0];\n                            }\n                            eta_p_block_res_acc_96606 = defunc_0_op_res_69662;\n                        }\n                    }\n                }\n            }\n        }\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593)] = eta_p_block_res_acc_96605;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) segred_tmp_mem_96587)[sext_i32_i64(local_tid_96593) + sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + i_0 * segred_tblock_sizze_78265];\n            }\n            ((__local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593)] = eta_p_block_res_acc_96606;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_96626 = 1;\n        offset_96625 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_96593, sext_i64_i32(segred_tblock_sizze_78265))) {\n                eta_p_96607 = ((__local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593 + offset_96625)];\n                if (!(phys_tid_78274 * dim_45874 == sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96625) * dim_45874)) {\n                    for (int", "64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) mem_93548)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96625) * dim_45874 + i_0];\n                    }\n                }\n                eta_p_96609 = ((__local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593 + offset_96625)];\n            }\n        }\n        offset_96625 = 1;\n        while (slt32(offset_96625, wave_sizze_96595)) {\n            if (slt32(local_tid_96593 + offset_96625, sext_i64_i32(segred_tblock_sizze_78265)) && ((local_tid_96593 - squot32(local_tid_96593, wave_sizze_96595) * wave_sizze_96595) & (2 * offset_96625 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_96610 = ((volatile __local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593 + offset_96625)];\n                    if (!((phys_tid_78274 + num_threads_93544) * dim_45874 == sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96625) * dim_45874)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[(phys_tid_78274 + num_threads_93544) * dim_45874 + i_0] = ((__global double *) mem_93548)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96625) * dim_45874 + i_0];\n                        }\n                    }\n                    eta_p_96612 = ((volatile __local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593 + offset_96625)];\n                }\n                // apply reduction operation\n                {\n                    bool lifted_lambda_res_96613 = sle64(eta_p_96607, eta_p_96610);\n                    int64_t defunc_0_op_res_96614;\n                    \n                    if (lifted_lamb", "da_res_96613) {\n                        defunc_0_op_res_96614 = eta_p_96610;\n                    } else {\n                        defunc_0_op_res_96614 = eta_p_96607;\n                    }\n                    \n                    int64_t defunc_0_op_res_96615;\n                    \n                    if (lifted_lambda_res_96613) {\n                        defunc_0_op_res_96615 = eta_p_96612;\n                    } else {\n                        defunc_0_op_res_96615 = eta_p_96609;\n                    }\n                    \n                    int64_t lmad_ext_96616 = dim_45874 * phys_tid_78274;\n                    int64_t binop_x_96617 = phys_tid_78274 + num_threads_93544;\n                    int64_t lmad_ext_96618 = dim_45874 * binop_x_96617;\n                    int64_t ext_96619;\n                    \n                    if (lifted_lambda_res_96613) {\n                        ext_96619 = lmad_ext_96618;\n                    } else {\n                        ext_96619 = lmad_ext_96616;\n                    }\n                    if (lifted_lambda_res_96613) { }\n                    eta_p_96607 = defunc_0_op_res_96614;\n                    if (!(phys_tid_78274 * dim_45874 == ext_96619)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) mem_93548)[ext_96619 + i_0];\n                        }\n                    }\n                    eta_p_96609 = defunc_0_op_res_96615;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593)] = eta_p_96607;\n                    ((volatile __local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593)] = eta_p_96609;\n                }\n            }\n            offset_96625 *= 2;\n        }\n        while (slt32(skip_waves_96626, squot32(sext_i64_i32(segred_tblock_sizze_78265) ",
                                    "+ wave_sizze_96595 - 1, wave_sizze_96595))) {\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            offset_96625 = skip_waves_96626 * wave_sizze_96595;\n            if (slt32(local_tid_96593 + offset_96625, sext_i64_i32(segred_tblock_sizze_78265)) && ((local_tid_96593 - squot32(local_tid_96593, wave_sizze_96595) * wave_sizze_96595) == 0 && (squot32(local_tid_96593, wave_sizze_96595) & (2 * skip_waves_96626 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_96610 = ((__local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593 + offset_96625)];\n                    if (!((phys_tid_78274 + num_threads_93544) * dim_45874 == sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96625) * dim_45874)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[(phys_tid_78274 + num_threads_93544) * dim_45874 + i_0] = ((__global double *) mem_93548)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96625) * dim_45874 + i_0];\n                        }\n                    }\n                    eta_p_96612 = ((__local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593 + offset_96625)];\n                }\n                // apply reduction operation\n                {\n                    bool lifted_lambda_res_96613 = sle64(eta_p_96607, eta_p_96610);\n                    int64_t defunc_0_op_res_96614;\n                    \n                    if (lifted_lambda_res_96613) {\n                        defunc_0_op_res_96614 = eta_p_96610;\n                    } else {\n                        defunc_0_op_res_96614 = eta_p_96607;\n                    }\n                    \n                    int64_t defunc_0_op_res_96615;\n                    \n                    if (lifted_lambda_res_96613) {\n                      ", "  defunc_0_op_res_96615 = eta_p_96612;\n                    } else {\n                        defunc_0_op_res_96615 = eta_p_96609;\n                    }\n                    \n                    int64_t lmad_ext_96616 = dim_45874 * phys_tid_78274;\n                    int64_t binop_x_96617 = phys_tid_78274 + num_threads_93544;\n                    int64_t lmad_ext_96618 = dim_45874 * binop_x_96617;\n                    int64_t ext_96619;\n                    \n                    if (lifted_lambda_res_96613) {\n                        ext_96619 = lmad_ext_96618;\n                    } else {\n                        ext_96619 = lmad_ext_96616;\n                    }\n                    if (lifted_lambda_res_96613) { }\n                    eta_p_96607 = defunc_0_op_res_96614;\n                    if (!(phys_tid_78274 * dim_45874 == ext_96619)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) mem_93548)[ext_96619 + i_0];\n                        }\n                    }\n                    eta_p_96609 = defunc_0_op_res_96615;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593)] = eta_p_96607;\n                    ((__local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593)] = eta_p_96609;\n                }\n            }\n            skip_waves_96626 *= 2;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Copy array-typed operands to result array\n        {\n            if (local_tid_96593 == 0) {\n                if (!((sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593) * dim_45874) == phys_tid_78274 * dim_45874)) {\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_93", "548)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593) * dim_45874 + i_0] = ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0];\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_96593) == (int64_t) 0) {\n                eta_p_block_res_acc_96605 = eta_p_96607;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__global double *) segred_tmp_mem_96587)[sext_i32_i64(local_tid_96593) + sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + i_0 * segred_tblock_sizze_78265] = ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0];\n                }\n                eta_p_block_res_acc_96606 = eta_p_96609;\n            } else {\n                eta_p_block_res_acc_96605 = reduce_arg1_69643;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__global double *) segred_tmp_mem_96587)[sext_i32_i64(local_tid_96593) + sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + i_0 * segred_tblock_sizze_78265] = ((__global double *) xs_mem_91599)[i_0];\n                }\n                eta_p_block_res_acc_96606 = (int64_t) 0;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_96593 == 0) {\n            ((__global int64_t *) segred_tmp_mem_96585)[sext_i32_i64(block_id_96594)] = eta_p_block_res_acc_96605;\n            mem_fence_global();\n            for (int64_t nest_i_96628 = 0; nest_i_96628 < dim_45874; nest_i_96628++) {\n                double tmp_96629 = ((__global double *) segred_tmp_mem_96587)[sext_i32_i64(local_tid_96593) + sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + nest_i_96628 * segred_tblock_sizze_78265];\n ",
                                    "               \n                ((__global double *) segred_tmp_mem_96587)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + nest_i_96628 * segred_tblock_sizze_78265] = tmp_96629;\n                mem_fence_global();\n            }\n            ((__global int64_t *) segred_tmp_mem_96589)[sext_i32_i64(block_id_96594)] = eta_p_block_res_acc_96606;\n            mem_fence_global();\n            old_counter_96627 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96583)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_96602)[(int64_t) 0] = old_counter_96627 == sext_i64_i32(num_tblocks_78267 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_96630 = ((__local bool *) sync_arr_mem_96602)[(int64_t) 0];\n    if (is_last_block_96630) {\n        if (local_tid_96593 == 0) {\n            old_counter_96627 = atomic_add_i32_global(&((volatile __global int *) counters_mem_96583)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_78267));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_96631 = sdiv_up64(num_tblocks_78267, segred_tblock_sizze_78265);\n            \n            eta_p_69654 = reduce_arg1_69643;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) xs_mem_91599)[i_0];\n            }\n            eta_p_69656 = (int64_t) 0;\n            for (int64_t i_96632 = 0; i_96632 < read_per_thread_96631; i_96632++) {\n                int64_t block_res_id_96633 = sext_i32_i64(local_tid_96593) * read_per_thread_96631 + i_96632;\n                int64_t index_of_block_res_96634 = block_res_id_96633;\n                \n                if (slt64(block_res_id_96633, num_tblocks_78267)) {\n                    eta_p_69657 = ((__global int64_t *) segred_tmp_mem_96585)[index_of_block_res_96634];\n                    for (int64_t i_0 = 0", "; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_93548)[(phys_tid_78274 + num_threads_93544) * dim_45874 + i_0] = ((__global double *) segred_tmp_mem_96587)[index_of_block_res_96634 * (segred_tblock_sizze_78265 * dim_45874) + i_0 * segred_tblock_sizze_78265];\n                    }\n                    eta_p_69659 = ((__global int64_t *) segred_tmp_mem_96589)[index_of_block_res_96634];\n                    \n                    bool lifted_lambda_res_69660 = sle64(eta_p_69654, eta_p_69657);\n                    int64_t defunc_0_op_res_69661;\n                    \n                    if (lifted_lambda_res_69660) {\n                        defunc_0_op_res_69661 = eta_p_69657;\n                    } else {\n                        defunc_0_op_res_69661 = eta_p_69654;\n                    }\n                    \n                    int64_t defunc_0_op_res_69662;\n                    \n                    if (lifted_lambda_res_69660) {\n                        defunc_0_op_res_69662 = eta_p_69659;\n                    } else {\n                        defunc_0_op_res_69662 = eta_p_69656;\n                    }\n                    \n                    int64_t lmad_ext_93549 = dim_45874 * phys_tid_78274;\n                    int64_t binop_x_93550 = phys_tid_78274 + num_threads_93544;\n                    int64_t lmad_ext_93551 = dim_45874 * binop_x_93550;\n                    int64_t ext_93552;\n                    \n                    if (lifted_lambda_res_69660) {\n                        ext_93552 = lmad_ext_93551;\n                    } else {\n                        ext_93552 = lmad_ext_93549;\n                    }\n                    if (lifted_lambda_res_69660) { }\n                    eta_p_69654 = defunc_0_op_res_69661;\n                    if (!(phys_tid_78274 * dim_45874 == ext_93552)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__glo", "bal double *) mem_93548)[ext_93552 + i_0];\n                        }\n                    }\n                    eta_p_69656 = defunc_0_op_res_69662;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593)] = eta_p_69654;\n        ((__local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593)] = eta_p_69656;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_96635;\n            int32_t skip_waves_96636 = 1;\n            int64_t eta_p_96607;\n            int64_t eta_p_96609;\n            int64_t eta_p_96610;\n            int64_t eta_p_96612;\n            \n            offset_96635 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_96593, sext_i64_i32(segred_tblock_sizze_78265))) {\n                    eta_p_96607 = ((__local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593 + offset_96635)];\n                    if (!(phys_tid_78274 * dim_45874 == sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96635) * dim_45874)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) mem_93548)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96635) * dim_45874 + i_0];\n                        }\n                    }\n                    eta_p_96609 = ((__local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593 + offset_96635)];\n                }\n            }\n            offset_96635 = 1;\n            while (slt32(offset_96635, wave_sizze_96595)) {\n                if (slt32(local_tid_96593 + offset_96635, sext_i64_i32(segred_tblock_sizze_78265)) && ((local_tid_96593 - squot32(local_tid_96593, wave_sizze_96595)",
                                    " * wave_sizze_96595) & (2 * offset_96635 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_96610 = ((volatile __local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593 + offset_96635)];\n                        if (!((phys_tid_78274 + num_threads_93544) * dim_45874 == sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96635) * dim_45874)) {\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) mem_93548)[(phys_tid_78274 + num_threads_93544) * dim_45874 + i_0] = ((__global double *) mem_93548)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96635) * dim_45874 + i_0];\n                            }\n                        }\n                        eta_p_96612 = ((volatile __local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593 + offset_96635)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool lifted_lambda_res_96613 = sle64(eta_p_96607, eta_p_96610);\n                        int64_t defunc_0_op_res_96614;\n                        \n                        if (lifted_lambda_res_96613) {\n                            defunc_0_op_res_96614 = eta_p_96610;\n                        } else {\n                            defunc_0_op_res_96614 = eta_p_96607;\n                        }\n                        \n                        int64_t defunc_0_op_res_96615;\n                        \n                        if (lifted_lambda_res_96613) {\n                            defunc_0_op_res_96615 = eta_p_96612;\n                        } else {\n                            defunc_0_op_res_96615 = eta_p_96609;\n                        }\n                        \n                        int64_t lmad_ext_96616 = dim_45874 * phys_tid_78274;\n         ", "               int64_t binop_x_96617 = phys_tid_78274 + num_threads_93544;\n                        int64_t lmad_ext_96618 = dim_45874 * binop_x_96617;\n                        int64_t ext_96619;\n                        \n                        if (lifted_lambda_res_96613) {\n                            ext_96619 = lmad_ext_96618;\n                        } else {\n                            ext_96619 = lmad_ext_96616;\n                        }\n                        if (lifted_lambda_res_96613) { }\n                        eta_p_96607 = defunc_0_op_res_96614;\n                        if (!(phys_tid_78274 * dim_45874 == ext_96619)) {\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) mem_93548)[ext_96619 + i_0];\n                            }\n                        }\n                        eta_p_96609 = defunc_0_op_res_96615;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593)] = eta_p_96607;\n                        ((volatile __local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593)] = eta_p_96609;\n                    }\n                }\n                offset_96635 *= 2;\n            }\n            while (slt32(skip_waves_96636, squot32(sext_i64_i32(segred_tblock_sizze_78265) + wave_sizze_96595 - 1, wave_sizze_96595))) {\n                barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n                offset_96635 = skip_waves_96636 * wave_sizze_96595;\n                if (slt32(local_tid_96593 + offset_96635, sext_i64_i32(segred_tblock_sizze_78265)) && ((local_tid_96593 - squot32(local_tid_96593, wave_sizze_96595) * wave_sizze_96595) == 0 && (squot32(local_tid_96593, wave_sizze_96595) & (2 * skip_waves_96636 - 1)) == 0)) {\n                    // read array element\n", "                    {\n                        eta_p_96610 = ((__local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593 + offset_96635)];\n                        if (!((phys_tid_78274 + num_threads_93544) * dim_45874 == sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96635) * dim_45874)) {\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) mem_93548)[(phys_tid_78274 + num_threads_93544) * dim_45874 + i_0] = ((__global double *) mem_93548)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593 + offset_96635) * dim_45874 + i_0];\n                            }\n                        }\n                        eta_p_96612 = ((__local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593 + offset_96635)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool lifted_lambda_res_96613 = sle64(eta_p_96607, eta_p_96610);\n                        int64_t defunc_0_op_res_96614;\n                        \n                        if (lifted_lambda_res_96613) {\n                            defunc_0_op_res_96614 = eta_p_96610;\n                        } else {\n                            defunc_0_op_res_96614 = eta_p_96607;\n                        }\n                        \n                        int64_t defunc_0_op_res_96615;\n                        \n                        if (lifted_lambda_res_96613) {\n                            defunc_0_op_res_96615 = eta_p_96612;\n                        } else {\n                            defunc_0_op_res_96615 = eta_p_96609;\n                        }\n                        \n                        int64_t lmad_ext_96616 = dim_45874 * phys_tid_78274;\n                        int64_t binop_x_96617 = phys_tid_78274 + num_threads_93544;\n                        int64_t lmad_ext",
                                    "_96618 = dim_45874 * binop_x_96617;\n                        int64_t ext_96619;\n                        \n                        if (lifted_lambda_res_96613) {\n                            ext_96619 = lmad_ext_96618;\n                        } else {\n                            ext_96619 = lmad_ext_96616;\n                        }\n                        if (lifted_lambda_res_96613) { }\n                        eta_p_96607 = defunc_0_op_res_96614;\n                        if (!(phys_tid_78274 * dim_45874 == ext_96619)) {\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0] = ((__global double *) mem_93548)[ext_96619 + i_0];\n                            }\n                        }\n                        eta_p_96609 = defunc_0_op_res_96615;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_96597)[sext_i32_i64(local_tid_96593)] = eta_p_96607;\n                        ((__local int64_t *) red_arr_i64_mem_96600)[sext_i32_i64(local_tid_96593)] = eta_p_96609;\n                    }\n                }\n                skip_waves_96636 *= 2;\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            // Copy array-typed operands to result array\n            {\n                if (local_tid_96593 == 0) {\n                    if (!((sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593) * dim_45874) == phys_tid_78274 * dim_45874)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_93548)[sext_i32_i64(block_id_96594) * (segred_tblock_sizze_78265 * dim_45874) + sext_i32_i64(local_tid_96593) * dim_45874 + i_0] = ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0];\n                        }\n               ", "     }\n                }\n            }\n            // and back to memory with the final result\n            {\n                if (local_tid_96593 == 0) {\n                    ((__global int64_t *) mem_93553)[(int64_t) 0] = eta_p_96607;\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_93555)[i_0] = ((__global double *) mem_93548)[phys_tid_78274 * dim_45874 + i_0];\n                    }\n                    ((__global int64_t *) mem_93556)[(int64_t) 0] = eta_p_96609;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_78265\n    #undef chunk_sizze_96582\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_nonseg_84032_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_nonseg_84032(__global int *global_failure, int64_t dim_45874, int64_t n_45877, int64_t reduce_arg1_66049, double reduce_arg1_66051, int64_t num_tblocks_84024, int64_t num_threads_92062, __global unsigned char *xs_mem_91599, __global unsigned char *mem_91983, __global unsigned char *mem_92050, __global unsigned char *mem_92061, __global unsigned char *mem_92066, __global unsigned char *mem_92071, __global unsigned char *mem_92072, __global unsigned char *mem_92074, __global unsigned char *mem_92075, __global unsigned char *counters_mem_97519, __global unsigned char *segred_tmp_mem_97521, __global unsigned char *segred_tmp_mem_97523, __global unsigned char *segred_tmp_mem_97525, __global unsigned char *segred_tmp_mem_97527)\n{\n    #define segred_tblock_sizze_84022 (sort_for_Skyline_doublezisegred_nonseg_84032zisegred_tblock_sizze_84022)\n    #define chunk_sizze_97518 (sort_for_Skyline_doublezisegred_nonseg_84032zichunk_sizze_97518)\n    \n    volatile __local unsigned char *sync_arr_mem_97542_backing_3 = &shared_mem[0];\n    const int64_t sync_arr_mem_97542_backing_3_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_i64_mem_97540_backing_2 = &shared_mem[sync_arr_mem_97542_backing_3_of", "fset];\n    const int64_t red_arr_i64_mem_97540_backing_2_offset = sync_arr_mem_97542_backing_3_offset + ((int64_t) 8 * segred_tblock_sizze_84022 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_84022, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *red_arr_f64_mem_97537_backing_1 = &shared_mem[red_arr_i64_mem_97540_backing_2_offset];\n    const int64_t red_arr_f64_mem_97537_backing_1_offset = red_arr_i64_mem_97540_backing_2_offset + ((int64_t) 8 * segred_tblock_sizze_84022 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_84022, (int64_t) 8), (int64_t) 8));\n    volatile __local unsigned char *red_arr_i64_mem_97535_backing_0 = &shared_mem[red_arr_f64_mem_97537_backing_1_offset];\n    const int64_t red_arr_i64_mem_97535_backing_0_offset = red_arr_f64_mem_97537_backing_1_offset + ((int64_t) 8 * segred_tblock_sizze_84022 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_84022, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_97531;\n    int32_t tblock_sizze_97534;\n    int32_t wave_sizze_97533;\n    int32_t block_id_97532;\n    int32_t global_tid_97530;\n    int64_t phys_tid_84032;\n    __local unsigned char *red_arr_i64_mem_97535;\n    __local unsigned char *red_arr_f64_mem_97537;\n    __local unsigned char *red_arr_i64_mem_97540;\n    __local unsigned char *sync_arr_mem_97542;\n    int64_t dummy_84030;\n    int64_t gtid_84031;\n    int64_t q_97544;\n    int64_t eta_p_block_res_acc_97545;\n    double eta_p_block_res_acc_97546;\n    int64_t eta_p_block_res_acc_97547;\n    int64_t eta_p_66071;\n    double eta_p_66072;\n    int64_t eta_p_66074;\n    int64_t eta_p_66075;\n    double eta_p_66076;\n    int64_t eta_p_66078;\n    int64_t tblock_id_in_segment_97571;\n    int64_t block_base_offset_97572;\n    int32_t old_counter_97577;\n    bool is_last_block_97580;\n    \n    local_tid_97531 = get_local_id(0);\n    tblock_sizze_97534 = get_local_size(0);\n    wave_sizze_97533 = LOCKSTEP_WIDTH",
                                    ";\n    block_id_97532 = get_tblock_id(0);\n    global_tid_97530 = block_id_97532 * tblock_sizze_97534 + local_tid_97531;\n    phys_tid_84032 = sext_i32_i64(global_tid_97530);\n    red_arr_i64_mem_97535 = (__local unsigned char *) red_arr_i64_mem_97535_backing_0;\n    red_arr_f64_mem_97537 = (__local unsigned char *) red_arr_f64_mem_97537_backing_1;\n    red_arr_i64_mem_97540 = (__local unsigned char *) red_arr_i64_mem_97540_backing_2;\n    sync_arr_mem_97542 = (__local unsigned char *) sync_arr_mem_97542_backing_3;\n    dummy_84030 = (int64_t) 0;\n    gtid_84031 = (int64_t) 0;\n    q_97544 = sdiv_up64(n_45877, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_84022 * num_tblocks_84024)) * chunk_sizze_97518);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_97545 = reduce_arg1_66049;\n        eta_p_block_res_acc_97546 = reduce_arg1_66051;\n        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n            ((__global double *) segred_tmp_mem_97525)[sext_i32_i64(local_tid_97531) + sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + i_0 * segred_tblock_sizze_84022] = ((__global double *) xs_mem_91599)[i_0];\n        }\n        eta_p_block_res_acc_97547 = (int64_t) 0;\n    }\n    tblock_id_in_segment_97571 = squot64(phys_tid_84032, segred_tblock_sizze_84022);\n    block_base_offset_97572 = tblock_id_in_segment_97571 * q_97544 * segred_tblock_sizze_84022;\n    for (int64_t i_97573 = 0; i_97573 < q_97544; i_97573++) {\n        int64_t block_offset_97574;\n        int32_t offset_97575;\n        int32_t skip_waves_97576;\n        int64_t eta_p_97548;\n        double eta_p_97549;\n        int64_t eta_p_97551;\n        int64_t eta_p_97552;\n        double eta_p_97553;\n        int64_t eta_p_97555;\n        \n        block_offset_97574 = block_base_offset_97572 + i_97573 * segred_tblock_sizze_84022;\n        gtid_84031 = block_offset_97574 + sext_i32_i64(local_tid_97531);\n        if (slt64(gtid_84031, n_45877)) {\n            // apply map function(", "s)\n            {\n                // apply map function\n                {\n                    int64_t x_66067 = ((__global int64_t *) mem_92050)[gtid_84031];\n                    double x_66068 = ((__global double *) mem_91983)[gtid_84031];\n                    \n                    // load accumulator(s)\n                    {\n                        eta_p_66071 = eta_p_block_res_acc_97545;\n                        eta_p_66072 = eta_p_block_res_acc_97546;\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) segred_tmp_mem_97525)[sext_i32_i64(local_tid_97531) + sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + i_0 * segred_tblock_sizze_84022];\n                        }\n                        eta_p_66074 = eta_p_block_res_acc_97547;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_66075 = x_66067;\n                        eta_p_66076 = x_66068;\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_92066)[(phys_tid_84032 + num_threads_92062) * dim_45874 + i_0] = ((__global double *) mem_92061)[gtid_84031 + i_0 * n_45877];\n                        }\n                        eta_p_66078 = gtid_84031;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        bool cond_66079 = slt64(eta_p_66071, eta_p_66075);\n                        bool cond_66080 = eta_p_66071 == eta_p_66075;\n                        bool lifted_lambda_res_f_res_t_res_66081 = eta_p_66072 <= eta_p_66076;\n                        bool x_66082 = cond_66080 && lifted_lambda_res_f_res_t_res_66081;\n                        bool x_66083 = !cond_66079;\n                        bool y_66084 = x_66082 && x_66083;\n                        bool lifted_lambda_res_66085 = cond_6", "6079 || y_66084;\n                        int64_t defunc_0_op_res_66086;\n                        \n                        if (lifted_lambda_res_66085) {\n                            defunc_0_op_res_66086 = eta_p_66075;\n                        } else {\n                            defunc_0_op_res_66086 = eta_p_66071;\n                        }\n                        \n                        double defunc_0_op_res_66087;\n                        \n                        if (lifted_lambda_res_66085) {\n                            defunc_0_op_res_66087 = eta_p_66076;\n                        } else {\n                            defunc_0_op_res_66087 = eta_p_66072;\n                        }\n                        \n                        int64_t defunc_0_op_res_66088;\n                        \n                        if (lifted_lambda_res_66085) {\n                            defunc_0_op_res_66088 = eta_p_66078;\n                        } else {\n                            defunc_0_op_res_66088 = eta_p_66074;\n                        }\n                        \n                        int64_t lmad_ext_92067 = dim_45874 * phys_tid_84032;\n                        int64_t binop_x_92068 = phys_tid_84032 + num_threads_92062;\n                        int64_t lmad_ext_92069 = dim_45874 * binop_x_92068;\n                        int64_t ext_92070;\n                        \n                        if (lifted_lambda_res_66085) {\n                            ext_92070 = lmad_ext_92069;\n                        } else {\n                            ext_92070 = lmad_ext_92067;\n                        }\n                        if (lifted_lambda_res_66085) { }\n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_97545 = defunc_0_op_res_66086;\n                            eta_p_block_res_acc_97546 = defunc_0_op_res_66087;\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__gl",
                                    "obal double *) segred_tmp_mem_97525)[sext_i32_i64(local_tid_97531) + sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + i_0 * segred_tblock_sizze_84022] = ((__global double *) mem_92066)[ext_92070 + i_0];\n                            }\n                            eta_p_block_res_acc_97547 = defunc_0_op_res_66088;\n                        }\n                    }\n                }\n            }\n        }\n        // store accs. prims go in lmem; non-prims in params (in global mem)\n        {\n            ((__local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531)] = eta_p_block_res_acc_97545;\n            ((__local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531)] = eta_p_block_res_acc_97546;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) segred_tmp_mem_97525)[sext_i32_i64(local_tid_97531) + sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + i_0 * segred_tblock_sizze_84022];\n            }\n            ((__local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531)] = eta_p_block_res_acc_97547;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        skip_waves_97576 = 1;\n        offset_97575 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_97531, sext_i64_i32(segred_tblock_sizze_84022))) {\n                eta_p_97548 = ((__local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531 + offset_97575)];\n                eta_p_97549 = ((__local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531 + offset_97575)];\n                if (!(phys_tid_84032 * dim_45874 == sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97575) * dim_45874)) {\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_9", "2066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) mem_92066)[sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97575) * dim_45874 + i_0];\n                    }\n                }\n                eta_p_97551 = ((__local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531 + offset_97575)];\n            }\n        }\n        offset_97575 = 1;\n        while (slt32(offset_97575, wave_sizze_97533)) {\n            if (slt32(local_tid_97531 + offset_97575, sext_i64_i32(segred_tblock_sizze_84022)) && ((local_tid_97531 - squot32(local_tid_97531, wave_sizze_97533) * wave_sizze_97533) & (2 * offset_97575 - 1)) == 0) {\n                // read array element\n                {\n                    eta_p_97552 = ((volatile __local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531 + offset_97575)];\n                    eta_p_97553 = ((volatile __local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531 + offset_97575)];\n                    if (!((phys_tid_84032 + num_threads_92062) * dim_45874 == sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97575) * dim_45874)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_92066)[(phys_tid_84032 + num_threads_92062) * dim_45874 + i_0] = ((__global double *) mem_92066)[sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97575) * dim_45874 + i_0];\n                        }\n                    }\n                    eta_p_97555 = ((volatile __local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531 + offset_97575)];\n                }\n                // apply reduction operation\n                {\n                    bool cond_97556 = slt64(eta_p_97548, eta_p_97552);\n                    bool cond_97557 = eta_p_97548 == eta_p_97552;\n           ", "         bool lifted_lambda_res_f_res_t_res_97558 = eta_p_97549 <= eta_p_97553;\n                    bool x_97559 = cond_97557 && lifted_lambda_res_f_res_t_res_97558;\n                    bool x_97560 = !cond_97556;\n                    bool y_97561 = x_97559 && x_97560;\n                    bool lifted_lambda_res_97562 = cond_97556 || y_97561;\n                    int64_t defunc_0_op_res_97563;\n                    \n                    if (lifted_lambda_res_97562) {\n                        defunc_0_op_res_97563 = eta_p_97552;\n                    } else {\n                        defunc_0_op_res_97563 = eta_p_97548;\n                    }\n                    \n                    double defunc_0_op_res_97564;\n                    \n                    if (lifted_lambda_res_97562) {\n                        defunc_0_op_res_97564 = eta_p_97553;\n                    } else {\n                        defunc_0_op_res_97564 = eta_p_97549;\n                    }\n                    \n                    int64_t defunc_0_op_res_97565;\n                    \n                    if (lifted_lambda_res_97562) {\n                        defunc_0_op_res_97565 = eta_p_97555;\n                    } else {\n                        defunc_0_op_res_97565 = eta_p_97551;\n                    }\n                    \n                    int64_t lmad_ext_97566 = dim_45874 * phys_tid_84032;\n                    int64_t binop_x_97567 = phys_tid_84032 + num_threads_92062;\n                    int64_t lmad_ext_97568 = dim_45874 * binop_x_97567;\n                    int64_t ext_97569;\n                    \n                    if (lifted_lambda_res_97562) {\n                        ext_97569 = lmad_ext_97568;\n                    } else {\n                        ext_97569 = lmad_ext_97566;\n                    }\n                    if (lifted_lambda_res_97562) { }\n                    eta_p_97548 = defunc_0_op_res_97563;\n                    eta_p_97549 = defunc_0_op_res_97564;\n                    if (!(phys_tid_84032 * dim_45",
                                    "874 == ext_97569)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) mem_92066)[ext_97569 + i_0];\n                        }\n                    }\n                    eta_p_97551 = defunc_0_op_res_97565;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531)] = eta_p_97548;\n                    ((volatile __local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531)] = eta_p_97549;\n                    ((volatile __local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531)] = eta_p_97551;\n                }\n            }\n            offset_97575 *= 2;\n        }\n        while (slt32(skip_waves_97576, squot32(sext_i64_i32(segred_tblock_sizze_84022) + wave_sizze_97533 - 1, wave_sizze_97533))) {\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            offset_97575 = skip_waves_97576 * wave_sizze_97533;\n            if (slt32(local_tid_97531 + offset_97575, sext_i64_i32(segred_tblock_sizze_84022)) && ((local_tid_97531 - squot32(local_tid_97531, wave_sizze_97533) * wave_sizze_97533) == 0 && (squot32(local_tid_97531, wave_sizze_97533) & (2 * skip_waves_97576 - 1)) == 0)) {\n                // read array element\n                {\n                    eta_p_97552 = ((__local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531 + offset_97575)];\n                    eta_p_97553 = ((__local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531 + offset_97575)];\n                    if (!((phys_tid_84032 + num_threads_92062) * dim_45874 == sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97575) * dim_45874)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                       ", "     ((__global double *) mem_92066)[(phys_tid_84032 + num_threads_92062) * dim_45874 + i_0] = ((__global double *) mem_92066)[sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97575) * dim_45874 + i_0];\n                        }\n                    }\n                    eta_p_97555 = ((__local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531 + offset_97575)];\n                }\n                // apply reduction operation\n                {\n                    bool cond_97556 = slt64(eta_p_97548, eta_p_97552);\n                    bool cond_97557 = eta_p_97548 == eta_p_97552;\n                    bool lifted_lambda_res_f_res_t_res_97558 = eta_p_97549 <= eta_p_97553;\n                    bool x_97559 = cond_97557 && lifted_lambda_res_f_res_t_res_97558;\n                    bool x_97560 = !cond_97556;\n                    bool y_97561 = x_97559 && x_97560;\n                    bool lifted_lambda_res_97562 = cond_97556 || y_97561;\n                    int64_t defunc_0_op_res_97563;\n                    \n                    if (lifted_lambda_res_97562) {\n                        defunc_0_op_res_97563 = eta_p_97552;\n                    } else {\n                        defunc_0_op_res_97563 = eta_p_97548;\n                    }\n                    \n                    double defunc_0_op_res_97564;\n                    \n                    if (lifted_lambda_res_97562) {\n                        defunc_0_op_res_97564 = eta_p_97553;\n                    } else {\n                        defunc_0_op_res_97564 = eta_p_97549;\n                    }\n                    \n                    int64_t defunc_0_op_res_97565;\n                    \n                    if (lifted_lambda_res_97562) {\n                        defunc_0_op_res_97565 = eta_p_97555;\n                    } else {\n                        defunc_0_op_res_97565 = eta_p_97551;\n                    }\n                    \n                    int64_t lmad_ext_975", "66 = dim_45874 * phys_tid_84032;\n                    int64_t binop_x_97567 = phys_tid_84032 + num_threads_92062;\n                    int64_t lmad_ext_97568 = dim_45874 * binop_x_97567;\n                    int64_t ext_97569;\n                    \n                    if (lifted_lambda_res_97562) {\n                        ext_97569 = lmad_ext_97568;\n                    } else {\n                        ext_97569 = lmad_ext_97566;\n                    }\n                    if (lifted_lambda_res_97562) { }\n                    eta_p_97548 = defunc_0_op_res_97563;\n                    eta_p_97549 = defunc_0_op_res_97564;\n                    if (!(phys_tid_84032 * dim_45874 == ext_97569)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) mem_92066)[ext_97569 + i_0];\n                        }\n                    }\n                    eta_p_97551 = defunc_0_op_res_97565;\n                }\n                // write result of operation\n                {\n                    ((__local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531)] = eta_p_97548;\n                    ((__local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531)] = eta_p_97549;\n                    ((__local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531)] = eta_p_97551;\n                }\n            }\n            skip_waves_97576 *= 2;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n        // Copy array-typed operands to result array\n        {\n            if (local_tid_97531 == 0) {\n                if (!((sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531) * dim_45874) == phys_tid_84032 * dim_45874)) {\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_92066)[sext_i32_i64(block_id_97532) * (segred_tb",
                                    "lock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531) * dim_45874 + i_0] = ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0];\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // thread 0 updates per-block acc(s); rest reset to ne\n        {\n            if (sext_i32_i64(local_tid_97531) == (int64_t) 0) {\n                eta_p_block_res_acc_97545 = eta_p_97548;\n                eta_p_block_res_acc_97546 = eta_p_97549;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__global double *) segred_tmp_mem_97525)[sext_i32_i64(local_tid_97531) + sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + i_0 * segred_tblock_sizze_84022] = ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0];\n                }\n                eta_p_block_res_acc_97547 = eta_p_97551;\n            } else {\n                eta_p_block_res_acc_97545 = reduce_arg1_66049;\n                eta_p_block_res_acc_97546 = reduce_arg1_66051;\n                for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                    ((__global double *) segred_tmp_mem_97525)[sext_i32_i64(local_tid_97531) + sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + i_0 * segred_tblock_sizze_84022] = ((__global double *) xs_mem_91599)[i_0];\n                }\n                eta_p_block_res_acc_97547 = (int64_t) 0;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_97531 == 0) {\n            ((__global int64_t *) segred_tmp_mem_97521)[sext_i32_i64(block_id_97532)] = eta_p_block_res_acc_97545;\n            mem_fence_global();\n            ((__global double *) segred_tmp_mem_97523)[sext_i32_i64(block_id_97532)] = eta_p_block_res_acc_97546;\n            mem_fence_global();\n            for (int64_t nest_i_97578 = 0; nest_i_97578 < dim_45874; nest_i_97578++) {\n       ", "         double tmp_97579 = ((__global double *) segred_tmp_mem_97525)[sext_i32_i64(local_tid_97531) + sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + nest_i_97578 * segred_tblock_sizze_84022];\n                \n                ((__global double *) segred_tmp_mem_97525)[sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + nest_i_97578 * segred_tblock_sizze_84022] = tmp_97579;\n                mem_fence_global();\n            }\n            ((__global int64_t *) segred_tmp_mem_97527)[sext_i32_i64(block_id_97532)] = eta_p_block_res_acc_97547;\n            mem_fence_global();\n            old_counter_97577 = atomic_add_i32_global(&((volatile __global int *) counters_mem_97519)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_97542)[(int64_t) 0] = old_counter_97577 == sext_i64_i32(num_tblocks_84024 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_97580 = ((__local bool *) sync_arr_mem_97542)[(int64_t) 0];\n    if (is_last_block_97580) {\n        if (local_tid_97531 == 0) {\n            old_counter_97577 = atomic_add_i32_global(&((volatile __global int *) counters_mem_97519)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_84024));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_97581 = sdiv_up64(num_tblocks_84024, segred_tblock_sizze_84022);\n            \n            eta_p_66071 = reduce_arg1_66049;\n            eta_p_66072 = reduce_arg1_66051;\n            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) xs_mem_91599)[i_0];\n            }\n            eta_p_66074 = (int64_t) 0;\n            for (int64_t i_97582 = 0; i_97582 < read_per_thread_97581; i_97582++) {\n                int64_t block_res_id_97583 = sext_i32_i64(local_tid_97531) * read_per_thread_97581 + i_97582;\n                int64_t index_of_blo", "ck_res_97584 = block_res_id_97583;\n                \n                if (slt64(block_res_id_97583, num_tblocks_84024)) {\n                    eta_p_66075 = ((__global int64_t *) segred_tmp_mem_97521)[index_of_block_res_97584];\n                    eta_p_66076 = ((__global double *) segred_tmp_mem_97523)[index_of_block_res_97584];\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                        ((__global double *) mem_92066)[(phys_tid_84032 + num_threads_92062) * dim_45874 + i_0] = ((__global double *) segred_tmp_mem_97525)[index_of_block_res_97584 * (segred_tblock_sizze_84022 * dim_45874) + i_0 * segred_tblock_sizze_84022];\n                    }\n                    eta_p_66078 = ((__global int64_t *) segred_tmp_mem_97527)[index_of_block_res_97584];\n                    \n                    bool cond_66079 = slt64(eta_p_66071, eta_p_66075);\n                    bool cond_66080 = eta_p_66071 == eta_p_66075;\n                    bool lifted_lambda_res_f_res_t_res_66081 = eta_p_66072 <= eta_p_66076;\n                    bool x_66082 = cond_66080 && lifted_lambda_res_f_res_t_res_66081;\n                    bool x_66083 = !cond_66079;\n                    bool y_66084 = x_66082 && x_66083;\n                    bool lifted_lambda_res_66085 = cond_66079 || y_66084;\n                    int64_t defunc_0_op_res_66086;\n                    \n                    if (lifted_lambda_res_66085) {\n                        defunc_0_op_res_66086 = eta_p_66075;\n                    } else {\n                        defunc_0_op_res_66086 = eta_p_66071;\n                    }\n                    \n                    double defunc_0_op_res_66087;\n                    \n                    if (lifted_lambda_res_66085) {\n                        defunc_0_op_res_66087 = eta_p_66076;\n                    } else {\n                        defunc_0_op_res_66087 = eta_p_66072;\n                    }\n                    \n                    int64_t defunc_0_op_res_66088;\n                    ",
                                    "\n                    if (lifted_lambda_res_66085) {\n                        defunc_0_op_res_66088 = eta_p_66078;\n                    } else {\n                        defunc_0_op_res_66088 = eta_p_66074;\n                    }\n                    \n                    int64_t lmad_ext_92067 = dim_45874 * phys_tid_84032;\n                    int64_t binop_x_92068 = phys_tid_84032 + num_threads_92062;\n                    int64_t lmad_ext_92069 = dim_45874 * binop_x_92068;\n                    int64_t ext_92070;\n                    \n                    if (lifted_lambda_res_66085) {\n                        ext_92070 = lmad_ext_92069;\n                    } else {\n                        ext_92070 = lmad_ext_92067;\n                    }\n                    if (lifted_lambda_res_66085) { }\n                    eta_p_66071 = defunc_0_op_res_66086;\n                    eta_p_66072 = defunc_0_op_res_66087;\n                    if (!(phys_tid_84032 * dim_45874 == ext_92070)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) mem_92066)[ext_92070 + i_0];\n                        }\n                    }\n                    eta_p_66074 = defunc_0_op_res_66088;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531)] = eta_p_66071;\n        ((__local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531)] = eta_p_66072;\n        ((__local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531)] = eta_p_66074;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_97585;\n            int32_t skip_waves_97586 = 1;\n            int64_t eta_p_97548;\n            double eta_p_97549;\n            int64_t eta_p_97551;\n            int64_t eta_p_97552;\n            double eta_p_97553;\n            int64_t eta_p_97555;\n        ", "    \n            offset_97585 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_97531, sext_i64_i32(segred_tblock_sizze_84022))) {\n                    eta_p_97548 = ((__local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                    eta_p_97549 = ((__local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                    if (!(phys_tid_84032 * dim_45874 == sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97585) * dim_45874)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) mem_92066)[sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97585) * dim_45874 + i_0];\n                        }\n                    }\n                    eta_p_97551 = ((__local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                }\n            }\n            offset_97585 = 1;\n            while (slt32(offset_97585, wave_sizze_97533)) {\n                if (slt32(local_tid_97531 + offset_97585, sext_i64_i32(segred_tblock_sizze_84022)) && ((local_tid_97531 - squot32(local_tid_97531, wave_sizze_97533) * wave_sizze_97533) & (2 * offset_97585 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_97552 = ((volatile __local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                        eta_p_97553 = ((volatile __local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                        if (!((phys_tid_84032 + num_threads_92062) * dim_45874 == sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(loca", "l_tid_97531 + offset_97585) * dim_45874)) {\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) mem_92066)[(phys_tid_84032 + num_threads_92062) * dim_45874 + i_0] = ((__global double *) mem_92066)[sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97585) * dim_45874 + i_0];\n                            }\n                        }\n                        eta_p_97555 = ((volatile __local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool cond_97556 = slt64(eta_p_97548, eta_p_97552);\n                        bool cond_97557 = eta_p_97548 == eta_p_97552;\n                        bool lifted_lambda_res_f_res_t_res_97558 = eta_p_97549 <= eta_p_97553;\n                        bool x_97559 = cond_97557 && lifted_lambda_res_f_res_t_res_97558;\n                        bool x_97560 = !cond_97556;\n                        bool y_97561 = x_97559 && x_97560;\n                        bool lifted_lambda_res_97562 = cond_97556 || y_97561;\n                        int64_t defunc_0_op_res_97563;\n                        \n                        if (lifted_lambda_res_97562) {\n                            defunc_0_op_res_97563 = eta_p_97552;\n                        } else {\n                            defunc_0_op_res_97563 = eta_p_97548;\n                        }\n                        \n                        double defunc_0_op_res_97564;\n                        \n                        if (lifted_lambda_res_97562) {\n                            defunc_0_op_res_97564 = eta_p_97553;\n                        } else {\n                            defunc_0_op_res_97564 = eta_p_97549;\n                        }\n                        \n                        int64_t defunc_0_op_res_97565;\n                        \n     ",
                                    "                   if (lifted_lambda_res_97562) {\n                            defunc_0_op_res_97565 = eta_p_97555;\n                        } else {\n                            defunc_0_op_res_97565 = eta_p_97551;\n                        }\n                        \n                        int64_t lmad_ext_97566 = dim_45874 * phys_tid_84032;\n                        int64_t binop_x_97567 = phys_tid_84032 + num_threads_92062;\n                        int64_t lmad_ext_97568 = dim_45874 * binop_x_97567;\n                        int64_t ext_97569;\n                        \n                        if (lifted_lambda_res_97562) {\n                            ext_97569 = lmad_ext_97568;\n                        } else {\n                            ext_97569 = lmad_ext_97566;\n                        }\n                        if (lifted_lambda_res_97562) { }\n                        eta_p_97548 = defunc_0_op_res_97563;\n                        eta_p_97549 = defunc_0_op_res_97564;\n                        if (!(phys_tid_84032 * dim_45874 == ext_97569)) {\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) mem_92066)[ext_97569 + i_0];\n                            }\n                        }\n                        eta_p_97551 = defunc_0_op_res_97565;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531)] = eta_p_97548;\n                        ((volatile __local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531)] = eta_p_97549;\n                        ((volatile __local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531)] = eta_p_97551;\n                    }\n                }\n                offset_97585 *= 2;\n            }\n            while (slt32(skip_waves_97586, squot32(sext_i64", "_i32(segred_tblock_sizze_84022) + wave_sizze_97533 - 1, wave_sizze_97533))) {\n                barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n                offset_97585 = skip_waves_97586 * wave_sizze_97533;\n                if (slt32(local_tid_97531 + offset_97585, sext_i64_i32(segred_tblock_sizze_84022)) && ((local_tid_97531 - squot32(local_tid_97531, wave_sizze_97533) * wave_sizze_97533) == 0 && (squot32(local_tid_97531, wave_sizze_97533) & (2 * skip_waves_97586 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_97552 = ((__local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                        eta_p_97553 = ((__local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                        if (!((phys_tid_84032 + num_threads_92062) * dim_45874 == sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97585) * dim_45874)) {\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) mem_92066)[(phys_tid_84032 + num_threads_92062) * dim_45874 + i_0] = ((__global double *) mem_92066)[sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531 + offset_97585) * dim_45874 + i_0];\n                            }\n                        }\n                        eta_p_97555 = ((__local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531 + offset_97585)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool cond_97556 = slt64(eta_p_97548, eta_p_97552);\n                        bool cond_97557 = eta_p_97548 == eta_p_97552;\n                        bool lifted_lambda_res_f_res_t_res_97558 = eta_p_97549 <= eta_p_97553;\n                        bool x_97559 = cond_97557 && lifted_lambda_res_f_res_t_res_975", "58;\n                        bool x_97560 = !cond_97556;\n                        bool y_97561 = x_97559 && x_97560;\n                        bool lifted_lambda_res_97562 = cond_97556 || y_97561;\n                        int64_t defunc_0_op_res_97563;\n                        \n                        if (lifted_lambda_res_97562) {\n                            defunc_0_op_res_97563 = eta_p_97552;\n                        } else {\n                            defunc_0_op_res_97563 = eta_p_97548;\n                        }\n                        \n                        double defunc_0_op_res_97564;\n                        \n                        if (lifted_lambda_res_97562) {\n                            defunc_0_op_res_97564 = eta_p_97553;\n                        } else {\n                            defunc_0_op_res_97564 = eta_p_97549;\n                        }\n                        \n                        int64_t defunc_0_op_res_97565;\n                        \n                        if (lifted_lambda_res_97562) {\n                            defunc_0_op_res_97565 = eta_p_97555;\n                        } else {\n                            defunc_0_op_res_97565 = eta_p_97551;\n                        }\n                        \n                        int64_t lmad_ext_97566 = dim_45874 * phys_tid_84032;\n                        int64_t binop_x_97567 = phys_tid_84032 + num_threads_92062;\n                        int64_t lmad_ext_97568 = dim_45874 * binop_x_97567;\n                        int64_t ext_97569;\n                        \n                        if (lifted_lambda_res_97562) {\n                            ext_97569 = lmad_ext_97568;\n                        } else {\n                            ext_97569 = lmad_ext_97566;\n                        }\n                        if (lifted_lambda_res_97562) { }\n                        eta_p_97548 = defunc_0_op_res_97563;\n                        eta_p_97549 = defunc_0_op_res_97564;\n                        if (!(phys_tid_84032 * dim_",
                                    "45874 == ext_97569)) {\n                            for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                                ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0] = ((__global double *) mem_92066)[ext_97569 + i_0];\n                            }\n                        }\n                        eta_p_97551 = defunc_0_op_res_97565;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_i64_mem_97535)[sext_i32_i64(local_tid_97531)] = eta_p_97548;\n                        ((__local double *) red_arr_f64_mem_97537)[sext_i32_i64(local_tid_97531)] = eta_p_97549;\n                        ((__local int64_t *) red_arr_i64_mem_97540)[sext_i32_i64(local_tid_97531)] = eta_p_97551;\n                    }\n                }\n                skip_waves_97586 *= 2;\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            // Copy array-typed operands to result array\n            {\n                if (local_tid_97531 == 0) {\n                    if (!((sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531) * dim_45874) == phys_tid_84032 * dim_45874)) {\n                        for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n                            ((__global double *) mem_92066)[sext_i32_i64(block_id_97532) * (segred_tblock_sizze_84022 * dim_45874) + sext_i32_i64(local_tid_97531) * dim_45874 + i_0] = ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0];\n                        }\n                    }\n                }\n            }\n            // and back to memory with the final result\n            {\n                if (local_tid_97531 == 0) {\n                    ((__global int64_t *) mem_92071)[(int64_t) 0] = eta_p_97548;\n                    ((__global double *) mem_92072)[(int64_t) 0] = eta_p_97549;\n                    for (int64_t i_0 = 0; i_0 < dim_45874; i_0++) {\n    ", "                    ((__global double *) mem_92074)[i_0] = ((__global double *) mem_92066)[phys_tid_84032 * dim_45874 + i_0];\n                    }\n                    ((__global int64_t *) mem_92075)[(int64_t) 0] = eta_p_97551;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_84022\n    #undef chunk_sizze_97518\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_nonseg_88800_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_nonseg_88800(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t dim_45874, int64_t dz2080U_45875, int64_t total_grid_no_45885, int64_t i_66787, int64_t num_tblocks_88795, int64_t num_threads_96080, int64_t num_threads_98397, __global unsigned char *start_of_grid_partition_mem_91598, __global unsigned char *mem_91612, __global unsigned char *mem_91613, __global unsigned char *mem_94503, __global unsigned char *color_95860, __global unsigned char *counters_mem_98393, __global unsigned char *segred_tmp_mem_98395)\n{\n    #define segred_tblock_sizze_88793 (sort_for_Skyline_doublezisegred_nonseg_88800zisegred_tblock_sizze_88793)\n    #define chunk_sizze_98392 (sort_for_Skyline_doublezisegred_nonseg_88800zichunk_sizze_98392)\n    \n    volatile __local unsigned char *sync_arr_mem_98405_backing_1 = &shared_mem[0];\n    const int64_t sync_arr_mem_98405_backing_1_offset = 0 + 8;\n    volatile __local unsigned char *red_arr_bool_mem_98403_backing_0 = &shared_mem[sync_arr_mem_98405_backing_1_offset];\n    const int64_t red_arr_bool_mem_98403_backing_0_offset = sync_arr_mem_98405_backing_1_offset + (segred_tblock_sizze_88793 + srem64((int64_t) 8 - srem64(segred_tblock_sizze_88793, (int64_t) 8), (int64_t) 8));\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t lo", "cal_tid_98399;\n    int32_t tblock_sizze_98402;\n    int32_t wave_sizze_98401;\n    int32_t block_id_98400;\n    int32_t global_tid_98398;\n    int64_t phys_tid_88800;\n    __local unsigned char *red_arr_bool_mem_98403;\n    __local unsigned char *sync_arr_mem_98405;\n    int64_t dummy_88798;\n    int64_t gtid_88799;\n    int64_t q_98407;\n    bool eta_p_block_res_acc_98408;\n    bool eta_p_66819;\n    bool eta_p_66820;\n    int64_t tblock_id_in_segment_98412;\n    int64_t block_base_offset_98413;\n    int32_t offset_98418;\n    int32_t skip_waves_98419;\n    bool eta_p_98409;\n    bool eta_p_98410;\n    int32_t old_counter_98420;\n    bool is_last_block_98421;\n    \n    local_tid_98399 = get_local_id(0);\n    tblock_sizze_98402 = get_local_size(0);\n    wave_sizze_98401 = LOCKSTEP_WIDTH;\n    block_id_98400 = get_tblock_id(0);\n    global_tid_98398 = block_id_98400 * tblock_sizze_98402 + local_tid_98399;\n    phys_tid_88800 = sext_i32_i64(global_tid_98398);\n    red_arr_bool_mem_98403 = (__local unsigned char *) red_arr_bool_mem_98403_backing_0;\n    sync_arr_mem_98405 = (__local unsigned char *) sync_arr_mem_98405_backing_1;\n    dummy_88798 = (int64_t) 0;\n    gtid_88799 = (int64_t) 0;\n    q_98407 = sdiv_up64(total_grid_no_45885, sext_i32_i64(sext_i64_i32(segred_tblock_sizze_88793 * num_tblocks_88795)) * chunk_sizze_98392);\n    // ne-initialise the outer (per-block) accumulator(s)\n    {\n        eta_p_block_res_acc_98408 = 0;\n    }\n    tblock_id_in_segment_98412 = squot64(phys_tid_88800, segred_tblock_sizze_88793);\n    block_base_offset_98413 = tblock_id_in_segment_98412 * q_98407 * segred_tblock_sizze_88793;\n    for (int64_t i_98414 = 0; i_98414 < q_98407; i_98414++) {\n        int64_t block_offset_98415 = block_base_offset_98413 + i_98414 * segred_tblock_sizze_88793;\n        \n        gtid_88799 = phys_tid_88800 + num_threads_98397 * i_98414;\n        if (slt64(gtid_88799, total_grid_no_45885)) {\n            // apply map function(s)\n            {\n                // apply map function\n           ",
                                    "     {\n                    bool cond_69089 = gtid_88799 == i_66787;\n                    bool x_95128 = !cond_69089;\n                    int32_t zeze_lhs_69095;\n                    \n                    if (x_95128) {\n                        int32_t x_95130 = ((__global int32_t *) mem_91612)[gtid_88799];\n                        \n                        zeze_lhs_69095 = x_95130;\n                    } else {\n                        zeze_lhs_69095 = 0;\n                    }\n                    \n                    bool cond_f_res_69096 = zeze_lhs_69095 == 0;\n                    bool cond_69090 = cond_69089 || cond_f_res_69096;\n                    bool defunc_0_f_res_69097;\n                    \n                    if (cond_69090) {\n                        defunc_0_f_res_69097 = 0;\n                    } else {\n                        bool y_69099 = slt64(gtid_88799, dz2080U_45875);\n                        bool index_certs_69101;\n                        \n                        if (!y_69099) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 208) == -1) {\n                                    global_failure_args[0] = (int64_t) gtid_88799;\n                                    global_failure_args[1] = (int64_t) dz2080U_45875;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        for (int64_t i_91433 = 0; i_91433 < dim_45874; i_91433++) {\n                            double eta_p_69104 = ((__global double *) start_of_grid_partition_mem_91598)[i_66787 * dim_45874 + i_91433];\n                            double eta_p_69105 = ((__global double *) mem_94503)[gtid_88799 + i_91433 * dz2080U_45875];\n                            bool defunc_0_f_res_69106 = eta_p_69105 < eta_p_69104;\n                            \n                          ", "  ((__global bool *) color_95860)[phys_tid_88800 + i_91433 * num_threads_96080] = defunc_0_f_res_69106;\n                        }\n                        \n                        bool defunc_0_foldl_res_69107;\n                        bool acc_69109 = 1;\n                        \n                        for (int64_t i_69108 = 0; i_69108 < dim_45874; i_69108++) {\n                            bool b_69110 = ((__global bool *) color_95860)[phys_tid_88800 + i_69108 * num_threads_96080];\n                            bool x_69111 = acc_69109 && b_69110;\n                            bool acc_tmp_98417 = x_69111;\n                            \n                            acc_69109 = acc_tmp_98417;\n                        }\n                        defunc_0_foldl_res_69107 = acc_69109;\n                        defunc_0_f_res_69097 = defunc_0_foldl_res_69107;\n                    }\n                    // load accumulator(s)\n                    {\n                        eta_p_66819 = eta_p_block_res_acc_98408;\n                    }\n                    // load next value(s)\n                    {\n                        eta_p_66820 = defunc_0_f_res_69097;\n                    }\n                    // apply reduction operator(s)\n                    {\n                        bool defunc_0_op_res_66821 = eta_p_66819 || eta_p_66820;\n                        \n                        // store in accumulator(s)\n                        {\n                            eta_p_block_res_acc_98408 = defunc_0_op_res_66821;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    \n  error_0:\n    barrier(CLK_LOCAL_MEM_FENCE);\n    if (local_failure)\n        return;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // store accs. prims go in lmem; non-prims in params (in global mem)\n    {\n        ((__local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399)] = eta_p_block_res_acc_98408;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    skip_waves_98419 = 1;\n    offset_98418 =", " 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_98399, sext_i64_i32(segred_tblock_sizze_88793))) {\n            eta_p_98409 = ((__local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399 + offset_98418)];\n        }\n    }\n    offset_98418 = 1;\n    while (slt32(offset_98418, wave_sizze_98401)) {\n        if (slt32(local_tid_98399 + offset_98418, sext_i64_i32(segred_tblock_sizze_88793)) && ((local_tid_98399 - squot32(local_tid_98399, wave_sizze_98401) * wave_sizze_98401) & (2 * offset_98418 - 1)) == 0) {\n            // read array element\n            {\n                eta_p_98410 = ((volatile __local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399 + offset_98418)];\n            }\n            // apply reduction operation\n            {\n                bool defunc_0_op_res_98411 = eta_p_98409 || eta_p_98410;\n                \n                eta_p_98409 = defunc_0_op_res_98411;\n            }\n            // write result of operation\n            {\n                ((volatile __local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399)] = eta_p_98409;\n            }\n        }\n        offset_98418 *= 2;\n    }\n    while (slt32(skip_waves_98419, squot32(sext_i64_i32(segred_tblock_sizze_88793) + wave_sizze_98401 - 1, wave_sizze_98401))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_98418 = skip_waves_98419 * wave_sizze_98401;\n        if (slt32(local_tid_98399 + offset_98418, sext_i64_i32(segred_tblock_sizze_88793)) && ((local_tid_98399 - squot32(local_tid_98399, wave_sizze_98401) * wave_sizze_98401) == 0 && (squot32(local_tid_98399, wave_sizze_98401) & (2 * skip_waves_98419 - 1)) == 0)) {\n            // read array element\n            {\n                eta_p_98410 = ((__local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399 + offset_98418)];\n            }\n            // apply reduction operation\n            {\n                bool defunc_0_op_res_98411 = eta_p_98409 || eta_p_98410;\n          ",
                                    "      \n                eta_p_98409 = defunc_0_op_res_98411;\n            }\n            // write result of operation\n            {\n                ((__local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399)] = eta_p_98409;\n            }\n        }\n        skip_waves_98419 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // thread 0 updates per-block acc(s); rest reset to ne\n    {\n        if (sext_i32_i64(local_tid_98399) == (int64_t) 0) {\n            eta_p_block_res_acc_98408 = eta_p_98409;\n        } else {\n            eta_p_block_res_acc_98408 = 0;\n        }\n    }\n    // first thread in block saves block result to global memory\n    {\n        if (local_tid_98399 == 0) {\n            ((__global bool *) segred_tmp_mem_98395)[sext_i32_i64(block_id_98400)] = eta_p_block_res_acc_98408;\n            mem_fence_global();\n            old_counter_98420 = atomic_add_i32_global(&((volatile __global int *) counters_mem_98393)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_98405)[(int64_t) 0] = old_counter_98420 == sext_i64_i32(num_tblocks_88795 - (int64_t) 1);\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    is_last_block_98421 = ((__local bool *) sync_arr_mem_98405)[(int64_t) 0];\n    if (is_last_block_98421) {\n        if (local_tid_98399 == 0) {\n            old_counter_98420 = atomic_add_i32_global(&((volatile __global int *) counters_mem_98393)[(int64_t) 0], (int) sext_i64_i32((int64_t) 0 - num_tblocks_88795));\n        }\n        // read in the per-block-results\n        {\n            int64_t read_per_thread_98422 = sdiv_up64(num_tblocks_88795, segred_tblock_sizze_88793);\n            \n            eta_p_66819 = 0;\n            for (int64_t i_98423 = 0; i_98423 < read_per_thread_98422; i_98423++) {\n                int64_t block_res_id_98424 = sext_i32_i64(local_tid_98399) * read_per_thread_98422 + i_98423;\n                int64_t index_of_block_res_98425 = block_res_id_98424;\n                \n", "                if (slt64(block_res_id_98424, num_tblocks_88795)) {\n                    eta_p_66820 = ((__global bool *) segred_tmp_mem_98395)[index_of_block_res_98425];\n                    \n                    bool defunc_0_op_res_66821 = eta_p_66819 || eta_p_66820;\n                    \n                    eta_p_66819 = defunc_0_op_res_66821;\n                }\n            }\n        }\n        ((__local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399)] = eta_p_66819;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-block results\n        {\n            int32_t offset_98426;\n            int32_t skip_waves_98427 = 1;\n            bool eta_p_98409;\n            bool eta_p_98410;\n            \n            offset_98426 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_98399, sext_i64_i32(segred_tblock_sizze_88793))) {\n                    eta_p_98409 = ((__local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399 + offset_98426)];\n                }\n            }\n            offset_98426 = 1;\n            while (slt32(offset_98426, wave_sizze_98401)) {\n                if (slt32(local_tid_98399 + offset_98426, sext_i64_i32(segred_tblock_sizze_88793)) && ((local_tid_98399 - squot32(local_tid_98399, wave_sizze_98401) * wave_sizze_98401) & (2 * offset_98426 - 1)) == 0) {\n                    // read array element\n                    {\n                        eta_p_98410 = ((volatile __local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399 + offset_98426)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool defunc_0_op_res_98411 = eta_p_98409 || eta_p_98410;\n                        \n                        eta_p_98409 = defunc_0_op_res_98411;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local bool *) red_arr_bool_mem_9", "8403)[sext_i32_i64(local_tid_98399)] = eta_p_98409;\n                    }\n                }\n                offset_98426 *= 2;\n            }\n            while (slt32(skip_waves_98427, squot32(sext_i64_i32(segred_tblock_sizze_88793) + wave_sizze_98401 - 1, wave_sizze_98401))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_98426 = skip_waves_98427 * wave_sizze_98401;\n                if (slt32(local_tid_98399 + offset_98426, sext_i64_i32(segred_tblock_sizze_88793)) && ((local_tid_98399 - squot32(local_tid_98399, wave_sizze_98401) * wave_sizze_98401) == 0 && (squot32(local_tid_98399, wave_sizze_98401) & (2 * skip_waves_98427 - 1)) == 0)) {\n                    // read array element\n                    {\n                        eta_p_98410 = ((__local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399 + offset_98426)];\n                    }\n                    // apply reduction operation\n                    {\n                        bool defunc_0_op_res_98411 = eta_p_98409 || eta_p_98410;\n                        \n                        eta_p_98409 = defunc_0_op_res_98411;\n                    }\n                    // write result of operation\n                    {\n                        ((__local bool *) red_arr_bool_mem_98403)[sext_i32_i64(local_tid_98399)] = eta_p_98409;\n                    }\n                }\n                skip_waves_98427 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // and back to memory with the final result\n            {\n                if (local_tid_98399 == 0) {\n                    ((__global bool *) mem_91613)[i_66787] = eta_p_98409;\n                }\n            }\n        }\n    }\n    \n  error_5:\n    return;\n    #undef segred_tblock_sizze_88793\n    #undef chunk_sizze_98392\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_small_98317_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_small_98317(__global int *global_failure, int64_t total_grid_no_45885, int64_t num_tblocks_8871",
                                    "2, int64_t num_subhistos_98211, int64_t segment_sizze_nonzzero_98319, __global unsigned char *mem_91612, __global unsigned char *defunc_0_map_res_subhistos_mem_98212)\n{\n    #define seghist_tblock_sizze_88710 (sort_for_Skyline_doublezisegred_small_98317ziseghist_tblock_sizze_88710)\n    \n    volatile __local unsigned char *red_arr_i32_mem_98326_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i32_mem_98326_backing_0_offset = 0 + ((int64_t) 4 * seghist_tblock_sizze_88710 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_88710, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98322;\n    int32_t tblock_sizze_98325;\n    int32_t wave_sizze_98324;\n    int32_t block_id_98323;\n    int32_t global_tid_98321;\n    int64_t flat_gtid_98317;\n    __local unsigned char *red_arr_i32_mem_98326;\n    int32_t phys_tblock_id_98328;\n    int32_t iterations_98329;\n    \n    local_tid_98322 = get_local_id(0);\n    tblock_sizze_98325 = get_local_size(0);\n    wave_sizze_98324 = LOCKSTEP_WIDTH;\n    block_id_98323 = get_tblock_id(0);\n    global_tid_98321 = block_id_98323 * tblock_sizze_98325 + local_tid_98322;\n    flat_gtid_98317 = sext_i32_i64(global_tid_98321);\n    red_arr_i32_mem_98326 = (__local unsigned char *) red_arr_i32_mem_98326_backing_0;\n    phys_tblock_id_98328 = get_tblock_id(0);\n    iterations_98329 = sdiv_up32(sext_i64_i32(sdiv_up64(total_grid_no_45885, squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319))) - phys_tblock_id_98328, sext_i64_i32(num_tblocks_88712));\n    for (int32_t i_98330 = 0; i_98330 < iterations_98329; i_98330++) {\n        int32_t virt_tblock_id_98331;\n        int64_t slice_98332;\n        int64_t bucket_id_98315;\n        int64_t remnant_98333;\n        int64_t subhistogram_id_98316;\n        \n        virt_tblock_id_98331 = phys_tblock_id_98328 + i_98330 * sext_i64_i32(num_tblocks_88712);\n        slice_98332 = total_grid_no_45885;\n        bucket_id_98315 = squot64(sext_i32_i64(loc", "al_tid_98322), segment_sizze_nonzzero_98319) + sext_i32_i64(virt_tblock_id_98331) * squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319);\n        remnant_98333 = squot64(sext_i32_i64(local_tid_98322), segment_sizze_nonzzero_98319) + sext_i32_i64(virt_tblock_id_98331) * squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319) - bucket_id_98315;\n        subhistogram_id_98316 = srem64(sext_i32_i64(local_tid_98322), num_subhistos_98211);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_98211) && (slt64(bucket_id_98315, total_grid_no_45885) && slt64(sext_i32_i64(local_tid_98322), num_subhistos_98211 * squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319)))) {\n                // save results to be reduced\n                {\n                    int32_t tmp_98334 = ((__global int32_t *) defunc_0_map_res_subhistos_mem_98212)[subhistogram_id_98316 * total_grid_no_45885 + bucket_id_98315];\n                    \n                    ((__local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_tid_98322)] = tmp_98334;\n                }\n            } else {\n                ((__local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_tid_98322)] = 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_98211)) {\n            // perform segmented scan to imitate reduction\n            {\n                int32_t eta_p_88718;\n                int32_t eta_p_88719;\n                int32_t eta_p_98335;\n                int32_t eta_p_98336;\n                bool ltid_in_bounds_98338 = slt64(sext_i32_i64(local_tid_98322), num_subhistos_98211 * squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319));\n                int32_t skip_threads_98339;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_98338) {\n                        eta_p_88719 = ((volatile __local int32_t *) red_ar", "r_i32_mem_98326)[sext_i32_i64(local_tid_98322)];\n                        if ((local_tid_98322 - squot32(local_tid_98322, 32) * 32) == 0) {\n                            eta_p_88718 = eta_p_88719;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_98339 = 1;\n                    while (slt32(skip_threads_98339, 32)) {\n                        bool thread_active_98340 = sle32(skip_threads_98339, local_tid_98322 - squot32(local_tid_98322, 32) * 32) && ltid_in_bounds_98338;\n                        \n                        if (thread_active_98340) {\n                            // read operands\n                            {\n                                eta_p_88718 = ((volatile __local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_tid_98322) - sext_i32_i64(skip_threads_98339)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_98341 = slt64(srem64(sext_i32_i64(local_tid_98322), num_subhistos_98211), sext_i32_i64(local_tid_98322) - sext_i32_i64(local_tid_98322 - skip_threads_98339));\n                            \n                            if (thread_active_98340 && inactive_98341) {\n                                eta_p_88718 = eta_p_88719;\n                            }\n                            if (thread_active_98340) {\n                                if (!inactive_98341) {\n                                    int32_t defunc_0_op_res_88720 = add32(eta_p_88718, eta_p_88719);\n                                    \n                                    eta_p_88718 = defunc_0_op_res_88720;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_98324, skip_threads_98339)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                   ",
                                    "     }\n                        if (thread_active_98340) {\n                            // write result\n                            {\n                                ((volatile __local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_tid_98322)] = eta_p_88718;\n                                eta_p_88719 = eta_p_88718;\n                            }\n                        }\n                        if (sle32(wave_sizze_98324, skip_threads_98339)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_98339 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_98322 - squot32(local_tid_98322, 32) * 32) == 31 && ltid_in_bounds_98338) {\n                        ((volatile __local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(squot32(local_tid_98322, 32))] = eta_p_88718;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_98342;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_98322, 32) == 0 && ltid_in_bounds_98338) {\n                            eta_p_98336 = ((volatile __local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_tid_98322)];\n                            if ((local_tid_98322 - squot32(local_tid_98322, 32) * 32) == 0) {\n                                eta_p_98335 = eta_p_98336;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_98342 = 1;\n                        while (slt32(skip_threads_98342, ", "32)) {\n                            bool thread_active_98343 = sle32(skip_threads_98342, local_tid_98322 - squot32(local_tid_98322, 32) * 32) && (squot32(local_tid_98322, 32) == 0 && ltid_in_bounds_98338);\n                            \n                            if (thread_active_98343) {\n                                // read operands\n                                {\n                                    eta_p_98335 = ((volatile __local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_tid_98322) - sext_i32_i64(skip_threads_98342)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_98344 = slt64(srem64(sext_i32_i64(local_tid_98322 * 32 + 32 - 1), num_subhistos_98211), sext_i32_i64(local_tid_98322 * 32 + 32 - 1) - sext_i32_i64((local_tid_98322 - skip_threads_98342) * 32 + 32 - 1));\n                                \n                                if (thread_active_98343 && inactive_98344) {\n                                    eta_p_98335 = eta_p_98336;\n                                }\n                                if (thread_active_98343) {\n                                    if (!inactive_98344) {\n                                        int32_t defunc_0_op_res_98337 = add32(eta_p_98335, eta_p_98336);\n                                        \n                                        eta_p_98335 = defunc_0_op_res_98337;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_98324, skip_threads_98342)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_98343) {\n                                // write result\n                                {\n                                    ((volatile __local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_", "tid_98322)] = eta_p_98335;\n                                    eta_p_98336 = eta_p_98335;\n                                }\n                            }\n                            if (sle32(wave_sizze_98324, skip_threads_98342)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_98342 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_98345 = squot32(local_tid_98322, 32) == 0 || !ltid_in_bounds_98338;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_98345) {\n                            eta_p_88719 = eta_p_88718;\n                            eta_p_88718 = ((__local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(squot32(local_tid_98322, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_98346 = slt64(srem64(sext_i32_i64(local_tid_98322), num_subhistos_98211), sext_i32_i64(local_tid_98322) - sext_i32_i64(squot32(local_tid_98322, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_98345) {\n                            if (inactive_98346) {\n                                eta_p_88718 = eta_p_88719;\n                            }\n                        }\n                        if (!no_carry_in_98345) {\n                            if (!inactive_98346) {\n                                int32_t defunc_0_op_res_88720 = add32(eta_p_88718, eta_p_88719);\n                                \n                                eta_p_88718 = defunc_0_op_res_88720;\n                            }\n                        }\n                    }\n                    // write final result\n                  ",
                                    "  {\n                        if (!no_carry_in_98345) {\n                            ((__local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_tid_98322)] = eta_p_88718;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_98322, 32) == 0 && ltid_in_bounds_98338) {\n                        ((__local int32_t *) red_arr_i32_mem_98326)[sext_i32_i64(local_tid_98322)] = eta_p_88719;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_98331) * squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319) + sext_i32_i64(local_tid_98322), total_grid_no_45885) && slt64(sext_i32_i64(local_tid_98322), squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319))) {\n                int32_t tmp_98347 = ((__local int32_t *) red_arr_i32_mem_98326)[(sext_i32_i64(local_tid_98322) + (int64_t) 1) * segment_sizze_nonzzero_98319 - (int64_t) 1];\n                \n                ((__global int32_t *) mem_91612)[sext_i32_i64(virt_tblock_id_98331) * squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319) + sext_i32_i64(local_tid_98322)] = tmp_98347;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_88710\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegred_small_99014_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegred_small_99014(__global int *global_failure, int64_t total_part_no_45886, int64_t num_tblocks_91214, int64_t num_subhistos_98928, int64_t segment_sizze_nonzzero_99016, __global unsigned char *mem_91631, __global unsigned char *defunc_0_map_res_subhistos_mem", "_98929)\n{\n    #define seghist_tblock_sizze_91212 (sort_for_Skyline_doublezisegred_small_99014ziseghist_tblock_sizze_91212)\n    \n    volatile __local unsigned char *red_arr_i64_mem_99023_backing_0 = &shared_mem[0];\n    const int64_t red_arr_i64_mem_99023_backing_0_offset = 0 + ((int64_t) 8 * seghist_tblock_sizze_91212 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_91212, (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99019;\n    int32_t tblock_sizze_99022;\n    int32_t wave_sizze_99021;\n    int32_t block_id_99020;\n    int32_t global_tid_99018;\n    int64_t flat_gtid_99014;\n    __local unsigned char *red_arr_i64_mem_99023;\n    int32_t phys_tblock_id_99025;\n    int32_t iterations_99026;\n    \n    local_tid_99019 = get_local_id(0);\n    tblock_sizze_99022 = get_local_size(0);\n    wave_sizze_99021 = LOCKSTEP_WIDTH;\n    block_id_99020 = get_tblock_id(0);\n    global_tid_99018 = block_id_99020 * tblock_sizze_99022 + local_tid_99019;\n    flat_gtid_99014 = sext_i32_i64(global_tid_99018);\n    red_arr_i64_mem_99023 = (__local unsigned char *) red_arr_i64_mem_99023_backing_0;\n    phys_tblock_id_99025 = get_tblock_id(0);\n    iterations_99026 = sdiv_up32(sext_i64_i32(sdiv_up64(total_part_no_45886, squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016))) - phys_tblock_id_99025, sext_i64_i32(num_tblocks_91214));\n    for (int32_t i_99027 = 0; i_99027 < iterations_99026; i_99027++) {\n        int32_t virt_tblock_id_99028;\n        int64_t slice_99029;\n        int64_t bucket_id_99012;\n        int64_t remnant_99030;\n        int64_t subhistogram_id_99013;\n        \n        virt_tblock_id_99028 = phys_tblock_id_99025 + i_99027 * sext_i64_i32(num_tblocks_91214);\n        slice_99029 = total_part_no_45886;\n        bucket_id_99012 = squot64(sext_i32_i64(local_tid_99019), segment_sizze_nonzzero_99016) + sext_i32_i64(virt_tblock_id_99028) * squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016);\n        ", "remnant_99030 = squot64(sext_i32_i64(local_tid_99019), segment_sizze_nonzzero_99016) + sext_i32_i64(virt_tblock_id_99028) * squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016) - bucket_id_99012;\n        subhistogram_id_99013 = srem64(sext_i32_i64(local_tid_99019), num_subhistos_98928);\n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, num_subhistos_98928) && (slt64(bucket_id_99012, total_part_no_45886) && slt64(sext_i32_i64(local_tid_99019), num_subhistos_98928 * squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016)))) {\n                // save results to be reduced\n                {\n                    int64_t tmp_99031 = ((__global int64_t *) defunc_0_map_res_subhistos_mem_98929)[subhistogram_id_99013 * total_part_no_45886 + bucket_id_99012];\n                    \n                    ((__local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019)] = tmp_99031;\n                }\n            } else {\n                ((__local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, num_subhistos_98928)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t eta_p_91220;\n                int64_t eta_p_91221;\n                int64_t eta_p_99032;\n                int64_t eta_p_99033;\n                bool ltid_in_bounds_99035 = slt64(sext_i32_i64(local_tid_99019), num_subhistos_98928 * squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016));\n                int32_t skip_threads_99036;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_99035) {\n                        eta_p_91221 = ((volatile __local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019)];\n                        if ((local_tid_99019 - squot32(local_tid_99019, 32) * 32) == 0) {\n          ",
                                    "                  eta_p_91220 = eta_p_91221;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_99036 = 1;\n                    while (slt32(skip_threads_99036, 32)) {\n                        bool thread_active_99037 = sle32(skip_threads_99036, local_tid_99019 - squot32(local_tid_99019, 32) * 32) && ltid_in_bounds_99035;\n                        \n                        if (thread_active_99037) {\n                            // read operands\n                            {\n                                eta_p_91220 = ((volatile __local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019) - sext_i32_i64(skip_threads_99036)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_99038 = slt64(srem64(sext_i32_i64(local_tid_99019), num_subhistos_98928), sext_i32_i64(local_tid_99019) - sext_i32_i64(local_tid_99019 - skip_threads_99036));\n                            \n                            if (thread_active_99037 && inactive_99038) {\n                                eta_p_91220 = eta_p_91221;\n                            }\n                            if (thread_active_99037) {\n                                if (!inactive_99038) {\n                                    int64_t defunc_0_op_res_91222 = add64(eta_p_91220, eta_p_91221);\n                                    \n                                    eta_p_91220 = defunc_0_op_res_91222;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_99021, skip_threads_99036)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_99037) {\n                            // write result\n                            {\n                 ", "               ((volatile __local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019)] = eta_p_91220;\n                                eta_p_91221 = eta_p_91220;\n                            }\n                        }\n                        if (sle32(wave_sizze_99021, skip_threads_99036)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_99036 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_99019 - squot32(local_tid_99019, 32) * 32) == 31 && ltid_in_bounds_99035) {\n                        ((volatile __local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(squot32(local_tid_99019, 32))] = eta_p_91220;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_99039;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_99019, 32) == 0 && ltid_in_bounds_99035) {\n                            eta_p_99033 = ((volatile __local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019)];\n                            if ((local_tid_99019 - squot32(local_tid_99019, 32) * 32) == 0) {\n                                eta_p_99032 = eta_p_99033;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_99039 = 1;\n                        while (slt32(skip_threads_99039, 32)) {\n                            bool thread_active_99040 = sle32(skip_threads_99039, local_tid_99019 - squot32(local_tid_99019, 32) * 32) && (squo", "t32(local_tid_99019, 32) == 0 && ltid_in_bounds_99035);\n                            \n                            if (thread_active_99040) {\n                                // read operands\n                                {\n                                    eta_p_99032 = ((volatile __local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019) - sext_i32_i64(skip_threads_99039)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_99041 = slt64(srem64(sext_i32_i64(local_tid_99019 * 32 + 32 - 1), num_subhistos_98928), sext_i32_i64(local_tid_99019 * 32 + 32 - 1) - sext_i32_i64((local_tid_99019 - skip_threads_99039) * 32 + 32 - 1));\n                                \n                                if (thread_active_99040 && inactive_99041) {\n                                    eta_p_99032 = eta_p_99033;\n                                }\n                                if (thread_active_99040) {\n                                    if (!inactive_99041) {\n                                        int64_t defunc_0_op_res_99034 = add64(eta_p_99032, eta_p_99033);\n                                        \n                                        eta_p_99032 = defunc_0_op_res_99034;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_99021, skip_threads_99039)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_99040) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019)] = eta_p_99032;\n                                    eta_p_99033 = eta_p_99032;\n                                }\n                         ",
                                    "   }\n                            if (sle32(wave_sizze_99021, skip_threads_99039)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_99039 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_99042 = squot32(local_tid_99019, 32) == 0 || !ltid_in_bounds_99035;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_99042) {\n                            eta_p_91221 = eta_p_91220;\n                            eta_p_91220 = ((__local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(squot32(local_tid_99019, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_99043 = slt64(srem64(sext_i32_i64(local_tid_99019), num_subhistos_98928), sext_i32_i64(local_tid_99019) - sext_i32_i64(squot32(local_tid_99019, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_99042) {\n                            if (inactive_99043) {\n                                eta_p_91220 = eta_p_91221;\n                            }\n                        }\n                        if (!no_carry_in_99042) {\n                            if (!inactive_99043) {\n                                int64_t defunc_0_op_res_91222 = add64(eta_p_91220, eta_p_91221);\n                                \n                                eta_p_91220 = defunc_0_op_res_91222;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_99042) {\n                            ((__local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_", "99019)] = eta_p_91220;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_99019, 32) == 0 && ltid_in_bounds_99035) {\n                        ((__local int64_t *) red_arr_i64_mem_99023)[sext_i32_i64(local_tid_99019)] = eta_p_91221;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_tblock_id_99028) * squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016) + sext_i32_i64(local_tid_99019), total_part_no_45886) && slt64(sext_i32_i64(local_tid_99019), squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016))) {\n                int64_t tmp_99044 = ((__local int64_t *) red_arr_i64_mem_99023)[(sext_i32_i64(local_tid_99019) + (int64_t) 1) * segment_sizze_nonzzero_99016 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_91631)[sext_i32_i64(virt_tblock_id_99028) * squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016) + sext_i32_i64(local_tid_99019)] = tmp_99044;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_3:\n    return;\n    #undef seghist_tblock_sizze_91212\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegscan_91135_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegscan_91135(__global int *global_failure, int64_t n_45877, int64_t num_tblocks_91131, int64_t num_virt_blocks_98756, int64_t num_virt_threads_98757, __global unsigned char *mem_94902, __global unsigned char *mem_94909, __global unsigned char *status_flags_mem_98758, __global unsigned char *aggregates_mem_98780, __global unsigned char *incprefixes_mem_98782, __global unsigned char *global_dynid_mem_98784)\n{\n   ", " #define segscan_tblock_sizze_91130 (sort_for_Skyline_doublezisegscan_91135zisegscan_tblock_sizze_91130)\n    #define chunk_sizze_98755 (sort_for_Skyline_doublezisegscan_91135zichunk_sizze_98755)\n    \n    volatile __local unsigned char *local_mem_98794_backing_0 = &shared_mem[0];\n    const int64_t local_mem_98794_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_91130), chunk_sizze_98755 * segscan_tblock_sizze_91130 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_91130), chunk_sizze_98755 * segscan_tblock_sizze_91130 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_98787;\n    int32_t tblock_sizze_98790;\n    int32_t wave_sizze_98789;\n    int32_t block_id_98788;\n    int32_t global_tid_98786;\n    int64_t phys_tid_91135;\n    int32_t chunk_sizze_32b_98791;\n    int64_t byte_offsets_98792;\n    int64_t warp_byte_offset_98793;\n    __local unsigned char *local_mem_98794;\n    int64_t trans_arr_len_98795;\n    int64_t phys_block_id_98801;\n    int64_t virtloop_bound_98802;\n    \n    local_tid_98787 = get_local_id(0);\n    tblock_sizze_98790 = get_local_size(0);\n    wave_sizze_98789 = LOCKSTEP_WIDTH;\n    block_id_98788 = get_tblock_id(0);\n    global_tid_98786 = block_id_98788 * tblock_sizze_98790 + local_tid_98787;\n    phys_tid_91135 = sext_i32_i64(global_tid_98786);\n    chunk_sizze_32b_98791 = sext_i64_i32(chunk_sizze_98755);\n    byte_offsets_98792 = segscan_tblock_sizze_91130 * (int64_t) 8;\n    warp_byte_offset_98793 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_98794 = (__local unsigned char *) local_mem_98794_backing_0;\n    trans_arr_len_98795 = chunk_sizze_98755 * segscan_tblock_sizze_91130;\n    phys_block_id_98801 = get_tblock_id(0);\n    virtloop_bound_98802 = sdiv_up64(num_virt_blocks_98756 - phys_block_id_98801, num_tblocks_91131);\n    for (int64_t virtloop_i_98803 = 0; virt",
                                    "loop_i_98803 < virtloop_bound_98802; virtloop_i_98803++) {\n        int64_t dynamic_id_98804;\n        int64_t block_offset_98805;\n        int64_t sgm_idx_98806;\n        int32_t boundary_98807;\n        int32_t segsizze_compact_98808;\n        int64_t private_mem_98809[chunk_sizze_98755];\n        int64_t thd_offset_98811;\n        int64_t acc_98827;\n        int64_t prefix_98837;\n        bool block_new_sgm_98838;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_98787 == 0) {\n                dynamic_id_98804 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_98784)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_98794)[(int64_t) 0] = dynamic_id_98804;\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_98804 == num_virt_blocks_98756 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_98784)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_98804 = ((__local int32_t *) local_mem_98794)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_98805 = dynamic_id_98804 * chunk_sizze_98755 * segscan_tblock_sizze_91130;\n        sgm_idx_98806 = smod64(block_offset_98805, n_45877);\n        boundary_98807 = sext_i64_i32(smin64(chunk_sizze_98755 * segscan_tblock_sizze_91130, n_45877 - sgm_idx_98806));\n        segsizze_compact_98808 = sext_i64_i32(smin64(chunk_sizze_98755 * segscan_tblock_sizze_91130, n_45877));\n        thd_offset_98811 = block_offset_98805 + sext_i32_i64(local_tid_98787);\n        // Load and map\n        {\n            for (int64_t i_98812 = 0; i_98812 < chunk_sizze_98755; i_98812++) {\n                int64_t virt_tid_98813 = thd_offset_98811 + i_98812 * segscan_tblock_", "sizze_91130;\n                int64_t slice_98814 = n_45877;\n                int64_t gtid_91134 = virt_tid_98813;\n                int64_t remnant_98815 = virt_tid_98813 - gtid_91134;\n                \n                if (slt64(virt_tid_98813, n_45877)) {\n                    int64_t x_91139 = ((__global int64_t *) mem_94902)[gtid_91134];\n                    \n                    private_mem_98809[i_98812] = x_91139;\n                } else {\n                    private_mem_98809[i_98812] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_98816 = 0; i_98816 < chunk_sizze_98755; i_98816++) {\n                int64_t sharedIdx_98817 = sext_i32_i64(local_tid_98787) + i_98816 * segscan_tblock_sizze_91130;\n                int64_t tmp_98818 = private_mem_98809[i_98816];\n                \n                ((__local int64_t *) local_mem_98794)[sharedIdx_98817] = tmp_98818;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_98819 = 0; i_98819 < chunk_sizze_98755; i_98819++) {\n                int64_t sharedIdx_98820 = sext_i32_i64(local_tid_98787) * chunk_sizze_98755 + i_98819;\n                int64_t tmp_98821 = ((__local int64_t *) local_mem_98794)[sharedIdx_98820];\n                \n                private_mem_98809[i_98819] = tmp_98821;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_98822 = 0; i_98822 < chunk_sizze_98755 - (int64_t) 1; i_98822++) {\n                int64_t eta_p_91136;\n                int64_t eta_p_91137;\n                \n                eta_p_91136 = private_mem_98809[i_98822];\n                eta_p_91137 = private_mem_98809[i_98822 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_91138 = add64(eta_p_91136, eta_p_91137);\n                \n                private_mem_98809[i_98822 + (int64_t) 1] = defunc_0_op_res_91138", ";\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_98823 = private_mem_98809[chunk_sizze_98755 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)] = tmp_98823;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_98824;\n            int64_t eta_p_98825;\n            int64_t eta_p_98828;\n            int64_t eta_p_98829;\n            bool ltid_in_bounds_98831 = slt64(sext_i32_i64(local_tid_98787), num_virt_threads_98757);\n            int32_t skip_threads_98832;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_98831) {\n                    eta_p_98825 = ((volatile __local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)];\n                    if ((local_tid_98787 - squot32(local_tid_98787, 32) * 32) == 0) {\n                        eta_p_98824 = eta_p_98825;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_98832 = 1;\n                while (slt32(skip_threads_98832, 32)) {\n                    bool thread_active_98833 = sle32(skip_threads_98832, local_tid_98787 - squot32(local_tid_98787, 32) * 32) && ltid_in_bounds_98831;\n                    \n                    if (thread_active_98833) {\n                        // read operands\n                        {\n                            eta_p_98824 = ((volatile __local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787) - sext_i32_i64(skip_threads_98832)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_98833) {\n                            int64_t defunc_0_op_res_98826 = add64(eta_p_98824, eta_p_98825);\n                            \n                            eta_p_988",
                                    "24 = defunc_0_op_res_98826;\n                        }\n                    }\n                    if (sle32(wave_sizze_98789, skip_threads_98832)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_98833) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)] = eta_p_98824;\n                            eta_p_98825 = eta_p_98824;\n                        }\n                    }\n                    if (sle32(wave_sizze_98789, skip_threads_98832)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_98832 *= 2;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_98787 - squot32(local_tid_98787, 32) * 32) == 31 && ltid_in_bounds_98831) {\n                    ((volatile __local int64_t *) local_mem_98794)[sext_i32_i64(squot32(local_tid_98787, 32))] = eta_p_98824;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_98834;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_98787, 32) == 0 && ltid_in_bounds_98831) {\n                        eta_p_98829 = ((volatile __local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)];\n                        if ((local_tid_98787 - squot32(local_tid_98787, 32) * 32) == 0) {\n                            eta_p_98828 = eta_p_98829;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_98834 = 1;\n       ", "             while (slt32(skip_threads_98834, 32)) {\n                        bool thread_active_98835 = sle32(skip_threads_98834, local_tid_98787 - squot32(local_tid_98787, 32) * 32) && (squot32(local_tid_98787, 32) == 0 && ltid_in_bounds_98831);\n                        \n                        if (thread_active_98835) {\n                            // read operands\n                            {\n                                eta_p_98828 = ((volatile __local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787) - sext_i32_i64(skip_threads_98834)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_98835) {\n                                int64_t defunc_0_op_res_98830 = add64(eta_p_98828, eta_p_98829);\n                                \n                                eta_p_98828 = defunc_0_op_res_98830;\n                            }\n                        }\n                        if (sle32(wave_sizze_98789, skip_threads_98834)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_98835) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)] = eta_p_98828;\n                                eta_p_98829 = eta_p_98828;\n                            }\n                        }\n                        if (sle32(wave_sizze_98789, skip_threads_98834)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_98834 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_98836 = squot32(local_tid_98787, 32) == 0 || !ltid_in_bounds_98831;\n            \n            // carry-in for every block except the fir", "st\n            {\n                // read operands\n                {\n                    if (!no_carry_in_98836) {\n                        eta_p_98825 = eta_p_98824;\n                        eta_p_98824 = ((__local int64_t *) local_mem_98794)[sext_i32_i64(squot32(local_tid_98787, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_98836) {\n                        int64_t defunc_0_op_res_98826 = add64(eta_p_98824, eta_p_98825);\n                        \n                        eta_p_98824 = defunc_0_op_res_98826;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_98836) {\n                        ((__local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)] = eta_p_98824;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_98787, 32) == 0 && ltid_in_bounds_98831) {\n                    ((__local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)] = eta_p_98825;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_98787 == 0) {\n                acc_98827 = ((__local int64_t *) local_mem_98794)[segscan_tblock_sizze_91130 - (int64_t) 1];\n            } else {\n                acc_98827 = ((__local int64_t *) local_mem_98794)[sext_i32_i64(local_tid_98787) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_98837 = (int64_t) 0;\n        block_new_sgm_98838 = sgm_idx_98806 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_98838 && local_tid_98787 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_98782)[dynamic_id_98804] = acc_98827;\n                mem_fen",
                                    "ce_global();\n                ((volatile __global int8_t *) status_flags_mem_98758)[dynamic_id_98804] = (int8_t) 2;\n                acc_98827 = (int64_t) 0;\n            }\n            if (!block_new_sgm_98838 && slt32(local_tid_98787, wave_sizze_98789)) {\n                if (local_tid_98787 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_98780)[dynamic_id_98804] = acc_98827;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_98758)[dynamic_id_98804] = (int8_t) 1;\n                    \n                    int8_t tmp_98839 = ((volatile __global int8_t *) status_flags_mem_98758)[dynamic_id_98804 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *) local_mem_98794)[(int64_t) 0] = tmp_98839;\n                }\n                mem_fence_local();\n                \n                int8_t status_98840 = ((__local int8_t *) local_mem_98794)[(int64_t) 0];\n                \n                if (status_98840 == (int8_t) 2) {\n                    if (local_tid_98787 == 0) {\n                        prefix_98837 = ((volatile __global int64_t *) incprefixes_mem_98782)[dynamic_id_98804 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_98841 = sext_i64_i32(dynamic_id_98804 - sext_i32_i64(wave_sizze_98789));\n                    \n                    while (slt32(wave_sizze_98789 * -1, readOffset_98841)) {\n                        int32_t read_i_98842 = readOffset_98841 + local_tid_98787;\n                        int64_t aggr_98843 = (int64_t) 0;\n                        int8_t flag_98844 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_98842)) {\n                            flag_98844 = ((volatile __global int8_t *) status_flags_mem_98758)[sext_i32_i64(read_i_98842)];\n                            if (flag_98844 == (int8_t) 2) {\n                                aggr_98843 = ((volatile __global int64_t *)", " incprefixes_mem_98782)[sext_i32_i64(read_i_98842)];\n                            } else if (flag_98844 == (int8_t) 1) {\n                                aggr_98843 = ((volatile __global int64_t *) aggregates_mem_98780)[sext_i32_i64(read_i_98842)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_98794)[(int64_t) 4 + sext_i32_i64(local_tid_98787)] = aggr_98843;\n                        ((__local int8_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)] = flag_98844;\n                        flag_98844 = ((__local int8_t *) local_mem_98794)[sext_i32_i64(wave_sizze_98789) - (int64_t) 1];\n                        if (slt8(flag_98844, (int8_t) 2)) {\n                            int8_t flg_x_98848;\n                            int8_t flg_y_98849;\n                            int64_t eta_p_98845;\n                            int64_t eta_p_98846;\n                            int32_t skip_threads_98850;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_98849 = ((volatile __local int8_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)];\n                                eta_p_98846 = ((volatile __local int64_t *) local_mem_98794)[(int64_t) 4 + sext_i32_i64(local_tid_98787)];\n                                if ((local_tid_98787 - squot32(local_tid_98787, 32) * 32) == 0) {\n                                    eta_p_98845 = eta_p_98846;\n                                    flg_x_98848 = flg_y_98849;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_98850 = 1;\n                                while (slt32(skip_threads_98850, 32)) {\n                                    if (sle32(skip_threads_98850, local_tid_98787 - squot32(local_tid_98787, 32) * 32)) {\n             ", "                           // read operands\n                                        {\n                                            flg_x_98848 = ((volatile __local int8_t *) local_mem_98794)[sext_i32_i64(local_tid_98787) - sext_i32_i64(skip_threads_98850)];\n                                            eta_p_98845 = ((volatile __local int64_t *) local_mem_98794)[(int64_t) 4 + (sext_i32_i64(local_tid_98787) - sext_i32_i64(skip_threads_98850))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_98849 == (int8_t) 2 || flg_y_98849 == (int8_t) 0) {\n                                                flg_x_98848 = flg_y_98849;\n                                                eta_p_98845 = eta_p_98846;\n                                            } else {\n                                                int64_t defunc_0_op_res_98847 = add64(eta_p_98845, eta_p_98846);\n                                                \n                                                eta_p_98845 = defunc_0_op_res_98847;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_98794)[sext_i32_i64(local_tid_98787)] = flg_x_98848;\n                                            flg_y_98849 = flg_x_98848;\n                                            ((volatile __local int64_t *) local_mem_98794)[(int64_t) 4 + sext_i32_i64(local_tid_98787)] = eta_p_98845;\n                                            eta_p_98846 = eta_p_98845;\n                                        }\n                                    }\n                                    skip_threads_98850 *= 2;\n                                }\n                            }\n                        }\n        ",
                                    "                flag_98844 = ((__local int8_t *) local_mem_98794)[sext_i32_i64(wave_sizze_98789) - (int64_t) 1];\n                        aggr_98843 = ((__local int64_t *) local_mem_98794)[(int64_t) 4 + (sext_i32_i64(wave_sizze_98789) - (int64_t) 1)];\n                        if (flag_98844 == (int8_t) 2) {\n                            readOffset_98841 = wave_sizze_98789 * -1;\n                        } else if (flag_98844 == (int8_t) 1) {\n                            readOffset_98841 -= wave_sizze_98789;\n                        }\n                        if (slt8((int8_t) 0, flag_98844)) {\n                            int64_t eta_p_98851 = aggr_98843;\n                            int64_t eta_p_98852 = prefix_98837;\n                            int64_t defunc_0_op_res_98853 = add64(eta_p_98851, eta_p_98852);\n                            \n                            prefix_98837 = defunc_0_op_res_98853;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_98787 == 0) {\n                    if (boundary_98807 == sext_i64_i32(segscan_tblock_sizze_91130 * chunk_sizze_98755)) {\n                        int64_t eta_p_98854 = prefix_98837;\n                        int64_t eta_p_98855 = acc_98827;\n                        int64_t defunc_0_op_res_98856 = add64(eta_p_98854, eta_p_98855);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_98782)[dynamic_id_98804] = defunc_0_op_res_98856;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_98758)[dynamic_id_98804] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_98794)[(int64_t) 4] = prefix_98837;\n                    acc_98827 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_98804 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_98837 = ((__local in", "t64_t *) local_mem_98794)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_98857;\n            int64_t eta_p_98858;\n            int64_t eta_p_98860 = prefix_98837;\n            int64_t eta_p_98861 = acc_98827;\n            \n            if (slt32(local_tid_98787 * chunk_sizze_32b_98791, boundary_98807) && !block_new_sgm_98838) {\n                int64_t defunc_0_op_res_98862 = add64(eta_p_98860, eta_p_98861);\n                \n                eta_p_98857 = defunc_0_op_res_98862;\n            } else {\n                eta_p_98857 = acc_98827;\n            }\n            \n            int32_t stopping_point_98863 = segsizze_compact_98808 - srem32(local_tid_98787 * chunk_sizze_32b_98791 - 1 + segsizze_compact_98808 - boundary_98807, segsizze_compact_98808);\n            \n            for (int64_t i_98864 = 0; i_98864 < chunk_sizze_98755; i_98864++) {\n                if (slt32(sext_i64_i32(i_98864), stopping_point_98863 - 1)) {\n                    eta_p_98858 = private_mem_98809[i_98864];\n                    \n                    int64_t defunc_0_op_res_98859 = add64(eta_p_98857, eta_p_98858);\n                    \n                    private_mem_98809[i_98864] = defunc_0_op_res_98859;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_98865 = 0; i_98865 < chunk_sizze_98755; i_98865++) {\n                int64_t sharedIdx_98866 = sext_i32_i64(local_tid_98787) * chunk_sizze_98755 + i_98865;\n                int64_t tmp_98867 = private_mem_98809[i_98865];\n                \n                ((__local int64_t *) local_mem_98794)[sharedIdx_98866] = tmp_98867;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_98868 = 0; i_98868 < chunk_sizze_98755; i_98868++) {\n                int64_t flat_idx_98869 = thd_offset_98811 + i_98868 * segscan_tblock_sizze_91", "130;\n                int64_t slice_98870 = n_45877;\n                int64_t gtid_91134 = flat_idx_98869;\n                int64_t remnant_98871 = flat_idx_98869 - gtid_91134;\n                \n                if (slt64(flat_idx_98869, n_45877)) {\n                    int64_t tmp_98872 = ((__local int64_t *) local_mem_98794)[flat_idx_98869 - block_offset_98805];\n                    \n                    ((__global int64_t *) mem_94909)[gtid_91134] = tmp_98872;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_91130\n    #undef chunk_sizze_98755\n}\nFUTHARK_KERNEL_SIZED(sort_for_Skyline_doublezisegscan_91232_dim1, 1, 1)\nvoid sort_for_Skyline_doublezisegscan_91232(__global int *global_failure, int64_t total_part_no_45886, int64_t num_tblocks_91229, int64_t num_virt_blocks_99093, int64_t num_virt_threads_99094, __global unsigned char *mem_91631, __global unsigned char *mem_95048, __global unsigned char *status_flags_mem_99095, __global unsigned char *aggregates_mem_99097, __global unsigned char *incprefixes_mem_99099, __global unsigned char *global_dynid_mem_99101)\n{\n    #define segscan_tblock_sizze_91227 (sort_for_Skyline_doublezisegscan_91232zisegscan_tblock_sizze_91227)\n    #define chunk_sizze_99092 (sort_for_Skyline_doublezisegscan_91232zichunk_sizze_99092)\n    \n    volatile __local unsigned char *local_mem_99111_backing_0 = &shared_mem[0];\n    const int64_t local_mem_99111_backing_0_offset = 0 + (smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_91227), chunk_sizze_99092 * segscan_tblock_sizze_91227 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_91227), chunk_sizze_99092 * segscan_tblock_sizze_91227 * (int64_t) 8), (int64_t) 8), (int64_t) 8));\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_99104;\n    int32_t tblock_sizze_99107;\n    int32_t wave_sizze_99106;\n    int32_t",
                                    " block_id_99105;\n    int32_t global_tid_99103;\n    int64_t phys_tid_91232;\n    int32_t chunk_sizze_32b_99108;\n    int64_t byte_offsets_99109;\n    int64_t warp_byte_offset_99110;\n    __local unsigned char *local_mem_99111;\n    int64_t trans_arr_len_99112;\n    int64_t phys_block_id_99118;\n    int64_t virtloop_bound_99119;\n    \n    local_tid_99104 = get_local_id(0);\n    tblock_sizze_99107 = get_local_size(0);\n    wave_sizze_99106 = LOCKSTEP_WIDTH;\n    block_id_99105 = get_tblock_id(0);\n    global_tid_99103 = block_id_99105 * tblock_sizze_99107 + local_tid_99104;\n    phys_tid_91232 = sext_i32_i64(global_tid_99103);\n    chunk_sizze_32b_99108 = sext_i64_i32(chunk_sizze_99092);\n    byte_offsets_99109 = segscan_tblock_sizze_91227 * (int64_t) 8;\n    warp_byte_offset_99110 = (int64_t) 288;\n    // Allocate reusable shared memory\n    { }\n    local_mem_99111 = (__local unsigned char *) local_mem_99111_backing_0;\n    trans_arr_len_99112 = chunk_sizze_99092 * segscan_tblock_sizze_91227;\n    phys_block_id_99118 = get_tblock_id(0);\n    virtloop_bound_99119 = sdiv_up64(num_virt_blocks_99093 - phys_block_id_99118, num_tblocks_91229);\n    for (int64_t virtloop_i_99120 = 0; virtloop_i_99120 < virtloop_bound_99119; virtloop_i_99120++) {\n        int64_t dynamic_id_99121;\n        int64_t block_offset_99122;\n        int64_t sgm_idx_99123;\n        int32_t boundary_99124;\n        int32_t segsizze_compact_99125;\n        int64_t private_mem_99126[chunk_sizze_99092];\n        int64_t thd_offset_99128;\n        int64_t acc_99144;\n        int64_t prefix_99154;\n        bool block_new_sgm_99155;\n        \n        // First thread in block fetches this block's dynamic_id\n        {\n            if (local_tid_99104 == 0) {\n                dynamic_id_99121 = atomic_add_i32_global(&((volatile __global int *) global_dynid_mem_99101)[(int64_t) 0], (int) 1);\n                // Set dynamic id for this block\n                {\n                    ((__local int64_t *) local_mem_99111)[(int64_t) 0] = dynamic_id_99121", ";\n                }\n                // First thread in last (virtual) block resets global dynamic_id\n                {\n                    if (dynamic_id_99121 == num_virt_blocks_99093 - (int64_t) 1) {\n                        ((__global int32_t *) global_dynid_mem_99101)[(int64_t) 0] = 0;\n                    }\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        dynamic_id_99121 = ((__local int32_t *) local_mem_99111)[(int64_t) 0];\n        barrier(CLK_LOCAL_MEM_FENCE);\n        block_offset_99122 = dynamic_id_99121 * chunk_sizze_99092 * segscan_tblock_sizze_91227;\n        sgm_idx_99123 = smod64(block_offset_99122, total_part_no_45886);\n        boundary_99124 = sext_i64_i32(smin64(chunk_sizze_99092 * segscan_tblock_sizze_91227, total_part_no_45886 - sgm_idx_99123));\n        segsizze_compact_99125 = sext_i64_i32(smin64(chunk_sizze_99092 * segscan_tblock_sizze_91227, total_part_no_45886));\n        thd_offset_99128 = block_offset_99122 + sext_i32_i64(local_tid_99104);\n        // Load and map\n        {\n            for (int64_t i_99129 = 0; i_99129 < chunk_sizze_99092; i_99129++) {\n                int64_t virt_tid_99130 = thd_offset_99128 + i_99129 * segscan_tblock_sizze_91227;\n                int64_t slice_99131 = total_part_no_45886;\n                int64_t gtid_91231 = virt_tid_99130;\n                int64_t remnant_99132 = virt_tid_99130 - gtid_91231;\n                \n                if (slt64(virt_tid_99130, total_part_no_45886)) {\n                    int64_t x_67052 = ((__global int64_t *) mem_91631)[gtid_91231];\n                    \n                    private_mem_99126[i_99129] = x_67052;\n                } else {\n                    private_mem_99126[i_99129] = (int64_t) 0;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // Transpose scan inputs\n        {\n            for (int64_t i_99133 = 0; i_99133 < chunk_sizze_99092; i_99133++) {\n                int64_t sharedIdx_99134 = sext_i32_i64(loc", "al_tid_99104) + i_99133 * segscan_tblock_sizze_91227;\n                int64_t tmp_99135 = private_mem_99126[i_99133];\n                \n                ((__local int64_t *) local_mem_99111)[sharedIdx_99134] = tmp_99135;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_99136 = 0; i_99136 < chunk_sizze_99092; i_99136++) {\n                int64_t sharedIdx_99137 = sext_i32_i64(local_tid_99104) * chunk_sizze_99092 + i_99136;\n                int64_t tmp_99138 = ((__local int64_t *) local_mem_99111)[sharedIdx_99137];\n                \n                private_mem_99126[i_99136] = tmp_99138;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Per thread scan\n        {\n            for (int64_t i_99139 = 0; i_99139 < chunk_sizze_99092 - (int64_t) 1; i_99139++) {\n                int64_t eta_p_67053;\n                int64_t eta_p_67054;\n                \n                eta_p_67053 = private_mem_99126[i_99139];\n                eta_p_67054 = private_mem_99126[i_99139 + (int64_t) 1];\n                \n                int64_t defunc_0_op_res_67055 = add64(eta_p_67053, eta_p_67054);\n                \n                private_mem_99126[i_99139 + (int64_t) 1] = defunc_0_op_res_67055;\n            }\n        }\n        // Publish results in shared memory\n        {\n            int64_t tmp_99140 = private_mem_99126[chunk_sizze_99092 - (int64_t) 1];\n            \n            ((__local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)] = tmp_99140;\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        // Scan results (with warp scan)\n        {\n            int64_t eta_p_99141;\n            int64_t eta_p_99142;\n            int64_t eta_p_99145;\n            int64_t eta_p_99146;\n            bool ltid_in_bounds_99148 = slt64(sext_i32_i64(local_tid_99104), num_virt_threads_99094);\n            int32_t skip_threads_99149;\n            \n            // read input for in-block scan\n            {\n                if (ltid_in_bounds_99148) {\n ",
                                    "                   eta_p_99142 = ((volatile __local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)];\n                    if ((local_tid_99104 - squot32(local_tid_99104, 32) * 32) == 0) {\n                        eta_p_99141 = eta_p_99142;\n                    }\n                }\n            }\n            // in-block scan (hopefully no barriers needed)\n            {\n                skip_threads_99149 = 1;\n                while (slt32(skip_threads_99149, 32)) {\n                    bool thread_active_99150 = sle32(skip_threads_99149, local_tid_99104 - squot32(local_tid_99104, 32) * 32) && ltid_in_bounds_99148;\n                    \n                    if (thread_active_99150) {\n                        // read operands\n                        {\n                            eta_p_99141 = ((volatile __local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104) - sext_i32_i64(skip_threads_99149)];\n                        }\n                    }\n                    // perform operation\n                    {\n                        if (thread_active_99150) {\n                            int64_t defunc_0_op_res_99143 = add64(eta_p_99141, eta_p_99142);\n                            \n                            eta_p_99141 = defunc_0_op_res_99143;\n                        }\n                    }\n                    if (sle32(wave_sizze_99106, skip_threads_99149)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    if (thread_active_99150) {\n                        // write result\n                        {\n                            ((volatile __local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)] = eta_p_99141;\n                            eta_p_99142 = eta_p_99141;\n                        }\n                    }\n                    if (sle32(wave_sizze_99106, skip_threads_99149)) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                    }\n                    skip_threads_99149 *= 2;\n            ", "    }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // last thread of block 'i' writes its result to offset 'i'\n            {\n                if ((local_tid_99104 - squot32(local_tid_99104, 32) * 32) == 31 && ltid_in_bounds_99148) {\n                    ((volatile __local int64_t *) local_mem_99111)[sext_i32_i64(squot32(local_tid_99104, 32))] = eta_p_99141;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n            {\n                int32_t skip_threads_99151;\n                \n                // read input for in-block scan\n                {\n                    if (squot32(local_tid_99104, 32) == 0 && ltid_in_bounds_99148) {\n                        eta_p_99146 = ((volatile __local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)];\n                        if ((local_tid_99104 - squot32(local_tid_99104, 32) * 32) == 0) {\n                            eta_p_99145 = eta_p_99146;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_99151 = 1;\n                    while (slt32(skip_threads_99151, 32)) {\n                        bool thread_active_99152 = sle32(skip_threads_99151, local_tid_99104 - squot32(local_tid_99104, 32) * 32) && (squot32(local_tid_99104, 32) == 0 && ltid_in_bounds_99148);\n                        \n                        if (thread_active_99152) {\n                            // read operands\n                            {\n                                eta_p_99145 = ((volatile __local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104) - sext_i32_i64(skip_threads_99151)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            if (thread_active_99152) {\n                        ", "        int64_t defunc_0_op_res_99147 = add64(eta_p_99145, eta_p_99146);\n                                \n                                eta_p_99145 = defunc_0_op_res_99147;\n                            }\n                        }\n                        if (sle32(wave_sizze_99106, skip_threads_99151)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_99152) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)] = eta_p_99145;\n                                eta_p_99146 = eta_p_99145;\n                            }\n                        }\n                        if (sle32(wave_sizze_99106, skip_threads_99151)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_99151 *= 2;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool no_carry_in_99153 = squot32(local_tid_99104, 32) == 0 || !ltid_in_bounds_99148;\n            \n            // carry-in for every block except the first\n            {\n                // read operands\n                {\n                    if (!no_carry_in_99153) {\n                        eta_p_99142 = eta_p_99141;\n                        eta_p_99141 = ((__local int64_t *) local_mem_99111)[sext_i32_i64(squot32(local_tid_99104, 32)) - (int64_t) 1];\n                    }\n                }\n                // perform operation\n                {\n                    if (!no_carry_in_99153) {\n                        int64_t defunc_0_op_res_99143 = add64(eta_p_99141, eta_p_99142);\n                        \n                        eta_p_99141 = defunc_0_op_res_99143;\n                    }\n                }\n                // write final result\n                {\n                    if (!no_carry_in_99153) {\n      ",
                                    "                  ((__local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)] = eta_p_99141;\n                    }\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // restore correct values for first block\n            {\n                if (squot32(local_tid_99104, 32) == 0 && ltid_in_bounds_99148) {\n                    ((__local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)] = eta_p_99142;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            barrier(CLK_LOCAL_MEM_FENCE);\n            if (local_tid_99104 == 0) {\n                acc_99144 = ((__local int64_t *) local_mem_99111)[segscan_tblock_sizze_91227 - (int64_t) 1];\n            } else {\n                acc_99144 = ((__local int64_t *) local_mem_99111)[sext_i32_i64(local_tid_99104) - (int64_t) 1];\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n        prefix_99154 = (int64_t) 0;\n        block_new_sgm_99155 = sgm_idx_99123 == (int64_t) 0;\n        // Perform lookback\n        {\n            if (block_new_sgm_99155 && local_tid_99104 == 0) {\n                ((volatile __global int64_t *) incprefixes_mem_99099)[dynamic_id_99121] = acc_99144;\n                mem_fence_global();\n                ((volatile __global int8_t *) status_flags_mem_99095)[dynamic_id_99121] = (int8_t) 2;\n                acc_99144 = (int64_t) 0;\n            }\n            if (!block_new_sgm_99155 && slt32(local_tid_99104, wave_sizze_99106)) {\n                if (local_tid_99104 == 0) {\n                    ((volatile __global int64_t *) aggregates_mem_99097)[dynamic_id_99121] = acc_99144;\n                    mem_fence_global();\n                    ((volatile __global int8_t *) status_flags_mem_99095)[dynamic_id_99121] = (int8_t) 1;\n                    \n                    int8_t tmp_99156 = ((volatile __global int8_t *) status_flags_mem_99095)[dynamic_id_99121 - (int64_t) 1];\n                    \n                    ((volatile __local int8_t *)", " local_mem_99111)[(int64_t) 0] = tmp_99156;\n                }\n                mem_fence_local();\n                \n                int8_t status_99157 = ((__local int8_t *) local_mem_99111)[(int64_t) 0];\n                \n                if (status_99157 == (int8_t) 2) {\n                    if (local_tid_99104 == 0) {\n                        prefix_99154 = ((volatile __global int64_t *) incprefixes_mem_99099)[dynamic_id_99121 - (int64_t) 1];\n                    }\n                } else {\n                    int32_t readOffset_99158 = sext_i64_i32(dynamic_id_99121 - sext_i32_i64(wave_sizze_99106));\n                    \n                    while (slt32(wave_sizze_99106 * -1, readOffset_99158)) {\n                        int32_t read_i_99159 = readOffset_99158 + local_tid_99104;\n                        int64_t aggr_99160 = (int64_t) 0;\n                        int8_t flag_99161 = (int8_t) 0;\n                        \n                        if (sle32(0, read_i_99159)) {\n                            flag_99161 = ((volatile __global int8_t *) status_flags_mem_99095)[sext_i32_i64(read_i_99159)];\n                            if (flag_99161 == (int8_t) 2) {\n                                aggr_99160 = ((volatile __global int64_t *) incprefixes_mem_99099)[sext_i32_i64(read_i_99159)];\n                            } else if (flag_99161 == (int8_t) 1) {\n                                aggr_99160 = ((volatile __global int64_t *) aggregates_mem_99097)[sext_i32_i64(read_i_99159)];\n                            }\n                        }\n                        ((__local int64_t *) local_mem_99111)[(int64_t) 4 + sext_i32_i64(local_tid_99104)] = aggr_99160;\n                        ((__local int8_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)] = flag_99161;\n                        flag_99161 = ((__local int8_t *) local_mem_99111)[sext_i32_i64(wave_sizze_99106) - (int64_t) 1];\n                        if (slt8(flag_99161, (int8_t) 2)) {\n                            int8_t flg_x_99165;\n     ", "                       int8_t flg_y_99166;\n                            int64_t eta_p_99162;\n                            int64_t eta_p_99163;\n                            int32_t skip_threads_99167;\n                            \n                            // read input for in-block scan\n                            {\n                                flg_y_99166 = ((volatile __local int8_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)];\n                                eta_p_99163 = ((volatile __local int64_t *) local_mem_99111)[(int64_t) 4 + sext_i32_i64(local_tid_99104)];\n                                if ((local_tid_99104 - squot32(local_tid_99104, 32) * 32) == 0) {\n                                    eta_p_99162 = eta_p_99163;\n                                    flg_x_99165 = flg_y_99166;\n                                }\n                            }\n                            // in-block scan (hopefully no barriers needed)\n                            {\n                                skip_threads_99167 = 1;\n                                while (slt32(skip_threads_99167, 32)) {\n                                    if (sle32(skip_threads_99167, local_tid_99104 - squot32(local_tid_99104, 32) * 32)) {\n                                        // read operands\n                                        {\n                                            flg_x_99165 = ((volatile __local int8_t *) local_mem_99111)[sext_i32_i64(local_tid_99104) - sext_i32_i64(skip_threads_99167)];\n                                            eta_p_99162 = ((volatile __local int64_t *) local_mem_99111)[(int64_t) 4 + (sext_i32_i64(local_tid_99104) - sext_i32_i64(skip_threads_99167))];\n                                        }\n                                        // perform operation\n                                        {\n                                            if (flg_y_99166 == (int8_t) 2 || flg_y_99166 == (int8_t) 0) {\n                                                flg_x_99165 = flg_y_",
                                    "99166;\n                                                eta_p_99162 = eta_p_99163;\n                                            } else {\n                                                int64_t defunc_0_op_res_99164 = add64(eta_p_99162, eta_p_99163);\n                                                \n                                                eta_p_99162 = defunc_0_op_res_99164;\n                                            }\n                                        }\n                                        // write result\n                                        {\n                                            ((volatile __local int8_t *) local_mem_99111)[sext_i32_i64(local_tid_99104)] = flg_x_99165;\n                                            flg_y_99166 = flg_x_99165;\n                                            ((volatile __local int64_t *) local_mem_99111)[(int64_t) 4 + sext_i32_i64(local_tid_99104)] = eta_p_99162;\n                                            eta_p_99163 = eta_p_99162;\n                                        }\n                                    }\n                                    skip_threads_99167 *= 2;\n                                }\n                            }\n                        }\n                        flag_99161 = ((__local int8_t *) local_mem_99111)[sext_i32_i64(wave_sizze_99106) - (int64_t) 1];\n                        aggr_99160 = ((__local int64_t *) local_mem_99111)[(int64_t) 4 + (sext_i32_i64(wave_sizze_99106) - (int64_t) 1)];\n                        if (flag_99161 == (int8_t) 2) {\n                            readOffset_99158 = wave_sizze_99106 * -1;\n                        } else if (flag_99161 == (int8_t) 1) {\n                            readOffset_99158 -= wave_sizze_99106;\n                        }\n                        if (slt8((int8_t) 0, flag_99161)) {\n                            int64_t eta_p_99168 = aggr_99160;\n                            int64_t eta_p_99169 = prefix_99154;\n                            int64_t defunc_0_o", "p_res_99170 = add64(eta_p_99168, eta_p_99169);\n                            \n                            prefix_99154 = defunc_0_op_res_99170;\n                        }\n                        mem_fence_local();\n                    }\n                }\n                if (local_tid_99104 == 0) {\n                    if (boundary_99124 == sext_i64_i32(segscan_tblock_sizze_91227 * chunk_sizze_99092)) {\n                        int64_t eta_p_99171 = prefix_99154;\n                        int64_t eta_p_99172 = acc_99144;\n                        int64_t defunc_0_op_res_99173 = add64(eta_p_99171, eta_p_99172);\n                        \n                        ((volatile __global int64_t *) incprefixes_mem_99099)[dynamic_id_99121] = defunc_0_op_res_99173;\n                        mem_fence_global();\n                        ((volatile __global int8_t *) status_flags_mem_99095)[dynamic_id_99121] = (int8_t) 2;\n                    }\n                    ((__local int64_t *) local_mem_99111)[(int64_t) 4] = prefix_99154;\n                    acc_99144 = (int64_t) 0;\n                }\n            }\n            if (!(dynamic_id_99121 == (int64_t) 0)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                prefix_99154 = ((__local int64_t *) local_mem_99111)[(int64_t) 4];\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        // Distribute results\n        {\n            int64_t eta_p_99174;\n            int64_t eta_p_99175;\n            int64_t eta_p_99177 = prefix_99154;\n            int64_t eta_p_99178 = acc_99144;\n            \n            if (slt32(local_tid_99104 * chunk_sizze_32b_99108, boundary_99124) && !block_new_sgm_99155) {\n                int64_t defunc_0_op_res_99179 = add64(eta_p_99177, eta_p_99178);\n                \n                eta_p_99174 = defunc_0_op_res_99179;\n            } else {\n                eta_p_99174 = acc_99144;\n            }\n            \n            int32_t stopping_point_99180 = segsizze_compact_99125 - srem32(local_tid_99104 * chu", "nk_sizze_32b_99108 - 1 + segsizze_compact_99125 - boundary_99124, segsizze_compact_99125);\n            \n            for (int64_t i_99181 = 0; i_99181 < chunk_sizze_99092; i_99181++) {\n                if (slt32(sext_i64_i32(i_99181), stopping_point_99180 - 1)) {\n                    eta_p_99175 = private_mem_99126[i_99181];\n                    \n                    int64_t defunc_0_op_res_99176 = add64(eta_p_99174, eta_p_99175);\n                    \n                    private_mem_99126[i_99181] = defunc_0_op_res_99176;\n                }\n            }\n        }\n        // Transpose scan output and Write it to global memory in coalesced fashion\n        {\n            for (int64_t i_99182 = 0; i_99182 < chunk_sizze_99092; i_99182++) {\n                int64_t sharedIdx_99183 = sext_i32_i64(local_tid_99104) * chunk_sizze_99092 + i_99182;\n                int64_t tmp_99184 = private_mem_99126[i_99182];\n                \n                ((__local int64_t *) local_mem_99111)[sharedIdx_99183] = tmp_99184;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_99185 = 0; i_99185 < chunk_sizze_99092; i_99185++) {\n                int64_t flat_idx_99186 = thd_offset_99128 + i_99185 * segscan_tblock_sizze_91227;\n                int64_t slice_99187 = total_part_no_45886;\n                int64_t gtid_91231 = flat_idx_99186;\n                int64_t remnant_99188 = flat_idx_99186 - gtid_91231;\n                \n                if (slt64(flat_idx_99186, total_part_no_45886)) {\n                    int64_t tmp_99189 = ((__local int64_t *) local_mem_99111)[flat_idx_99186 - block_offset_99122];\n                    \n                    ((__global int64_t *) mem_95048)[gtid_91231] = tmp_99189;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n        }\n    }\n    \n  error_3:\n    return;\n    #undef segscan_tblock_sizze_91227\n    #undef chunk_sizze_99092\n}\n", NULL};
// Start of gpu_prototypes.h

// Constants used for transpositions.  In principle these should be configurable.
#define TR_BLOCK_DIM 16
#define TR_TILE_DIM (TR_BLOCK_DIM*2)
#define TR_ELEMS_PER_THREAD 8

// Config stuff included in every GPU backend.
struct gpu_config {
  size_t default_block_size;
  size_t default_grid_size;
  size_t default_tile_size;
  size_t default_reg_tile_size;
  size_t default_cache;
  size_t default_shared_memory;
  size_t default_registers;
  size_t default_threshold;

  int default_block_size_changed;
  int default_grid_size_changed;
  int default_tile_size_changed;
};

// The following are dummy sizes that mean the concrete defaults
// will be set during initialisation via hardware-inspection-based
// heuristics.
struct gpu_config gpu_config_initial = {
  0
};

// Must be defined by the user.
static int gpu_macros(struct futhark_context *ctx, char*** names, int64_t** values);

static void gpu_init_log(struct futhark_context *ctx);
struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx);
void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels);
static int gpu_free_all(struct futhark_context *ctx);

// End of gpu_prototypes.h

// Start of backends/cuda.h.

// Forward declarations.
// Invoked by setup_opencl() after the platform and device has been
// found, but before the program is loaded.  Its intended use is to
// tune constants based on the selected platform and device.
static void set_tuning_params(struct futhark_context* ctx);
static char* get_failure_msg(int failure_idx, int64_t args[]);

#define CUDA_SUCCEED_FATAL(x) cuda_api_succeed_fatal(x, #x, __FILE__, __LINE__)
#define CUDA_SUCCEED_NONFATAL(x) cuda_api_succeed_nonfatal(x, #x, __FILE__, __LINE__)
#define NVRTC_SUCCEED_FATAL(x) nvrtc_api_succeed_fatal(x, #x, __FILE__, __LINE__)
#define NVRTC_SUCCEED_NONFATAL(x) nvrtc_api_succeed_nonfatal(x, #x, __FILE__, __LINE__)
// Take care not to override an existing error.
#define CUDA_SUCCEED_OR_RETURN(e) {             \
    char *serror = CUDA_SUCCEED_NONFATAL(e);    \
    if (serror) {                               \
      if (!ctx->error) {                        \
        ctx->error = serror;                    \
      } else {                                  \
        free(serror);                           \
      }                                         \
      return bad;                               \
    }                                           \
  }

// CUDA_SUCCEED_OR_RETURN returns the value of the variable 'bad' in
// scope.  By default, it will be this one.  Create a local variable
// of some other type if needed.  This is a bit of a hack, but it
// saves effort in the code generator.
static const int bad = 1;

static inline void cuda_api_succeed_fatal(CUresult res, const char *call,
                                          const char *file, int line) {
  if (res != CUDA_SUCCESS) {
    const char *err_str;
    cuGetErrorString(res, &err_str);
    if (err_str == NULL) { err_str = "Unknown"; }
    futhark_panic(-1, "%s:%d: CUDA call\n  %s\nfailed with error code %d (%s)\n",
                  file, line, call, res, err_str);
  }
}

static char* cuda_api_succeed_nonfatal(CUresult res, const char *call,
                                       const char *file, int line) {
  if (res != CUDA_SUCCESS) {
    const char *err_str;
    cuGetErrorString(res, &err_str);
    if (err_str == NULL) { err_str = "Unknown"; }
    return msgprintf("%s:%d: CUDA call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, res, err_str);
  } else {
    return NULL;
  }
}

static inline void nvrtc_api_succeed_fatal(nvrtcResult res, const char *call,
                                           const char *file, int line) {
  if (res != NVRTC_SUCCESS) {
    const char *err_str = nvrtcGetErrorString(res);
    futhark_panic(-1, "%s:%d: NVRTC call\n  %s\nfailed with error code %d (%s)\n",
                  file, line, call, res, err_str);
  }
}

static char* nvrtc_api_succeed_nonfatal(nvrtcResult res, const char *call,
                                        const char *file, int line) {
  if (res != NVRTC_SUCCESS) {
    const char *err_str = nvrtcGetErrorString(res);
    return msgprintf("%s:%d: NVRTC call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, res, err_str);
  } else {
    return NULL;
  }
}

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char* cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
  // Uniform fields above.

  char* program;
  int num_nvrtc_opts;
  char* *nvrtc_opts;

  char* preferred_device;
  int preferred_device_num;

  int unified_memory;

  char* dump_ptx_to;
  char* load_ptx_from;

  struct gpu_config gpu;
};

static void backend_context_config_setup(struct futhark_context_config *cfg) {
  cfg->num_nvrtc_opts = 0;
  cfg->nvrtc_opts = (char**) malloc(sizeof(char*));
  cfg->nvrtc_opts[0] = NULL;

  cfg->program = strconcat(gpu_program);

  cfg->preferred_device_num = 0;
  cfg->preferred_device = strdup("");

  cfg->dump_ptx_to = NULL;
  cfg->load_ptx_from = NULL;

  cfg->unified_memory = 2;

  cfg->gpu = gpu_config_initial;
  cfg->gpu.default_block_size = 256;
  cfg->gpu.default_tile_size = 32;
  cfg->gpu.default_reg_tile_size = 2;
  cfg->gpu.default_threshold = 32*1024;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  for (int i = 0; i < cfg->num_nvrtc_opts; i++) {
    free(cfg->nvrtc_opts[i]);
  }
  free(cfg->nvrtc_opts);
  free(cfg->dump_ptx_to);
  free(cfg->load_ptx_from);
  free(cfg->preferred_device);
  free(cfg->program);
}

void futhark_context_config_add_nvrtc_option(struct futhark_context_config *cfg, const char *opt) {
  cfg->nvrtc_opts[cfg->num_nvrtc_opts] = strdup(opt);
  cfg->num_nvrtc_opts++;
  cfg->nvrtc_opts = (char **) realloc(cfg->nvrtc_opts, (cfg->num_nvrtc_opts + 1) * sizeof(char *));
  cfg->nvrtc_opts[cfg->num_nvrtc_opts] = NULL;
}

void futhark_context_config_set_device(struct futhark_context_config *cfg, const char *s) {
  int x = 0;
  if (*s == '#') {
    s++;
    while (isdigit(*s)) {
      x = x * 10 + (*s++)-'0';
    }
    // Skip trailing spaces.
    while (isspace(*s)) {
      s++;
    }
  }
  free(cfg->preferred_device);
  cfg->preferred_device = strdup(s);
  cfg->preferred_device_num = x;
}

const char* futhark_context_config_get_program(struct futhark_context_config *cfg) {
  return cfg->program;
}

void futhark_context_config_set_program(struct futhark_context_config *cfg, const char *s) {
  free(cfg->program);
  cfg->program = strdup(s);
}

void futhark_context_config_dump_ptx_to(struct futhark_context_config *cfg, const char *path) {
  free(cfg->dump_ptx_to);
  cfg->dump_ptx_to = strdup(path);
}

void futhark_context_config_load_ptx_from(struct futhark_context_config *cfg, const char *path) {
  free(cfg->load_ptx_from);
  cfg->load_ptx_from = strdup(path);
}

void futhark_context_config_set_unified_memory(struct futhark_context_config* cfg, int flag) {
  cfg->unified_memory = flag;
}

// A record of something that happened.
struct profiling_record {
  cudaEvent_t *events; // Points to two events.
  const char *name;
};

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
  // Uniform fields above.

  CUdeviceptr global_failure;
  CUdeviceptr global_failure_args;
  struct tuning_params tuning_params;
  // True if a potentially failing kernel has been enqueued.
  int32_t failure_is_an_option;
  int total_runs;
  long int total_runtime;
  int64_t peak_mem_usage_device;
  int64_t cur_mem_usage_device;

  CUdevice dev;
  CUcontext cu_ctx;
  CUmodule module;
  CUstream stream;

  struct free_list gpu_free_list;

  size_t max_thread_block_size;
  size_t max_grid_size;
  size_t max_tile_size;
  size_t max_threshold;
  size_t max_shared_memory;
  size_t max_bespoke;
  size_t max_registers;
  size_t max_cache;

  size_t lockstep_width;

  struct builtin_kernels* kernels;
};

#define CU_DEV_ATTR(x) (CU_DEVICE_ATTRIBUTE_##x)
#define device_query(dev,attrib) _device_query(dev, CU_DEV_ATTR(attrib))
static int _device_query(CUdevice dev, CUdevice_attribute attrib) {
  int val;
  CUDA_SUCCEED_FATAL(cuDeviceGetAttribute(&val, attrib, dev));
  return val;
}

#define CU_FUN_ATTR(x) (CU_FUNC_ATTRIBUTE_##x)
#define function_query(fn,attrib) _function_query(dev, CU_FUN_ATTR(attrib))
static int _function_query(CUfunction dev, CUfunction_attribute attrib) {
  int val;
  CUDA_SUCCEED_FATAL(cuFuncGetAttribute(&val, attrib, dev));
  return val;
}

static int cuda_device_setup(struct futhark_context *ctx) {
  struct futhark_context_config *cfg = ctx->cfg;
  char name[256];
  int count, chosen = -1, best_cc = -1;
  int cc_major_best = 0, cc_minor_best = 0;
  int cc_major = 0, cc_minor = 0;
  CUdevice dev;

  CUDA_SUCCEED_FATAL(cuDeviceGetCount(&count));
  if (count == 0) { return 1; }

  int num_device_matches = 0;

  // XXX: Current device selection policy is to choose the device with the
  // highest compute capability (if no preferred device is set).
  // This should maybe be changed, since greater compute capability is not
  // necessarily an indicator of better performance.
  for (int i = 0; i < count; i++) {
    CUDA_SUCCEED_FATAL(cuDeviceGet(&dev, i));

    cc_major = device_query(dev, COMPUTE_CAPABILITY_MAJOR);
    cc_minor = device_query(dev, COMPUTE_CAPABILITY_MINOR);

    CUDA_SUCCEED_FATAL(cuDeviceGetName(name, sizeof(name) - 1, dev));
    name[sizeof(name) - 1] = 0;

    if (cfg->logging) {
      fprintf(ctx->log, "Device #%d: name=\"%s\", compute capability=%d.%d\n",
              i, name, cc_major, cc_minor);
    }

    if (device_query(dev, COMPUTE_MODE) == CU_COMPUTEMODE_PROHIBITED) {
      if (cfg->logging) {
        fprintf(ctx->log, "Device #%d is compute-prohibited, ignoring\n", i);
      }
      continue;
    }

    if (best_cc == -1 || cc_major > cc_major_best ||
        (cc_major == cc_major_best && cc_minor > cc_minor_best)) {
      best_cc = i;
      cc_major_best = cc_major;
      cc_minor_best = cc_minor;
    }

    if (strstr(name, cfg->preferred_device) != NULL &&
        num_device_matches++ == cfg->preferred_device_num) {
      chosen = i;
      break;
    }
  }

  if (chosen == -1) { chosen = best_cc; }
  if (chosen == -1) { return 1; }

  if (cfg->logging) {
    fprintf(ctx->log, "Using device #%d\n", chosen);
  }

  CUDA_SUCCEED_FATAL(cuDeviceGet(&ctx->dev, chosen));
  return 0;
}

static const char *cuda_nvrtc_get_arch(CUdevice dev) {
  static struct {
    int major;
    int minor;
    const char *arch_str;
  } const x[] = {
    { 3, 0, "compute_30" },
    { 3, 2, "compute_32" },
    { 3, 5, "compute_35" },
    { 3, 7, "compute_37" },
    { 5, 0, "compute_50" },
    { 5, 2, "compute_52" },
    { 5, 3, "compute_53" },
    { 6, 0, "compute_60" },
    { 6, 1, "compute_61" },
    { 6, 2, "compute_62" },
    { 7, 0, "compute_70" },
    { 7, 2, "compute_72" },
    { 7, 5, "compute_75" },
    { 8, 0, "compute_80" },
    { 8, 6, "compute_80" },
    { 8, 7, "compute_80" }
  };

  int major = device_query(dev, COMPUTE_CAPABILITY_MAJOR);
  int minor = device_query(dev, COMPUTE_CAPABILITY_MINOR);

  int chosen = -1;
  int num_archs = sizeof(x)/sizeof(x[0]);
  for (int i = 0; i < num_archs; i++) {
    if (x[i].major < major || (x[i].major == major && x[i].minor <= minor)) {
      chosen = i;
    } else {
      break;
    }
  }

  if (chosen == -1) {
    futhark_panic(-1, "Unsupported compute capability %d.%d\n", major, minor);
  }

  if (x[chosen].major != major || x[chosen].minor != minor) {
    fprintf(stderr,
            "Warning: device compute capability is %d.%d, but newest supported by Futhark is %d.%d.\n",
            major, minor, x[chosen].major, x[chosen].minor);
  }

  return x[chosen].arch_str;
}

static void cuda_nvrtc_mk_build_options(struct futhark_context *ctx, const char *extra_opts[],
                                        char*** opts_out, size_t *n_opts) {
  int arch_set = 0, num_extra_opts;
  struct futhark_context_config *cfg = ctx->cfg;

  char** macro_names;
  int64_t* macro_vals;
  int num_macros = gpu_macros(ctx, &macro_names, &macro_vals);

  // nvrtc cannot handle multiple -arch options.  Hence, if one of the
  // extra_opts is -arch, we have to be careful not to do our usual
  // automatic generation.
  for (num_extra_opts = 0; extra_opts[num_extra_opts] != NULL; num_extra_opts++) {
    if (strstr(extra_opts[num_extra_opts], "-arch")
        == extra_opts[num_extra_opts] ||
        strstr(extra_opts[num_extra_opts], "--gpu-architecture")
        == extra_opts[num_extra_opts]) {
      arch_set = 1;
    }
  }

  size_t i = 0, n_opts_alloc = 20 + num_macros + num_extra_opts + cfg->num_tuning_params;
  char **opts = (char**) malloc(n_opts_alloc * sizeof(char *));
  if (!arch_set) {
    opts[i++] = strdup("-arch");
    opts[i++] = strdup(cuda_nvrtc_get_arch(ctx->dev));
  }
  opts[i++] = strdup("-default-device");
  if (cfg->debugging) {
    opts[i++] = strdup("-G");
    opts[i++] = strdup("-lineinfo");
  } else {
    opts[i++] = strdup("--disable-warnings");
  }
  opts[i++] = msgprintf("-D%s=%d",
                        "max_thread_block_size",
                        (int)ctx->max_thread_block_size);
  opts[i++] = msgprintf("-D%s=%d",
                        "max_shared_memory",
                        (int)ctx->max_shared_memory);
  opts[i++] = msgprintf("-D%s=%d",
                        "max_registers",
                        (int)ctx->max_registers);

  for (int j = 0; j < num_macros; j++) {
    opts[i++] = msgprintf("-D%s=%zu", macro_names[j], macro_vals[j]);
  }

  for (int j = 0; j < cfg->num_tuning_params; j++) {
    opts[i++] = msgprintf("-D%s=%zu", cfg->tuning_param_vars[j],
                          cfg->tuning_params[j]);
  }
  opts[i++] = msgprintf("-DLOCKSTEP_WIDTH=%zu", ctx->lockstep_width);
  opts[i++] = msgprintf("-DMAX_THREADS_PER_BLOCK=%zu", ctx->max_thread_block_size);

  // Time for the best lines of the code in the entire compiler.
  if (getenv("CUDA_HOME") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_HOME"));
  }
  if (getenv("CUDA_ROOT") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_ROOT"));
  }
  if (getenv("CUDA_PATH") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_PATH"));
  }
  opts[i++] = msgprintf("-I/usr/local/cuda/include");
  opts[i++] = msgprintf("-I/usr/include");

  for (int j = 0; extra_opts[j] != NULL; j++) {
    opts[i++] = strdup(extra_opts[j]);
  }

  opts[i++] = msgprintf("-DTR_BLOCK_DIM=%d", TR_BLOCK_DIM);
  opts[i++] = msgprintf("-DTR_TILE_DIM=%d", TR_TILE_DIM);
  opts[i++] = msgprintf("-DTR_ELEMS_PER_THREAD=%d", TR_ELEMS_PER_THREAD);

  free(macro_names);
  free(macro_vals);

  *n_opts = i;
  *opts_out = opts;
}

static char* cuda_nvrtc_build(const char *src, const char *opts[], size_t n_opts,
                              char **ptx) {
  nvrtcProgram prog;
  char *problem = NULL;

  problem = NVRTC_SUCCEED_NONFATAL(nvrtcCreateProgram(&prog, src, "futhark-cuda", 0, NULL, NULL));

  if (problem) {
    return problem;
  }

  nvrtcResult res = nvrtcCompileProgram(prog, n_opts, opts);
  if (res != NVRTC_SUCCESS) {
    size_t log_size;
    if (nvrtcGetProgramLogSize(prog, &log_size) == NVRTC_SUCCESS) {
      char *log = (char*) malloc(log_size);
      if (nvrtcGetProgramLog(prog, log) == NVRTC_SUCCESS) {
        problem = msgprintf("NVRTC compilation failed.\n\n%s\n", log);
      } else {
        problem = msgprintf("Could not retrieve compilation log\n");
      }
      free(log);
    }
    return problem;
  }

  size_t ptx_size;
  NVRTC_SUCCEED_FATAL(nvrtcGetPTXSize(prog, &ptx_size));
  *ptx = (char*) malloc(ptx_size);
  NVRTC_SUCCEED_FATAL(nvrtcGetPTX(prog, *ptx));

  NVRTC_SUCCEED_FATAL(nvrtcDestroyProgram(&prog));

  return NULL;
}

static void cuda_load_ptx_from_cache(struct futhark_context_config *cfg,
                                     const char *src,
                                     const char *opts[], size_t n_opts,
                                     struct cache_hash *h, const char *cache_fname,
                                     char **ptx) {
  if (cfg->logging) {
    fprintf(stderr, "Restoring cache from from %s...\n", cache_fname);
  }
  cache_hash_init(h);
  for (size_t i = 0; i < n_opts; i++) {
    cache_hash(h, opts[i], strlen(opts[i]));
  }
  cache_hash(h, src, strlen(src));
  size_t ptxsize;
  errno = 0;
  if (cache_restore(cache_fname, h, (unsigned char**)ptx, &ptxsize) != 0) {
    if (cfg->logging) {
      fprintf(stderr, "Failed to restore cache (errno: %s)\n", strerror(errno));
    }
  }
}

static void cuda_size_setup(struct futhark_context *ctx)
{
  struct futhark_context_config *cfg = ctx->cfg;
  if (cfg->gpu.default_block_size > ctx->max_thread_block_size) {
    if (cfg->gpu.default_block_size_changed) {
      fprintf(stderr,
              "Note: Device limits default block size to %zu (down from %zu).\n",
              ctx->max_thread_block_size, cfg->gpu.default_block_size);
    }
    cfg->gpu.default_block_size = ctx->max_thread_block_size;
  }
  if (cfg->gpu.default_grid_size > ctx->max_grid_size) {
    if (cfg->gpu.default_grid_size_changed) {
      fprintf(stderr,
              "Note: Device limits default grid size to %zu (down from %zu).\n",
              ctx->max_grid_size, cfg->gpu.default_grid_size);
    }
    cfg->gpu.default_grid_size = ctx->max_grid_size;
  }
  if (cfg->gpu.default_tile_size > ctx->max_tile_size) {
    if (cfg->gpu.default_tile_size_changed) {
      fprintf(stderr,
              "Note: Device limits default tile size to %zu (down from %zu).\n",
              ctx->max_tile_size, cfg->gpu.default_tile_size);
    }
    cfg->gpu.default_tile_size = ctx->max_tile_size;
  }

  if (!cfg->gpu.default_grid_size_changed) {
    cfg->gpu.default_grid_size =
      (device_query(ctx->dev, MULTIPROCESSOR_COUNT) *
       device_query(ctx->dev, MAX_THREADS_PER_MULTIPROCESSOR))
      / cfg->gpu.default_block_size;
  }

  for (int i = 0; i < cfg->num_tuning_params; i++) {
    const char *size_class = cfg->tuning_param_classes[i];
    int64_t *size_value = &cfg->tuning_params[i];
    const char* size_name = cfg->tuning_param_names[i];
    int64_t max_value = 0, default_value = 0;

    if (strstr(size_class, "thread_block_size") == size_class) {
      max_value = ctx->max_thread_block_size;
      default_value = cfg->gpu.default_block_size;
    } else if (strstr(size_class, "grid_size") == size_class) {
      max_value = ctx->max_grid_size;
      default_value = cfg->gpu.default_grid_size;
      // XXX: as a quick and dirty hack, use twice as many threads for
      // histograms by default.  We really should just be smarter
      // about sizes somehow.
      if (strstr(size_name, ".seghist_") != NULL) {
        default_value *= 2;
      }
    } else if (strstr(size_class, "tile_size") == size_class) {
      max_value = ctx->max_tile_size;
      default_value = cfg->gpu.default_tile_size;
    } else if (strstr(size_class, "reg_tile_size") == size_class) {
      max_value = 0; // No limit.
      default_value = cfg->gpu.default_reg_tile_size;
    } else if (strstr(size_class, "shared_memory") == size_class) {
      max_value = ctx->max_shared_memory;
      default_value = ctx->max_shared_memory;
    } else if (strstr(size_class, "cache") == size_class) {
      max_value = ctx->max_cache;
      default_value = ctx->max_cache;
    } else if (strstr(size_class, "threshold") == size_class) {
      // Threshold can be as large as it takes.
      default_value = cfg->gpu.default_threshold;
    } else {
      // Bespoke sizes have no limit or default.
    }

    if (*size_value == 0) {
      *size_value = default_value;
    } else if (max_value > 0 && *size_value > max_value) {
      fprintf(stderr, "Note: Device limits %s to %zu (down from %zu)\n",
              size_name, max_value, *size_value);
      *size_value = max_value;
    }
  }
}

static char* cuda_module_setup(struct futhark_context *ctx,
                               const char *src,
                               const char *extra_opts[],
                               const char* cache_fname) {
  char *ptx = NULL;
  struct futhark_context_config *cfg = ctx->cfg;

  if (cfg->load_ptx_from) {
    ptx = slurp_file(cfg->load_ptx_from, NULL);
  }

  char **opts;
  size_t n_opts;
  cuda_nvrtc_mk_build_options(ctx, extra_opts, &opts, &n_opts);

  if (cfg->logging) {
    fprintf(stderr, "NVRTC compile options:\n");
    for (size_t j = 0; j < n_opts; j++) {
      fprintf(stderr, "\t%s\n", opts[j]);
    }
    fprintf(stderr, "\n");
  }

  struct cache_hash h;
  int loaded_ptx_from_cache = 0;
  if (cache_fname != NULL) {
    cuda_load_ptx_from_cache(cfg, src, (const char**)opts, n_opts, &h, cache_fname, &ptx);

    if (ptx != NULL) {
      if (cfg->logging) {
        fprintf(stderr, "Restored PTX from cache; now loading module...\n");
      }
      if (cuModuleLoadData(&ctx->module, ptx) == CUDA_SUCCESS) {
        if (cfg->logging) {
          fprintf(stderr, "Success!\n");
        }
        loaded_ptx_from_cache = 1;
      } else {
        if (cfg->logging) {
          fprintf(stderr, "Failed!\n");
        }
        free(ptx);
        ptx = NULL;
      }
    }
  }

  if (ptx == NULL) {
    char* problem = cuda_nvrtc_build(src, (const char**)opts, n_opts, &ptx);
    if (problem != NULL) {
      return problem;
    }
  }

  if (cfg->dump_ptx_to != NULL) {
    dump_file(cfg->dump_ptx_to, ptx, strlen(ptx));
  }

  if (!loaded_ptx_from_cache) {
    CUDA_SUCCEED_FATAL(cuModuleLoadData(&ctx->module, ptx));
  }

  if (cache_fname != NULL && !loaded_ptx_from_cache) {
    if (cfg->logging) {
      fprintf(stderr, "Caching PTX in %s...\n", cache_fname);
    }
    errno = 0;
    if (cache_store(cache_fname, &h, (const unsigned char*)ptx, strlen(ptx)) != 0) {
      fprintf(stderr, "Failed to cache PTX: %s\n", strerror(errno));
    }
  }

  for (size_t i = 0; i < n_opts; i++) {
    free((char *)opts[i]);
  }
  free(opts);
  free(ptx);

  return NULL;
}

struct cuda_event {
  cudaEvent_t start;
  cudaEvent_t end;
};

static struct cuda_event* cuda_event_new(struct futhark_context* ctx) {
  if (ctx->profiling && !ctx->profiling_paused) {
    struct cuda_event* e = malloc(sizeof(struct cuda_event));
    cudaEventCreate(&e->start);
    cudaEventCreate(&e->end);
    return e;
  } else {
    return NULL;
  }
}

static int cuda_event_report(struct str_builder* sb, struct cuda_event* e) {
  float ms;
  CUresult err;
  if ((err = cuEventElapsedTime(&ms, e->start, e->end)) != CUDA_SUCCESS) {
    return err;
  }

  // CUDA provides milisecond resolution, but we want microseconds.
  str_builder(sb, ",\"duration\":%f", ms*1000);

  if ((err = cuEventDestroy(e->start)) != CUDA_SUCCESS) {
    return 1;
  }

  if ((err = cuEventDestroy(e->end)) != CUDA_SUCCESS) {
    return 1;
  }

  free(e);

  return 0;
}

int futhark_context_sync(struct futhark_context* ctx) {
  CUDA_SUCCEED_OR_RETURN(cuCtxPushCurrent(ctx->cu_ctx));
  CUDA_SUCCEED_OR_RETURN(cuCtxSynchronize());
  if (ctx->failure_is_an_option) {
    // Check for any delayed error.
    int32_t failure_idx;
    CUDA_SUCCEED_OR_RETURN(
                           cuMemcpyDtoH(&failure_idx,
                                        ctx->global_failure,
                                        sizeof(int32_t)));
    ctx->failure_is_an_option = 0;

    if (failure_idx >= 0) {
      // We have to clear global_failure so that the next entry point
      // is not considered a failure from the start.
      int32_t no_failure = -1;
      CUDA_SUCCEED_OR_RETURN(
                             cuMemcpyHtoD(ctx->global_failure,
                                          &no_failure,
                                          sizeof(int32_t)));

      int64_t args[max_failure_args+1];
      CUDA_SUCCEED_OR_RETURN(
                             cuMemcpyDtoH(&args,
                                          ctx->global_failure_args,
                                          sizeof(args)));

      ctx->error = get_failure_msg(failure_idx, args);

      return FUTHARK_PROGRAM_ERROR;
    }
  }

  CUDA_SUCCEED_OR_RETURN(cuCtxPopCurrent(&ctx->cu_ctx));
  return 0;
}

struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx);
void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels);

int backend_context_setup(struct futhark_context* ctx) {
  ctx->failure_is_an_option = 0;
  ctx->total_runs = 0;
  ctx->total_runtime = 0;
  ctx->peak_mem_usage_device = 0;
  ctx->cur_mem_usage_device = 0;
  ctx->kernels = NULL;

  CUDA_SUCCEED_FATAL(cuInit(0));
  if (cuda_device_setup(ctx) != 0) {
    futhark_panic(-1, "No suitable CUDA device found.\n");
  }
  CUDA_SUCCEED_FATAL(cuCtxCreate(&ctx->cu_ctx, 0, ctx->dev));

  free_list_init(&ctx->gpu_free_list);

  if (ctx->cfg->unified_memory == 2) {
    ctx->cfg->unified_memory = device_query(ctx->dev, MANAGED_MEMORY);
  }

  if (ctx->cfg->logging) {
    if (ctx->cfg->unified_memory) {
      fprintf(ctx->log, "Using managed memory\n");
    } else {
      fprintf(ctx->log, "Using unmanaged memory\n");
    }
  }

  ctx->max_thread_block_size = device_query(ctx->dev, MAX_THREADS_PER_BLOCK);
  ctx->max_grid_size = device_query(ctx->dev, MAX_GRID_DIM_X);
  ctx->max_tile_size = sqrt(ctx->max_thread_block_size);
  ctx->max_threshold = 1U<<31; // No limit.
  ctx->max_bespoke = 1U<<31; // No limit.

  if (ctx->cfg->gpu.default_registers != 0) {
    ctx->max_registers = ctx->cfg->gpu.default_registers;
  } else {
    ctx->max_registers = device_query(ctx->dev, MAX_REGISTERS_PER_BLOCK);
  }

  if (ctx->cfg->gpu.default_shared_memory != 0) {
    ctx->max_shared_memory = ctx->cfg->gpu.default_shared_memory;
  } else {
    // MAX_SHARED_MEMORY_PER_BLOCK gives bogus numbers (48KiB); probably
    // for backwards compatibility.  Add _OPTIN and you seem to get the
    // right number.
    ctx->max_shared_memory = device_query(ctx->dev, MAX_SHARED_MEMORY_PER_BLOCK_OPTIN);
#if CUDART_VERSION >= 12000
    ctx->max_shared_memory -= device_query(ctx->dev, RESERVED_SHARED_MEMORY_PER_BLOCK);
#endif
  }

  if (ctx->cfg->gpu.default_cache != 0) {
    ctx->max_cache = ctx->cfg->gpu.default_cache;
  } else {
    ctx->max_cache = device_query(ctx->dev, L2_CACHE_SIZE);
  }

  ctx->lockstep_width = device_query(ctx->dev, WARP_SIZE);
  CUDA_SUCCEED_FATAL(cuStreamCreate(&ctx->stream, CU_STREAM_DEFAULT));
  cuda_size_setup(ctx);

  gpu_init_log(ctx);

  ctx->error = cuda_module_setup(ctx,
                                 ctx->cfg->program,
                                 (const char**)ctx->cfg->nvrtc_opts,
                                 ctx->cfg->cache_fname);

  if (ctx->error != NULL) {
    futhark_panic(1, "During CUDA initialisation:\n%s\n", ctx->error);
  }

  int32_t no_error = -1;
  CUDA_SUCCEED_FATAL(cuMemAlloc(&ctx->global_failure, sizeof(no_error)));
  CUDA_SUCCEED_FATAL(cuMemcpyHtoD(ctx->global_failure, &no_error, sizeof(no_error)));
  // The +1 is to avoid zero-byte allocations.
  CUDA_SUCCEED_FATAL(cuMemAlloc(&ctx->global_failure_args, sizeof(int64_t)*(max_failure_args+1)));

  if ((ctx->kernels = init_builtin_kernels(ctx)) == NULL) {
    return 1;
  }

  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  if (ctx->kernels != NULL) {
    free_builtin_kernels(ctx, ctx->kernels);
    cuMemFree(ctx->global_failure);
    cuMemFree(ctx->global_failure_args);
    CUDA_SUCCEED_FATAL(gpu_free_all(ctx));
    CUDA_SUCCEED_FATAL(cuStreamDestroy(ctx->stream));
    CUDA_SUCCEED_FATAL(cuModuleUnload(ctx->module));
    CUDA_SUCCEED_FATAL(cuCtxDestroy(ctx->cu_ctx));
  }
  free_list_destroy(&ctx->gpu_free_list);
}

// GPU ABSTRACTION LAYER

// Types.

typedef CUfunction gpu_kernel;
typedef CUdeviceptr gpu_mem;

static void gpu_create_kernel(struct futhark_context *ctx,
                              gpu_kernel* kernel,
                              const char* name) {
  if (ctx->debugging) {
    fprintf(ctx->log, "Creating kernel %s.\n", name);
  }
  CUDA_SUCCEED_FATAL(cuModuleGetFunction(kernel, ctx->module, name));
  // Unless the below is set, the kernel is limited to 48KiB of memory.
  CUDA_SUCCEED_FATAL(cuFuncSetAttribute(*kernel,
                                        cudaFuncAttributeMaxDynamicSharedMemorySize,
                                        ctx->max_shared_memory));
}

static void gpu_free_kernel(struct futhark_context *ctx,
                            gpu_kernel kernel) {
  (void)ctx;
  (void)kernel;
}

static int gpu_scalar_to_device(struct futhark_context* ctx,
                                gpu_mem dst, size_t offset, size_t size,
                                void *src) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_scalar_to_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyHtoD(dst + offset, src, size));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int gpu_scalar_from_device(struct futhark_context* ctx,
                                  void *dst,
                                  gpu_mem src, size_t offset, size_t size) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_scalar_from_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(dst, src + offset, size));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int gpu_memcpy(struct futhark_context* ctx,
                      gpu_mem dst, int64_t dst_offset,
                      gpu_mem src, int64_t src_offset,
                      int64_t nbytes) {
  struct cuda_event *event = cuda_event_new(ctx);
  if (event != NULL) {
    add_event(ctx,
              "copy_dev_to_dev",
              strdup(""),
              event,
              (event_report_fn)cuda_event_report);
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
  }
  CUDA_SUCCEED_OR_RETURN(cuMemcpyAsync(dst+dst_offset, src+src_offset, nbytes, ctx->stream));
  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }
  return FUTHARK_SUCCESS;
}

static int memcpy_host2gpu(struct futhark_context* ctx, bool sync,
                           gpu_mem dst, int64_t dst_offset,
                           const unsigned char* src, int64_t src_offset,
                           int64_t nbytes) {
  if (nbytes > 0) {
    struct cuda_event *event = cuda_event_new(ctx);
    if (event != NULL) {
      add_event(ctx,
                "copy_host_to_dev",
                strdup(""),
                event,
                (event_report_fn)cuda_event_report);
      CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    }
    if (sync) {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyHtoD(dst + dst_offset, src + src_offset, nbytes));
    } else {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyHtoDAsync(dst + dst_offset, src + src_offset, nbytes, ctx->stream));
    }
    if (event != NULL) {
      CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
    }
  }
  return FUTHARK_SUCCESS;
}

static int memcpy_gpu2host(struct futhark_context* ctx, bool sync,
                           unsigned char* dst, int64_t dst_offset,
                           gpu_mem src, int64_t src_offset,
                           int64_t nbytes) {
  if (nbytes > 0) {
    struct cuda_event *event = cuda_event_new(ctx);
    if (event != NULL) {
      add_event(ctx,
                "copy_dev_to_host",
                strdup(""),
                event,
                (event_report_fn)cuda_event_report);
      CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    }
    if (sync) {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyDtoH(dst + dst_offset, src + src_offset, nbytes));
    } else {
      CUDA_SUCCEED_OR_RETURN
        (cuMemcpyDtoHAsync(dst + dst_offset, src + src_offset, nbytes, ctx->stream));
    }
    if (event != NULL) {
      CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
    }
    if (sync &&
        ctx->failure_is_an_option &&
        futhark_context_sync(ctx) != 0) {
      return 1;
    }
  }
  return FUTHARK_SUCCESS;
}

static int gpu_launch_kernel(struct futhark_context* ctx,
                             gpu_kernel kernel, const char *name,
                             const int32_t grid[3],
                             const int32_t block[3],
                             unsigned int shared_mem_bytes,
                             int num_args,
                             void* args[num_args],
                             size_t args_sizes[num_args]) {
  (void) args_sizes;

  if (shared_mem_bytes > ctx->max_shared_memory) {
    set_error(ctx, msgprintf("Kernel %s with %d bytes of memory exceeds device limit of %d\n",
                             name, shared_mem_bytes, (int)ctx->max_shared_memory));
    return 1;
  }

  int64_t time_start = 0, time_end = 0;
  if (ctx->debugging) {
    time_start = get_wall_time();
  }

  struct cuda_event *event = cuda_event_new(ctx);

  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->start, ctx->stream));
    add_event(ctx,
              name,
              msgprintf("Kernel %s with\n"
                        "  grid=(%d,%d,%d)\n"
                        "  block=(%d,%d,%d)\n"
                        "  shared memory=%d",
                        name,
                        grid[0], grid[1], grid[2],
                        block[0], block[1], block[2],
                        shared_mem_bytes),
              event,
              (event_report_fn)cuda_event_report);
  }

  CUDA_SUCCEED_OR_RETURN
    (cuLaunchKernel(kernel,
                    grid[0], grid[1], grid[2],
                    block[0], block[1], block[2],
                    shared_mem_bytes, ctx->stream,
                    args, NULL));

  if (event != NULL) {
    CUDA_SUCCEED_FATAL(cuEventRecord(event->end, ctx->stream));
  }

  if (ctx->debugging) {
    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
    time_end = get_wall_time();
    long int time_diff = time_end - time_start;
    fprintf(ctx->log, "  runtime: %ldus\n", time_diff);
  }
  if (ctx->logging) {
    fprintf(ctx->log, "\n");
  }

  return FUTHARK_SUCCESS;
}

static int gpu_alloc_actual(struct futhark_context *ctx, size_t size, gpu_mem *mem_out) {
  CUresult res;
  if (ctx->cfg->unified_memory) {
    res = cuMemAllocManaged(mem_out, size, CU_MEM_ATTACH_GLOBAL);
  } else {
    res = cuMemAlloc(mem_out, size);
  }

  if (res == CUDA_ERROR_OUT_OF_MEMORY) {
    return FUTHARK_OUT_OF_MEMORY;
  }

  CUDA_SUCCEED_OR_RETURN(res);
  return FUTHARK_SUCCESS;
}

static int gpu_free_actual(struct futhark_context *ctx, gpu_mem mem) {
  (void)ctx;
  CUDA_SUCCEED_OR_RETURN(cuMemFree(mem));
  return FUTHARK_SUCCESS;
}

// End of backends/cuda.h.

// Start of gpu.h

// Generic functions that use our tiny GPU abstraction layer.  The
// entire context must be defined before this header is included.  In
// particular we expect the following functions to be available:

static int gpu_free_actual(struct futhark_context *ctx, gpu_mem mem);
static int gpu_alloc_actual(struct futhark_context *ctx, size_t size, gpu_mem *mem_out);
int gpu_launch_kernel(struct futhark_context* ctx,
                      gpu_kernel kernel, const char *name,
                      const int32_t grid[3],
                      const int32_t block[3],
                      unsigned int shared_mem_bytes,
                      int num_args,
                      void* args[num_args],
                      size_t args_sizes[num_args]);
int gpu_memcpy(struct futhark_context* ctx,
               gpu_mem dst, int64_t dst_offset,
               gpu_mem src, int64_t src_offset,
               int64_t nbytes);
int gpu_scalar_from_device(struct futhark_context* ctx,
                           void *dst,
                           gpu_mem src, size_t offset, size_t size);
int gpu_scalar_to_device(struct futhark_context* ctx,
                         gpu_mem dst, size_t offset, size_t size,
                         void *src);
void gpu_create_kernel(struct futhark_context *ctx,
                       gpu_kernel* kernel,
                       const char* name);

static void gpu_init_log(struct futhark_context *ctx) {
  if (ctx->cfg->logging) {
    fprintf(ctx->log, "Default block size: %ld\n", (long)ctx->cfg->gpu.default_block_size);
    fprintf(ctx->log, "Default grid size: %ld\n", (long)ctx->cfg->gpu.default_grid_size);
    fprintf(ctx->log, "Default tile size: %ld\n", (long)ctx->cfg->gpu.default_tile_size);
    fprintf(ctx->log, "Default register tile size: %ld\n", (long)ctx->cfg->gpu.default_reg_tile_size);
    fprintf(ctx->log, "Default cache: %ld\n", (long)ctx->cfg->gpu.default_cache);
    fprintf(ctx->log, "Default registers: %ld\n", (long)ctx->cfg->gpu.default_registers);
    fprintf(ctx->log, "Default threshold: %ld\n", (long)ctx->cfg->gpu.default_threshold);
    fprintf(ctx->log, "Max thread block size: %ld\n", (long)ctx->max_thread_block_size);
    fprintf(ctx->log, "Max grid size: %ld\n", (long)ctx->max_grid_size);
    fprintf(ctx->log, "Max tile size: %ld\n", (long)ctx->max_tile_size);
    fprintf(ctx->log, "Max threshold: %ld\n", (long)ctx->max_threshold);
    fprintf(ctx->log, "Max shared memory: %ld\n", (long)ctx->max_shared_memory);
    fprintf(ctx->log, "Max registers: %ld\n", (long)ctx->max_registers);
    fprintf(ctx->log, "Max cache: %ld\n", (long)ctx->max_cache);
    fprintf(ctx->log, "Lockstep width: %ld\n", (long)ctx->lockstep_width);
  }
}

// Generic GPU command line options.

void futhark_context_config_set_default_thread_block_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_block_size = size;
  cfg->gpu.default_block_size_changed = 1;
}

void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg, int size) {
  futhark_context_config_set_default_thread_block_size(cfg, size);
}

void futhark_context_config_set_default_grid_size(struct futhark_context_config *cfg, int num) {
  cfg->gpu.default_grid_size = num;
  cfg->gpu.default_grid_size_changed = 1;
}

void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg, int num) {
  futhark_context_config_set_default_grid_size(cfg, num);
}

void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_tile_size = size;
  cfg->gpu.default_tile_size_changed = 1;
}

void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_reg_tile_size = size;
}

void futhark_context_config_set_default_cache(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_cache = size;
}

void futhark_context_config_set_default_registers(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_registers = size;
}

void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg, int size) {
  cfg->gpu.default_threshold = size;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg,
                                            const char *param_name,
                                            size_t new_value) {
  for (int i = 0; i < cfg->num_tuning_params; i++) {
    if (strcmp(param_name, cfg->tuning_param_names[i]) == 0) {
      cfg->tuning_params[i] = new_value;
      return 0;
    }
  }
  if (strcmp(param_name, "default_thread_block_size") == 0 ||
      strcmp(param_name, "default_group_size") == 0) {
    cfg->gpu.default_block_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_grid_size") == 0 ||
      strcmp(param_name, "default_num_groups") == 0) {
    cfg->gpu.default_grid_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_threshold") == 0) {
    cfg->gpu.default_threshold = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_tile_size") == 0) {
    cfg->gpu.default_tile_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_reg_tile_size") == 0) {
    cfg->gpu.default_reg_tile_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_cache") == 0) {
    cfg->gpu.default_cache = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_shared_memory") == 0) {
    cfg->gpu.default_shared_memory = new_value;
    return 0;
  }

  return 1;
}

// End of GPU command line optiopns.

// Max number of thead blocks we allow along the second or third
// dimension for transpositions.
#define MAX_TR_THREAD_BLOCKS 65535

struct builtin_kernels {
  // We have a lot of ways to transpose arrays.
  gpu_kernel map_transpose_1b;
  gpu_kernel map_transpose_1b_low_height;
  gpu_kernel map_transpose_1b_low_width;
  gpu_kernel map_transpose_1b_small;
  gpu_kernel map_transpose_1b_large;
  gpu_kernel map_transpose_2b;
  gpu_kernel map_transpose_2b_low_height;
  gpu_kernel map_transpose_2b_low_width;
  gpu_kernel map_transpose_2b_small;
  gpu_kernel map_transpose_2b_large;
  gpu_kernel map_transpose_4b;
  gpu_kernel map_transpose_4b_low_height;
  gpu_kernel map_transpose_4b_low_width;
  gpu_kernel map_transpose_4b_small;
  gpu_kernel map_transpose_4b_large;
  gpu_kernel map_transpose_8b;
  gpu_kernel map_transpose_8b_low_height;
  gpu_kernel map_transpose_8b_low_width;
  gpu_kernel map_transpose_8b_small;
  gpu_kernel map_transpose_8b_large;

  // And a few ways of copying.
  gpu_kernel lmad_copy_1b;
  gpu_kernel lmad_copy_2b;
  gpu_kernel lmad_copy_4b;
  gpu_kernel lmad_copy_8b;
};

struct builtin_kernels* init_builtin_kernels(struct futhark_context* ctx) {
  struct builtin_kernels *kernels = malloc(sizeof(struct builtin_kernels));
  gpu_create_kernel(ctx, &kernels->map_transpose_1b, "map_transpose_1b");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_large, "map_transpose_1b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_low_height, "map_transpose_1b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_low_width, "map_transpose_1b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_1b_small, "map_transpose_1b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_2b, "map_transpose_2b");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_large, "map_transpose_2b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_low_height, "map_transpose_2b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_low_width, "map_transpose_2b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_2b_small, "map_transpose_2b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_4b, "map_transpose_4b");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_large, "map_transpose_4b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_low_height, "map_transpose_4b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_low_width, "map_transpose_4b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_4b_small, "map_transpose_4b_small");

  gpu_create_kernel(ctx, &kernels->map_transpose_8b, "map_transpose_8b");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_large, "map_transpose_8b_large");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_low_height, "map_transpose_8b_low_height");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_low_width, "map_transpose_8b_low_width");
  gpu_create_kernel(ctx, &kernels->map_transpose_8b_small, "map_transpose_8b_small");

  gpu_create_kernel(ctx, &kernels->lmad_copy_1b, "lmad_copy_1b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_2b, "lmad_copy_2b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_4b, "lmad_copy_4b");
  gpu_create_kernel(ctx, &kernels->lmad_copy_8b, "lmad_copy_8b");

  return kernels;
}

void free_builtin_kernels(struct futhark_context* ctx, struct builtin_kernels* kernels) {
  gpu_free_kernel(ctx, kernels->map_transpose_1b);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_1b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_2b);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_2b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_4b);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_4b_small);

  gpu_free_kernel(ctx, kernels->map_transpose_8b);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_large);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_low_height);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_low_width);
  gpu_free_kernel(ctx, kernels->map_transpose_8b_small);

  gpu_free_kernel(ctx, kernels->lmad_copy_1b);
  gpu_free_kernel(ctx, kernels->lmad_copy_2b);
  gpu_free_kernel(ctx, kernels->lmad_copy_4b);
  gpu_free_kernel(ctx, kernels->lmad_copy_8b);

  free(kernels);
}

static int gpu_alloc(struct futhark_context *ctx, FILE *log,
                     size_t min_size, const char *tag,
                     gpu_mem *mem_out, size_t *size_out) {
  if (min_size < sizeof(int)) {
    min_size = sizeof(int);
  }

  gpu_mem* memptr;
  if (free_list_find(&ctx->gpu_free_list, min_size, tag, size_out, (fl_mem*)&memptr) == 0) {
    // Successfully found a free block.  Is it big enough?
    if (*size_out >= min_size) {
      if (ctx->cfg->debugging) {
        fprintf(log, "No need to allocate: Found a block in the free list.\n");
      }
      *mem_out = *memptr;
      free(memptr);
      return FUTHARK_SUCCESS;
    } else {
      if (ctx->cfg->debugging) {
        fprintf(log, "Found a free block, but it was too small.\n");
      }
      int error = gpu_free_actual(ctx, *memptr);
      free(memptr);
      if (error != FUTHARK_SUCCESS) {
        return error;
      }
    }
  }

  *size_out = min_size;

  // We have to allocate a new block from the driver.  If the
  // allocation does not succeed, then we might be in an out-of-memory
  // situation.  We now start freeing things from the free list until
  // we think we have freed enough that the allocation will succeed.
  // Since we don't know how far the allocation is from fitting, we
  // have to check after every deallocation.  This might be pretty
  // expensive.  Let's hope that this case is hit rarely.

  if (ctx->cfg->debugging) {
    fprintf(log, "Actually allocating the desired block.\n");
  }

  int error = gpu_alloc_actual(ctx, min_size, mem_out);

  while (error == FUTHARK_OUT_OF_MEMORY) {
    if (ctx->cfg->debugging) {
      fprintf(log, "Out of GPU memory: releasing entry from the free list...\n");
    }
    gpu_mem* memptr;
    if (free_list_first(&ctx->gpu_free_list, (fl_mem*)&memptr) == 0) {
      gpu_mem mem = *memptr;
      free(memptr);
      error = gpu_free_actual(ctx, mem);
      if (error != FUTHARK_SUCCESS) {
        return error;
      }
    } else {
      break;
    }
    error = gpu_alloc_actual(ctx, min_size, mem_out);
  }

  return error;
}

static int gpu_free(struct futhark_context *ctx,
                    gpu_mem mem, size_t size, const char *tag) {
  gpu_mem* memptr = malloc(sizeof(gpu_mem));
  *memptr = mem;
  free_list_insert(&ctx->gpu_free_list, size, (fl_mem)memptr, tag);
  return FUTHARK_SUCCESS;
}

static int gpu_free_all(struct futhark_context *ctx) {
  free_list_pack(&ctx->gpu_free_list);
  gpu_mem* memptr;
  while (free_list_first(&ctx->gpu_free_list, (fl_mem*)&memptr) == 0) {
    gpu_mem mem = *memptr;
    free(memptr);
    int error = gpu_free_actual(ctx, mem);
    if (error != FUTHARK_SUCCESS) {
      return error;
    }
  }

  return FUTHARK_SUCCESS;
}

static int gpu_map_transpose(struct futhark_context* ctx,
                             gpu_kernel kernel_default,
                             gpu_kernel kernel_low_height,
                             gpu_kernel kernel_low_width,
                             gpu_kernel kernel_small,
                             gpu_kernel kernel_large,
                             const char *name, size_t elem_size,
                             gpu_mem dst, int64_t dst_offset,
                             gpu_mem src, int64_t src_offset,
                             int64_t k, int64_t n, int64_t m) {
  int64_t mulx = TR_BLOCK_DIM / n;
  int64_t muly = TR_BLOCK_DIM / m;
  int32_t mulx32 = mulx;
  int32_t muly32 = muly;
  int32_t k32 = k;
  int32_t n32 = n;
  int32_t m32 = m;

  gpu_kernel kernel = kernel_default;
  int32_t grid[3];
  int32_t block[3];

  void* args[11];
  size_t args_sizes[11] = {
    sizeof(gpu_mem), sizeof(int64_t),
    sizeof(gpu_mem), sizeof(int64_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t),
    sizeof(int32_t)
  };

  args[0] = &dst;
  args[1] = &dst_offset;
  args[2] = &src;
  args[3] = &src_offset;
  args[7] = &mulx;
  args[8] = &muly;

  if (dst_offset + k * n * m <= 2147483647L &&
      src_offset + k * n * m <= 2147483647L) {
    if (m <= TR_BLOCK_DIM/2 && n <= TR_BLOCK_DIM/2) {
      if (ctx->logging) { fprintf(ctx->log, "Using small kernel\n"); }
      kernel = kernel_small;
      grid[0] = ((k * n * m) + (TR_BLOCK_DIM*TR_BLOCK_DIM) - 1) / (TR_BLOCK_DIM*TR_BLOCK_DIM);
      grid[1] = 1;
      grid[2] = 1;
      block[0] = TR_BLOCK_DIM*TR_BLOCK_DIM;
      block[1] = 1;
      block[2] = 1;
    } else if (m <= TR_BLOCK_DIM/2 && TR_BLOCK_DIM < n) {
      if (ctx->logging) { fprintf(ctx->log, "Using low-width kernel\n"); }
      kernel = kernel_low_width;
      int64_t x_elems = m;
      int64_t y_elems = (n + muly - 1) / muly;
      grid[0] = (x_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[1] = (y_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[2] = k;
      block[0] = TR_BLOCK_DIM;
      block[1] = TR_BLOCK_DIM;
      block[2] = 1;
    } else if (n <= TR_BLOCK_DIM/2 && TR_BLOCK_DIM < m) {
      if (ctx->logging) { fprintf(ctx->log, "Using low-height kernel\n"); }
      kernel = kernel_low_height;
      int64_t x_elems = (m + mulx - 1) / mulx;
      int64_t y_elems = n;
      grid[0] = (x_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[1] = (y_elems + TR_BLOCK_DIM - 1) / TR_BLOCK_DIM;
      grid[2] = k;
      block[0] = TR_BLOCK_DIM;
      block[1] = TR_BLOCK_DIM;
      block[2] = 1;
    } else {
      if (ctx->logging) { fprintf(ctx->log, "Using default kernel\n"); }
      kernel = kernel_default;
      grid[0] = (m+TR_TILE_DIM-1)/TR_TILE_DIM;
      grid[1] = (n+TR_TILE_DIM-1)/TR_TILE_DIM;
      grid[2] = k;
      block[0] = TR_TILE_DIM;
      block[1] = TR_TILE_DIM/TR_ELEMS_PER_THREAD;
      block[2] = 1;
    }
    args[4] = &k32;
    args[5] = &m32;
    args[6] = &n32;
    args[7] = &mulx32;
    args[8] = &muly32;
  } else {
    if (ctx->logging) { fprintf(ctx->log, "Using large kernel\n"); }
    kernel = kernel_large;
    grid[0] = (m+TR_TILE_DIM-1)/TR_TILE_DIM;
    grid[1] = (n+TR_TILE_DIM-1)/TR_TILE_DIM;
    grid[2] = k;
    block[0] = TR_TILE_DIM;
    block[1] = TR_TILE_DIM/TR_ELEMS_PER_THREAD;
    block[2] = 1;
    args[4] = &k;
    args[5] = &m;
    args[6] = &n;
    args[7] = &mulx;
    args[8] = &muly;
    args_sizes[4] = sizeof(int64_t);
    args_sizes[5] = sizeof(int64_t);
    args_sizes[6] = sizeof(int64_t);
    args_sizes[7] = sizeof(int64_t);
    args_sizes[8] = sizeof(int64_t);
  }

  // Cap the number of thead blocks we launch and figure out how many
  // repeats we need alongside each dimension.
  int32_t repeat_1 = grid[1] / MAX_TR_THREAD_BLOCKS;
  int32_t repeat_2 = grid[2] / MAX_TR_THREAD_BLOCKS;
  grid[1] = repeat_1 > 0 ? MAX_TR_THREAD_BLOCKS : grid[1];
  grid[2] = repeat_2 > 0 ? MAX_TR_THREAD_BLOCKS : grid[2];
  args[9] = &repeat_1;
  args[10] = &repeat_2;
  args_sizes[9] = sizeof(repeat_1);
  args_sizes[10] = sizeof(repeat_2);

  if (ctx->logging) {
    fprintf(ctx->log, "\n");
  }

  return gpu_launch_kernel(ctx, kernel, name, grid, block,
                           TR_TILE_DIM*(TR_TILE_DIM+1)*elem_size,
                           sizeof(args)/sizeof(args[0]), args, args_sizes);
}

#define GEN_MAP_TRANSPOSE_GPU2GPU(NAME, ELEM_TYPE)                      \
  static int map_transpose_gpu2gpu_##NAME                               \
  (struct futhark_context* ctx,                                         \
   gpu_mem dst, int64_t dst_offset,                                     \
   gpu_mem src, int64_t src_offset,                                     \
   int64_t k, int64_t m, int64_t n)                                     \
  {                                                                     \
    return                                                              \
      gpu_map_transpose                                                 \
      (ctx,                                                             \
       ctx->kernels->map_transpose_##NAME,                              \
       ctx->kernels->map_transpose_##NAME##_low_height,                 \
       ctx->kernels->map_transpose_##NAME##_low_width,                  \
       ctx->kernels->map_transpose_##NAME##_small,                      \
       ctx->kernels->map_transpose_##NAME##_large,                      \
       "map_transpose_" #NAME, sizeof(ELEM_TYPE),                       \
       dst, dst_offset, src, src_offset,                                \
       k, n, m);                                                        \
  }

static int gpu_lmad_copy(struct futhark_context* ctx,
                         gpu_kernel kernel, int r,
                         gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                         gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                         int64_t shape[r]) {
  if (r > 8) {
    set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy array of greater than rank 8.\n"));
    return 1;
  }

  int64_t n = 1;
  for (int i = 0; i < r; i++) { n *= shape[i]; }

  void* args[6+(8*3)];
  size_t args_sizes[6+(8*3)];

  args[0] = &dst;
  args_sizes[0] = sizeof(gpu_mem);
  args[1] = &dst_offset;
  args_sizes[1] = sizeof(dst_offset);
  args[2] = &src;
  args_sizes[2] = sizeof(gpu_mem);
  args[3] = &src_offset;
  args_sizes[3] = sizeof(src_offset);
  args[4] = &n;
  args_sizes[4] = sizeof(n);
  args[5] = &r;
  args_sizes[5] = sizeof(r);

  int64_t zero = 0;

  for (int i = 0; i < 8; i++) {
    args_sizes[6+i*3] = sizeof(int64_t);
    args_sizes[6+i*3+1] = sizeof(int64_t);
    args_sizes[6+i*3+2] = sizeof(int64_t);
    if (i < r) {
      args[6+i*3] = &shape[i];
      args[6+i*3+1] = &dst_strides[i];
      args[6+i*3+2] = &src_strides[i];
    } else {
      args[6+i*3] = &zero;
      args[6+i*3+1] = &zero;
      args[6+i*3+2] = &zero;
    }
  }
  const size_t w = 256; // XXX: hardcoded thread block size.

  return gpu_launch_kernel(ctx, kernel, "copy_lmad_dev_to_dev",
                           (const int32_t[3]) {(n+w-1)/w,1,1},
                           (const int32_t[3]) {w,1,1},
                           0, 6+(8*3), args, args_sizes);
}

#define GEN_LMAD_COPY_ELEMENTS_GPU2GPU(NAME, ELEM_TYPE)                 \
  static int lmad_copy_elements_gpu2gpu_##NAME                          \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    return gpu_lmad_copy(ctx, ctx->kernels->lmad_copy_##NAME, r,        \
                         dst, dst_offset, dst_strides,                  \
                         src, src_offset, src_strides,                  \
                         shape);                                        \
  }                                                                     \

#define GEN_LMAD_COPY_GPU2GPU(NAME, ELEM_TYPE)                          \
  static int lmad_copy_gpu2gpu_##NAME                                   \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "GPU to GPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return FUTHARK_SUCCESS; }                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                       r, dst_strides, src_strides, shape)) {           \
      log_transpose(ctx, k, n, m);                                      \
      return map_transpose_gpu2gpu_##NAME                               \
        (ctx, dst, dst_offset, src, src_offset, k, n, m);               \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}        \
      return gpu_memcpy(ctx,                                            \
                        dst, dst_offset*sizeof(ELEM_TYPE),              \
                        src, src_offset*sizeof(ELEM_TYPE),              \
                        size * sizeof(ELEM_TYPE));                      \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}     \
      return lmad_copy_elements_gpu2gpu_##NAME                          \
        (ctx, r,                                                        \
         dst, dst_offset, dst_strides,                                  \
         src, src_offset, src_strides,                                  \
         shape);                                                        \
    }                                                                   \
  }

static int
lmad_copy_elements_host2gpu(struct futhark_context *ctx, size_t elem_size,
                            int r,
                            gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                            unsigned char* src, int64_t src_offset, int64_t src_strides[r],
                            int64_t shape[r]) {
  (void)ctx; (void)elem_size; (void)r;
  (void)dst; (void)dst_offset; (void)dst_strides;
  (void)src; (void)src_offset; (void)src_strides;
  (void)shape;
  set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy unstructured array from host to GPU.\n"));
  return 1;
}

static int
lmad_copy_elements_gpu2host (struct futhark_context *ctx, size_t elem_size,
                             int r,
                             unsigned char* dst, int64_t dst_offset, int64_t dst_strides[r],
                             gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                             int64_t shape[r]) {
  (void)ctx; (void)elem_size; (void)r;
  (void)dst; (void)dst_offset; (void)dst_strides;
  (void)src; (void)src_offset; (void)src_strides;
  (void)shape;
  set_error(ctx, strdup("Futhark runtime limitation:\nCannot copy unstructured array from GPU to host.\n"));
  return 1;
}

#define GEN_LMAD_COPY_ELEMENTS_HOSTGPU(NAME, ELEM_TYPE)                 \
  static int lmad_copy_elements_gpu2gpu_##NAME                          \
  (struct futhark_context* ctx,                                         \
   int r,                                                               \
   gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],             \
   gpu_mem src, int64_t src_offset, int64_t src_strides[r],             \
   int64_t shape[r]) {                                                  \
    return (ctx, ctx->kernels->lmad_copy_##NAME, r,                     \
                         dst, dst_offset, dst_strides,                  \
                         src, src_offset, src_strides,                  \
                         shape);                                        \
  }                                                                     \


static int lmad_copy_host2gpu(struct futhark_context* ctx, size_t elem_size, bool sync,
                              int r,
                              gpu_mem dst, int64_t dst_offset, int64_t dst_strides[r],
                              unsigned char* src, int64_t src_offset, int64_t src_strides[r],
                              int64_t shape[r]) {
  log_copy(ctx, "Host to GPU", r, dst_offset, dst_strides,
           src_offset, src_strides, shape);
  int64_t size = elem_size;
  for (int i = 0; i < r; i++) { size *= shape[i]; }
  if (size == 0) { return FUTHARK_SUCCESS; }
  int64_t k, n, m;
  if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {
    if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}
    return memcpy_host2gpu(ctx, sync,
                           dst, dst_offset*elem_size,
                           src, src_offset*elem_size,
                           size);
  } else {
    if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}
    int error;
    error = lmad_copy_elements_host2gpu
      (ctx, elem_size, r,
       dst, dst_offset, dst_strides,
       src, src_offset, src_strides,
       shape);
    if (error == 0 && sync) {
      error = futhark_context_sync(ctx);
    }
    return error;
  }
}

static int lmad_copy_gpu2host(struct futhark_context* ctx, size_t elem_size, bool sync,
                              int r,
                              unsigned char* dst, int64_t dst_offset, int64_t dst_strides[r],
                              gpu_mem src, int64_t src_offset, int64_t src_strides[r],
                              int64_t shape[r]) {
  log_copy(ctx, "Host to GPU", r, dst_offset, dst_strides,
           src_offset, src_strides, shape);
  int64_t size = elem_size;
  for (int i = 0; i < r; i++) { size *= shape[i]; }
  if (size == 0) { return FUTHARK_SUCCESS; }
  int64_t k, n, m;
  if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {
    if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}
    return memcpy_gpu2host(ctx, sync,
                           dst, dst_offset*elem_size,
                           src, src_offset*elem_size,
                           size);
  } else {
    if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}
    int error;
    error = lmad_copy_elements_gpu2host
      (ctx, elem_size, r,
       dst, dst_offset, dst_strides,
       src, src_offset, src_strides,
       shape);
    if (error == 0 && sync) {
      error = futhark_context_sync(ctx);
    }
    return error;
  }
}

GEN_MAP_TRANSPOSE_GPU2GPU(1b, uint8_t)
GEN_MAP_TRANSPOSE_GPU2GPU(2b, uint16_t)
GEN_MAP_TRANSPOSE_GPU2GPU(4b, uint32_t)
GEN_MAP_TRANSPOSE_GPU2GPU(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS_GPU2GPU(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS_GPU2GPU(8b, uint64_t)

GEN_LMAD_COPY_GPU2GPU(1b, uint8_t)
GEN_LMAD_COPY_GPU2GPU(2b, uint16_t)
GEN_LMAD_COPY_GPU2GPU(4b, uint32_t)
GEN_LMAD_COPY_GPU2GPU(8b, uint64_t)

// End of gpu.h

static int gpu_macros(struct futhark_context *ctx, char ***names_out, int64_t **values_out)
{
    int num_macros = 388;
    char **names = malloc(num_macros * sizeof(char *));
    int64_t *values = malloc(num_macros * sizeof(int64_t));
    
    {
        names[0] = "sort_for_Skyline_doublezisegmap_91252_dim1";
        values[0] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91236;
    }
    {
        names[1] = "sort_for_Skyline_doublezisegmap_91252zisegmap_tblock_sizze_91248";
        values[1] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91236;
    }
    {
        names[2] = "sort_for_Skyline_doublezisegscan_91232_dim1";
        values[2] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_91226;
    }
    {
        names[3] = "sort_for_Skyline_doublezisegscan_91232zisegscan_tblock_sizze_91227";
        values[3] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_91226;
    }
    {
        names[4] = "sort_for_Skyline_doublezisegscan_91232zichunk_sizze_99092";
        values[4] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[5] = "sort_for_Skyline_doublezisegred_large_99014_dim1";
        values[5] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211;
    }
    {
        names[6] = "sort_for_Skyline_doublezisegred_large_99014ziseghist_tblock_sizze_91212";
        values[6] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211;
    }
    {
        names[7] = "sort_for_Skyline_doublezisegred_large_99014zichunk_sizze_99015";
        values[7] = (int64_t) 1;
    }
    {
        names[8] = "sort_for_Skyline_doublezisegred_small_99014_dim1";
        values[8] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211;
    }
    {
        names[9] = "sort_for_Skyline_doublezisegred_small_99014ziseghist_tblock_sizze_91212";
        values[9] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211;
    }
    {
        names[10] = "sort_for_Skyline_doubleziseghist_global_91219_dim1";
        values[10] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211;
    }
    {
        names[11] = "sort_for_Skyline_doubleziseghist_global_91219ziseghist_tblock_sizze_91212";
        values[11] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211;
    }
    {
        names[12] = "sort_for_Skyline_doubleziseghist_local_91219_dim1";
        values[12] = ctx->max_thread_block_size;
    }
    {
        names[13] = "sort_for_Skyline_doubleziseghist_local_91219zimax_tblock_sizze_98938";
        values[13] = ctx->max_thread_block_size;
    }
    {
        names[14] = "sort_for_Skyline_doublezisegmap_91203_dim1";
        values[14] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91205;
    }
    {
        names[15] = "sort_for_Skyline_doublezisegmap_91203zisegmap_tblock_sizze_91206";
        values[15] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91205;
    }
    {
        names[16] = "sort_for_Skyline_doublezisegmap_91193_dim1";
        values[16] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91195;
    }
    {
        names[17] = "sort_for_Skyline_doublezisegmap_91193zisegmap_tblock_sizze_91196";
        values[17] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91195;
    }
    {
        names[18] = "sort_for_Skyline_doublezisegmap_91182_dim1";
        values[18] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91185;
    }
    {
        names[19] = "sort_for_Skyline_doublezisegmap_91182zisegmap_tblock_sizze_91186";
        values[19] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91185;
    }
    {
        names[20] = "sort_for_Skyline_doublezisegmap_91169_dim1";
        values[20] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91152;
    }
    {
        names[21] = "sort_for_Skyline_doublezisegmap_91169zisegmap_tblock_sizze_91163";
        values[21] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91152;
    }
    {
        names[22] = "sort_for_Skyline_doublezisegscan_91135_dim1";
        values[22] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90658;
    }
    {
        names[23] = "sort_for_Skyline_doublezisegscan_91135zisegscan_tblock_sizze_91130";
        values[23] = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90658;
    }
    {
        names[24] = "sort_for_Skyline_doublezisegscan_91135zichunk_sizze_98755";
        values[24] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[25] = "sort_for_Skyline_doublezisegmap_91108_dim1";
        values[25] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89022;
    }
    {
        names[26] = "sort_for_Skyline_doublezisegmap_91108zisegmap_tblock_sizze_91103";
        values[26] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89022;
    }
    {
        names[27] = "sort_for_Skyline_doublezisegmap_91095_dim1";
        values[27] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89058;
    }
    {
        names[28] = "sort_for_Skyline_doublezisegmap_91095zisegmap_tblock_sizze_91090";
        values[28] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89058;
    }
    {
        names[29] = "sort_for_Skyline_doublezisegmap_91071_dim1";
        values[29] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89094;
    }
    {
        names[30] = "sort_for_Skyline_doublezisegmap_91071zisegmap_tblock_sizze_91066";
        values[30] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89094;
    }
    {
        names[31] = "sort_for_Skyline_doublezisegmap_91061_dim1";
        values[31] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89125;
    }
    {
        names[32] = "sort_for_Skyline_doublezisegmap_91061zisegmap_tblock_sizze_91056";
        values[32] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89125;
    }
    {
        names[33] = "sort_for_Skyline_doublezisegmap_91013_dim1";
        values[33] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89208;
    }
    {
        names[34] = "sort_for_Skyline_doublezisegmap_91013zisegmap_tblock_sizze_91008";
        values[34] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89208;
    }
    {
        names[35] = "sort_for_Skyline_doublezisegmap_90991_dim1";
        values[35] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89254;
    }
    {
        names[36] = "sort_for_Skyline_doublezisegmap_90991zisegmap_tblock_sizze_90986";
        values[36] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89254;
    }
    {
        names[37] = "sort_for_Skyline_doublezisegmap_90976_dim1";
        values[37] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89280;
    }
    {
        names[38] = "sort_for_Skyline_doublezisegmap_90976zisegmap_tblock_sizze_90971";
        values[38] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89280;
    }
    {
        names[39] = "sort_for_Skyline_doublezisegmap_90956_dim1";
        values[39] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89350;
    }
    {
        names[40] = "sort_for_Skyline_doublezisegmap_90956zisegmap_tblock_sizze_90951";
        values[40] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89350;
    }
    {
        names[41] = "sort_for_Skyline_doublezisegmap_90945_dim1";
        values[41] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89379;
    }
    {
        names[42] = "sort_for_Skyline_doublezisegmap_90945zisegmap_tblock_sizze_90940";
        values[42] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89379;
    }
    {
        names[43] = "sort_for_Skyline_doublezisegmap_90916_dim1";
        values[43] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89556;
    }
    {
        names[44] = "sort_for_Skyline_doublezisegmap_90916zisegmap_tblock_sizze_90911";
        values[44] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89556;
    }
    {
        names[45] = "sort_for_Skyline_doublezisegmap_90903_dim1";
        values[45] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89585;
    }
    {
        names[46] = "sort_for_Skyline_doublezisegmap_90903zisegmap_tblock_sizze_90899";
        values[46] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89585;
    }
    {
        names[47] = "sort_for_Skyline_doublezisegmap_90883_dim1";
        values[47] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89712;
    }
    {
        names[48] = "sort_for_Skyline_doublezisegmap_90883zisegmap_tblock_sizze_90878";
        values[48] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89712;
    }
    {
        names[49] = "sort_for_Skyline_doublezisegmap_90870_dim1";
        values[49] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89738;
    }
    {
        names[50] = "sort_for_Skyline_doublezisegmap_90870zisegmap_tblock_sizze_90866";
        values[50] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89738;
    }
    {
        names[51] = "sort_for_Skyline_doublezisegmap_90850_dim1";
        values[51] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89770;
    }
    {
        names[52] = "sort_for_Skyline_doublezisegmap_90850zisegmap_tblock_sizze_90845";
        values[52] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89770;
    }
    {
        names[53] = "sort_for_Skyline_doublezisegmap_90837_dim1";
        values[53] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89796;
    }
    {
        names[54] = "sort_for_Skyline_doublezisegmap_90837zisegmap_tblock_sizze_90833";
        values[54] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89796;
    }
    {
        names[55] = "sort_for_Skyline_doublezisegmap_90825_dim1";
        values[55] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89850;
    }
    {
        names[56] = "sort_for_Skyline_doublezisegmap_90825zisegmap_tblock_sizze_90820";
        values[56] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89850;
    }
    {
        names[57] = "sort_for_Skyline_doublezisegmap_90809_dim1";
        values[57] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89883;
    }
    {
        names[58] = "sort_for_Skyline_doublezisegmap_90809zisegmap_tblock_sizze_90804";
        values[58] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89883;
    }
    {
        names[59] = "sort_for_Skyline_doublezisegred_nonseg_88800_dim1";
        values[59] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88792;
    }
    {
        names[60] = "sort_for_Skyline_doublezisegred_nonseg_88800zisegred_tblock_sizze_88793";
        values[60] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88792;
    }
    {
        names[61] = "sort_for_Skyline_doublezisegred_nonseg_88800zichunk_sizze_98392";
        values[61] = (int64_t) 1;
    }
    {
        names[62] = "sort_for_Skyline_doublezisegred_large_98317_dim1";
        values[62] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709;
    }
    {
        names[63] = "sort_for_Skyline_doublezisegred_large_98317ziseghist_tblock_sizze_88710";
        values[63] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709;
    }
    {
        names[64] = "sort_for_Skyline_doublezisegred_large_98317zichunk_sizze_98318";
        values[64] = (int64_t) 1;
    }
    {
        names[65] = "sort_for_Skyline_doublezisegred_small_98317_dim1";
        values[65] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709;
    }
    {
        names[66] = "sort_for_Skyline_doublezisegred_small_98317ziseghist_tblock_sizze_88710";
        values[66] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709;
    }
    {
        names[67] = "sort_for_Skyline_doubleziseghist_global_88717_dim1";
        values[67] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709;
    }
    {
        names[68] = "sort_for_Skyline_doubleziseghist_global_88717ziseghist_tblock_sizze_88710";
        values[68] = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709;
    }
    {
        names[69] = "sort_for_Skyline_doubleziseghist_local_88717_dim1";
        values[69] = ctx->max_thread_block_size;
    }
    {
        names[70] = "sort_for_Skyline_doubleziseghist_local_88717zimax_tblock_sizze_98221";
        values[70] = ctx->max_thread_block_size;
    }
    {
        names[71] = "sort_for_Skyline_doublezisegmap_88568_dim1";
        values[71] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86773;
    }
    {
        names[72] = "sort_for_Skyline_doublezisegmap_88568zisegmap_tblock_sizze_88559";
        values[72] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86773;
    }
    {
        names[73] = "sort_for_Skyline_doublezisegmap_88479_dim1";
        values[73] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86885;
    }
    {
        names[74] = "sort_for_Skyline_doublezisegmap_88479zisegmap_tblock_sizze_88464";
        values[74] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86885;
    }
    {
        names[75] = "sort_for_Skyline_doublezisegmap_88341_dim1";
        values[75] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87159;
    }
    {
        names[76] = "sort_for_Skyline_doublezisegmap_88341zisegmap_tblock_sizze_88335";
        values[76] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87159;
    }
    {
        names[77] = "sort_for_Skyline_doublezisegmap_87938_dim1";
        values[77] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85631;
    }
    {
        names[78] = "sort_for_Skyline_doublezisegmap_87938zisegmap_tblock_sizze_87930";
        values[78] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85631;
    }
    {
        names[79] = "sort_for_Skyline_doublezisegmap_87908_dim1";
        values[79] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85825;
    }
    {
        names[80] = "sort_for_Skyline_doublezisegmap_87908zisegmap_tblock_sizze_87904";
        values[80] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85825;
    }
    {
        names[81] = "sort_for_Skyline_doublezisegmap_87898_dim1";
        values[81] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85840;
    }
    {
        names[82] = "sort_for_Skyline_doublezisegmap_87898zisegmap_tblock_sizze_87893";
        values[82] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85840;
    }
    {
        names[83] = "sort_for_Skyline_doublezisegmap_87884_dim1";
        values[83] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85853;
    }
    {
        names[84] = "sort_for_Skyline_doublezisegmap_87884zisegmap_tblock_sizze_87878";
        values[84] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85853;
    }
    {
        names[85] = "sort_for_Skyline_doublezisegmap_87868_dim1";
        values[85] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85749;
    }
    {
        names[86] = "sort_for_Skyline_doublezisegmap_87868zisegmap_tblock_sizze_87864";
        values[86] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85749;
    }
    {
        names[87] = "sort_for_Skyline_doublezisegmap_87858_dim1";
        values[87] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85764;
    }
    {
        names[88] = "sort_for_Skyline_doublezisegmap_87858zisegmap_tblock_sizze_87853";
        values[88] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85764;
    }
    {
        names[89] = "sort_for_Skyline_doublezisegmap_87845_dim1";
        values[89] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85777;
    }
    {
        names[90] = "sort_for_Skyline_doublezisegmap_87845zisegmap_tblock_sizze_87840";
        values[90] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85777;
    }
    {
        names[91] = "sort_for_Skyline_doublezisegmap_87810_dim1";
        values[91] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87778;
    }
    {
        names[92] = "sort_for_Skyline_doublezisegmap_87810zisegmap_tblock_sizze_87804";
        values[92] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87778;
    }
    {
        names[93] = "sort_for_Skyline_doublezisegmap_84474_dim1";
        values[93] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84141;
    }
    {
        names[94] = "sort_for_Skyline_doublezisegmap_84474zisegmap_tblock_sizze_84466";
        values[94] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84141;
    }
    {
        names[95] = "sort_for_Skyline_doublezisegmap_84438_dim1";
        values[95] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84356;
    }
    {
        names[96] = "sort_for_Skyline_doublezisegmap_84438zisegmap_tblock_sizze_84429";
        values[96] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84356;
    }
    {
        names[97] = "sort_for_Skyline_doublezigpuseq_97587_dim1";
        values[97] = (int64_t) 1;
    }
    {
        names[98] = "sort_for_Skyline_doublezisegred_nonseg_84032_dim1";
        values[98] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_84021;
    }
    {
        names[99] = "sort_for_Skyline_doublezisegred_nonseg_84032zisegred_tblock_sizze_84022";
        values[99] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_84021;
    }
    {
        names[100] = "sort_for_Skyline_doublezisegred_nonseg_84032zichunk_sizze_97518";
        values[100] = (int64_t) 1;
    }
    {
        names[101] = "sort_for_Skyline_doublezisegmap_84010_dim1";
        values[101] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82327;
    }
    {
        names[102] = "sort_for_Skyline_doublezisegmap_84010zisegmap_tblock_sizze_84006";
        values[102] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82327;
    }
    {
        names[103] = "sort_for_Skyline_doublezisegmap_83998_dim1";
        values[103] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82355;
    }
    {
        names[104] = "sort_for_Skyline_doublezisegmap_83998zisegmap_tblock_sizze_83993";
        values[104] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82355;
    }
    {
        names[105] = "sort_for_Skyline_doublezisegmap_83974_dim1";
        values[105] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82391;
    }
    {
        names[106] = "sort_for_Skyline_doublezisegmap_83974zisegmap_tblock_sizze_83969";
        values[106] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82391;
    }
    {
        names[107] = "sort_for_Skyline_doublezisegmap_83964_dim1";
        values[107] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82422;
    }
    {
        names[108] = "sort_for_Skyline_doublezisegmap_83964zisegmap_tblock_sizze_83959";
        values[108] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82422;
    }
    {
        names[109] = "sort_for_Skyline_doublezisegmap_83922_dim1";
        values[109] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82477;
    }
    {
        names[110] = "sort_for_Skyline_doublezisegmap_83922zisegmap_tblock_sizze_83918";
        values[110] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82477;
    }
    {
        names[111] = "sort_for_Skyline_doublezisegmap_83913_dim1";
        values[111] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82502;
    }
    {
        names[112] = "sort_for_Skyline_doublezisegmap_83913zisegmap_tblock_sizze_83908";
        values[112] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82502;
    }
    {
        names[113] = "sort_for_Skyline_doublezisegmap_83888_dim1";
        values[113] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82552;
    }
    {
        names[114] = "sort_for_Skyline_doublezisegmap_83888zisegmap_tblock_sizze_83883";
        values[114] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82552;
    }
    {
        names[115] = "sort_for_Skyline_doublezisegmap_83866_dim1";
        values[115] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82598;
    }
    {
        names[116] = "sort_for_Skyline_doublezisegmap_83866zisegmap_tblock_sizze_83861";
        values[116] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82598;
    }
    {
        names[117] = "sort_for_Skyline_doublezisegmap_83851_dim1";
        values[117] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82624;
    }
    {
        names[118] = "sort_for_Skyline_doublezisegmap_83851zisegmap_tblock_sizze_83846";
        values[118] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82624;
    }
    {
        names[119] = "sort_for_Skyline_doublezisegmap_83831_dim1";
        values[119] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82694;
    }
    {
        names[120] = "sort_for_Skyline_doublezisegmap_83831zisegmap_tblock_sizze_83826";
        values[120] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82694;
    }
    {
        names[121] = "sort_for_Skyline_doublezisegmap_83820_dim1";
        values[121] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82723;
    }
    {
        names[122] = "sort_for_Skyline_doublezisegmap_83820zisegmap_tblock_sizze_83815";
        values[122] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82723;
    }
    {
        names[123] = "sort_for_Skyline_doublezisegmap_83791_dim1";
        values[123] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82900;
    }
    {
        names[124] = "sort_for_Skyline_doublezisegmap_83791zisegmap_tblock_sizze_83786";
        values[124] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82900;
    }
    {
        names[125] = "sort_for_Skyline_doublezisegmap_83778_dim1";
        values[125] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82929;
    }
    {
        names[126] = "sort_for_Skyline_doublezisegmap_83778zisegmap_tblock_sizze_83774";
        values[126] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82929;
    }
    {
        names[127] = "sort_for_Skyline_doublezisegmap_83758_dim1";
        values[127] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83056;
    }
    {
        names[128] = "sort_for_Skyline_doublezisegmap_83758zisegmap_tblock_sizze_83753";
        values[128] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83056;
    }
    {
        names[129] = "sort_for_Skyline_doublezisegmap_83745_dim1";
        values[129] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83082;
    }
    {
        names[130] = "sort_for_Skyline_doublezisegmap_83745zisegmap_tblock_sizze_83741";
        values[130] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83082;
    }
    {
        names[131] = "sort_for_Skyline_doublezisegmap_83725_dim1";
        values[131] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83114;
    }
    {
        names[132] = "sort_for_Skyline_doublezisegmap_83725zisegmap_tblock_sizze_83720";
        values[132] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83114;
    }
    {
        names[133] = "sort_for_Skyline_doublezisegmap_83712_dim1";
        values[133] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83140;
    }
    {
        names[134] = "sort_for_Skyline_doublezisegmap_83712zisegmap_tblock_sizze_83708";
        values[134] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83140;
    }
    {
        names[135] = "sort_for_Skyline_doublezisegmap_83700_dim1";
        values[135] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83194;
    }
    {
        names[136] = "sort_for_Skyline_doublezisegmap_83700zisegmap_tblock_sizze_83695";
        values[136] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83194;
    }
    {
        names[137] = "sort_for_Skyline_doublezisegmap_83684_dim1";
        values[137] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83227;
    }
    {
        names[138] = "sort_for_Skyline_doublezisegmap_83684zisegmap_tblock_sizze_83679";
        values[138] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83227;
    }
    {
        names[139] = "sort_for_Skyline_doublezisegmap_82159_dim1";
        values[139] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80588;
    }
    {
        names[140] = "sort_for_Skyline_doublezisegmap_82159zisegmap_tblock_sizze_82151";
        values[140] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80588;
    }
    {
        names[141] = "sort_for_Skyline_doublezisegmap_82077_dim1";
        values[141] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80681;
    }
    {
        names[142] = "sort_for_Skyline_doublezisegmap_82077zisegmap_tblock_sizze_82063";
        values[142] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80681;
    }
    {
        names[143] = "sort_for_Skyline_doublezisegmap_81956_dim1";
        values[143] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80929;
    }
    {
        names[144] = "sort_for_Skyline_doublezisegmap_81956zisegmap_tblock_sizze_81950";
        values[144] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80929;
    }
    {
        names[145] = "sort_for_Skyline_doublezisegmap_81612_dim1";
        values[145] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79598;
    }
    {
        names[146] = "sort_for_Skyline_doublezisegmap_81612zisegmap_tblock_sizze_81605";
        values[146] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79598;
    }
    {
        names[147] = "sort_for_Skyline_doublezisegmap_81587_dim1";
        values[147] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79767;
    }
    {
        names[148] = "sort_for_Skyline_doublezisegmap_81587zisegmap_tblock_sizze_81583";
        values[148] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79767;
    }
    {
        names[149] = "sort_for_Skyline_doublezisegmap_81577_dim1";
        values[149] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79782;
    }
    {
        names[150] = "sort_for_Skyline_doublezisegmap_81577zisegmap_tblock_sizze_81572";
        values[150] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79782;
    }
    {
        names[151] = "sort_for_Skyline_doublezisegmap_81564_dim1";
        values[151] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79795;
    }
    {
        names[152] = "sort_for_Skyline_doublezisegmap_81564zisegmap_tblock_sizze_81559";
        values[152] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79795;
    }
    {
        names[153] = "sort_for_Skyline_doublezisegmap_81550_dim1";
        values[153] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79694;
    }
    {
        names[154] = "sort_for_Skyline_doublezisegmap_81550zisegmap_tblock_sizze_81546";
        values[154] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79694;
    }
    {
        names[155] = "sort_for_Skyline_doublezisegmap_81540_dim1";
        values[155] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79709;
    }
    {
        names[156] = "sort_for_Skyline_doublezisegmap_81540zisegmap_tblock_sizze_81535";
        values[156] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79709;
    }
    {
        names[157] = "sort_for_Skyline_doublezisegmap_81528_dim1";
        values[157] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79722;
    }
    {
        names[158] = "sort_for_Skyline_doublezisegmap_81528zisegmap_tblock_sizze_81524";
        values[158] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79722;
    }
    {
        names[159] = "sort_for_Skyline_doublezisegmap_81496_dim1";
        values[159] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81464;
    }
    {
        names[160] = "sort_for_Skyline_doublezisegmap_81496zisegmap_tblock_sizze_81490";
        values[160] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81464;
    }
    {
        names[161] = "sort_for_Skyline_doublezisegmap_78624_dim1";
        values[161] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78354;
    }
    {
        names[162] = "sort_for_Skyline_doublezisegmap_78624zisegmap_tblock_sizze_78617";
        values[162] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78354;
    }
    {
        names[163] = "sort_for_Skyline_doublezisegmap_78594_dim1";
        values[163] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78518;
    }
    {
        names[164] = "sort_for_Skyline_doublezisegmap_78594zisegmap_tblock_sizze_78586";
        values[164] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78518;
    }
    {
        names[165] = "sort_for_Skyline_doublezigpuseq_96637_dim1";
        values[165] = (int64_t) 1;
    }
    {
        names[166] = "sort_for_Skyline_doublezisegred_nonseg_78274_dim1";
        values[166] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_78264;
    }
    {
        names[167] = "sort_for_Skyline_doublezisegred_nonseg_78274zisegred_tblock_sizze_78265";
        values[167] = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_78264;
    }
    {
        names[168] = "sort_for_Skyline_doublezisegred_nonseg_78274zichunk_sizze_96582";
        values[168] = (int64_t) 1;
    }
    {
        names[169] = "sort_for_Skyline_doublezisegmap_78253_dim1";
        values[169] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76645;
    }
    {
        names[170] = "sort_for_Skyline_doublezisegmap_78253zisegmap_tblock_sizze_78249";
        values[170] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76645;
    }
    {
        names[171] = "sort_for_Skyline_doublezisegmap_78241_dim1";
        values[171] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76673;
    }
    {
        names[172] = "sort_for_Skyline_doublezisegmap_78241zisegmap_tblock_sizze_78236";
        values[172] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76673;
    }
    {
        names[173] = "sort_for_Skyline_doublezisegmap_78217_dim1";
        values[173] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76709;
    }
    {
        names[174] = "sort_for_Skyline_doublezisegmap_78217zisegmap_tblock_sizze_78212";
        values[174] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76709;
    }
    {
        names[175] = "sort_for_Skyline_doublezisegmap_78207_dim1";
        values[175] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76740;
    }
    {
        names[176] = "sort_for_Skyline_doublezisegmap_78207zisegmap_tblock_sizze_78202";
        values[176] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76740;
    }
    {
        names[177] = "sort_for_Skyline_doublezisegmap_78159_dim1";
        values[177] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76823;
    }
    {
        names[178] = "sort_for_Skyline_doublezisegmap_78159zisegmap_tblock_sizze_78154";
        values[178] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76823;
    }
    {
        names[179] = "sort_for_Skyline_doublezisegmap_78137_dim1";
        values[179] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76869;
    }
    {
        names[180] = "sort_for_Skyline_doublezisegmap_78137zisegmap_tblock_sizze_78132";
        values[180] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76869;
    }
    {
        names[181] = "sort_for_Skyline_doublezisegmap_78122_dim1";
        values[181] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76895;
    }
    {
        names[182] = "sort_for_Skyline_doublezisegmap_78122zisegmap_tblock_sizze_78117";
        values[182] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76895;
    }
    {
        names[183] = "sort_for_Skyline_doublezisegmap_78102_dim1";
        values[183] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76965;
    }
    {
        names[184] = "sort_for_Skyline_doublezisegmap_78102zisegmap_tblock_sizze_78097";
        values[184] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76965;
    }
    {
        names[185] = "sort_for_Skyline_doublezisegmap_78091_dim1";
        values[185] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76994;
    }
    {
        names[186] = "sort_for_Skyline_doublezisegmap_78091zisegmap_tblock_sizze_78086";
        values[186] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76994;
    }
    {
        names[187] = "sort_for_Skyline_doublezisegmap_78062_dim1";
        values[187] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77171;
    }
    {
        names[188] = "sort_for_Skyline_doublezisegmap_78062zisegmap_tblock_sizze_78057";
        values[188] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77171;
    }
    {
        names[189] = "sort_for_Skyline_doublezisegmap_78049_dim1";
        values[189] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77200;
    }
    {
        names[190] = "sort_for_Skyline_doublezisegmap_78049zisegmap_tblock_sizze_78045";
        values[190] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77200;
    }
    {
        names[191] = "sort_for_Skyline_doublezisegmap_78029_dim1";
        values[191] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77327;
    }
    {
        names[192] = "sort_for_Skyline_doublezisegmap_78029zisegmap_tblock_sizze_78024";
        values[192] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77327;
    }
    {
        names[193] = "sort_for_Skyline_doublezisegmap_78016_dim1";
        values[193] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77353;
    }
    {
        names[194] = "sort_for_Skyline_doublezisegmap_78016zisegmap_tblock_sizze_78012";
        values[194] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77353;
    }
    {
        names[195] = "sort_for_Skyline_doublezisegmap_77996_dim1";
        values[195] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77385;
    }
    {
        names[196] = "sort_for_Skyline_doublezisegmap_77996zisegmap_tblock_sizze_77991";
        values[196] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77385;
    }
    {
        names[197] = "sort_for_Skyline_doublezisegmap_77983_dim1";
        values[197] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77411;
    }
    {
        names[198] = "sort_for_Skyline_doublezisegmap_77983zisegmap_tblock_sizze_77979";
        values[198] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77411;
    }
    {
        names[199] = "sort_for_Skyline_doublezisegmap_77971_dim1";
        values[199] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77465;
    }
    {
        names[200] = "sort_for_Skyline_doublezisegmap_77971zisegmap_tblock_sizze_77966";
        values[200] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77465;
    }
    {
        names[201] = "sort_for_Skyline_doublezisegmap_77955_dim1";
        values[201] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77498;
    }
    {
        names[202] = "sort_for_Skyline_doublezisegmap_77955zisegmap_tblock_sizze_77950";
        values[202] = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77498;
    }
    {
        names[203] = "sort_for_Skyline_doublezigpuseq_96248_dim1";
        values[203] = (int64_t) 1;
    }
    {
        names[204] = "sort_for_Skyline_doublezigpuseq_96236_dim1";
        values[204] = (int64_t) 1;
    }
    {
        names[205] = "sort_for_Skyline_doublezigpuseq_96167_dim1";
        values[205] = (int64_t) 1;
    }
    {
        names[206] = "sort_for_Skyline_doublezigpuseq_96141_dim1";
        values[206] = (int64_t) 1;
    }
    {
        names[207] = "sort_for_Skyline_doublezigpuseq_96115_dim1";
        values[207] = (int64_t) 1;
    }
    {
        names[208] = "define_skyline_space_doublezisegmap_70722_dim1";
        values[208] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70655;
    }
    {
        names[209] = "define_skyline_space_doublezisegmap_70722zisegmap_tblock_sizze_70717";
        values[209] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70655;
    }
    {
        names[210] = "define_skyline_space_doublezisegmap_70635_dim1";
        values[210] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70619;
    }
    {
        names[211] = "define_skyline_space_doublezisegmap_70635zisegmap_tblock_sizze_70631";
        values[211] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70619;
    }
    {
        names[212] = "define_skyline_space_doublezisegmap_70609_dim1";
        values[212] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70593;
    }
    {
        names[213] = "define_skyline_space_doublezisegmap_70609zisegmap_tblock_sizze_70605";
        values[213] = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70593;
    }
    {
        names[214] = "define_skyline_space_doublezisegred_nonseg_70589_dim1";
        values[214] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70581;
    }
    {
        names[215] = "define_skyline_space_doublezisegred_nonseg_70589zisegred_tblock_sizze_70582";
        values[215] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70581;
    }
    {
        names[216] = "define_skyline_space_doublezisegred_nonseg_70589zichunk_sizze_96383";
        values[216] = (int64_t) 1;
    }
    {
        names[217] = "define_skyline_space_doublezisegscan_70579_dim1";
        values[217] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70573;
    }
    {
        names[218] = "define_skyline_space_doublezisegscan_70579zisegscan_tblock_sizze_70574";
        values[218] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70573;
    }
    {
        names[219] = "define_skyline_space_doublezisegscan_70579zichunk_sizze_96284";
        values[219] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[220] = "define_skyline_space_doublezisegred_nonseg_70569_dim1";
        values[220] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70561;
    }
    {
        names[221] = "define_skyline_space_doublezisegred_nonseg_70569zisegred_tblock_sizze_70562";
        values[221] = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70561;
    }
    {
        names[222] = "define_skyline_space_doublezisegred_nonseg_70569zichunk_sizze_96245";
        values[222] = (int64_t) 1;
    }
    {
        names[223] = "define_skyline_space_doublezisegscan_70559_dim1";
        values[223] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70553;
    }
    {
        names[224] = "define_skyline_space_doublezisegscan_70559zisegscan_tblock_sizze_70554";
        values[224] = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70553;
    }
    {
        names[225] = "define_skyline_space_doublezisegscan_70559zichunk_sizze_96106";
        values[225] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[226] = "calc_local_Skyline_GFUR_doublezisegmap_74615_dim1";
        values[226] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74599;
    }
    {
        names[227] = "calc_local_Skyline_GFUR_doublezisegmap_74615zisegmap_tblock_sizze_74611";
        values[227] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74599;
    }
    {
        names[228] = "calc_local_Skyline_GFUR_doublezisegscan_74595_dim1";
        values[228] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_74589;
    }
    {
        names[229] = "calc_local_Skyline_GFUR_doublezisegscan_74595zisegscan_tblock_sizze_74590";
        values[229] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_74589;
    }
    {
        names[230] = "calc_local_Skyline_GFUR_doublezisegscan_74595zichunk_sizze_97243";
        values[230] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[231] = "calc_local_Skyline_GFUR_doublezisegred_large_97165_dim1";
        values[231] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569;
    }
    {
        names[232] = "calc_local_Skyline_GFUR_doublezisegred_large_97165ziseghist_tblock_sizze_74570";
        values[232] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569;
    }
    {
        names[233] = "calc_local_Skyline_GFUR_doublezisegred_large_97165zichunk_sizze_97166";
        values[233] = (int64_t) 1;
    }
    {
        names[234] = "calc_local_Skyline_GFUR_doublezisegred_small_97165_dim1";
        values[234] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569;
    }
    {
        names[235] = "calc_local_Skyline_GFUR_doublezisegred_small_97165ziseghist_tblock_sizze_74570";
        values[235] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569;
    }
    {
        names[236] = "calc_local_Skyline_GFUR_doubleziseghist_global_74577_dim1";
        values[236] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569;
    }
    {
        names[237] = "calc_local_Skyline_GFUR_doubleziseghist_global_74577ziseghist_tblock_sizze_74570";
        values[237] = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569;
    }
    {
        names[238] = "calc_local_Skyline_GFUR_doubleziseghist_local_74577_dim1";
        values[238] = ctx->max_thread_block_size;
    }
    {
        names[239] = "calc_local_Skyline_GFUR_doubleziseghist_local_74577zimax_tblock_sizze_97089";
        values[239] = ctx->max_thread_block_size;
    }
    {
        names[240] = "calc_local_Skyline_GFUR_doublezisegmap_74558_dim1";
        values[240] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72950;
    }
    {
        names[241] = "calc_local_Skyline_GFUR_doublezisegmap_74558zisegmap_tblock_sizze_74554";
        values[241] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72950;
    }
    {
        names[242] = "calc_local_Skyline_GFUR_doublezisegmap_74546_dim1";
        values[242] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72978;
    }
    {
        names[243] = "calc_local_Skyline_GFUR_doublezisegmap_74546zisegmap_tblock_sizze_74541";
        values[243] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72978;
    }
    {
        names[244] = "calc_local_Skyline_GFUR_doublezisegmap_74522_dim1";
        values[244] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73014;
    }
    {
        names[245] = "calc_local_Skyline_GFUR_doublezisegmap_74522zisegmap_tblock_sizze_74517";
        values[245] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73014;
    }
    {
        names[246] = "calc_local_Skyline_GFUR_doublezisegmap_74512_dim1";
        values[246] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73045;
    }
    {
        names[247] = "calc_local_Skyline_GFUR_doublezisegmap_74512zisegmap_tblock_sizze_74507";
        values[247] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73045;
    }
    {
        names[248] = "calc_local_Skyline_GFUR_doublezisegmap_74464_dim1";
        values[248] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73128;
    }
    {
        names[249] = "calc_local_Skyline_GFUR_doublezisegmap_74464zisegmap_tblock_sizze_74459";
        values[249] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73128;
    }
    {
        names[250] = "calc_local_Skyline_GFUR_doublezisegmap_74442_dim1";
        values[250] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73174;
    }
    {
        names[251] = "calc_local_Skyline_GFUR_doublezisegmap_74442zisegmap_tblock_sizze_74437";
        values[251] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73174;
    }
    {
        names[252] = "calc_local_Skyline_GFUR_doublezisegmap_74427_dim1";
        values[252] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73200;
    }
    {
        names[253] = "calc_local_Skyline_GFUR_doublezisegmap_74427zisegmap_tblock_sizze_74422";
        values[253] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73200;
    }
    {
        names[254] = "calc_local_Skyline_GFUR_doublezisegmap_74407_dim1";
        values[254] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73270;
    }
    {
        names[255] = "calc_local_Skyline_GFUR_doublezisegmap_74407zisegmap_tblock_sizze_74402";
        values[255] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73270;
    }
    {
        names[256] = "calc_local_Skyline_GFUR_doublezisegmap_74396_dim1";
        values[256] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73299;
    }
    {
        names[257] = "calc_local_Skyline_GFUR_doublezisegmap_74396zisegmap_tblock_sizze_74391";
        values[257] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73299;
    }
    {
        names[258] = "calc_local_Skyline_GFUR_doublezisegmap_74367_dim1";
        values[258] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73476;
    }
    {
        names[259] = "calc_local_Skyline_GFUR_doublezisegmap_74367zisegmap_tblock_sizze_74362";
        values[259] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73476;
    }
    {
        names[260] = "calc_local_Skyline_GFUR_doublezisegmap_74354_dim1";
        values[260] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73505;
    }
    {
        names[261] = "calc_local_Skyline_GFUR_doublezisegmap_74354zisegmap_tblock_sizze_74350";
        values[261] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73505;
    }
    {
        names[262] = "calc_local_Skyline_GFUR_doublezisegmap_74334_dim1";
        values[262] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73632;
    }
    {
        names[263] = "calc_local_Skyline_GFUR_doublezisegmap_74334zisegmap_tblock_sizze_74329";
        values[263] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73632;
    }
    {
        names[264] = "calc_local_Skyline_GFUR_doublezisegmap_74321_dim1";
        values[264] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73658;
    }
    {
        names[265] = "calc_local_Skyline_GFUR_doublezisegmap_74321zisegmap_tblock_sizze_74317";
        values[265] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73658;
    }
    {
        names[266] = "calc_local_Skyline_GFUR_doublezisegmap_74301_dim1";
        values[266] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73690;
    }
    {
        names[267] = "calc_local_Skyline_GFUR_doublezisegmap_74301zisegmap_tblock_sizze_74296";
        values[267] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73690;
    }
    {
        names[268] = "calc_local_Skyline_GFUR_doublezisegmap_74288_dim1";
        values[268] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73716;
    }
    {
        names[269] = "calc_local_Skyline_GFUR_doublezisegmap_74288zisegmap_tblock_sizze_74284";
        values[269] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73716;
    }
    {
        names[270] = "calc_local_Skyline_GFUR_doublezisegmap_74276_dim1";
        values[270] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73770;
    }
    {
        names[271] = "calc_local_Skyline_GFUR_doublezisegmap_74276zisegmap_tblock_sizze_74271";
        values[271] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73770;
    }
    {
        names[272] = "calc_local_Skyline_GFUR_doublezisegmap_74260_dim1";
        values[272] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73803;
    }
    {
        names[273] = "calc_local_Skyline_GFUR_doublezisegmap_74260zisegmap_tblock_sizze_74255";
        values[273] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73803;
    }
    {
        names[274] = "calc_local_Skyline_GFUR_doublezisegmap_72895_dim1";
        values[274] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72832;
    }
    {
        names[275] = "calc_local_Skyline_GFUR_doublezisegmap_72895zisegmap_tblock_sizze_72891";
        values[275] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72832;
    }
    {
        names[276] = "calc_local_Skyline_GFUR_doublezisegmap_72886_dim1";
        values[276] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72846;
    }
    {
        names[277] = "calc_local_Skyline_GFUR_doublezisegmap_72886zisegmap_tblock_sizze_72881";
        values[277] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72846;
    }
    {
        names[278] = "calc_local_Skyline_GFUR_doublezisegmap_72873_dim1";
        values[278] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72858;
    }
    {
        names[279] = "calc_local_Skyline_GFUR_doublezisegmap_72873zisegmap_tblock_sizze_72869";
        values[279] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72858;
    }
    {
        names[280] = "calc_local_Skyline_GFUR_doublezisegmap_72821_dim1";
        values[280] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72823;
    }
    {
        names[281] = "calc_local_Skyline_GFUR_doublezisegmap_72821zisegmap_tblock_sizze_72824";
        values[281] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72823;
    }
    {
        names[282] = "calc_local_Skyline_GFUR_doublezisegscan_72819_dim1";
        values[282] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_72813;
    }
    {
        names[283] = "calc_local_Skyline_GFUR_doublezisegscan_72819zisegscan_tblock_sizze_72814";
        values[283] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_72813;
    }
    {
        names[284] = "calc_local_Skyline_GFUR_doublezisegscan_72819zichunk_sizze_96587";
        values[284] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[285] = "calc_local_Skyline_GFUR_doublezisegmap_72715_dim1";
        values[285] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70807;
    }
    {
        names[286] = "calc_local_Skyline_GFUR_doublezisegmap_72715zisegmap_tblock_sizze_72711";
        values[286] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70807;
    }
    {
        names[287] = "calc_local_Skyline_GFUR_doublezisegmap_72703_dim1";
        values[287] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70922;
    }
    {
        names[288] = "calc_local_Skyline_GFUR_doublezisegmap_72703zisegmap_tblock_sizze_72698";
        values[288] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70922;
    }
    {
        names[289] = "calc_local_Skyline_GFUR_doublezisegmap_72679_dim1";
        values[289] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70958;
    }
    {
        names[290] = "calc_local_Skyline_GFUR_doublezisegmap_72679zisegmap_tblock_sizze_72674";
        values[290] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70958;
    }
    {
        names[291] = "calc_local_Skyline_GFUR_doublezisegmap_72669_dim1";
        values[291] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70989;
    }
    {
        names[292] = "calc_local_Skyline_GFUR_doublezisegmap_72669zisegmap_tblock_sizze_72664";
        values[292] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70989;
    }
    {
        names[293] = "calc_local_Skyline_GFUR_doublezisegmap_72621_dim1";
        values[293] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71072;
    }
    {
        names[294] = "calc_local_Skyline_GFUR_doublezisegmap_72621zisegmap_tblock_sizze_72616";
        values[294] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71072;
    }
    {
        names[295] = "calc_local_Skyline_GFUR_doublezisegmap_72599_dim1";
        values[295] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71118;
    }
    {
        names[296] = "calc_local_Skyline_GFUR_doublezisegmap_72599zisegmap_tblock_sizze_72594";
        values[296] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71118;
    }
    {
        names[297] = "calc_local_Skyline_GFUR_doublezisegmap_72584_dim1";
        values[297] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71144;
    }
    {
        names[298] = "calc_local_Skyline_GFUR_doublezisegmap_72584zisegmap_tblock_sizze_72579";
        values[298] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71144;
    }
    {
        names[299] = "calc_local_Skyline_GFUR_doublezisegmap_72564_dim1";
        values[299] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71214;
    }
    {
        names[300] = "calc_local_Skyline_GFUR_doublezisegmap_72564zisegmap_tblock_sizze_72559";
        values[300] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71214;
    }
    {
        names[301] = "calc_local_Skyline_GFUR_doublezisegmap_72553_dim1";
        values[301] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71243;
    }
    {
        names[302] = "calc_local_Skyline_GFUR_doublezisegmap_72553zisegmap_tblock_sizze_72548";
        values[302] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71243;
    }
    {
        names[303] = "calc_local_Skyline_GFUR_doublezisegmap_72524_dim1";
        values[303] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71420;
    }
    {
        names[304] = "calc_local_Skyline_GFUR_doublezisegmap_72524zisegmap_tblock_sizze_72519";
        values[304] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71420;
    }
    {
        names[305] = "calc_local_Skyline_GFUR_doublezisegmap_72511_dim1";
        values[305] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71449;
    }
    {
        names[306] = "calc_local_Skyline_GFUR_doublezisegmap_72511zisegmap_tblock_sizze_72507";
        values[306] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71449;
    }
    {
        names[307] = "calc_local_Skyline_GFUR_doublezisegmap_72491_dim1";
        values[307] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71576;
    }
    {
        names[308] = "calc_local_Skyline_GFUR_doublezisegmap_72491zisegmap_tblock_sizze_72486";
        values[308] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71576;
    }
    {
        names[309] = "calc_local_Skyline_GFUR_doublezisegmap_72478_dim1";
        values[309] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71602;
    }
    {
        names[310] = "calc_local_Skyline_GFUR_doublezisegmap_72478zisegmap_tblock_sizze_72474";
        values[310] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71602;
    }
    {
        names[311] = "calc_local_Skyline_GFUR_doublezisegmap_72458_dim1";
        values[311] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71697;
    }
    {
        names[312] = "calc_local_Skyline_GFUR_doublezisegmap_72458zisegmap_tblock_sizze_72453";
        values[312] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71697;
    }
    {
        names[313] = "calc_local_Skyline_GFUR_doublezisegmap_72445_dim1";
        values[313] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71723;
    }
    {
        names[314] = "calc_local_Skyline_GFUR_doublezisegmap_72445zisegmap_tblock_sizze_72441";
        values[314] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71723;
    }
    {
        names[315] = "calc_local_Skyline_GFUR_doublezisegmap_72435_dim1";
        values[315] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71745;
    }
    {
        names[316] = "calc_local_Skyline_GFUR_doublezisegmap_72435zisegmap_tblock_sizze_72430";
        values[316] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71745;
    }
    {
        names[317] = "calc_local_Skyline_GFUR_doublezisegmap_72419_dim1";
        values[317] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71778;
    }
    {
        names[318] = "calc_local_Skyline_GFUR_doublezisegmap_72419zisegmap_tblock_sizze_72414";
        values[318] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71778;
    }
    {
        names[319] = "calc_local_Skyline_GFUR_doublezigpuseq_96207_dim1";
        values[319] = (int64_t) 1;
    }
    {
        names[320] = "calc_local_Skyline_GFUR_doublezigpuseq_96201_dim1";
        values[320] = (int64_t) 1;
    }
    {
        names[321] = "calc_local_Skyline_GFUR_doublezigpuseq_96169_dim1";
        values[321] = (int64_t) 1;
    }
    {
        names[322] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_70755_dim1";
        values[322] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_70746;
    }
    {
        names[323] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_70755zisegred_tblock_sizze_70747";
        values[323] = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_70746;
    }
    {
        names[324] = "calc_local_Skyline_GFUR_doublezisegred_nonseg_70755zichunk_sizze_96098";
        values[324] = (int64_t) 1;
    }
    {
        names[325] = "calc_global_Skyline_GFUR_doublezisegmap_76587_dim1";
        values[325] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_76571;
    }
    {
        names[326] = "calc_global_Skyline_GFUR_doublezisegmap_76587zisegmap_tblock_sizze_76583";
        values[326] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_76571;
    }
    {
        names[327] = "calc_global_Skyline_GFUR_doublezisegscan_76567_dim1";
        values[327] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_76561;
    }
    {
        names[328] = "calc_global_Skyline_GFUR_doublezisegscan_76567zisegscan_tblock_sizze_76562";
        values[328] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_76561;
    }
    {
        names[329] = "calc_global_Skyline_GFUR_doublezisegscan_76567zichunk_sizze_96864";
        values[329] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[330] = "calc_global_Skyline_GFUR_doublezisegred_large_96786_dim1";
        values[330] = *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541;
    }
    {
        names[331] = "calc_global_Skyline_GFUR_doublezisegred_large_96786ziseghist_tblock_sizze_76542";
        values[331] = *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541;
    }
    {
        names[332] = "calc_global_Skyline_GFUR_doublezisegred_large_96786zichunk_sizze_96787";
        values[332] = (int64_t) 1;
    }
    {
        names[333] = "calc_global_Skyline_GFUR_doublezisegred_small_96786_dim1";
        values[333] = *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541;
    }
    {
        names[334] = "calc_global_Skyline_GFUR_doublezisegred_small_96786ziseghist_tblock_sizze_76542";
        values[334] = *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541;
    }
    {
        names[335] = "calc_global_Skyline_GFUR_doubleziseghist_global_76549_dim1";
        values[335] = *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541;
    }
    {
        names[336] = "calc_global_Skyline_GFUR_doubleziseghist_global_76549ziseghist_tblock_sizze_76542";
        values[336] = *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541;
    }
    {
        names[337] = "calc_global_Skyline_GFUR_doubleziseghist_local_76549_dim1";
        values[337] = ctx->max_thread_block_size;
    }
    {
        names[338] = "calc_global_Skyline_GFUR_doubleziseghist_local_76549zimax_tblock_sizze_96710";
        values[338] = ctx->max_thread_block_size;
    }
    {
        names[339] = "calc_global_Skyline_GFUR_doublezisegmap_76530_dim1";
        values[339] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74922;
    }
    {
        names[340] = "calc_global_Skyline_GFUR_doublezisegmap_76530zisegmap_tblock_sizze_76526";
        values[340] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74922;
    }
    {
        names[341] = "calc_global_Skyline_GFUR_doublezisegmap_76518_dim1";
        values[341] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74950;
    }
    {
        names[342] = "calc_global_Skyline_GFUR_doublezisegmap_76518zisegmap_tblock_sizze_76513";
        values[342] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74950;
    }
    {
        names[343] = "calc_global_Skyline_GFUR_doublezisegmap_76494_dim1";
        values[343] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74986;
    }
    {
        names[344] = "calc_global_Skyline_GFUR_doublezisegmap_76494zisegmap_tblock_sizze_76489";
        values[344] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74986;
    }
    {
        names[345] = "calc_global_Skyline_GFUR_doublezisegmap_76484_dim1";
        values[345] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75017;
    }
    {
        names[346] = "calc_global_Skyline_GFUR_doublezisegmap_76484zisegmap_tblock_sizze_76479";
        values[346] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75017;
    }
    {
        names[347] = "calc_global_Skyline_GFUR_doublezisegmap_76436_dim1";
        values[347] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75100;
    }
    {
        names[348] = "calc_global_Skyline_GFUR_doublezisegmap_76436zisegmap_tblock_sizze_76431";
        values[348] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75100;
    }
    {
        names[349] = "calc_global_Skyline_GFUR_doublezisegmap_76414_dim1";
        values[349] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75146;
    }
    {
        names[350] = "calc_global_Skyline_GFUR_doublezisegmap_76414zisegmap_tblock_sizze_76409";
        values[350] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75146;
    }
    {
        names[351] = "calc_global_Skyline_GFUR_doublezisegmap_76399_dim1";
        values[351] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75172;
    }
    {
        names[352] = "calc_global_Skyline_GFUR_doublezisegmap_76399zisegmap_tblock_sizze_76394";
        values[352] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75172;
    }
    {
        names[353] = "calc_global_Skyline_GFUR_doublezisegmap_76379_dim1";
        values[353] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75242;
    }
    {
        names[354] = "calc_global_Skyline_GFUR_doublezisegmap_76379zisegmap_tblock_sizze_76374";
        values[354] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75242;
    }
    {
        names[355] = "calc_global_Skyline_GFUR_doublezisegmap_76368_dim1";
        values[355] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75271;
    }
    {
        names[356] = "calc_global_Skyline_GFUR_doublezisegmap_76368zisegmap_tblock_sizze_76363";
        values[356] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75271;
    }
    {
        names[357] = "calc_global_Skyline_GFUR_doublezisegmap_76339_dim1";
        values[357] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75448;
    }
    {
        names[358] = "calc_global_Skyline_GFUR_doublezisegmap_76339zisegmap_tblock_sizze_76334";
        values[358] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75448;
    }
    {
        names[359] = "calc_global_Skyline_GFUR_doublezisegmap_76326_dim1";
        values[359] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75477;
    }
    {
        names[360] = "calc_global_Skyline_GFUR_doublezisegmap_76326zisegmap_tblock_sizze_76322";
        values[360] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75477;
    }
    {
        names[361] = "calc_global_Skyline_GFUR_doublezisegmap_76306_dim1";
        values[361] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75604;
    }
    {
        names[362] = "calc_global_Skyline_GFUR_doublezisegmap_76306zisegmap_tblock_sizze_76301";
        values[362] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75604;
    }
    {
        names[363] = "calc_global_Skyline_GFUR_doublezisegmap_76293_dim1";
        values[363] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75630;
    }
    {
        names[364] = "calc_global_Skyline_GFUR_doublezisegmap_76293zisegmap_tblock_sizze_76289";
        values[364] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75630;
    }
    {
        names[365] = "calc_global_Skyline_GFUR_doublezisegmap_76273_dim1";
        values[365] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75662;
    }
    {
        names[366] = "calc_global_Skyline_GFUR_doublezisegmap_76273zisegmap_tblock_sizze_76268";
        values[366] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75662;
    }
    {
        names[367] = "calc_global_Skyline_GFUR_doublezisegmap_76260_dim1";
        values[367] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75688;
    }
    {
        names[368] = "calc_global_Skyline_GFUR_doublezisegmap_76260zisegmap_tblock_sizze_76256";
        values[368] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75688;
    }
    {
        names[369] = "calc_global_Skyline_GFUR_doublezisegmap_76248_dim1";
        values[369] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75742;
    }
    {
        names[370] = "calc_global_Skyline_GFUR_doublezisegmap_76248zisegmap_tblock_sizze_76243";
        values[370] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75742;
    }
    {
        names[371] = "calc_global_Skyline_GFUR_doublezisegmap_76232_dim1";
        values[371] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75775;
    }
    {
        names[372] = "calc_global_Skyline_GFUR_doublezisegmap_76232zisegmap_tblock_sizze_76227";
        values[372] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75775;
    }
    {
        names[373] = "calc_global_Skyline_GFUR_doublezigpuseq_96367_dim1";
        values[373] = (int64_t) 1;
    }
    {
        names[374] = "calc_global_Skyline_GFUR_doublezigpuseq_96338_dim1";
        values[374] = (int64_t) 1;
    }
    {
        names[375] = "calc_global_Skyline_GFUR_doublezisegmap_74867_dim1";
        values[375] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74804;
    }
    {
        names[376] = "calc_global_Skyline_GFUR_doublezisegmap_74867zisegmap_tblock_sizze_74863";
        values[376] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74804;
    }
    {
        names[377] = "calc_global_Skyline_GFUR_doublezisegmap_74858_dim1";
        values[377] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74818;
    }
    {
        names[378] = "calc_global_Skyline_GFUR_doublezisegmap_74858zisegmap_tblock_sizze_74853";
        values[378] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74818;
    }
    {
        names[379] = "calc_global_Skyline_GFUR_doublezisegmap_74845_dim1";
        values[379] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74830;
    }
    {
        names[380] = "calc_global_Skyline_GFUR_doublezisegmap_74845zisegmap_tblock_sizze_74841";
        values[380] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74830;
    }
    {
        names[381] = "calc_global_Skyline_GFUR_doublezisegmap_74793_dim1";
        values[381] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74795;
    }
    {
        names[382] = "calc_global_Skyline_GFUR_doublezisegmap_74793zisegmap_tblock_sizze_74796";
        values[382] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74795;
    }
    {
        names[383] = "calc_global_Skyline_GFUR_doublezisegscan_74791_dim1";
        values[383] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_74785;
    }
    {
        names[384] = "calc_global_Skyline_GFUR_doublezisegscan_74791zisegscan_tblock_sizze_74786";
        values[384] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_74785;
    }
    {
        names[385] = "calc_global_Skyline_GFUR_doublezisegscan_74791zichunk_sizze_96136";
        values[385] = smax64((int64_t) 1, smin64(squot64(squot64(ctx->max_shared_memory, ctx->max_thread_block_size), (int64_t) 8), squot64(squot64(ctx->max_registers, ctx->max_thread_block_size) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
    }
    {
        names[386] = "calc_global_Skyline_GFUR_doublezisegmap_74709_dim1";
        values[386] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74625;
    }
    {
        names[387] = "calc_global_Skyline_GFUR_doublezisegmap_74709zisegmap_tblock_sizze_74705";
        values[387] = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74625;
    }
    *names_out = names;
    *values_out = values;
    return num_macros;
}
static char *get_failure_msg(int failure_idx, int64_t args[])
{
    (void) args;
    switch (failure_idx) {
        
      case 0:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:660:46-56\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:762:10-13\n   #3  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 1:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:132:37-42\n   #1  ftSkyline.fut:662:103-108\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 2:
        {
            return msgprintf("Range %lld..<%lld is invalid.\n-> #0  ftbasics.fut:132:55-60\n   #1  ftSkyline.fut:662:103-108\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 3:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:133:29-34\n   #1  ftSkyline.fut:662:103-108\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 4:
        {
            return msgprintf("Range %lld..<%lld is invalid.\n-> #0  ftbasics.fut:132:55-60\n   #1  ftSkyline.fut:664:103-108\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 5:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:132:37-42\n   #1  ftSkyline.fut:664:103-108\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 6:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:133:29-34\n   #1  ftSkyline.fut:664:103-108\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 7:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:669:49-59\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:669:38-60\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 8:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 9:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 10:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 11:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:762:10-13\n   #2  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 12:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 13:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 14:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 15:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 16:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 17:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:762:10-13\n   #2  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 18:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:671:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:762:10-13\n   #5  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 19:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:671:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:762:10-13\n   #5  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 20:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:672:49-60\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:672:38-61\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 21:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:672:49-60\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:672:38-61\n   #3  ftSkyline.fut:762:10-13\n   #4  ftSkyline.fut:760:1-764:53\n", args[0], args[1]);
            break;
        }
        
      case 22:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:377:38-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:756:10-13\n   #3  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 23:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 24:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 25:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 26:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:756:10-13\n   #2  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 27:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 28:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 29:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 30:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 31:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 32:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 33:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:756:10-13\n   #2  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 34:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:386:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 35:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:386:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 36:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:391:63-78\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:391:44-80\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 37:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:392:95-112\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:756:10-13\n   #3  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 38:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:393:56-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:393:44-70\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 39:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:132:37-42\n   #1  ftSkyline.fut:398:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 40:
        {
            return msgprintf("Range %lld..<%lld is invalid.\n-> #0  ftbasics.fut:132:55-60\n   #1  ftSkyline.fut:398:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 41:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:133:29-34\n   #1  ftSkyline.fut:398:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 42:
        {
            return msgprintf("Range %lld..<%lld is invalid.\n-> #0  ftbasics.fut:132:55-60\n   #1  ftSkyline.fut:400:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 43:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:132:37-42\n   #1  ftSkyline.fut:400:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 44:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:133:29-34\n   #1  ftSkyline.fut:400:111-116\n   #2  /prelude/soacs.fut:75:28-29\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 45:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:409:53-63\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:409:42-64\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 46:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 47:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 48:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 49:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:756:10-13\n   #2  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 50:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 51:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 52:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 53:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 54:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 55:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:756:10-13\n   #2  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 56:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:411:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 57:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:411:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 58:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:412:51-62\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:412:40-63\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 59:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:412:51-62\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:412:40-63\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n", args[0], args[1]);
            break;
        }
        
      case 60:
        {
            return msgprintf("division by zero\n-> #0  ftSkyline.fut:62:78-86\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:59:36-64:34\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:57:20-65:18\n   #5  ftSkyline.fut:95:90-114\n   #6  ftSkyline.fut:740:17-41\n   #7  ftSkyline.fut:729:1-740:41\n");
            break;
        }
        
      case 61:
        {
            return msgprintf("division by zero\n-> #0  ftSkyline.fut:62:87-94\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:59:36-64:34\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:57:20-65:18\n   #5  ftSkyline.fut:95:90-114\n   #6  ftSkyline.fut:740:17-41\n   #7  ftSkyline.fut:729:1-740:41\n");
            break;
        }
        
      case 62:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 63:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 64:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 65:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 66:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 67:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 68:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 69:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 70:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 71:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 72:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:288:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 73:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:288:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 74:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 75:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 76:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 77:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 78:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 79:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 80:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 81:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 82:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 83:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 84:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 85:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 86:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 87:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 88:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 89:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 90:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 91:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 92:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 93:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 94:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:752:17-40\n   #11 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 95:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 96:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 97:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 98:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 99:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 100:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 101:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 102:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 103:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 104:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 105:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 106:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 107:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 108:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 109:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 110:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 111:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 112:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 113:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:752:17-40\n   #11 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 114:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 115:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 116:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 117:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 118:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 119:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 120:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 121:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 122:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 123:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 124:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 125:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 126:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:752:17-40\n   #11 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 127:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 128:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 129:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 130:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 131:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 132:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 133:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 134:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 135:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 136:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 137:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 138:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 139:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 140:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 141:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:293:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 142:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:293:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 143:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 144:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 145:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 146:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 147:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 148:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 149:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 150:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 151:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 152:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 153:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 154:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 155:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 156:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 157:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 158:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 159:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 160:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 161:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 162:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 163:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:752:17-40\n   #11 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 164:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 165:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 166:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 167:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 168:
        {
            return msgprintf("Index [%lld:] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 169:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 170:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 171:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 172:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 173:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 174:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 175:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 176:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 177:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 178:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 179:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 180:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 181:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 182:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:752:17-40\n   #11 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 183:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 184:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 185:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 186:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 187:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 188:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 189:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 190:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftSkyline.fut:752:17-40\n   #12 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 191:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 192:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 193:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 194:
        {
            return msgprintf("Index [%lld:%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n", args[0], args[1], args[2]);
            break;
        }
        
      case 195:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftSkyline.fut:752:17-40\n   #11 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 196:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 197:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 198:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 199:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 200:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:301:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 201:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:301:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 202:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:301:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 203:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 204:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:301:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 205:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:301:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 206:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:301:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 207:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 208:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:312:103-133\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:752:17-40\n   #3  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 209:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 210:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 211:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 212:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 213:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 214:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 215:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 216:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 217:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 218:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 219:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:168:48-78\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:345:80-81\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 220:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftbasics.fut:124:23-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:345:80-81\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
        
      case 221:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  ftSkyline.fut:349:38-61\n   #1  /prelude/soacs.fut:255:31-32\n   #2  /prelude/soacs.fut:255:48-50\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n", args[0], args[1]);
            break;
        }
    }
    return strdup("Unknown error.  This is a compiler bug.");
}
struct program {
    int dummy;
    gpu_kernel builtinzhiota_i64ziiota_i64_96103;
    gpu_kernel builtinzhreplicate_boolzireplicate_96199;
    gpu_kernel builtinzhreplicate_f64zireplicate_96220;
    gpu_kernel builtinzhreplicate_i32zireplicate_96178;
    gpu_kernel builtinzhreplicate_i64zireplicate_96126;
    gpu_kernel builtinzhreplicate_i8zireplicate_98765;
    gpu_kernel calc_global_Skyline_GFUR_doublezigpuseq_96338;
    gpu_kernel calc_global_Skyline_GFUR_doublezigpuseq_96367;
    gpu_kernel calc_global_Skyline_GFUR_doublezireplicate_96450;
    gpu_kernel calc_global_Skyline_GFUR_doublezireplicate_96494;
    gpu_kernel calc_global_Skyline_GFUR_doublezireplicate_96538;
    gpu_kernel calc_global_Skyline_GFUR_doublezireplicate_96616;
    gpu_kernel calc_global_Skyline_GFUR_doubleziseghist_global_76549;
    gpu_kernel calc_global_Skyline_GFUR_doubleziseghist_local_76549;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_74709;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_74793;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_74845;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_74858;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_74867;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76232;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76248;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76260;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76273;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76293;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76306;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76326;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76339;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76368;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76379;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76399;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76414;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76436;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76484;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76494;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76518;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76530;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_76587;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_intrablock_76100;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegmap_intrablock_76176;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegred_large_96786;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegred_small_96786;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegscan_74791;
    gpu_kernel calc_global_Skyline_GFUR_doublezisegscan_76567;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96169;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96201;
    gpu_kernel calc_local_Skyline_GFUR_doublezigpuseq_96207;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96305;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96349;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96393;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96494;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96828;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96872;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96916;
    gpu_kernel calc_local_Skyline_GFUR_doublezireplicate_96994;
    gpu_kernel calc_local_Skyline_GFUR_doubleziseghist_global_74577;
    gpu_kernel calc_local_Skyline_GFUR_doubleziseghist_local_74577;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72419;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72435;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72445;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72458;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72478;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72491;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72511;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72524;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72553;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72564;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72584;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72599;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72621;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72669;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72679;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72703;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72715;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72821;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72873;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72886;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_72895;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74260;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74276;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74288;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74301;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74321;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74334;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74354;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74367;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74396;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74407;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74427;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74442;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74464;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74512;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74522;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74546;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74558;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_74615;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_72246;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_72322;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_72379;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_74128;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegmap_intrablock_74204;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_large_97165;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_nonseg_70755;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegred_small_97165;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegscan_72819;
    gpu_kernel calc_local_Skyline_GFUR_doublezisegscan_74595;
    gpu_kernel define_skyline_space_doublezisegmap_70609;
    gpu_kernel define_skyline_space_doublezisegmap_70635;
    gpu_kernel define_skyline_space_doublezisegmap_70722;
    gpu_kernel define_skyline_space_doublezisegred_nonseg_70569;
    gpu_kernel define_skyline_space_doublezisegred_nonseg_70589;
    gpu_kernel define_skyline_space_doublezisegscan_70559;
    gpu_kernel define_skyline_space_doublezisegscan_70579;
    gpu_kernel sort_for_Skyline_doublezigpuseq_96115;
    gpu_kernel sort_for_Skyline_doublezigpuseq_96141;
    gpu_kernel sort_for_Skyline_doublezigpuseq_96167;
    gpu_kernel sort_for_Skyline_doublezigpuseq_96236;
    gpu_kernel sort_for_Skyline_doublezigpuseq_96248;
    gpu_kernel sort_for_Skyline_doublezigpuseq_96637;
    gpu_kernel sort_for_Skyline_doublezigpuseq_97587;
    gpu_kernel sort_for_Skyline_doublezireplicate_96334;
    gpu_kernel sort_for_Skyline_doublezireplicate_96377;
    gpu_kernel sort_for_Skyline_doublezireplicate_96421;
    gpu_kernel sort_for_Skyline_doublezireplicate_96499;
    gpu_kernel sort_for_Skyline_doublezireplicate_96887;
    gpu_kernel sort_for_Skyline_doublezireplicate_96907;
    gpu_kernel sort_for_Skyline_doublezireplicate_96927;
    gpu_kernel sort_for_Skyline_doublezireplicate_97085;
    gpu_kernel sort_for_Skyline_doublezireplicate_97108;
    gpu_kernel sort_for_Skyline_doublezireplicate_97131;
    gpu_kernel sort_for_Skyline_doublezireplicate_97249;
    gpu_kernel sort_for_Skyline_doublezireplicate_97292;
    gpu_kernel sort_for_Skyline_doublezireplicate_97336;
    gpu_kernel sort_for_Skyline_doublezireplicate_97414;
    gpu_kernel sort_for_Skyline_doublezireplicate_97862;
    gpu_kernel sort_for_Skyline_doublezireplicate_97882;
    gpu_kernel sort_for_Skyline_doublezireplicate_97902;
    gpu_kernel sort_for_Skyline_doublezireplicate_97922;
    gpu_kernel sort_for_Skyline_doublezireplicate_98095;
    gpu_kernel sort_for_Skyline_doublezireplicate_98118;
    gpu_kernel sort_for_Skyline_doublezireplicate_98141;
    gpu_kernel sort_for_Skyline_doublezireplicate_98164;
    gpu_kernel sort_for_Skyline_doublezireplicate_98503;
    gpu_kernel sort_for_Skyline_doublezireplicate_98546;
    gpu_kernel sort_for_Skyline_doublezireplicate_98590;
    gpu_kernel sort_for_Skyline_doublezireplicate_98668;
    gpu_kernel sort_for_Skyline_doubleziseghist_global_88717;
    gpu_kernel sort_for_Skyline_doubleziseghist_global_91219;
    gpu_kernel sort_for_Skyline_doubleziseghist_local_88717;
    gpu_kernel sort_for_Skyline_doubleziseghist_local_91219;
    gpu_kernel sort_for_Skyline_doublezisegmap_77955;
    gpu_kernel sort_for_Skyline_doublezisegmap_77971;
    gpu_kernel sort_for_Skyline_doublezisegmap_77983;
    gpu_kernel sort_for_Skyline_doublezisegmap_77996;
    gpu_kernel sort_for_Skyline_doublezisegmap_78016;
    gpu_kernel sort_for_Skyline_doublezisegmap_78029;
    gpu_kernel sort_for_Skyline_doublezisegmap_78049;
    gpu_kernel sort_for_Skyline_doublezisegmap_78062;
    gpu_kernel sort_for_Skyline_doublezisegmap_78091;
    gpu_kernel sort_for_Skyline_doublezisegmap_78102;
    gpu_kernel sort_for_Skyline_doublezisegmap_78122;
    gpu_kernel sort_for_Skyline_doublezisegmap_78137;
    gpu_kernel sort_for_Skyline_doublezisegmap_78159;
    gpu_kernel sort_for_Skyline_doublezisegmap_78207;
    gpu_kernel sort_for_Skyline_doublezisegmap_78217;
    gpu_kernel sort_for_Skyline_doublezisegmap_78241;
    gpu_kernel sort_for_Skyline_doublezisegmap_78253;
    gpu_kernel sort_for_Skyline_doublezisegmap_78594;
    gpu_kernel sort_for_Skyline_doublezisegmap_78624;
    gpu_kernel sort_for_Skyline_doublezisegmap_81496;
    gpu_kernel sort_for_Skyline_doublezisegmap_81528;
    gpu_kernel sort_for_Skyline_doublezisegmap_81540;
    gpu_kernel sort_for_Skyline_doublezisegmap_81550;
    gpu_kernel sort_for_Skyline_doublezisegmap_81564;
    gpu_kernel sort_for_Skyline_doublezisegmap_81577;
    gpu_kernel sort_for_Skyline_doublezisegmap_81587;
    gpu_kernel sort_for_Skyline_doublezisegmap_81612;
    gpu_kernel sort_for_Skyline_doublezisegmap_81956;
    gpu_kernel sort_for_Skyline_doublezisegmap_82077;
    gpu_kernel sort_for_Skyline_doublezisegmap_82159;
    gpu_kernel sort_for_Skyline_doublezisegmap_83684;
    gpu_kernel sort_for_Skyline_doublezisegmap_83700;
    gpu_kernel sort_for_Skyline_doublezisegmap_83712;
    gpu_kernel sort_for_Skyline_doublezisegmap_83725;
    gpu_kernel sort_for_Skyline_doublezisegmap_83745;
    gpu_kernel sort_for_Skyline_doublezisegmap_83758;
    gpu_kernel sort_for_Skyline_doublezisegmap_83778;
    gpu_kernel sort_for_Skyline_doublezisegmap_83791;
    gpu_kernel sort_for_Skyline_doublezisegmap_83820;
    gpu_kernel sort_for_Skyline_doublezisegmap_83831;
    gpu_kernel sort_for_Skyline_doublezisegmap_83851;
    gpu_kernel sort_for_Skyline_doublezisegmap_83866;
    gpu_kernel sort_for_Skyline_doublezisegmap_83888;
    gpu_kernel sort_for_Skyline_doublezisegmap_83913;
    gpu_kernel sort_for_Skyline_doublezisegmap_83922;
    gpu_kernel sort_for_Skyline_doublezisegmap_83964;
    gpu_kernel sort_for_Skyline_doublezisegmap_83974;
    gpu_kernel sort_for_Skyline_doublezisegmap_83998;
    gpu_kernel sort_for_Skyline_doublezisegmap_84010;
    gpu_kernel sort_for_Skyline_doublezisegmap_84438;
    gpu_kernel sort_for_Skyline_doublezisegmap_84474;
    gpu_kernel sort_for_Skyline_doublezisegmap_87810;
    gpu_kernel sort_for_Skyline_doublezisegmap_87845;
    gpu_kernel sort_for_Skyline_doublezisegmap_87858;
    gpu_kernel sort_for_Skyline_doublezisegmap_87868;
    gpu_kernel sort_for_Skyline_doublezisegmap_87884;
    gpu_kernel sort_for_Skyline_doublezisegmap_87898;
    gpu_kernel sort_for_Skyline_doublezisegmap_87908;
    gpu_kernel sort_for_Skyline_doublezisegmap_87938;
    gpu_kernel sort_for_Skyline_doublezisegmap_88341;
    gpu_kernel sort_for_Skyline_doublezisegmap_88479;
    gpu_kernel sort_for_Skyline_doublezisegmap_88568;
    gpu_kernel sort_for_Skyline_doublezisegmap_90809;
    gpu_kernel sort_for_Skyline_doublezisegmap_90825;
    gpu_kernel sort_for_Skyline_doublezisegmap_90837;
    gpu_kernel sort_for_Skyline_doublezisegmap_90850;
    gpu_kernel sort_for_Skyline_doublezisegmap_90870;
    gpu_kernel sort_for_Skyline_doublezisegmap_90883;
    gpu_kernel sort_for_Skyline_doublezisegmap_90903;
    gpu_kernel sort_for_Skyline_doublezisegmap_90916;
    gpu_kernel sort_for_Skyline_doublezisegmap_90945;
    gpu_kernel sort_for_Skyline_doublezisegmap_90956;
    gpu_kernel sort_for_Skyline_doublezisegmap_90976;
    gpu_kernel sort_for_Skyline_doublezisegmap_90991;
    gpu_kernel sort_for_Skyline_doublezisegmap_91013;
    gpu_kernel sort_for_Skyline_doublezisegmap_91061;
    gpu_kernel sort_for_Skyline_doublezisegmap_91071;
    gpu_kernel sort_for_Skyline_doublezisegmap_91095;
    gpu_kernel sort_for_Skyline_doublezisegmap_91108;
    gpu_kernel sort_for_Skyline_doublezisegmap_91169;
    gpu_kernel sort_for_Skyline_doublezisegmap_91182;
    gpu_kernel sort_for_Skyline_doublezisegmap_91193;
    gpu_kernel sort_for_Skyline_doublezisegmap_91203;
    gpu_kernel sort_for_Skyline_doublezisegmap_91252;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_77823;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_77899;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_78951;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_81691;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_83552;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_83628;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_84866;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_88035;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_90677;
    gpu_kernel sort_for_Skyline_doublezisegmap_intrablock_90753;
    gpu_kernel sort_for_Skyline_doublezisegred_large_98317;
    gpu_kernel sort_for_Skyline_doublezisegred_large_99014;
    gpu_kernel sort_for_Skyline_doublezisegred_nonseg_78274;
    gpu_kernel sort_for_Skyline_doublezisegred_nonseg_84032;
    gpu_kernel sort_for_Skyline_doublezisegred_nonseg_88800;
    gpu_kernel sort_for_Skyline_doublezisegred_small_98317;
    gpu_kernel sort_for_Skyline_doublezisegred_small_99014;
    gpu_kernel sort_for_Skyline_doublezisegscan_91135;
    gpu_kernel sort_for_Skyline_doublezisegscan_91232;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
    gpu_create_kernel(ctx, &ctx->program->builtinzhiota_i64ziiota_i64_96103, "builtinzhiota_i64ziiota_i64_96103");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_boolzireplicate_96199, "builtinzhreplicate_boolzireplicate_96199");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_f64zireplicate_96220, "builtinzhreplicate_f64zireplicate_96220");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i32zireplicate_96178, "builtinzhreplicate_i32zireplicate_96178");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i64zireplicate_96126, "builtinzhreplicate_i64zireplicate_96126");
    gpu_create_kernel(ctx, &ctx->program->builtinzhreplicate_i8zireplicate_98765, "builtinzhreplicate_i8zireplicate_98765");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezigpuseq_96338, "calc_global_Skyline_GFUR_doublezigpuseq_96338");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezigpuseq_96367, "calc_global_Skyline_GFUR_doublezigpuseq_96367");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96450, "calc_global_Skyline_GFUR_doublezireplicate_96450");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96494, "calc_global_Skyline_GFUR_doublezireplicate_96494");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96538, "calc_global_Skyline_GFUR_doublezireplicate_96538");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96616, "calc_global_Skyline_GFUR_doublezireplicate_96616");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doubleziseghist_global_76549, "calc_global_Skyline_GFUR_doubleziseghist_global_76549");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doubleziseghist_local_76549, "calc_global_Skyline_GFUR_doubleziseghist_local_76549");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74709, "calc_global_Skyline_GFUR_doublezisegmap_74709");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74793, "calc_global_Skyline_GFUR_doublezisegmap_74793");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74845, "calc_global_Skyline_GFUR_doublezisegmap_74845");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74858, "calc_global_Skyline_GFUR_doublezisegmap_74858");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74867, "calc_global_Skyline_GFUR_doublezisegmap_74867");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76232, "calc_global_Skyline_GFUR_doublezisegmap_76232");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76248, "calc_global_Skyline_GFUR_doublezisegmap_76248");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76260, "calc_global_Skyline_GFUR_doublezisegmap_76260");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76273, "calc_global_Skyline_GFUR_doublezisegmap_76273");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76293, "calc_global_Skyline_GFUR_doublezisegmap_76293");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76306, "calc_global_Skyline_GFUR_doublezisegmap_76306");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76326, "calc_global_Skyline_GFUR_doublezisegmap_76326");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76339, "calc_global_Skyline_GFUR_doublezisegmap_76339");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76368, "calc_global_Skyline_GFUR_doublezisegmap_76368");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76379, "calc_global_Skyline_GFUR_doublezisegmap_76379");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76399, "calc_global_Skyline_GFUR_doublezisegmap_76399");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76414, "calc_global_Skyline_GFUR_doublezisegmap_76414");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76436, "calc_global_Skyline_GFUR_doublezisegmap_76436");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76484, "calc_global_Skyline_GFUR_doublezisegmap_76484");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76494, "calc_global_Skyline_GFUR_doublezisegmap_76494");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76518, "calc_global_Skyline_GFUR_doublezisegmap_76518");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76530, "calc_global_Skyline_GFUR_doublezisegmap_76530");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76587, "calc_global_Skyline_GFUR_doublezisegmap_76587");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_intrablock_76100, "calc_global_Skyline_GFUR_doublezisegmap_intrablock_76100");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegmap_intrablock_76176, "calc_global_Skyline_GFUR_doublezisegmap_intrablock_76176");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegred_large_96786, "calc_global_Skyline_GFUR_doublezisegred_large_96786");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegred_small_96786, "calc_global_Skyline_GFUR_doublezisegred_small_96786");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegscan_74791, "calc_global_Skyline_GFUR_doublezisegscan_74791");
    gpu_create_kernel(ctx, &ctx->program->calc_global_Skyline_GFUR_doublezisegscan_76567, "calc_global_Skyline_GFUR_doublezisegscan_76567");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96169, "calc_local_Skyline_GFUR_doublezigpuseq_96169");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96201, "calc_local_Skyline_GFUR_doublezigpuseq_96201");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96207, "calc_local_Skyline_GFUR_doublezigpuseq_96207");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96305, "calc_local_Skyline_GFUR_doublezireplicate_96305");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96349, "calc_local_Skyline_GFUR_doublezireplicate_96349");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96393, "calc_local_Skyline_GFUR_doublezireplicate_96393");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96494, "calc_local_Skyline_GFUR_doublezireplicate_96494");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96828, "calc_local_Skyline_GFUR_doublezireplicate_96828");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96872, "calc_local_Skyline_GFUR_doublezireplicate_96872");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96916, "calc_local_Skyline_GFUR_doublezireplicate_96916");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96994, "calc_local_Skyline_GFUR_doublezireplicate_96994");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_74577, "calc_local_Skyline_GFUR_doubleziseghist_global_74577");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_74577, "calc_local_Skyline_GFUR_doubleziseghist_local_74577");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72419, "calc_local_Skyline_GFUR_doublezisegmap_72419");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72435, "calc_local_Skyline_GFUR_doublezisegmap_72435");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72445, "calc_local_Skyline_GFUR_doublezisegmap_72445");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72458, "calc_local_Skyline_GFUR_doublezisegmap_72458");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72478, "calc_local_Skyline_GFUR_doublezisegmap_72478");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72491, "calc_local_Skyline_GFUR_doublezisegmap_72491");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72511, "calc_local_Skyline_GFUR_doublezisegmap_72511");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72524, "calc_local_Skyline_GFUR_doublezisegmap_72524");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72553, "calc_local_Skyline_GFUR_doublezisegmap_72553");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72564, "calc_local_Skyline_GFUR_doublezisegmap_72564");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72584, "calc_local_Skyline_GFUR_doublezisegmap_72584");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72599, "calc_local_Skyline_GFUR_doublezisegmap_72599");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72621, "calc_local_Skyline_GFUR_doublezisegmap_72621");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72669, "calc_local_Skyline_GFUR_doublezisegmap_72669");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72679, "calc_local_Skyline_GFUR_doublezisegmap_72679");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72703, "calc_local_Skyline_GFUR_doublezisegmap_72703");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72715, "calc_local_Skyline_GFUR_doublezisegmap_72715");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72821, "calc_local_Skyline_GFUR_doublezisegmap_72821");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72873, "calc_local_Skyline_GFUR_doublezisegmap_72873");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72886, "calc_local_Skyline_GFUR_doublezisegmap_72886");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72895, "calc_local_Skyline_GFUR_doublezisegmap_72895");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74260, "calc_local_Skyline_GFUR_doublezisegmap_74260");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74276, "calc_local_Skyline_GFUR_doublezisegmap_74276");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74288, "calc_local_Skyline_GFUR_doublezisegmap_74288");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74301, "calc_local_Skyline_GFUR_doublezisegmap_74301");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74321, "calc_local_Skyline_GFUR_doublezisegmap_74321");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74334, "calc_local_Skyline_GFUR_doublezisegmap_74334");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74354, "calc_local_Skyline_GFUR_doublezisegmap_74354");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74367, "calc_local_Skyline_GFUR_doublezisegmap_74367");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74396, "calc_local_Skyline_GFUR_doublezisegmap_74396");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74407, "calc_local_Skyline_GFUR_doublezisegmap_74407");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74427, "calc_local_Skyline_GFUR_doublezisegmap_74427");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74442, "calc_local_Skyline_GFUR_doublezisegmap_74442");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74464, "calc_local_Skyline_GFUR_doublezisegmap_74464");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74512, "calc_local_Skyline_GFUR_doublezisegmap_74512");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74522, "calc_local_Skyline_GFUR_doublezisegmap_74522");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74546, "calc_local_Skyline_GFUR_doublezisegmap_74546");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74558, "calc_local_Skyline_GFUR_doublezisegmap_74558");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74615, "calc_local_Skyline_GFUR_doublezisegmap_74615");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72246, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_72246");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72322, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_72322");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72379, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_72379");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74128, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_74128");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74204, "calc_local_Skyline_GFUR_doublezisegmap_intrablock_74204");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_97165, "calc_local_Skyline_GFUR_doublezisegred_large_97165");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_70755, "calc_local_Skyline_GFUR_doublezisegred_nonseg_70755");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_97165, "calc_local_Skyline_GFUR_doublezisegred_small_97165");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegscan_72819, "calc_local_Skyline_GFUR_doublezisegscan_72819");
    gpu_create_kernel(ctx, &ctx->program->calc_local_Skyline_GFUR_doublezisegscan_74595, "calc_local_Skyline_GFUR_doublezisegscan_74595");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_70609, "define_skyline_space_doublezisegmap_70609");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_70635, "define_skyline_space_doublezisegmap_70635");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegmap_70722, "define_skyline_space_doublezisegmap_70722");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegred_nonseg_70569, "define_skyline_space_doublezisegred_nonseg_70569");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegred_nonseg_70589, "define_skyline_space_doublezisegred_nonseg_70589");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegscan_70559, "define_skyline_space_doublezisegscan_70559");
    gpu_create_kernel(ctx, &ctx->program->define_skyline_space_doublezisegscan_70579, "define_skyline_space_doublezisegscan_70579");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_96115, "sort_for_Skyline_doublezigpuseq_96115");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_96141, "sort_for_Skyline_doublezigpuseq_96141");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_96167, "sort_for_Skyline_doublezigpuseq_96167");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_96236, "sort_for_Skyline_doublezigpuseq_96236");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_96248, "sort_for_Skyline_doublezigpuseq_96248");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_96637, "sort_for_Skyline_doublezigpuseq_96637");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezigpuseq_97587, "sort_for_Skyline_doublezigpuseq_97587");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96334, "sort_for_Skyline_doublezireplicate_96334");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96377, "sort_for_Skyline_doublezireplicate_96377");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96421, "sort_for_Skyline_doublezireplicate_96421");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96499, "sort_for_Skyline_doublezireplicate_96499");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96887, "sort_for_Skyline_doublezireplicate_96887");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96907, "sort_for_Skyline_doublezireplicate_96907");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_96927, "sort_for_Skyline_doublezireplicate_96927");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97085, "sort_for_Skyline_doublezireplicate_97085");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97108, "sort_for_Skyline_doublezireplicate_97108");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97131, "sort_for_Skyline_doublezireplicate_97131");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97249, "sort_for_Skyline_doublezireplicate_97249");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97292, "sort_for_Skyline_doublezireplicate_97292");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97336, "sort_for_Skyline_doublezireplicate_97336");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97414, "sort_for_Skyline_doublezireplicate_97414");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97862, "sort_for_Skyline_doublezireplicate_97862");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97882, "sort_for_Skyline_doublezireplicate_97882");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97902, "sort_for_Skyline_doublezireplicate_97902");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_97922, "sort_for_Skyline_doublezireplicate_97922");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98095, "sort_for_Skyline_doublezireplicate_98095");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98118, "sort_for_Skyline_doublezireplicate_98118");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98141, "sort_for_Skyline_doublezireplicate_98141");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98164, "sort_for_Skyline_doublezireplicate_98164");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98503, "sort_for_Skyline_doublezireplicate_98503");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98546, "sort_for_Skyline_doublezireplicate_98546");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98590, "sort_for_Skyline_doublezireplicate_98590");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezireplicate_98668, "sort_for_Skyline_doublezireplicate_98668");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_global_88717, "sort_for_Skyline_doubleziseghist_global_88717");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_global_91219, "sort_for_Skyline_doubleziseghist_global_91219");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_local_88717, "sort_for_Skyline_doubleziseghist_local_88717");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doubleziseghist_local_91219, "sort_for_Skyline_doubleziseghist_local_91219");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77955, "sort_for_Skyline_doublezisegmap_77955");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77971, "sort_for_Skyline_doublezisegmap_77971");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77983, "sort_for_Skyline_doublezisegmap_77983");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_77996, "sort_for_Skyline_doublezisegmap_77996");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78016, "sort_for_Skyline_doublezisegmap_78016");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78029, "sort_for_Skyline_doublezisegmap_78029");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78049, "sort_for_Skyline_doublezisegmap_78049");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78062, "sort_for_Skyline_doublezisegmap_78062");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78091, "sort_for_Skyline_doublezisegmap_78091");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78102, "sort_for_Skyline_doublezisegmap_78102");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78122, "sort_for_Skyline_doublezisegmap_78122");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78137, "sort_for_Skyline_doublezisegmap_78137");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78159, "sort_for_Skyline_doublezisegmap_78159");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78207, "sort_for_Skyline_doublezisegmap_78207");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78217, "sort_for_Skyline_doublezisegmap_78217");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78241, "sort_for_Skyline_doublezisegmap_78241");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78253, "sort_for_Skyline_doublezisegmap_78253");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78594, "sort_for_Skyline_doublezisegmap_78594");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_78624, "sort_for_Skyline_doublezisegmap_78624");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81496, "sort_for_Skyline_doublezisegmap_81496");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81528, "sort_for_Skyline_doublezisegmap_81528");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81540, "sort_for_Skyline_doublezisegmap_81540");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81550, "sort_for_Skyline_doublezisegmap_81550");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81564, "sort_for_Skyline_doublezisegmap_81564");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81577, "sort_for_Skyline_doublezisegmap_81577");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81587, "sort_for_Skyline_doublezisegmap_81587");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81612, "sort_for_Skyline_doublezisegmap_81612");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_81956, "sort_for_Skyline_doublezisegmap_81956");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_82077, "sort_for_Skyline_doublezisegmap_82077");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_82159, "sort_for_Skyline_doublezisegmap_82159");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83684, "sort_for_Skyline_doublezisegmap_83684");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83700, "sort_for_Skyline_doublezisegmap_83700");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83712, "sort_for_Skyline_doublezisegmap_83712");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83725, "sort_for_Skyline_doublezisegmap_83725");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83745, "sort_for_Skyline_doublezisegmap_83745");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83758, "sort_for_Skyline_doublezisegmap_83758");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83778, "sort_for_Skyline_doublezisegmap_83778");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83791, "sort_for_Skyline_doublezisegmap_83791");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83820, "sort_for_Skyline_doublezisegmap_83820");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83831, "sort_for_Skyline_doublezisegmap_83831");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83851, "sort_for_Skyline_doublezisegmap_83851");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83866, "sort_for_Skyline_doublezisegmap_83866");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83888, "sort_for_Skyline_doublezisegmap_83888");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83913, "sort_for_Skyline_doublezisegmap_83913");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83922, "sort_for_Skyline_doublezisegmap_83922");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83964, "sort_for_Skyline_doublezisegmap_83964");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83974, "sort_for_Skyline_doublezisegmap_83974");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_83998, "sort_for_Skyline_doublezisegmap_83998");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_84010, "sort_for_Skyline_doublezisegmap_84010");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_84438, "sort_for_Skyline_doublezisegmap_84438");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_84474, "sort_for_Skyline_doublezisegmap_84474");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87810, "sort_for_Skyline_doublezisegmap_87810");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87845, "sort_for_Skyline_doublezisegmap_87845");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87858, "sort_for_Skyline_doublezisegmap_87858");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87868, "sort_for_Skyline_doublezisegmap_87868");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87884, "sort_for_Skyline_doublezisegmap_87884");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87898, "sort_for_Skyline_doublezisegmap_87898");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87908, "sort_for_Skyline_doublezisegmap_87908");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_87938, "sort_for_Skyline_doublezisegmap_87938");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_88341, "sort_for_Skyline_doublezisegmap_88341");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_88479, "sort_for_Skyline_doublezisegmap_88479");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_88568, "sort_for_Skyline_doublezisegmap_88568");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90809, "sort_for_Skyline_doublezisegmap_90809");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90825, "sort_for_Skyline_doublezisegmap_90825");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90837, "sort_for_Skyline_doublezisegmap_90837");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90850, "sort_for_Skyline_doublezisegmap_90850");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90870, "sort_for_Skyline_doublezisegmap_90870");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90883, "sort_for_Skyline_doublezisegmap_90883");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90903, "sort_for_Skyline_doublezisegmap_90903");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90916, "sort_for_Skyline_doublezisegmap_90916");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90945, "sort_for_Skyline_doublezisegmap_90945");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90956, "sort_for_Skyline_doublezisegmap_90956");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90976, "sort_for_Skyline_doublezisegmap_90976");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_90991, "sort_for_Skyline_doublezisegmap_90991");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91013, "sort_for_Skyline_doublezisegmap_91013");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91061, "sort_for_Skyline_doublezisegmap_91061");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91071, "sort_for_Skyline_doublezisegmap_91071");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91095, "sort_for_Skyline_doublezisegmap_91095");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91108, "sort_for_Skyline_doublezisegmap_91108");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91169, "sort_for_Skyline_doublezisegmap_91169");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91182, "sort_for_Skyline_doublezisegmap_91182");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91193, "sort_for_Skyline_doublezisegmap_91193");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91203, "sort_for_Skyline_doublezisegmap_91203");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_91252, "sort_for_Skyline_doublezisegmap_91252");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77823, "sort_for_Skyline_doublezisegmap_intrablock_77823");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77899, "sort_for_Skyline_doublezisegmap_intrablock_77899");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_78951, "sort_for_Skyline_doublezisegmap_intrablock_78951");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_81691, "sort_for_Skyline_doublezisegmap_intrablock_81691");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_83552, "sort_for_Skyline_doublezisegmap_intrablock_83552");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_83628, "sort_for_Skyline_doublezisegmap_intrablock_83628");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_84866, "sort_for_Skyline_doublezisegmap_intrablock_84866");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_88035, "sort_for_Skyline_doublezisegmap_intrablock_88035");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_90677, "sort_for_Skyline_doublezisegmap_intrablock_90677");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegmap_intrablock_90753, "sort_for_Skyline_doublezisegmap_intrablock_90753");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_large_98317, "sort_for_Skyline_doublezisegred_large_98317");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_large_99014, "sort_for_Skyline_doublezisegred_large_99014");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_nonseg_78274, "sort_for_Skyline_doublezisegred_nonseg_78274");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_nonseg_84032, "sort_for_Skyline_doublezisegred_nonseg_84032");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_nonseg_88800, "sort_for_Skyline_doublezisegred_nonseg_88800");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_small_98317, "sort_for_Skyline_doublezisegred_small_98317");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegred_small_99014, "sort_for_Skyline_doublezisegred_small_99014");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegscan_91135, "sort_for_Skyline_doublezisegscan_91135");
    gpu_create_kernel(ctx, &ctx->program->sort_for_Skyline_doublezisegscan_91232, "sort_for_Skyline_doublezisegscan_91232");
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    gpu_free_kernel(ctx, ctx->program->builtinzhiota_i64ziiota_i64_96103);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_boolzireplicate_96199);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_f64zireplicate_96220);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i32zireplicate_96178);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i64zireplicate_96126);
    gpu_free_kernel(ctx, ctx->program->builtinzhreplicate_i8zireplicate_98765);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezigpuseq_96338);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezigpuseq_96367);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96450);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96494);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96538);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96616);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doubleziseghist_global_76549);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doubleziseghist_local_76549);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74709);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74793);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74845);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74858);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74867);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76232);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76248);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76260);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76273);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76293);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76306);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76326);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76339);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76368);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76379);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76399);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76414);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76436);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76484);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76494);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76518);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76530);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76587);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_intrablock_76100);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_intrablock_76176);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegred_large_96786);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegred_small_96786);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegscan_74791);
    gpu_free_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegscan_76567);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96169);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96201);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96207);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96305);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96349);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96393);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96494);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96828);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96872);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96916);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96994);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_74577);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_74577);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72419);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72435);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72445);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72458);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72478);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72491);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72511);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72524);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72553);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72564);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72584);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72599);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72621);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72669);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72679);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72703);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72715);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72821);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72873);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72886);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72895);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74260);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74276);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74288);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74301);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74321);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74334);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74354);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74367);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74396);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74407);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74427);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74442);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74464);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74512);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74522);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74546);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74558);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74615);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72246);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72322);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72379);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74128);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74204);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_97165);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_70755);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_97165);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_72819);
    gpu_free_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_74595);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_70609);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_70635);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_70722);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_70569);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_70589);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_70559);
    gpu_free_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_70579);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96115);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96141);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96167);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96236);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96248);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96637);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_97587);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96334);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96377);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96421);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96499);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96887);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96907);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96927);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97085);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97108);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97131);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97249);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97292);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97336);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97414);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97862);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97882);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97902);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97922);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98095);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98118);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98141);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98164);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98503);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98546);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98590);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98668);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_88717);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_91219);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_88717);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_91219);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77955);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77971);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77983);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77996);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78016);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78029);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78049);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78062);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78091);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78102);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78122);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78137);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78159);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78207);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78217);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78241);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78253);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78594);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78624);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81496);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81528);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81540);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81550);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81564);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81577);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81587);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81612);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81956);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_82077);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_82159);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83684);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83700);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83712);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83725);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83745);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83758);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83778);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83791);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83820);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83831);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83851);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83866);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83888);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83913);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83922);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83964);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83974);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83998);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_84010);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_84438);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_84474);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87810);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87845);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87858);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87868);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87884);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87898);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87908);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87938);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_88341);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_88479);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_88568);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90809);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90825);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90837);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90850);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90870);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90883);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90903);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90916);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90945);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90956);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90976);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90991);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91013);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91061);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91071);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91095);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91108);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91169);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91182);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91193);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91203);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91252);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77823);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77899);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_78951);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_81691);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_83552);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_83628);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_84866);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_88035);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_90677);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_90753);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_98317);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_99014);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_78274);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_84032);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_88800);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_98317);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_99014);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_91135);
    gpu_free_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_91232);
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
    ctx->tuning_params.builtinzhiota_i64zitblock_sizze_96107 = &ctx->cfg->tuning_params[0];
    ctx->tuning_params.builtinzhreplicate_boolzitblock_sizze_96203 = &ctx->cfg->tuning_params[1];
    ctx->tuning_params.builtinzhreplicate_f64zitblock_sizze_96224 = &ctx->cfg->tuning_params[2];
    ctx->tuning_params.builtinzhreplicate_i32zitblock_sizze_96182 = &ctx->cfg->tuning_params[3];
    ctx->tuning_params.builtinzhreplicate_i64zitblock_sizze_96130 = &ctx->cfg->tuning_params[4];
    ctx->tuning_params.builtinzhreplicate_i8zitblock_sizze_98769 = &ctx->cfg->tuning_params[5];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezihist_L2_96762 = &ctx->cfg->tuning_params[6];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezihist_L_96709 = &ctx->cfg->tuning_params[7];
    ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_num_tblocks_76543 = &ctx->cfg->tuning_params[8];
    ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541 = &ctx->cfg->tuning_params[9];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_74797 = &ctx->cfg->tuning_params[10];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_74988 = &ctx->cfg->tuning_params[11];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75102 = &ctx->cfg->tuning_params[12];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75450 = &ctx->cfg->tuning_params[13];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75606 = &ctx->cfg->tuning_params[14];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75664 = &ctx->cfg->tuning_params[15];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74625 = &ctx->cfg->tuning_params[16];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74795 = &ctx->cfg->tuning_params[17];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74804 = &ctx->cfg->tuning_params[18];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74818 = &ctx->cfg->tuning_params[19];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74830 = &ctx->cfg->tuning_params[20];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74922 = &ctx->cfg->tuning_params[21];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74950 = &ctx->cfg->tuning_params[22];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74986 = &ctx->cfg->tuning_params[23];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75017 = &ctx->cfg->tuning_params[24];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75100 = &ctx->cfg->tuning_params[25];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75146 = &ctx->cfg->tuning_params[26];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75172 = &ctx->cfg->tuning_params[27];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75242 = &ctx->cfg->tuning_params[28];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75271 = &ctx->cfg->tuning_params[29];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75448 = &ctx->cfg->tuning_params[30];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75477 = &ctx->cfg->tuning_params[31];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75604 = &ctx->cfg->tuning_params[32];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75630 = &ctx->cfg->tuning_params[33];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75662 = &ctx->cfg->tuning_params[34];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75688 = &ctx->cfg->tuning_params[35];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75742 = &ctx->cfg->tuning_params[36];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75775 = &ctx->cfg->tuning_params[37];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_76571 = &ctx->cfg->tuning_params[38];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_num_tblocks_74787 = &ctx->cfg->tuning_params[39];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_num_tblocks_76563 = &ctx->cfg->tuning_params[40];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_74785 = &ctx->cfg->tuning_params[41];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_76561 = &ctx->cfg->tuning_params[42];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisuff_intra_par_0 = &ctx->cfg->tuning_params[43];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezisuff_intra_par_1 = &ctx->cfg->tuning_params[44];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezitblock_sizze_96454 = &ctx->cfg->tuning_params[45];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezitblock_sizze_96498 = &ctx->cfg->tuning_params[46];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezitblock_sizze_96542 = &ctx->cfg->tuning_params[47];
    ctx->tuning_params.calc_global_Skyline_GFUR_doublezitblock_sizze_96620 = &ctx->cfg->tuning_params[48];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L2_97141 = &ctx->cfg->tuning_params[49];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L_97088 = &ctx->cfg->tuning_params[50];
    ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_74571 = &ctx->cfg->tuning_params[51];
    ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569 = &ctx->cfg->tuning_params[52];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_70960 = &ctx->cfg->tuning_params[53];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71074 = &ctx->cfg->tuning_params[54];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71422 = &ctx->cfg->tuning_params[55];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71578 = &ctx->cfg->tuning_params[56];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71699 = &ctx->cfg->tuning_params[57];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_72825 = &ctx->cfg->tuning_params[58];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73016 = &ctx->cfg->tuning_params[59];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73130 = &ctx->cfg->tuning_params[60];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73478 = &ctx->cfg->tuning_params[61];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73634 = &ctx->cfg->tuning_params[62];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73692 = &ctx->cfg->tuning_params[63];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70807 = &ctx->cfg->tuning_params[64];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70922 = &ctx->cfg->tuning_params[65];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70958 = &ctx->cfg->tuning_params[66];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70989 = &ctx->cfg->tuning_params[67];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71072 = &ctx->cfg->tuning_params[68];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71118 = &ctx->cfg->tuning_params[69];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71144 = &ctx->cfg->tuning_params[70];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71214 = &ctx->cfg->tuning_params[71];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71243 = &ctx->cfg->tuning_params[72];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71420 = &ctx->cfg->tuning_params[73];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71449 = &ctx->cfg->tuning_params[74];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71576 = &ctx->cfg->tuning_params[75];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71602 = &ctx->cfg->tuning_params[76];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71697 = &ctx->cfg->tuning_params[77];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71723 = &ctx->cfg->tuning_params[78];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71745 = &ctx->cfg->tuning_params[79];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71778 = &ctx->cfg->tuning_params[80];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72823 = &ctx->cfg->tuning_params[81];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72832 = &ctx->cfg->tuning_params[82];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72846 = &ctx->cfg->tuning_params[83];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72858 = &ctx->cfg->tuning_params[84];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72950 = &ctx->cfg->tuning_params[85];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72978 = &ctx->cfg->tuning_params[86];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73014 = &ctx->cfg->tuning_params[87];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73045 = &ctx->cfg->tuning_params[88];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73128 = &ctx->cfg->tuning_params[89];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73174 = &ctx->cfg->tuning_params[90];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73200 = &ctx->cfg->tuning_params[91];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73270 = &ctx->cfg->tuning_params[92];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73299 = &ctx->cfg->tuning_params[93];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73476 = &ctx->cfg->tuning_params[94];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73505 = &ctx->cfg->tuning_params[95];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73632 = &ctx->cfg->tuning_params[96];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73658 = &ctx->cfg->tuning_params[97];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73690 = &ctx->cfg->tuning_params[98];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73716 = &ctx->cfg->tuning_params[99];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73770 = &ctx->cfg->tuning_params[100];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73803 = &ctx->cfg->tuning_params[101];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74599 = &ctx->cfg->tuning_params[102];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_num_tblocks_70748 = &ctx->cfg->tuning_params[103];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_70746 = &ctx->cfg->tuning_params[104];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_72815 = &ctx->cfg->tuning_params[105];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_74591 = &ctx->cfg->tuning_params[106];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_72813 = &ctx->cfg->tuning_params[107];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_74589 = &ctx->cfg->tuning_params[108];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_0 = &ctx->cfg->tuning_params[109];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_1 = &ctx->cfg->tuning_params[110];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_2 = &ctx->cfg->tuning_params[111];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_3 = &ctx->cfg->tuning_params[112];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_4 = &ctx->cfg->tuning_params[113];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96309 = &ctx->cfg->tuning_params[114];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96353 = &ctx->cfg->tuning_params[115];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96397 = &ctx->cfg->tuning_params[116];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96498 = &ctx->cfg->tuning_params[117];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96832 = &ctx->cfg->tuning_params[118];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96876 = &ctx->cfg->tuning_params[119];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96920 = &ctx->cfg->tuning_params[120];
    ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96998 = &ctx->cfg->tuning_params[121];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70593 = &ctx->cfg->tuning_params[122];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70619 = &ctx->cfg->tuning_params[123];
    ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70655 = &ctx->cfg->tuning_params[124];
    ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_70563 = &ctx->cfg->tuning_params[125];
    ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_70583 = &ctx->cfg->tuning_params[126];
    ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70561 = &ctx->cfg->tuning_params[127];
    ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70581 = &ctx->cfg->tuning_params[128];
    ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_70555 = &ctx->cfg->tuning_params[129];
    ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_70575 = &ctx->cfg->tuning_params[130];
    ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70553 = &ctx->cfg->tuning_params[131];
    ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70573 = &ctx->cfg->tuning_params[132];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L2_98283 = &ctx->cfg->tuning_params[133];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L2_98990 = &ctx->cfg->tuning_params[134];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L_98220 = &ctx->cfg->tuning_params[135];
    ctx->tuning_params.sort_for_Skyline_doublezihist_L_98937 = &ctx->cfg->tuning_params[136];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_88711 = &ctx->cfg->tuning_params[137];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_91213 = &ctx->cfg->tuning_params[138];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709 = &ctx->cfg->tuning_params[139];
    ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211 = &ctx->cfg->tuning_params[140];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76711 = &ctx->cfg->tuning_params[141];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76825 = &ctx->cfg->tuning_params[142];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77173 = &ctx->cfg->tuning_params[143];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77329 = &ctx->cfg->tuning_params[144];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77387 = &ctx->cfg->tuning_params[145];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_78356 = &ctx->cfg->tuning_params[146];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_78520 = &ctx->cfg->tuning_params[147];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_79600 = &ctx->cfg->tuning_params[148];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_80590 = &ctx->cfg->tuning_params[149];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_80683 = &ctx->cfg->tuning_params[150];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82393 = &ctx->cfg->tuning_params[151];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82554 = &ctx->cfg->tuning_params[152];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82902 = &ctx->cfg->tuning_params[153];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_83058 = &ctx->cfg->tuning_params[154];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_83116 = &ctx->cfg->tuning_params[155];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_84143 = &ctx->cfg->tuning_params[156];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_84358 = &ctx->cfg->tuning_params[157];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_85633 = &ctx->cfg->tuning_params[158];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_86775 = &ctx->cfg->tuning_params[159];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_86887 = &ctx->cfg->tuning_params[160];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89096 = &ctx->cfg->tuning_params[161];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89210 = &ctx->cfg->tuning_params[162];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89558 = &ctx->cfg->tuning_params[163];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89714 = &ctx->cfg->tuning_params[164];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89772 = &ctx->cfg->tuning_params[165];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_91187 = &ctx->cfg->tuning_params[166];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_91197 = &ctx->cfg->tuning_params[167];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_91207 = &ctx->cfg->tuning_params[168];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76645 = &ctx->cfg->tuning_params[169];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76673 = &ctx->cfg->tuning_params[170];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76709 = &ctx->cfg->tuning_params[171];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76740 = &ctx->cfg->tuning_params[172];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76823 = &ctx->cfg->tuning_params[173];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76869 = &ctx->cfg->tuning_params[174];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76895 = &ctx->cfg->tuning_params[175];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76965 = &ctx->cfg->tuning_params[176];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76994 = &ctx->cfg->tuning_params[177];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77171 = &ctx->cfg->tuning_params[178];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77200 = &ctx->cfg->tuning_params[179];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77327 = &ctx->cfg->tuning_params[180];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77353 = &ctx->cfg->tuning_params[181];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77385 = &ctx->cfg->tuning_params[182];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77411 = &ctx->cfg->tuning_params[183];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77465 = &ctx->cfg->tuning_params[184];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77498 = &ctx->cfg->tuning_params[185];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78354 = &ctx->cfg->tuning_params[186];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78518 = &ctx->cfg->tuning_params[187];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79598 = &ctx->cfg->tuning_params[188];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79694 = &ctx->cfg->tuning_params[189];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79709 = &ctx->cfg->tuning_params[190];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79722 = &ctx->cfg->tuning_params[191];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79767 = &ctx->cfg->tuning_params[192];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79782 = &ctx->cfg->tuning_params[193];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79795 = &ctx->cfg->tuning_params[194];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80588 = &ctx->cfg->tuning_params[195];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80681 = &ctx->cfg->tuning_params[196];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80929 = &ctx->cfg->tuning_params[197];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81464 = &ctx->cfg->tuning_params[198];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82327 = &ctx->cfg->tuning_params[199];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82355 = &ctx->cfg->tuning_params[200];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82391 = &ctx->cfg->tuning_params[201];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82422 = &ctx->cfg->tuning_params[202];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82477 = &ctx->cfg->tuning_params[203];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82502 = &ctx->cfg->tuning_params[204];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82552 = &ctx->cfg->tuning_params[205];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82598 = &ctx->cfg->tuning_params[206];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82624 = &ctx->cfg->tuning_params[207];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82694 = &ctx->cfg->tuning_params[208];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82723 = &ctx->cfg->tuning_params[209];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82900 = &ctx->cfg->tuning_params[210];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82929 = &ctx->cfg->tuning_params[211];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83056 = &ctx->cfg->tuning_params[212];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83082 = &ctx->cfg->tuning_params[213];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83114 = &ctx->cfg->tuning_params[214];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83140 = &ctx->cfg->tuning_params[215];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83194 = &ctx->cfg->tuning_params[216];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83227 = &ctx->cfg->tuning_params[217];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84141 = &ctx->cfg->tuning_params[218];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84356 = &ctx->cfg->tuning_params[219];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85631 = &ctx->cfg->tuning_params[220];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85749 = &ctx->cfg->tuning_params[221];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85764 = &ctx->cfg->tuning_params[222];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85777 = &ctx->cfg->tuning_params[223];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85825 = &ctx->cfg->tuning_params[224];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85840 = &ctx->cfg->tuning_params[225];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85853 = &ctx->cfg->tuning_params[226];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86773 = &ctx->cfg->tuning_params[227];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86885 = &ctx->cfg->tuning_params[228];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87159 = &ctx->cfg->tuning_params[229];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87778 = &ctx->cfg->tuning_params[230];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89022 = &ctx->cfg->tuning_params[231];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89058 = &ctx->cfg->tuning_params[232];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89094 = &ctx->cfg->tuning_params[233];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89125 = &ctx->cfg->tuning_params[234];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89208 = &ctx->cfg->tuning_params[235];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89254 = &ctx->cfg->tuning_params[236];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89280 = &ctx->cfg->tuning_params[237];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89350 = &ctx->cfg->tuning_params[238];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89379 = &ctx->cfg->tuning_params[239];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89556 = &ctx->cfg->tuning_params[240];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89585 = &ctx->cfg->tuning_params[241];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89712 = &ctx->cfg->tuning_params[242];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89738 = &ctx->cfg->tuning_params[243];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89770 = &ctx->cfg->tuning_params[244];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89796 = &ctx->cfg->tuning_params[245];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89850 = &ctx->cfg->tuning_params[246];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89883 = &ctx->cfg->tuning_params[247];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91152 = &ctx->cfg->tuning_params[248];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91185 = &ctx->cfg->tuning_params[249];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91195 = &ctx->cfg->tuning_params[250];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91205 = &ctx->cfg->tuning_params[251];
    ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91236 = &ctx->cfg->tuning_params[252];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_78266 = &ctx->cfg->tuning_params[253];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_84023 = &ctx->cfg->tuning_params[254];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_88794 = &ctx->cfg->tuning_params[255];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_78264 = &ctx->cfg->tuning_params[256];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_84021 = &ctx->cfg->tuning_params[257];
    ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88792 = &ctx->cfg->tuning_params[258];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_90660 = &ctx->cfg->tuning_params[259];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_91228 = &ctx->cfg->tuning_params[260];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90658 = &ctx->cfg->tuning_params[261];
    ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_91226 = &ctx->cfg->tuning_params[262];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_0 = &ctx->cfg->tuning_params[263];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_1 = &ctx->cfg->tuning_params[264];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_10 = &ctx->cfg->tuning_params[265];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_2 = &ctx->cfg->tuning_params[266];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_3 = &ctx->cfg->tuning_params[267];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_4 = &ctx->cfg->tuning_params[268];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_5 = &ctx->cfg->tuning_params[269];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_6 = &ctx->cfg->tuning_params[270];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_7 = &ctx->cfg->tuning_params[271];
    ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_9 = &ctx->cfg->tuning_params[272];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96338 = &ctx->cfg->tuning_params[273];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96381 = &ctx->cfg->tuning_params[274];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96425 = &ctx->cfg->tuning_params[275];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96503 = &ctx->cfg->tuning_params[276];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96891 = &ctx->cfg->tuning_params[277];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96911 = &ctx->cfg->tuning_params[278];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96931 = &ctx->cfg->tuning_params[279];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97089 = &ctx->cfg->tuning_params[280];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97112 = &ctx->cfg->tuning_params[281];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97135 = &ctx->cfg->tuning_params[282];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97253 = &ctx->cfg->tuning_params[283];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97296 = &ctx->cfg->tuning_params[284];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97340 = &ctx->cfg->tuning_params[285];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97418 = &ctx->cfg->tuning_params[286];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97866 = &ctx->cfg->tuning_params[287];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97886 = &ctx->cfg->tuning_params[288];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97906 = &ctx->cfg->tuning_params[289];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97926 = &ctx->cfg->tuning_params[290];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98099 = &ctx->cfg->tuning_params[291];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98122 = &ctx->cfg->tuning_params[292];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98145 = &ctx->cfg->tuning_params[293];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98168 = &ctx->cfg->tuning_params[294];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98507 = &ctx->cfg->tuning_params[295];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98550 = &ctx->cfg->tuning_params[296];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98594 = &ctx->cfg->tuning_params[297];
    ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98672 = &ctx->cfg->tuning_params[298];
}
int memblock_unref_device(struct futhark_context *ctx, struct memblock_device *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "space 'device'", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_device -= block->size;
            (void) gpu_free(ctx, block->mem, block->size, desc);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_device);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc_device(struct futhark_context *ctx, struct memblock_device *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "space 'device'", ctx->cur_mem_usage_device);
    
    int ret = memblock_unref_device(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "space 'device'", (long long) ctx->cur_mem_usage_device);
    (void) gpu_alloc(ctx, ctx->log, (size_t) size, desc, &block->mem, (size_t *) &size);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_device + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_device = new_usage;
        if (new_usage > ctx->peak_mem_usage_device) {
            ctx->peak_mem_usage_device = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "space 'device'", (long long) size, (long long) ctx->cur_mem_usage_device, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set_device(struct futhark_context *ctx, struct memblock_device *lhs, struct memblock_device *rhs, const char *lhs_desc)
{
    int ret = memblock_unref_device(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"space 'device'\": %lld", (long long) ctx->peak_mem_usage_device);
    str_builder_char(&builder, ',');
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    ctx->peak_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    if (ctx->error == NULL)
        gpu_free_all(ctx);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_builtinzhiota_i64(struct futhark_context *ctx, struct memblock_device mem_96098, int64_t n_96099, int64_t x_96100, int64_t s_96101);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_bool(struct futhark_context *ctx, struct memblock_device mem_96194, int64_t num_elems_96195, bool val_96196);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_f64(struct futhark_context *ctx, struct memblock_device mem_96215, int64_t num_elems_96216, double val_96217);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i32(struct futhark_context *ctx, struct memblock_device mem_96173, int64_t num_elems_96174, int32_t val_96175);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i64(struct futhark_context *ctx, struct memblock_device mem_96121, int64_t num_elems_96122, int64_t val_96123);
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i8(struct futhark_context *ctx, struct memblock_device mem_98760, int64_t num_elems_98761, int8_t val_98762);
FUTHARK_FUN_ATTR int futrts_entry_calc_global_Skyline_GFUR_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99199, struct memblock_device *mem_out_p_99200, struct memblock_device *mem_out_p_99201, struct memblock_device *mem_out_p_99202, int64_t *out_prim_out_99203, int64_t *out_prim_out_99204, struct memblock_device angle_part_prefix_sum_mem_91593, struct memblock_device angle_partitions_per_dim_mem_91594, struct memblock_device grid_part_prefix_sum_mem_91595, struct memblock_device grid_part_sizze_per_dim_mem_91596, struct memblock_device grid_partitions_per_dim_mem_91597, struct memblock_device start_of_grid_partition_mem_91598, struct memblock_device isPartitionDominated_mem_91599, struct memblock_device part_idx_mem_91600, struct memblock_device xys_mem_91601, struct memblock_device xys_mem_91602, int64_t dim_54348, int64_t dz2080U_54349, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, int64_t dz2081U_54351, int64_t dz2082U_54352, int64_t dz2083U_54353, int64_t total_angle_no_54360, int64_t total_grid_no_54361, int64_t total_part_no_54362);
FUTHARK_FUN_ATTR int futrts_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99207, struct memblock_device *mem_out_p_99208, struct memblock_device *mem_out_p_99209, struct memblock_device *mem_out_p_99210, int64_t *out_prim_out_99211, int64_t *out_prim_out_99212, struct memblock_device angle_part_prefix_sum_mem_91593, struct memblock_device angle_partitions_per_dim_mem_91594, struct memblock_device grid_part_prefix_sum_mem_91595, struct memblock_device grid_part_sizze_per_dim_mem_91596, struct memblock_device grid_partitions_per_dim_mem_91597, struct memblock_device start_of_grid_partition_mem_91598, struct memblock_device isPartitionDominated_mem_91599, struct memblock_device part_idx_mem_91600, struct memblock_device xys_mem_91601, struct memblock_device xys_mem_91602, int64_t dim_51486, int64_t dz2080U_51487, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, int64_t dz2081U_51489, int64_t dz2082U_51490, int64_t dz2083U_51491, int64_t total_angle_no_51498, int64_t total_grid_no_51499, int64_t total_part_no_51500);
FUTHARK_FUN_ATTR int futrts_entry_define_skyline_space_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99217, struct memblock_device *mem_out_p_99218, struct memblock_device *mem_out_p_99219, struct memblock_device *mem_out_p_99220, struct memblock_device *mem_out_p_99221, struct memblock_device *mem_out_p_99222, int64_t *out_prim_out_99223, int64_t *out_prim_out_99224, int64_t *out_prim_out_99225, int64_t *out_prim_out_99226, struct memblock_device min_per_dim_mem_91593, struct memblock_device max_per_dim_mem_91594, struct memblock_device grid_partitions_per_dim_mem_91595, struct memblock_device angle_partitions_per_dim_mem_91596, int64_t dim_30775, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776);
FUTHARK_FUN_ATTR int futrts_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99229, struct memblock_device *mem_out_p_99230, struct memblock_device *mem_out_p_99231, struct memblock_device *mem_out_p_99232, int64_t *out_prim_out_99233, int64_t *out_prim_out_99234, int64_t *out_prim_out_99235, struct memblock_device angle_part_prefix_sum_mem_91593, struct memblock_device angle_partitions_per_dim_mem_91594, struct memblock_device grid_part_prefix_sum_mem_91595, struct memblock_device grid_part_sizze_per_dim_mem_91596, struct memblock_device grid_partitions_per_dim_mem_91597, struct memblock_device start_of_grid_partition_mem_91598, struct memblock_device xs_mem_91599, int64_t dim_45874, int64_t dz2080U_45875, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, int64_t n_45877, int64_t total_angle_no_45884, int64_t total_grid_no_45885, int64_t total_part_no_45886, bool use_measure_for_sorting_45888);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_99244, int64_t upper_bound_31166, int64_t n_31167);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10151(struct futhark_context *ctx, double *out_prim_out_99245, struct memblock_device angle_partitions_per_dim_mem_91593, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30884, int64_t dim_30885, int64_t i_30887);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10152(struct futhark_context *ctx, int64_t *out_prim_out_99247, double a_30899, double ba_30900, int64_t pf_30901, int64_t pd_30902);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_10121(struct futhark_context *ctx, int64_t *out_prim_out_99248, int64_t *out_prim_out_99249, int64_t *out_prim_out_99250, int64_t *out_prim_out_99251, int64_t *out_prim_out_99252, int64_t slo_31470, int64_t shi_31471, int64_t tlo_31472, int64_t thi_31473, int64_t count_31474);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    #define counters_mem_96099 (ctx->constants->counters_mem_96099)
    #define counters_mem_96246 (ctx->constants->counters_mem_96246)
    #define counters_mem_96384 (ctx->constants->counters_mem_96384)
    #define counters_mem_96583 (ctx->constants->counters_mem_96583)
    #define counters_mem_96823 (ctx->constants->counters_mem_96823)
    #define counters_mem_97202 (ctx->constants->counters_mem_97202)
    #define counters_mem_97519 (ctx->constants->counters_mem_97519)
    #define counters_mem_98354 (ctx->constants->counters_mem_98354)
    #define counters_mem_98393 (ctx->constants->counters_mem_98393)
    #define counters_mem_99051 (ctx->constants->counters_mem_99051)
    #define global_dynid_mem_96135 (ctx->constants->global_dynid_mem_96135)
    #define global_dynid_mem_96165 (ctx->constants->global_dynid_mem_96165)
    #define global_dynid_mem_96293 (ctx->constants->global_dynid_mem_96293)
    #define global_dynid_mem_96616 (ctx->constants->global_dynid_mem_96616)
    #define global_dynid_mem_96873 (ctx->constants->global_dynid_mem_96873)
    #define global_dynid_mem_97252 (ctx->constants->global_dynid_mem_97252)
    #define global_dynid_mem_98784 (ctx->constants->global_dynid_mem_98784)
    #define global_dynid_mem_99101 (ctx->constants->global_dynid_mem_99101)
    counters_mem_96099.references = NULL;
    counters_mem_96246.references = NULL;
    counters_mem_96384.references = NULL;
    counters_mem_96583.references = NULL;
    counters_mem_96823.references = NULL;
    counters_mem_97202.references = NULL;
    counters_mem_97519.references = NULL;
    counters_mem_98354.references = NULL;
    counters_mem_98393.references = NULL;
    counters_mem_99051.references = NULL;
    global_dynid_mem_96135.references = NULL;
    global_dynid_mem_96165.references = NULL;
    global_dynid_mem_96293.references = NULL;
    global_dynid_mem_96616.references = NULL;
    global_dynid_mem_96873.references = NULL;
    global_dynid_mem_97252.references = NULL;
    global_dynid_mem_98784.references = NULL;
    global_dynid_mem_99101.references = NULL;
    if (memblock_alloc_device(ctx, &global_dynid_mem_96135, (int64_t) 4, "global_dynid_mem_96135")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_96135, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_96246, (int64_t) 80, "counters_mem_96246")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_96246, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_96293, (int64_t) 4, "global_dynid_mem_96293")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_96293, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_96384, (int64_t) 80, "counters_mem_96384")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_96384, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_96099, (int64_t) 80, "counters_mem_96099")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_96099, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_96616, (int64_t) 4, "global_dynid_mem_96616")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_96616, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_97202, (int64_t) 81920, "counters_mem_97202")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_97202, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_97252, (int64_t) 4, "global_dynid_mem_97252")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_97252, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_96165, (int64_t) 4, "global_dynid_mem_96165")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_96165, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_96823, (int64_t) 81920, "counters_mem_96823")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_96823, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_96873, (int64_t) 4, "global_dynid_mem_96873")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_96873, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_96583, (int64_t) 80, "counters_mem_96583")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_96583, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_97519, (int64_t) 80, "counters_mem_97519")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_97519, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_98354, (int64_t) 81920, "counters_mem_98354")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_98354, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_98393, (int64_t) 80, "counters_mem_98393")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_98393, (int64_t) 20, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_98784, (int64_t) 4, "global_dynid_mem_98784")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_98784, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_99051, (int64_t) 81920, "counters_mem_99051")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_99051, (int64_t) 20480, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &global_dynid_mem_99101, (int64_t) 4, "global_dynid_mem_99101")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, global_dynid_mem_99101, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    #undef counters_mem_96099
    #undef counters_mem_96246
    #undef counters_mem_96384
    #undef counters_mem_96583
    #undef counters_mem_96823
    #undef counters_mem_97202
    #undef counters_mem_97519
    #undef counters_mem_98354
    #undef counters_mem_98393
    #undef counters_mem_99051
    #undef global_dynid_mem_96135
    #undef global_dynid_mem_96165
    #undef global_dynid_mem_96293
    #undef global_dynid_mem_96616
    #undef global_dynid_mem_96873
    #undef global_dynid_mem_97252
    #undef global_dynid_mem_98784
    #undef global_dynid_mem_99101
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_96099, "ctx->constants->counters_mem_96099") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_96246, "ctx->constants->counters_mem_96246") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_96384, "ctx->constants->counters_mem_96384") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_96583, "ctx->constants->counters_mem_96583") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_96823, "ctx->constants->counters_mem_96823") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_97202, "ctx->constants->counters_mem_97202") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_97519, "ctx->constants->counters_mem_97519") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_98354, "ctx->constants->counters_mem_98354") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_98393, "ctx->constants->counters_mem_98393") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_99051, "ctx->constants->counters_mem_99051") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_96135, "ctx->constants->global_dynid_mem_96135") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_96165, "ctx->constants->global_dynid_mem_96165") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_96293, "ctx->constants->global_dynid_mem_96293") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_96616, "ctx->constants->global_dynid_mem_96616") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_96873, "ctx->constants->global_dynid_mem_96873") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_97252, "ctx->constants->global_dynid_mem_97252") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_98784, "ctx->constants->global_dynid_mem_98784") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->global_dynid_mem_99101, "ctx->constants->global_dynid_mem_99101") != 0)
        return 1;
    return 0;
}
static int gpu_kernel_builtinzhiota_i64ziiota_i64_96103(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhiota_i64ziiota_i64_96103, "builtin#iota_i64.iota_i64_96103", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_boolzireplicate_96199(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, bool arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_boolzireplicate_96199, "builtin#replicate_bool.replicate_96199", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_f64zireplicate_96220(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, double arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_f64zireplicate_96220, "builtin#replicate_f64.replicate_96220", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i32zireplicate_96178(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int32_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i32zireplicate_96178, "builtin#replicate_i32.replicate_96178", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i64zireplicate_96126(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i64zireplicate_96126, "builtin#replicate_i64.replicate_96126", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_builtinzhreplicate_i8zireplicate_98765(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int8_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[6] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->builtinzhreplicate_i8zireplicate_98765, "builtin#replicate_i8.replicate_98765", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74709(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, bool arg5, bool arg6, bool arg7, int64_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74709, "calc_global_Skyline_GFUR_double.segmap_74709", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegscan_74791(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegscan_74791, "calc_global_Skyline_GFUR_double.segscan_74791", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74793(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int32_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74793, "calc_global_Skyline_GFUR_double.segmap_74793", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74845(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74845, "calc_global_Skyline_GFUR_double.segmap_74845", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74858(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74858, "calc_global_Skyline_GFUR_double.segmap_74858", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74867(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_74867, "calc_global_Skyline_GFUR_double.segmap_74867", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezigpuseq_96338(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezigpuseq_96338, "calc_global_Skyline_GFUR_double.gpuseq_96338", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezigpuseq_96367(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezigpuseq_96367, "calc_global_Skyline_GFUR_double.gpuseq_96367", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_intrablock_76100(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_intrablock_76100, "calc_global_Skyline_GFUR_double.segmap_intrablock_76100", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_intrablock_76176(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_intrablock_76176, "calc_global_Skyline_GFUR_double.segmap_intrablock_76176", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76232(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76232, "calc_global_Skyline_GFUR_double.segmap_76232", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76248(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76248, "calc_global_Skyline_GFUR_double.segmap_76248", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76260(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76260, "calc_global_Skyline_GFUR_double.segmap_76260", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezireplicate_96450(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96450, "calc_global_Skyline_GFUR_double.replicate_96450", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76273(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76273, "calc_global_Skyline_GFUR_double.segmap_76273", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76293(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76293, "calc_global_Skyline_GFUR_double.segmap_76293", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezireplicate_96494(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96494, "calc_global_Skyline_GFUR_double.replicate_96494", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76306(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76306, "calc_global_Skyline_GFUR_double.segmap_76306", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76326(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76326, "calc_global_Skyline_GFUR_double.segmap_76326", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezireplicate_96538(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96538, "calc_global_Skyline_GFUR_double.replicate_96538", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76339(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76339, "calc_global_Skyline_GFUR_double.segmap_76339", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76368(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76368, "calc_global_Skyline_GFUR_double.segmap_76368", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76379(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76379, "calc_global_Skyline_GFUR_double.segmap_76379", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76399(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76399, "calc_global_Skyline_GFUR_double.segmap_76399", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76414(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76414, "calc_global_Skyline_GFUR_double.segmap_76414", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezireplicate_96616(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezireplicate_96616, "calc_global_Skyline_GFUR_double.replicate_96616", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76436(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76436, "calc_global_Skyline_GFUR_double.segmap_76436", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76484(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76484, "calc_global_Skyline_GFUR_double.segmap_76484", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76494(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76494, "calc_global_Skyline_GFUR_double.segmap_76494", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76518(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76518, "calc_global_Skyline_GFUR_double.segmap_76518", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76530(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76530, "calc_global_Skyline_GFUR_double.segmap_76530", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doubleziseghist_local_76549(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, int32_t arg6, int64_t arg7, int64_t arg8, int64_t arg9, int32_t arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doubleziseghist_local_76549, "calc_global_Skyline_GFUR_double.seghist_local_76549", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doubleziseghist_global_76549(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doubleziseghist_global_76549, "calc_global_Skyline_GFUR_double.seghist_global_76549", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegred_small_96786(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegred_small_96786, "calc_global_Skyline_GFUR_double.segred_small_96786", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegred_large_96786(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegred_large_96786, "calc_global_Skyline_GFUR_double.segred_large_96786", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegscan_76567(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegscan_76567, "calc_global_Skyline_GFUR_double.segscan_76567", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76587(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_global_Skyline_GFUR_doublezisegmap_76587, "calc_global_Skyline_GFUR_double.segmap_76587", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_nonseg_70755(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_nonseg_70755, "calc_local_Skyline_GFUR_double.segred_nonseg_70755", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96169(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96169, "calc_local_Skyline_GFUR_double.gpuseq_96169", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96201(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96201, "calc_local_Skyline_GFUR_double.gpuseq_96201", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96207(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezigpuseq_96207, "calc_local_Skyline_GFUR_double.gpuseq_96207", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_72246(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72246, "calc_local_Skyline_GFUR_double.segmap_intrablock_72246", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_72322(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72322, "calc_local_Skyline_GFUR_double.segmap_intrablock_72322", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_72379(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_72379, "calc_local_Skyline_GFUR_double.segmap_intrablock_72379", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72419(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72419, "calc_local_Skyline_GFUR_double.segmap_72419", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72435(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72435, "calc_local_Skyline_GFUR_double.segmap_72435", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72445(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72445, "calc_local_Skyline_GFUR_double.segmap_72445", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96305(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96305, "calc_local_Skyline_GFUR_double.replicate_96305", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72458(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72458, "calc_local_Skyline_GFUR_double.segmap_72458", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72478(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72478, "calc_local_Skyline_GFUR_double.segmap_72478", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96349(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96349, "calc_local_Skyline_GFUR_double.replicate_96349", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72491(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72491, "calc_local_Skyline_GFUR_double.segmap_72491", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72511(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72511, "calc_local_Skyline_GFUR_double.segmap_72511", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96393(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96393, "calc_local_Skyline_GFUR_double.replicate_96393", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72524(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72524, "calc_local_Skyline_GFUR_double.segmap_72524", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72553(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72553, "calc_local_Skyline_GFUR_double.segmap_72553", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72564(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72564, "calc_local_Skyline_GFUR_double.segmap_72564", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72584(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72584, "calc_local_Skyline_GFUR_double.segmap_72584", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72599(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72599, "calc_local_Skyline_GFUR_double.segmap_72599", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96494(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96494, "calc_local_Skyline_GFUR_double.replicate_96494", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72621(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72621, "calc_local_Skyline_GFUR_double.segmap_72621", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72669(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72669, "calc_local_Skyline_GFUR_double.segmap_72669", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72679(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72679, "calc_local_Skyline_GFUR_double.segmap_72679", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72703(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72703, "calc_local_Skyline_GFUR_double.segmap_72703", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72715(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, bool arg5, bool arg6, bool arg7, int64_t arg8, bool arg9, int64_t arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[24] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20};
        size_t args_sizes[24] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72715, "calc_local_Skyline_GFUR_double.segmap_72715", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 24, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_72819(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_72819, "calc_local_Skyline_GFUR_double.segscan_72819", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72821(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int32_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72821, "calc_local_Skyline_GFUR_double.segmap_72821", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72873(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72873, "calc_local_Skyline_GFUR_double.segmap_72873", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72886(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72886, "calc_local_Skyline_GFUR_double.segmap_72886", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72895(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_72895, "calc_local_Skyline_GFUR_double.segmap_72895", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_74128(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74128, "calc_local_Skyline_GFUR_double.segmap_intrablock_74128", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_74204(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_intrablock_74204, "calc_local_Skyline_GFUR_double.segmap_intrablock_74204", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74260(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74260, "calc_local_Skyline_GFUR_double.segmap_74260", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74276(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74276, "calc_local_Skyline_GFUR_double.segmap_74276", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74288(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74288, "calc_local_Skyline_GFUR_double.segmap_74288", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96828(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96828, "calc_local_Skyline_GFUR_double.replicate_96828", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74301(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74301, "calc_local_Skyline_GFUR_double.segmap_74301", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74321(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74321, "calc_local_Skyline_GFUR_double.segmap_74321", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96872(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96872, "calc_local_Skyline_GFUR_double.replicate_96872", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74334(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74334, "calc_local_Skyline_GFUR_double.segmap_74334", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74354(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74354, "calc_local_Skyline_GFUR_double.segmap_74354", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96916(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96916, "calc_local_Skyline_GFUR_double.replicate_96916", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74367(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74367, "calc_local_Skyline_GFUR_double.segmap_74367", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74396(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74396, "calc_local_Skyline_GFUR_double.segmap_74396", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74407(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74407, "calc_local_Skyline_GFUR_double.segmap_74407", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74427(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74427, "calc_local_Skyline_GFUR_double.segmap_74427", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74442(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74442, "calc_local_Skyline_GFUR_double.segmap_74442", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96994(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezireplicate_96994, "calc_local_Skyline_GFUR_double.replicate_96994", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74464(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74464, "calc_local_Skyline_GFUR_double.segmap_74464", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74512(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74512, "calc_local_Skyline_GFUR_double.segmap_74512", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74522(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74522, "calc_local_Skyline_GFUR_double.segmap_74522", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74546(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74546, "calc_local_Skyline_GFUR_double.segmap_74546", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74558(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74558, "calc_local_Skyline_GFUR_double.segmap_74558", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_local_74577(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, int32_t arg6, int64_t arg7, int64_t arg8, int64_t arg9, int32_t arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_local_74577, "calc_local_Skyline_GFUR_double.seghist_local_74577", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_global_74577(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doubleziseghist_global_74577, "calc_local_Skyline_GFUR_double.seghist_global_74577", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_small_97165(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_small_97165, "calc_local_Skyline_GFUR_double.segred_small_97165", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_large_97165(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegred_large_97165, "calc_local_Skyline_GFUR_double.segred_large_97165", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_74595(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegscan_74595, "calc_local_Skyline_GFUR_double.segscan_74595", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74615(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->calc_local_Skyline_GFUR_doublezisegmap_74615, "calc_local_Skyline_GFUR_double.segmap_74615", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegscan_70559(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_70559, "define_skyline_space_double.segscan_70559", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegred_nonseg_70569(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_70569, "define_skyline_space_double.segred_nonseg_70569", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegscan_70579(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegscan_70579, "define_skyline_space_double.segscan_70579", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegred_nonseg_70589(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegred_nonseg_70589, "define_skyline_space_double.segred_nonseg_70589", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_70609(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_70609, "define_skyline_space_double.segmap_70609", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_70635(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_70635, "define_skyline_space_double.segmap_70635", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_define_skyline_space_doublezisegmap_70722(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[10] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[10] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->define_skyline_space_doublezisegmap_70722, "define_skyline_space_double.segmap_70722", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 10, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_96115(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96115, "sort_for_Skyline_double.gpuseq_96115", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_96141(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96141, "sort_for_Skyline_double.gpuseq_96141", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_96167(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96167, "sort_for_Skyline_double.gpuseq_96167", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_96236(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[3] = {&ctx->global_failure, &arg0, &arg1};
        size_t args_sizes[3] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96236, "sort_for_Skyline_double.gpuseq_96236", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 3, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_96248(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96248, "sort_for_Skyline_double.gpuseq_96248", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_77823(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77823, "sort_for_Skyline_double.segmap_intrablock_77823", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_77899(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_77899, "sort_for_Skyline_double.segmap_intrablock_77899", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77955(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77955, "sort_for_Skyline_double.segmap_77955", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77971(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77971, "sort_for_Skyline_double.segmap_77971", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77983(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77983, "sort_for_Skyline_double.segmap_77983", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96334(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96334, "sort_for_Skyline_double.replicate_96334", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_77996(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_77996, "sort_for_Skyline_double.segmap_77996", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78016(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78016, "sort_for_Skyline_double.segmap_78016", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96377(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96377, "sort_for_Skyline_double.replicate_96377", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78029(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78029, "sort_for_Skyline_double.segmap_78029", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78049(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78049, "sort_for_Skyline_double.segmap_78049", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96421(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96421, "sort_for_Skyline_double.replicate_96421", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78062(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78062, "sort_for_Skyline_double.segmap_78062", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78091(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78091, "sort_for_Skyline_double.segmap_78091", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78102(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78102, "sort_for_Skyline_double.segmap_78102", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78122(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78122, "sort_for_Skyline_double.segmap_78122", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78137(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78137, "sort_for_Skyline_double.segmap_78137", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96499(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96499, "sort_for_Skyline_double.replicate_96499", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78159(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78159, "sort_for_Skyline_double.segmap_78159", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78207(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78207, "sort_for_Skyline_double.segmap_78207", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78217(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78217, "sort_for_Skyline_double.segmap_78217", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78241(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78241, "sort_for_Skyline_double.segmap_78241", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78253(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78253, "sort_for_Skyline_double.segmap_78253", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_78274(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_78274, "sort_for_Skyline_double.segred_nonseg_78274", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_96637(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_96637, "sort_for_Skyline_double.gpuseq_96637", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78594(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78594, "sort_for_Skyline_double.segmap_78594", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_78624(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[19] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15};
        size_t args_sizes[19] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_78624, "sort_for_Skyline_double.segmap_78624", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 19, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_78951(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, bool arg5, int64_t arg6, int64_t arg7, bool arg8, bool arg9, bool arg10, int64_t arg11, int64_t arg12, int64_t arg13, bool arg14, int64_t arg15, int64_t arg16, int64_t arg17, int64_t arg18, int64_t arg19, int64_t arg20, int64_t arg21, int64_t arg22, int64_t arg23, int64_t arg24, int64_t arg25, int64_t arg26, int32_t arg27, int32_t arg28, int32_t arg29, int32_t arg30, gpu_mem arg31, gpu_mem arg32, gpu_mem arg33, gpu_mem arg34, gpu_mem arg35, gpu_mem arg36)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[40] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29, &arg30, &arg31, &arg32, &arg33, &arg34, &arg35, &arg36};
        size_t args_sizes[40] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29), sizeof(arg30), sizeof(arg31), sizeof(arg32), sizeof(arg33), sizeof(arg34), sizeof(arg35), sizeof(arg36)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_78951, "sort_for_Skyline_double.segmap_intrablock_78951", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 40, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81496(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, bool arg2, int64_t arg3, int64_t arg4, bool arg5, bool arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81496, "sort_for_Skyline_double.segmap_81496", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81528(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81528, "sort_for_Skyline_double.segmap_81528", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81540(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81540, "sort_for_Skyline_double.segmap_81540", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81550(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81550, "sort_for_Skyline_double.segmap_81550", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81564(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81564, "sort_for_Skyline_double.segmap_81564", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81577(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81577, "sort_for_Skyline_double.segmap_81577", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81587(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81587, "sort_for_Skyline_double.segmap_81587", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96887(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96887, "sort_for_Skyline_double.replicate_96887", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96907(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96907, "sort_for_Skyline_double.replicate_96907", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_96927(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_96927, "sort_for_Skyline_double.replicate_96927", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81612(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[23] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19};
        size_t args_sizes[23] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81612, "sort_for_Skyline_double.segmap_81612", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 23, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_81691(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int64_t arg9, int64_t arg10, int64_t arg11, int64_t arg12, int64_t arg13, int64_t arg14, int64_t arg15, int64_t arg16, int32_t arg17, int32_t arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[30] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26};
        size_t args_sizes[30] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_81691, "sort_for_Skyline_double.segmap_intrablock_81691", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 30, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_81956(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[14] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[14] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_81956, "sort_for_Skyline_double.segmap_81956", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 14, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_82077(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[28] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24};
        size_t args_sizes[28] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_82077, "sort_for_Skyline_double.segmap_82077", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 28, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97085(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97085, "sort_for_Skyline_double.replicate_97085", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97108(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97108, "sort_for_Skyline_double.replicate_97108", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97131(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[9] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97131, "sort_for_Skyline_double.replicate_97131", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_82159(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[30] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26};
        size_t args_sizes[30] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_82159, "sort_for_Skyline_double.segmap_82159", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 30, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_83552(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_83552, "sort_for_Skyline_double.segmap_intrablock_83552", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_83628(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_83628, "sort_for_Skyline_double.segmap_intrablock_83628", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83684(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83684, "sort_for_Skyline_double.segmap_83684", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83700(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83700, "sort_for_Skyline_double.segmap_83700", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83712(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83712, "sort_for_Skyline_double.segmap_83712", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97249(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97249, "sort_for_Skyline_double.replicate_97249", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83725(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83725, "sort_for_Skyline_double.segmap_83725", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83745(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83745, "sort_for_Skyline_double.segmap_83745", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97292(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97292, "sort_for_Skyline_double.replicate_97292", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83758(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83758, "sort_for_Skyline_double.segmap_83758", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83778(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83778, "sort_for_Skyline_double.segmap_83778", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97336(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97336, "sort_for_Skyline_double.replicate_97336", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83791(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83791, "sort_for_Skyline_double.segmap_83791", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83820(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83820, "sort_for_Skyline_double.segmap_83820", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83831(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83831, "sort_for_Skyline_double.segmap_83831", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83851(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83851, "sort_for_Skyline_double.segmap_83851", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83866(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83866, "sort_for_Skyline_double.segmap_83866", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97414(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97414, "sort_for_Skyline_double.replicate_97414", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83888(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83888, "sort_for_Skyline_double.segmap_83888", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83913(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83913, "sort_for_Skyline_double.segmap_83913", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83922(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83922, "sort_for_Skyline_double.segmap_83922", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83964(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83964, "sort_for_Skyline_double.segmap_83964", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83974(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83974, "sort_for_Skyline_double.segmap_83974", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_83998(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_83998, "sort_for_Skyline_double.segmap_83998", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_84010(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_84010, "sort_for_Skyline_double.segmap_84010", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_84032(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, double arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[21] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19};
        size_t args_sizes[21] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_84032, "sort_for_Skyline_double.segred_nonseg_84032", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 21, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezigpuseq_97587(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, gpu_mem arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezigpuseq_97587, "sort_for_Skyline_double.gpuseq_97587", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_84438(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int32_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[20] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16};
        size_t args_sizes[20] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_84438, "sort_for_Skyline_double.segmap_84438", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 20, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_84474(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[21] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17};
        size_t args_sizes[21] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_84474, "sort_for_Skyline_double.segmap_84474", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 21, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_84866(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, bool arg5, int64_t arg6, int64_t arg7, bool arg8, bool arg9, bool arg10, int64_t arg11, int64_t arg12, int64_t arg13, bool arg14, int64_t arg15, int64_t arg16, int64_t arg17, int64_t arg18, int64_t arg19, int64_t arg20, int64_t arg21, int64_t arg22, int64_t arg23, int64_t arg24, int64_t arg25, int64_t arg26, int64_t arg27, int32_t arg28, int32_t arg29, int32_t arg30, int32_t arg31, gpu_mem arg32, gpu_mem arg33, gpu_mem arg34, gpu_mem arg35, gpu_mem arg36, gpu_mem arg37, gpu_mem arg38, gpu_mem arg39)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[43] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29, &arg30, &arg31, &arg32, &arg33, &arg34, &arg35, &arg36, &arg37, &arg38, &arg39};
        size_t args_sizes[43] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29), sizeof(arg30), sizeof(arg31), sizeof(arg32), sizeof(arg33), sizeof(arg34), sizeof(arg35), sizeof(arg36), sizeof(arg37), sizeof(arg38), sizeof(arg39)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_84866, "sort_for_Skyline_double.segmap_intrablock_84866", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 43, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87810(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, bool arg2, int64_t arg3, int64_t arg4, bool arg5, bool arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87810, "sort_for_Skyline_double.segmap_87810", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87845(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87845, "sort_for_Skyline_double.segmap_87845", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87858(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87858, "sort_for_Skyline_double.segmap_87858", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87868(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87868, "sort_for_Skyline_double.segmap_87868", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87884(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87884, "sort_for_Skyline_double.segmap_87884", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87898(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87898, "sort_for_Skyline_double.segmap_87898", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87908(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87908, "sort_for_Skyline_double.segmap_87908", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97862(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97862, "sort_for_Skyline_double.replicate_97862", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97882(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97882, "sort_for_Skyline_double.replicate_97882", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97902(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97902, "sort_for_Skyline_double.replicate_97902", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_97922(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_97922, "sort_for_Skyline_double.replicate_97922", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_87938(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[26] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22};
        size_t args_sizes[26] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_87938, "sort_for_Skyline_double.segmap_87938", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 26, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_88035(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int64_t arg9, int64_t arg10, int64_t arg11, int64_t arg12, int64_t arg13, int64_t arg14, int64_t arg15, int64_t arg16, int64_t arg17, int32_t arg18, int32_t arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26, gpu_mem arg27, gpu_mem arg28, gpu_mem arg29)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[33] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29};
        size_t args_sizes[33] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_88035, "sort_for_Skyline_double.segmap_intrablock_88035", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 33, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_88341(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_88341, "sort_for_Skyline_double.segmap_88341", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_88479(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int32_t arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[30] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26};
        size_t args_sizes[30] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_88479, "sort_for_Skyline_double.segmap_88479", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 30, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98095(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98095, "sort_for_Skyline_double.replicate_98095", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98118(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98118, "sort_for_Skyline_double.replicate_98118", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98141(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[8] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98141, "sort_for_Skyline_double.replicate_98141", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98164(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[9] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98164, "sort_for_Skyline_double.replicate_98164", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_88568(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26, gpu_mem arg27, gpu_mem arg28, gpu_mem arg29)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[33] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27, &arg28, &arg29};
        size_t args_sizes[33] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27), sizeof(arg28), sizeof(arg29)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_88568, "sort_for_Skyline_double.segmap_88568", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 33, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_local_88717(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, int32_t arg10, int64_t arg11, int64_t arg12, int64_t arg13, int32_t arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23, gpu_mem arg24, gpu_mem arg25, gpu_mem arg26, gpu_mem arg27)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[31] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23, &arg24, &arg25, &arg26, &arg27};
        size_t args_sizes[31] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23), sizeof(arg24), sizeof(arg25), sizeof(arg26), sizeof(arg27)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_88717, "sort_for_Skyline_double.seghist_local_88717", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 31, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_global_88717(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, bool arg4, int64_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, int64_t arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13, gpu_mem arg14, gpu_mem arg15, gpu_mem arg16, gpu_mem arg17, gpu_mem arg18, gpu_mem arg19, gpu_mem arg20, gpu_mem arg21, gpu_mem arg22, gpu_mem arg23)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[27] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13, &arg14, &arg15, &arg16, &arg17, &arg18, &arg19, &arg20, &arg21, &arg22, &arg23};
        size_t args_sizes[27] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13), sizeof(arg14), sizeof(arg15), sizeof(arg16), sizeof(arg17), sizeof(arg18), sizeof(arg19), sizeof(arg20), sizeof(arg21), sizeof(arg22), sizeof(arg23)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_88717, "sort_for_Skyline_double.seghist_global_88717", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 27, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_small_98317(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_98317, "sort_for_Skyline_double.segred_small_98317", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_large_98317(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_98317, "sort_for_Skyline_double.segred_large_98317", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_88800(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11, gpu_mem arg12, gpu_mem arg13)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[17] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11, &arg12, &arg13};
        size_t args_sizes[17] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11), sizeof(arg12), sizeof(arg13)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_nonseg_88800, "sort_for_Skyline_double.segred_nonseg_88800", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 17, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_90677(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[15] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[15] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_90677, "sort_for_Skyline_double.segmap_intrablock_90677", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 15, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_90753(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, bool arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_intrablock_90753, "sort_for_Skyline_double.segmap_intrablock_90753", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90809(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90809, "sort_for_Skyline_double.segmap_90809", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90825(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90825, "sort_for_Skyline_double.segmap_90825", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90837(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90837, "sort_for_Skyline_double.segmap_90837", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98503(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98503, "sort_for_Skyline_double.replicate_98503", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90850(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90850, "sort_for_Skyline_double.segmap_90850", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90870(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90870, "sort_for_Skyline_double.segmap_90870", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98546(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98546, "sort_for_Skyline_double.replicate_98546", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90883(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90883, "sort_for_Skyline_double.segmap_90883", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90903(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[6] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4};
        size_t args_sizes[6] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90903, "sort_for_Skyline_double.segmap_90903", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 6, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98590(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98590, "sort_for_Skyline_double.replicate_98590", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90916(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90916, "sort_for_Skyline_double.segmap_90916", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90945(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90945, "sort_for_Skyline_double.segmap_90945", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90956(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90956, "sort_for_Skyline_double.segmap_90956", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90976(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90976, "sort_for_Skyline_double.segmap_90976", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_90991(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, gpu_mem arg2, gpu_mem arg3)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[5] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3};
        size_t args_sizes[5] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_90991, "sort_for_Skyline_double.segmap_90991", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 5, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezireplicate_98668(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[7] = {sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezireplicate_98668, "sort_for_Skyline_double.replicate_98668", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91013(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91013, "sort_for_Skyline_double.segmap_91013", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91061(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91061, "sort_for_Skyline_double.segmap_91061", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91071(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, int32_t arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91071, "sort_for_Skyline_double.segmap_91071", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91095(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91095, "sort_for_Skyline_double.segmap_91095", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91108(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(ctx->failure_is_an_option), sizeof(ctx->global_failure_args), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91108, "sort_for_Skyline_double.segmap_91108", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegscan_91135(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_91135, "sort_for_Skyline_double.segscan_91135", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91169(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2, gpu_mem arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91169, "sort_for_Skyline_double.segmap_91169", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91182(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91182, "sort_for_Skyline_double.segmap_91182", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91193(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int32_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91193, "sort_for_Skyline_double.segmap_91193", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91203(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int32_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[8] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6};
        size_t args_sizes[8] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91203, "sort_for_Skyline_double.segmap_91203", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 8, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_local_91219(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int32_t arg5, int64_t arg6, int64_t arg7, int64_t arg8, int32_t arg9, gpu_mem arg10, gpu_mem arg11)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[13] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10, &arg11};
        size_t args_sizes[13] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10), sizeof(arg11)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_local_91219, "sort_for_Skyline_double.seghist_local_91219", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 13, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doubleziseghist_global_91219(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int32_t arg4, int64_t arg5, gpu_mem arg6, gpu_mem arg7)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[9] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7};
        size_t args_sizes[9] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doubleziseghist_global_91219, "sort_for_Skyline_double.seghist_global_91219", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 9, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_small_99014(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[7] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5};
        size_t args_sizes[7] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_small_99014, "sort_for_Skyline_double.segred_small_99014", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 7, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegred_large_99014(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, int64_t arg4, int64_t arg5, int64_t arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9, gpu_mem arg10)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[12] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9, &arg10};
        size_t args_sizes[12] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9), sizeof(arg10)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegred_large_99014, "sort_for_Skyline_double.segred_large_99014", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 12, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegscan_91232(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, int64_t arg1, int64_t arg2, int64_t arg3, gpu_mem arg4, gpu_mem arg5, gpu_mem arg6, gpu_mem arg7, gpu_mem arg8, gpu_mem arg9)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[11] = {&ctx->global_failure, &arg0, &arg1, &arg2, &arg3, &arg4, &arg5, &arg6, &arg7, &arg8, &arg9};
        size_t args_sizes[11] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2), sizeof(arg3), sizeof(arg4), sizeof(arg5), sizeof(arg6), sizeof(arg7), sizeof(arg8), sizeof(arg9)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegscan_91232, "sort_for_Skyline_double.segscan_91232", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 11, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
static int gpu_kernel_sort_for_Skyline_doublezisegmap_91252(struct futhark_context *ctx, unsigned int grid_x, unsigned int grid_y, unsigned int grid_z, unsigned int block_x, unsigned int block_y, unsigned int block_z, unsigned int shared_bytes, int64_t arg0, gpu_mem arg1, gpu_mem arg2)
{
    if (grid_x * grid_y * grid_z * block_x * block_y * block_z != 0) {
        void *args[4] = {&ctx->global_failure, &arg0, &arg1, &arg2};
        size_t args_sizes[4] = {sizeof(ctx->global_failure), sizeof(arg0), sizeof(arg1), sizeof(arg2)};
        
        return gpu_launch_kernel(ctx, ctx->program->sort_for_Skyline_doublezisegmap_91252, "sort_for_Skyline_double.segmap_91252", (const int32_t []) {grid_x, grid_y, grid_z}, (const int32_t []) {block_x, block_y, block_z}, shared_bytes, 4, args, args_sizes);
    }
    return FUTHARK_SUCCESS;
}
struct futhark_i64_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_2d {
    struct memblock_device mem;
    int64_t shape[2];
};
struct futhark_f64_2d *futhark_new_f64_2d(struct futhark_context *ctx, const double *data, int64_t dim0, int64_t dim1)
{
    int err = 0;
    struct futhark_f64_2d *bad = NULL;
    struct futhark_f64_2d *arr = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * dim1 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) (dim0 * dim1) * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_2d *futhark_new_raw_f64_2d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0, int64_t dim1)
{
    int err = 0;
    struct futhark_f64_2d *bad = NULL;
    struct futhark_f64_2d *arr = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) (arr->shape[0] * arr->shape[1]) * 8);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_2d(struct futhark_context *ctx, double *out, struct futhark_f64_2d *arr, int64_t i0, int64_t i1)
{
    int err = 0;
    
    if ((i0 >= 0 && i0 < arr->shape[0]) && (i1 >= 0 && i1 < arr->shape[1])) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 8 * (i0 * arr->shape[1] + i1 * 1), 8);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_2d(struct futhark_context *ctx, struct futhark_f64_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_bool_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_bool_1d *futhark_new_bool_1d(struct futhark_context *ctx, const bool *data, int64_t dim0)
{
    int err = 0;
    struct futhark_bool_1d *bad = NULL;
    struct futhark_bool_1d *arr = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    err = memcpy_host2gpu(ctx, false, arr->mem.mem, 0, (const unsigned char *) data, 0, (size_t) dim0 * 1);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_bool_1d *futhark_new_raw_bool_1d(struct futhark_context *ctx, CUdeviceptr data, int64_t dim0)
{
    int err = 0;
    struct futhark_bool_1d *bad = NULL;
    struct futhark_bool_1d *arr = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr, bool *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    err = memcpy_gpu2host(ctx, false, (unsigned char *) data, 0, arr->mem.mem, 0, (size_t) arr->shape[0] * 1);
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_bool_1d(struct futhark_context *ctx, bool *out, struct futhark_bool_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
        err = memcpy_gpu2host(ctx, false, (unsigned char *) out, 0, arr->mem.mem, 1 * (i0 * 1), 1);
        CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
CUdeviceptr futhark_values_raw_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_bool_1d(struct futhark_context *ctx, struct futhark_bool_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_skylineBase_double {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_i64_1d *v2;
    struct futhark_f64_1d *v3;
    struct futhark_i64_1d *v4;
    struct futhark_f64_2d *v5;
    int64_t v6;
    int64_t v7;
    int64_t v8;
};
int futhark_project_opaque_skylineBase_double_angle_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_angle_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_part_prefix_sum(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_part_size_per_dim(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v3, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_grid_partitions_per_dim(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v4, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_start_of_grid_partition(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_2d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_2d));
    memcpy(v, obj->v5, sizeof(struct futhark_f64_2d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_angle_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v6;
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_grid_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v7;
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineBase_double_total_part_no(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v8;
    *out = v;
    return 0;
}
int futhark_new_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out, const struct futhark_i64_1d *f_angle_part_prefix_sum, const struct futhark_i64_1d *f_angle_partitions_per_dim, const struct futhark_i64_1d *f_grid_part_prefix_sum, const struct futhark_f64_1d *f_grid_part_sizze_per_dim, const struct futhark_i64_1d *f_grid_partitions_per_dim, const struct futhark_f64_2d *f_start_of_grid_partition, const int64_t f_total_angle_no, const int64_t f_total_grid_no, const int64_t f_total_part_no)
{
    struct futhark_opaque_skylineBase_double *v = malloc(sizeof(struct futhark_opaque_skylineBase_double));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_angle_part_prefix_sum;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_angle_partitions_per_dim;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_grid_part_prefix_sum;
        (void) (*v->v2->mem.references)++;
    }
    {
        v->v3 = malloc(sizeof(struct futhark_f64_1d));
        *v->v3 = *f_grid_part_sizze_per_dim;
        (void) (*v->v3->mem.references)++;
    }
    {
        v->v4 = malloc(sizeof(struct futhark_i64_1d));
        *v->v4 = *f_grid_partitions_per_dim;
        (void) (*v->v4->mem.references)++;
    }
    {
        v->v5 = malloc(sizeof(struct futhark_f64_2d));
        *v->v5 = *f_start_of_grid_partition;
        (void) (*v->v5->mem.references)++;
    }
    v->v6 = f_total_angle_no;
    v->v7 = f_total_grid_no;
    v->v8 = f_total_part_no;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_skylineBase_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    if (obj->v4 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v4)) != 0)
        ret = tmp;
    if (obj->v5 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v5)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_skylineBase_double(struct futhark_context *ctx, const struct futhark_opaque_skylineBase_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v3)[0] * sizeof(double);
    int64_t size_4 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v4)[0] * sizeof(int64_t);
    int64_t size_5 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v5)[0] * futhark_shape_f64_2d(ctx, obj->v5)[1] * sizeof(double);
    int64_t size_6 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    int64_t size_7 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    int64_t size_8 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2 + size_3 + size_4 + size_5 + size_6 + size_7 + size_8;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v3)[0] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v4), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v4, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v4)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v5), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v5, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v5)[0] * futhark_shape_f64_2d(ctx, obj->v5)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v6, sizeof(obj->v6));
        out += sizeof(obj->v6);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v7, sizeof(obj->v7));
        out += sizeof(obj->v7);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v8, sizeof(obj->v8));
        out += sizeof(obj->v8);
    }
    return ret;
}
struct futhark_opaque_skylineBase_double *futhark_restore_opaque_skylineBase_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_skylineBase_double *obj = malloc(sizeof(struct futhark_opaque_skylineBase_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * sizeof(double);
    
    int64_t shape_4[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_4, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_4 = src;
    
    obj->v4 = NULL;
    src += shape_4[0] * sizeof(int64_t);
    
    int64_t shape_5[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_5, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_5 = src;
    
    obj->v5 = NULL;
    src += shape_5[0] * shape_5[1] * sizeof(double);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_6 = src;
    
    src += sizeof(obj->v6);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_7 = src;
    
    src += sizeof(obj->v7);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_8 = src;
    
    src += sizeof(obj->v8);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_f64_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
        obj->v4 = futhark_new_i64_1d(ctx, data_4, shape_4[0]);
        if (obj->v4 == NULL)
            err = 1;
        obj->v5 = futhark_new_f64_2d(ctx, data_5, shape_5[0], shape_5[1]);
        if (obj->v5 == NULL)
            err = 1;
        memcpy(&obj->v6, data_6, sizeof(obj->v6));
        memcpy(&obj->v7, data_7, sizeof(obj->v7));
        memcpy(&obj->v8, data_8, sizeof(obj->v8));
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        if (obj->v4 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v4)) != 0)
            ret = tmp;
        if (obj->v5 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v5)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_tup2_arr1d_f64_i64 {
    struct futhark_f64_1d *v0;
    int64_t v1;
};
int futhark_project_opaque_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, int64_t *out, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int64_t v;
    
    v = obj->v1;
    *out = v;
    return 0;
}
int futhark_new_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, const struct futhark_f64_1d *f_0, const int64_t f_1)
{
    struct futhark_opaque_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_f64_1d));
        *v->v0 = *f_0;
        (void) (*v->v0->mem.references)++;
    }
    v->v1 = f_1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_tup2_arr1d_f64_i64 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v0)[0] * sizeof(double);
    int64_t size_1 = 7 + 0 * sizeof(int64_t) + 1 * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v0)[0] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 0;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, &obj->v1, sizeof(obj->v1));
        out += sizeof(obj->v1);
    }
    return ret;
}
struct futhark_opaque_tup2_arr1d_f64_i64 *futhark_restore_opaque_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_tup2_arr1d_f64_i64 *obj = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(double);
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 0;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        src += 0 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    src += sizeof(obj->v1);
    if (err == 0) {
        obj->v0 = futhark_new_f64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        memcpy(&obj->v1, data_1, sizeof(obj->v1));
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 {
    struct futhark_f64_2d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_0(struct futhark_context *ctx, struct futhark_f64_2d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_f64_2d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_f64_2d));
    memcpy(v, obj->v0, sizeof(struct futhark_f64_2d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_arr1d_tup2_arr1d_f64_i64_1(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_zip_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_f64_2d *f_0, const struct futhark_i64_1d *f_1)
{
    if (!(f_0->shape[0] == f_1->shape[0])) {
        set_error(ctx, strdup("Cannot zip arrays with different shapes."));
        return 1;
    }
    
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_f64_2d));
        *v->v0 = *f_0;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_1;
        (void) (*v->v1->mem.references)++;
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_index_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_tup2_arr1d_f64_i64 **out, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->v0->shape[0]) {
        struct futhark_opaque_tup2_arr1d_f64_i64 *v = malloc(sizeof(struct futhark_opaque_tup2_arr1d_f64_i64));
        
        v->v0 = malloc(sizeof(*v->v0));
        v->v0->mem.references = NULL;
        if (memblock_alloc_device(ctx, &v->v0->mem, arr->v0->shape[1] * 8, "v->v0->mem"))
            err = 1;
        v->v0->shape[0] = arr->v0->shape[1];
        err = gpu_memcpy(ctx, v->v0->mem.mem, 0, arr->v0->mem.mem, 8 * (i0 * arr->v0->shape[1]), 8 * arr->v0->shape[1]);
        err = memcpy_gpu2host(ctx, false, (unsigned char *) &v->v1, 0, arr->v1->mem.mem, 8 * (i0 * 1), 8);
        if (err == 0)
            *out = v;
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
const int64_t *futhark_shape_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *arr)
{
    (void) ctx;
    return arr->v0->shape;
}
int futhark_free_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v0)[0] * futhark_shape_f64_2d(ctx, obj->v0)[1] * sizeof(double);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v0), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v0, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v0)[0] * futhark_shape_f64_2d(ctx, obj->v0)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *futhark_restore_opaque_arr1d_tup2_arr1d_f64_i64(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *obj = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    int64_t shape_0[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * shape_0[1] * sizeof(double);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_f64_2d(ctx, data_0, shape_0[0], shape_0[1]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_skylineInfo_GFUR_double {
    struct futhark_bool_1d *v0;
    struct futhark_i64_1d *v1;
    struct futhark_f64_2d *v2;
    struct futhark_i64_1d *v3;
};
int futhark_project_opaque_skylineInfo_GFUR_double_isPartitionDominated(struct futhark_context *ctx, struct futhark_bool_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_bool_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_bool_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_bool_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineInfo_GFUR_double_part_idx(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_skylineInfo_GFUR_double_xys(struct futhark_context *ctx, struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 **out, const struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *v;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    v = malloc(sizeof(struct futhark_opaque_arr1d_tup2_arr1d_f64_i64));
    v->v0 = malloc(sizeof(*v->v0));
    *v->v0 = *obj->v2;
    (void) (*v->v0->mem.references)++;
    v->v1 = malloc(sizeof(*v->v1));
    *v->v1 = *obj->v3;
    (void) (*v->v1->mem.references)++;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out, const struct futhark_bool_1d *f_isPartitionDominated, const struct futhark_i64_1d *f_part_idx, const struct futhark_opaque_arr1d_tup2_arr1d_f64_i64 *f_xys)
{
    struct futhark_opaque_skylineInfo_GFUR_double *v = malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double));
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        v->v0 = malloc(sizeof(struct futhark_bool_1d));
        *v->v0 = *f_isPartitionDominated;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_part_idx;
        (void) (*v->v1->mem.references)++;
    }
    {
        {
            v->v2 = malloc(sizeof(*f_xys->v0));
            *v->v2 = *f_xys->v0;
            (void) (*v->v2->mem.references)++;
        }
        {
            v->v3 = malloc(sizeof(*f_xys->v1));
            *v->v3 = *f_xys->v1;
            (void) (*v->v3->mem.references)++;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_bool_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v2)) != 0)
        ret = tmp;
    if (obj->v3 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v3)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const struct futhark_opaque_skylineInfo_GFUR_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_bool_1d(ctx, obj->v0)[0] * sizeof(bool);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    int64_t size_2 = 7 + 2 * sizeof(int64_t) + futhark_shape_f64_2d(ctx, obj->v2)[0] * futhark_shape_f64_2d(ctx, obj->v2)[1] * sizeof(double);
    int64_t size_3 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v3)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2 + size_3;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "bool", 4);
        out += 4;
        memcpy(out, futhark_shape_bool_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_bool_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_bool_1d(ctx, obj->v0)[0] * sizeof(bool);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 2;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_2d(ctx, obj->v2), 2 * sizeof(int64_t));
        out += 2 * sizeof(int64_t);
        ret |= futhark_values_f64_2d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_2d(ctx, obj->v2)[0] * futhark_shape_f64_2d(ctx, obj->v2)[1] * sizeof(double);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v3), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v3, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v3)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_skylineInfo_GFUR_double *futhark_restore_opaque_skylineInfo_GFUR_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_skylineInfo_GFUR_double *obj = malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "bool", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(bool);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    
    int64_t shape_2[2] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 2;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 2 * sizeof(int64_t));
        src += 2 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * shape_2[1] * sizeof(double);
    
    int64_t shape_3[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_3, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_3 = src;
    
    obj->v3 = NULL;
    src += shape_3[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_bool_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_2d(ctx, data_2, shape_2[0], shape_2[1]);
        if (obj->v2 == NULL)
            err = 1;
        obj->v3 = futhark_new_i64_1d(ctx, data_3, shape_3[0]);
        if (obj->v3 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_bool_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_2d(ctx, obj->v2)) != 0)
            ret = tmp;
        if (obj->v3 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v3)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_builtinzhiota_i64(struct futhark_context *ctx, struct memblock_device mem_96098, int64_t n_96099, int64_t x_96100, int64_t s_96101)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t tblock_sizze_96107;
    
    tblock_sizze_96107 = *ctx->tuning_params.builtinzhiota_i64zitblock_sizze_96107;
    
    int64_t virt_num_tblocks_96108 = sdiv_up64(n_96099, tblock_sizze_96107);
    int64_t num_tblocks_96109 = smin64(virt_num_tblocks_96108, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhiota_i64ziiota_i64_96103(ctx, num_tblocks_96109, 1, 1, tblock_sizze_96107, 1, 1, (int64_t) 0, n_96099, x_96100, s_96101, virt_num_tblocks_96108, num_tblocks_96109, mem_96098.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_bool(struct futhark_context *ctx, struct memblock_device mem_96194, int64_t num_elems_96195, bool val_96196)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t replicate_n_96198 = num_elems_96195;
    int64_t tblock_sizze_96203;
    
    tblock_sizze_96203 = *ctx->tuning_params.builtinzhreplicate_boolzitblock_sizze_96203;
    
    int64_t virt_num_tblocks_96204 = sdiv_up64(replicate_n_96198, tblock_sizze_96203);
    int64_t num_tblocks_96205 = smin64(virt_num_tblocks_96204, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_boolzireplicate_96199(ctx, num_tblocks_96205, 1, 1, tblock_sizze_96203, 1, 1, (int64_t) 0, num_elems_96195, val_96196, replicate_n_96198, virt_num_tblocks_96204, num_tblocks_96205, mem_96194.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_f64(struct futhark_context *ctx, struct memblock_device mem_96215, int64_t num_elems_96216, double val_96217)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t replicate_n_96219 = num_elems_96216;
    int64_t tblock_sizze_96224;
    
    tblock_sizze_96224 = *ctx->tuning_params.builtinzhreplicate_f64zitblock_sizze_96224;
    
    int64_t virt_num_tblocks_96225 = sdiv_up64(replicate_n_96219, tblock_sizze_96224);
    int64_t num_tblocks_96226 = smin64(virt_num_tblocks_96225, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_f64zireplicate_96220(ctx, num_tblocks_96226, 1, 1, tblock_sizze_96224, 1, 1, (int64_t) 0, num_elems_96216, val_96217, replicate_n_96219, virt_num_tblocks_96225, num_tblocks_96226, mem_96215.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i32(struct futhark_context *ctx, struct memblock_device mem_96173, int64_t num_elems_96174, int32_t val_96175)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t replicate_n_96177 = num_elems_96174;
    int64_t tblock_sizze_96182;
    
    tblock_sizze_96182 = *ctx->tuning_params.builtinzhreplicate_i32zitblock_sizze_96182;
    
    int64_t virt_num_tblocks_96183 = sdiv_up64(replicate_n_96177, tblock_sizze_96182);
    int64_t num_tblocks_96184 = smin64(virt_num_tblocks_96183, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i32zireplicate_96178(ctx, num_tblocks_96184, 1, 1, tblock_sizze_96182, 1, 1, (int64_t) 0, num_elems_96174, val_96175, replicate_n_96177, virt_num_tblocks_96183, num_tblocks_96184, mem_96173.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i64(struct futhark_context *ctx, struct memblock_device mem_96121, int64_t num_elems_96122, int64_t val_96123)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t replicate_n_96125 = num_elems_96122;
    int64_t tblock_sizze_96130;
    
    tblock_sizze_96130 = *ctx->tuning_params.builtinzhreplicate_i64zitblock_sizze_96130;
    
    int64_t virt_num_tblocks_96131 = sdiv_up64(replicate_n_96125, tblock_sizze_96130);
    int64_t num_tblocks_96132 = smin64(virt_num_tblocks_96131, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i64zireplicate_96126(ctx, num_tblocks_96132, 1, 1, tblock_sizze_96130, 1, 1, (int64_t) 0, num_elems_96122, val_96123, replicate_n_96125, virt_num_tblocks_96131, num_tblocks_96132, mem_96121.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_builtinzhreplicate_i8(struct futhark_context *ctx, struct memblock_device mem_98760, int64_t num_elems_98761, int8_t val_98762)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t replicate_n_98764 = num_elems_98761;
    int64_t tblock_sizze_98769;
    
    tblock_sizze_98769 = *ctx->tuning_params.builtinzhreplicate_i8zitblock_sizze_98769;
    
    int64_t virt_num_tblocks_98770 = sdiv_up64(replicate_n_98764, tblock_sizze_98769);
    int64_t num_tblocks_98771 = smin64(virt_num_tblocks_98770, (int64_t) 1048576);
    
    {
        err = gpu_kernel_builtinzhreplicate_i8zireplicate_98765(ctx, num_tblocks_98771, 1, 1, tblock_sizze_98769, 1, 1, (int64_t) 0, num_elems_98761, val_98762, replicate_n_98764, virt_num_tblocks_98770, num_tblocks_98771, mem_98760.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_calc_global_Skyline_GFUR_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99199, struct memblock_device *mem_out_p_99200, struct memblock_device *mem_out_p_99201, struct memblock_device *mem_out_p_99202, int64_t *out_prim_out_99203, int64_t *out_prim_out_99204, struct memblock_device angle_part_prefix_sum_mem_91593, struct memblock_device angle_partitions_per_dim_mem_91594, struct memblock_device grid_part_prefix_sum_mem_91595, struct memblock_device grid_part_sizze_per_dim_mem_91596, struct memblock_device grid_partitions_per_dim_mem_91597, struct memblock_device start_of_grid_partition_mem_91598, struct memblock_device isPartitionDominated_mem_91599, struct memblock_device part_idx_mem_91600, struct memblock_device xys_mem_91601, struct memblock_device xys_mem_91602, int64_t dim_54348, int64_t dz2080U_54349, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, int64_t dz2081U_54351, int64_t dz2082U_54352, int64_t dz2083U_54353, int64_t total_angle_no_54360, int64_t total_grid_no_54361, int64_t total_part_no_54362)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_92062;
    
    mem_92062.references = NULL;
    
    struct memblock_device incprefixes_mem_96871;
    
    incprefixes_mem_96871.references = NULL;
    
    struct memblock_device aggregates_mem_96869;
    
    aggregates_mem_96869.references = NULL;
    
    struct memblock_device status_flags_mem_96867;
    
    status_flags_mem_96867.references = NULL;
    
    struct memblock_device mem_92059;
    
    mem_92059.references = NULL;
    
    struct memblock_device segred_tmp_mem_96821;
    
    segred_tmp_mem_96821.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_96701;
    
    defunc_0_map_res_subhistos_mem_96701.references = NULL;
    
    struct memblock_device mem_92052;
    
    mem_92052.references = NULL;
    
    struct memblock_device mem_92041;
    
    mem_92041.references = NULL;
    
    struct memblock_device mem_param_tmp_96650;
    
    mem_param_tmp_96650.references = NULL;
    
    struct memblock_device mem_92033;
    
    mem_92033.references = NULL;
    
    struct memblock_device mem_92021;
    
    mem_92021.references = NULL;
    
    struct memblock_device mem_91999;
    
    mem_91999.references = NULL;
    
    struct memblock_device mem_param_91995;
    
    mem_param_91995.references = NULL;
    
    struct memblock_device ext_mem_92037;
    
    ext_mem_92037.references = NULL;
    
    struct memblock_device mem_92010;
    
    mem_92010.references = NULL;
    
    struct memblock_device mem_91985;
    
    mem_91985.references = NULL;
    
    struct memblock_device mem_91967;
    
    mem_91967.references = NULL;
    
    struct memblock_device mem_91956;
    
    mem_91956.references = NULL;
    
    struct memblock_device mem_91945;
    
    mem_91945.references = NULL;
    
    struct memblock_device mem_91942;
    
    mem_91942.references = NULL;
    
    struct memblock_device mem_91988;
    
    mem_91988.references = NULL;
    
    struct memblock_device ext_mem_91991;
    
    ext_mem_91991.references = NULL;
    
    struct memblock_device mem_92055;
    
    mem_92055.references = NULL;
    
    struct memblock_device mem_91932;
    
    mem_91932.references = NULL;
    
    struct memblock_device mem_91930;
    
    mem_91930.references = NULL;
    
    struct memblock_device mem_91919;
    
    mem_91919.references = NULL;
    
    struct memblock_device mem_91864;
    
    mem_91864.references = NULL;
    
    struct memblock_device mem_91846;
    
    mem_91846.references = NULL;
    
    struct memblock_device mem_91835;
    
    mem_91835.references = NULL;
    
    struct memblock_device mem_91824;
    
    mem_91824.references = NULL;
    
    struct memblock_device mem_91821;
    
    mem_91821.references = NULL;
    
    struct memblock_device mem_91780;
    
    mem_91780.references = NULL;
    
    struct memblock_device mem_91762;
    
    mem_91762.references = NULL;
    
    struct memblock_device mem_91751;
    
    mem_91751.references = NULL;
    
    struct memblock_device mem_91740;
    
    mem_91740.references = NULL;
    
    struct memblock_device mem_91737;
    
    mem_91737.references = NULL;
    
    struct memblock_device mem_91728;
    
    mem_91728.references = NULL;
    
    struct memblock_device mem_91710;
    
    mem_91710.references = NULL;
    
    struct memblock_device mem_91699;
    
    mem_91699.references = NULL;
    
    struct memblock_device mem_91688;
    
    mem_91688.references = NULL;
    
    struct memblock_device mem_91685;
    
    mem_91685.references = NULL;
    
    struct memblock_device mem_91731;
    
    mem_91731.references = NULL;
    
    struct memblock_device ext_mem_91734;
    
    ext_mem_91734.references = NULL;
    
    struct memblock_device mem_91682;
    
    mem_91682.references = NULL;
    
    struct memblock_device mem_91809;
    
    mem_91809.references = NULL;
    
    struct memblock_device ext_mem_91812;
    
    ext_mem_91812.references = NULL;
    
    struct memblock_device mem_91815;
    
    mem_91815.references = NULL;
    
    struct memblock_device ext_mem_91818;
    
    ext_mem_91818.references = NULL;
    
    struct memblock_device mem_91906;
    
    mem_91906.references = NULL;
    
    struct memblock_device ext_mem_91909;
    
    ext_mem_91909.references = NULL;
    
    struct memblock_device mem_91912;
    
    mem_91912.references = NULL;
    
    struct memblock_device ext_mem_91915;
    
    ext_mem_91915.references = NULL;
    
    struct memblock_device mem_91674;
    
    mem_91674.references = NULL;
    
    struct memblock_device mem_91673;
    
    mem_91673.references = NULL;
    
    struct memblock_device mem_91671;
    
    mem_91671.references = NULL;
    
    struct memblock_device mem_91666;
    
    mem_91666.references = NULL;
    
    struct memblock_device mem_91667;
    
    mem_91667.references = NULL;
    
    struct memblock_device ext_mem_91668;
    
    ext_mem_91668.references = NULL;
    
    struct memblock_device mem_91654;
    
    mem_91654.references = NULL;
    
    struct memblock_device mem_91662;
    
    mem_91662.references = NULL;
    
    struct memblock_device ext_mem_91665;
    
    ext_mem_91665.references = NULL;
    
    struct memblock_device mem_91652;
    
    mem_91652.references = NULL;
    
    struct memblock_device mem_91649;
    
    mem_91649.references = NULL;
    
    struct memblock_device mem_91645;
    
    mem_91645.references = NULL;
    
    struct memblock_device mem_91642;
    
    mem_91642.references = NULL;
    
    struct memblock_device incprefixes_mem_96163;
    
    incprefixes_mem_96163.references = NULL;
    
    struct memblock_device aggregates_mem_96161;
    
    aggregates_mem_96161.references = NULL;
    
    struct memblock_device status_flags_mem_96139;
    
    status_flags_mem_96139.references = NULL;
    
    struct memblock_device mem_91640;
    
    mem_91640.references = NULL;
    
    struct memblock_device mem_91638;
    
    mem_91638.references = NULL;
    
    struct memblock_device mem_param_tmp_96114;
    
    mem_param_tmp_96114.references = NULL;
    
    struct memblock_device mem_91632;
    
    mem_91632.references = NULL;
    
    struct memblock_device mem_param_91607;
    
    mem_param_91607.references = NULL;
    
    struct memblock_device ext_mem_91635;
    
    ext_mem_91635.references = NULL;
    
    struct memblock_device color_95749;
    
    color_95749.references = NULL;
    
    struct memblock_device color_95748;
    
    color_95748.references = NULL;
    
    struct memblock_device mem_91604;
    
    mem_91604.references = NULL;
    
    struct memblock_device mem_out_96094;
    
    mem_out_96094.references = NULL;
    
    struct memblock_device mem_out_96093;
    
    mem_out_96093.references = NULL;
    
    struct memblock_device mem_out_96092;
    
    mem_out_96092.references = NULL;
    
    struct memblock_device mem_out_96091;
    
    mem_out_96091.references = NULL;
    
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t prim_out_96095;
    int64_t prim_out_96096;
    int64_t arg_59797 = sub64(dim_54348, (int64_t) 1);
    bool assert_cond_59798 = arg_59797 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350;
    bool assert_c_59799;
    
    if (!assert_cond_59798) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  ftSkyline.fut:762:10-764:28\n   #1  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_91603 = (int64_t) 8 * dz2083U_54353;
    
    if (memblock_alloc_device(ctx, &mem_91604, bytes_91603, "mem_91604")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhiota_i64(ctx, mem_91604, dz2083U_54353, (int64_t) 0, (int64_t) 1) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t segmap_tblock_sizze_74705;
    
    segmap_tblock_sizze_74705 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74625;
    
    int64_t segmap_usable_groups_74706 = sdiv_up_safe64(dz2083U_54353, segmap_tblock_sizze_74705);
    bool cond_74721 = dim_54348 == (int64_t) 0;
    bool x_95111 = !cond_74721;
    bool y_74725 = slt64((int64_t) 0, dim_54348);
    bool protect_assert_disj_95114 = cond_74721 || y_74725;
    bool bounds_invalid_upwards_74731 = slt64(dim_54348, (int64_t) 1);
    bool valid_74733 = !bounds_invalid_upwards_74731;
    bool protect_assert_disj_95121 = cond_74721 || valid_74733;
    int64_t num_threads_95906 = segmap_tblock_sizze_74705 * segmap_usable_groups_74706;
    int64_t total_sizze_95907 = dim_54348 * num_threads_95906;
    
    if (memblock_alloc_device(ctx, &color_95748, total_sizze_95907, "color_95748")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95908 = dim_54348 * num_threads_95906;
    
    if (memblock_alloc_device(ctx, &color_95749, total_sizze_95908, "color_95749")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_set_device(ctx, &mem_param_91607, &mem_91604, "mem_91604") != 0)
        return 1;
    for (int64_t i_59802 = 0; i_59802 < dz2083U_54353; i_59802++) {
        if (memblock_alloc_device(ctx, &mem_91632, bytes_91603, "mem_91632")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96116 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_74705));
        
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74709(ctx, segmap_usable_groups_74706, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74625, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, arg_59797, i_59802, cond_74721, x_95111, protect_assert_disj_95114, protect_assert_disj_95121, num_threads_95906, xys_mem_91601.mem, mem_param_91607.mem, mem_91632.mem, color_95748.mem, color_95749.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_set_device(ctx, &mem_param_tmp_96114, &mem_91632, "mem_91632") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_91607, &mem_param_tmp_96114, "mem_param_tmp_96114") != 0)
            return 1;
    }
    if (memblock_set_device(ctx, &ext_mem_91635, &mem_param_91607, "mem_param_91607") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91604, "mem_91604") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95748, "color_95748") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95749, "color_95749") != 0)
        return 1;
    
    int64_t segscan_tblock_sizze_74786;
    
    segscan_tblock_sizze_74786 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_74785;
    
    int64_t num_tblocks_74788;
    int64_t max_num_tblocks_96131;
    
    max_num_tblocks_96131 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_num_tblocks_74787;
    num_tblocks_74788 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54353, segscan_tblock_sizze_74786), max_num_tblocks_96131)));
    if (memblock_alloc_device(ctx, &mem_91638, bytes_91603, "mem_91638")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91640, bytes_91603, "mem_91640")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dz2083U_54353)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_96132;
        
        shared_memory_96132 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_96133;
        
        thread_block_sizze_96133 = ctx->max_thread_block_size;
        
        int64_t registers_96134;
        
        registers_96134 = ctx->max_registers;
        
        int64_t thread_block_sizze_96135;
        
        thread_block_sizze_96135 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_96136 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_96132, thread_block_sizze_96133), (int64_t) 8), squot64(squot64(registers_96134, thread_block_sizze_96135) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_96137 = sdiv_up64(dz2083U_54353, segscan_tblock_sizze_74786 * chunk_sizze_96136);
        int64_t num_virt_threads_96138 = num_virt_blocks_96137 * segscan_tblock_sizze_74786;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_96136, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_96139, num_virt_blocks_96137, "status_flags_mem_96139")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_96139, num_virt_blocks_96137, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_96161, (int64_t) 8 * num_virt_blocks_96137, "aggregates_mem_96161")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_96163, (int64_t) 8 * num_virt_blocks_96137, "incprefixes_mem_96163")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegscan_74791(ctx, num_tblocks_74788, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_74785, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_74786), chunk_sizze_96136 * segscan_tblock_sizze_74786 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_74786), chunk_sizze_96136 * segscan_tblock_sizze_74786 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dz2083U_54353, num_tblocks_74788, num_virt_blocks_96137, num_virt_threads_96138, ext_mem_91635.mem, mem_91638.mem, mem_91640.mem, status_flags_mem_96139.mem, aggregates_mem_96161.mem, incprefixes_mem_96163.mem, global_dynid_mem_96165.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    bool cond_59888 = dz2083U_54353 == (int64_t) 0;
    bool x_59889 = !cond_59888;
    int64_t tmp_59890 = sub64(dz2083U_54353, (int64_t) 1);
    bool x_59891 = sle64((int64_t) 0, tmp_59890);
    bool y_59892 = slt64(tmp_59890, dz2083U_54353);
    bool bounds_check_59893 = x_59891 && y_59892;
    bool protect_assert_disj_59894 = cond_59888 || bounds_check_59893;
    bool index_certs_59895;
    
    if (!protect_assert_disj_59894) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_59890, "] out of bounds for array of shape [", (long long) dz2083U_54353, "].", "-> #0  /prelude/soacs.fut:257:33-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:762:10-13\n   #3  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t m_f_res_59896;
    
    if (x_59889) {
        int64_t read_res_99205;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99205, mem_91638.mem, tmp_59890 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_67496 = read_res_99205;
        
        m_f_res_59896 = x_67496;
    } else {
        m_f_res_59896 = (int64_t) 0;
    }
    
    int64_t m_59898;
    
    if (cond_59888) {
        m_59898 = (int64_t) 0;
    } else {
        m_59898 = m_f_res_59896;
    }
    
    int64_t m_59908 = sub64(m_59898, (int64_t) 1);
    bool i_p_m_t_s_leq_w_59910 = slt64(m_59908, dz2083U_54353);
    bool zzero_leq_i_p_m_t_s_59909 = sle64((int64_t) 0, m_59908);
    bool y_59912 = zzero_leq_i_p_m_t_s_59909 && i_p_m_t_s_leq_w_59910;
    bool i_lte_j_59911 = sle64((int64_t) 0, m_59898);
    bool forwards_ok_59913 = i_lte_j_59911 && y_59912;
    bool eq_x_zz_59905 = (int64_t) 0 == m_f_res_59896;
    bool p_and_eq_x_y_59906 = x_59889 && eq_x_zz_59905;
    bool empty_slice_59907 = cond_59888 || p_and_eq_x_y_59906;
    bool ok_or_empty_59914 = empty_slice_59907 || forwards_ok_59913;
    bool index_certs_59915;
    
    if (!ok_or_empty_59914) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) m_59898, "] out of bounds for array of shape [", (long long) dz2083U_54353, "].", "-> #0  /prelude/soacs.fut:258:29-35\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:762:10-13\n   #3  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_91641 = (int64_t) 8 * m_59898;
    int64_t bytes_91648 = dim_54348 * bytes_91641;
    bool y_59930 = slt64((int64_t) 0, dz2080U_54349);
    bool index_certs_59931;
    
    if (!y_59930) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_54349, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:671:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:762:10-13\n   #5  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_59935 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350 == (int64_t) 0;
    bool bounds_invalid_upwards_59943 = slt64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, (int64_t) 1);
    bool valid_59945 = !bounds_invalid_upwards_59943;
    bool protect_assert_disj_95087 = cond_59935 || valid_59945;
    bool range_valid_c_59946;
    
    if (!protect_assert_disj_95087) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_59958;
    
    if (!assert_cond_59798) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:671:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:762:10-13\n   #5  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_59965;
    
    if (!protect_assert_disj_95114) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54348, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_59969;
    
    if (!protect_assert_disj_95121) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_54348, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_59970;
    
    if (!protect_assert_disj_95121) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_54348, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:671:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:762:10-13\n   #5  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_67138;
    
    if (!protect_assert_disj_95114) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_54348, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:762:10-13\n   #2  ftSkyline.fut:760:1-764:53\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_91670 = arg_59797 * bytes_91603;
    int64_t bytes_91672 = (int64_t) 8 * total_part_no_54362;
    int64_t bytes_91677 = dim_54348 * bytes_91603;
    int64_t binop_x_91691 = smax64((int64_t) 0, tmp_59890);
    int64_t binop_x_91693 = smax64((int64_t) 0, arg_59797);
    int64_t binop_y_91694 = dz2083U_54353 * binop_x_91693;
    int64_t binop_y_91695 = smax64((int64_t) 0, binop_y_91694);
    int64_t binop_y_91696 = binop_x_91691 + binop_y_91695;
    int64_t binop_y_91697 = (int64_t) 1 + binop_y_91696;
    int64_t bytes_91698 = (int64_t) 8 * binop_y_91697;
    int64_t binop_y_92003 = arg_59797 - (int64_t) 1;
    int64_t binop_x_92004 = smax64((int64_t) 0, binop_y_92003);
    int64_t binop_y_92005 = dz2083U_54353 * binop_x_92004;
    int64_t binop_y_92006 = smax64((int64_t) 0, binop_y_92005);
    int64_t binop_y_92007 = binop_x_91691 + binop_y_92006;
    int64_t binop_y_92008 = (int64_t) 1 + binop_y_92007;
    int64_t bytes_92009 = (int64_t) 8 * binop_y_92008;
    
    if (memblock_alloc_device(ctx, &mem_91642, bytes_91641, "mem_91642")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_91642.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_91635.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {m_59898})) != 0)
        goto cleanup;
    
    int64_t segmap_tblock_sizze_74796;
    
    segmap_tblock_sizze_74796 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74795;
    
    int64_t num_tblocks_74798;
    int64_t max_num_tblocks_96274;
    
    max_num_tblocks_96274 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_74797;
    num_tblocks_74798 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_74796), max_num_tblocks_96274)));
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96275 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_74796));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74793(ctx, num_tblocks_74798, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74795, 1, 1, (int64_t) 0, dz2083U_54353, m_59898, num_tblocks_74798, virt_num_tblocks_96275, ext_mem_91635.mem, mem_91638.mem, mem_91640.mem, mem_91642.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91635, "ext_mem_91635") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91638, "mem_91638") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91640, "mem_91640") != 0)
        return 1;
    
    int64_t segmap_tblock_sizze_74841;
    
    segmap_tblock_sizze_74841 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74830;
    
    int64_t segmap_usable_groups_74842 = sdiv_up64(m_59898, segmap_tblock_sizze_74841);
    
    if (memblock_alloc_device(ctx, &mem_91645, (int64_t) 0, "mem_91645")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96288 = sext_i64_i32(sdiv_up64(m_59898, segmap_tblock_sizze_74841));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74845(ctx, segmap_usable_groups_74842, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74830, 1, 1, (int64_t) 0, dz2083U_54353, m_59898, mem_91642.mem, mem_91645.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t nest_sizze_74852 = dim_54348 * m_59898;
    int64_t segmap_tblock_sizze_74853;
    
    segmap_tblock_sizze_74853 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74818;
    
    int64_t segmap_usable_groups_74854 = sdiv_up64(nest_sizze_74852, segmap_tblock_sizze_74853);
    
    if (memblock_alloc_device(ctx, &mem_91649, bytes_91648, "mem_91649")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96297 = sext_i64_i32(sdiv_up64(m_59898 * dim_54348, segmap_tblock_sizze_74853));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74858(ctx, segmap_usable_groups_74854, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74818, 1, 1, (int64_t) 0, dim_54348, m_59898, xys_mem_91601.mem, mem_91642.mem, mem_91645.mem, mem_91649.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_tblock_sizze_74863;
    
    segmap_tblock_sizze_74863 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74804;
    
    int64_t segmap_usable_groups_74864 = sdiv_up64(m_59898, segmap_tblock_sizze_74863);
    
    if (memblock_alloc_device(ctx, &mem_91652, bytes_91641, "mem_91652")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96308 = sext_i64_i32(sdiv_up64(m_59898, segmap_tblock_sizze_74863));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_74867(ctx, segmap_usable_groups_74864, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74804, 1, 1, (int64_t) 0, m_59898, xys_mem_91602.mem, mem_91642.mem, mem_91645.mem, mem_91652.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91645, "mem_91645") != 0)
        return 1;
    
    int64_t bytes_91653 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350;
    
    if (cond_59935) {
        if (memblock_alloc_device(ctx, &mem_91662, bytes_91653, "mem_91662")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91665, &mem_91662, "mem_91662") != 0)
            return 1;
    } else {
        bool y_59939 = slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350);
        bool index_certs_59940;
        
        if (!y_59939) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        double defunc_0_f_res_59941;
        
        if (futrts_lifted_lambda_10151(ctx, &defunc_0_f_res_59941, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, dim_54348, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91654, bytes_91653, "mem_91654")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_91654, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, defunc_0_f_res_59941) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t distance_59944 = sub64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, (int64_t) 1);
        
        for (int64_t i_59948 = 0; i_59948 < distance_59944; i_59948++) {
            int64_t index_primexp_59950 = add64((int64_t) 1, i_59948);
            bool x_59951 = sle64((int64_t) 0, index_primexp_59950);
            bool y_59952 = slt64(index_primexp_59950, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350);
            bool bounds_check_59953 = x_59951 && y_59952;
            bool index_certs_59954;
            
            if (!bounds_check_59953) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_59950, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:671:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:762:10-13\n   #6  ftSkyline.fut:760:1-764:53\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double defunc_0_f_res_59955;
            
            if (futrts_lifted_lambda_10151(ctx, &defunc_0_f_res_59955, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, dim_54348, index_primexp_59950) != 0) {
                err = 1;
                goto cleanup;
            }
            
            double write_tmp_99206 = defunc_0_f_res_59955;
            
            if ((err = gpu_scalar_to_device(ctx, mem_91654.mem, index_primexp_59950 * sizeof(double), sizeof(double), &write_tmp_99206)) != 0)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91665, &mem_91654, "mem_91654") != 0)
            return 1;
    }
    if (x_95111) {
        if (memblock_alloc_device(ctx, &mem_91667, (int64_t) 8, "mem_91667")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezigpuseq_96338(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_91597.mem, mem_91667.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91668, &mem_91667, "mem_91667") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_91666, (int64_t) 8, "mem_91666")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_91666, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91668, &mem_91666, "mem_91666") != 0)
            return 1;
    }
    
    int64_t nest_sizze_76362 = dim_54348 * dz2083U_54353;
    int64_t segmap_tblock_sizze_76363;
    
    segmap_tblock_sizze_76363 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75271;
    
    int64_t segmap_usable_groups_76364 = sdiv_up64(nest_sizze_76362, segmap_tblock_sizze_76363);
    int64_t segmap_tblock_sizze_76374;
    
    segmap_tblock_sizze_76374 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75242;
    
    int64_t segmap_usable_groups_76375 = sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76374);
    
    if (memblock_alloc_device(ctx, &mem_91671, bytes_91670, "mem_91671")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_f64(ctx, mem_91671, dz2083U_54353 * arg_59797, 0.0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t segmap_tblock_sizze_76479;
    
    segmap_tblock_sizze_76479 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75017;
    
    int64_t segmap_tblock_sizze_76489;
    
    segmap_tblock_sizze_76489 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74986;
    
    int64_t num_tblocks_76490;
    int64_t max_num_tblocks_96364;
    
    max_num_tblocks_96364 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_74988;
    num_tblocks_76490 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76489), max_num_tblocks_96364)));
    
    int64_t nest_sizze_76512 = dz2083U_54353 * arg_59797;
    int64_t segmap_tblock_sizze_76513;
    
    segmap_tblock_sizze_76513 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74950;
    
    int64_t segmap_usable_groups_76514 = sdiv_up64(nest_sizze_76512, segmap_tblock_sizze_76513);
    int64_t segmap_tblock_sizze_76526;
    
    segmap_tblock_sizze_76526 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74922;
    
    int64_t segmap_usable_groups_76527 = sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76526);
    
    if (memblock_alloc_device(ctx, &mem_91673, bytes_91672, "mem_91673")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i64(ctx, mem_91673, total_part_no_54362, (int64_t) 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_76542;
    
    seghist_tblock_sizze_76542 = *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541;
    
    int64_t num_tblocks_76544;
    int64_t max_num_tblocks_96365;
    
    max_num_tblocks_96365 = *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_num_tblocks_76543;
    num_tblocks_76544 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(m_59898, seghist_tblock_sizze_76542), max_num_tblocks_96365)));
    
    int64_t segscan_tblock_sizze_76562;
    
    segscan_tblock_sizze_76562 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_76561;
    
    int64_t num_tblocks_76564;
    int64_t max_num_tblocks_96366;
    
    max_num_tblocks_96366 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_num_tblocks_76563;
    num_tblocks_76564 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_part_no_54362, segscan_tblock_sizze_76562), max_num_tblocks_96366)));
    
    int64_t segmap_tblock_sizze_76583;
    
    segmap_tblock_sizze_76583 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_76571;
    
    int64_t segmap_usable_groups_76584 = sdiv_up64(total_part_no_54362, segmap_tblock_sizze_76583);
    
    if (memblock_alloc_device(ctx, &mem_91674, (int64_t) 8, "mem_91674")) {
        err = 1;
        goto cleanup;
    }
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezigpuseq_96367(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_91668.mem, mem_91674.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_unref_device(ctx, &ext_mem_91668, "ext_mem_91668") != 0)
        return 1;
    
    int64_t max_tblock_sizze_76092;
    
    max_tblock_sizze_76092 = ctx->max_thread_block_size;
    
    bool fits_76093 = sle64(dim_54348, max_tblock_sizze_76092);
    bool suff_intra_par_76095;
    
    suff_intra_par_76095 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisuff_intra_par_0 <= dim_54348;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_global_Skyline_GFUR_double.suff_intra_par_0", (long) dim_54348, suff_intra_par_76095 ? "true" : "false");
    
    bool intra_suff_and_fits_76096 = fits_76093 && suff_intra_par_76095;
    int64_t segmap_tblock_sizze_76322;
    
    segmap_tblock_sizze_76322 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75477;
    
    int64_t segmap_tblock_sizze_76334;
    
    segmap_tblock_sizze_76334 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75448;
    
    int64_t num_tblocks_76335;
    int64_t max_num_tblocks_96373;
    
    max_num_tblocks_96373 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75450;
    num_tblocks_76335 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76334), max_num_tblocks_96373)));
    
    int64_t ext_91908;
    int64_t shared_memory_capacity_96374;
    
    shared_memory_capacity_96374 = ctx->max_shared_memory;
    if (intra_suff_and_fits_76096) {
        ext_91908 = dim_54348;
    } else {
        ext_91908 = (int64_t) 1;
    }
    
    int64_t ext_91907;
    int64_t shared_memory_capacity_96375;
    
    shared_memory_capacity_96375 = ctx->max_shared_memory;
    if (intra_suff_and_fits_76096) {
        ext_91907 = (int64_t) 1;
    } else {
        ext_91907 = dz2083U_54353;
    }
    
    bool suff_intra_par_76171;
    
    suff_intra_par_76171 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisuff_intra_par_1 <= dim_54348;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_global_Skyline_GFUR_double.suff_intra_par_1", (long) dim_54348, suff_intra_par_76171 ? "true" : "false");
    
    bool intra_suff_and_fits_76172 = fits_76093 && suff_intra_par_76171;
    int64_t segmap_tblock_sizze_76227;
    
    segmap_tblock_sizze_76227 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75775;
    
    int64_t segmap_tblock_sizze_76243;
    
    segmap_tblock_sizze_76243 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75742;
    
    int64_t segmap_tblock_sizze_76289;
    
    segmap_tblock_sizze_76289 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75630;
    
    int64_t segmap_tblock_sizze_76301;
    
    segmap_tblock_sizze_76301 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75604;
    
    int64_t num_tblocks_76302;
    int64_t max_num_tblocks_96376;
    
    max_num_tblocks_96376 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75606;
    num_tblocks_76302 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76301), max_num_tblocks_96376)));
    
    int64_t ext_91811;
    int64_t shared_memory_capacity_96377;
    
    shared_memory_capacity_96377 = ctx->max_shared_memory;
    if (intra_suff_and_fits_76172) {
        ext_91811 = dim_54348;
    } else {
        ext_91811 = (int64_t) 1;
    }
    
    int64_t ext_91810;
    int64_t shared_memory_capacity_96378;
    
    shared_memory_capacity_96378 = ctx->max_shared_memory;
    if (intra_suff_and_fits_76172) {
        ext_91810 = (int64_t) 1;
    } else {
        ext_91810 = dz2083U_54353;
    }
    
    int64_t ext_91733;
    
    if (cond_74721) {
        ext_91733 = dim_54348;
    } else {
        ext_91733 = (int64_t) 1;
    }
    
    int64_t ext_91732;
    
    if (cond_74721) {
        ext_91732 = (int64_t) 1;
    } else {
        ext_91732 = dz2083U_54353;
    }
    
    int64_t binop_x_91686 = (int64_t) 8 * dim_54348;
    int64_t bytes_91687 = dz2083U_54353 * binop_x_91686;
    int64_t binop_y_91725 = binop_x_91691 + binop_y_91695;
    int64_t binop_y_91726 = (int64_t) 1 + binop_y_91725;
    int64_t bytes_91727 = (int64_t) 8 * binop_y_91726;
    int64_t binop_y_91777 = binop_x_91691 + binop_y_91695;
    int64_t binop_y_91778 = (int64_t) 1 + binop_y_91777;
    int64_t bytes_91779 = (int64_t) 8 * binop_y_91778;
    int64_t binop_y_91861 = binop_x_91691 + binop_y_91695;
    int64_t binop_y_91862 = (int64_t) 1 + binop_y_91861;
    int64_t bytes_91863 = (int64_t) 8 * binop_y_91862;
    int64_t ext_91914;
    
    if (cond_74721) {
        ext_91914 = dim_54348;
    } else {
        ext_91914 = ext_91908;
    }
    
    int64_t ext_91913;
    
    if (cond_74721) {
        ext_91913 = (int64_t) 1;
    } else {
        ext_91913 = ext_91907;
    }
    
    int64_t ext_91817;
    
    if (cond_74721) {
        ext_91817 = dim_54348;
    } else {
        ext_91817 = ext_91811;
    }
    
    int64_t ext_91816;
    
    if (cond_74721) {
        ext_91816 = (int64_t) 1;
    } else {
        ext_91816 = ext_91810;
    }
    
    int64_t maxSubHelper_95750 = umax64((int64_t) 0, binop_x_91686);
    
    if (cond_74721) {
        if (memblock_alloc_device(ctx, &mem_91912, bytes_91677, "mem_91912")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91915, &mem_91912, "mem_91912") != 0)
            return 1;
    } else {
        int64_t shared_memory_capacity_96571;
        
        shared_memory_capacity_96571 = ctx->max_shared_memory;
        if (intra_suff_and_fits_76096 && sle64(sdiv_up64(maxSubHelper_95750, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91686, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91686, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91686, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91686, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96571)) {
            if (memblock_alloc_device(ctx, &mem_91906, bytes_91677, "mem_91906")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_96379 = sext_i64_i32(sdiv_up64(dim_54348, dim_54348));
            int32_t virt_num_tblocks_96380 = sext_i64_i32(dz2083U_54353);
            
            {
                err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_intrablock_76100(ctx, dz2083U_54353, 1, 1, dim_54348, 1, 1, binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8) + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8)) + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8)) + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95750 + srem64((int64_t) 8 - srem64(maxSubHelper_95750, (int64_t) 8), (int64_t) 8)), dim_54348, dz2083U_54353, arg_59797, cond_74721, binop_x_91686, maxSubHelper_95750, grid_part_sizze_per_dim_mem_91596.mem, grid_partitions_per_dim_mem_91597.mem, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_91674.mem, mem_91906.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_91909, &mem_91906, "mem_91906") != 0)
                return 1;
        } else {
            if (cond_74721) {
                if (memblock_alloc_device(ctx, &mem_91815, bytes_91677, "mem_91815")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_91818, &mem_91815, "mem_91815") != 0)
                    return 1;
            } else {
                int64_t shared_memory_capacity_96527;
                
                shared_memory_capacity_96527 = ctx->max_shared_memory;
                if (intra_suff_and_fits_76172 && sle64(sdiv_up64(binop_x_91686, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91686, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91686, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96527)) {
                    if (memblock_alloc_device(ctx, &mem_91809, bytes_91677, "mem_91809")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_96400 = sext_i64_i32(sdiv_up64(dim_54348, dim_54348));
                    int32_t virt_num_tblocks_96401 = sext_i64_i32(dz2083U_54353);
                    
                    {
                        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_intrablock_76176(ctx, dz2083U_54353, 1, 1, dim_54348, 1, 1, binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8) + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8)) + (binop_x_91686 + srem64((int64_t) 8 - srem64(binop_x_91686, (int64_t) 8), (int64_t) 8)), dim_54348, dz2083U_54353, arg_59797, cond_74721, binop_x_91686, grid_part_sizze_per_dim_mem_91596.mem, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_91809.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_91812, &mem_91809, "mem_91809") != 0)
                        return 1;
                } else {
                    int64_t segmap_usable_groups_76228 = sdiv_up64(nest_sizze_76362, segmap_tblock_sizze_76227);
                    
                    if (memblock_alloc_device(ctx, &mem_91682, bytes_91677, "mem_91682")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96418 = sext_i64_i32(sdiv_up64(dz2083U_54353 * dim_54348, segmap_tblock_sizze_76227));
                    
                    {
                        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76232(ctx, segmap_usable_groups_76228, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75775, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_91682.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_usable_groups_76244 = sdiv_up64(nest_sizze_76362, segmap_tblock_sizze_76243);
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96429 = sext_i64_i32(sdiv_up64(dz2083U_54353 * dim_54348, segmap_tblock_sizze_76243));
                    
                    {
                        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76248(ctx, segmap_usable_groups_76244, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75742, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, grid_part_sizze_per_dim_mem_91596.mem, mem_91682.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (cond_74721) {
                        if (memblock_alloc_device(ctx, &mem_91731, bytes_91677, "mem_91731")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_91734, &mem_91731, "mem_91731") != 0)
                            return 1;
                    } else {
                        int64_t segmap_tblock_sizze_76256;
                        
                        segmap_tblock_sizze_76256 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75688;
                        
                        int64_t segmap_usable_groups_76257 = sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76256);
                        
                        if (memblock_alloc_device(ctx, &mem_91685, bytes_91603, "mem_91685")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96440 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76256));
                        
                        {
                            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76260(ctx, segmap_usable_groups_76257, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75688, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, mem_91682.mem, mem_91685.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_91688, bytes_91687, "mem_91688")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96449 = dim_54348 * dz2083U_54353;
                        int64_t tblock_sizze_96454;
                        
                        tblock_sizze_96454 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezitblock_sizze_96454;
                        
                        int64_t virt_num_tblocks_96455 = sdiv_up64(replicate_n_96449, tblock_sizze_96454);
                        int64_t num_tblocks_96456 = smin64(virt_num_tblocks_96455, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_calc_global_Skyline_GFUR_doublezireplicate_96450(ctx, num_tblocks_96456, 1, 1, tblock_sizze_96454, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, replicate_n_96449, virt_num_tblocks_96455, num_tblocks_96456, mem_91685.mem, mem_91688.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_91685, "mem_91685") != 0)
                            return 1;
                        
                        int64_t segmap_tblock_sizze_76268;
                        
                        segmap_tblock_sizze_76268 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75662;
                        
                        int64_t num_tblocks_76269;
                        int64_t max_num_tblocks_96469;
                        
                        max_num_tblocks_96469 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75664;
                        num_tblocks_76269 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76268), max_num_tblocks_96469)));
                        if (memblock_alloc_device(ctx, &mem_91699, bytes_91698, "mem_91699")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91699.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_91688.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_91688, "mem_91688") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91710, bytes_91698, "mem_91710")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91710.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_91682.mem, (int64_t) 0, (int64_t []) {dim_54348, (int64_t) 1}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_91728, bytes_91727, "mem_91728")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96470 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76268));
                        
                        {
                            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76273(ctx, num_tblocks_76269, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75662, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, arg_59797, num_tblocks_76269, virt_num_tblocks_96470, mem_91699.mem, mem_91710.mem, mem_91728.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_91699, "mem_91699") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_91710, "mem_91710") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_91734, &mem_91728, "mem_91728") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_91682, "mem_91682") != 0)
                        return 1;
                    
                    int64_t segmap_usable_groups_76290 = sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76289);
                    
                    if (memblock_alloc_device(ctx, &mem_91737, bytes_91603, "mem_91737")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96484 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76289));
                    
                    {
                        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76293(ctx, segmap_usable_groups_76290, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75630, 1, 1, (int64_t) 0, dz2083U_54353, ext_91733, ext_mem_91734.mem, mem_91737.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_alloc_device(ctx, &mem_91740, bytes_91687, "mem_91740")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_96493 = dim_54348 * dz2083U_54353;
                    int64_t tblock_sizze_96498;
                    
                    tblock_sizze_96498 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezitblock_sizze_96498;
                    
                    int64_t virt_num_tblocks_96499 = sdiv_up64(replicate_n_96493, tblock_sizze_96498);
                    int64_t num_tblocks_96500 = smin64(virt_num_tblocks_96499, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_global_Skyline_GFUR_doublezireplicate_96494(ctx, num_tblocks_96500, 1, 1, tblock_sizze_96498, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, replicate_n_96493, virt_num_tblocks_96499, num_tblocks_96500, mem_91737.mem, mem_91740.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_91737, "mem_91737") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_91751, bytes_91698, "mem_91751")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91751.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_91740.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_91740, "mem_91740") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_91762, bytes_91698, "mem_91762")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91762.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, ext_mem_91734.mem, (int64_t) 0, (int64_t []) {ext_91733, ext_91732}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &ext_mem_91734, "ext_mem_91734") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_91780, bytes_91779, "mem_91780")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96513 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76301));
                    
                    {
                        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76306(ctx, num_tblocks_76302, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75604, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, arg_59797, num_tblocks_76302, virt_num_tblocks_96513, mem_91751.mem, mem_91762.mem, mem_91780.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_91751, "mem_91751") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_91762, "mem_91762") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_91812, &mem_91780, "mem_91780") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_91818, &ext_mem_91812, "ext_mem_91812") != 0)
                    return 1;
            }
            
            int64_t segmap_usable_groups_76323 = sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76322);
            
            if (memblock_alloc_device(ctx, &mem_91821, bytes_91603, "mem_91821")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96528 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76322));
            
            {
                err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76326(ctx, segmap_usable_groups_76323, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75477, 1, 1, (int64_t) 0, dz2083U_54353, ext_91817, mem_91674.mem, ext_mem_91818.mem, mem_91821.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_91824, bytes_91687, "mem_91824")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96537 = dim_54348 * dz2083U_54353;
            int64_t tblock_sizze_96542;
            
            tblock_sizze_96542 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezitblock_sizze_96542;
            
            int64_t virt_num_tblocks_96543 = sdiv_up64(replicate_n_96537, tblock_sizze_96542);
            int64_t num_tblocks_96544 = smin64(virt_num_tblocks_96543, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_global_Skyline_GFUR_doublezireplicate_96538(ctx, num_tblocks_96544, 1, 1, tblock_sizze_96542, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, replicate_n_96537, virt_num_tblocks_96543, num_tblocks_96544, mem_91821.mem, mem_91824.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_91821, "mem_91821") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91835, bytes_91698, "mem_91835")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91835.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_91824.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91824, "mem_91824") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91846, bytes_91698, "mem_91846")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91846.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, ext_mem_91818.mem, (int64_t) 0, (int64_t []) {ext_91817, ext_91816}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_91818, "ext_mem_91818") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91864, bytes_91863, "mem_91864")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96557 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76334));
            
            {
                err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76339(ctx, num_tblocks_76335, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75448, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, arg_59797, num_tblocks_76335, virt_num_tblocks_96557, grid_partitions_per_dim_mem_91597.mem, mem_91835.mem, mem_91846.mem, mem_91864.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91835, "mem_91835") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91846, "mem_91846") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91909, &mem_91864, "mem_91864") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_91915, &ext_mem_91909, "ext_mem_91909") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_91674, "mem_91674") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91919, bytes_91677, "mem_91919")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96572 = sext_i64_i32(sdiv_up64(dz2083U_54353 * dim_54348, segmap_tblock_sizze_76363));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76368(ctx, segmap_usable_groups_76364, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75271, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, ext_91913, ext_91914, grid_part_prefix_sum_mem_91595.mem, ext_mem_91915.mem, mem_91919.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91915, "ext_mem_91915") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91930, bytes_91698, "mem_91930")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91930.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_91919.mem, (int64_t) 0, (int64_t []) {dim_54348, (int64_t) 1}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_91919, "mem_91919") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91932, (int64_t) 0, "mem_91932")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_92055, bytes_91603, "mem_92055")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96583 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76374));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76379(ctx, segmap_usable_groups_76375, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75242, 1, 1, (int64_t) 0, dim_54348, dz2080U_54349, dz2083U_54353, mem_91930.mem, mem_91932.mem, mem_92055.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91930, "mem_91930") != 0)
        return 1;
    
    int64_t binop_y_91982 = binop_x_91691 + binop_y_91695;
    int64_t binop_y_91983 = (int64_t) 1 + binop_y_91982;
    int64_t bytes_91984 = (int64_t) 8 * binop_y_91983;
    
    if (cond_74721) {
        if (memblock_alloc_device(ctx, &mem_91988, bytes_91677, "mem_91988")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91991, &mem_91988, "mem_91988") != 0)
            return 1;
    } else {
        int64_t segmap_tblock_sizze_76394;
        
        segmap_tblock_sizze_76394 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75172;
        
        int64_t segmap_usable_groups_76395 = sdiv_up64(nest_sizze_76362, segmap_tblock_sizze_76394);
        
        if (memblock_alloc_device(ctx, &mem_91942, bytes_91677, "mem_91942")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96593 = sext_i64_i32(sdiv_up64(dz2083U_54353 * dim_54348, segmap_tblock_sizze_76394));
        
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76399(ctx, segmap_usable_groups_76395, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75172, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, start_of_grid_partition_mem_91598.mem, mem_91932.mem, mem_91942.mem, mem_92055.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        
        int64_t segmap_tblock_sizze_76409;
        
        segmap_tblock_sizze_76409 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75146;
        
        int64_t segmap_usable_groups_76410 = sdiv_up64(nest_sizze_76362, segmap_tblock_sizze_76409);
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96604 = sext_i64_i32(sdiv_up64(dz2083U_54353 * dim_54348, segmap_tblock_sizze_76409));
        
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76414(ctx, segmap_usable_groups_76410, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75146, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, xys_mem_91601.mem, mem_91942.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_alloc_device(ctx, &mem_91945, bytes_91687, "mem_91945")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t replicate_n_96615 = dim_54348 * dz2083U_54353;
        int64_t tblock_sizze_96620;
        
        tblock_sizze_96620 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezitblock_sizze_96620;
        
        int64_t virt_num_tblocks_96621 = sdiv_up64(replicate_n_96615, tblock_sizze_96620);
        int64_t num_tblocks_96622 = smin64(virt_num_tblocks_96621, (int64_t) 1048576);
        
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezireplicate_96616(ctx, num_tblocks_96622, 1, 1, tblock_sizze_96620, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, replicate_n_96615, virt_num_tblocks_96621, num_tblocks_96622, mem_91942.mem, mem_91945.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int64_t segmap_tblock_sizze_76431;
        
        segmap_tblock_sizze_76431 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75100;
        
        int64_t num_tblocks_76432;
        int64_t max_num_tblocks_96635;
        
        max_num_tblocks_96635 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_num_tblocks_75102;
        num_tblocks_76432 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76431), max_num_tblocks_96635)));
        if (memblock_alloc_device(ctx, &mem_91956, bytes_91698, "mem_91956")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91956.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_91945.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_91945, "mem_91945") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91967, bytes_91698, "mem_91967")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91967.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_91942.mem, (int64_t) 0, (int64_t []) {dim_54348, (int64_t) 1}, (int64_t []) {dz2083U_54353, dim_54348})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_91942, "mem_91942") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91985, bytes_91984, "mem_91985")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96636 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76431));
        
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76436(ctx, num_tblocks_76432, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75100, 1, 1, (int64_t) 0, dim_54348, dz2083U_54353, arg_59797, num_tblocks_76432, virt_num_tblocks_96636, mem_91956.mem, mem_91967.mem, mem_91985.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_91956, "mem_91956") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91967, "mem_91967") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_91991, &mem_91985, "mem_91985") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_91932, "mem_91932") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92010, bytes_92009, "mem_92010")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t ext_92035;
    int64_t ext_92034;
    int64_t ctx_param_ext_91993;
    int64_t ctx_param_ext_91994;
    
    if (memblock_set_device(ctx, &mem_param_91995, &mem_91671, "mem_91671") != 0)
        return 1;
    ctx_param_ext_91993 = arg_59797;
    ctx_param_ext_91994 = (int64_t) 1;
    for (int64_t i_76453 = 0; i_76453 < arg_59797; i_76453++) {
        bool y_76455 = slt64(i_76453, dim_54348);
        bool index_certs_76456;
        
        if (!y_76455) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_76453, "] out of bounds for array of shape [", (long long) dim_54348, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:671:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:762:10-13\n   #5  ftSkyline.fut:760:1-764:53\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t map_arg1_76457 = add64((int64_t) 1, i_76453);
        int64_t j_m_i_76458 = sub64(dim_54348, map_arg1_76457);
        bool empty_slice_76459 = j_m_i_76458 == (int64_t) 0;
        int64_t m_76460 = sub64(j_m_i_76458, (int64_t) 1);
        int64_t i_p_m_t_s_76461 = add64(map_arg1_76457, m_76460);
        bool zzero_leq_i_p_m_t_s_76462 = sle64((int64_t) 0, i_p_m_t_s_76461);
        bool i_p_m_t_s_leq_w_76463 = slt64(i_p_m_t_s_76461, dim_54348);
        bool zzero_lte_i_76464 = sle64((int64_t) 0, map_arg1_76457);
        bool i_lte_j_76465 = sle64(map_arg1_76457, dim_54348);
        bool y_76466 = i_p_m_t_s_leq_w_76463 && zzero_lte_i_76464;
        bool y_76467 = zzero_leq_i_p_m_t_s_76462 && y_76466;
        bool forwards_ok_76468 = i_lte_j_76465 && y_76467;
        bool ok_or_empty_76469 = empty_slice_76459 || forwards_ok_76468;
        bool index_certs_76470;
        
        if (!ok_or_empty_76469) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_76457, ":", (long long) dim_54348, "] out of bounds for array of shape [", (long long) dim_54348, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:671:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:762:10-13\n   #5  ftSkyline.fut:760:1-764:53\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t bytes_91998 = j_m_i_76458 * bytes_91603;
        int64_t binop_x_92015 = smax64((int64_t) 0, m_76460);
        int64_t binop_y_92016 = dz2083U_54353 * binop_x_92015;
        int64_t binop_y_92017 = smax64((int64_t) 0, binop_y_92016);
        int64_t binop_y_92018 = binop_x_91691 + binop_y_92017;
        int64_t binop_y_92019 = (int64_t) 1 + binop_y_92018;
        int64_t bytes_92020 = (int64_t) 8 * binop_y_92019;
        int64_t binop_y_92030 = binop_x_91691 + binop_y_92006;
        int64_t binop_y_92031 = (int64_t) 1 + binop_y_92030;
        int64_t bytes_92032 = (int64_t) 8 * binop_y_92031;
        int64_t nest_sizze_76478 = dz2083U_54353 * j_m_i_76458;
        int64_t segmap_usable_groups_76480 = sdiv_up64(nest_sizze_76478, segmap_tblock_sizze_76479);
        
        if (memblock_alloc_device(ctx, &mem_91999, bytes_91998, "mem_91999")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96654 = sext_i64_i32(sdiv_up64(dz2083U_54353 * j_m_i_76458, segmap_tblock_sizze_76479));
        
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76484(ctx, segmap_usable_groups_76480, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_75017, 1, 1, (int64_t) 0, dz2083U_54353, map_arg1_76457, j_m_i_76458, ext_91732, ext_91733, ext_mem_91991.mem, mem_91999.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92010.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_param_91995.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_91993, ctx_param_ext_91994}, (int64_t []) {dz2083U_54353, arg_59797})) != 0)
            goto cleanup;
        if (memblock_alloc_device(ctx, &mem_92021, bytes_92020, "mem_92021")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92021.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_91999.mem, (int64_t) 0, (int64_t []) {j_m_i_76458, (int64_t) 1}, (int64_t []) {dz2083U_54353, j_m_i_76458})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_91999, "mem_91999") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92033, bytes_92032, "mem_92033")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96665 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76489));
        
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76494(ctx, num_tblocks_76490, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74986, 1, 1, (int64_t) 0, dz2083U_54353, arg_59797, i_76453, j_m_i_76458, num_tblocks_76490, ext_91732, ext_91733, virt_num_tblocks_96665, ext_mem_91991.mem, mem_92010.mem, mem_92021.mem, mem_92033.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_92021, "mem_92021") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_96650, &mem_92033, "mem_92033") != 0)
            return 1;
        
        int64_t ctx_param_ext_tmp_96651 = (int64_t) 1;
        int64_t ctx_param_ext_tmp_96652 = dz2083U_54353;
        
        if (memblock_set_device(ctx, &mem_param_91995, &mem_param_tmp_96650, "mem_param_tmp_96650") != 0)
            return 1;
        ctx_param_ext_91993 = ctx_param_ext_tmp_96651;
        ctx_param_ext_91994 = ctx_param_ext_tmp_96652;
    }
    if (memblock_set_device(ctx, &ext_mem_92037, &mem_param_91995, "mem_param_91995") != 0)
        return 1;
    ext_92035 = ctx_param_ext_91993;
    ext_92034 = ctx_param_ext_91994;
    if (memblock_unref_device(ctx, &mem_91671, "mem_91671") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_91991, "ext_mem_91991") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92010, "mem_92010") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92041, bytes_91670, "mem_92041")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96679 = sext_i64_i32(sdiv_up64(dz2083U_54353 * arg_59797, segmap_tblock_sizze_76513));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76518(ctx, segmap_usable_groups_76514, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74950, 1, 1, (int64_t) 0, dz2083U_54353, arg_59797, ext_92034, ext_92035, angle_part_prefix_sum_mem_91593.mem, angle_partitions_per_dim_mem_91594.mem, ext_mem_91665.mem, ext_mem_92037.mem, mem_92041.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91665, "ext_mem_91665") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_92037, "ext_mem_92037") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92052, bytes_92009, "mem_92052")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92052.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_54353}, mem_92041.mem, (int64_t) 0, (int64_t []) {arg_59797, (int64_t) 1}, (int64_t []) {dz2083U_54353, arg_59797})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_92041, "mem_92041") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96690 = sext_i64_i32(sdiv_up64(dz2083U_54353, segmap_tblock_sizze_76526));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76530(ctx, segmap_usable_groups_76527, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_74922, 1, 1, (int64_t) 0, dz2083U_54353, total_angle_no_54360, arg_59797, mem_92052.mem, mem_92055.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_92052, "mem_92052") != 0)
        return 1;
    
    int64_t num_subhistos_96700;
    int64_t h_96703 = (int64_t) 8 * total_part_no_54362;
    int64_t seg_h_96704 = (int64_t) 8 * total_part_no_54362;
    
    if (!(seg_h_96704 == (int64_t) 0)) {
        int64_t hist_H_96705 = total_part_no_54362;
        int64_t hist_el_sizze_96706 = sdiv_up64(h_96703, hist_H_96705);
        int64_t hist_N_96707 = m_59898;
        int32_t hist_RF_96708 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_76544 * seghist_tblock_sizze_76542), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_76542, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_96705, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_96707, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_96706, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_96708, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_96703, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_96704, '\n');
        
        int64_t hist_L_96709;
        
        hist_L_96709 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezihist_L_96709;
        
        int64_t max_tblock_sizze_96710;
        
        max_tblock_sizze_96710 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_96711 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_76544 * seghist_tblock_sizze_76542)), max_tblock_sizze_96710);
        double hist_m_prime_96712 = sitofp_i64_f64(smin64(squot64(hist_L_96709, hist_el_sizze_96706), sdiv_up64(hist_N_96707, num_tblocks_96711))) / sitofp_i64_f64(hist_H_96705);
        int64_t hist_M0_96713 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_96712), max_tblock_sizze_96710));
        int64_t hist_Nout_96714 = (int64_t) 1;
        int64_t hist_Nin_96715 = m_59898;
        int64_t work_asymp_M_max_96716 = squot64(hist_Nout_96714 * hist_N_96707, (int64_t) 2 * num_tblocks_96711 * hist_H_96705);
        int32_t hist_M_96717 = sext_i64_i32(smin64(hist_M0_96713, work_asymp_M_max_96716));
        int64_t hist_C_96718 = sdiv_up64(max_tblock_sizze_96710, sext_i32_i64(smax32(1, hist_M_96717)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_96713, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_96716, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_96718, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_96710, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_96717, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_96705 * hist_el_sizze_96706 * sext_i32_i64(hist_M_96717)), '\n');
        
        int64_t local_mem_needed_96719 = hist_el_sizze_96706 * sext_i32_i64(hist_M_96717);
        int32_t hist_S_96720 = sext_i64_i32(sdiv_up64(hist_H_96705 * local_mem_needed_96719 + (int64_t) 1, hist_L_96709));
        
        if (sle64(hist_H_96705, hist_Nin_96715) && (sle64(local_mem_needed_96719, hist_L_96709) && (sle32(hist_S_96720, 3) && (sle64(hist_C_96718, max_tblock_sizze_96710) && slt32(0, hist_M_96717))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_96705, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_96717, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_96718, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_96720, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_96717, '\n');
            num_subhistos_96700 = num_tblocks_96711;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_96700, '\n');
            if (num_subhistos_96700 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_96701, &mem_91673, "mem_91673") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_96701, num_subhistos_96700 * total_part_no_54362 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_96701")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_96701, num_subhistos_96700 * total_part_no_54362, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_96701.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_91673.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_54362})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_96721 = 0; chk_i_96721 < hist_S_96720; chk_i_96721++) {
                int64_t num_segments_96722 = (int64_t) 1;
                int64_t hist_H_chk_96723 = sdiv_up64(total_part_no_54362, sext_i32_i64(hist_S_96720));
                int64_t histo_sizze_96724 = hist_H_chk_96723;
                int32_t init_per_thread_96725 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_96717) * histo_sizze_96724, max_tblock_sizze_96710));
                
                {
                    err = gpu_kernel_calc_global_Skyline_GFUR_doubleziseghist_local_76549(ctx, num_tblocks_96711, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 8 * (hist_M_96717 * hist_H_chk_96723) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_96717 * hist_H_chk_96723), (int64_t) 8), (int64_t) 8), dz2083U_54353, total_part_no_54362, m_59898, num_subhistos_96700, num_tblocks_96711, hist_M_96717, chk_i_96721, num_segments_96722, hist_H_chk_96723, histo_sizze_96724, init_per_thread_96725, mem_91642.mem, mem_92055.mem, defunc_0_map_res_subhistos_mem_96701.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_96757 = total_part_no_54362;
            double hist_RF_96758 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_96759 = 8;
            double hist_C_max_96760 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_76544 * seghist_tblock_sizze_76542)), sitofp_i32_f64(hist_H_96757) / 2.0);
            int32_t hist_M_min_96761 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_76544 * seghist_tblock_sizze_76542)) / hist_C_max_96760)));
            int64_t hist_L2_96762;
            
            hist_L2_96762 = *ctx->tuning_params.calc_global_Skyline_GFUR_doublezihist_L2_96762;
            
            double hist_RACE_exp_96763 = fmax64(1.0, 0.75 * hist_RF_96758 / (64.0 / sitofp_i32_f64(hist_el_sizze_96759)));
            int32_t hist_S_96764;
            
            if (slt64(m_59898, hist_H_96757)) {
                hist_S_96764 = 1;
            } else {
                hist_S_96764 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_96761) * hist_H_96757 * sext_i32_i64(hist_el_sizze_96759), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_96762) * hist_RACE_exp_96763)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_96763, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_96764, '\n');
            
            int64_t hist_H_chk_96765 = sdiv_up64(total_part_no_54362, sext_i32_i64(hist_S_96764));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_96765, '\n');
            
            double hist_k_max_96766 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_96762) / sitofp_i32_f64(8)) * hist_RACE_exp_96763, sitofp_i32_f64(m_59898)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_76544 * seghist_tblock_sizze_76542));
            int64_t hist_u_96767 = (int64_t) 2;
            double hist_C_96768 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_76544 * seghist_tblock_sizze_76542)), sitofp_i32_f64(hist_u_96767 * hist_H_chk_96765) / hist_k_max_96766);
            int32_t hist_M_96769 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_96766, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_96769, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_96768, '\n');
            num_subhistos_96700 = sext_i32_i64(hist_M_96769);
            if (hist_M_96769 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_96701, &mem_91673, "mem_91673") != 0)
                    return 1;
            } else if (num_subhistos_96700 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_96701, &mem_91673, "mem_91673") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_96701, num_subhistos_96700 * total_part_no_54362 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_96701")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_96701, num_subhistos_96700 * total_part_no_54362, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_96701.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_91673.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_54362})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_96770 = 0; chk_i_96770 < hist_S_96764; chk_i_96770++) {
                int64_t hist_H_chk_96771 = sdiv_up64(total_part_no_54362, sext_i32_i64(hist_S_96764));
                
                {
                    err = gpu_kernel_calc_global_Skyline_GFUR_doubleziseghist_global_76549(ctx, num_tblocks_76544, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541, 1, 1, (int64_t) 0, dz2083U_54353, total_part_no_54362, m_59898, num_tblocks_76544, num_subhistos_96700, chk_i_96770, hist_H_chk_96771, mem_91642.mem, mem_92055.mem, defunc_0_map_res_subhistos_mem_96701.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        }
        if (num_subhistos_96700 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_91673, &defunc_0_map_res_subhistos_mem_96701, "defunc_0_map_res_subhistos_mem_96701") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_96787 = (int64_t) 1;
            
            if (slt64(num_subhistos_96700 * (int64_t) 2, seghist_tblock_sizze_76542 * chunk_sizze_96787)) {
                int64_t segment_sizze_nonzzero_96788 = smax64((int64_t) 1, num_subhistos_96700);
                int64_t num_threads_96789 = seghist_tblock_sizze_76542 * seghist_tblock_sizze_76542;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_54362, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_96700, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_part_no_54362, squot64(seghist_tblock_sizze_76542, segment_sizze_nonzzero_96788))), '\n');
                {
                    err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegred_small_96786(ctx, num_tblocks_76544, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541, 1, 1, (int64_t) 8 * seghist_tblock_sizze_76542 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_76542, (int64_t) 8), (int64_t) 8), total_part_no_54362, num_tblocks_76544, num_subhistos_96700, segment_sizze_nonzzero_96788, mem_91673.mem, defunc_0_map_res_subhistos_mem_96701.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_96817 = sdiv_up64(num_tblocks_76544, smax64((int64_t) 1, total_part_no_54362));
                int64_t q_96818 = sdiv_up64(num_subhistos_96700, seghist_tblock_sizze_76542 * blocks_per_segment_96817 * chunk_sizze_96787);
                int64_t num_virtblocks_96819 = blocks_per_segment_96817 * total_part_no_54362;
                int64_t threads_per_segment_96820 = blocks_per_segment_96817 * seghist_tblock_sizze_76542;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_54362, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_96700, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_96819, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_76544, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_76542, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_96818, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_96817, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_96821, (int64_t) 8 * num_virtblocks_96819, "segred_tmp_mem_96821")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegred_large_96786(ctx, num_tblocks_76544, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doubleziseghist_tblock_sizze_76541, 1, 1, 8 + ((int64_t) 8 * seghist_tblock_sizze_76542 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_76542, (int64_t) 8), (int64_t) 8)), total_part_no_54362, num_tblocks_76544, num_subhistos_96700, blocks_per_segment_96817, q_96818, num_virtblocks_96819, threads_per_segment_96820, mem_91673.mem, defunc_0_map_res_subhistos_mem_96701.mem, segred_tmp_mem_96821.mem, counters_mem_96823.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91642, "mem_91642") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92055, "mem_92055") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92059, bytes_91672, "mem_92059")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, total_part_no_54362)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_96860;
        
        shared_memory_96860 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_96861;
        
        thread_block_sizze_96861 = ctx->max_thread_block_size;
        
        int64_t registers_96862;
        
        registers_96862 = ctx->max_registers;
        
        int64_t thread_block_sizze_96863;
        
        thread_block_sizze_96863 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_96864 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_96860, thread_block_sizze_96861), (int64_t) 8), squot64(squot64(registers_96862, thread_block_sizze_96863) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_96865 = sdiv_up64(total_part_no_54362, segscan_tblock_sizze_76562 * chunk_sizze_96864);
        int64_t num_virt_threads_96866 = num_virt_blocks_96865 * segscan_tblock_sizze_76562;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_96864, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_96867, num_virt_blocks_96865, "status_flags_mem_96867")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_96867, num_virt_blocks_96865, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_96869, (int64_t) 8 * num_virt_blocks_96865, "aggregates_mem_96869")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_96871, (int64_t) 8 * num_virt_blocks_96865, "incprefixes_mem_96871")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegscan_76567(ctx, num_tblocks_76564, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegscan_tblock_sizze_76561, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_76562), chunk_sizze_96864 * segscan_tblock_sizze_76562 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_76562), chunk_sizze_96864 * segscan_tblock_sizze_76562 * (int64_t) 8), (int64_t) 8), (int64_t) 8), total_part_no_54362, num_tblocks_76564, num_virt_blocks_96865, num_virt_threads_96866, mem_91673.mem, mem_92059.mem, status_flags_mem_96867.mem, aggregates_mem_96869.mem, incprefixes_mem_96871.mem, global_dynid_mem_96873.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_91673, "mem_91673") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92062, bytes_91672, "mem_92062")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96962 = sext_i64_i32(sdiv_up64(total_part_no_54362, segmap_tblock_sizze_76583));
    
    {
        err = gpu_kernel_calc_global_Skyline_GFUR_doublezisegmap_76587(ctx, segmap_usable_groups_76584, 1, 1, *ctx->tuning_params.calc_global_Skyline_GFUR_doublezisegmap_tblock_sizze_76571, 1, 1, (int64_t) 0, total_part_no_54362, mem_92059.mem, mem_92062.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_92059, "mem_92059") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96091, &isPartitionDominated_mem_91599, "isPartitionDominated_mem_91599") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96092, &mem_92062, "mem_92062") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96093, &mem_91649, "mem_91649") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96094, &mem_91652, "mem_91652") != 0)
        return 1;
    prim_out_96095 = total_part_no_54362;
    prim_out_96096 = m_59898;
    if (memblock_set_device(ctx, &*mem_out_p_99199, &mem_out_96091, "mem_out_96091") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99200, &mem_out_96092, "mem_out_96092") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99201, &mem_out_96093, "mem_out_96093") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99202, &mem_out_96094, "mem_out_96094") != 0)
        return 1;
    *out_prim_out_99203 = prim_out_96095;
    *out_prim_out_99204 = prim_out_96096;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_92062, "mem_92062") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_96871, "incprefixes_mem_96871") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_96869, "aggregates_mem_96869") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_96867, "status_flags_mem_96867") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92059, "mem_92059") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96821, "segred_tmp_mem_96821") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_96701, "defunc_0_map_res_subhistos_mem_96701") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92052, "mem_92052") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92041, "mem_92041") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96650, "mem_param_tmp_96650") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92033, "mem_92033") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92021, "mem_92021") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91999, "mem_91999") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91995, "mem_param_91995") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92037, "ext_mem_92037") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92010, "mem_92010") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91985, "mem_91985") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91967, "mem_91967") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91956, "mem_91956") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91945, "mem_91945") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91942, "mem_91942") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91988, "mem_91988") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91991, "ext_mem_91991") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92055, "mem_92055") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91932, "mem_91932") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91930, "mem_91930") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91919, "mem_91919") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91864, "mem_91864") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91846, "mem_91846") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91835, "mem_91835") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91824, "mem_91824") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91821, "mem_91821") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91780, "mem_91780") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91762, "mem_91762") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91751, "mem_91751") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91740, "mem_91740") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91737, "mem_91737") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91728, "mem_91728") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91710, "mem_91710") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91699, "mem_91699") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91688, "mem_91688") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91685, "mem_91685") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91731, "mem_91731") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91734, "ext_mem_91734") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91682, "mem_91682") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91809, "mem_91809") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91812, "ext_mem_91812") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91815, "mem_91815") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91818, "ext_mem_91818") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91906, "mem_91906") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91909, "ext_mem_91909") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91912, "mem_91912") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91915, "ext_mem_91915") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91674, "mem_91674") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91673, "mem_91673") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91671, "mem_91671") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91666, "mem_91666") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91667, "mem_91667") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91668, "ext_mem_91668") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91654, "mem_91654") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91662, "mem_91662") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91665, "ext_mem_91665") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91652, "mem_91652") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91649, "mem_91649") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91645, "mem_91645") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91642, "mem_91642") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_96163, "incprefixes_mem_96163") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_96161, "aggregates_mem_96161") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_96139, "status_flags_mem_96139") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91640, "mem_91640") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91638, "mem_91638") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96114, "mem_param_tmp_96114") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91632, "mem_91632") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91607, "mem_param_91607") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91635, "ext_mem_91635") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95749, "color_95749") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95748, "color_95748") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91604, "mem_91604") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96094, "mem_out_96094") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96093, "mem_out_96093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96092, "mem_out_96092") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96091, "mem_out_96091") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99207, struct memblock_device *mem_out_p_99208, struct memblock_device *mem_out_p_99209, struct memblock_device *mem_out_p_99210, int64_t *out_prim_out_99211, int64_t *out_prim_out_99212, struct memblock_device angle_part_prefix_sum_mem_91593, struct memblock_device angle_partitions_per_dim_mem_91594, struct memblock_device grid_part_prefix_sum_mem_91595, struct memblock_device grid_part_sizze_per_dim_mem_91596, struct memblock_device grid_partitions_per_dim_mem_91597, struct memblock_device start_of_grid_partition_mem_91598, struct memblock_device isPartitionDominated_mem_91599, struct memblock_device part_idx_mem_91600, struct memblock_device xys_mem_91601, struct memblock_device xys_mem_91602, int64_t dim_51486, int64_t dz2080U_51487, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, int64_t dz2081U_51489, int64_t dz2082U_51490, int64_t dz2083U_51491, int64_t total_angle_no_51498, int64_t total_grid_no_51499, int64_t total_part_no_51500)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_92494;
    
    mem_92494.references = NULL;
    
    struct memblock_device incprefixes_mem_97250;
    
    incprefixes_mem_97250.references = NULL;
    
    struct memblock_device aggregates_mem_97248;
    
    aggregates_mem_97248.references = NULL;
    
    struct memblock_device status_flags_mem_97246;
    
    status_flags_mem_97246.references = NULL;
    
    struct memblock_device mem_92491;
    
    mem_92491.references = NULL;
    
    struct memblock_device segred_tmp_mem_97200;
    
    segred_tmp_mem_97200.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_97080;
    
    defunc_0_map_res_subhistos_mem_97080.references = NULL;
    
    struct memblock_device mem_92484;
    
    mem_92484.references = NULL;
    
    struct memblock_device mem_92473;
    
    mem_92473.references = NULL;
    
    struct memblock_device mem_param_tmp_97028;
    
    mem_param_tmp_97028.references = NULL;
    
    struct memblock_device mem_92465;
    
    mem_92465.references = NULL;
    
    struct memblock_device mem_92453;
    
    mem_92453.references = NULL;
    
    struct memblock_device mem_92431;
    
    mem_92431.references = NULL;
    
    struct memblock_device mem_param_92427;
    
    mem_param_92427.references = NULL;
    
    struct memblock_device ext_mem_92469;
    
    ext_mem_92469.references = NULL;
    
    struct memblock_device mem_92442;
    
    mem_92442.references = NULL;
    
    struct memblock_device mem_92417;
    
    mem_92417.references = NULL;
    
    struct memblock_device mem_92399;
    
    mem_92399.references = NULL;
    
    struct memblock_device mem_92388;
    
    mem_92388.references = NULL;
    
    struct memblock_device mem_92377;
    
    mem_92377.references = NULL;
    
    struct memblock_device mem_92374;
    
    mem_92374.references = NULL;
    
    struct memblock_device mem_92420;
    
    mem_92420.references = NULL;
    
    struct memblock_device ext_mem_92423;
    
    ext_mem_92423.references = NULL;
    
    struct memblock_device mem_92487;
    
    mem_92487.references = NULL;
    
    struct memblock_device mem_92364;
    
    mem_92364.references = NULL;
    
    struct memblock_device mem_92362;
    
    mem_92362.references = NULL;
    
    struct memblock_device mem_92351;
    
    mem_92351.references = NULL;
    
    struct memblock_device mem_92296;
    
    mem_92296.references = NULL;
    
    struct memblock_device mem_92278;
    
    mem_92278.references = NULL;
    
    struct memblock_device mem_92267;
    
    mem_92267.references = NULL;
    
    struct memblock_device mem_92256;
    
    mem_92256.references = NULL;
    
    struct memblock_device mem_92253;
    
    mem_92253.references = NULL;
    
    struct memblock_device mem_92212;
    
    mem_92212.references = NULL;
    
    struct memblock_device mem_92194;
    
    mem_92194.references = NULL;
    
    struct memblock_device mem_92183;
    
    mem_92183.references = NULL;
    
    struct memblock_device mem_92172;
    
    mem_92172.references = NULL;
    
    struct memblock_device mem_92169;
    
    mem_92169.references = NULL;
    
    struct memblock_device mem_92160;
    
    mem_92160.references = NULL;
    
    struct memblock_device mem_92142;
    
    mem_92142.references = NULL;
    
    struct memblock_device mem_92131;
    
    mem_92131.references = NULL;
    
    struct memblock_device mem_92120;
    
    mem_92120.references = NULL;
    
    struct memblock_device mem_92117;
    
    mem_92117.references = NULL;
    
    struct memblock_device mem_92163;
    
    mem_92163.references = NULL;
    
    struct memblock_device ext_mem_92166;
    
    ext_mem_92166.references = NULL;
    
    struct memblock_device mem_92114;
    
    mem_92114.references = NULL;
    
    struct memblock_device mem_92241;
    
    mem_92241.references = NULL;
    
    struct memblock_device ext_mem_92244;
    
    ext_mem_92244.references = NULL;
    
    struct memblock_device mem_92247;
    
    mem_92247.references = NULL;
    
    struct memblock_device ext_mem_92250;
    
    ext_mem_92250.references = NULL;
    
    struct memblock_device mem_92338;
    
    mem_92338.references = NULL;
    
    struct memblock_device ext_mem_92341;
    
    ext_mem_92341.references = NULL;
    
    struct memblock_device mem_92344;
    
    mem_92344.references = NULL;
    
    struct memblock_device ext_mem_92347;
    
    ext_mem_92347.references = NULL;
    
    struct memblock_device mem_92106;
    
    mem_92106.references = NULL;
    
    struct memblock_device mem_92103;
    
    mem_92103.references = NULL;
    
    struct memblock_device mem_92099;
    
    mem_92099.references = NULL;
    
    struct memblock_device mem_92096;
    
    mem_92096.references = NULL;
    
    struct memblock_device mem_91632;
    
    mem_91632.references = NULL;
    
    struct memblock_device mem_91630;
    
    mem_91630.references = NULL;
    
    struct memblock_device mem_91613;
    
    mem_91613.references = NULL;
    
    struct memblock_device mem_91621;
    
    mem_91621.references = NULL;
    
    struct memblock_device ext_mem_91624;
    
    ext_mem_91624.references = NULL;
    
    struct memblock_device incprefixes_mem_96614;
    
    incprefixes_mem_96614.references = NULL;
    
    struct memblock_device aggregates_mem_96612;
    
    aggregates_mem_96612.references = NULL;
    
    struct memblock_device status_flags_mem_96590;
    
    status_flags_mem_96590.references = NULL;
    
    struct memblock_device mem_92094;
    
    mem_92094.references = NULL;
    
    struct memblock_device mem_92092;
    
    mem_92092.references = NULL;
    
    struct memblock_device mem_param_tmp_96448;
    
    mem_param_tmp_96448.references = NULL;
    
    struct memblock_device mem_92086;
    
    mem_92086.references = NULL;
    
    struct memblock_device mem_param_tmp_96527;
    
    mem_param_tmp_96527.references = NULL;
    
    struct memblock_device mem_92042;
    
    mem_92042.references = NULL;
    
    struct memblock_device mem_92030;
    
    mem_92030.references = NULL;
    
    struct memblock_device mem_92008;
    
    mem_92008.references = NULL;
    
    struct memblock_device mem_param_92004;
    
    mem_param_92004.references = NULL;
    
    struct memblock_device ext_mem_92046;
    
    ext_mem_92046.references = NULL;
    
    struct memblock_device mem_91991;
    
    mem_91991.references = NULL;
    
    struct memblock_device mem_91973;
    
    mem_91973.references = NULL;
    
    struct memblock_device mem_91962;
    
    mem_91962.references = NULL;
    
    struct memblock_device mem_91951;
    
    mem_91951.references = NULL;
    
    struct memblock_device mem_91948;
    
    mem_91948.references = NULL;
    
    struct memblock_device mem_91994;
    
    mem_91994.references = NULL;
    
    struct memblock_device ext_mem_91997;
    
    ext_mem_91997.references = NULL;
    
    struct memblock_device mem_91929;
    
    mem_91929.references = NULL;
    
    struct memblock_device mem_91937;
    
    mem_91937.references = NULL;
    
    struct memblock_device ext_mem_91940;
    
    ext_mem_91940.references = NULL;
    
    struct memblock_device mem_param_91927;
    
    mem_param_91927.references = NULL;
    
    struct memblock_device ext_mem_92089;
    
    ext_mem_92089.references = NULL;
    
    struct memblock_device color_95760;
    
    color_95760.references = NULL;
    
    struct memblock_device color_95759;
    
    color_95759.references = NULL;
    
    struct memblock_device mem_92061;
    
    mem_92061.references = NULL;
    
    struct memblock_device mem_92050;
    
    mem_92050.references = NULL;
    
    struct memblock_device mem_92019;
    
    mem_92019.references = NULL;
    
    struct memblock_device mem_92000;
    
    mem_92000.references = NULL;
    
    struct memblock_device mem_91924;
    
    mem_91924.references = NULL;
    
    struct memblock_device mem_91913;
    
    mem_91913.references = NULL;
    
    struct memblock_device mem_91911;
    
    mem_91911.references = NULL;
    
    struct memblock_device mem_91909;
    
    mem_91909.references = NULL;
    
    struct memblock_device mem_91898;
    
    mem_91898.references = NULL;
    
    struct memblock_device mem_91843;
    
    mem_91843.references = NULL;
    
    struct memblock_device mem_91825;
    
    mem_91825.references = NULL;
    
    struct memblock_device mem_91814;
    
    mem_91814.references = NULL;
    
    struct memblock_device mem_91803;
    
    mem_91803.references = NULL;
    
    struct memblock_device mem_91800;
    
    mem_91800.references = NULL;
    
    struct memblock_device mem_91759;
    
    mem_91759.references = NULL;
    
    struct memblock_device mem_91741;
    
    mem_91741.references = NULL;
    
    struct memblock_device mem_91730;
    
    mem_91730.references = NULL;
    
    struct memblock_device mem_91719;
    
    mem_91719.references = NULL;
    
    struct memblock_device mem_91716;
    
    mem_91716.references = NULL;
    
    struct memblock_device mem_91688;
    
    mem_91688.references = NULL;
    
    struct memblock_device mem_91670;
    
    mem_91670.references = NULL;
    
    struct memblock_device mem_91659;
    
    mem_91659.references = NULL;
    
    struct memblock_device mem_91648;
    
    mem_91648.references = NULL;
    
    struct memblock_device mem_91645;
    
    mem_91645.references = NULL;
    
    struct memblock_device mem_91642;
    
    mem_91642.references = NULL;
    
    struct memblock_device mem_91704;
    
    mem_91704.references = NULL;
    
    struct memblock_device ext_mem_91707;
    
    ext_mem_91707.references = NULL;
    
    struct memblock_device mem_91710;
    
    mem_91710.references = NULL;
    
    struct memblock_device ext_mem_91713;
    
    ext_mem_91713.references = NULL;
    
    struct memblock_device mem_91788;
    
    mem_91788.references = NULL;
    
    struct memblock_device ext_mem_91791;
    
    ext_mem_91791.references = NULL;
    
    struct memblock_device mem_91794;
    
    mem_91794.references = NULL;
    
    struct memblock_device ext_mem_91797;
    
    ext_mem_91797.references = NULL;
    
    struct memblock_device mem_91885;
    
    mem_91885.references = NULL;
    
    struct memblock_device ext_mem_91888;
    
    ext_mem_91888.references = NULL;
    
    struct memblock_device mem_91891;
    
    mem_91891.references = NULL;
    
    struct memblock_device ext_mem_91894;
    
    ext_mem_91894.references = NULL;
    
    struct memblock_device mem_91634;
    
    mem_91634.references = NULL;
    
    struct memblock_device mem_91633;
    
    mem_91633.references = NULL;
    
    struct memblock_device mem_91625;
    
    mem_91625.references = NULL;
    
    struct memblock_device mem_91626;
    
    mem_91626.references = NULL;
    
    struct memblock_device ext_mem_91627;
    
    ext_mem_91627.references = NULL;
    
    struct memblock_device mem_91609;
    
    mem_91609.references = NULL;
    
    struct memblock_device mem_91610;
    
    mem_91610.references = NULL;
    
    struct memblock_device ext_mem_91611;
    
    ext_mem_91611.references = NULL;
    
    struct memblock_device mem_91608;
    
    mem_91608.references = NULL;
    
    struct memblock_device segred_tmp_mem_96121;
    
    segred_tmp_mem_96121.references = NULL;
    
    struct memblock_device mem_91606;
    
    mem_91606.references = NULL;
    
    struct memblock_device mem_91604;
    
    mem_91604.references = NULL;
    
    struct memblock_device mem_out_96094;
    
    mem_out_96094.references = NULL;
    
    struct memblock_device mem_out_96093;
    
    mem_out_96093.references = NULL;
    
    struct memblock_device mem_out_96092;
    
    mem_out_96092.references = NULL;
    
    struct memblock_device mem_out_96091;
    
    mem_out_96091.references = NULL;
    
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t prim_out_96095;
    int64_t prim_out_96096;
    int64_t arg_59797 = sub64(dim_51486, (int64_t) 1);
    bool assert_cond_59798 = arg_59797 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488;
    bool assert_c_59799;
    
    if (!assert_cond_59798) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  ftSkyline.fut:756:10-758:27\n   #1  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zeze_rhs_59801 = sub64(dz2082U_51490, (int64_t) 1);
    int64_t segred_tblock_sizze_70747;
    
    segred_tblock_sizze_70747 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_70746;
    
    int64_t num_tblocks_70749;
    int64_t max_num_tblocks_96097;
    
    max_num_tblocks_96097 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_num_tblocks_70748;
    num_tblocks_70749 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2082U_51490, segred_tblock_sizze_70747), max_num_tblocks_96097)));
    
    int64_t bytes_91605 = (int64_t) 8 * dz2082U_51490;
    
    if (memblock_alloc_device(ctx, &mem_91604, (int64_t) 8, "mem_91604")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91606, bytes_91605, "mem_91606")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_96098 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_96121, (int64_t) 8 * num_tblocks_70749, "segred_tmp_mem_96121")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_96123 = num_tblocks_70749 * segred_tblock_sizze_70747;
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_nonseg_70755(ctx, num_tblocks_70749, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegred_tblock_sizze_70746, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_70747 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_70747, (int64_t) 8), (int64_t) 8)), dz2082U_51490, dz2083U_51491, zeze_rhs_59801, num_tblocks_70749, num_threads_96123, part_idx_mem_91600.mem, mem_91604.mem, mem_91606.mem, counters_mem_96099.mem, segred_tmp_mem_96121.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t read_res_99213;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_99213, mem_91604.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_0_reduce_res_68395 = read_res_99213;
    
    if (memblock_unref_device(ctx, &mem_91604, "mem_91604") != 0)
        return 1;
    
    int64_t bytes_91607 = (int64_t) 8 * dz2083U_51491;
    
    if (memblock_alloc_device(ctx, &mem_91608, bytes_91607, "mem_91608")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhiota_i64(ctx, mem_91608, dz2083U_51491, (int64_t) 0, (int64_t) 1) != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_59830 = slt64(defunc_0_reduce_res_68395, (int64_t) 0);
    bool valid_59831 = !bounds_invalid_upwards_59830;
    bool range_valid_c_59832;
    
    if (!valid_59831) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) defunc_0_reduce_res_68395, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  ftSkyline.fut:381:65-83\n   #2  ftSkyline.fut:756:10-13\n   #3  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool loop_nonempty_59833 = slt64((int64_t) 0, defunc_0_reduce_res_68395);
    bool y_59834 = slt64((int64_t) 0, dz2080U_51487);
    bool loop_not_taken_59835 = !loop_nonempty_59833;
    bool protect_assert_disj_59836 = y_59834 || loop_not_taken_59835;
    bool index_certs_59837;
    
    if (!protect_assert_disj_59836) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_51487, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:386:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_59838 = dim_51486 == (int64_t) 0;
    bool cond_59840 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488 == (int64_t) 0;
    bool protect_assert_disj_59842 = assert_cond_59798 || loop_not_taken_59835;
    bool empty_or_match_cert_59843;
    
    if (!protect_assert_disj_59842) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:386:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_59846 = slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488);
    bool bounds_invalid_upwards_59847 = slt64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, (int64_t) 1);
    int64_t distance_59848 = sub64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, (int64_t) 1);
    bool y_59849 = slt64((int64_t) 0, dim_51486);
    bool bounds_invalid_upwards_59850 = slt64(dim_51486, (int64_t) 1);
    bool protect_assert_disj_59851 = cond_59840 || y_59846;
    bool protect_assert_disj_59852 = loop_not_taken_59835 || protect_assert_disj_59851;
    bool index_certs_59853;
    
    if (!protect_assert_disj_59852) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_59854 = !bounds_invalid_upwards_59847;
    bool protect_assert_disj_59855 = cond_59838 || y_59849;
    bool protect_assert_disj_59856 = loop_not_taken_59835 || protect_assert_disj_59855;
    bool index_certs_59857;
    
    if (!protect_assert_disj_59856) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_51486, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_59858 = !bounds_invalid_upwards_59850;
    bool x_59860 = !cond_59840;
    bool protect_cond_conj_59861 = loop_nonempty_59833 && x_59860;
    double defunc_0_f_res_59862;
    
    if (protect_cond_conj_59861) {
        double x_68292;
        
        if (futrts_lifted_lambda_10151(ctx, &x_68292, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, dim_51486, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_59862 = x_68292;
    } else {
        defunc_0_f_res_59862 = 0.0;
    }
    
    bool protect_assert_disj_59864 = cond_59840 || valid_59854;
    bool protect_assert_disj_59865 = loop_not_taken_59835 || protect_assert_disj_59864;
    bool range_valid_c_59866;
    
    if (!protect_assert_disj_59865) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_59867 = cond_59838 || valid_59858;
    bool protect_assert_disj_59868 = loop_not_taken_59835 || protect_assert_disj_59867;
    bool range_valid_c_59869;
    
    if (!protect_assert_disj_59868) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_51486, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_59870;
    
    if (!protect_assert_disj_59868) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_51486, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:386:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_67138;
    
    if (!protect_assert_disj_59856) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_51486, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:756:10-13\n   #2  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_67234 = !cond_59838;
    bool protect_cond_conj_67239 = loop_nonempty_59833 && x_67234;
    
    if (protect_cond_conj_67239) {
        if (memblock_alloc_device(ctx, &mem_91610, (int64_t) 8, "mem_91610")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96169(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_91597.mem, mem_91610.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91611, &mem_91610, "mem_91610") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_91609, (int64_t) 8, "mem_91609")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_91609, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91611, &mem_91609, "mem_91609") != 0)
            return 1;
    }
    
    int64_t max_tblock_sizze_72238;
    
    max_tblock_sizze_72238 = ctx->max_thread_block_size;
    
    bool suff_intra_par_72241;
    
    suff_intra_par_72241 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_0 <= dim_51486;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_0", (long) dim_51486, suff_intra_par_72241 ? "true" : "false");
    
    bool suff_intra_par_72317;
    
    suff_intra_par_72317 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_1 <= dim_51486;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_1", (long) dim_51486, suff_intra_par_72317 ? "true" : "false");
    
    bool suff_intra_par_72374;
    
    suff_intra_par_72374 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_2 <= dim_51486;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_2", (long) dim_51486, suff_intra_par_72374 ? "true" : "false");
    
    int64_t nest_sizze_72413 = dim_51486 * dz2083U_51491;
    int64_t segmap_tblock_sizze_72414;
    
    segmap_tblock_sizze_72414 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71778;
    
    int64_t segmap_tblock_sizze_72430;
    
    segmap_tblock_sizze_72430 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71745;
    
    int64_t segmap_tblock_sizze_72441;
    
    segmap_tblock_sizze_72441 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71723;
    
    int64_t segmap_tblock_sizze_72453;
    
    segmap_tblock_sizze_72453 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71697;
    
    int64_t segmap_tblock_sizze_72474;
    
    segmap_tblock_sizze_72474 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71602;
    
    int64_t segmap_tblock_sizze_72486;
    
    segmap_tblock_sizze_72486 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71576;
    
    int64_t segmap_tblock_sizze_72507;
    
    segmap_tblock_sizze_72507 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71449;
    
    int64_t segmap_tblock_sizze_72519;
    
    segmap_tblock_sizze_72519 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71420;
    
    int64_t segmap_tblock_sizze_72548;
    
    segmap_tblock_sizze_72548 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71243;
    
    int64_t segmap_usable_groups_72549 = sdiv_up_safe64(nest_sizze_72413, segmap_tblock_sizze_72548);
    int64_t segmap_tblock_sizze_72559;
    
    segmap_tblock_sizze_72559 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71214;
    
    int64_t segmap_usable_groups_72560 = sdiv_up_safe64(dz2083U_51491, segmap_tblock_sizze_72559);
    int64_t segmap_tblock_sizze_72579;
    
    segmap_tblock_sizze_72579 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71144;
    
    int64_t segmap_tblock_sizze_72594;
    
    segmap_tblock_sizze_72594 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71118;
    
    int64_t segmap_tblock_sizze_72616;
    
    segmap_tblock_sizze_72616 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71072;
    
    int64_t segmap_tblock_sizze_72664;
    
    segmap_tblock_sizze_72664 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70989;
    
    int64_t segmap_tblock_sizze_72674;
    
    segmap_tblock_sizze_72674 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70958;
    
    int64_t num_tblocks_72675;
    int64_t max_num_tblocks_96195;
    
    max_num_tblocks_96195 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_70960;
    num_tblocks_72675 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72674), max_num_tblocks_96195)));
    
    int64_t nest_sizze_72697 = dz2083U_51491 * arg_59797;
    int64_t segmap_tblock_sizze_72698;
    
    segmap_tblock_sizze_72698 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70922;
    
    int64_t segmap_usable_groups_72699 = sdiv_up_safe64(nest_sizze_72697, segmap_tblock_sizze_72698);
    int64_t segmap_tblock_sizze_72711;
    
    segmap_tblock_sizze_72711 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70807;
    
    int64_t segmap_usable_groups_72712 = sdiv_up_safe64(dz2083U_51491, segmap_tblock_sizze_72711);
    bool fits_72239 = sle64(dim_51486, max_tblock_sizze_72238);
    int64_t num_tblocks_72520;
    int64_t max_num_tblocks_96196;
    
    max_num_tblocks_96196 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71422;
    num_tblocks_72520 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72519), max_num_tblocks_96196)));
    
    int64_t num_tblocks_72487;
    int64_t max_num_tblocks_96197;
    
    max_num_tblocks_96197 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71578;
    num_tblocks_72487 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72486), max_num_tblocks_96197)));
    
    int64_t num_tblocks_72454;
    int64_t max_num_tblocks_96198;
    
    max_num_tblocks_96198 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71699;
    num_tblocks_72454 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72453), max_num_tblocks_96198)));
    
    int64_t segmap_usable_groups_72580 = sdiv_up_safe64(nest_sizze_72413, segmap_tblock_sizze_72579);
    int64_t segmap_usable_groups_72595 = sdiv_up_safe64(nest_sizze_72413, segmap_tblock_sizze_72594);
    int64_t num_tblocks_72617;
    int64_t max_num_tblocks_96199;
    
    max_num_tblocks_96199 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_71074;
    num_tblocks_72617 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72616), max_num_tblocks_96199)));
    
    bool intra_suff_and_fits_72242 = fits_72239 && suff_intra_par_72241;
    bool intra_suff_and_fits_72318 = fits_72239 && suff_intra_par_72317;
    bool intra_suff_and_fits_72375 = fits_72239 && suff_intra_par_72374;
    int64_t segmap_usable_groups_72415 = sdiv_up_safe64(nest_sizze_72413, segmap_tblock_sizze_72414);
    int64_t segmap_usable_groups_72431 = sdiv_up_safe64(nest_sizze_72413, segmap_tblock_sizze_72430);
    int64_t segmap_usable_groups_72442 = sdiv_up_safe64(dz2083U_51491, segmap_tblock_sizze_72441);
    int64_t segmap_usable_groups_72475 = sdiv_up_safe64(dz2083U_51491, segmap_tblock_sizze_72474);
    int64_t segmap_usable_groups_72508 = sdiv_up_safe64(dz2083U_51491, segmap_tblock_sizze_72507);
    int64_t segscan_tblock_sizze_72814;
    
    segscan_tblock_sizze_72814 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_72813;
    
    int64_t num_tblocks_72816;
    int64_t max_num_tblocks_96200;
    
    max_num_tblocks_96200 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_72815;
    num_tblocks_72816 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segscan_tblock_sizze_72814), max_num_tblocks_96200)));
    
    bool cond_60137 = dz2083U_51491 == (int64_t) 0;
    bool x_60138 = !cond_60137;
    int64_t tmp_60139 = sub64(dz2083U_51491, (int64_t) 1);
    bool x_60140 = sle64((int64_t) 0, tmp_60139);
    bool y_60141 = slt64(tmp_60139, dz2083U_51491);
    bool bounds_check_60142 = x_60140 && y_60141;
    bool protect_assert_disj_60143 = cond_60137 || bounds_check_60142;
    bool index_certs_60144;
    
    if (!protect_assert_disj_60143) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_60139, "] out of bounds for array of shape [", (long long) dz2083U_51491, "].", "-> #0  /prelude/soacs.fut:257:33-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:756:10-13\n   #3  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_60179;
    
    if (!y_59834) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_51487, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:411:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_91612 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488;
    bool range_valid_c_60187;
    
    if (!protect_assert_disj_59864) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_or_match_cert_60198;
    
    if (!assert_cond_59798) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:411:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_60200;
    
    if (!protect_assert_disj_59855) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_51486, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_60202;
    
    if (!protect_assert_disj_59867) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_51486, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_60203;
    
    if (!protect_assert_disj_59867) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_51486, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:411:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_67160;
    
    if (!protect_assert_disj_59855) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_51486, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:756:10-13\n   #2  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (x_67234) {
        if (memblock_alloc_device(ctx, &mem_91626, (int64_t) 8, "mem_91626")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96201(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_91597.mem, mem_91626.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91627, &mem_91626, "mem_91626") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_91625, (int64_t) 8, "mem_91625")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_91625, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91627, &mem_91625, "mem_91625") != 0)
            return 1;
    }
    
    int64_t bytes_91629 = arg_59797 * bytes_91607;
    int64_t bytes_91631 = (int64_t) 8 * total_part_no_51500;
    
    if (memblock_alloc_device(ctx, &mem_91633, (int64_t) 8, "mem_91633")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91634, (int64_t) 8, "mem_91634")) {
        err = 1;
        goto cleanup;
    }
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezigpuseq_96207(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_91611.mem, ext_mem_91627.mem, mem_91633.mem, mem_91634.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_unref_device(ctx, &ext_mem_91611, "ext_mem_91611") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_91627, "ext_mem_91627") != 0)
        return 1;
    
    int64_t ext_91887;
    int64_t shared_memory_capacity_96213;
    
    shared_memory_capacity_96213 = ctx->max_shared_memory;
    if (intra_suff_and_fits_72242) {
        ext_91887 = dim_51486;
    } else {
        ext_91887 = (int64_t) 1;
    }
    
    int64_t ext_91886;
    int64_t shared_memory_capacity_96214;
    
    shared_memory_capacity_96214 = ctx->max_shared_memory;
    if (intra_suff_and_fits_72242) {
        ext_91886 = (int64_t) 1;
    } else {
        ext_91886 = dz2083U_51491;
    }
    
    int64_t ext_91790;
    int64_t shared_memory_capacity_96215;
    
    shared_memory_capacity_96215 = ctx->max_shared_memory;
    if (intra_suff_and_fits_72318) {
        ext_91790 = dim_51486;
    } else {
        ext_91790 = (int64_t) 1;
    }
    
    int64_t ext_91789;
    int64_t shared_memory_capacity_96216;
    
    shared_memory_capacity_96216 = ctx->max_shared_memory;
    if (intra_suff_and_fits_72318) {
        ext_91789 = (int64_t) 1;
    } else {
        ext_91789 = dz2083U_51491;
    }
    
    int64_t ext_91706;
    int64_t shared_memory_capacity_96217;
    
    shared_memory_capacity_96217 = ctx->max_shared_memory;
    if (intra_suff_and_fits_72375) {
        ext_91706 = dim_51486;
    } else {
        ext_91706 = (int64_t) 1;
    }
    
    int64_t ext_91705;
    int64_t shared_memory_capacity_96218;
    
    shared_memory_capacity_96218 = ctx->max_shared_memory;
    if (intra_suff_and_fits_72375) {
        ext_91705 = (int64_t) 1;
    } else {
        ext_91705 = dz2083U_51491;
    }
    
    int64_t bytes_91637 = dim_51486 * bytes_91607;
    int64_t binop_x_91646 = (int64_t) 8 * dim_51486;
    int64_t bytes_91647 = dz2083U_51491 * binop_x_91646;
    int64_t binop_x_91651 = smax64((int64_t) 0, tmp_60139);
    int64_t binop_x_91653 = smax64((int64_t) 0, arg_59797);
    int64_t binop_y_91654 = dz2083U_51491 * binop_x_91653;
    int64_t binop_y_91655 = smax64((int64_t) 0, binop_y_91654);
    int64_t binop_y_91656 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_91657 = (int64_t) 1 + binop_y_91656;
    int64_t bytes_91658 = (int64_t) 8 * binop_y_91657;
    int64_t binop_y_91685 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_91686 = (int64_t) 1 + binop_y_91685;
    int64_t bytes_91687 = (int64_t) 8 * binop_y_91686;
    int64_t binop_y_91756 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_91757 = (int64_t) 1 + binop_y_91756;
    int64_t bytes_91758 = (int64_t) 8 * binop_y_91757;
    int64_t binop_y_91840 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_91841 = (int64_t) 1 + binop_y_91840;
    int64_t bytes_91842 = (int64_t) 8 * binop_y_91841;
    int64_t ext_91893;
    
    if (cond_59838) {
        ext_91893 = dim_51486;
    } else {
        ext_91893 = ext_91887;
    }
    
    int64_t ext_91892;
    
    if (cond_59838) {
        ext_91892 = (int64_t) 1;
    } else {
        ext_91892 = ext_91886;
    }
    
    int64_t ext_91796;
    
    if (cond_59838) {
        ext_91796 = dim_51486;
    } else {
        ext_91796 = ext_91790;
    }
    
    int64_t ext_91795;
    
    if (cond_59838) {
        ext_91795 = (int64_t) 1;
    } else {
        ext_91795 = ext_91789;
    }
    
    int64_t ext_91712;
    
    if (cond_59838) {
        ext_91712 = dim_51486;
    } else {
        ext_91712 = ext_91706;
    }
    
    int64_t ext_91711;
    
    if (cond_59838) {
        ext_91711 = (int64_t) 1;
    } else {
        ext_91711 = ext_91705;
    }
    
    int64_t maxSubHelper_95748 = umax64((int64_t) 0, binop_x_91646);
    
    if (cond_59838) {
        if (memblock_alloc_device(ctx, &mem_91891, bytes_91637, "mem_91891")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91894, &mem_91891, "mem_91891") != 0)
            return 1;
    } else {
        int64_t shared_memory_capacity_96426;
        
        shared_memory_capacity_96426 = ctx->max_shared_memory;
        if (intra_suff_and_fits_72242 && sle64(sdiv_up64(maxSubHelper_95748, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96426)) {
            if (memblock_alloc_device(ctx, &mem_91885, bytes_91637, "mem_91885")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_96219 = sext_i64_i32(sdiv_up64(dim_51486, dim_51486));
            int32_t virt_num_tblocks_96220 = sext_i64_i32(dz2083U_51491);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_72246(ctx, dz2083U_51491, 1, 1, dim_51486, 1, 1, binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95748 + srem64((int64_t) 8 - srem64(maxSubHelper_95748, (int64_t) 8), (int64_t) 8)), dim_51486, dz2083U_51491, arg_59797, cond_59838, binop_x_91646, maxSubHelper_95748, grid_part_sizze_per_dim_mem_91596.mem, grid_partitions_per_dim_mem_91597.mem, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_91633.mem, mem_91885.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_91888, &mem_91885, "mem_91885") != 0)
                return 1;
        } else {
            if (cond_59838) {
                if (memblock_alloc_device(ctx, &mem_91794, bytes_91637, "mem_91794")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_91797, &mem_91794, "mem_91794") != 0)
                    return 1;
            } else {
                int64_t shared_memory_capacity_96382;
                
                shared_memory_capacity_96382 = ctx->max_shared_memory;
                if (intra_suff_and_fits_72318 && sle64(sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96382)) {
                    if (memblock_alloc_device(ctx, &mem_91788, bytes_91637, "mem_91788")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_96240 = sext_i64_i32(sdiv_up64(dim_51486, dim_51486));
                    int32_t virt_num_tblocks_96241 = sext_i64_i32(dz2083U_51491);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_72322(ctx, dz2083U_51491, 1, 1, dim_51486, 1, 1, binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)), dim_51486, dz2083U_51491, arg_59797, cond_59838, binop_x_91646, grid_part_sizze_per_dim_mem_91596.mem, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_91788.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_91791, &mem_91788, "mem_91788") != 0)
                        return 1;
                } else {
                    if (cond_59838) {
                        if (memblock_alloc_device(ctx, &mem_91710, bytes_91637, "mem_91710")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_91713, &mem_91710, "mem_91710") != 0)
                            return 1;
                    } else {
                        int64_t shared_memory_capacity_96338;
                        
                        shared_memory_capacity_96338 = ctx->max_shared_memory;
                        if (intra_suff_and_fits_72375 && sle64(sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96338)) {
                            if (memblock_alloc_device(ctx, &mem_91704, bytes_91637, "mem_91704")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t num_chunks_96258 = sext_i64_i32(sdiv_up64(dim_51486, dim_51486));
                            int32_t virt_num_tblocks_96259 = sext_i64_i32(dz2083U_51491);
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_72379(ctx, dz2083U_51491, 1, 1, dim_51486, 1, 1, binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)), dim_51486, dz2083U_51491, arg_59797, binop_x_91646, grid_part_sizze_per_dim_mem_91596.mem, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_91704.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_91707, &mem_91704, "mem_91704") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_91642, bytes_91637, "mem_91642")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96273 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_72414));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72419(ctx, segmap_usable_groups_72415, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71778, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_91642.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96284 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_72430));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72435(ctx, segmap_usable_groups_72431, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71745, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, grid_part_sizze_per_dim_mem_91596.mem, mem_91642.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_91645, bytes_91607, "mem_91645")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96295 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72441));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72445(ctx, segmap_usable_groups_72442, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71723, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, mem_91642.mem, mem_91645.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_91648, bytes_91647, "mem_91648")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_96304 = dim_51486 * dz2083U_51491;
                            int64_t tblock_sizze_96309;
                            
                            tblock_sizze_96309 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96309;
                            
                            int64_t virt_num_tblocks_96310 = sdiv_up64(replicate_n_96304, tblock_sizze_96309);
                            int64_t num_tblocks_96311 = smin64(virt_num_tblocks_96310, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96305(ctx, num_tblocks_96311, 1, 1, tblock_sizze_96309, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, replicate_n_96304, virt_num_tblocks_96310, num_tblocks_96311, mem_91645.mem, mem_91648.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_91645, "mem_91645") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91659, bytes_91658, "mem_91659")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91659.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_91648.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91648, "mem_91648") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91670, bytes_91658, "mem_91670")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91670.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_91642.mem, (int64_t) 0, (int64_t []) {dim_51486, (int64_t) 1}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91642, "mem_91642") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91688, bytes_91687, "mem_91688")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96324 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72453));
                            
                            {
                                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72458(ctx, num_tblocks_72454, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71697, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, arg_59797, num_tblocks_72454, virt_num_tblocks_96324, mem_91659.mem, mem_91670.mem, mem_91688.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_91659, "mem_91659") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91670, "mem_91670") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91707, &mem_91688, "mem_91688") != 0)
                                return 1;
                        }
                        if (memblock_set_device(ctx, &ext_mem_91713, &ext_mem_91707, "ext_mem_91707") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_91716, bytes_91607, "mem_91716")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96339 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72474));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72478(ctx, segmap_usable_groups_72475, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71602, 1, 1, (int64_t) 0, dz2083U_51491, ext_91712, ext_mem_91713.mem, mem_91716.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_alloc_device(ctx, &mem_91719, bytes_91647, "mem_91719")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_96348 = dim_51486 * dz2083U_51491;
                    int64_t tblock_sizze_96353;
                    
                    tblock_sizze_96353 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96353;
                    
                    int64_t virt_num_tblocks_96354 = sdiv_up64(replicate_n_96348, tblock_sizze_96353);
                    int64_t num_tblocks_96355 = smin64(virt_num_tblocks_96354, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96349(ctx, num_tblocks_96355, 1, 1, tblock_sizze_96353, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, replicate_n_96348, virt_num_tblocks_96354, num_tblocks_96355, mem_91716.mem, mem_91719.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_91716, "mem_91716") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_91730, bytes_91658, "mem_91730")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91730.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_91719.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_91719, "mem_91719") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_91741, bytes_91658, "mem_91741")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91741.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, ext_mem_91713.mem, (int64_t) 0, (int64_t []) {ext_91712, ext_91711}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &ext_mem_91713, "ext_mem_91713") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_91759, bytes_91758, "mem_91759")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96368 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72486));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72491(ctx, num_tblocks_72487, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71576, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, arg_59797, num_tblocks_72487, virt_num_tblocks_96368, mem_91730.mem, mem_91741.mem, mem_91759.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_91730, "mem_91730") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_91741, "mem_91741") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_91791, &mem_91759, "mem_91759") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_91797, &ext_mem_91791, "ext_mem_91791") != 0)
                    return 1;
            }
            if (memblock_alloc_device(ctx, &mem_91800, bytes_91607, "mem_91800")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96383 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72507));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72511(ctx, segmap_usable_groups_72508, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71449, 1, 1, (int64_t) 0, dz2083U_51491, ext_91796, mem_91633.mem, ext_mem_91797.mem, mem_91800.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_91803, bytes_91647, "mem_91803")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96392 = dim_51486 * dz2083U_51491;
            int64_t tblock_sizze_96397;
            
            tblock_sizze_96397 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96397;
            
            int64_t virt_num_tblocks_96398 = sdiv_up64(replicate_n_96392, tblock_sizze_96397);
            int64_t num_tblocks_96399 = smin64(virt_num_tblocks_96398, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96393(ctx, num_tblocks_96399, 1, 1, tblock_sizze_96397, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, replicate_n_96392, virt_num_tblocks_96398, num_tblocks_96399, mem_91800.mem, mem_91803.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_91800, "mem_91800") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91814, bytes_91658, "mem_91814")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91814.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_91803.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91803, "mem_91803") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91825, bytes_91658, "mem_91825")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91825.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, ext_mem_91797.mem, (int64_t) 0, (int64_t []) {ext_91796, ext_91795}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_91797, "ext_mem_91797") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91843, bytes_91842, "mem_91843")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96412 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72519));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72524(ctx, num_tblocks_72520, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71420, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, arg_59797, num_tblocks_72520, virt_num_tblocks_96412, grid_partitions_per_dim_mem_91597.mem, mem_91814.mem, mem_91825.mem, mem_91843.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91814, "mem_91814") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91825, "mem_91825") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91888, &mem_91843, "mem_91843") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_91894, &ext_mem_91888, "ext_mem_91888") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_91633, "mem_91633") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91898, bytes_91637, "mem_91898")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96427 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_72548));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72553(ctx, segmap_usable_groups_72549, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71243, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, ext_91892, ext_91893, grid_part_prefix_sum_mem_91595.mem, ext_mem_91894.mem, mem_91898.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91894, "ext_mem_91894") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91909, bytes_91658, "mem_91909")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91909.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_91898.mem, (int64_t) 0, (int64_t []) {dim_51486, (int64_t) 1}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_91898, "mem_91898") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91911, (int64_t) 0, "mem_91911")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91913, bytes_91607, "mem_91913")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96438 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72559));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72564(ctx, segmap_usable_groups_72560, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71214, 1, 1, (int64_t) 0, dim_51486, dz2080U_51487, dz2083U_51491, mem_91909.mem, mem_91911.mem, mem_91913.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91909, "mem_91909") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_91924, bytes_91658, "mem_91924")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91924.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, xys_mem_91601.mem, (int64_t) 0, (int64_t []) {dim_51486, (int64_t) 1}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
        goto cleanup;
    
    int64_t ext_91996;
    
    if (cond_59838) {
        ext_91996 = dim_51486;
    } else {
        ext_91996 = (int64_t) 1;
    }
    
    int64_t ext_91995;
    
    if (cond_59838) {
        ext_91995 = (int64_t) 1;
    } else {
        ext_91995 = dz2083U_51491;
    }
    
    int64_t binop_y_91988 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_91989 = (int64_t) 1 + binop_y_91988;
    int64_t bytes_91990 = (int64_t) 8 * binop_y_91989;
    int64_t binop_y_92012 = arg_59797 - (int64_t) 1;
    int64_t binop_x_92013 = smax64((int64_t) 0, binop_y_92012);
    int64_t binop_y_92014 = dz2083U_51491 * binop_x_92013;
    int64_t binop_y_92015 = smax64((int64_t) 0, binop_y_92014);
    int64_t binop_y_92016 = binop_x_91651 + binop_y_92015;
    int64_t binop_y_92017 = (int64_t) 1 + binop_y_92016;
    int64_t bytes_92018 = (int64_t) 8 * binop_y_92017;
    
    if (memblock_alloc_device(ctx, &mem_92000, bytes_91629, "mem_92000")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_92019, bytes_92018, "mem_92019")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_92050, bytes_91629, "mem_92050")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_92061, bytes_92018, "mem_92061")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_95885 = segmap_tblock_sizze_72711 * segmap_usable_groups_72712;
    int64_t total_sizze_95886 = dim_51486 * num_threads_95885;
    
    if (memblock_alloc_device(ctx, &color_95759, total_sizze_95886, "color_95759")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_95887 = dim_51486 * num_threads_95885;
    
    if (memblock_alloc_device(ctx, &color_95760, total_sizze_95887, "color_95760")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_set_device(ctx, &mem_param_91927, &mem_91608, "mem_91608") != 0)
        return 1;
    for (int64_t i_59872 = 0; i_59872 < defunc_0_reduce_res_68395; i_59872++) {
        if (cond_59840) {
            if (memblock_alloc_device(ctx, &mem_91937, bytes_91612, "mem_91937")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91940, &mem_91937, "mem_91937") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_91929, bytes_91612, "mem_91929")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_91929, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, defunc_0_f_res_59862) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_59879 = 0; i_59879 < distance_59848; i_59879++) {
                int64_t index_primexp_59881 = add64((int64_t) 1, i_59879);
                bool x_59882 = sle64((int64_t) 0, index_primexp_59881);
                bool y_59883 = slt64(index_primexp_59881, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488);
                bool bounds_check_59884 = x_59882 && y_59883;
                bool index_certs_59885;
                
                if (!bounds_check_59884) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_59881, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:386:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_59886;
                
                if (futrts_lifted_lambda_10151(ctx, &defunc_0_f_res_59886, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, dim_51486, index_primexp_59881) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_99214 = defunc_0_f_res_59886;
                
                if ((err = gpu_scalar_to_device(ctx, mem_91929.mem, index_primexp_59881 * sizeof(double), sizeof(double), &write_tmp_99214)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91940, &mem_91929, "mem_91929") != 0)
                return 1;
        }
        if (cond_59838) {
            if (memblock_alloc_device(ctx, &mem_91994, bytes_91637, "mem_91994")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91997, &mem_91994, "mem_91994") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_91948, bytes_91637, "mem_91948")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96471 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_72579));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72584(ctx, segmap_usable_groups_72580, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71144, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, start_of_grid_partition_mem_91598.mem, mem_91911.mem, mem_91913.mem, mem_91948.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96482 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_72594));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72599(ctx, segmap_usable_groups_72595, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71118, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, xys_mem_91601.mem, mem_91948.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_91951, bytes_91647, "mem_91951")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96493 = dim_51486 * dz2083U_51491;
            int64_t tblock_sizze_96498;
            
            tblock_sizze_96498 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96498;
            
            int64_t virt_num_tblocks_96499 = sdiv_up64(replicate_n_96493, tblock_sizze_96498);
            int64_t num_tblocks_96500 = smin64(virt_num_tblocks_96499, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96494(ctx, num_tblocks_96500, 1, 1, tblock_sizze_96498, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, replicate_n_96493, virt_num_tblocks_96499, num_tblocks_96500, mem_91948.mem, mem_91951.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91962, bytes_91658, "mem_91962")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91962.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_91951.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91951, "mem_91951") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91973, bytes_91658, "mem_91973")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91973.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_91948.mem, (int64_t) 0, (int64_t []) {dim_51486, (int64_t) 1}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91948, "mem_91948") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91991, bytes_91990, "mem_91991")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96513 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72616));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72621(ctx, num_tblocks_72617, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_71072, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, arg_59797, num_tblocks_72617, virt_num_tblocks_96513, mem_91962.mem, mem_91973.mem, mem_91991.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91962, "mem_91962") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91973, "mem_91973") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91997, &mem_91991, "mem_91991") != 0)
                return 1;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_92000, dz2083U_51491 * arg_59797, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t ext_92044;
        int64_t ext_92043;
        int64_t ctx_param_ext_92002;
        int64_t ctx_param_ext_92003;
        
        if (memblock_set_device(ctx, &mem_param_92004, &mem_92000, "mem_92000") != 0)
            return 1;
        ctx_param_ext_92002 = arg_59797;
        ctx_param_ext_92003 = (int64_t) 1;
        for (int64_t i_72638 = 0; i_72638 < arg_59797; i_72638++) {
            bool y_72640 = slt64(i_72638, dim_51486);
            bool index_certs_72641;
            
            if (!y_72640) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_72638, "] out of bounds for array of shape [", (long long) dim_51486, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:386:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_72642 = add64((int64_t) 1, i_72638);
            int64_t j_m_i_72643 = sub64(dim_51486, map_arg1_72642);
            bool empty_slice_72644 = j_m_i_72643 == (int64_t) 0;
            int64_t m_72645 = sub64(j_m_i_72643, (int64_t) 1);
            int64_t i_p_m_t_s_72646 = add64(map_arg1_72642, m_72645);
            bool zzero_leq_i_p_m_t_s_72647 = sle64((int64_t) 0, i_p_m_t_s_72646);
            bool i_p_m_t_s_leq_w_72648 = slt64(i_p_m_t_s_72646, dim_51486);
            bool zzero_lte_i_72649 = sle64((int64_t) 0, map_arg1_72642);
            bool i_lte_j_72650 = sle64(map_arg1_72642, dim_51486);
            bool y_72651 = i_p_m_t_s_leq_w_72648 && zzero_lte_i_72649;
            bool y_72652 = zzero_leq_i_p_m_t_s_72647 && y_72651;
            bool forwards_ok_72653 = i_lte_j_72650 && y_72652;
            bool ok_or_empty_72654 = empty_slice_72644 || forwards_ok_72653;
            bool index_certs_72655;
            
            if (!ok_or_empty_72654) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_72642, ":", (long long) dim_51486, "] out of bounds for array of shape [", (long long) dim_51486, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:386:103-104\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:756:10-13\n   #4  ftSkyline.fut:754:1-758:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_92007 = j_m_i_72643 * bytes_91607;
            int64_t binop_x_92024 = smax64((int64_t) 0, m_72645);
            int64_t binop_y_92025 = dz2083U_51491 * binop_x_92024;
            int64_t binop_y_92026 = smax64((int64_t) 0, binop_y_92025);
            int64_t binop_y_92027 = binop_x_91651 + binop_y_92026;
            int64_t binop_y_92028 = (int64_t) 1 + binop_y_92027;
            int64_t bytes_92029 = (int64_t) 8 * binop_y_92028;
            int64_t binop_y_92039 = binop_x_91651 + binop_y_92015;
            int64_t binop_y_92040 = (int64_t) 1 + binop_y_92039;
            int64_t bytes_92041 = (int64_t) 8 * binop_y_92040;
            int64_t nest_sizze_72663 = dz2083U_51491 * j_m_i_72643;
            int64_t segmap_usable_groups_72665 = sdiv_up64(nest_sizze_72663, segmap_tblock_sizze_72664);
            
            if (memblock_alloc_device(ctx, &mem_92008, bytes_92007, "mem_92008")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96531 = sext_i64_i32(sdiv_up64(dz2083U_51491 * j_m_i_72643, segmap_tblock_sizze_72664));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72669(ctx, segmap_usable_groups_72665, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70989, 1, 1, (int64_t) 0, dz2083U_51491, map_arg1_72642, j_m_i_72643, ext_91995, ext_91996, ext_mem_91997.mem, mem_92008.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92019.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_param_92004.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_92002, ctx_param_ext_92003}, (int64_t []) {dz2083U_51491, arg_59797})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_92030, bytes_92029, "mem_92030")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92030.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92008.mem, (int64_t) 0, (int64_t []) {j_m_i_72643, (int64_t) 1}, (int64_t []) {dz2083U_51491, j_m_i_72643})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_92008, "mem_92008") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92042, bytes_92041, "mem_92042")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96542 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72674));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72679(ctx, num_tblocks_72675, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70958, 1, 1, (int64_t) 0, dz2083U_51491, arg_59797, i_72638, j_m_i_72643, num_tblocks_72675, ext_91995, ext_91996, virt_num_tblocks_96542, ext_mem_91997.mem, mem_92019.mem, mem_92030.mem, mem_92042.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92030, "mem_92030") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_96527, &mem_92042, "mem_92042") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_96528 = (int64_t) 1;
            int64_t ctx_param_ext_tmp_96529 = dz2083U_51491;
            
            if (memblock_set_device(ctx, &mem_param_92004, &mem_param_tmp_96527, "mem_param_tmp_96527") != 0)
                return 1;
            ctx_param_ext_92002 = ctx_param_ext_tmp_96528;
            ctx_param_ext_92003 = ctx_param_ext_tmp_96529;
        }
        if (memblock_set_device(ctx, &ext_mem_92046, &mem_param_92004, "mem_param_92004") != 0)
            return 1;
        ext_92044 = ctx_param_ext_92002;
        ext_92043 = ctx_param_ext_92003;
        if (memblock_unref_device(ctx, &ext_mem_91997, "ext_mem_91997") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96556 = sext_i64_i32(sdiv_up64(dz2083U_51491 * arg_59797, segmap_tblock_sizze_72698));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72703(ctx, segmap_usable_groups_72699, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70922, 1, 1, (int64_t) 0, dz2083U_51491, arg_59797, ext_92043, ext_92044, angle_part_prefix_sum_mem_91593.mem, angle_partitions_per_dim_mem_91594.mem, ext_mem_91940.mem, ext_mem_92046.mem, mem_92050.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_91940, "ext_mem_91940") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92046, "ext_mem_92046") != 0)
            return 1;
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92061.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92050.mem, (int64_t) 0, (int64_t []) {arg_59797, (int64_t) 1}, (int64_t []) {dz2083U_51491, arg_59797})) != 0)
            goto cleanup;
        if (memblock_alloc_device(ctx, &mem_92086, bytes_91607, "mem_92086")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96567 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72711));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72715(ctx, segmap_usable_groups_72712, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_70807, 1, 1, (int64_t) 0, dim_51486, dz2082U_51490, dz2083U_51491, total_angle_no_51498, arg_59797, cond_59838, protect_assert_disj_59855, protect_assert_disj_59867, i_59872, x_67234, num_threads_95885, part_idx_mem_91600.mem, xys_mem_91601.mem, mem_91606.mem, mem_91913.mem, mem_91924.mem, mem_param_91927.mem, mem_92061.mem, mem_92086.mem, color_95759.mem, color_95760.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_set_device(ctx, &mem_param_tmp_96448, &mem_92086, "mem_92086") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_91927, &mem_param_tmp_96448, "mem_param_tmp_96448") != 0)
            return 1;
    }
    if (memblock_set_device(ctx, &ext_mem_92089, &mem_param_91927, "mem_param_91927") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91606, "mem_91606") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91608, "mem_91608") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91911, "mem_91911") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91913, "mem_91913") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91924, "mem_91924") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92000, "mem_92000") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92019, "mem_92019") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92050, "mem_92050") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92061, "mem_92061") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95759, "color_95759") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95760, "color_95760") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92092, bytes_91607, "mem_92092")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_92094, bytes_91607, "mem_92094")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dz2083U_51491)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_96583;
        
        shared_memory_96583 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_96584;
        
        thread_block_sizze_96584 = ctx->max_thread_block_size;
        
        int64_t registers_96585;
        
        registers_96585 = ctx->max_registers;
        
        int64_t thread_block_sizze_96586;
        
        thread_block_sizze_96586 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_96587 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_96583, thread_block_sizze_96584), (int64_t) 8), squot64(squot64(registers_96585, thread_block_sizze_96586) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_96588 = sdiv_up64(dz2083U_51491, segscan_tblock_sizze_72814 * chunk_sizze_96587);
        int64_t num_virt_threads_96589 = num_virt_blocks_96588 * segscan_tblock_sizze_72814;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_96587, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_96590, num_virt_blocks_96588, "status_flags_mem_96590")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_96590, num_virt_blocks_96588, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_96612, (int64_t) 8 * num_virt_blocks_96588, "aggregates_mem_96612")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_96614, (int64_t) 8 * num_virt_blocks_96588, "incprefixes_mem_96614")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_72819(ctx, num_tblocks_72816, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_72813, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_72814), chunk_sizze_96587 * segscan_tblock_sizze_72814 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_72814), chunk_sizze_96587 * segscan_tblock_sizze_72814 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dz2083U_51491, num_tblocks_72816, num_virt_blocks_96588, num_virt_threads_96589, ext_mem_92089.mem, mem_92092.mem, mem_92094.mem, status_flags_mem_96590.mem, aggregates_mem_96612.mem, incprefixes_mem_96614.mem, global_dynid_mem_96616.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t m_f_res_60145;
    
    if (x_60138) {
        int64_t read_res_99215;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99215, mem_92092.mem, tmp_60139 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_68360 = read_res_99215;
        
        m_f_res_60145 = x_68360;
    } else {
        m_f_res_60145 = (int64_t) 0;
    }
    
    int64_t m_60147;
    
    if (cond_60137) {
        m_60147 = (int64_t) 0;
    } else {
        m_60147 = m_f_res_60145;
    }
    
    int64_t m_60157 = sub64(m_60147, (int64_t) 1);
    bool i_p_m_t_s_leq_w_60159 = slt64(m_60157, dz2083U_51491);
    bool zzero_leq_i_p_m_t_s_60158 = sle64((int64_t) 0, m_60157);
    bool y_60161 = zzero_leq_i_p_m_t_s_60158 && i_p_m_t_s_leq_w_60159;
    bool i_lte_j_60160 = sle64((int64_t) 0, m_60147);
    bool forwards_ok_60162 = i_lte_j_60160 && y_60161;
    bool eq_x_zz_60154 = (int64_t) 0 == m_f_res_60145;
    bool p_and_eq_x_y_60155 = x_60138 && eq_x_zz_60154;
    bool empty_slice_60156 = cond_60137 || p_and_eq_x_y_60155;
    bool ok_or_empty_60163 = empty_slice_60156 || forwards_ok_60162;
    bool index_certs_60164;
    
    if (!ok_or_empty_60163) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) m_60147, "] out of bounds for array of shape [", (long long) dz2083U_51491, "].", "-> #0  /prelude/soacs.fut:258:29-35\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:756:10-13\n   #3  ftSkyline.fut:754:1-758:52\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_92095 = (int64_t) 8 * m_60147;
    int64_t bytes_92102 = dim_51486 * bytes_92095;
    int64_t segmap_tblock_sizze_72824;
    
    segmap_tblock_sizze_72824 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72823;
    
    int64_t num_tblocks_72826;
    int64_t max_num_tblocks_96705;
    
    max_num_tblocks_96705 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_72825;
    num_tblocks_72826 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72824), max_num_tblocks_96705)));
    
    int64_t segmap_tblock_sizze_72869;
    
    segmap_tblock_sizze_72869 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72858;
    
    int64_t segmap_tblock_sizze_72881;
    
    segmap_tblock_sizze_72881 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72846;
    
    int64_t segmap_tblock_sizze_72891;
    
    segmap_tblock_sizze_72891 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72832;
    if (cond_59840) {
        if (memblock_alloc_device(ctx, &mem_91621, bytes_91612, "mem_91621")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91624, &mem_91621, "mem_91621") != 0)
            return 1;
    } else {
        bool index_certs_60184;
        
        if (!y_59846) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        double defunc_0_f_res_60185;
        
        if (futrts_lifted_lambda_10151(ctx, &defunc_0_f_res_60185, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, dim_51486, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_91613, bytes_91612, "mem_91613")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_91613, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, defunc_0_f_res_60185) != 0) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_60189 = 0; i_60189 < distance_59848; i_60189++) {
            int64_t index_primexp_60191 = add64((int64_t) 1, i_60189);
            bool x_60192 = sle64((int64_t) 0, index_primexp_60191);
            bool y_60193 = slt64(index_primexp_60191, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488);
            bool bounds_check_60194 = x_60192 && y_60193;
            bool index_certs_60195;
            
            if (!bounds_check_60194) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_60191, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:411:103-104\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:756:10-13\n   #6  ftSkyline.fut:754:1-758:52\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double defunc_0_f_res_60196;
            
            if (futrts_lifted_lambda_10151(ctx, &defunc_0_f_res_60196, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, dim_51486, index_primexp_60191) != 0) {
                err = 1;
                goto cleanup;
            }
            
            double write_tmp_99216 = defunc_0_f_res_60196;
            
            if ((err = gpu_scalar_to_device(ctx, mem_91613.mem, index_primexp_60191 * sizeof(double), sizeof(double), &write_tmp_99216)) != 0)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91624, &mem_91613, "mem_91613") != 0)
            return 1;
    }
    
    int64_t segmap_tblock_sizze_74391;
    
    segmap_tblock_sizze_74391 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73299;
    
    int64_t segmap_usable_groups_74392 = sdiv_up64(nest_sizze_72413, segmap_tblock_sizze_74391);
    int64_t segmap_tblock_sizze_74402;
    
    segmap_tblock_sizze_74402 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73270;
    
    int64_t segmap_usable_groups_74403 = sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74402);
    
    if (memblock_alloc_device(ctx, &mem_91630, bytes_91629, "mem_91630")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_f64(ctx, mem_91630, dz2083U_51491 * arg_59797, 0.0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t segmap_tblock_sizze_74507;
    
    segmap_tblock_sizze_74507 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73045;
    
    int64_t segmap_tblock_sizze_74517;
    
    segmap_tblock_sizze_74517 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73014;
    
    int64_t num_tblocks_74518;
    int64_t max_num_tblocks_96707;
    
    max_num_tblocks_96707 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73016;
    num_tblocks_74518 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74517), max_num_tblocks_96707)));
    
    int64_t segmap_tblock_sizze_74541;
    
    segmap_tblock_sizze_74541 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72978;
    
    int64_t segmap_usable_groups_74542 = sdiv_up64(nest_sizze_72697, segmap_tblock_sizze_74541);
    int64_t segmap_tblock_sizze_74554;
    
    segmap_tblock_sizze_74554 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72950;
    
    int64_t segmap_usable_groups_74555 = sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74554);
    
    if (memblock_alloc_device(ctx, &mem_91632, bytes_91631, "mem_91632")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i64(ctx, mem_91632, total_part_no_51500, (int64_t) 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_74570;
    
    seghist_tblock_sizze_74570 = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569;
    
    int64_t segscan_tblock_sizze_74590;
    
    segscan_tblock_sizze_74590 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_74589;
    
    int64_t num_tblocks_74592;
    int64_t max_num_tblocks_96708;
    
    max_num_tblocks_96708 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_num_tblocks_74591;
    num_tblocks_74592 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_part_no_51500, segscan_tblock_sizze_74590), max_num_tblocks_96708)));
    
    int64_t segmap_tblock_sizze_74611;
    
    segmap_tblock_sizze_74611 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74599;
    
    int64_t segmap_usable_groups_74612 = sdiv_up64(total_part_no_51500, segmap_tblock_sizze_74611);
    
    if (memblock_alloc_device(ctx, &mem_92096, bytes_92095, "mem_92096")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_92096.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_92089.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {m_60147})) != 0)
        goto cleanup;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96709 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_72824));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72821(ctx, num_tblocks_72826, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72823, 1, 1, (int64_t) 0, dz2083U_51491, m_60147, num_tblocks_72826, virt_num_tblocks_96709, ext_mem_92089.mem, mem_92092.mem, mem_92094.mem, mem_92096.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_92089, "ext_mem_92089") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92092, "mem_92092") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92094, "mem_92094") != 0)
        return 1;
    
    int64_t segmap_usable_groups_72870 = sdiv_up64(m_60147, segmap_tblock_sizze_72869);
    
    if (memblock_alloc_device(ctx, &mem_92099, (int64_t) 0, "mem_92099")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96722 = sext_i64_i32(sdiv_up64(m_60147, segmap_tblock_sizze_72869));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72873(ctx, segmap_usable_groups_72870, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72858, 1, 1, (int64_t) 0, dz2083U_51491, m_60147, mem_92096.mem, mem_92099.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t nest_sizze_72880 = dim_51486 * m_60147;
    int64_t segmap_usable_groups_72882 = sdiv_up64(nest_sizze_72880, segmap_tblock_sizze_72881);
    
    if (memblock_alloc_device(ctx, &mem_92103, bytes_92102, "mem_92103")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96731 = sext_i64_i32(sdiv_up64(m_60147 * dim_51486, segmap_tblock_sizze_72881));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72886(ctx, segmap_usable_groups_72882, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72846, 1, 1, (int64_t) 0, dim_51486, m_60147, xys_mem_91601.mem, mem_92096.mem, mem_92099.mem, mem_92103.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_usable_groups_72892 = sdiv_up64(m_60147, segmap_tblock_sizze_72891);
    
    if (memblock_alloc_device(ctx, &mem_92106, bytes_92095, "mem_92106")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96742 = sext_i64_i32(sdiv_up64(m_60147, segmap_tblock_sizze_72891));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_72895(ctx, segmap_usable_groups_72892, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72832, 1, 1, (int64_t) 0, m_60147, xys_mem_91602.mem, mem_92096.mem, mem_92099.mem, mem_92106.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_92099, "mem_92099") != 0)
        return 1;
    
    bool suff_intra_par_74123;
    
    suff_intra_par_74123 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_3 <= dim_51486;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_3", (long) dim_51486, suff_intra_par_74123 ? "true" : "false");
    
    bool intra_suff_and_fits_74124 = fits_72239 && suff_intra_par_74123;
    int64_t segmap_tblock_sizze_74350;
    
    segmap_tblock_sizze_74350 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73505;
    
    int64_t segmap_tblock_sizze_74362;
    
    segmap_tblock_sizze_74362 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73476;
    
    int64_t num_tblocks_74363;
    int64_t max_num_tblocks_96751;
    
    max_num_tblocks_96751 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73478;
    num_tblocks_74363 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74362), max_num_tblocks_96751)));
    
    int64_t ext_92340;
    int64_t shared_memory_capacity_96752;
    
    shared_memory_capacity_96752 = ctx->max_shared_memory;
    if (intra_suff_and_fits_74124) {
        ext_92340 = dim_51486;
    } else {
        ext_92340 = (int64_t) 1;
    }
    
    int64_t ext_92339;
    int64_t shared_memory_capacity_96753;
    
    shared_memory_capacity_96753 = ctx->max_shared_memory;
    if (intra_suff_and_fits_74124) {
        ext_92339 = (int64_t) 1;
    } else {
        ext_92339 = dz2083U_51491;
    }
    
    bool suff_intra_par_74199;
    
    suff_intra_par_74199 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisuff_intra_par_4 <= dim_51486;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "calc_local_Skyline_GFUR_double.suff_intra_par_4", (long) dim_51486, suff_intra_par_74199 ? "true" : "false");
    
    bool intra_suff_and_fits_74200 = fits_72239 && suff_intra_par_74199;
    int64_t segmap_tblock_sizze_74255;
    
    segmap_tblock_sizze_74255 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73803;
    
    int64_t segmap_tblock_sizze_74271;
    
    segmap_tblock_sizze_74271 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73770;
    
    int64_t segmap_tblock_sizze_74317;
    
    segmap_tblock_sizze_74317 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73658;
    
    int64_t segmap_tblock_sizze_74329;
    
    segmap_tblock_sizze_74329 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73632;
    
    int64_t num_tblocks_74330;
    int64_t max_num_tblocks_96754;
    
    max_num_tblocks_96754 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73634;
    num_tblocks_74330 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74329), max_num_tblocks_96754)));
    
    int64_t ext_92243;
    int64_t shared_memory_capacity_96755;
    
    shared_memory_capacity_96755 = ctx->max_shared_memory;
    if (intra_suff_and_fits_74200) {
        ext_92243 = dim_51486;
    } else {
        ext_92243 = (int64_t) 1;
    }
    
    int64_t ext_92242;
    int64_t shared_memory_capacity_96756;
    
    shared_memory_capacity_96756 = ctx->max_shared_memory;
    if (intra_suff_and_fits_74200) {
        ext_92242 = (int64_t) 1;
    } else {
        ext_92242 = dz2083U_51491;
    }
    
    int64_t binop_y_92157 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_92158 = (int64_t) 1 + binop_y_92157;
    int64_t bytes_92159 = (int64_t) 8 * binop_y_92158;
    int64_t binop_y_92209 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_92210 = (int64_t) 1 + binop_y_92209;
    int64_t bytes_92211 = (int64_t) 8 * binop_y_92210;
    int64_t binop_y_92293 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_92294 = (int64_t) 1 + binop_y_92293;
    int64_t bytes_92295 = (int64_t) 8 * binop_y_92294;
    int64_t ext_92346;
    
    if (cond_59838) {
        ext_92346 = dim_51486;
    } else {
        ext_92346 = ext_92340;
    }
    
    int64_t ext_92345;
    
    if (cond_59838) {
        ext_92345 = (int64_t) 1;
    } else {
        ext_92345 = ext_92339;
    }
    
    int64_t ext_92249;
    
    if (cond_59838) {
        ext_92249 = dim_51486;
    } else {
        ext_92249 = ext_92243;
    }
    
    int64_t ext_92248;
    
    if (cond_59838) {
        ext_92248 = (int64_t) 1;
    } else {
        ext_92248 = ext_92242;
    }
    
    int64_t maxSubHelper_95761 = umax64((int64_t) 0, binop_x_91646);
    
    if (cond_59838) {
        if (memblock_alloc_device(ctx, &mem_92344, bytes_91637, "mem_92344")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_92347, &mem_92344, "mem_92344") != 0)
            return 1;
    } else {
        int64_t shared_memory_capacity_96949;
        
        shared_memory_capacity_96949 = ctx->max_shared_memory;
        if (intra_suff_and_fits_74124 && sle64(sdiv_up64(maxSubHelper_95761, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96949)) {
            if (memblock_alloc_device(ctx, &mem_92338, bytes_91637, "mem_92338")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_96757 = sext_i64_i32(sdiv_up64(dim_51486, dim_51486));
            int32_t virt_num_tblocks_96758 = sext_i64_i32(dz2083U_51491);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_74128(ctx, dz2083U_51491, 1, 1, dim_51486, 1, 1, binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95761 + srem64((int64_t) 8 - srem64(maxSubHelper_95761, (int64_t) 8), (int64_t) 8)), dim_51486, dz2083U_51491, arg_59797, cond_59838, binop_x_91646, maxSubHelper_95761, grid_part_sizze_per_dim_mem_91596.mem, grid_partitions_per_dim_mem_91597.mem, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_91634.mem, mem_92338.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_92341, &mem_92338, "mem_92338") != 0)
                return 1;
        } else {
            if (cond_59838) {
                if (memblock_alloc_device(ctx, &mem_92247, bytes_91637, "mem_92247")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_92250, &mem_92247, "mem_92247") != 0)
                    return 1;
            } else {
                int64_t shared_memory_capacity_96905;
                
                shared_memory_capacity_96905 = ctx->max_shared_memory;
                if (intra_suff_and_fits_74200 && sle64(sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91646, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96905)) {
                    if (memblock_alloc_device(ctx, &mem_92241, bytes_91637, "mem_92241")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_96778 = sext_i64_i32(sdiv_up64(dim_51486, dim_51486));
                    int32_t virt_num_tblocks_96779 = sext_i64_i32(dz2083U_51491);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_intrablock_74204(ctx, dz2083U_51491, 1, 1, dim_51486, 1, 1, binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)) + (binop_x_91646 + srem64((int64_t) 8 - srem64(binop_x_91646, (int64_t) 8), (int64_t) 8)), dim_51486, dz2083U_51491, arg_59797, cond_59838, binop_x_91646, grid_part_sizze_per_dim_mem_91596.mem, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_92241.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_92244, &mem_92241, "mem_92241") != 0)
                        return 1;
                } else {
                    int64_t segmap_usable_groups_74256 = sdiv_up64(nest_sizze_72413, segmap_tblock_sizze_74255);
                    
                    if (memblock_alloc_device(ctx, &mem_92114, bytes_91637, "mem_92114")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96796 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_74255));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74260(ctx, segmap_usable_groups_74256, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73803, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, start_of_grid_partition_mem_91598.mem, xys_mem_91601.mem, mem_92114.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int64_t segmap_usable_groups_74272 = sdiv_up64(nest_sizze_72413, segmap_tblock_sizze_74271);
                    
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96807 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_74271));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74276(ctx, segmap_usable_groups_74272, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73770, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, grid_part_sizze_per_dim_mem_91596.mem, mem_92114.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (cond_59838) {
                        if (memblock_alloc_device(ctx, &mem_92163, bytes_91637, "mem_92163")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_92166, &mem_92163, "mem_92163") != 0)
                            return 1;
                    } else {
                        int64_t segmap_tblock_sizze_74284;
                        
                        segmap_tblock_sizze_74284 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73716;
                        
                        int64_t segmap_usable_groups_74285 = sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74284);
                        
                        if (memblock_alloc_device(ctx, &mem_92117, bytes_91607, "mem_92117")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96818 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74284));
                        
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74288(ctx, segmap_usable_groups_74285, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73716, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, mem_92114.mem, mem_92117.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_92120, bytes_91647, "mem_92120")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96827 = dim_51486 * dz2083U_51491;
                        int64_t tblock_sizze_96832;
                        
                        tblock_sizze_96832 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96832;
                        
                        int64_t virt_num_tblocks_96833 = sdiv_up64(replicate_n_96827, tblock_sizze_96832);
                        int64_t num_tblocks_96834 = smin64(virt_num_tblocks_96833, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96828(ctx, num_tblocks_96834, 1, 1, tblock_sizze_96832, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, replicate_n_96827, virt_num_tblocks_96833, num_tblocks_96834, mem_92117.mem, mem_92120.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_92117, "mem_92117") != 0)
                            return 1;
                        
                        int64_t segmap_tblock_sizze_74296;
                        
                        segmap_tblock_sizze_74296 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73690;
                        
                        int64_t num_tblocks_74297;
                        int64_t max_num_tblocks_96847;
                        
                        max_num_tblocks_96847 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73692;
                        num_tblocks_74297 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74296), max_num_tblocks_96847)));
                        if (memblock_alloc_device(ctx, &mem_92131, bytes_91658, "mem_92131")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92131.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92120.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_92120, "mem_92120") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92142, bytes_91658, "mem_92142")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92142.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92114.mem, (int64_t) 0, (int64_t []) {dim_51486, (int64_t) 1}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_92160, bytes_92159, "mem_92160")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96848 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74296));
                        
                        {
                            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74301(ctx, num_tblocks_74297, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73690, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, arg_59797, num_tblocks_74297, virt_num_tblocks_96848, mem_92131.mem, mem_92142.mem, mem_92160.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_92131, "mem_92131") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92142, "mem_92142") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92166, &mem_92160, "mem_92160") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_92114, "mem_92114") != 0)
                        return 1;
                    
                    int64_t segmap_usable_groups_74318 = sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74317);
                    
                    if (memblock_alloc_device(ctx, &mem_92169, bytes_91607, "mem_92169")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96862 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74317));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74321(ctx, segmap_usable_groups_74318, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73658, 1, 1, (int64_t) 0, dz2083U_51491, ext_91996, ext_mem_92166.mem, mem_92169.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_alloc_device(ctx, &mem_92172, bytes_91647, "mem_92172")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_96871 = dim_51486 * dz2083U_51491;
                    int64_t tblock_sizze_96876;
                    
                    tblock_sizze_96876 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96876;
                    
                    int64_t virt_num_tblocks_96877 = sdiv_up64(replicate_n_96871, tblock_sizze_96876);
                    int64_t num_tblocks_96878 = smin64(virt_num_tblocks_96877, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96872(ctx, num_tblocks_96878, 1, 1, tblock_sizze_96876, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, replicate_n_96871, virt_num_tblocks_96877, num_tblocks_96878, mem_92169.mem, mem_92172.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_92169, "mem_92169") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_92183, bytes_91658, "mem_92183")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92183.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92172.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_92172, "mem_92172") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_92194, bytes_91658, "mem_92194")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92194.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, ext_mem_92166.mem, (int64_t) 0, (int64_t []) {ext_91996, ext_91995}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &ext_mem_92166, "ext_mem_92166") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_92212, bytes_92211, "mem_92212")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96891 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74329));
                    
                    {
                        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74334(ctx, num_tblocks_74330, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73632, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, arg_59797, num_tblocks_74330, virt_num_tblocks_96891, mem_92183.mem, mem_92194.mem, mem_92212.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_92183, "mem_92183") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_92194, "mem_92194") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_92244, &mem_92212, "mem_92212") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_92250, &ext_mem_92244, "ext_mem_92244") != 0)
                    return 1;
            }
            
            int64_t segmap_usable_groups_74351 = sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74350);
            
            if (memblock_alloc_device(ctx, &mem_92253, bytes_91607, "mem_92253")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96906 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74350));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74354(ctx, segmap_usable_groups_74351, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73505, 1, 1, (int64_t) 0, dz2083U_51491, ext_92249, mem_91634.mem, ext_mem_92250.mem, mem_92253.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_92256, bytes_91647, "mem_92256")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96915 = dim_51486 * dz2083U_51491;
            int64_t tblock_sizze_96920;
            
            tblock_sizze_96920 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96920;
            
            int64_t virt_num_tblocks_96921 = sdiv_up64(replicate_n_96915, tblock_sizze_96920);
            int64_t num_tblocks_96922 = smin64(virt_num_tblocks_96921, (int64_t) 1048576);
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96916(ctx, num_tblocks_96922, 1, 1, tblock_sizze_96920, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, replicate_n_96915, virt_num_tblocks_96921, num_tblocks_96922, mem_92253.mem, mem_92256.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_92253, "mem_92253") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92267, bytes_91658, "mem_92267")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92267.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92256.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_92256, "mem_92256") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92278, bytes_91658, "mem_92278")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92278.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, ext_mem_92250.mem, (int64_t) 0, (int64_t []) {ext_92249, ext_92248}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_92250, "ext_mem_92250") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92296, bytes_92295, "mem_92296")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96935 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74362));
            
            {
                err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74367(ctx, num_tblocks_74363, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73476, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, arg_59797, num_tblocks_74363, virt_num_tblocks_96935, grid_partitions_per_dim_mem_91597.mem, mem_92267.mem, mem_92278.mem, mem_92296.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92267, "mem_92267") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92278, "mem_92278") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_92341, &mem_92296, "mem_92296") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_92347, &ext_mem_92341, "ext_mem_92341") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_91634, "mem_91634") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92351, bytes_91637, "mem_92351")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96950 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_74391));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74396(ctx, segmap_usable_groups_74392, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73299, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, ext_92345, ext_92346, grid_part_prefix_sum_mem_91595.mem, ext_mem_92347.mem, mem_92351.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_92347, "ext_mem_92347") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92362, bytes_91658, "mem_92362")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92362.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92351.mem, (int64_t) 0, (int64_t []) {dim_51486, (int64_t) 1}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_92351, "mem_92351") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92364, (int64_t) 0, "mem_92364")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_92487, bytes_91607, "mem_92487")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96961 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74402));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74407(ctx, segmap_usable_groups_74403, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73270, 1, 1, (int64_t) 0, dim_51486, dz2080U_51487, dz2083U_51491, mem_92362.mem, mem_92364.mem, mem_92487.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_92362, "mem_92362") != 0)
        return 1;
    
    int64_t binop_y_92414 = binop_x_91651 + binop_y_91655;
    int64_t binop_y_92415 = (int64_t) 1 + binop_y_92414;
    int64_t bytes_92416 = (int64_t) 8 * binop_y_92415;
    
    if (cond_59838) {
        if (memblock_alloc_device(ctx, &mem_92420, bytes_91637, "mem_92420")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_92423, &mem_92420, "mem_92420") != 0)
            return 1;
    } else {
        int64_t segmap_tblock_sizze_74422;
        
        segmap_tblock_sizze_74422 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73200;
        
        int64_t segmap_usable_groups_74423 = sdiv_up64(nest_sizze_72413, segmap_tblock_sizze_74422);
        
        if (memblock_alloc_device(ctx, &mem_92374, bytes_91637, "mem_92374")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96971 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_74422));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74427(ctx, segmap_usable_groups_74423, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73200, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, start_of_grid_partition_mem_91598.mem, mem_92364.mem, mem_92374.mem, mem_92487.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        
        int64_t segmap_tblock_sizze_74437;
        
        segmap_tblock_sizze_74437 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73174;
        
        int64_t segmap_usable_groups_74438 = sdiv_up64(nest_sizze_72413, segmap_tblock_sizze_74437);
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96982 = sext_i64_i32(sdiv_up64(dz2083U_51491 * dim_51486, segmap_tblock_sizze_74437));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74442(ctx, segmap_usable_groups_74438, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73174, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, xys_mem_91601.mem, mem_92374.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_alloc_device(ctx, &mem_92377, bytes_91647, "mem_92377")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t replicate_n_96993 = dim_51486 * dz2083U_51491;
        int64_t tblock_sizze_96998;
        
        tblock_sizze_96998 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezitblock_sizze_96998;
        
        int64_t virt_num_tblocks_96999 = sdiv_up64(replicate_n_96993, tblock_sizze_96998);
        int64_t num_tblocks_97000 = smin64(virt_num_tblocks_96999, (int64_t) 1048576);
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezireplicate_96994(ctx, num_tblocks_97000, 1, 1, tblock_sizze_96998, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, replicate_n_96993, virt_num_tblocks_96999, num_tblocks_97000, mem_92374.mem, mem_92377.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        
        int64_t segmap_tblock_sizze_74459;
        
        segmap_tblock_sizze_74459 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73128;
        
        int64_t num_tblocks_74460;
        int64_t max_num_tblocks_97013;
        
        max_num_tblocks_97013 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_num_tblocks_73130;
        num_tblocks_74460 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74459), max_num_tblocks_97013)));
        if (memblock_alloc_device(ctx, &mem_92388, bytes_91658, "mem_92388")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92388.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92377.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_92377, "mem_92377") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92399, bytes_91658, "mem_92399")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92399.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92374.mem, (int64_t) 0, (int64_t []) {dim_51486, (int64_t) 1}, (int64_t []) {dz2083U_51491, dim_51486})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_92374, "mem_92374") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92417, bytes_92416, "mem_92417")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97014 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74459));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74464(ctx, num_tblocks_74460, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73128, 1, 1, (int64_t) 0, dim_51486, dz2083U_51491, arg_59797, num_tblocks_74460, virt_num_tblocks_97014, mem_92388.mem, mem_92399.mem, mem_92417.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_92388, "mem_92388") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92399, "mem_92399") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_92423, &mem_92417, "mem_92417") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_92364, "mem_92364") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92442, bytes_92018, "mem_92442")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t ext_92467;
    int64_t ext_92466;
    int64_t ctx_param_ext_92425;
    int64_t ctx_param_ext_92426;
    
    if (memblock_set_device(ctx, &mem_param_92427, &mem_91630, "mem_91630") != 0)
        return 1;
    ctx_param_ext_92425 = arg_59797;
    ctx_param_ext_92426 = (int64_t) 1;
    for (int64_t i_74481 = 0; i_74481 < arg_59797; i_74481++) {
        bool y_74483 = slt64(i_74481, dim_51486);
        bool index_certs_74484;
        
        if (!y_74483) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_74481, "] out of bounds for array of shape [", (long long) dim_51486, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:411:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t map_arg1_74485 = add64((int64_t) 1, i_74481);
        int64_t j_m_i_74486 = sub64(dim_51486, map_arg1_74485);
        bool empty_slice_74487 = j_m_i_74486 == (int64_t) 0;
        int64_t m_74488 = sub64(j_m_i_74486, (int64_t) 1);
        int64_t i_p_m_t_s_74489 = add64(map_arg1_74485, m_74488);
        bool zzero_leq_i_p_m_t_s_74490 = sle64((int64_t) 0, i_p_m_t_s_74489);
        bool i_p_m_t_s_leq_w_74491 = slt64(i_p_m_t_s_74489, dim_51486);
        bool zzero_lte_i_74492 = sle64((int64_t) 0, map_arg1_74485);
        bool i_lte_j_74493 = sle64(map_arg1_74485, dim_51486);
        bool y_74494 = i_p_m_t_s_leq_w_74491 && zzero_lte_i_74492;
        bool y_74495 = zzero_leq_i_p_m_t_s_74490 && y_74494;
        bool forwards_ok_74496 = i_lte_j_74493 && y_74495;
        bool ok_or_empty_74497 = empty_slice_74487 || forwards_ok_74496;
        bool index_certs_74498;
        
        if (!ok_or_empty_74497) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_74485, ":", (long long) dim_51486, "] out of bounds for array of shape [", (long long) dim_51486, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:411:103-104\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:756:10-13\n   #5  ftSkyline.fut:754:1-758:52\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t bytes_92430 = j_m_i_74486 * bytes_91607;
        int64_t binop_x_92447 = smax64((int64_t) 0, m_74488);
        int64_t binop_y_92448 = dz2083U_51491 * binop_x_92447;
        int64_t binop_y_92449 = smax64((int64_t) 0, binop_y_92448);
        int64_t binop_y_92450 = binop_x_91651 + binop_y_92449;
        int64_t binop_y_92451 = (int64_t) 1 + binop_y_92450;
        int64_t bytes_92452 = (int64_t) 8 * binop_y_92451;
        int64_t binop_y_92462 = binop_x_91651 + binop_y_92015;
        int64_t binop_y_92463 = (int64_t) 1 + binop_y_92462;
        int64_t bytes_92464 = (int64_t) 8 * binop_y_92463;
        int64_t nest_sizze_74506 = dz2083U_51491 * j_m_i_74486;
        int64_t segmap_usable_groups_74508 = sdiv_up64(nest_sizze_74506, segmap_tblock_sizze_74507);
        
        if (memblock_alloc_device(ctx, &mem_92431, bytes_92430, "mem_92431")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97032 = sext_i64_i32(sdiv_up64(dz2083U_51491 * j_m_i_74486, segmap_tblock_sizze_74507));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74512(ctx, segmap_usable_groups_74508, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73045, 1, 1, (int64_t) 0, dz2083U_51491, map_arg1_74485, j_m_i_74486, ext_91995, ext_91996, ext_mem_92423.mem, mem_92431.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92442.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_param_92427.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_92425, ctx_param_ext_92426}, (int64_t []) {dz2083U_51491, arg_59797})) != 0)
            goto cleanup;
        if (memblock_alloc_device(ctx, &mem_92453, bytes_92452, "mem_92453")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92453.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92431.mem, (int64_t) 0, (int64_t []) {j_m_i_74486, (int64_t) 1}, (int64_t []) {dz2083U_51491, j_m_i_74486})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_92431, "mem_92431") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92465, bytes_92464, "mem_92465")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97043 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74517));
        
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74522(ctx, num_tblocks_74518, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_73014, 1, 1, (int64_t) 0, dz2083U_51491, arg_59797, i_74481, j_m_i_74486, num_tblocks_74518, ext_91995, ext_91996, virt_num_tblocks_97043, ext_mem_92423.mem, mem_92442.mem, mem_92453.mem, mem_92465.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_92453, "mem_92453") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_97028, &mem_92465, "mem_92465") != 0)
            return 1;
        
        int64_t ctx_param_ext_tmp_97029 = (int64_t) 1;
        int64_t ctx_param_ext_tmp_97030 = dz2083U_51491;
        
        if (memblock_set_device(ctx, &mem_param_92427, &mem_param_tmp_97028, "mem_param_tmp_97028") != 0)
            return 1;
        ctx_param_ext_92425 = ctx_param_ext_tmp_97029;
        ctx_param_ext_92426 = ctx_param_ext_tmp_97030;
    }
    if (memblock_set_device(ctx, &ext_mem_92469, &mem_param_92427, "mem_param_92427") != 0)
        return 1;
    ext_92467 = ctx_param_ext_92425;
    ext_92466 = ctx_param_ext_92426;
    if (memblock_unref_device(ctx, &mem_91630, "mem_91630") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_92423, "ext_mem_92423") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92442, "mem_92442") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92473, bytes_91629, "mem_92473")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_97057 = sext_i64_i32(sdiv_up64(dz2083U_51491 * arg_59797, segmap_tblock_sizze_74541));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74546(ctx, segmap_usable_groups_74542, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72978, 1, 1, (int64_t) 0, dz2083U_51491, arg_59797, ext_92466, ext_92467, angle_part_prefix_sum_mem_91593.mem, angle_partitions_per_dim_mem_91594.mem, ext_mem_91624.mem, ext_mem_92469.mem, mem_92473.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91624, "ext_mem_91624") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_92469, "ext_mem_92469") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92484, bytes_92018, "mem_92484")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92484.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2083U_51491}, mem_92473.mem, (int64_t) 0, (int64_t []) {arg_59797, (int64_t) 1}, (int64_t []) {dz2083U_51491, arg_59797})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_92473, "mem_92473") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_97068 = sext_i64_i32(sdiv_up64(dz2083U_51491, segmap_tblock_sizze_74554));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74558(ctx, segmap_usable_groups_74555, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_72950, 1, 1, (int64_t) 0, dz2083U_51491, total_angle_no_51498, arg_59797, mem_92484.mem, mem_92487.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_92484, "mem_92484") != 0)
        return 1;
    
    int64_t num_tblocks_74572;
    int64_t max_num_tblocks_97078;
    
    max_num_tblocks_97078 = *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_num_tblocks_74571;
    num_tblocks_74572 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(m_60147, seghist_tblock_sizze_74570), max_num_tblocks_97078)));
    
    int64_t num_subhistos_97079;
    int64_t h_97082 = (int64_t) 8 * total_part_no_51500;
    int64_t seg_h_97083 = (int64_t) 8 * total_part_no_51500;
    
    if (!(seg_h_97083 == (int64_t) 0)) {
        int64_t hist_H_97084 = total_part_no_51500;
        int64_t hist_el_sizze_97085 = sdiv_up64(h_97082, hist_H_97084);
        int64_t hist_N_97086 = m_60147;
        int32_t hist_RF_97087 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_74572 * seghist_tblock_sizze_74570), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_74570, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_97084, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_97086, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_97085, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_97087, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_97082, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_97083, '\n');
        
        int64_t hist_L_97088;
        
        hist_L_97088 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L_97088;
        
        int64_t max_tblock_sizze_97089;
        
        max_tblock_sizze_97089 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_97090 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_74572 * seghist_tblock_sizze_74570)), max_tblock_sizze_97089);
        double hist_m_prime_97091 = sitofp_i64_f64(smin64(squot64(hist_L_97088, hist_el_sizze_97085), sdiv_up64(hist_N_97086, num_tblocks_97090))) / sitofp_i64_f64(hist_H_97084);
        int64_t hist_M0_97092 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_97091), max_tblock_sizze_97089));
        int64_t hist_Nout_97093 = (int64_t) 1;
        int64_t hist_Nin_97094 = m_60147;
        int64_t work_asymp_M_max_97095 = squot64(hist_Nout_97093 * hist_N_97086, (int64_t) 2 * num_tblocks_97090 * hist_H_97084);
        int32_t hist_M_97096 = sext_i64_i32(smin64(hist_M0_97092, work_asymp_M_max_97095));
        int64_t hist_C_97097 = sdiv_up64(max_tblock_sizze_97089, sext_i32_i64(smax32(1, hist_M_97096)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_97092, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_97095, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_97097, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_97089, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_97096, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_97084 * hist_el_sizze_97085 * sext_i32_i64(hist_M_97096)), '\n');
        
        int64_t local_mem_needed_97098 = hist_el_sizze_97085 * sext_i32_i64(hist_M_97096);
        int32_t hist_S_97099 = sext_i64_i32(sdiv_up64(hist_H_97084 * local_mem_needed_97098 + (int64_t) 1, hist_L_97088));
        
        if (sle64(hist_H_97084, hist_Nin_97094) && (sle64(local_mem_needed_97098, hist_L_97088) && (sle32(hist_S_97099, 3) && (sle64(hist_C_97097, max_tblock_sizze_97089) && slt32(0, hist_M_97096))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_97084, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_97096, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_97097, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_97099, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_97096, '\n');
            num_subhistos_97079 = num_tblocks_97090;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_97079, '\n');
            if (num_subhistos_97079 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_97080, &mem_91632, "mem_91632") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_97080, num_subhistos_97079 * total_part_no_51500 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_97080")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_97080, num_subhistos_97079 * total_part_no_51500, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_97080.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_91632.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_51500})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_97100 = 0; chk_i_97100 < hist_S_97099; chk_i_97100++) {
                int64_t num_segments_97101 = (int64_t) 1;
                int64_t hist_H_chk_97102 = sdiv_up64(total_part_no_51500, sext_i32_i64(hist_S_97099));
                int64_t histo_sizze_97103 = hist_H_chk_97102;
                int32_t init_per_thread_97104 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_97096) * histo_sizze_97103, max_tblock_sizze_97089));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_local_74577(ctx, num_tblocks_97090, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 8 * (hist_M_97096 * hist_H_chk_97102) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_97096 * hist_H_chk_97102), (int64_t) 8), (int64_t) 8), dz2083U_51491, total_part_no_51500, m_60147, num_subhistos_97079, num_tblocks_97090, hist_M_97096, chk_i_97100, num_segments_97101, hist_H_chk_97102, histo_sizze_97103, init_per_thread_97104, mem_92096.mem, mem_92487.mem, defunc_0_map_res_subhistos_mem_97080.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_97136 = total_part_no_51500;
            double hist_RF_97137 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_97138 = 8;
            double hist_C_max_97139 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_74572 * seghist_tblock_sizze_74570)), sitofp_i32_f64(hist_H_97136) / 2.0);
            int32_t hist_M_min_97140 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_74572 * seghist_tblock_sizze_74570)) / hist_C_max_97139)));
            int64_t hist_L2_97141;
            
            hist_L2_97141 = *ctx->tuning_params.calc_local_Skyline_GFUR_doublezihist_L2_97141;
            
            double hist_RACE_exp_97142 = fmax64(1.0, 0.75 * hist_RF_97137 / (64.0 / sitofp_i32_f64(hist_el_sizze_97138)));
            int32_t hist_S_97143;
            
            if (slt64(m_60147, hist_H_97136)) {
                hist_S_97143 = 1;
            } else {
                hist_S_97143 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_97140) * hist_H_97136 * sext_i32_i64(hist_el_sizze_97138), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_97141) * hist_RACE_exp_97142)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_97142, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_97143, '\n');
            
            int64_t hist_H_chk_97144 = sdiv_up64(total_part_no_51500, sext_i32_i64(hist_S_97143));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_97144, '\n');
            
            double hist_k_max_97145 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_97141) / sitofp_i32_f64(8)) * hist_RACE_exp_97142, sitofp_i32_f64(m_60147)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_74572 * seghist_tblock_sizze_74570));
            int64_t hist_u_97146 = (int64_t) 2;
            double hist_C_97147 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_74572 * seghist_tblock_sizze_74570)), sitofp_i32_f64(hist_u_97146 * hist_H_chk_97144) / hist_k_max_97145);
            int32_t hist_M_97148 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_97145, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_97148, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_97147, '\n');
            num_subhistos_97079 = sext_i32_i64(hist_M_97148);
            if (hist_M_97148 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_97080, &mem_91632, "mem_91632") != 0)
                    return 1;
            } else if (num_subhistos_97079 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_97080, &mem_91632, "mem_91632") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_97080, num_subhistos_97079 * total_part_no_51500 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_97080")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_97080, num_subhistos_97079 * total_part_no_51500, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_97080.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_91632.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_51500})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_97149 = 0; chk_i_97149 < hist_S_97143; chk_i_97149++) {
                int64_t hist_H_chk_97150 = sdiv_up64(total_part_no_51500, sext_i32_i64(hist_S_97143));
                
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doubleziseghist_global_74577(ctx, num_tblocks_74572, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569, 1, 1, (int64_t) 0, dz2083U_51491, total_part_no_51500, m_60147, num_tblocks_74572, num_subhistos_97079, chk_i_97149, hist_H_chk_97150, mem_92096.mem, mem_92487.mem, defunc_0_map_res_subhistos_mem_97080.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        }
        if (num_subhistos_97079 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_91632, &defunc_0_map_res_subhistos_mem_97080, "defunc_0_map_res_subhistos_mem_97080") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_97166 = (int64_t) 1;
            
            if (slt64(num_subhistos_97079 * (int64_t) 2, seghist_tblock_sizze_74570 * chunk_sizze_97166)) {
                int64_t segment_sizze_nonzzero_97167 = smax64((int64_t) 1, num_subhistos_97079);
                int64_t num_threads_97168 = seghist_tblock_sizze_74570 * seghist_tblock_sizze_74570;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_51500, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_97079, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_part_no_51500, squot64(seghist_tblock_sizze_74570, segment_sizze_nonzzero_97167))), '\n');
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_small_97165(ctx, num_tblocks_74572, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569, 1, 1, (int64_t) 8 * seghist_tblock_sizze_74570 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_74570, (int64_t) 8), (int64_t) 8), total_part_no_51500, num_tblocks_74572, num_subhistos_97079, segment_sizze_nonzzero_97167, mem_91632.mem, defunc_0_map_res_subhistos_mem_97080.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_97196 = sdiv_up64(num_tblocks_74572, smax64((int64_t) 1, total_part_no_51500));
                int64_t q_97197 = sdiv_up64(num_subhistos_97079, seghist_tblock_sizze_74570 * blocks_per_segment_97196 * chunk_sizze_97166);
                int64_t num_virtblocks_97198 = blocks_per_segment_97196 * total_part_no_51500;
                int64_t threads_per_segment_97199 = blocks_per_segment_97196 * seghist_tblock_sizze_74570;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_51500, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_97079, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_97198, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_74572, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_74570, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_97197, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_97196, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_97200, (int64_t) 8 * num_virtblocks_97198, "segred_tmp_mem_97200")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegred_large_97165(ctx, num_tblocks_74572, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doubleziseghist_tblock_sizze_74569, 1, 1, 8 + ((int64_t) 8 * seghist_tblock_sizze_74570 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_74570, (int64_t) 8), (int64_t) 8)), total_part_no_51500, num_tblocks_74572, num_subhistos_97079, blocks_per_segment_97196, q_97197, num_virtblocks_97198, threads_per_segment_97199, mem_91632.mem, defunc_0_map_res_subhistos_mem_97080.mem, segred_tmp_mem_97200.mem, counters_mem_97202.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_92096, "mem_92096") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_92487, "mem_92487") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92491, bytes_91631, "mem_92491")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, total_part_no_51500)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_97239;
        
        shared_memory_97239 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_97240;
        
        thread_block_sizze_97240 = ctx->max_thread_block_size;
        
        int64_t registers_97241;
        
        registers_97241 = ctx->max_registers;
        
        int64_t thread_block_sizze_97242;
        
        thread_block_sizze_97242 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_97243 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_97239, thread_block_sizze_97240), (int64_t) 8), squot64(squot64(registers_97241, thread_block_sizze_97242) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_97244 = sdiv_up64(total_part_no_51500, segscan_tblock_sizze_74590 * chunk_sizze_97243);
        int64_t num_virt_threads_97245 = num_virt_blocks_97244 * segscan_tblock_sizze_74590;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_97243, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_97246, num_virt_blocks_97244, "status_flags_mem_97246")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_97246, num_virt_blocks_97244, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_97248, (int64_t) 8 * num_virt_blocks_97244, "aggregates_mem_97248")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_97250, (int64_t) 8 * num_virt_blocks_97244, "incprefixes_mem_97250")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegscan_74595(ctx, num_tblocks_74592, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegscan_tblock_sizze_74589, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_74590), chunk_sizze_97243 * segscan_tblock_sizze_74590 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_74590), chunk_sizze_97243 * segscan_tblock_sizze_74590 * (int64_t) 8), (int64_t) 8), (int64_t) 8), total_part_no_51500, num_tblocks_74592, num_virt_blocks_97244, num_virt_threads_97245, mem_91632.mem, mem_92491.mem, status_flags_mem_97246.mem, aggregates_mem_97248.mem, incprefixes_mem_97250.mem, global_dynid_mem_97252.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_91632, "mem_91632") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_92494, bytes_91631, "mem_92494")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_97341 = sext_i64_i32(sdiv_up64(total_part_no_51500, segmap_tblock_sizze_74611));
    
    {
        err = gpu_kernel_calc_local_Skyline_GFUR_doublezisegmap_74615(ctx, segmap_usable_groups_74612, 1, 1, *ctx->tuning_params.calc_local_Skyline_GFUR_doublezisegmap_tblock_sizze_74599, 1, 1, (int64_t) 0, total_part_no_51500, mem_92491.mem, mem_92494.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_92491, "mem_92491") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96091, &isPartitionDominated_mem_91599, "isPartitionDominated_mem_91599") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96092, &mem_92494, "mem_92494") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96093, &mem_92103, "mem_92103") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96094, &mem_92106, "mem_92106") != 0)
        return 1;
    prim_out_96095 = total_part_no_51500;
    prim_out_96096 = m_60147;
    if (memblock_set_device(ctx, &*mem_out_p_99207, &mem_out_96091, "mem_out_96091") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99208, &mem_out_96092, "mem_out_96092") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99209, &mem_out_96093, "mem_out_96093") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99210, &mem_out_96094, "mem_out_96094") != 0)
        return 1;
    *out_prim_out_99211 = prim_out_96095;
    *out_prim_out_99212 = prim_out_96096;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_92494, "mem_92494") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_97250, "incprefixes_mem_97250") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_97248, "aggregates_mem_97248") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_97246, "status_flags_mem_97246") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92491, "mem_92491") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97200, "segred_tmp_mem_97200") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_97080, "defunc_0_map_res_subhistos_mem_97080") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92484, "mem_92484") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92473, "mem_92473") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97028, "mem_param_tmp_97028") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92465, "mem_92465") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92453, "mem_92453") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92431, "mem_92431") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92427, "mem_param_92427") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92469, "ext_mem_92469") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92442, "mem_92442") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92417, "mem_92417") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92399, "mem_92399") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92388, "mem_92388") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92377, "mem_92377") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92374, "mem_92374") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92420, "mem_92420") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92423, "ext_mem_92423") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92487, "mem_92487") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92364, "mem_92364") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92362, "mem_92362") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92351, "mem_92351") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92296, "mem_92296") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92278, "mem_92278") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92267, "mem_92267") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92256, "mem_92256") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92253, "mem_92253") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92212, "mem_92212") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92194, "mem_92194") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92183, "mem_92183") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92172, "mem_92172") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92169, "mem_92169") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92160, "mem_92160") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92142, "mem_92142") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92131, "mem_92131") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92120, "mem_92120") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92117, "mem_92117") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92163, "mem_92163") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92166, "ext_mem_92166") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92114, "mem_92114") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92241, "mem_92241") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92244, "ext_mem_92244") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92247, "mem_92247") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92250, "ext_mem_92250") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92338, "mem_92338") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92341, "ext_mem_92341") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92344, "mem_92344") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92347, "ext_mem_92347") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92106, "mem_92106") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92103, "mem_92103") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92099, "mem_92099") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92096, "mem_92096") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91632, "mem_91632") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91630, "mem_91630") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91613, "mem_91613") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91621, "mem_91621") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91624, "ext_mem_91624") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_96614, "incprefixes_mem_96614") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_96612, "aggregates_mem_96612") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_96590, "status_flags_mem_96590") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92094, "mem_92094") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92092, "mem_92092") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96448, "mem_param_tmp_96448") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92086, "mem_92086") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96527, "mem_param_tmp_96527") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92042, "mem_92042") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92030, "mem_92030") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92008, "mem_92008") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92004, "mem_param_92004") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92046, "ext_mem_92046") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91991, "mem_91991") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91973, "mem_91973") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91962, "mem_91962") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91951, "mem_91951") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91948, "mem_91948") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91994, "mem_91994") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91997, "ext_mem_91997") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91929, "mem_91929") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91937, "mem_91937") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91940, "ext_mem_91940") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91927, "mem_param_91927") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92089, "ext_mem_92089") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95760, "color_95760") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95759, "color_95759") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92061, "mem_92061") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92050, "mem_92050") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92019, "mem_92019") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92000, "mem_92000") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91924, "mem_91924") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91913, "mem_91913") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91911, "mem_91911") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91909, "mem_91909") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91898, "mem_91898") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91843, "mem_91843") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91825, "mem_91825") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91814, "mem_91814") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91803, "mem_91803") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91800, "mem_91800") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91759, "mem_91759") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91741, "mem_91741") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91730, "mem_91730") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91719, "mem_91719") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91716, "mem_91716") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91688, "mem_91688") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91670, "mem_91670") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91659, "mem_91659") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91648, "mem_91648") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91645, "mem_91645") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91642, "mem_91642") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91704, "mem_91704") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91707, "ext_mem_91707") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91710, "mem_91710") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91713, "ext_mem_91713") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91788, "mem_91788") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91791, "ext_mem_91791") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91794, "mem_91794") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91797, "ext_mem_91797") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91885, "mem_91885") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91888, "ext_mem_91888") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91891, "mem_91891") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91894, "ext_mem_91894") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91634, "mem_91634") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91633, "mem_91633") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91625, "mem_91625") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91626, "mem_91626") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91627, "ext_mem_91627") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91609, "mem_91609") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91610, "mem_91610") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91611, "ext_mem_91611") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91608, "mem_91608") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96121, "segred_tmp_mem_96121") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91606, "mem_91606") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91604, "mem_91604") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96094, "mem_out_96094") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96093, "mem_out_96093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96092, "mem_out_96092") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96091, "mem_out_96091") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_define_skyline_space_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99217, struct memblock_device *mem_out_p_99218, struct memblock_device *mem_out_p_99219, struct memblock_device *mem_out_p_99220, struct memblock_device *mem_out_p_99221, struct memblock_device *mem_out_p_99222, int64_t *out_prim_out_99223, int64_t *out_prim_out_99224, int64_t *out_prim_out_99225, int64_t *out_prim_out_99226, struct memblock_device min_per_dim_mem_91593, struct memblock_device max_per_dim_mem_91594, struct memblock_device grid_partitions_per_dim_mem_91595, struct memblock_device angle_partitions_per_dim_mem_91596, int64_t dim_30775, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_91622;
    
    mem_91622.references = NULL;
    
    struct memblock_device mem_91618;
    
    mem_91618.references = NULL;
    
    struct memblock_device mem_91615;
    
    mem_91615.references = NULL;
    
    struct memblock_device segred_tmp_mem_96386;
    
    segred_tmp_mem_96386.references = NULL;
    
    struct memblock_device mem_91612;
    
    mem_91612.references = NULL;
    
    struct memblock_device incprefixes_mem_96291;
    
    incprefixes_mem_96291.references = NULL;
    
    struct memblock_device aggregates_mem_96289;
    
    aggregates_mem_96289.references = NULL;
    
    struct memblock_device status_flags_mem_96287;
    
    status_flags_mem_96287.references = NULL;
    
    struct memblock_device mem_91610;
    
    mem_91610.references = NULL;
    
    struct memblock_device mem_91608;
    
    mem_91608.references = NULL;
    
    struct memblock_device segred_tmp_mem_96248;
    
    segred_tmp_mem_96248.references = NULL;
    
    struct memblock_device mem_91605;
    
    mem_91605.references = NULL;
    
    struct memblock_device incprefixes_mem_96133;
    
    incprefixes_mem_96133.references = NULL;
    
    struct memblock_device aggregates_mem_96131;
    
    aggregates_mem_96131.references = NULL;
    
    struct memblock_device status_flags_mem_96109;
    
    status_flags_mem_96109.references = NULL;
    
    struct memblock_device mem_91603;
    
    mem_91603.references = NULL;
    
    struct memblock_device mem_91601;
    
    mem_91601.references = NULL;
    
    struct memblock_device mem_91599;
    
    mem_91599.references = NULL;
    
    struct memblock_device mem_out_96096;
    
    mem_out_96096.references = NULL;
    
    struct memblock_device mem_out_96095;
    
    mem_out_96095.references = NULL;
    
    struct memblock_device mem_out_96094;
    
    mem_out_96094.references = NULL;
    
    struct memblock_device mem_out_96093;
    
    mem_out_96093.references = NULL;
    
    struct memblock_device mem_out_96092;
    
    mem_out_96092.references = NULL;
    
    struct memblock_device mem_out_96091;
    
    mem_out_96091.references = NULL;
    
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t prim_out_96097;
    int64_t prim_out_96098;
    int64_t prim_out_96099;
    int64_t prim_out_96100;
    int64_t arg_57761 = sub64(dim_30775, (int64_t) 1);
    bool assert_cond_57762 = arg_57761 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776;
    bool assert_c_57763;
    
    if (!assert_cond_57762) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  unknown location\n   #1  ftSkyline.fut:729:1-740:41\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t segscan_tblock_sizze_70554;
    
    segscan_tblock_sizze_70554 = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70553;
    
    int64_t num_tblocks_70556;
    int64_t max_num_tblocks_96101;
    
    max_num_tblocks_96101 = *ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_70555;
    num_tblocks_70556 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dim_30775, segscan_tblock_sizze_70554), max_num_tblocks_96101)));
    
    int64_t bytes_91598 = (int64_t) 8 * dim_30775;
    
    if (memblock_alloc_device(ctx, &mem_91599, bytes_91598, "mem_91599")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91601, bytes_91598, "mem_91601")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91603, bytes_91598, "mem_91603")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dim_30775)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_96102;
        
        shared_memory_96102 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_96103;
        
        thread_block_sizze_96103 = ctx->max_thread_block_size;
        
        int64_t registers_96104;
        
        registers_96104 = ctx->max_registers;
        
        int64_t thread_block_sizze_96105;
        
        thread_block_sizze_96105 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_96106 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_96102, thread_block_sizze_96103), (int64_t) 8), squot64(squot64(registers_96104, thread_block_sizze_96105) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_96107 = sdiv_up64(dim_30775, segscan_tblock_sizze_70554 * chunk_sizze_96106);
        int64_t num_virt_threads_96108 = num_virt_blocks_96107 * segscan_tblock_sizze_70554;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_96106, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_96109, num_virt_blocks_96107, "status_flags_mem_96109")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_96109, num_virt_blocks_96107, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_96131, (int64_t) 8 * num_virt_blocks_96107, "aggregates_mem_96131")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_96133, (int64_t) 8 * num_virt_blocks_96107, "incprefixes_mem_96133")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_define_skyline_space_doublezisegscan_70559(ctx, num_tblocks_70556, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70553, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_70554), chunk_sizze_96106 * segscan_tblock_sizze_70554 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_70554), chunk_sizze_96106 * segscan_tblock_sizze_70554 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dim_30775, num_tblocks_70556, num_virt_blocks_96107, num_virt_threads_96108, min_per_dim_mem_91593.mem, max_per_dim_mem_91594.mem, grid_partitions_per_dim_mem_91595.mem, mem_91599.mem, mem_91601.mem, mem_91603.mem, status_flags_mem_96109.mem, aggregates_mem_96131.mem, incprefixes_mem_96133.mem, global_dynid_mem_96135.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t segred_tblock_sizze_70562;
    
    segred_tblock_sizze_70562 = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70561;
    
    int64_t num_tblocks_70564;
    int64_t max_num_tblocks_96244;
    
    max_num_tblocks_96244 = *ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_70563;
    num_tblocks_70564 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dim_30775, segred_tblock_sizze_70562), max_num_tblocks_96244)));
    if (memblock_alloc_device(ctx, &mem_91605, (int64_t) 8, "mem_91605")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_96245 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_96248, (int64_t) 8 * num_tblocks_70564, "segred_tmp_mem_96248")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_96250 = num_tblocks_70564 * segred_tblock_sizze_70562;
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegred_nonseg_70569(ctx, num_tblocks_70564, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70561, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_70562 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_70562, (int64_t) 8), (int64_t) 8)), dim_30775, num_tblocks_70564, num_threads_96250, mem_91601.mem, mem_91605.mem, counters_mem_96246.mem, segred_tmp_mem_96248.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91601, "mem_91601") != 0)
        return 1;
    
    int64_t read_res_99227;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_99227, mem_91605.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_res_67320 = read_res_99227;
    
    if (memblock_unref_device(ctx, &mem_91605, "mem_91605") != 0)
        return 1;
    
    int64_t bytes_91607 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776;
    bool bounds_invalid_upwards_57808 = slt64(defunc_res_67320, (int64_t) 0);
    bool valid_57809 = !bounds_invalid_upwards_57808;
    bool range_valid_c_57810;
    
    if (!valid_57809) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) defunc_res_67320, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  ftSkyline.fut:56:29-47\n   #2  ftSkyline.fut:95:90-114\n   #3  ftSkyline.fut:740:17-41\n   #4  ftSkyline.fut:729:1-740:41\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_91620 = (int64_t) 8 * defunc_res_67320;
    int64_t bytes_91621 = dim_30775 * binop_x_91620;
    int64_t segscan_tblock_sizze_70574;
    
    segscan_tblock_sizze_70574 = *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70573;
    
    int64_t num_tblocks_70576;
    int64_t max_num_tblocks_96279;
    
    max_num_tblocks_96279 = *ctx->tuning_params.define_skyline_space_doublezisegscan_num_tblocks_70575;
    num_tblocks_70576 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, segscan_tblock_sizze_70574), max_num_tblocks_96279)));
    if (memblock_alloc_device(ctx, &mem_91608, bytes_91607, "mem_91608")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91610, bytes_91607, "mem_91610")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_96280;
        
        shared_memory_96280 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_96281;
        
        thread_block_sizze_96281 = ctx->max_thread_block_size;
        
        int64_t registers_96282;
        
        registers_96282 = ctx->max_registers;
        
        int64_t thread_block_sizze_96283;
        
        thread_block_sizze_96283 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_96284 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_96280, thread_block_sizze_96281), (int64_t) 8), squot64(squot64(registers_96282, thread_block_sizze_96283) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_96285 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, segscan_tblock_sizze_70574 * chunk_sizze_96284);
        int64_t num_virt_threads_96286 = num_virt_blocks_96285 * segscan_tblock_sizze_70574;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_96284, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_96287, num_virt_blocks_96285, "status_flags_mem_96287")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_96287, num_virt_blocks_96285, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_96289, (int64_t) 8 * num_virt_blocks_96285, "aggregates_mem_96289")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_96291, (int64_t) 8 * num_virt_blocks_96285, "incprefixes_mem_96291")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_define_skyline_space_doublezisegscan_70579(ctx, num_tblocks_70576, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegscan_tblock_sizze_70573, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_70574), chunk_sizze_96284 * segscan_tblock_sizze_70574 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_70574), chunk_sizze_96284 * segscan_tblock_sizze_70574 * (int64_t) 8), (int64_t) 8), (int64_t) 8), dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, num_tblocks_70576, num_virt_blocks_96285, num_virt_threads_96286, angle_partitions_per_dim_mem_91596.mem, mem_91608.mem, mem_91610.mem, status_flags_mem_96287.mem, aggregates_mem_96289.mem, incprefixes_mem_96291.mem, global_dynid_mem_96293.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t segred_tblock_sizze_70582;
    
    segred_tblock_sizze_70582 = *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70581;
    
    int64_t num_tblocks_70584;
    int64_t max_num_tblocks_96382;
    
    max_num_tblocks_96382 = *ctx->tuning_params.define_skyline_space_doublezisegred_num_tblocks_70583;
    num_tblocks_70584 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, segred_tblock_sizze_70582), max_num_tblocks_96382)));
    if (memblock_alloc_device(ctx, &mem_91612, (int64_t) 8, "mem_91612")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegRed");
    
    int64_t chunk_sizze_96383 = (int64_t) 1;
    
    if (memblock_alloc_device(ctx, &segred_tmp_mem_96386, (int64_t) 8 * num_tblocks_70584, "segred_tmp_mem_96386")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_threads_96388 = num_tblocks_70584 * segred_tblock_sizze_70582;
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegred_nonseg_70589(ctx, num_tblocks_70584, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegred_tblock_sizze_70581, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_70582 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_70582, (int64_t) 8), (int64_t) 8)), dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, num_tblocks_70584, num_threads_96388, mem_91610.mem, mem_91612.mem, counters_mem_96384.mem, segred_tmp_mem_96386.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91610, "mem_91610") != 0)
        return 1;
    
    int64_t read_res_99228;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_99228, mem_91612.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t defunc_res_67323 = read_res_99228;
    
    if (memblock_unref_device(ctx, &mem_91612, "mem_91612") != 0)
        return 1;
    
    int64_t total_part_no_57775 = mul64(defunc_res_67320, defunc_res_67323);
    int64_t segmap_tblock_sizze_70605;
    
    segmap_tblock_sizze_70605 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70593;
    
    int64_t segmap_usable_groups_70606 = sdiv_up64(dim_30775, segmap_tblock_sizze_70605);
    
    if (memblock_alloc_device(ctx, &mem_91615, bytes_91598, "mem_91615")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96417 = sext_i64_i32(sdiv_up64(dim_30775, segmap_tblock_sizze_70605));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_70609(ctx, segmap_usable_groups_70606, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70593, 1, 1, (int64_t) 0, dim_30775, mem_91599.mem, mem_91615.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91599, "mem_91599") != 0)
        return 1;
    
    int64_t segmap_tblock_sizze_70631;
    
    segmap_tblock_sizze_70631 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70619;
    
    int64_t segmap_usable_groups_70632 = sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, segmap_tblock_sizze_70631);
    
    if (memblock_alloc_device(ctx, &mem_91618, bytes_91607, "mem_91618")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96426 = sext_i64_i32(sdiv_up64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, segmap_tblock_sizze_70631));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_70635(ctx, segmap_usable_groups_70632, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70619, 1, 1, (int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776, mem_91608.mem, mem_91618.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_91608, "mem_91608") != 0)
        return 1;
    
    int64_t nest_sizze_70716 = dim_30775 * defunc_res_67320;
    int64_t segmap_tblock_sizze_70717;
    
    segmap_tblock_sizze_70717 = *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70655;
    
    int64_t segmap_usable_groups_70718 = sdiv_up64(nest_sizze_70716, segmap_tblock_sizze_70717);
    
    if (memblock_alloc_device(ctx, &mem_91622, bytes_91621, "mem_91622")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_96435 = sext_i64_i32(sdiv_up64(defunc_res_67320 * dim_30775, segmap_tblock_sizze_70717));
    
    {
        err = gpu_kernel_define_skyline_space_doublezisegmap_70722(ctx, segmap_usable_groups_70718, 1, 1, *ctx->tuning_params.define_skyline_space_doublezisegmap_tblock_sizze_70655, 1, 1, (int64_t) 0, dim_30775, defunc_res_67320, min_per_dim_mem_91593.mem, grid_partitions_per_dim_mem_91595.mem, mem_91603.mem, mem_91615.mem, mem_91622.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_set_device(ctx, &mem_out_96091, &mem_91618, "mem_91618") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96092, &angle_partitions_per_dim_mem_91596, "angle_partitions_per_dim_mem_91596") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96093, &mem_91615, "mem_91615") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96094, &mem_91603, "mem_91603") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96095, &grid_partitions_per_dim_mem_91595, "grid_partitions_per_dim_mem_91595") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96096, &mem_91622, "mem_91622") != 0)
        return 1;
    prim_out_96097 = defunc_res_67320;
    prim_out_96098 = defunc_res_67323;
    prim_out_96099 = defunc_res_67320;
    prim_out_96100 = total_part_no_57775;
    if (memblock_set_device(ctx, &*mem_out_p_99217, &mem_out_96091, "mem_out_96091") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99218, &mem_out_96092, "mem_out_96092") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99219, &mem_out_96093, "mem_out_96093") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99220, &mem_out_96094, "mem_out_96094") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99221, &mem_out_96095, "mem_out_96095") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99222, &mem_out_96096, "mem_out_96096") != 0)
        return 1;
    *out_prim_out_99223 = prim_out_96097;
    *out_prim_out_99224 = prim_out_96098;
    *out_prim_out_99225 = prim_out_96099;
    *out_prim_out_99226 = prim_out_96100;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_91622, "mem_91622") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91618, "mem_91618") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91615, "mem_91615") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96386, "segred_tmp_mem_96386") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91612, "mem_91612") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_96291, "incprefixes_mem_96291") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_96289, "aggregates_mem_96289") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_96287, "status_flags_mem_96287") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91610, "mem_91610") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91608, "mem_91608") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96248, "segred_tmp_mem_96248") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91605, "mem_91605") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_96133, "incprefixes_mem_96133") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_96131, "aggregates_mem_96131") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_96109, "status_flags_mem_96109") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91603, "mem_91603") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91601, "mem_91601") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91599, "mem_91599") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96096, "mem_out_96096") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96095, "mem_out_96095") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96094, "mem_out_96094") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96093, "mem_out_96093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96092, "mem_out_96092") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96091, "mem_out_96091") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct memblock_device *mem_out_p_99229, struct memblock_device *mem_out_p_99230, struct memblock_device *mem_out_p_99231, struct memblock_device *mem_out_p_99232, int64_t *out_prim_out_99233, int64_t *out_prim_out_99234, int64_t *out_prim_out_99235, struct memblock_device angle_part_prefix_sum_mem_91593, struct memblock_device angle_partitions_per_dim_mem_91594, struct memblock_device grid_part_prefix_sum_mem_91595, struct memblock_device grid_part_sizze_per_dim_mem_91596, struct memblock_device grid_partitions_per_dim_mem_91597, struct memblock_device start_of_grid_partition_mem_91598, struct memblock_device xs_mem_91599, int64_t dim_45874, int64_t dz2080U_45875, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, int64_t n_45877, int64_t total_angle_no_45884, int64_t total_grid_no_45885, int64_t total_part_no_45886, bool use_measure_for_sorting_45888)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_95051;
    
    mem_95051.references = NULL;
    
    struct memblock_device incprefixes_mem_99099;
    
    incprefixes_mem_99099.references = NULL;
    
    struct memblock_device aggregates_mem_99097;
    
    aggregates_mem_99097.references = NULL;
    
    struct memblock_device status_flags_mem_99095;
    
    status_flags_mem_99095.references = NULL;
    
    struct memblock_device mem_95048;
    
    mem_95048.references = NULL;
    
    struct memblock_device segred_tmp_mem_99049;
    
    segred_tmp_mem_99049.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_98929;
    
    defunc_0_map_res_subhistos_mem_98929.references = NULL;
    
    struct memblock_device mem_95041;
    
    mem_95041.references = NULL;
    
    struct memblock_device mem_95039;
    
    mem_95039.references = NULL;
    
    struct memblock_device mem_95037;
    
    mem_95037.references = NULL;
    
    struct memblock_device mem_95034;
    
    mem_95034.references = NULL;
    
    struct memblock_device mem_95032;
    
    mem_95032.references = NULL;
    
    struct memblock_device mem_95030;
    
    mem_95030.references = NULL;
    
    struct memblock_device mem_91631;
    
    mem_91631.references = NULL;
    
    struct memblock_device incprefixes_mem_98782;
    
    incprefixes_mem_98782.references = NULL;
    
    struct memblock_device aggregates_mem_98780;
    
    aggregates_mem_98780.references = NULL;
    
    struct memblock_device status_flags_mem_98758;
    
    status_flags_mem_98758.references = NULL;
    
    struct memblock_device mem_94909;
    
    mem_94909.references = NULL;
    
    struct memblock_device mem_94904;
    
    mem_94904.references = NULL;
    
    struct memblock_device mem_94902;
    
    mem_94902.references = NULL;
    
    struct memblock_device mem_94899;
    
    mem_94899.references = NULL;
    
    struct memblock_device mem_94888;
    
    mem_94888.references = NULL;
    
    struct memblock_device mem_param_tmp_98701;
    
    mem_param_tmp_98701.references = NULL;
    
    struct memblock_device mem_94880;
    
    mem_94880.references = NULL;
    
    struct memblock_device mem_94868;
    
    mem_94868.references = NULL;
    
    struct memblock_device mem_94846;
    
    mem_94846.references = NULL;
    
    struct memblock_device mem_param_94842;
    
    mem_param_94842.references = NULL;
    
    struct memblock_device ext_mem_94884;
    
    ext_mem_94884.references = NULL;
    
    struct memblock_device mem_94857;
    
    mem_94857.references = NULL;
    
    struct memblock_device mem_94838;
    
    mem_94838.references = NULL;
    
    struct memblock_device mem_94829;
    
    mem_94829.references = NULL;
    
    struct memblock_device mem_94811;
    
    mem_94811.references = NULL;
    
    struct memblock_device mem_94800;
    
    mem_94800.references = NULL;
    
    struct memblock_device mem_94789;
    
    mem_94789.references = NULL;
    
    struct memblock_device mem_94786;
    
    mem_94786.references = NULL;
    
    struct memblock_device mem_94832;
    
    mem_94832.references = NULL;
    
    struct memblock_device ext_mem_94835;
    
    ext_mem_94835.references = NULL;
    
    struct memblock_device mem_94778;
    
    mem_94778.references = NULL;
    
    struct memblock_device mem_94776;
    
    mem_94776.references = NULL;
    
    struct memblock_device mem_94774;
    
    mem_94774.references = NULL;
    
    struct memblock_device mem_94763;
    
    mem_94763.references = NULL;
    
    struct memblock_device mem_94708;
    
    mem_94708.references = NULL;
    
    struct memblock_device mem_94690;
    
    mem_94690.references = NULL;
    
    struct memblock_device mem_94679;
    
    mem_94679.references = NULL;
    
    struct memblock_device mem_94668;
    
    mem_94668.references = NULL;
    
    struct memblock_device mem_94665;
    
    mem_94665.references = NULL;
    
    struct memblock_device mem_94624;
    
    mem_94624.references = NULL;
    
    struct memblock_device mem_94606;
    
    mem_94606.references = NULL;
    
    struct memblock_device mem_94595;
    
    mem_94595.references = NULL;
    
    struct memblock_device mem_94584;
    
    mem_94584.references = NULL;
    
    struct memblock_device mem_94581;
    
    mem_94581.references = NULL;
    
    struct memblock_device mem_94572;
    
    mem_94572.references = NULL;
    
    struct memblock_device mem_94554;
    
    mem_94554.references = NULL;
    
    struct memblock_device mem_94543;
    
    mem_94543.references = NULL;
    
    struct memblock_device mem_94532;
    
    mem_94532.references = NULL;
    
    struct memblock_device mem_94529;
    
    mem_94529.references = NULL;
    
    struct memblock_device mem_94575;
    
    mem_94575.references = NULL;
    
    struct memblock_device ext_mem_94578;
    
    ext_mem_94578.references = NULL;
    
    struct memblock_device mem_94526;
    
    mem_94526.references = NULL;
    
    struct memblock_device mem_94653;
    
    mem_94653.references = NULL;
    
    struct memblock_device ext_mem_94656;
    
    ext_mem_94656.references = NULL;
    
    struct memblock_device mem_94659;
    
    mem_94659.references = NULL;
    
    struct memblock_device ext_mem_94662;
    
    ext_mem_94662.references = NULL;
    
    struct memblock_device mem_94750;
    
    mem_94750.references = NULL;
    
    struct memblock_device ext_mem_94753;
    
    ext_mem_94753.references = NULL;
    
    struct memblock_device mem_94756;
    
    mem_94756.references = NULL;
    
    struct memblock_device ext_mem_94759;
    
    ext_mem_94759.references = NULL;
    
    struct memblock_device segred_tmp_mem_98395;
    
    segred_tmp_mem_98395.references = NULL;
    
    struct memblock_device color_95860;
    
    color_95860.references = NULL;
    
    struct memblock_device mem_94503;
    
    mem_94503.references = NULL;
    
    struct memblock_device segred_tmp_mem_98352;
    
    segred_tmp_mem_98352.references = NULL;
    
    struct memblock_device defunc_0_map_res_subhistos_mem_98212;
    
    defunc_0_map_res_subhistos_mem_98212.references = NULL;
    
    struct memblock_device color_95859;
    
    color_95859.references = NULL;
    
    struct memblock_device color_95858;
    
    color_95858.references = NULL;
    
    struct memblock_device color_95857;
    
    color_95857.references = NULL;
    
    struct memblock_device color_95856;
    
    color_95856.references = NULL;
    
    struct memblock_device color_95855;
    
    color_95855.references = NULL;
    
    struct memblock_device color_95854;
    
    color_95854.references = NULL;
    
    struct memblock_device color_95853;
    
    color_95853.references = NULL;
    
    struct memblock_device mem_94428;
    
    mem_94428.references = NULL;
    
    struct memblock_device mem_93135;
    
    mem_93135.references = NULL;
    
    struct memblock_device mem_93132;
    
    mem_93132.references = NULL;
    
    struct memblock_device mem_param_tmp_97634;
    
    mem_param_tmp_97634.references = NULL;
    
    struct memblock_device mem_param_tmp_97633;
    
    mem_param_tmp_97633.references = NULL;
    
    struct memblock_device mem_param_tmp_97632;
    
    mem_param_tmp_97632.references = NULL;
    
    struct memblock_device mem_param_tmp_97631;
    
    mem_param_tmp_97631.references = NULL;
    
    struct memblock_device mem_93109;
    
    mem_93109.references = NULL;
    
    struct memblock_device mem_93105;
    
    mem_93105.references = NULL;
    
    struct memblock_device mem_93100;
    
    mem_93100.references = NULL;
    
    struct memblock_device mem_93096;
    
    mem_93096.references = NULL;
    
    struct memblock_device mem_92617;
    
    mem_92617.references = NULL;
    
    struct memblock_device mem_92613;
    
    mem_92613.references = NULL;
    
    struct memblock_device mem_92610;
    
    mem_92610.references = NULL;
    
    struct memblock_device mem_92607;
    
    mem_92607.references = NULL;
    
    struct memblock_device mem_92603;
    
    mem_92603.references = NULL;
    
    struct memblock_device mem_92598;
    
    mem_92598.references = NULL;
    
    struct memblock_device mem_92592;
    
    mem_92592.references = NULL;
    
    struct memblock_device mem_92587;
    
    mem_92587.references = NULL;
    
    struct memblock_device mem_92583;
    
    mem_92583.references = NULL;
    
    struct memblock_device mem_92566;
    
    mem_92566.references = NULL;
    
    struct memblock_device mem_92542;
    
    mem_92542.references = NULL;
    
    struct memblock_device mem_92525;
    
    mem_92525.references = NULL;
    
    struct memblock_device mem_92466;
    
    mem_92466.references = NULL;
    
    struct memblock_device mem_92442;
    
    mem_92442.references = NULL;
    
    struct memblock_device mem_92425;
    
    mem_92425.references = NULL;
    
    struct memblock_device mem_92408;
    
    mem_92408.references = NULL;
    
    struct memblock_device mem_92391;
    
    mem_92391.references = NULL;
    
    struct memblock_device mem_92386;
    
    mem_92386.references = NULL;
    
    struct memblock_device mem_92382;
    
    mem_92382.references = NULL;
    
    struct memblock_device mem_92378;
    
    mem_92378.references = NULL;
    
    struct memblock_device mem_92374;
    
    mem_92374.references = NULL;
    
    struct memblock_device mem_92373;
    
    mem_92373.references = NULL;
    
    struct memblock_device mem_92370;
    
    mem_92370.references = NULL;
    
    struct memblock_device mem_92369;
    
    mem_92369.references = NULL;
    
    struct memblock_device mem_92366;
    
    mem_92366.references = NULL;
    
    struct memblock_device mem_92363;
    
    mem_92363.references = NULL;
    
    struct memblock_device mem_92360;
    
    mem_92360.references = NULL;
    
    struct memblock_device mem_92343;
    
    mem_92343.references = NULL;
    
    struct memblock_device mem_92340;
    
    mem_92340.references = NULL;
    
    struct memblock_device mem_92337;
    
    mem_92337.references = NULL;
    
    struct memblock_device mem_92332;
    
    mem_92332.references = NULL;
    
    struct memblock_device mem_92321;
    
    mem_92321.references = NULL;
    
    struct memblock_device mem_92318;
    
    mem_92318.references = NULL;
    
    struct memblock_device mem_92717;
    
    mem_92717.references = NULL;
    
    struct memblock_device mem_92714;
    
    mem_92714.references = NULL;
    
    struct memblock_device mem_92710;
    
    mem_92710.references = NULL;
    
    struct memblock_device mem_92707;
    
    mem_92707.references = NULL;
    
    struct memblock_device ext_mem_92720;
    
    ext_mem_92720.references = NULL;
    
    struct memblock_device ext_mem_92722;
    
    ext_mem_92722.references = NULL;
    
    struct memblock_device ext_mem_92723;
    
    ext_mem_92723.references = NULL;
    
    struct memblock_device ext_mem_92724;
    
    ext_mem_92724.references = NULL;
    
    struct memblock_device mem_92907;
    
    mem_92907.references = NULL;
    
    struct memblock_device mem_92896;
    
    mem_92896.references = NULL;
    
    struct memblock_device mem_92879;
    
    mem_92879.references = NULL;
    
    struct memblock_device mem_92868;
    
    mem_92868.references = NULL;
    
    struct memblock_device mem_92828;
    
    mem_92828.references = NULL;
    
    struct memblock_device mem_92817;
    
    mem_92817.references = NULL;
    
    struct memblock_device mem_92800;
    
    mem_92800.references = NULL;
    
    struct memblock_device mem_92789;
    
    mem_92789.references = NULL;
    
    struct memblock_device mem_92778;
    
    mem_92778.references = NULL;
    
    struct memblock_device mem_92767;
    
    mem_92767.references = NULL;
    
    struct memblock_device mem_92763;
    
    mem_92763.references = NULL;
    
    struct memblock_device mem_92760;
    
    mem_92760.references = NULL;
    
    struct memblock_device mem_92757;
    
    mem_92757.references = NULL;
    
    struct memblock_device mem_92735;
    
    mem_92735.references = NULL;
    
    struct memblock_device mem_92738;
    
    mem_92738.references = NULL;
    
    struct memblock_device mem_92731;
    
    mem_92731.references = NULL;
    
    struct memblock_device mem_92729;
    
    mem_92729.references = NULL;
    
    struct memblock_device mem_92750;
    
    mem_92750.references = NULL;
    
    struct memblock_device mem_92747;
    
    mem_92747.references = NULL;
    
    struct memblock_device mem_92743;
    
    mem_92743.references = NULL;
    
    struct memblock_device mem_92741;
    
    mem_92741.references = NULL;
    
    struct memblock_device ext_mem_92751;
    
    ext_mem_92751.references = NULL;
    
    struct memblock_device ext_mem_92752;
    
    ext_mem_92752.references = NULL;
    
    struct memblock_device ext_mem_92753;
    
    ext_mem_92753.references = NULL;
    
    struct memblock_device ext_mem_92754;
    
    ext_mem_92754.references = NULL;
    
    struct memblock_device ext_mem_92911;
    
    ext_mem_92911.references = NULL;
    
    struct memblock_device ext_mem_92915;
    
    ext_mem_92915.references = NULL;
    
    struct memblock_device ext_mem_92918;
    
    ext_mem_92918.references = NULL;
    
    struct memblock_device ext_mem_92921;
    
    ext_mem_92921.references = NULL;
    
    struct memblock_device mem_92314;
    
    mem_92314.references = NULL;
    
    struct memblock_device mem_92313;
    
    mem_92313.references = NULL;
    
    struct memblock_device mem_93079;
    
    mem_93079.references = NULL;
    
    struct memblock_device mem_93076;
    
    mem_93076.references = NULL;
    
    struct memblock_device mem_93072;
    
    mem_93072.references = NULL;
    
    struct memblock_device mem_93069;
    
    mem_93069.references = NULL;
    
    struct memblock_device ext_mem_93083;
    
    ext_mem_93083.references = NULL;
    
    struct memblock_device ext_mem_93087;
    
    ext_mem_93087.references = NULL;
    
    struct memblock_device ext_mem_93090;
    
    ext_mem_93090.references = NULL;
    
    struct memblock_device ext_mem_93093;
    
    ext_mem_93093.references = NULL;
    
    struct memblock_device mem_param_92311;
    
    mem_param_92311.references = NULL;
    
    struct memblock_device mem_param_92308;
    
    mem_param_92308.references = NULL;
    
    struct memblock_device mem_param_92304;
    
    mem_param_92304.references = NULL;
    
    struct memblock_device mem_param_92301;
    
    mem_param_92301.references = NULL;
    
    struct memblock_device ext_mem_93120;
    
    ext_mem_93120.references = NULL;
    
    struct memblock_device ext_mem_93121;
    
    ext_mem_93121.references = NULL;
    
    struct memblock_device ext_mem_93122;
    
    ext_mem_93122.references = NULL;
    
    struct memblock_device ext_mem_93123;
    
    ext_mem_93123.references = NULL;
    
    struct memblock_device mem_92297;
    
    mem_92297.references = NULL;
    
    struct memblock_device mem_92293;
    
    mem_92293.references = NULL;
    
    struct memblock_device mem_92288;
    
    mem_92288.references = NULL;
    
    struct memblock_device mem_92284;
    
    mem_92284.references = NULL;
    
    struct memblock_device color_95806;
    
    color_95806.references = NULL;
    
    struct memblock_device color_95805;
    
    color_95805.references = NULL;
    
    struct memblock_device mem_92266;
    
    mem_92266.references = NULL;
    
    struct memblock_device mem_92255;
    
    mem_92255.references = NULL;
    
    struct memblock_device mem_92238;
    
    mem_92238.references = NULL;
    
    struct memblock_device mem_92227;
    
    mem_92227.references = NULL;
    
    struct memblock_device mem_92158;
    
    mem_92158.references = NULL;
    
    struct memblock_device mem_92147;
    
    mem_92147.references = NULL;
    
    struct memblock_device mem_92130;
    
    mem_92130.references = NULL;
    
    struct memblock_device mem_92119;
    
    mem_92119.references = NULL;
    
    struct memblock_device ext_mem_92271;
    
    ext_mem_92271.references = NULL;
    
    struct memblock_device ext_mem_92275;
    
    ext_mem_92275.references = NULL;
    
    struct memblock_device ext_mem_92278;
    
    ext_mem_92278.references = NULL;
    
    struct memblock_device ext_mem_92281;
    
    ext_mem_92281.references = NULL;
    
    struct memblock_device mem_92108;
    
    mem_92108.references = NULL;
    
    struct memblock_device mem_92105;
    
    mem_92105.references = NULL;
    
    struct memblock_device mem_92088;
    
    mem_92088.references = NULL;
    
    struct memblock_device mem_92085;
    
    mem_92085.references = NULL;
    
    struct memblock_device mem_92078;
    
    mem_92078.references = NULL;
    
    struct memblock_device mem_92077;
    
    mem_92077.references = NULL;
    
    struct memblock_device mem_92076;
    
    mem_92076.references = NULL;
    
    struct memblock_device segred_tmp_mem_97527;
    
    segred_tmp_mem_97527.references = NULL;
    
    struct memblock_device segred_tmp_mem_97525;
    
    segred_tmp_mem_97525.references = NULL;
    
    struct memblock_device segred_tmp_mem_97523;
    
    segred_tmp_mem_97523.references = NULL;
    
    struct memblock_device segred_tmp_mem_97521;
    
    segred_tmp_mem_97521.references = NULL;
    
    struct memblock_device mem_92075;
    
    mem_92075.references = NULL;
    
    struct memblock_device mem_92074;
    
    mem_92074.references = NULL;
    
    struct memblock_device mem_92072;
    
    mem_92072.references = NULL;
    
    struct memblock_device mem_92071;
    
    mem_92071.references = NULL;
    
    struct memblock_device mem_92066;
    
    mem_92066.references = NULL;
    
    struct memblock_device mem_92061;
    
    mem_92061.references = NULL;
    
    struct memblock_device ext_mem_93126;
    
    ext_mem_93126.references = NULL;
    
    struct memblock_device ext_mem_93130;
    
    ext_mem_93130.references = NULL;
    
    struct memblock_device mem_92047;
    
    mem_92047.references = NULL;
    
    struct memblock_device mem_92036;
    
    mem_92036.references = NULL;
    
    struct memblock_device mem_param_tmp_97468;
    
    mem_param_tmp_97468.references = NULL;
    
    struct memblock_device mem_92028;
    
    mem_92028.references = NULL;
    
    struct memblock_device mem_92016;
    
    mem_92016.references = NULL;
    
    struct memblock_device mem_91994;
    
    mem_91994.references = NULL;
    
    struct memblock_device mem_param_91990;
    
    mem_param_91990.references = NULL;
    
    struct memblock_device ext_mem_92032;
    
    ext_mem_92032.references = NULL;
    
    struct memblock_device mem_92005;
    
    mem_92005.references = NULL;
    
    struct memblock_device mem_91986;
    
    mem_91986.references = NULL;
    
    struct memblock_device mem_91983;
    
    mem_91983.references = NULL;
    
    struct memblock_device mem_91980;
    
    mem_91980.references = NULL;
    
    struct memblock_device mem_91969;
    
    mem_91969.references = NULL;
    
    struct memblock_device mem_91959;
    
    mem_91959.references = NULL;
    
    struct memblock_device mem_91941;
    
    mem_91941.references = NULL;
    
    struct memblock_device mem_91930;
    
    mem_91930.references = NULL;
    
    struct memblock_device mem_91919;
    
    mem_91919.references = NULL;
    
    struct memblock_device mem_91916;
    
    mem_91916.references = NULL;
    
    struct memblock_device mem_91962;
    
    mem_91962.references = NULL;
    
    struct memblock_device ext_mem_91965;
    
    ext_mem_91965.references = NULL;
    
    struct memblock_device mem_92050;
    
    mem_92050.references = NULL;
    
    struct memblock_device mem_91906;
    
    mem_91906.references = NULL;
    
    struct memblock_device mem_91904;
    
    mem_91904.references = NULL;
    
    struct memblock_device mem_91893;
    
    mem_91893.references = NULL;
    
    struct memblock_device mem_91838;
    
    mem_91838.references = NULL;
    
    struct memblock_device mem_91820;
    
    mem_91820.references = NULL;
    
    struct memblock_device mem_91809;
    
    mem_91809.references = NULL;
    
    struct memblock_device mem_91798;
    
    mem_91798.references = NULL;
    
    struct memblock_device mem_91795;
    
    mem_91795.references = NULL;
    
    struct memblock_device mem_91754;
    
    mem_91754.references = NULL;
    
    struct memblock_device mem_91736;
    
    mem_91736.references = NULL;
    
    struct memblock_device mem_91725;
    
    mem_91725.references = NULL;
    
    struct memblock_device mem_91714;
    
    mem_91714.references = NULL;
    
    struct memblock_device mem_91711;
    
    mem_91711.references = NULL;
    
    struct memblock_device mem_91702;
    
    mem_91702.references = NULL;
    
    struct memblock_device mem_91684;
    
    mem_91684.references = NULL;
    
    struct memblock_device mem_91673;
    
    mem_91673.references = NULL;
    
    struct memblock_device mem_91662;
    
    mem_91662.references = NULL;
    
    struct memblock_device mem_91659;
    
    mem_91659.references = NULL;
    
    struct memblock_device mem_91705;
    
    mem_91705.references = NULL;
    
    struct memblock_device ext_mem_91708;
    
    ext_mem_91708.references = NULL;
    
    struct memblock_device mem_91656;
    
    mem_91656.references = NULL;
    
    struct memblock_device mem_91783;
    
    mem_91783.references = NULL;
    
    struct memblock_device ext_mem_91786;
    
    ext_mem_91786.references = NULL;
    
    struct memblock_device mem_91789;
    
    mem_91789.references = NULL;
    
    struct memblock_device ext_mem_91792;
    
    ext_mem_91792.references = NULL;
    
    struct memblock_device mem_91880;
    
    mem_91880.references = NULL;
    
    struct memblock_device ext_mem_91883;
    
    ext_mem_91883.references = NULL;
    
    struct memblock_device mem_91886;
    
    mem_91886.references = NULL;
    
    struct memblock_device ext_mem_91889;
    
    ext_mem_91889.references = NULL;
    
    struct memblock_device mem_91637;
    
    mem_91637.references = NULL;
    
    struct memblock_device mem_91645;
    
    mem_91645.references = NULL;
    
    struct memblock_device ext_mem_91648;
    
    ext_mem_91648.references = NULL;
    
    struct memblock_device mem_94415;
    
    mem_94415.references = NULL;
    
    struct memblock_device mem_94412;
    
    mem_94412.references = NULL;
    
    struct memblock_device mem_param_tmp_96681;
    
    mem_param_tmp_96681.references = NULL;
    
    struct memblock_device mem_param_tmp_96680;
    
    mem_param_tmp_96680.references = NULL;
    
    struct memblock_device mem_param_tmp_96679;
    
    mem_param_tmp_96679.references = NULL;
    
    struct memblock_device mem_94392;
    
    mem_94392.references = NULL;
    
    struct memblock_device mem_94388;
    
    mem_94388.references = NULL;
    
    struct memblock_device mem_94383;
    
    mem_94383.references = NULL;
    
    struct memblock_device mem_93992;
    
    mem_93992.references = NULL;
    
    struct memblock_device mem_93988;
    
    mem_93988.references = NULL;
    
    struct memblock_device mem_93985;
    
    mem_93985.references = NULL;
    
    struct memblock_device mem_93981;
    
    mem_93981.references = NULL;
    
    struct memblock_device mem_93976;
    
    mem_93976.references = NULL;
    
    struct memblock_device mem_93970;
    
    mem_93970.references = NULL;
    
    struct memblock_device mem_93966;
    
    mem_93966.references = NULL;
    
    struct memblock_device mem_93949;
    
    mem_93949.references = NULL;
    
    struct memblock_device mem_93925;
    
    mem_93925.references = NULL;
    
    struct memblock_device mem_93875;
    
    mem_93875.references = NULL;
    
    struct memblock_device mem_93851;
    
    mem_93851.references = NULL;
    
    struct memblock_device mem_93834;
    
    mem_93834.references = NULL;
    
    struct memblock_device mem_93817;
    
    mem_93817.references = NULL;
    
    struct memblock_device mem_93812;
    
    mem_93812.references = NULL;
    
    struct memblock_device mem_93808;
    
    mem_93808.references = NULL;
    
    struct memblock_device mem_93804;
    
    mem_93804.references = NULL;
    
    struct memblock_device mem_93803;
    
    mem_93803.references = NULL;
    
    struct memblock_device mem_93800;
    
    mem_93800.references = NULL;
    
    struct memblock_device mem_93799;
    
    mem_93799.references = NULL;
    
    struct memblock_device mem_93796;
    
    mem_93796.references = NULL;
    
    struct memblock_device mem_93793;
    
    mem_93793.references = NULL;
    
    struct memblock_device mem_93790;
    
    mem_93790.references = NULL;
    
    struct memblock_device mem_93773;
    
    mem_93773.references = NULL;
    
    struct memblock_device mem_93770;
    
    mem_93770.references = NULL;
    
    struct memblock_device mem_93765;
    
    mem_93765.references = NULL;
    
    struct memblock_device mem_93754;
    
    mem_93754.references = NULL;
    
    struct memblock_device mem_93751;
    
    mem_93751.references = NULL;
    
    struct memblock_device mem_94075;
    
    mem_94075.references = NULL;
    
    struct memblock_device mem_94072;
    
    mem_94072.references = NULL;
    
    struct memblock_device mem_94068;
    
    mem_94068.references = NULL;
    
    struct memblock_device ext_mem_94078;
    
    ext_mem_94078.references = NULL;
    
    struct memblock_device ext_mem_94080;
    
    ext_mem_94080.references = NULL;
    
    struct memblock_device ext_mem_94081;
    
    ext_mem_94081.references = NULL;
    
    struct memblock_device mem_94228;
    
    mem_94228.references = NULL;
    
    struct memblock_device mem_94217;
    
    mem_94217.references = NULL;
    
    struct memblock_device mem_94200;
    
    mem_94200.references = NULL;
    
    struct memblock_device mem_94166;
    
    mem_94166.references = NULL;
    
    struct memblock_device mem_94155;
    
    mem_94155.references = NULL;
    
    struct memblock_device mem_94138;
    
    mem_94138.references = NULL;
    
    struct memblock_device mem_94127;
    
    mem_94127.references = NULL;
    
    struct memblock_device mem_94116;
    
    mem_94116.references = NULL;
    
    struct memblock_device mem_94112;
    
    mem_94112.references = NULL;
    
    struct memblock_device mem_94109;
    
    mem_94109.references = NULL;
    
    struct memblock_device mem_94090;
    
    mem_94090.references = NULL;
    
    struct memblock_device mem_94093;
    
    mem_94093.references = NULL;
    
    struct memblock_device mem_94086;
    
    mem_94086.references = NULL;
    
    struct memblock_device mem_94103;
    
    mem_94103.references = NULL;
    
    struct memblock_device mem_94100;
    
    mem_94100.references = NULL;
    
    struct memblock_device mem_94096;
    
    mem_94096.references = NULL;
    
    struct memblock_device ext_mem_94104;
    
    ext_mem_94104.references = NULL;
    
    struct memblock_device ext_mem_94105;
    
    ext_mem_94105.references = NULL;
    
    struct memblock_device ext_mem_94106;
    
    ext_mem_94106.references = NULL;
    
    struct memblock_device ext_mem_94232;
    
    ext_mem_94232.references = NULL;
    
    struct memblock_device ext_mem_94236;
    
    ext_mem_94236.references = NULL;
    
    struct memblock_device ext_mem_94239;
    
    ext_mem_94239.references = NULL;
    
    struct memblock_device mem_93747;
    
    mem_93747.references = NULL;
    
    struct memblock_device mem_93746;
    
    mem_93746.references = NULL;
    
    struct memblock_device mem_94369;
    
    mem_94369.references = NULL;
    
    struct memblock_device mem_94366;
    
    mem_94366.references = NULL;
    
    struct memblock_device mem_94362;
    
    mem_94362.references = NULL;
    
    struct memblock_device ext_mem_94373;
    
    ext_mem_94373.references = NULL;
    
    struct memblock_device ext_mem_94377;
    
    ext_mem_94377.references = NULL;
    
    struct memblock_device ext_mem_94380;
    
    ext_mem_94380.references = NULL;
    
    struct memblock_device mem_param_93744;
    
    mem_param_93744.references = NULL;
    
    struct memblock_device mem_param_93741;
    
    mem_param_93741.references = NULL;
    
    struct memblock_device mem_param_93737;
    
    mem_param_93737.references = NULL;
    
    struct memblock_device ext_mem_94401;
    
    ext_mem_94401.references = NULL;
    
    struct memblock_device ext_mem_94402;
    
    ext_mem_94402.references = NULL;
    
    struct memblock_device ext_mem_94403;
    
    ext_mem_94403.references = NULL;
    
    struct memblock_device mem_93733;
    
    mem_93733.references = NULL;
    
    struct memblock_device mem_93729;
    
    mem_93729.references = NULL;
    
    struct memblock_device mem_93724;
    
    mem_93724.references = NULL;
    
    struct memblock_device color_95758;
    
    color_95758.references = NULL;
    
    struct memblock_device color_95757;
    
    color_95757.references = NULL;
    
    struct memblock_device mem_93709;
    
    mem_93709.references = NULL;
    
    struct memblock_device mem_93698;
    
    mem_93698.references = NULL;
    
    struct memblock_device mem_93681;
    
    mem_93681.references = NULL;
    
    struct memblock_device mem_93624;
    
    mem_93624.references = NULL;
    
    struct memblock_device mem_93613;
    
    mem_93613.references = NULL;
    
    struct memblock_device mem_93596;
    
    mem_93596.references = NULL;
    
    struct memblock_device ext_mem_93714;
    
    ext_mem_93714.references = NULL;
    
    struct memblock_device ext_mem_93718;
    
    ext_mem_93718.references = NULL;
    
    struct memblock_device ext_mem_93721;
    
    ext_mem_93721.references = NULL;
    
    struct memblock_device mem_93585;
    
    mem_93585.references = NULL;
    
    struct memblock_device mem_93582;
    
    mem_93582.references = NULL;
    
    struct memblock_device mem_93565;
    
    mem_93565.references = NULL;
    
    struct memblock_device mem_93558;
    
    mem_93558.references = NULL;
    
    struct memblock_device mem_93557;
    
    mem_93557.references = NULL;
    
    struct memblock_device segred_tmp_mem_96589;
    
    segred_tmp_mem_96589.references = NULL;
    
    struct memblock_device segred_tmp_mem_96587;
    
    segred_tmp_mem_96587.references = NULL;
    
    struct memblock_device segred_tmp_mem_96585;
    
    segred_tmp_mem_96585.references = NULL;
    
    struct memblock_device mem_93556;
    
    mem_93556.references = NULL;
    
    struct memblock_device mem_93555;
    
    mem_93555.references = NULL;
    
    struct memblock_device mem_93553;
    
    mem_93553.references = NULL;
    
    struct memblock_device mem_93548;
    
    mem_93548.references = NULL;
    
    struct memblock_device mem_93543;
    
    mem_93543.references = NULL;
    
    struct memblock_device ext_mem_94406;
    
    ext_mem_94406.references = NULL;
    
    struct memblock_device ext_mem_94410;
    
    ext_mem_94410.references = NULL;
    
    struct memblock_device mem_93529;
    
    mem_93529.references = NULL;
    
    struct memblock_device mem_93518;
    
    mem_93518.references = NULL;
    
    struct memblock_device mem_param_tmp_96532;
    
    mem_param_tmp_96532.references = NULL;
    
    struct memblock_device mem_93510;
    
    mem_93510.references = NULL;
    
    struct memblock_device mem_93498;
    
    mem_93498.references = NULL;
    
    struct memblock_device mem_93476;
    
    mem_93476.references = NULL;
    
    struct memblock_device mem_param_93472;
    
    mem_param_93472.references = NULL;
    
    struct memblock_device ext_mem_93514;
    
    ext_mem_93514.references = NULL;
    
    struct memblock_device mem_93487;
    
    mem_93487.references = NULL;
    
    struct memblock_device mem_93468;
    
    mem_93468.references = NULL;
    
    struct memblock_device mem_93459;
    
    mem_93459.references = NULL;
    
    struct memblock_device mem_93441;
    
    mem_93441.references = NULL;
    
    struct memblock_device mem_93430;
    
    mem_93430.references = NULL;
    
    struct memblock_device mem_93419;
    
    mem_93419.references = NULL;
    
    struct memblock_device mem_93416;
    
    mem_93416.references = NULL;
    
    struct memblock_device mem_93462;
    
    mem_93462.references = NULL;
    
    struct memblock_device ext_mem_93465;
    
    ext_mem_93465.references = NULL;
    
    struct memblock_device mem_93532;
    
    mem_93532.references = NULL;
    
    struct memblock_device mem_93406;
    
    mem_93406.references = NULL;
    
    struct memblock_device mem_93404;
    
    mem_93404.references = NULL;
    
    struct memblock_device mem_93393;
    
    mem_93393.references = NULL;
    
    struct memblock_device mem_93338;
    
    mem_93338.references = NULL;
    
    struct memblock_device mem_93320;
    
    mem_93320.references = NULL;
    
    struct memblock_device mem_93309;
    
    mem_93309.references = NULL;
    
    struct memblock_device mem_93298;
    
    mem_93298.references = NULL;
    
    struct memblock_device mem_93295;
    
    mem_93295.references = NULL;
    
    struct memblock_device mem_93254;
    
    mem_93254.references = NULL;
    
    struct memblock_device mem_93236;
    
    mem_93236.references = NULL;
    
    struct memblock_device mem_93225;
    
    mem_93225.references = NULL;
    
    struct memblock_device mem_93214;
    
    mem_93214.references = NULL;
    
    struct memblock_device mem_93211;
    
    mem_93211.references = NULL;
    
    struct memblock_device mem_93202;
    
    mem_93202.references = NULL;
    
    struct memblock_device mem_93184;
    
    mem_93184.references = NULL;
    
    struct memblock_device mem_93173;
    
    mem_93173.references = NULL;
    
    struct memblock_device mem_93162;
    
    mem_93162.references = NULL;
    
    struct memblock_device mem_93159;
    
    mem_93159.references = NULL;
    
    struct memblock_device mem_93205;
    
    mem_93205.references = NULL;
    
    struct memblock_device ext_mem_93208;
    
    ext_mem_93208.references = NULL;
    
    struct memblock_device mem_93156;
    
    mem_93156.references = NULL;
    
    struct memblock_device mem_93283;
    
    mem_93283.references = NULL;
    
    struct memblock_device ext_mem_93286;
    
    ext_mem_93286.references = NULL;
    
    struct memblock_device mem_93289;
    
    mem_93289.references = NULL;
    
    struct memblock_device ext_mem_93292;
    
    ext_mem_93292.references = NULL;
    
    struct memblock_device mem_93380;
    
    mem_93380.references = NULL;
    
    struct memblock_device ext_mem_93383;
    
    ext_mem_93383.references = NULL;
    
    struct memblock_device mem_93386;
    
    mem_93386.references = NULL;
    
    struct memblock_device ext_mem_93389;
    
    ext_mem_93389.references = NULL;
    
    struct memblock_device mem_93137;
    
    mem_93137.references = NULL;
    
    struct memblock_device mem_93145;
    
    mem_93145.references = NULL;
    
    struct memblock_device ext_mem_93148;
    
    ext_mem_93148.references = NULL;
    
    struct memblock_device ext_mem_94416;
    
    ext_mem_94416.references = NULL;
    
    struct memblock_device ext_mem_94417;
    
    ext_mem_94417.references = NULL;
    
    struct memblock_device mem_91635;
    
    mem_91635.references = NULL;
    
    struct memblock_device mem_91634;
    
    mem_91634.references = NULL;
    
    struct memblock_device mem_91633;
    
    mem_91633.references = NULL;
    
    struct memblock_device mem_91632;
    
    mem_91632.references = NULL;
    
    struct memblock_device mem_91627;
    
    mem_91627.references = NULL;
    
    struct memblock_device mem_91628;
    
    mem_91628.references = NULL;
    
    struct memblock_device ext_mem_91629;
    
    ext_mem_91629.references = NULL;
    
    struct memblock_device mem_91615;
    
    mem_91615.references = NULL;
    
    struct memblock_device mem_91623;
    
    mem_91623.references = NULL;
    
    struct memblock_device ext_mem_91626;
    
    ext_mem_91626.references = NULL;
    
    struct memblock_device mem_91613;
    
    mem_91613.references = NULL;
    
    struct memblock_device mem_91612;
    
    mem_91612.references = NULL;
    
    struct memblock_device mem_91608;
    
    mem_91608.references = NULL;
    
    struct memblock_device mem_91609;
    
    mem_91609.references = NULL;
    
    struct memblock_device ext_mem_91610;
    
    ext_mem_91610.references = NULL;
    
    struct memblock_device mem_91605;
    
    mem_91605.references = NULL;
    
    struct memblock_device mem_91606;
    
    mem_91606.references = NULL;
    
    struct memblock_device ext_mem_91607;
    
    ext_mem_91607.references = NULL;
    
    struct memblock_device mem_91602;
    
    mem_91602.references = NULL;
    
    struct memblock_device mem_91603;
    
    mem_91603.references = NULL;
    
    struct memblock_device ext_mem_91604;
    
    ext_mem_91604.references = NULL;
    
    struct memblock_device mem_91601;
    
    mem_91601.references = NULL;
    
    struct memblock_device mem_out_96094;
    
    mem_out_96094.references = NULL;
    
    struct memblock_device mem_out_96093;
    
    mem_out_96093.references = NULL;
    
    struct memblock_device mem_out_96092;
    
    mem_out_96092.references = NULL;
    
    struct memblock_device mem_out_96091;
    
    mem_out_96091.references = NULL;
    
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t prim_out_96095;
    int64_t prim_out_96096;
    int64_t prim_out_96097;
    int64_t arg_65084 = sub64(dim_45874, (int64_t) 1);
    bool assert_cond_65085 = arg_65084 == dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876;
    bool assert_c_65086;
    
    if (!assert_cond_65085) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: entry point arguments have invalid sizes.", "-> #0  unknown location\n   #1  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_91600 = (int64_t) 8 * n_45877;
    
    if (memblock_alloc_device(ctx, &mem_91601, bytes_91600, "mem_91601")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhiota_i64(ctx, mem_91601, n_45877, (int64_t) 0, (int64_t) 1) != 0) {
        err = 1;
        goto cleanup;
    }
    
    bool cond_65091 = !use_measure_for_sorting_45888;
    bool y_65092 = slt64((int64_t) 0, dz2080U_45875);
    bool protect_assert_disj_65093 = cond_65091 || y_65092;
    bool index_certs_65094;
    
    if (!protect_assert_disj_65093) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_45875, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:293:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_65095 = dim_45874 == (int64_t) 0;
    bool cond_65097 = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876 == (int64_t) 0;
    bool protect_assert_disj_65099 = assert_cond_65085 || cond_65091;
    bool empty_or_match_cert_65100;
    
    if (!protect_assert_disj_65099) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:293:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_65103 = use_measure_for_sorting_45888 || y_65092;
    bool index_certs_65104;
    
    if (!protect_assert_disj_65103) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_45875, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:288:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_65105 = use_measure_for_sorting_45888 || assert_cond_65085;
    bool empty_or_match_cert_65106;
    
    if (!protect_assert_disj_65105) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:288:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_65107 = !cond_65097;
    bool y_65108 = slt64((int64_t) 0, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876);
    bool protect_assert_disj_65109 = cond_65097 || y_65108;
    bool protect_assert_disj_65110 = cond_65091 || protect_assert_disj_65109;
    bool index_certs_65111;
    
    if (!protect_assert_disj_65110) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_cond_conj_65112 = use_measure_for_sorting_45888 && x_65107;
    bool x_67258 = !cond_65095;
    bool protect_cond_conj_67257 = cond_65091 && x_67258;
    bool y_65121 = slt64((int64_t) 0, dim_45874);
    bool protect_assert_disj_65130 = cond_65095 || y_65121;
    bool protect_assert_disj_65135 = use_measure_for_sorting_45888 || protect_assert_disj_65130;
    bool index_certs_65136;
    
    if (!protect_assert_disj_65135) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_67138;
    
    if (!protect_assert_disj_65135) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (protect_cond_conj_67257) {
        if (memblock_alloc_device(ctx, &mem_91603, (int64_t) 8, "mem_91603")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_96115(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_91597.mem, mem_91603.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91604, &mem_91603, "mem_91603") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_91602, (int64_t) 8, "mem_91602")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_91602, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91604, &mem_91602, "mem_91602") != 0)
            return 1;
    }
    
    bool protect_cond_conj_67264 = use_measure_for_sorting_45888 && x_67258;
    bool protect_assert_disj_65131 = cond_65091 || protect_assert_disj_65130;
    bool index_certs_65132;
    
    if (!protect_assert_disj_65131) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_67160;
    
    if (!protect_assert_disj_65131) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (protect_cond_conj_67264) {
        if (memblock_alloc_device(ctx, &mem_91606, (int64_t) 8, "mem_91606")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_96141(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_91597.mem, mem_91606.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91607, &mem_91606, "mem_91606") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_91605, (int64_t) 8, "mem_91605")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_91605, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91607, &mem_91605, "mem_91605") != 0)
            return 1;
    }
    
    bool cond_66028 = sle64(n_45877, (int64_t) 1);
    bool x_66029 = !cond_66028;
    bool protect_cond_conj_67092 = cond_65091 && x_66029;
    int64_t zs_lhs_66030 = sub64(n_45877, (int64_t) 1);
    int64_t zp_rhs_66031 = sdiv_safe64(zs_lhs_66030, (int64_t) 20);
    int64_t min_num_blocks_66032 = add64((int64_t) 1, zp_rhs_66031);
    bool loop_cond_66033 = slt64((int64_t) 1, min_num_blocks_66032);
    bool x_67083;
    int64_t x_67084;
    bool loop_while_65306;
    int64_t x_65307;
    
    loop_while_65306 = loop_cond_66033;
    x_65307 = (int64_t) 1;
    while (loop_while_65306) {
        int64_t loopres_65308 = mul64((int64_t) 2, x_65307);
        bool loop_cond_65309 = slt64(loopres_65308, min_num_blocks_66032);
        bool loop_while_tmp_96147 = loop_cond_65309;
        int64_t x_tmp_96148 = loopres_65308;
        
        loop_while_65306 = loop_while_tmp_96147;
        x_65307 = x_tmp_96148;
    }
    x_67083 = loop_while_65306;
    x_67084 = x_65307;
    
    bool zzero_65310 = x_67084 == (int64_t) 0;
    bool nonzzero_65311 = !zzero_65310;
    bool protect_assert_disj_65312 = nonzzero_65311 || cond_66028;
    bool protect_assert_disj_67088 = use_measure_for_sorting_45888 || protect_assert_disj_65312;
    bool nonzzero_cert_65313;
    
    if (!protect_assert_disj_67088) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:752:17-40\n   #4  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_65314 = sdiv_safe64(zs_lhs_66030, x_67084);
    int64_t block_sizze_65315 = add64((int64_t) 1, zp_rhs_65314);
    int64_t greatest_divisor_leq_than_arg1_65327 = mul64((int64_t) 2, block_sizze_65315);
    int64_t merge_block_sizze_65328;
    
    if (protect_cond_conj_67092) {
        int64_t x_70456;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_70456, (int64_t) 8, greatest_divisor_leq_than_arg1_65327) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_65328 = x_70456;
    } else {
        merge_block_sizze_65328 = (int64_t) 0;
    }
    
    bool zzero_65449 = merge_block_sizze_65328 == (int64_t) 0;
    bool nonzzero_65450 = !zzero_65449;
    int64_t flat_dim_65323 = block_sizze_65315 * x_67084;
    bool loop_cond_65448 = slt64(block_sizze_65315, flat_dim_65323);
    int64_t tmp_65355 = sub64(block_sizze_65315, (int64_t) 2);
    bool bounds_invalid_upwards_65356 = slt64(tmp_65355, (int64_t) 0);
    bool valid_65358 = !bounds_invalid_upwards_65356;
    bool cond_65354 = sle64(block_sizze_65315, (int64_t) 1);
    bool protect_assert_disj_65359 = cond_65354 || valid_65358;
    bool protect_assert_disj_67078 = protect_assert_disj_65359 || cond_66028;
    bool protect_assert_disj_67098 = use_measure_for_sorting_45888 || protect_assert_disj_67078;
    bool range_valid_c_65360;
    
    if (!protect_assert_disj_67098) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_65355, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_65357 = add64((int64_t) 1, tmp_65355);
    bool bounds_invalid_upwards_65350 = slt64(block_sizze_65315, (int64_t) 0);
    bool valid_65351 = !bounds_invalid_upwards_65350;
    bool protect_assert_disj_67076 = valid_65351 || cond_66028;
    bool protect_assert_disj_67096 = use_measure_for_sorting_45888 || protect_assert_disj_67076;
    bool range_valid_c_65352;
    
    if (!protect_assert_disj_67096) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_65315, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_65346 = slt64(x_67084, (int64_t) 0);
    bool valid_65347 = !bounds_invalid_upwards_65346;
    bool protect_assert_disj_67074 = valid_65347 || cond_66028;
    bool protect_assert_disj_67094 = use_measure_for_sorting_45888 || protect_assert_disj_67074;
    bool range_valid_c_65348;
    
    if (!protect_assert_disj_67094) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) x_67084, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_66046 = slt64((int64_t) 0, n_45877);
    bool protect_assert_disj_66047 = cond_66028 || y_66046;
    bool protect_assert_disj_67090 = use_measure_for_sorting_45888 || protect_assert_disj_66047;
    bool index_certs_65318;
    
    if (!protect_assert_disj_67090) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_45877, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:752:17-40\n   #4  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool zzero_leq_i_p_m_t_s_66684 = sle64((int64_t) 0, zs_lhs_66030);
    bool empty_slice_66683 = n_45877 == (int64_t) 0;
    bool protect_cond_conj_67124 = use_measure_for_sorting_45888 && x_66029;
    bool x_67115;
    int64_t x_67116;
    bool loop_while_66036;
    int64_t x_66037;
    
    loop_while_66036 = loop_cond_66033;
    x_66037 = (int64_t) 1;
    while (loop_while_66036) {
        int64_t loopres_66038 = mul64((int64_t) 2, x_66037);
        bool loop_cond_66039 = slt64(loopres_66038, min_num_blocks_66032);
        bool loop_while_tmp_96149 = loop_cond_66039;
        int64_t x_tmp_96150 = loopres_66038;
        
        loop_while_66036 = loop_while_tmp_96149;
        x_66037 = x_tmp_96150;
    }
    x_67115 = loop_while_66036;
    x_67116 = x_66037;
    
    bool zzero_66040 = x_67116 == (int64_t) 0;
    bool nonzzero_66041 = !zzero_66040;
    bool protect_assert_disj_66042 = cond_66028 || nonzzero_66041;
    bool protect_assert_disj_67120 = cond_65091 || protect_assert_disj_66042;
    bool nonzzero_cert_66043;
    
    if (!protect_assert_disj_67120) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:752:17-40\n   #4  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_66044 = sdiv_safe64(zs_lhs_66030, x_67116);
    int64_t block_sizze_66045 = add64((int64_t) 1, zp_rhs_66044);
    int64_t greatest_divisor_leq_than_arg1_66060 = mul64((int64_t) 2, block_sizze_66045);
    int64_t merge_block_sizze_66061;
    
    if (protect_cond_conj_67124) {
        int64_t x_70455;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_70455, (int64_t) 8, greatest_divisor_leq_than_arg1_66060) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_66061 = x_70455;
    } else {
        merge_block_sizze_66061 = (int64_t) 0;
    }
    
    bool zzero_66223 = merge_block_sizze_66061 == (int64_t) 0;
    bool nonzzero_66224 = !zzero_66223;
    int64_t flat_dim_66055 = block_sizze_66045 * x_67116;
    bool loop_cond_66222 = slt64(block_sizze_66045, flat_dim_66055);
    int64_t tmp_66099 = sub64(block_sizze_66045, (int64_t) 2);
    bool bounds_invalid_upwards_66100 = slt64(tmp_66099, (int64_t) 0);
    bool valid_66102 = !bounds_invalid_upwards_66100;
    bool cond_66098 = sle64(block_sizze_66045, (int64_t) 1);
    bool protect_assert_disj_66103 = cond_66098 || valid_66102;
    bool protect_assert_disj_67110 = cond_66028 || protect_assert_disj_66103;
    bool protect_assert_disj_67130 = cond_65091 || protect_assert_disj_67110;
    bool range_valid_c_66104;
    
    if (!protect_assert_disj_67130) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_66099, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_66101 = add64((int64_t) 1, tmp_66099);
    bool bounds_invalid_upwards_66094 = slt64(block_sizze_66045, (int64_t) 0);
    bool valid_66095 = !bounds_invalid_upwards_66094;
    bool protect_assert_disj_67108 = cond_66028 || valid_66095;
    bool protect_assert_disj_67128 = cond_65091 || protect_assert_disj_67108;
    bool range_valid_c_66096;
    
    if (!protect_assert_disj_67128) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_66045, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_66090 = slt64(x_67116, (int64_t) 0);
    bool valid_66091 = !bounds_invalid_upwards_66090;
    bool protect_assert_disj_67106 = cond_66028 || valid_66091;
    bool protect_assert_disj_67126 = cond_65091 || protect_assert_disj_67106;
    bool range_valid_c_66092;
    
    if (!protect_assert_disj_67126) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) x_67116, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_67122 = cond_65091 || protect_assert_disj_66047;
    bool index_certs_66048;
    
    if (!protect_assert_disj_67122) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_45877, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:752:17-40\n   #4  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_65122 = slt64(dim_45874, (int64_t) 1);
    bool valid_65133 = !bounds_invalid_upwards_65122;
    bool protect_assert_disj_65138 = cond_65095 || valid_65133;
    bool protect_assert_disj_65142 = use_measure_for_sorting_45888 || protect_assert_disj_65138;
    bool range_valid_c_65144;
    
    if (!protect_assert_disj_65142) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45874, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:288:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_65143;
    
    if (!protect_assert_disj_65142) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45874, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_65139 = cond_65091 || protect_assert_disj_65138;
    bool range_valid_c_65141;
    
    if (!protect_assert_disj_65139) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45874, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:293:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_65140;
    
    if (!protect_assert_disj_65139) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45874, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_65115 = slt64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, (int64_t) 1);
    bool valid_65117 = !bounds_invalid_upwards_65115;
    bool protect_assert_disj_65118 = cond_65097 || valid_65117;
    bool protect_assert_disj_65128 = use_measure_for_sorting_45888 || protect_assert_disj_65118;
    bool range_valid_c_65129;
    
    if (!protect_assert_disj_65128) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_cond_conj_65125 = cond_65091 && x_65107;
    bool protect_assert_disj_65123 = use_measure_for_sorting_45888 || protect_assert_disj_65109;
    bool index_certs_65124;
    
    if (!protect_assert_disj_65123) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_65119 = cond_65091 || protect_assert_disj_65118;
    bool range_valid_c_65120;
    
    if (!protect_assert_disj_65119) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t distance_65116 = sub64(dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, (int64_t) 1);
    bool protect_cond_conj_70546 = x_65107 && protect_cond_conj_65112;
    bool protect_cond_conj_70549 = use_measure_for_sorting_45888 && protect_cond_conj_70546;
    double defunc_0_f_res_65113;
    
    if (protect_cond_conj_70549) {
        double x_70187;
        
        if (futrts_lifted_lambda_10151(ctx, &x_70187, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, dim_45874, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_65113 = x_70187;
    } else {
        defunc_0_f_res_65113 = 0.0;
    }
    
    bool protect_cond_conj_70540 = x_65107 && protect_cond_conj_65125;
    bool protect_cond_conj_70543 = cond_65091 && protect_cond_conj_70540;
    double defunc_0_f_res_69466;
    
    if (protect_cond_conj_70543) {
        double x_69467;
        
        if (futrts_lifted_lambda_10151(ctx, &x_69467, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, dim_45874, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_69466 = x_69467;
    } else {
        defunc_0_f_res_69466 = 0.0;
    }
    
    int64_t max_tblock_sizze_83544;
    
    max_tblock_sizze_83544 = ctx->max_thread_block_size;
    
    bool fits_83545 = sle64(dim_45874, max_tblock_sizze_83544);
    bool suff_intra_par_83547;
    
    suff_intra_par_83547 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_4 <= dim_45874;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_4", (long) dim_45874, suff_intra_par_83547 ? "true" : "false");
    
    bool intra_suff_and_fits_83548 = fits_83545 && suff_intra_par_83547;
    bool suff_intra_par_83623;
    
    suff_intra_par_83623 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_5 <= dim_45874;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_5", (long) dim_45874, suff_intra_par_83623 ? "true" : "false");
    
    bool intra_suff_and_fits_83624 = fits_83545 && suff_intra_par_83623;
    int64_t nest_sizze_83678 = dim_45874 * n_45877;
    int64_t segmap_tblock_sizze_83679;
    
    segmap_tblock_sizze_83679 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83227;
    
    int64_t segmap_usable_groups_83680 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_83679);
    int64_t segmap_tblock_sizze_83695;
    
    segmap_tblock_sizze_83695 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83194;
    
    int64_t segmap_usable_groups_83696 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_83695);
    int64_t segmap_tblock_sizze_83708;
    
    segmap_tblock_sizze_83708 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83140;
    
    int64_t segmap_usable_groups_83709 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_83708);
    int64_t segmap_tblock_sizze_83720;
    
    segmap_tblock_sizze_83720 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83114;
    
    int64_t num_tblocks_83721;
    int64_t max_num_tblocks_96151;
    
    max_num_tblocks_96151 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_83116;
    num_tblocks_83721 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_83720), max_num_tblocks_96151)));
    
    int64_t segmap_tblock_sizze_83741;
    
    segmap_tblock_sizze_83741 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83082;
    
    int64_t segmap_usable_groups_83742 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_83741);
    int64_t segmap_tblock_sizze_83753;
    
    segmap_tblock_sizze_83753 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83056;
    
    int64_t num_tblocks_83754;
    int64_t max_num_tblocks_96152;
    
    max_num_tblocks_96152 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_83058;
    num_tblocks_83754 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_83753), max_num_tblocks_96152)));
    
    int64_t segmap_tblock_sizze_83774;
    
    segmap_tblock_sizze_83774 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82929;
    
    int64_t segmap_usable_groups_83775 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_83774);
    int64_t segmap_tblock_sizze_83786;
    
    segmap_tblock_sizze_83786 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82900;
    
    int64_t num_tblocks_83787;
    int64_t max_num_tblocks_96153;
    
    max_num_tblocks_96153 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82902;
    num_tblocks_83787 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_83786), max_num_tblocks_96153)));
    
    int64_t segmap_tblock_sizze_83815;
    
    segmap_tblock_sizze_83815 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82723;
    
    int64_t segmap_usable_groups_83816 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_83815);
    int64_t segmap_tblock_sizze_83826;
    
    segmap_tblock_sizze_83826 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82694;
    
    int64_t segmap_usable_groups_83827 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_83826);
    int64_t segmap_tblock_sizze_83846;
    
    segmap_tblock_sizze_83846 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82624;
    
    int64_t segmap_usable_groups_83847 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_83846);
    int64_t segmap_tblock_sizze_83861;
    
    segmap_tblock_sizze_83861 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82598;
    
    int64_t segmap_usable_groups_83862 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_83861);
    int64_t segmap_tblock_sizze_83883;
    
    segmap_tblock_sizze_83883 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82552;
    
    int64_t num_tblocks_83884;
    int64_t max_num_tblocks_96154;
    
    max_num_tblocks_96154 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82554;
    num_tblocks_83884 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_83883), max_num_tblocks_96154)));
    
    int64_t segmap_tblock_sizze_83908;
    
    segmap_tblock_sizze_83908 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82502;
    
    int64_t segmap_usable_groups_83909 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_83908);
    int64_t segmap_tblock_sizze_83918;
    
    segmap_tblock_sizze_83918 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82477;
    
    int64_t segmap_usable_groups_83919 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_83918);
    int64_t segmap_tblock_sizze_83959;
    
    segmap_tblock_sizze_83959 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82422;
    
    int64_t segmap_tblock_sizze_83969;
    
    segmap_tblock_sizze_83969 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82391;
    
    int64_t num_tblocks_83970;
    int64_t max_num_tblocks_96155;
    
    max_num_tblocks_96155 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_82393;
    num_tblocks_83970 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_83969), max_num_tblocks_96155)));
    
    int64_t nest_sizze_83992 = n_45877 * arg_65084;
    int64_t segmap_tblock_sizze_83993;
    
    segmap_tblock_sizze_83993 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82355;
    
    int64_t segmap_usable_groups_83994 = sdiv_up_safe64(nest_sizze_83992, segmap_tblock_sizze_83993);
    int64_t segmap_tblock_sizze_84006;
    
    segmap_tblock_sizze_84006 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82327;
    
    int64_t segmap_usable_groups_84007 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_84006);
    int64_t segred_tblock_sizze_84022;
    
    segred_tblock_sizze_84022 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_84021;
    
    int64_t num_tblocks_84024;
    int64_t max_num_tblocks_96156;
    
    max_num_tblocks_96156 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_84023;
    num_tblocks_84024 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segred_tblock_sizze_84022), max_num_tblocks_96156)));
    
    int64_t segmap_tblock_sizze_84429;
    
    segmap_tblock_sizze_84429 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84356;
    
    int64_t num_tblocks_84430;
    int64_t max_num_tblocks_96157;
    
    max_num_tblocks_96157 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_84358;
    num_tblocks_84430 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(flat_dim_66055, segmap_tblock_sizze_84429), max_num_tblocks_96157)));
    
    int64_t segmap_tblock_sizze_84466;
    
    segmap_tblock_sizze_84466 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84141;
    
    int64_t num_tblocks_84467;
    int64_t max_num_tblocks_96158;
    
    max_num_tblocks_96158 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_84143;
    num_tblocks_84467 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(x_67116, segmap_tblock_sizze_84466), max_num_tblocks_96158)));
    
    int64_t segmap_tblock_sizze_87804;
    
    segmap_tblock_sizze_87804 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87778;
    
    bool suff_intra_par_77818;
    
    suff_intra_par_77818 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_0 <= dim_45874;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_0", (long) dim_45874, suff_intra_par_77818 ? "true" : "false");
    
    bool intra_suff_and_fits_77819 = suff_intra_par_77818 && fits_83545;
    bool suff_intra_par_77894;
    
    suff_intra_par_77894 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_1 <= dim_45874;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_1", (long) dim_45874, suff_intra_par_77894 ? "true" : "false");
    
    bool intra_suff_and_fits_77895 = suff_intra_par_77894 && fits_83545;
    int64_t segmap_tblock_sizze_77950;
    
    segmap_tblock_sizze_77950 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77498;
    
    int64_t segmap_usable_groups_77951 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_77950);
    int64_t segmap_tblock_sizze_77966;
    
    segmap_tblock_sizze_77966 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77465;
    
    int64_t segmap_usable_groups_77967 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_77966);
    int64_t segmap_tblock_sizze_77979;
    
    segmap_tblock_sizze_77979 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77411;
    
    int64_t segmap_usable_groups_77980 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_77979);
    int64_t segmap_tblock_sizze_77991;
    
    segmap_tblock_sizze_77991 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77385;
    
    int64_t num_tblocks_77992;
    int64_t max_num_tblocks_96159;
    
    max_num_tblocks_96159 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77387;
    num_tblocks_77992 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_77991), max_num_tblocks_96159)));
    
    int64_t segmap_tblock_sizze_78012;
    
    segmap_tblock_sizze_78012 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77353;
    
    int64_t segmap_usable_groups_78013 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_78012);
    int64_t segmap_tblock_sizze_78024;
    
    segmap_tblock_sizze_78024 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77327;
    
    int64_t num_tblocks_78025;
    int64_t max_num_tblocks_96160;
    
    max_num_tblocks_96160 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77329;
    num_tblocks_78025 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_78024), max_num_tblocks_96160)));
    
    int64_t segmap_tblock_sizze_78045;
    
    segmap_tblock_sizze_78045 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77200;
    
    int64_t segmap_usable_groups_78046 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_78045);
    int64_t segmap_tblock_sizze_78057;
    
    segmap_tblock_sizze_78057 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77171;
    
    int64_t num_tblocks_78058;
    int64_t max_num_tblocks_96161;
    
    max_num_tblocks_96161 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_77173;
    num_tblocks_78058 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_78057), max_num_tblocks_96161)));
    
    int64_t segmap_tblock_sizze_78086;
    
    segmap_tblock_sizze_78086 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76994;
    
    int64_t segmap_usable_groups_78087 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_78086);
    int64_t segmap_tblock_sizze_78097;
    
    segmap_tblock_sizze_78097 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76965;
    
    int64_t segmap_usable_groups_78098 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_78097);
    int64_t segmap_tblock_sizze_78117;
    
    segmap_tblock_sizze_78117 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76895;
    
    int64_t segmap_usable_groups_78118 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_78117);
    int64_t segmap_tblock_sizze_78132;
    
    segmap_tblock_sizze_78132 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76869;
    
    int64_t segmap_usable_groups_78133 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_78132);
    int64_t segmap_tblock_sizze_78154;
    
    segmap_tblock_sizze_78154 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76823;
    
    int64_t num_tblocks_78155;
    int64_t max_num_tblocks_96162;
    
    max_num_tblocks_96162 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76825;
    num_tblocks_78155 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_78154), max_num_tblocks_96162)));
    
    int64_t segmap_tblock_sizze_78202;
    
    segmap_tblock_sizze_78202 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76740;
    
    int64_t segmap_tblock_sizze_78212;
    
    segmap_tblock_sizze_78212 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76709;
    
    int64_t num_tblocks_78213;
    int64_t max_num_tblocks_96163;
    
    max_num_tblocks_96163 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_76711;
    num_tblocks_78213 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_78212), max_num_tblocks_96163)));
    
    int64_t segmap_tblock_sizze_78236;
    
    segmap_tblock_sizze_78236 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76673;
    
    int64_t segmap_usable_groups_78237 = sdiv_up_safe64(nest_sizze_83992, segmap_tblock_sizze_78236);
    int64_t segmap_tblock_sizze_78249;
    
    segmap_tblock_sizze_78249 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76645;
    
    int64_t segmap_usable_groups_78250 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_78249);
    int64_t segred_tblock_sizze_78265;
    
    segred_tblock_sizze_78265 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_78264;
    
    int64_t num_tblocks_78267;
    int64_t max_num_tblocks_96164;
    
    max_num_tblocks_96164 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_78266;
    num_tblocks_78267 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segred_tblock_sizze_78265), max_num_tblocks_96164)));
    
    int64_t segmap_tblock_sizze_78586;
    
    segmap_tblock_sizze_78586 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78518;
    
    int64_t num_tblocks_78587;
    int64_t max_num_tblocks_96165;
    
    max_num_tblocks_96165 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_78520;
    num_tblocks_78587 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(flat_dim_65323, segmap_tblock_sizze_78586), max_num_tblocks_96165)));
    
    int64_t segmap_tblock_sizze_78617;
    
    segmap_tblock_sizze_78617 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78354;
    
    int64_t num_tblocks_78618;
    int64_t max_num_tblocks_96166;
    
    max_num_tblocks_96166 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_78356;
    num_tblocks_78618 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(x_67084, segmap_tblock_sizze_78617), max_num_tblocks_96166)));
    
    int64_t segmap_tblock_sizze_81490;
    
    segmap_tblock_sizze_81490 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81464;
    
    bool index_certs_66702;
    
    if (!y_65092) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_45875, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:301:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:752:17-40\n   #4  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_66704;
    
    if (!protect_assert_disj_65130) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:301:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_66705;
    
    if (!protect_assert_disj_65138) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45874, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:301:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_67182;
    
    if (!protect_assert_disj_65130) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:157:49-79\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (x_67258) {
        if (memblock_alloc_device(ctx, &mem_91609, (int64_t) 8, "mem_91609")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_96167(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_91597.mem, mem_91609.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91610, &mem_91609, "mem_91609") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_91608, (int64_t) 8, "mem_91608")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_91608, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91610, &mem_91608, "mem_91608") != 0)
            return 1;
    }
    
    int64_t bytes_91611 = (int64_t) 4 * total_grid_no_45885;
    
    if (memblock_alloc_device(ctx, &mem_91612, bytes_91611, "mem_91612")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, mem_91612, total_grid_no_45885, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_88710;
    
    seghist_tblock_sizze_88710 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709;
    
    int64_t num_tblocks_88712;
    int64_t max_num_tblocks_96193;
    
    max_num_tblocks_96193 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_88711;
    num_tblocks_88712 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, seghist_tblock_sizze_88710), max_num_tblocks_96193)));
    if (memblock_alloc_device(ctx, &mem_91613, total_grid_no_45885, "mem_91613")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_bool(ctx, mem_91613, total_grid_no_45885, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t segred_tblock_sizze_88793;
    
    segred_tblock_sizze_88793 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88792;
    
    int64_t num_tblocks_88795;
    int64_t max_num_tblocks_96214;
    
    max_num_tblocks_96214 = *ctx->tuning_params.sort_for_Skyline_doublezisegred_num_tblocks_88794;
    num_tblocks_88795 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_grid_no_45885, segred_tblock_sizze_88793), max_num_tblocks_96214)));
    
    bool index_certs_66823;
    
    if (!y_65092) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dz2080U_45875, "].", "-> #0  ftSkyline.fut:151:23-53\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:345:80-81\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_66824;
    
    if (!protect_assert_disj_65109) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_66827;
    
    if (!protect_assert_disj_65118) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_cond_conj_70537 = x_65107 && x_65107;
    double defunc_0_f_res_66825;
    
    if (protect_cond_conj_70537) {
        double x_70491;
        
        if (futrts_lifted_lambda_10151(ctx, &x_70491, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, dim_45874, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        defunc_0_f_res_66825 = x_70491;
    } else {
        defunc_0_f_res_66825 = 0.0;
    }
    
    int64_t bytes_91614 = (int64_t) 8 * dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876;
    
    if (cond_65097) {
        if (memblock_alloc_device(ctx, &mem_91623, bytes_91614, "mem_91623")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91626, &mem_91623, "mem_91623") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_91615, bytes_91614, "mem_91615")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_91615, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, defunc_0_f_res_66825) != 0) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_66832 = 0; i_66832 < distance_65116; i_66832++) {
            int64_t index_primexp_66834 = add64((int64_t) 1, i_66832);
            bool x_66835 = sle64((int64_t) 0, index_primexp_66834);
            bool y_66836 = slt64(index_primexp_66834, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876);
            bool bounds_check_66837 = x_66835 && y_66836;
            bool index_certs_66838;
            
            if (!bounds_check_66837) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_66834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double defunc_0_f_res_66839;
            
            if (futrts_lifted_lambda_10151(ctx, &defunc_0_f_res_66839, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, dim_45874, index_primexp_66834) != 0) {
                err = 1;
                goto cleanup;
            }
            
            double write_tmp_99236 = defunc_0_f_res_66839;
            
            if ((err = gpu_scalar_to_device(ctx, mem_91615.mem, index_primexp_66834 * sizeof(double), sizeof(double), &write_tmp_99236)) != 0)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91626, &mem_91615, "mem_91615") != 0)
            return 1;
    }
    
    bool empty_or_match_cert_66841;
    
    if (!assert_cond_65085) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "function arguments of wrong shape", "-> #0  ftSkyline.fut:181:17-28\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:345:80-81\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_certs_66843;
    
    if (!protect_assert_disj_65130) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftbasics.fut:123:31-36\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool range_valid_c_66844;
    
    if (!protect_assert_disj_65138) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dim_45874, " is invalid.", "-> #0  ftbasics.fut:123:49-54\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:345:80-81\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (x_67258) {
        if (memblock_alloc_device(ctx, &mem_91628, (int64_t) 8, "mem_91628")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezigpuseq_96236(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, grid_partitions_per_dim_mem_91597.mem, mem_91628.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91629, &mem_91628, "mem_91628") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_91627, (int64_t) 8, "mem_91627")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i64(ctx, mem_91627, (int64_t) 1, (int64_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_91629, &mem_91627, "mem_91627") != 0)
            return 1;
    }
    
    bool zzero_66981 = total_angle_no_45884 == (int64_t) 0;
    bool nonzzero_66982 = !zzero_66981;
    bool nonzzero_cert_66983;
    
    if (!nonzzero_66982) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftSkyline.fut:127:31-51\n   #1  ftSkyline.fut:280:10-348:75\n   #2  /prelude/soacs.fut:255:31-32\n   #3  /prelude/soacs.fut:255:48-50\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool suff_intra_par_90672;
    
    suff_intra_par_90672 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_9 <= dim_45874;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_9", (long) dim_45874, suff_intra_par_90672 ? "true" : "false");
    
    bool intra_suff_and_fits_90673 = fits_83545 && suff_intra_par_90672;
    bool suff_intra_par_90748;
    
    suff_intra_par_90748 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_10 <= dim_45874;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_10", (long) dim_45874, suff_intra_par_90748 ? "true" : "false");
    
    bool intra_suff_and_fits_90749 = fits_83545 && suff_intra_par_90748;
    int64_t segmap_tblock_sizze_90804;
    
    segmap_tblock_sizze_90804 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89883;
    
    int64_t segmap_usable_groups_90805 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_90804);
    int64_t segmap_tblock_sizze_90820;
    
    segmap_tblock_sizze_90820 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89850;
    
    int64_t segmap_usable_groups_90821 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_90820);
    int64_t segmap_tblock_sizze_90833;
    
    segmap_tblock_sizze_90833 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89796;
    
    int64_t segmap_usable_groups_90834 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_90833);
    int64_t segmap_tblock_sizze_90845;
    
    segmap_tblock_sizze_90845 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89770;
    
    int64_t num_tblocks_90846;
    int64_t max_num_tblocks_96242;
    
    max_num_tblocks_96242 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89772;
    num_tblocks_90846 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_90845), max_num_tblocks_96242)));
    
    int64_t segmap_tblock_sizze_90866;
    
    segmap_tblock_sizze_90866 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89738;
    
    int64_t segmap_usable_groups_90867 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_90866);
    int64_t segmap_tblock_sizze_90878;
    
    segmap_tblock_sizze_90878 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89712;
    
    int64_t num_tblocks_90879;
    int64_t max_num_tblocks_96243;
    
    max_num_tblocks_96243 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89714;
    num_tblocks_90879 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_90878), max_num_tblocks_96243)));
    
    int64_t segmap_tblock_sizze_90899;
    
    segmap_tblock_sizze_90899 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89585;
    
    int64_t segmap_usable_groups_90900 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_90899);
    int64_t segmap_tblock_sizze_90911;
    
    segmap_tblock_sizze_90911 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89556;
    
    int64_t num_tblocks_90912;
    int64_t max_num_tblocks_96244;
    
    max_num_tblocks_96244 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89558;
    num_tblocks_90912 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_90911), max_num_tblocks_96244)));
    
    int64_t segmap_tblock_sizze_90940;
    
    segmap_tblock_sizze_90940 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89379;
    
    int64_t segmap_usable_groups_90941 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_90940);
    int64_t segmap_tblock_sizze_90951;
    
    segmap_tblock_sizze_90951 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89350;
    
    int64_t segmap_usable_groups_90952 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_90951);
    int64_t segmap_tblock_sizze_90971;
    
    segmap_tblock_sizze_90971 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89280;
    
    int64_t segmap_usable_groups_90972 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_90971);
    int64_t segmap_tblock_sizze_90986;
    
    segmap_tblock_sizze_90986 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89254;
    
    int64_t segmap_usable_groups_90987 = sdiv_up_safe64(nest_sizze_83678, segmap_tblock_sizze_90986);
    int64_t segmap_tblock_sizze_91008;
    
    segmap_tblock_sizze_91008 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89208;
    
    int64_t num_tblocks_91009;
    int64_t max_num_tblocks_96245;
    
    max_num_tblocks_96245 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89210;
    num_tblocks_91009 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_91008), max_num_tblocks_96245)));
    
    int64_t segmap_tblock_sizze_91056;
    
    segmap_tblock_sizze_91056 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89125;
    
    int64_t segmap_tblock_sizze_91066;
    
    segmap_tblock_sizze_91066 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89094;
    
    int64_t num_tblocks_91067;
    int64_t max_num_tblocks_96246;
    
    max_num_tblocks_96246 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_89096;
    num_tblocks_91067 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_91066), max_num_tblocks_96246)));
    
    int64_t segmap_tblock_sizze_91090;
    
    segmap_tblock_sizze_91090 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89058;
    
    int64_t segmap_usable_groups_91091 = sdiv_up_safe64(nest_sizze_83992, segmap_tblock_sizze_91090);
    int64_t segmap_tblock_sizze_91103;
    
    segmap_tblock_sizze_91103 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89022;
    
    int64_t segmap_usable_groups_91104 = sdiv_up_safe64(n_45877, segmap_tblock_sizze_91103);
    int64_t segscan_tblock_sizze_91130;
    
    segscan_tblock_sizze_91130 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90658;
    
    int64_t num_tblocks_91131;
    int64_t max_num_tblocks_96247;
    
    max_num_tblocks_96247 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_90660;
    num_tblocks_91131 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segscan_tblock_sizze_91130), max_num_tblocks_96247)));
    
    bool x_67000 = !empty_slice_66683;
    bool y_67003 = slt64(zs_lhs_66030, n_45877);
    bool bounds_check_67004 = zzero_leq_i_p_m_t_s_66684 && y_67003;
    bool protect_assert_disj_67005 = empty_slice_66683 || bounds_check_67004;
    bool index_certs_67006;
    
    if (!protect_assert_disj_67005) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zs_lhs_66030, "] out of bounds for array of shape [", (long long) n_45877, "].", "-> #0  /prelude/soacs.fut:257:33-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:752:17-40\n   #3  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_67041 = slt64(total_part_no_45886, (int64_t) 0);
    bool valid_67042 = !bounds_invalid_upwards_67041;
    bool range_valid_c_67043;
    
    if (!valid_67042) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) total_part_no_45886, " is invalid.", "-> #0  /prelude/soacs.fut:133:41-49\n   #1  ftSkyline.fut:354:91-109\n   #2  ftSkyline.fut:752:17-40\n   #3  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_91630 = (int64_t) 8 * total_part_no_45886;
    
    if (memblock_alloc_device(ctx, &mem_91632, (int64_t) 8, "mem_91632")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91633, (int64_t) 8, "mem_91633")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91634, (int64_t) 8, "mem_91634")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_91635, (int64_t) 8, "mem_91635")) {
        err = 1;
        goto cleanup;
    }
    {
        err = gpu_kernel_sort_for_Skyline_doublezigpuseq_96248(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, ext_mem_91604.mem, ext_mem_91607.mem, ext_mem_91610.mem, ext_mem_91629.mem, mem_91632.mem, mem_91633.mem, mem_91634.mem, mem_91635.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (memblock_unref_device(ctx, &ext_mem_91604, "ext_mem_91604") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_91607, "ext_mem_91607") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_91610, "ext_mem_91610") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_91629, "ext_mem_91629") != 0)
        return 1;
    
    int64_t ext_91882;
    int64_t shared_memory_capacity_96254;
    
    shared_memory_capacity_96254 = ctx->max_shared_memory;
    if (intra_suff_and_fits_83548) {
        ext_91882 = dim_45874;
    } else {
        ext_91882 = (int64_t) 1;
    }
    
    int64_t ext_91881;
    int64_t shared_memory_capacity_96255;
    
    shared_memory_capacity_96255 = ctx->max_shared_memory;
    if (intra_suff_and_fits_83548) {
        ext_91881 = (int64_t) 1;
    } else {
        ext_91881 = n_45877;
    }
    
    int64_t ext_91785;
    int64_t shared_memory_capacity_96256;
    
    shared_memory_capacity_96256 = ctx->max_shared_memory;
    if (intra_suff_and_fits_83624) {
        ext_91785 = dim_45874;
    } else {
        ext_91785 = (int64_t) 1;
    }
    
    int64_t ext_91784;
    int64_t shared_memory_capacity_96257;
    
    shared_memory_capacity_96257 = ctx->max_shared_memory;
    if (intra_suff_and_fits_83624) {
        ext_91784 = (int64_t) 1;
    } else {
        ext_91784 = n_45877;
    }
    
    int64_t bytes_91651 = dim_45874 * bytes_91600;
    int64_t ext_91707;
    
    if (cond_65095) {
        ext_91707 = dim_45874;
    } else {
        ext_91707 = (int64_t) 1;
    }
    
    int64_t ext_91706;
    
    if (cond_65095) {
        ext_91706 = (int64_t) 1;
    } else {
        ext_91706 = n_45877;
    }
    
    int64_t binop_x_91660 = (int64_t) 8 * dim_45874;
    int64_t bytes_91661 = n_45877 * binop_x_91660;
    int64_t binop_x_91665 = smax64((int64_t) 0, zs_lhs_66030);
    int64_t binop_x_91667 = smax64((int64_t) 0, arg_65084);
    int64_t binop_y_91668 = n_45877 * binop_x_91667;
    int64_t binop_y_91669 = smax64((int64_t) 0, binop_y_91668);
    int64_t binop_y_91670 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_91671 = (int64_t) 1 + binop_y_91670;
    int64_t bytes_91672 = (int64_t) 8 * binop_y_91671;
    int64_t binop_y_91699 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_91700 = (int64_t) 1 + binop_y_91699;
    int64_t bytes_91701 = (int64_t) 8 * binop_y_91700;
    int64_t binop_y_91751 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_91752 = (int64_t) 1 + binop_y_91751;
    int64_t bytes_91753 = (int64_t) 8 * binop_y_91752;
    int64_t binop_y_91835 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_91836 = (int64_t) 1 + binop_y_91835;
    int64_t bytes_91837 = (int64_t) 8 * binop_y_91836;
    int64_t binop_y_91956 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_91957 = (int64_t) 1 + binop_y_91956;
    int64_t bytes_91958 = (int64_t) 8 * binop_y_91957;
    int64_t bytes_91985 = arg_65084 * bytes_91600;
    int64_t binop_y_91998 = arg_65084 - (int64_t) 1;
    int64_t binop_x_91999 = smax64((int64_t) 0, binop_y_91998);
    int64_t binop_y_92000 = n_45877 * binop_x_91999;
    int64_t binop_y_92001 = smax64((int64_t) 0, binop_y_92000);
    int64_t binop_y_92002 = binop_x_91665 + binop_y_92001;
    int64_t binop_y_92003 = (int64_t) 1 + binop_y_92002;
    int64_t bytes_92004 = (int64_t) 8 * binop_y_92003;
    int64_t num_threads_92062 = segred_tblock_sizze_84022 * num_tblocks_84024;
    int64_t binop_x_92064 = (int64_t) 16 * num_threads_92062;
    int64_t bytes_92065 = dim_45874 * binop_x_92064;
    int64_t binop_x_92083 = (int64_t) 8 * x_67116;
    int64_t bytes_92084 = block_sizze_66045 * binop_x_92083;
    int64_t binop_y_92089 = x_67116 - (int64_t) 1;
    int64_t binop_x_92090 = smax64((int64_t) 0, binop_y_92089);
    int64_t binop_y_92091 = block_sizze_66045 * binop_x_92090;
    int64_t binop_x_92092 = smax64((int64_t) 0, binop_y_92091);
    int64_t binop_y_92095 = smax64((int64_t) 0, zp_rhs_66044);
    int64_t binop_x_92096 = binop_x_92092 + binop_y_92095;
    int64_t binop_y_92100 = flat_dim_66055 * binop_x_91667;
    int64_t binop_y_92101 = smax64((int64_t) 0, binop_y_92100);
    int64_t binop_y_92102 = binop_x_92096 + binop_y_92101;
    int64_t binop_y_92103 = (int64_t) 1 + binop_y_92102;
    int64_t bytes_92104 = (int64_t) 8 * binop_y_92103;
    int64_t ext_92280;
    
    if (cond_66098) {
        ext_92280 = block_sizze_66045;
    } else {
        ext_92280 = (int64_t) 1;
    }
    
    int64_t ext_92279;
    
    if (cond_66098) {
        ext_92279 = (int64_t) 1;
    } else {
        ext_92279 = x_67116;
    }
    
    int64_t binop_y_92114 = x_67116 * binop_y_92095;
    int64_t binop_y_92115 = smax64((int64_t) 0, binop_y_92114);
    int64_t binop_y_92116 = binop_x_92090 + binop_y_92115;
    int64_t binop_y_92117 = (int64_t) 1 + binop_y_92116;
    int64_t bytes_92118 = (int64_t) 8 * binop_y_92117;
    int64_t binop_y_92136 = dim_45874 * x_67116;
    int64_t binop_y_92137 = binop_y_92095 * binop_y_92136;
    int64_t binop_y_92138 = smax64((int64_t) 0, binop_y_92137);
    int64_t binop_x_92139 = binop_x_92090 + binop_y_92138;
    int64_t binop_y_92142 = x_67116 * binop_x_91667;
    int64_t binop_y_92143 = smax64((int64_t) 0, binop_y_92142);
    int64_t binop_y_92144 = binop_x_92139 + binop_y_92143;
    int64_t binop_y_92145 = (int64_t) 1 + binop_y_92144;
    int64_t bytes_92146 = (int64_t) 8 * binop_y_92145;
    int64_t bytes_92226 = (int64_t) 8 * binop_y_92117;
    int64_t bytes_92237 = (int64_t) 8 * binop_y_92117;
    int64_t binop_y_92252 = binop_x_92139 + binop_y_92143;
    int64_t binop_y_92253 = (int64_t) 1 + binop_y_92252;
    int64_t bytes_92254 = (int64_t) 8 * binop_y_92253;
    int64_t bytes_92265 = (int64_t) 8 * binop_y_92117;
    int64_t bytes_92292 = dim_45874 * bytes_92084;
    int64_t segmap_tblock_sizze_88335;
    
    segmap_tblock_sizze_88335 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87159;
    
    int64_t segmap_tblock_sizze_88464;
    
    segmap_tblock_sizze_88464 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86885;
    
    int64_t segmap_tblock_sizze_88559;
    
    segmap_tblock_sizze_88559 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86773;
    
    int64_t binop_x_92375 = (int64_t) 8 * merge_block_sizze_66061;
    int64_t binop_x_92388 = dim_45874 * binop_x_92375;
    int64_t binop_y_92400 = merge_block_sizze_66061 - (int64_t) 1;
    int64_t binop_x_92401 = smax64((int64_t) 0, binop_y_92400);
    int64_t ext_93382;
    int64_t shared_memory_capacity_96258;
    
    shared_memory_capacity_96258 = ctx->max_shared_memory;
    if (intra_suff_and_fits_77819) {
        ext_93382 = dim_45874;
    } else {
        ext_93382 = (int64_t) 1;
    }
    
    int64_t ext_93381;
    int64_t shared_memory_capacity_96259;
    
    shared_memory_capacity_96259 = ctx->max_shared_memory;
    if (intra_suff_and_fits_77819) {
        ext_93381 = (int64_t) 1;
    } else {
        ext_93381 = n_45877;
    }
    
    int64_t ext_93285;
    int64_t shared_memory_capacity_96260;
    
    shared_memory_capacity_96260 = ctx->max_shared_memory;
    if (intra_suff_and_fits_77895) {
        ext_93285 = dim_45874;
    } else {
        ext_93285 = (int64_t) 1;
    }
    
    int64_t ext_93284;
    int64_t shared_memory_capacity_96261;
    
    shared_memory_capacity_96261 = ctx->max_shared_memory;
    if (intra_suff_and_fits_77895) {
        ext_93284 = (int64_t) 1;
    } else {
        ext_93284 = n_45877;
    }
    
    int64_t binop_y_93199 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_93200 = (int64_t) 1 + binop_y_93199;
    int64_t bytes_93201 = (int64_t) 8 * binop_y_93200;
    int64_t binop_y_93251 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_93252 = (int64_t) 1 + binop_y_93251;
    int64_t bytes_93253 = (int64_t) 8 * binop_y_93252;
    int64_t binop_y_93335 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_93336 = (int64_t) 1 + binop_y_93335;
    int64_t bytes_93337 = (int64_t) 8 * binop_y_93336;
    int64_t binop_y_93456 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_93457 = (int64_t) 1 + binop_y_93456;
    int64_t bytes_93458 = (int64_t) 8 * binop_y_93457;
    int64_t num_threads_93544 = segred_tblock_sizze_78265 * num_tblocks_78267;
    int64_t binop_x_93546 = (int64_t) 16 * num_threads_93544;
    int64_t bytes_93547 = dim_45874 * binop_x_93546;
    int64_t binop_x_93563 = (int64_t) 8 * x_67084;
    int64_t bytes_93564 = block_sizze_65315 * binop_x_93563;
    int64_t binop_y_93566 = x_67084 - (int64_t) 1;
    int64_t binop_x_93567 = smax64((int64_t) 0, binop_y_93566);
    int64_t binop_y_93568 = block_sizze_65315 * binop_x_93567;
    int64_t binop_x_93569 = smax64((int64_t) 0, binop_y_93568);
    int64_t binop_y_93572 = smax64((int64_t) 0, zp_rhs_65314);
    int64_t binop_x_93573 = binop_x_93569 + binop_y_93572;
    int64_t binop_y_93577 = flat_dim_65323 * binop_x_91667;
    int64_t binop_y_93578 = smax64((int64_t) 0, binop_y_93577);
    int64_t binop_y_93579 = binop_x_93573 + binop_y_93578;
    int64_t binop_y_93580 = (int64_t) 1 + binop_y_93579;
    int64_t bytes_93581 = (int64_t) 8 * binop_y_93580;
    int64_t ext_93720;
    
    if (cond_65354) {
        ext_93720 = block_sizze_65315;
    } else {
        ext_93720 = (int64_t) 1;
    }
    
    int64_t ext_93719;
    
    if (cond_65354) {
        ext_93719 = (int64_t) 1;
    } else {
        ext_93719 = x_67084;
    }
    
    int64_t binop_y_93591 = x_67084 * binop_y_93572;
    int64_t binop_y_93592 = smax64((int64_t) 0, binop_y_93591);
    int64_t binop_y_93593 = binop_x_93567 + binop_y_93592;
    int64_t binop_y_93594 = (int64_t) 1 + binop_y_93593;
    int64_t bytes_93595 = (int64_t) 8 * binop_y_93594;
    int64_t binop_y_93602 = dim_45874 * x_67084;
    int64_t binop_y_93603 = binop_y_93572 * binop_y_93602;
    int64_t binop_y_93604 = smax64((int64_t) 0, binop_y_93603);
    int64_t binop_x_93605 = binop_x_93567 + binop_y_93604;
    int64_t binop_y_93608 = x_67084 * binop_x_91667;
    int64_t binop_y_93609 = smax64((int64_t) 0, binop_y_93608);
    int64_t binop_y_93610 = binop_x_93605 + binop_y_93609;
    int64_t binop_y_93611 = (int64_t) 1 + binop_y_93610;
    int64_t bytes_93612 = (int64_t) 8 * binop_y_93611;
    int64_t bytes_93680 = (int64_t) 8 * binop_y_93594;
    int64_t binop_y_93695 = binop_x_93605 + binop_y_93609;
    int64_t binop_y_93696 = (int64_t) 1 + binop_y_93695;
    int64_t bytes_93697 = (int64_t) 8 * binop_y_93696;
    int64_t bytes_93708 = (int64_t) 8 * binop_y_93594;
    int64_t bytes_93728 = dim_45874 * bytes_93564;
    int64_t segmap_tblock_sizze_81950;
    
    segmap_tblock_sizze_81950 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80929;
    
    int64_t segmap_tblock_sizze_82063;
    
    segmap_tblock_sizze_82063 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80681;
    
    int64_t segmap_tblock_sizze_82151;
    
    segmap_tblock_sizze_82151 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80588;
    
    int64_t binop_x_93805 = (int64_t) 8 * merge_block_sizze_65328;
    int64_t binop_x_93814 = dim_45874 * binop_x_93805;
    int64_t binop_y_93826 = merge_block_sizze_65328 - (int64_t) 1;
    int64_t binop_x_93827 = smax64((int64_t) 0, binop_y_93826);
    int64_t ext_91888;
    
    if (cond_65095) {
        ext_91888 = dim_45874;
    } else {
        ext_91888 = ext_91882;
    }
    
    int64_t ext_91887;
    
    if (cond_65095) {
        ext_91887 = (int64_t) 1;
    } else {
        ext_91887 = ext_91881;
    }
    
    int64_t ext_91791;
    
    if (cond_65095) {
        ext_91791 = dim_45874;
    } else {
        ext_91791 = ext_91785;
    }
    
    int64_t ext_91790;
    
    if (cond_65095) {
        ext_91790 = (int64_t) 1;
    } else {
        ext_91790 = ext_91784;
    }
    
    int64_t ext_92273;
    
    if (cond_66098) {
        ext_92273 = (int64_t) 1;
    } else {
        ext_92273 = binop_y_92136;
    }
    
    int64_t ext_92272;
    
    if (cond_66098) {
        ext_92272 = flat_dim_66055;
    } else {
        ext_92272 = x_67116;
    }
    
    int64_t ext_93388;
    
    if (cond_65095) {
        ext_93388 = dim_45874;
    } else {
        ext_93388 = ext_93382;
    }
    
    int64_t ext_93387;
    
    if (cond_65095) {
        ext_93387 = (int64_t) 1;
    } else {
        ext_93387 = ext_93381;
    }
    
    int64_t ext_93291;
    
    if (cond_65095) {
        ext_93291 = dim_45874;
    } else {
        ext_93291 = ext_93285;
    }
    
    int64_t ext_93290;
    
    if (cond_65095) {
        ext_93290 = (int64_t) 1;
    } else {
        ext_93290 = ext_93284;
    }
    
    int64_t ext_93716;
    
    if (cond_65354) {
        ext_93716 = (int64_t) 1;
    } else {
        ext_93716 = binop_y_93602;
    }
    
    int64_t ext_93715;
    
    if (cond_65354) {
        ext_93715 = flat_dim_65323;
    } else {
        ext_93715 = x_67084;
    }
    
    int64_t maxSubHelper_95796 = umax64((int64_t) 0, binop_x_91660);
    int64_t maxSubHelper_95748 = umax64((int64_t) 0, binop_x_91660);
    int64_t num_threads_95971 = segmap_tblock_sizze_84466 * num_tblocks_84467;
    int64_t total_sizze_95972 = binop_x_91660 * num_threads_95971;
    int64_t total_sizze_95973 = binop_x_91660 * num_threads_95971;
    int64_t ctx_95987 = dim_45874 * x_67116;
    int64_t num_threads_95927 = segmap_tblock_sizze_78617 * num_tblocks_78618;
    int64_t total_sizze_95928 = binop_x_91660 * num_threads_95927;
    int64_t total_sizze_95929 = binop_x_91660 * num_threads_95927;
    int64_t ctx_95940 = dim_45874 * x_67084;
    
    if (cond_65091) {
        if (cond_65097) {
            if (memblock_alloc_device(ctx, &mem_93145, bytes_91614, "mem_93145")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_93148, &mem_93145, "mem_93145") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_93137, bytes_91614, "mem_93137")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_93137, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, defunc_0_f_res_69466) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_69470 = 0; i_69470 < distance_65116; i_69470++) {
                int64_t index_primexp_69472 = add64((int64_t) 1, i_69470);
                bool x_69473 = sle64((int64_t) 0, index_primexp_69472);
                bool y_69474 = slt64(index_primexp_69472, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876);
                bool bounds_check_69475 = x_69473 && y_69474;
                bool index_certs_69476;
                
                if (!bounds_check_69475) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_69472, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:288:90-91\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_69477;
                
                if (futrts_lifted_lambda_10151(ctx, &defunc_0_f_res_69477, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, dim_45874, index_primexp_69472) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_99237 = defunc_0_f_res_69477;
                
                if ((err = gpu_scalar_to_device(ctx, mem_93137.mem, index_primexp_69472 * sizeof(double), sizeof(double), &write_tmp_99237)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_93148, &mem_93137, "mem_93137") != 0)
                return 1;
        }
        if (cond_65095) {
            if (memblock_alloc_device(ctx, &mem_93386, bytes_91651, "mem_93386")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_93389, &mem_93386, "mem_93386") != 0)
                return 1;
        } else {
            int64_t shared_memory_capacity_96454;
            
            shared_memory_capacity_96454 = ctx->max_shared_memory;
            if (intra_suff_and_fits_77819 && sle64(sdiv_up64(maxSubHelper_95748, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96454)) {
                if (memblock_alloc_device(ctx, &mem_93380, bytes_91651, "mem_93380")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t num_chunks_96263 = sext_i64_i32(sdiv_up64(dim_45874, dim_45874));
                int32_t virt_num_tblocks_96264 = sext_i64_i32(n_45877);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_77823(ctx, n_45877, 1, 1, dim_45874, 1, 1, binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95748 + srem64((int64_t) 8 - srem64(maxSubHelper_95748, (int64_t) 8), (int64_t) 8)), dim_45874, n_45877, arg_65084, cond_65095, binop_x_91660, maxSubHelper_95748, grid_part_sizze_per_dim_mem_91596.mem, grid_partitions_per_dim_mem_91597.mem, start_of_grid_partition_mem_91598.mem, xs_mem_91599.mem, mem_91632.mem, mem_93380.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &ext_mem_93383, &mem_93380, "mem_93380") != 0)
                    return 1;
            } else {
                if (cond_65095) {
                    if (memblock_alloc_device(ctx, &mem_93289, bytes_91651, "mem_93289")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_93292, &mem_93289, "mem_93289") != 0)
                        return 1;
                } else {
                    int64_t shared_memory_capacity_96410;
                    
                    shared_memory_capacity_96410 = ctx->max_shared_memory;
                    if (intra_suff_and_fits_77895 && sle64(sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_96410)) {
                        if (memblock_alloc_device(ctx, &mem_93283, bytes_91651, "mem_93283")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_96284 = sext_i64_i32(sdiv_up64(dim_45874, dim_45874));
                        int32_t virt_num_tblocks_96285 = sext_i64_i32(n_45877);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_77899(ctx, n_45877, 1, 1, dim_45874, 1, 1, binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)), dim_45874, n_45877, arg_65084, cond_65095, binop_x_91660, grid_part_sizze_per_dim_mem_91596.mem, start_of_grid_partition_mem_91598.mem, xs_mem_91599.mem, mem_93283.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_93286, &mem_93283, "mem_93283") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_93156, bytes_91651, "mem_93156")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96302 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_77950));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77955(ctx, segmap_usable_groups_77951, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77498, 1, 1, (int64_t) 0, dim_45874, n_45877, start_of_grid_partition_mem_91598.mem, xs_mem_91599.mem, mem_93156.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96313 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_77966));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_77971(ctx, segmap_usable_groups_77967, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77465, 1, 1, (int64_t) 0, dim_45874, n_45877, grid_part_sizze_per_dim_mem_91596.mem, mem_93156.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (cond_65095) {
                            if (memblock_alloc_device(ctx, &mem_93205, bytes_91651, "mem_93205")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_set_device(ctx, &ext_mem_93208, &mem_93205, "mem_93205") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_93159, bytes_91600, "mem_93159")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96324 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_77979));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77983(ctx, segmap_usable_groups_77980, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77411, 1, 1, (int64_t) 0, dim_45874, n_45877, mem_93156.mem, mem_93159.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_93162, bytes_91661, "mem_93162")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_96333 = dim_45874 * n_45877;
                            int64_t tblock_sizze_96338;
                            
                            tblock_sizze_96338 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96338;
                            
                            int64_t virt_num_tblocks_96339 = sdiv_up64(replicate_n_96333, tblock_sizze_96338);
                            int64_t num_tblocks_96340 = smin64(virt_num_tblocks_96339, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_96334(ctx, num_tblocks_96340, 1, 1, tblock_sizze_96338, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_96333, virt_num_tblocks_96339, num_tblocks_96340, mem_93159.mem, mem_93162.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_93159, "mem_93159") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93173, bytes_91672, "mem_93173")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93173.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93162.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93162, "mem_93162") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93184, bytes_91672, "mem_93184")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93184.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93156.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_93202, bytes_93201, "mem_93202")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96353 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_77991));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_77996(ctx, num_tblocks_77992, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77385, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_77992, virt_num_tblocks_96353, mem_93173.mem, mem_93184.mem, mem_93202.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_93173, "mem_93173") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93184, "mem_93184") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_93208, &mem_93202, "mem_93202") != 0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_93156, "mem_93156") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93211, bytes_91600, "mem_93211")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96367 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_78012));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_78016(ctx, segmap_usable_groups_78013, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77353, 1, 1, (int64_t) 0, n_45877, ext_91707, ext_mem_93208.mem, mem_93211.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_93214, bytes_91661, "mem_93214")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96376 = dim_45874 * n_45877;
                        int64_t tblock_sizze_96381;
                        
                        tblock_sizze_96381 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96381;
                        
                        int64_t virt_num_tblocks_96382 = sdiv_up64(replicate_n_96376, tblock_sizze_96381);
                        int64_t num_tblocks_96383 = smin64(virt_num_tblocks_96382, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96377(ctx, num_tblocks_96383, 1, 1, tblock_sizze_96381, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_96376, virt_num_tblocks_96382, num_tblocks_96383, mem_93211.mem, mem_93214.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_93211, "mem_93211") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93225, bytes_91672, "mem_93225")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93225.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93214.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_93214, "mem_93214") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93236, bytes_91672, "mem_93236")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93236.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, ext_mem_93208.mem, (int64_t) 0, (int64_t []) {ext_91707, ext_91706}, (int64_t []) {n_45877, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &ext_mem_93208, "ext_mem_93208") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_93254, bytes_93253, "mem_93254")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96396 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_78024));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_78029(ctx, num_tblocks_78025, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77327, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_78025, virt_num_tblocks_96396, mem_93225.mem, mem_93236.mem, mem_93254.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_93225, "mem_93225") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_93236, "mem_93236") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_93286, &mem_93254, "mem_93254") != 0)
                            return 1;
                    }
                    if (memblock_set_device(ctx, &ext_mem_93292, &ext_mem_93286, "ext_mem_93286") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_93295, bytes_91600, "mem_93295")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96411 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_78045));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_78049(ctx, segmap_usable_groups_78046, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77200, 1, 1, (int64_t) 0, n_45877, ext_93291, mem_91632.mem, ext_mem_93292.mem, mem_93295.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_93298, bytes_91661, "mem_93298")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_96420 = dim_45874 * n_45877;
                int64_t tblock_sizze_96425;
                
                tblock_sizze_96425 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96425;
                
                int64_t virt_num_tblocks_96426 = sdiv_up64(replicate_n_96420, tblock_sizze_96425);
                int64_t num_tblocks_96427 = smin64(virt_num_tblocks_96426, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_96421(ctx, num_tblocks_96427, 1, 1, tblock_sizze_96425, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_96420, virt_num_tblocks_96426, num_tblocks_96427, mem_93295.mem, mem_93298.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_93295, "mem_93295") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93309, bytes_91672, "mem_93309")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93309.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93298.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &mem_93298, "mem_93298") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93320, bytes_91672, "mem_93320")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93320.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, ext_mem_93292.mem, (int64_t) 0, (int64_t []) {ext_93291, ext_93290}, (int64_t []) {n_45877, dim_45874})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93292, "ext_mem_93292") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93338, bytes_93337, "mem_93338")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96440 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_78057));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_78062(ctx, num_tblocks_78058, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_77171, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_78058, virt_num_tblocks_96440, grid_partitions_per_dim_mem_91597.mem, mem_93309.mem, mem_93320.mem, mem_93338.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_93309, "mem_93309") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_93320, "mem_93320") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_93383, &mem_93338, "mem_93338") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_93389, &ext_mem_93383, "ext_mem_93383") != 0)
                return 1;
        }
        if (memblock_alloc_device(ctx, &mem_93393, bytes_91651, "mem_93393")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96455 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_78086));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_78091(ctx, segmap_usable_groups_78087, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76994, 1, 1, (int64_t) 0, dim_45874, n_45877, ext_93387, ext_93388, grid_part_prefix_sum_mem_91595.mem, ext_mem_93389.mem, mem_93393.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_93389, "ext_mem_93389") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93404, bytes_91672, "mem_93404")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93404.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93393.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_93393, "mem_93393") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93406, (int64_t) 0, "mem_93406")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_93532, bytes_91600, "mem_93532")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96466 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_78097));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_78102(ctx, segmap_usable_groups_78098, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76965, 1, 1, (int64_t) 0, dim_45874, dz2080U_45875, n_45877, mem_93404.mem, mem_93406.mem, mem_93532.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_93404, "mem_93404") != 0)
            return 1;
        if (cond_65095) {
            if (memblock_alloc_device(ctx, &mem_93462, bytes_91651, "mem_93462")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_93465, &mem_93462, "mem_93462") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_93416, bytes_91651, "mem_93416")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96476 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_78117));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_78122(ctx, segmap_usable_groups_78118, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76895, 1, 1, (int64_t) 0, dim_45874, n_45877, start_of_grid_partition_mem_91598.mem, mem_93406.mem, mem_93416.mem, mem_93532.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96487 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_78132));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_78137(ctx, segmap_usable_groups_78133, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76869, 1, 1, (int64_t) 0, dim_45874, n_45877, xs_mem_91599.mem, mem_93416.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_93419, bytes_91661, "mem_93419")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_96498 = dim_45874 * n_45877;
            int64_t tblock_sizze_96503;
            
            tblock_sizze_96503 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96503;
            
            int64_t virt_num_tblocks_96504 = sdiv_up64(replicate_n_96498, tblock_sizze_96503);
            int64_t num_tblocks_96505 = smin64(virt_num_tblocks_96504, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_96499(ctx, num_tblocks_96505, 1, 1, tblock_sizze_96503, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_96498, virt_num_tblocks_96504, num_tblocks_96505, mem_93416.mem, mem_93419.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_93430, bytes_91672, "mem_93430")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93430.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93419.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_93419, "mem_93419") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_93441, bytes_91672, "mem_93441")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93441.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93416.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_93416, "mem_93416") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_93459, bytes_93458, "mem_93459")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96518 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_78154));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_78159(ctx, num_tblocks_78155, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76823, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_78155, virt_num_tblocks_96518, mem_93430.mem, mem_93441.mem, mem_93459.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_93430, "mem_93430") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93441, "mem_93441") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93465, &mem_93459, "mem_93459") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_93406, "mem_93406") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93468, bytes_91985, "mem_93468")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_93468, n_45877 * arg_65084, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_93487, bytes_92004, "mem_93487")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t ext_93512;
        int64_t ext_93511;
        int64_t ctx_param_ext_93470;
        int64_t ctx_param_ext_93471;
        
        if (memblock_set_device(ctx, &mem_param_93472, &mem_93468, "mem_93468") != 0)
            return 1;
        ctx_param_ext_93470 = arg_65084;
        ctx_param_ext_93471 = (int64_t) 1;
        for (int64_t i_78176 = 0; i_78176 < arg_65084; i_78176++) {
            bool y_78178 = slt64(i_78176, dim_45874);
            bool index_certs_78179;
            
            if (!y_78178) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_78176, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:288:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_78180 = add64((int64_t) 1, i_78176);
            int64_t j_m_i_78181 = sub64(dim_45874, map_arg1_78180);
            bool empty_slice_78182 = j_m_i_78181 == (int64_t) 0;
            int64_t m_78183 = sub64(j_m_i_78181, (int64_t) 1);
            int64_t i_p_m_t_s_78184 = add64(map_arg1_78180, m_78183);
            bool zzero_leq_i_p_m_t_s_78185 = sle64((int64_t) 0, i_p_m_t_s_78184);
            bool i_p_m_t_s_leq_w_78186 = slt64(i_p_m_t_s_78184, dim_45874);
            bool zzero_lte_i_78187 = sle64((int64_t) 0, map_arg1_78180);
            bool i_lte_j_78188 = sle64(map_arg1_78180, dim_45874);
            bool y_78189 = i_p_m_t_s_leq_w_78186 && zzero_lte_i_78187;
            bool y_78190 = zzero_leq_i_p_m_t_s_78185 && y_78189;
            bool forwards_ok_78191 = i_lte_j_78188 && y_78190;
            bool ok_or_empty_78192 = empty_slice_78182 || forwards_ok_78191;
            bool index_certs_78193;
            
            if (!ok_or_empty_78192) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_78180, ":", (long long) dim_45874, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:288:90-91\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_93475 = j_m_i_78181 * bytes_91600;
            int64_t binop_x_93492 = smax64((int64_t) 0, m_78183);
            int64_t binop_y_93493 = n_45877 * binop_x_93492;
            int64_t binop_y_93494 = smax64((int64_t) 0, binop_y_93493);
            int64_t binop_y_93495 = binop_x_91665 + binop_y_93494;
            int64_t binop_y_93496 = (int64_t) 1 + binop_y_93495;
            int64_t bytes_93497 = (int64_t) 8 * binop_y_93496;
            int64_t binop_y_93507 = binop_x_91665 + binop_y_92001;
            int64_t binop_y_93508 = (int64_t) 1 + binop_y_93507;
            int64_t bytes_93509 = (int64_t) 8 * binop_y_93508;
            int64_t nest_sizze_78201 = n_45877 * j_m_i_78181;
            int64_t segmap_usable_groups_78203 = sdiv_up64(nest_sizze_78201, segmap_tblock_sizze_78202);
            
            if (memblock_alloc_device(ctx, &mem_93476, bytes_93475, "mem_93476")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96536 = sext_i64_i32(sdiv_up64(n_45877 * j_m_i_78181, segmap_tblock_sizze_78202));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_78207(ctx, segmap_usable_groups_78203, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76740, 1, 1, (int64_t) 0, n_45877, map_arg1_78180, j_m_i_78181, ext_91706, ext_91707, ext_mem_93465.mem, mem_93476.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93487.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_param_93472.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_93470, ctx_param_ext_93471}, (int64_t []) {n_45877, arg_65084})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_93498, bytes_93497, "mem_93498")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93498.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93476.mem, (int64_t) 0, (int64_t []) {j_m_i_78181, (int64_t) 1}, (int64_t []) {n_45877, j_m_i_78181})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_93476, "mem_93476") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_93510, bytes_93509, "mem_93510")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96547 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_78212));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_78217(ctx, num_tblocks_78213, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76709, 1, 1, (int64_t) 0, n_45877, arg_65084, i_78176, j_m_i_78181, num_tblocks_78213, ext_91706, ext_91707, virt_num_tblocks_96547, ext_mem_93465.mem, mem_93487.mem, mem_93498.mem, mem_93510.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_93498, "mem_93498") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_96532, &mem_93510, "mem_93510") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_96533 = (int64_t) 1;
            int64_t ctx_param_ext_tmp_96534 = n_45877;
            
            if (memblock_set_device(ctx, &mem_param_93472, &mem_param_tmp_96532, "mem_param_tmp_96532") != 0)
                return 1;
            ctx_param_ext_93470 = ctx_param_ext_tmp_96533;
            ctx_param_ext_93471 = ctx_param_ext_tmp_96534;
        }
        if (memblock_set_device(ctx, &ext_mem_93514, &mem_param_93472, "mem_param_93472") != 0)
            return 1;
        ext_93512 = ctx_param_ext_93470;
        ext_93511 = ctx_param_ext_93471;
        if (memblock_unref_device(ctx, &ext_mem_93465, "ext_mem_93465") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93468, "mem_93468") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93487, "mem_93487") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93518, bytes_91985, "mem_93518")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96561 = sext_i64_i32(sdiv_up64(n_45877 * arg_65084, segmap_tblock_sizze_78236));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_78241(ctx, segmap_usable_groups_78237, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76673, 1, 1, (int64_t) 0, n_45877, arg_65084, ext_93511, ext_93512, angle_part_prefix_sum_mem_91593.mem, angle_partitions_per_dim_mem_91594.mem, ext_mem_93148.mem, ext_mem_93514.mem, mem_93518.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_93148, "ext_mem_93148") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93514, "ext_mem_93514") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93529, bytes_92004, "mem_93529")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93529.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_93518.mem, (int64_t) 0, (int64_t []) {arg_65084, (int64_t) 1}, (int64_t []) {n_45877, arg_65084})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_93518, "mem_93518") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_96572 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_78249));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_78253(ctx, segmap_usable_groups_78250, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_76645, 1, 1, (int64_t) 0, n_45877, total_angle_no_45884, arg_65084, mem_93529.mem, mem_93532.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_93529, "mem_93529") != 0)
            return 1;
        
        int64_t reduce_arg1_69643;
        
        if (x_66029) {
            int64_t read_res_99238;
            
            if ((err = gpu_scalar_from_device(ctx, &read_res_99238, mem_93532.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
                goto cleanup;
            if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t x_69644 = read_res_99238;
            
            reduce_arg1_69643 = x_69644;
        } else {
            reduce_arg1_69643 = (int64_t) 0;
        }
        if (cond_66028) {
            if (memblock_set_device(ctx, &ext_mem_94410, &xs_mem_91599, "xs_mem_91599") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_94406, &mem_91601, "mem_91601") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_93543, bytes_91672, "mem_93543")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93543.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, xs_mem_91599.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_93548, bytes_93547, "mem_93548")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_93553, (int64_t) 8, "mem_93553")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_93555, binop_x_91660, "mem_93555")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_93556, (int64_t) 8, "mem_93556")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegRed");
            
            int64_t chunk_sizze_96582 = (int64_t) 1;
            
            if (memblock_alloc_device(ctx, &segred_tmp_mem_96585, (int64_t) 8 * num_tblocks_78267, "segred_tmp_mem_96585")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_96587, (int64_t) 8 * (segred_tblock_sizze_78265 * num_tblocks_78267 * dim_45874), "segred_tmp_mem_96587")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_96589, (int64_t) 8 * num_tblocks_78267, "segred_tmp_mem_96589")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t num_threads_96591 = num_tblocks_78267 * segred_tblock_sizze_78265;
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_78274(ctx, num_tblocks_78267, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_78264, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_78265 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_78265, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * segred_tblock_sizze_78265 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_78265, (int64_t) 8), (int64_t) 8)), dim_45874, n_45877, reduce_arg1_69643, num_tblocks_78267, num_threads_93544, xs_mem_91599.mem, mem_93532.mem, mem_93543.mem, mem_93548.mem, mem_93553.mem, mem_93555.mem, mem_93556.mem, counters_mem_96583.mem, segred_tmp_mem_96585.mem, segred_tmp_mem_96587.mem, segred_tmp_mem_96589.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_93548, "mem_93548") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_93557, (int64_t) 8, "mem_93557")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_93558, (int64_t) 8, "mem_93558")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_96637(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_93553.mem, mem_93556.mem, mem_93557.mem, mem_93558.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_93553, "mem_93553") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93556, "mem_93556") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_93565, bytes_93564, "mem_93565")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_93582, bytes_93581, "mem_93582")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_93585, bytes_93564, "mem_93585")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_96643 = sext_i64_i32(sdiv_up64(x_67084 * block_sizze_65315, segmap_tblock_sizze_78586));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_78594(ctx, num_tblocks_78587, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78518, 1, 1, (int64_t) 0, dim_45874, n_45877, block_sizze_65315, x_67084, num_tblocks_78587, virt_num_tblocks_96643, mem_93532.mem, mem_93543.mem, mem_93555.mem, mem_93557.mem, mem_93558.mem, mem_93565.mem, mem_93582.mem, mem_93585.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_93543, "mem_93543") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93555, "mem_93555") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93557, "mem_93557") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93558, "mem_93558") != 0)
                return 1;
            if (cond_65354) {
                if (memblock_set_device(ctx, &ext_mem_93721, &mem_93565, "mem_93565") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_93718, &mem_93582, "mem_93582") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_93714, &mem_93585, "mem_93585") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_93596, bytes_93595, "mem_93596")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93596.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_67084}, mem_93565.mem, (int64_t) 0, (int64_t []) {block_sizze_65315, (int64_t) 1}, (int64_t []) {x_67084, block_sizze_65315})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_93613, bytes_93612, "mem_93613")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93613.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_67084 * dim_45874, x_67084}, mem_93582.mem, (int64_t) 0, (int64_t []) {block_sizze_65315, (int64_t) 1, block_sizze_65315 * x_67084}, (int64_t []) {x_67084, block_sizze_65315, dim_45874})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_93624, bytes_93595, "mem_93624")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93624.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_67084}, mem_93585.mem, (int64_t) 0, (int64_t []) {block_sizze_65315, (int64_t) 1}, (int64_t []) {x_67084, block_sizze_65315})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_93681, bytes_93680, "mem_93681")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_93698, bytes_93697, "mem_93698")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_93709, bytes_93708, "mem_93709")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &color_95757, total_sizze_95928, "color_95757")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &color_95758, total_sizze_95929, "color_95758")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_96658 = sext_i64_i32(sdiv_up64(x_67084, segmap_tblock_sizze_78617));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_78624(ctx, num_tblocks_78618, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_78354, 1, 1, (int64_t) 0, dim_45874, block_sizze_65315, distance_65357, x_67084, num_tblocks_78618, num_threads_95927, ctx_95940, virt_num_tblocks_96658, mem_93596.mem, mem_93613.mem, mem_93624.mem, mem_93681.mem, mem_93698.mem, mem_93709.mem, color_95757.mem, color_95758.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_93596, "mem_93596") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_93613, "mem_93613") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_93624, "mem_93624") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_95757, "color_95757") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_95758, "color_95758") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_93721, &mem_93681, "mem_93681") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_93718, &mem_93698, "mem_93698") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_93714, &mem_93709, "mem_93709") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_93565, "mem_93565") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93582, "mem_93582") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93585, "mem_93585") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_93724, bytes_93564, "mem_93724")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93724.mem, (int64_t) 0, (int64_t []) {block_sizze_65315, (int64_t) 1}, ext_mem_93721.mem, (int64_t) 0, (int64_t []) {ext_93720, ext_93719}, (int64_t []) {x_67084, block_sizze_65315})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_93721, "ext_mem_93721") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_93729, bytes_93728, "mem_93729")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93729.mem, (int64_t) 0, (int64_t []) {dim_45874 * block_sizze_65315, dim_45874, (int64_t) 1}, ext_mem_93718.mem, (int64_t) 0, (int64_t []) {ext_93720, ext_93716, ext_93715}, (int64_t []) {x_67084, block_sizze_65315, dim_45874})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_93718, "ext_mem_93718") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_93733, bytes_93564, "mem_93733")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93733.mem, (int64_t) 0, (int64_t []) {block_sizze_65315, (int64_t) 1}, ext_mem_93714.mem, (int64_t) 0, (int64_t []) {ext_93720, ext_93719}, (int64_t []) {x_67084, block_sizze_65315})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_93714, "ext_mem_93714") != 0)
                return 1;
            
            int64_t data_69767;
            bool data_69768;
            int64_t data_69772;
            int64_t loop_dz2084Uz2082U_69773;
            bool loop_while_69774;
            int64_t stride_69778;
            
            if (memblock_set_device(ctx, &mem_param_93737, &mem_93724, "mem_93724") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_93741, &mem_93729, "mem_93729") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_93744, &mem_93733, "mem_93733") != 0)
                return 1;
            loop_dz2084Uz2082U_69773 = flat_dim_65323;
            loop_while_69774 = loop_cond_65448;
            stride_69778 = block_sizze_65315;
            while (loop_while_69774) {
                int64_t next_stride_69779 = mul64((int64_t) 2, stride_69778);
                bool zzero_69780 = next_stride_69779 == (int64_t) 0;
                bool nonzzero_69781 = !zzero_69780;
                bool nonzzero_cert_69782;
                
                if (!nonzzero_69781) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:752:17-40\n   #4  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t num_merges_69783 = sdiv64(flat_dim_65323, next_stride_69779);
                bool bounds_invalid_upwards_69784 = slt64(num_merges_69783, (int64_t) 0);
                bool valid_69785 = !bounds_invalid_upwards_69784;
                bool range_valid_c_69786;
                
                if (!valid_69785) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_69783, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t m_69788 = sub64(next_stride_69779, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_69789 = sle64((int64_t) 0, m_69788);
                bool cond_69791 = slt64(next_stride_69779, (int64_t) 10);
                bool protect_assert_disj_69792 = nonzzero_65450 || cond_69791;
                bool nonzzero_cert_69793;
                
                if (!protect_assert_disj_69792) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zeze_lhs_69794 = smod_safe64(next_stride_69779, merge_block_sizze_65328);
                bool num_blocks_69795 = zeze_lhs_69794 == (int64_t) 0;
                bool protect_assert_disj_69796 = cond_69791 || num_blocks_69795;
                bool assert_c_69797;
                
                if (!protect_assert_disj_69796) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t num_blocks_69798 = sdiv_safe64(next_stride_69779, merge_block_sizze_65328);
                int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799 = add64((int64_t) 1, num_blocks_69798);
                int64_t j_m_i_69800 = sub64(next_stride_69779, stride_69778);
                int64_t flat_dim_69801 = merge_block_sizze_65328 * num_blocks_69798;
                bool bounds_invalid_upwards_69802 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, (int64_t) 0);
                bool empty_slice_69803 = j_m_i_69800 == (int64_t) 0;
                int64_t m_69804 = sub64(j_m_i_69800, (int64_t) 1);
                bool zzero_lte_i_69805 = sle64((int64_t) 0, stride_69778);
                bool i_lte_j_69806 = sle64(stride_69778, next_stride_69779);
                bool empty_slice_69807 = stride_69778 == (int64_t) 0;
                int64_t m_69808 = sub64(stride_69778, (int64_t) 1);
                bool bounds_invalid_upwards_69809 = slt64(num_blocks_69798, (int64_t) 0);
                bool cond_69810 = slt64((int64_t) 0, stride_69778);
                bool valid_69811 = !bounds_invalid_upwards_69802;
                int64_t i_p_m_t_s_69812 = add64(stride_69778, m_69804);
                bool zzero_leq_i_p_m_t_s_69813 = sle64((int64_t) 0, m_69808);
                bool i_p_m_t_s_leq_w_69814 = slt64(m_69808, next_stride_69779);
                bool valid_69815 = !bounds_invalid_upwards_69809;
                bool i_p_m_t_s_leq_w_69816 = slt64(m_69788, flat_dim_69801);
                bool y_69817 = slt64((int64_t) 0, j_m_i_69800);
                bool protect_assert_disj_69818 = cond_69791 || valid_69811;
                bool range_valid_c_69819;
                
                if (!protect_assert_disj_69818) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool zzero_leq_i_p_m_t_s_69820 = sle64((int64_t) 0, i_p_m_t_s_69812);
                bool i_p_m_t_s_leq_w_69821 = slt64(i_p_m_t_s_69812, next_stride_69779);
                bool y_69822 = zzero_leq_i_p_m_t_s_69813 && i_p_m_t_s_leq_w_69814;
                bool protect_assert_disj_69823 = cond_69791 || valid_69815;
                bool range_valid_c_69824;
                
                if (!protect_assert_disj_69823) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_69798, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool y_69825 = zzero_leq_i_p_m_t_s_69789 && i_p_m_t_s_leq_w_69816;
                bool y_69826 = zzero_lte_i_69805 && i_p_m_t_s_leq_w_69821;
                bool forwards_ok_69827 = zzero_lte_i_69805 && y_69822;
                bool ok_or_empty_69828 = zzero_69780 || y_69825;
                bool protect_assert_disj_69829 = cond_69810 || y_69817;
                bool y_69830 = zzero_leq_i_p_m_t_s_69820 && y_69826;
                bool ok_or_empty_69831 = empty_slice_69807 || forwards_ok_69827;
                bool protect_assert_disj_69832 = cond_69791 || ok_or_empty_69828;
                bool index_certs_69833;
                
                if (!protect_assert_disj_69832) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_69779, "] out of bounds for array of shape [", (long long) flat_dim_69801, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool loop_not_taken_69834 = !cond_69791;
                bool protect_assert_disj_69835 = protect_assert_disj_69829 || loop_not_taken_69834;
                bool index_certs_69836;
                
                if (!protect_assert_disj_69835) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_69800, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool forwards_ok_69837 = i_lte_j_69806 && y_69830;
                bool protect_assert_disj_69838 = cond_69791 || ok_or_empty_69831;
                bool index_certs_69839;
                
                if (!protect_assert_disj_69838) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_69778, "] out of bounds for array of shape [", (long long) next_stride_69779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool protect_assert_disj_69840 = ok_or_empty_69831 || loop_not_taken_69834;
                bool index_certs_69841;
                
                if (!protect_assert_disj_69840) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_69778, "] out of bounds for array of shape [", (long long) next_stride_69779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool ok_or_empty_69842 = empty_slice_69803 || forwards_ok_69837;
                bool protect_assert_disj_69843 = cond_69791 || ok_or_empty_69842;
                bool index_certs_69844;
                
                if (!protect_assert_disj_69843) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_69778, ":] out of bounds for array of shape [", (long long) next_stride_69779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool protect_assert_disj_69845 = loop_not_taken_69834 || ok_or_empty_69842;
                bool index_certs_69846;
                
                if (!protect_assert_disj_69845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_69778, ":] out of bounds for array of shape [", (long long) next_stride_69779, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t binop_x_93749 = (int64_t) 8 * num_merges_69783;
                int64_t bytes_93984 = next_stride_69779 * binop_x_93749;
                int64_t bytes_93991 = dim_45874 * bytes_93984;
                bool i_lte_j_69790 = sle64((int64_t) 0, next_stride_69779);
                int64_t intra_avail_par_78940 = smin64(num_blocks_69798, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799);
                int64_t computed_tblock_sizze_78694 = smax64(num_blocks_69798, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799);
                bool fits_78945 = sle64(computed_tblock_sizze_78694, max_tblock_sizze_83544);
                bool suff_intra_par_78943;
                
                suff_intra_par_78943 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_2 <= intra_avail_par_78940;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_2", (long) intra_avail_par_78940, suff_intra_par_78943 ? "true" : "false");
                
                bool intra_suff_and_fits_78946 = suff_intra_par_78943 && fits_78945;
                int64_t segmap_usable_groups_81491 = sdiv_up_safe64(num_merges_69783, segmap_tblock_sizze_81490);
                int64_t ext_94238;
                
                if (cond_69791) {
                    ext_94238 = (int64_t) 1;
                } else {
                    ext_94238 = next_stride_69779;
                }
                
                int64_t ext_94237;
                
                if (cond_69791) {
                    ext_94237 = num_merges_69783;
                } else {
                    ext_94237 = (int64_t) 1;
                }
                
                bool suff_intra_par_81682;
                
                suff_intra_par_81682 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_3 <= intra_avail_par_78940;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_3", (long) intra_avail_par_78940, suff_intra_par_81682 ? "true" : "false");
                
                bool intra_suff_and_fits_81683 = fits_78945 && suff_intra_par_81682;
                int64_t nest_sizze_81949 = num_merges_69783 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;
                int64_t nest_sizze_82062 = num_merges_69783 * num_blocks_69798;
                int64_t num_tblocks_82064;
                int64_t max_num_tblocks_96688;
                
                max_num_tblocks_96688 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_80683;
                num_tblocks_82064 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_82062, segmap_tblock_sizze_82063), max_num_tblocks_96688)));
                
                int64_t num_tblocks_82152;
                int64_t max_num_tblocks_96689;
                
                max_num_tblocks_96689 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_80590;
                num_tblocks_82152 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_82062, segmap_tblock_sizze_82151), max_num_tblocks_96689)));
                
                int64_t bytes_93750 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799 * binop_x_93749;
                int64_t binop_y_93755 = loop_dz2084Uz2082U_69773 - (int64_t) 1;
                int64_t binop_x_93757 = smax64((int64_t) 0, binop_y_93755);
                int64_t binop_y_93760 = loop_dz2084Uz2082U_69773 * binop_x_91667;
                int64_t binop_y_93761 = smax64((int64_t) 0, binop_y_93760);
                int64_t binop_y_93762 = binop_x_93757 + binop_y_93761;
                int64_t binop_y_93763 = (int64_t) 1 + binop_y_93762;
                int64_t bytes_93764 = (int64_t) 8 * binop_y_93763;
                int64_t bytes_93769 = num_blocks_69798 * binop_x_93749;
                int64_t binop_y_93774 = num_merges_69783 - (int64_t) 1;
                int64_t binop_x_93775 = smax64((int64_t) 0, binop_y_93774);
                int64_t binop_y_93776 = num_blocks_69798 * binop_x_93775;
                int64_t binop_x_93777 = smax64((int64_t) 0, binop_y_93776);
                int64_t binop_y_93778 = num_blocks_69798 - (int64_t) 1;
                int64_t binop_y_93780 = smax64((int64_t) 0, binop_y_93778);
                int64_t binop_x_93781 = binop_x_93777 + binop_y_93780;
                int64_t binop_y_93785 = nest_sizze_82062 * binop_x_91667;
                int64_t binop_y_93786 = smax64((int64_t) 0, binop_y_93785);
                int64_t binop_y_93787 = binop_x_93781 + binop_y_93786;
                int64_t binop_y_93788 = (int64_t) 1 + binop_y_93787;
                int64_t bytes_93789 = (int64_t) 8 * binop_y_93788;
                int64_t binop_x_93806 = num_merges_69783 * binop_x_93805;
                int64_t bytes_93807 = num_blocks_69798 * binop_x_93806;
                int64_t binop_x_93815 = num_merges_69783 * binop_x_93814;
                int64_t bytes_93816 = num_blocks_69798 * binop_x_93815;
                int64_t binop_y_93829 = nest_sizze_82062 * binop_x_93827;
                int64_t binop_y_93830 = smax64((int64_t) 0, binop_y_93829);
                int64_t binop_y_93831 = binop_x_93781 + binop_y_93830;
                int64_t binop_y_93832 = (int64_t) 1 + binop_y_93831;
                int64_t bytes_93833 = (int64_t) 8 * binop_y_93832;
                int64_t binop_y_93863 = dim_45874 * nest_sizze_82062;
                int64_t binop_y_93864 = binop_x_93827 * binop_y_93863;
                int64_t binop_y_93865 = smax64((int64_t) 0, binop_y_93864);
                int64_t binop_x_93866 = binop_x_93781 + binop_y_93865;
                int64_t binop_y_93872 = binop_y_93786 + binop_x_93866;
                int64_t binop_y_93873 = (int64_t) 1 + binop_y_93872;
                int64_t bytes_93874 = (int64_t) 8 * binop_y_93873;
                int64_t binop_y_93922 = binop_x_93781 + binop_y_93830;
                int64_t binop_y_93923 = (int64_t) 1 + binop_y_93922;
                int64_t bytes_93924 = (int64_t) 8 * binop_y_93923;
                int64_t binop_x_93940 = binop_x_93781 + binop_y_93865;
                int64_t binop_y_93946 = binop_y_93786 + binop_x_93940;
                int64_t binop_y_93947 = (int64_t) 1 + binop_y_93946;
                int64_t bytes_93948 = (int64_t) 8 * binop_y_93947;
                int64_t binop_y_93963 = binop_x_93781 + binop_y_93830;
                int64_t binop_y_93964 = (int64_t) 1 + binop_y_93963;
                int64_t bytes_93965 = (int64_t) 8 * binop_y_93964;
                int64_t bytes_93969 = merge_block_sizze_65328 * bytes_93769;
                int64_t bytes_93975 = dim_45874 * bytes_93969;
                int64_t lmad_ext_94076 = dim_45874 * next_stride_69779;
                int64_t bytes_93994 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799;
                int64_t bytes_94003 = (int64_t) 8 * num_blocks_69798;
                int64_t bytes_94008 = dim_45874 * bytes_94003;
                int64_t bytes_94021 = num_blocks_69798 * binop_x_93805;
                int64_t bytes_94028 = num_blocks_69798 * binop_x_93814;
                int64_t bytes_94057 = merge_block_sizze_65328 * bytes_94003;
                int64_t bytes_94061 = dim_45874 * bytes_94057;
                int64_t lmad_arg_94040 = dim_45874 * num_blocks_69798;
                int64_t bytes_94089 = dim_45874 * binop_x_93749;
                int64_t binop_x_94107 = (int64_t) 16 * stride_69778;
                int64_t bytes_94108 = num_merges_69783 * binop_x_94107;
                int64_t binop_x_94114 = dim_45874 * binop_x_94107;
                int64_t bytes_94115 = num_merges_69783 * binop_x_94114;
                int64_t binop_x_94121 = smax64((int64_t) 0, m_69788);
                int64_t binop_y_94122 = num_merges_69783 * binop_x_94121;
                int64_t binop_y_94123 = smax64((int64_t) 0, binop_y_94122);
                int64_t binop_y_94124 = binop_x_93775 + binop_y_94123;
                int64_t binop_y_94125 = (int64_t) 1 + binop_y_94124;
                int64_t bytes_94126 = (int64_t) 8 * binop_y_94125;
                int64_t binop_y_94144 = dim_45874 * num_merges_69783;
                int64_t binop_y_94145 = binop_x_94121 * binop_y_94144;
                int64_t binop_y_94146 = smax64((int64_t) 0, binop_y_94145);
                int64_t binop_x_94147 = binop_x_93775 + binop_y_94146;
                int64_t binop_y_94150 = num_merges_69783 * binop_x_91667;
                int64_t binop_y_94151 = smax64((int64_t) 0, binop_y_94150);
                int64_t binop_y_94152 = binop_x_94147 + binop_y_94151;
                int64_t binop_y_94153 = (int64_t) 1 + binop_y_94152;
                int64_t bytes_94154 = (int64_t) 8 * binop_y_94153;
                int64_t binop_y_94197 = binop_x_93775 + binop_y_94123;
                int64_t binop_y_94198 = (int64_t) 1 + binop_y_94197;
                int64_t bytes_94199 = (int64_t) 8 * binop_y_94198;
                int64_t binop_x_94209 = binop_x_93775 + binop_y_94146;
                int64_t binop_y_94214 = binop_y_94151 + binop_x_94209;
                int64_t binop_y_94215 = (int64_t) 1 + binop_y_94214;
                int64_t bytes_94216 = (int64_t) 8 * binop_y_94215;
                int64_t binop_y_94225 = binop_x_93775 + binop_y_94123;
                int64_t binop_y_94226 = (int64_t) 1 + binop_y_94225;
                int64_t bytes_94227 = (int64_t) 8 * binop_y_94226;
                int64_t ext_94379;
                int64_t shared_memory_capacity_96690;
                
                shared_memory_capacity_96690 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78946) {
                    ext_94379 = next_stride_69779;
                } else {
                    ext_94379 = ext_94238;
                }
                
                int64_t ext_94378;
                int64_t shared_memory_capacity_96691;
                
                shared_memory_capacity_96691 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78946) {
                    ext_94378 = (int64_t) 1;
                } else {
                    ext_94378 = ext_94237;
                }
                
                int64_t ext_94234;
                
                if (cond_69791) {
                    ext_94234 = binop_y_94144;
                } else {
                    ext_94234 = dim_45874;
                }
                
                int64_t ext_94375;
                int64_t shared_memory_capacity_96692;
                
                shared_memory_capacity_96692 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78946) {
                    ext_94375 = dim_45874;
                } else {
                    ext_94375 = ext_94234;
                }
                
                int64_t ext_94235;
                
                if (cond_69791) {
                    ext_94235 = (int64_t) 1;
                } else {
                    ext_94235 = lmad_ext_94076;
                }
                
                int64_t ext_94376;
                int64_t shared_memory_capacity_96693;
                
                shared_memory_capacity_96693 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78946) {
                    ext_94376 = lmad_ext_94076;
                } else {
                    ext_94376 = ext_94235;
                }
                
                int64_t maxSubHelper_95779 = umax64(bytes_94008, bytes_94057);
                int64_t maxSubHelper_95780 = umax64(bytes_94003, bytes_94061);
                int64_t maxSubHelper_95781 = umax64(bytes_94003, bytes_94057);
                int64_t maxSubHelper_95782 = umax64(bytes_93994, bytes_94028);
                int64_t maxSubHelper_95783 = umax64(bytes_93994, bytes_94021);
                int64_t maxSubHelper_95759 = umax64(bytes_94003, bytes_94028);
                int64_t maxSubHelper_95760 = umax64(bytes_94003, bytes_94021);
                int64_t maxSubHelper_95761 = umax64(bytes_93994, bytes_94021);
                int64_t shared_memory_capacity_97176;
                
                shared_memory_capacity_97176 = ctx->max_shared_memory;
                if (intra_suff_and_fits_78946 && sle64(sdiv_up64(binop_x_94114, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_94107, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_94107, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94057, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94061, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94057, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95759, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95760, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95761, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94003, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94003, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94003, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94003, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94008, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_93994, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_97176)) {
                    if (memblock_alloc_device(ctx, &mem_94362, bytes_93984, "mem_94362")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_94366, bytes_93991, "mem_94366")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_94369, bytes_93984, "mem_94369")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_96694 = sext_i64_i32(sdiv_up64(merge_block_sizze_65328 * dim_45874 * num_blocks_69798, computed_tblock_sizze_78694));
                    int32_t num_chunks_96695 = sext_i64_i32(sdiv_up64(merge_block_sizze_65328 * num_blocks_69798, computed_tblock_sizze_78694));
                    int32_t num_chunks_96696 = sext_i64_i32(sdiv_up64(next_stride_69779, computed_tblock_sizze_78694));
                    int32_t num_chunks_96697 = sext_i64_i32(sdiv_up64(next_stride_69779 * dim_45874, computed_tblock_sizze_78694));
                    int32_t num_chunks_96698 = sext_i64_i32(sdiv_up64(num_blocks_69798, computed_tblock_sizze_78694));
                    int32_t num_chunks_96699 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, computed_tblock_sizze_78694));
                    int32_t virt_num_tblocks_96700 = sext_i64_i32(num_merges_69783);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_78951(ctx, num_merges_69783, 1, 1, computed_tblock_sizze_78694, 1, 1, bytes_93994 + srem64((int64_t) 8 - srem64(bytes_93994, (int64_t) 8), (int64_t) 8) + (bytes_94008 + srem64((int64_t) 8 - srem64(bytes_94008, (int64_t) 8), (int64_t) 8)) + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8)) + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8)) + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8)) + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95761 + srem64((int64_t) 8 - srem64(maxSubHelper_95761, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95760 + srem64((int64_t) 8 - srem64(maxSubHelper_95760, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95759 + srem64((int64_t) 8 - srem64(maxSubHelper_95759, (int64_t) 8), (int64_t) 8)) + (bytes_94057 + srem64((int64_t) 8 - srem64(bytes_94057, (int64_t) 8), (int64_t) 8)) + (bytes_94061 + srem64((int64_t) 8 - srem64(bytes_94061, (int64_t) 8), (int64_t) 8)) + (bytes_94057 + srem64((int64_t) 8 - srem64(bytes_94057, (int64_t) 8), (int64_t) 8)) + (binop_x_94107 + srem64((int64_t) 8 - srem64(binop_x_94107, (int64_t) 8), (int64_t) 8)) + (binop_x_94107 + srem64((int64_t) 8 - srem64(binop_x_94107, (int64_t) 8), (int64_t) 8)) + (binop_x_94114 + srem64((int64_t) 8 - srem64(binop_x_94114, (int64_t) 8), (int64_t) 8)), dim_45874, merge_block_sizze_65328, loop_dz2084Uz2082U_69773, stride_69778, next_stride_69779, zzero_69780, num_merges_69783, m_69788, zzero_leq_i_p_m_t_s_69789, i_lte_j_69790, cond_69791, num_blocks_69798, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, j_m_i_69800, cond_69810, computed_tblock_sizze_78694, bytes_93994, bytes_94003, bytes_94008, lmad_arg_94040, bytes_94057, bytes_94061, binop_x_94107, binop_x_94114, maxSubHelper_95759, maxSubHelper_95760, maxSubHelper_95761, num_chunks_96694, num_chunks_96695, num_chunks_96696, num_chunks_96697, mem_param_93737.mem, mem_param_93741.mem, mem_param_93744.mem, mem_94362.mem, mem_94366.mem, mem_94369.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_94380, &mem_94362, "mem_94362") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_94377, &mem_94366, "mem_94366") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_94373, &mem_94369, "mem_94369") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_93746, (int64_t) 0, "mem_93746")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_93747, (int64_t) 0, "mem_93747")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_96819 = sext_i64_i32(sdiv_up64(num_merges_69783, segmap_tblock_sizze_81490));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_81496(ctx, segmap_usable_groups_81491, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_81464, 1, 1, (int64_t) 0, loop_dz2084Uz2082U_69773, next_stride_69779, zzero_69780, num_merges_69783, m_69788, zzero_leq_i_p_m_t_s_69789, i_lte_j_69790, mem_93746.mem, mem_93747.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (cond_69791) {
                        if (cond_69810) {
                            int64_t segmap_tblock_sizze_81524;
                            
                            segmap_tblock_sizze_81524 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79722;
                            
                            int64_t segmap_usable_groups_81525 = sdiv_up64(num_merges_69783, segmap_tblock_sizze_81524);
                            
                            if (memblock_alloc_device(ctx, &mem_94096, binop_x_93749, "mem_94096")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96828 = sext_i64_i32(sdiv_up64(num_merges_69783, segmap_tblock_sizze_81524));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81528(ctx, segmap_usable_groups_81525, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79722, 1, 1, (int64_t) 0, next_stride_69779, num_merges_69783, mem_param_93737.mem, mem_93746.mem, mem_93747.mem, mem_94096.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_81535;
                            
                            segmap_tblock_sizze_81535 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79709;
                            
                            int64_t segmap_usable_groups_81536 = sdiv_up64(binop_y_94144, segmap_tblock_sizze_81535);
                            
                            if (memblock_alloc_device(ctx, &mem_94100, bytes_94089, "mem_94100")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96837 = sext_i64_i32(sdiv_up64(num_merges_69783 * dim_45874, segmap_tblock_sizze_81535));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81540(ctx, segmap_usable_groups_81536, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79709, 1, 1, (int64_t) 0, dim_45874, next_stride_69779, num_merges_69783, mem_param_93741.mem, mem_93746.mem, mem_93747.mem, mem_94100.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_81546;
                            
                            segmap_tblock_sizze_81546 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79694;
                            
                            int64_t segmap_usable_groups_81547 = sdiv_up64(num_merges_69783, segmap_tblock_sizze_81546);
                            
                            if (memblock_alloc_device(ctx, &mem_94103, binop_x_93749, "mem_94103")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96848 = sext_i64_i32(sdiv_up64(num_merges_69783, segmap_tblock_sizze_81546));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81550(ctx, segmap_usable_groups_81547, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79694, 1, 1, (int64_t) 0, next_stride_69779, num_merges_69783, mem_param_93744.mem, mem_93746.mem, mem_93747.mem, mem_94103.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_94106, &mem_94096, "mem_94096") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94105, &mem_94100, "mem_94100") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94104, &mem_94103, "mem_94103") != 0)
                                return 1;
                        } else {
                            int64_t segmap_tblock_sizze_81559;
                            
                            segmap_tblock_sizze_81559 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79795;
                            
                            int64_t segmap_usable_groups_81560 = sdiv_up64(num_merges_69783, segmap_tblock_sizze_81559);
                            
                            if (memblock_alloc_device(ctx, &mem_94086, binop_x_93749, "mem_94086")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_94093, binop_x_93749, "mem_94093")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96857 = sext_i64_i32(sdiv_up64(num_merges_69783, segmap_tblock_sizze_81559));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81564(ctx, segmap_usable_groups_81560, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79795, 1, 1, (int64_t) 0, stride_69778, next_stride_69779, num_merges_69783, mem_param_93737.mem, mem_93746.mem, mem_93747.mem, mem_94086.mem, mem_94093.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_81572;
                            
                            segmap_tblock_sizze_81572 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79782;
                            
                            int64_t segmap_usable_groups_81573 = sdiv_up64(binop_y_94144, segmap_tblock_sizze_81572);
                            
                            if (memblock_alloc_device(ctx, &mem_94090, bytes_94089, "mem_94090")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96866 = sext_i64_i32(sdiv_up64(num_merges_69783 * dim_45874, segmap_tblock_sizze_81572));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81577(ctx, segmap_usable_groups_81573, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79782, 1, 1, (int64_t) 0, dim_45874, num_merges_69783, mem_param_93741.mem, mem_93746.mem, mem_93747.mem, mem_94090.mem, mem_94093.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_81583;
                            
                            segmap_tblock_sizze_81583 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79767;
                            
                            int64_t segmap_usable_groups_81584 = sdiv_up64(num_merges_69783, segmap_tblock_sizze_81583);
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_96877 = sext_i64_i32(sdiv_up64(num_merges_69783, segmap_tblock_sizze_81583));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81587(ctx, segmap_usable_groups_81584, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79767, 1, 1, (int64_t) 0, num_merges_69783, mem_param_93744.mem, mem_93746.mem, mem_93747.mem, mem_94093.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_94106, &mem_94086, "mem_94086") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94105, &mem_94090, "mem_94090") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94104, &mem_94093, "mem_94093") != 0)
                                return 1;
                        }
                        if (memblock_alloc_device(ctx, &mem_94109, bytes_94108, "mem_94109")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96886 = next_stride_69779 * num_merges_69783;
                        int64_t tblock_sizze_96891;
                        
                        tblock_sizze_96891 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96891;
                        
                        int64_t virt_num_tblocks_96892 = sdiv_up64(replicate_n_96886, tblock_sizze_96891);
                        int64_t num_tblocks_96893 = smin64(virt_num_tblocks_96892, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96887(ctx, num_tblocks_96893, 1, 1, tblock_sizze_96891, 1, 1, (int64_t) 0, next_stride_69779, num_merges_69783, replicate_n_96886, virt_num_tblocks_96892, num_tblocks_96893, ext_mem_94106.mem, mem_94109.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_94106, "ext_mem_94106") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_94112, bytes_94108, "mem_94112")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96906 = next_stride_69779 * num_merges_69783;
                        int64_t tblock_sizze_96911;
                        
                        tblock_sizze_96911 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96911;
                        
                        int64_t virt_num_tblocks_96912 = sdiv_up64(replicate_n_96906, tblock_sizze_96911);
                        int64_t num_tblocks_96913 = smin64(virt_num_tblocks_96912, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96907(ctx, num_tblocks_96913, 1, 1, tblock_sizze_96911, 1, 1, (int64_t) 0, next_stride_69779, num_merges_69783, replicate_n_96906, virt_num_tblocks_96912, num_tblocks_96913, ext_mem_94104.mem, mem_94112.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_94104, "ext_mem_94104") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_94116, bytes_94115, "mem_94116")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_96926 = next_stride_69779 * dim_45874 * num_merges_69783;
                        int64_t tblock_sizze_96931;
                        
                        tblock_sizze_96931 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_96931;
                        
                        int64_t virt_num_tblocks_96932 = sdiv_up64(replicate_n_96926, tblock_sizze_96931);
                        int64_t num_tblocks_96933 = smin64(virt_num_tblocks_96932, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_96927(ctx, num_tblocks_96933, 1, 1, tblock_sizze_96931, 1, 1, (int64_t) 0, dim_45874, next_stride_69779, num_merges_69783, replicate_n_96926, virt_num_tblocks_96932, num_tblocks_96933, ext_mem_94105.mem, mem_94116.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_94105, "ext_mem_94105") != 0)
                            return 1;
                        
                        int64_t segmap_tblock_sizze_81605;
                        
                        segmap_tblock_sizze_81605 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79598;
                        
                        int64_t num_tblocks_81606;
                        int64_t max_num_tblocks_96949;
                        
                        max_num_tblocks_96949 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_79600;
                        num_tblocks_81606 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(num_merges_69783, segmap_tblock_sizze_81605), max_num_tblocks_96949)));
                        if (memblock_alloc_device(ctx, &mem_94127, bytes_94126, "mem_94127")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94127.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_69783}, mem_94109.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_69783}, (int64_t []) {num_merges_69783, next_stride_69779})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_94109, "mem_94109") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_94138, bytes_94126, "mem_94138")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94138.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_69783}, mem_94112.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_69783}, (int64_t []) {num_merges_69783, next_stride_69779})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_94112, "mem_94112") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_94155, bytes_94154, "mem_94155")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_94155.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_69783 * dim_45874, num_merges_69783}, mem_94116.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_69783 * dim_45874, num_merges_69783}, (int64_t []) {num_merges_69783, next_stride_69779, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_94116, "mem_94116") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_94166, bytes_93764, "mem_94166")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94166.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_69773}, mem_param_93741.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_69773, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_94200, bytes_94199, "mem_94200")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_94217, bytes_94216, "mem_94217")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_94228, bytes_94227, "mem_94228")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_96950 = sext_i64_i32(sdiv_up64(num_merges_69783, segmap_tblock_sizze_81605));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_81612(ctx, num_tblocks_81606, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_79598, 1, 1, (int64_t) 0, dim_45874, loop_dz2084Uz2082U_69773, stride_69778, next_stride_69779, num_merges_69783, j_m_i_69800, num_tblocks_81606, binop_y_94144, virt_num_tblocks_96950, mem_param_93737.mem, mem_param_93744.mem, mem_93746.mem, mem_93747.mem, mem_94127.mem, mem_94138.mem, mem_94155.mem, mem_94166.mem, mem_94200.mem, mem_94217.mem, mem_94228.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_94127, "mem_94127") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_94138, "mem_94138") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_94155, "mem_94155") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_94166, "mem_94166") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_94239, &mem_94200, "mem_94200") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_94236, &mem_94217, "mem_94217") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_94232, &mem_94228, "mem_94228") != 0)
                            return 1;
                    } else {
                        int64_t shared_memory_capacity_97175;
                        
                        shared_memory_capacity_97175 = ctx->max_shared_memory;
                        if (intra_suff_and_fits_81683 && sle64(sdiv_up64(maxSubHelper_95779, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95780, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95781, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95782, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95783, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94021, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94003, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94003, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94003, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_94003, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_97175)) {
                            if (memblock_alloc_device(ctx, &mem_94068, bytes_93984, "mem_94068")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_94072, bytes_93991, "mem_94072")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_94075, bytes_93984, "mem_94075")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t num_chunks_96967 = sext_i64_i32(sdiv_up64(merge_block_sizze_65328 * dim_45874 * num_blocks_69798, computed_tblock_sizze_78694));
                            int32_t num_chunks_96968 = sext_i64_i32(sdiv_up64(merge_block_sizze_65328 * num_blocks_69798, computed_tblock_sizze_78694));
                            int32_t num_chunks_96969 = sext_i64_i32(sdiv_up64(num_blocks_69798, computed_tblock_sizze_78694));
                            int32_t num_chunks_96970 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, computed_tblock_sizze_78694));
                            int32_t virt_num_tblocks_96971 = sext_i64_i32(num_merges_69783);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_81691(ctx, num_merges_69783, 1, 1, computed_tblock_sizze_78694, 1, 1, bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8) + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8)) + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8)) + (bytes_94003 + srem64((int64_t) 8 - srem64(bytes_94003, (int64_t) 8), (int64_t) 8)) + (bytes_94021 + srem64((int64_t) 8 - srem64(bytes_94021, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95783 + srem64((int64_t) 8 - srem64(maxSubHelper_95783, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95782 + srem64((int64_t) 8 - srem64(maxSubHelper_95782, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95781 + srem64((int64_t) 8 - srem64(maxSubHelper_95781, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95780 + srem64((int64_t) 8 - srem64(maxSubHelper_95780, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95779 + srem64((int64_t) 8 - srem64(maxSubHelper_95779, (int64_t) 8), (int64_t) 8)), dim_45874, merge_block_sizze_65328, stride_69778, next_stride_69779, num_merges_69783, num_blocks_69798, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, j_m_i_69800, computed_tblock_sizze_78694, bytes_94003, bytes_94021, lmad_arg_94040, maxSubHelper_95779, maxSubHelper_95780, maxSubHelper_95781, maxSubHelper_95782, maxSubHelper_95783, num_chunks_96967, num_chunks_96968, mem_param_93737.mem, mem_param_93741.mem, mem_param_93744.mem, mem_93746.mem, mem_93747.mem, mem_94068.mem, mem_94072.mem, mem_94075.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_94081, &mem_94068, "mem_94068") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94080, &mem_94072, "mem_94072") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94078, &mem_94075, "mem_94075") != 0)
                                return 1;
                        } else {
                            int64_t segmap_usable_groups_81951 = sdiv_up64(nest_sizze_81949, segmap_tblock_sizze_81950);
                            
                            if (memblock_alloc_device(ctx, &mem_93751, bytes_93750, "mem_93751")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93754, bytes_93750, "mem_93754")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97052 = sext_i64_i32(sdiv_up64(num_merges_69783 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, segmap_tblock_sizze_81950));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_81956(ctx, segmap_usable_groups_81951, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80929, 1, 1, (int64_t) 0, merge_block_sizze_65328, stride_69778, next_stride_69779, num_merges_69783, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, j_m_i_69800, mem_param_93737.mem, mem_93746.mem, mem_93747.mem, mem_93751.mem, mem_93754.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_93765, bytes_93764, "mem_93765")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93765.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_69773}, mem_param_93741.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_69773, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_93770, bytes_93769, "mem_93770")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93773, bytes_93769, "mem_93773")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93790, bytes_93789, "mem_93790")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93793, bytes_93769, "mem_93793")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93796, bytes_93769, "mem_93796")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93799, bytes_93769, "mem_93799")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93800, (int64_t) 0, "mem_93800")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93803, bytes_93769, "mem_93803")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93804, (int64_t) 0, "mem_93804")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97069 = sext_i64_i32(sdiv_up64(num_merges_69783 * num_blocks_69798, segmap_tblock_sizze_82063));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_82077(ctx, num_tblocks_82064, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80681, 1, 1, (int64_t) 0, dim_45874, loop_dz2084Uz2082U_69773, stride_69778, next_stride_69779, num_merges_69783, num_blocks_69798, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_69799, num_tblocks_82064, virt_num_tblocks_97069, mem_param_93737.mem, mem_param_93744.mem, mem_93746.mem, mem_93747.mem, mem_93751.mem, mem_93754.mem, mem_93765.mem, mem_93770.mem, mem_93773.mem, mem_93790.mem, mem_93793.mem, mem_93796.mem, mem_93799.mem, mem_93800.mem, mem_93803.mem, mem_93804.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_93751, "mem_93751") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93754, "mem_93754") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93808, bytes_93807, "mem_93808")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_97084 = merge_block_sizze_65328 * num_merges_69783 * num_blocks_69798;
                            int64_t tblock_sizze_97089;
                            
                            tblock_sizze_97089 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97089;
                            
                            int64_t virt_num_tblocks_97090 = sdiv_up64(replicate_n_97084, tblock_sizze_97089);
                            int64_t num_tblocks_97091 = smin64(virt_num_tblocks_97090, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97085(ctx, num_tblocks_97091, 1, 1, tblock_sizze_97089, 1, 1, (int64_t) 0, merge_block_sizze_65328, num_merges_69783, num_blocks_69798, replicate_n_97084, virt_num_tblocks_97090, num_tblocks_97091, mem_93770.mem, mem_93808.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_93770, "mem_93770") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93812, bytes_93807, "mem_93812")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_97107 = merge_block_sizze_65328 * num_merges_69783 * num_blocks_69798;
                            int64_t tblock_sizze_97112;
                            
                            tblock_sizze_97112 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97112;
                            
                            int64_t virt_num_tblocks_97113 = sdiv_up64(replicate_n_97107, tblock_sizze_97112);
                            int64_t num_tblocks_97114 = smin64(virt_num_tblocks_97113, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97108(ctx, num_tblocks_97114, 1, 1, tblock_sizze_97112, 1, 1, (int64_t) 0, merge_block_sizze_65328, num_merges_69783, num_blocks_69798, replicate_n_97107, virt_num_tblocks_97113, num_tblocks_97114, mem_93773.mem, mem_93812.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_93773, "mem_93773") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93817, bytes_93816, "mem_93817")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_97130 = merge_block_sizze_65328 * dim_45874 * num_merges_69783 * num_blocks_69798;
                            int64_t tblock_sizze_97135;
                            
                            tblock_sizze_97135 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97135;
                            
                            int64_t virt_num_tblocks_97136 = sdiv_up64(replicate_n_97130, tblock_sizze_97135);
                            int64_t num_tblocks_97137 = smin64(virt_num_tblocks_97136, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97131(ctx, num_tblocks_97137, 1, 1, tblock_sizze_97135, 1, 1, (int64_t) 0, dim_45874, merge_block_sizze_65328, num_merges_69783, num_blocks_69798, replicate_n_97130, virt_num_tblocks_97136, num_tblocks_97137, mem_93790.mem, mem_93817.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_93790, "mem_93790") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93834, bytes_93833, "mem_93834")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93834.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783}, mem_93808.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783}, (int64_t []) {num_merges_69783, num_blocks_69798, merge_block_sizze_65328})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93808, "mem_93808") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93851, bytes_93833, "mem_93851")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93851.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783}, mem_93812.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783}, (int64_t []) {num_merges_69783, num_blocks_69798, merge_block_sizze_65328})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93812, "mem_93812") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93875, bytes_93874, "mem_93875")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_93875.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783 * dim_45874, num_blocks_69798 * num_merges_69783}, mem_93817.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783 * dim_45874, num_blocks_69798 * num_merges_69783}, (int64_t []) {num_merges_69783, num_blocks_69798, merge_block_sizze_65328, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93817, "mem_93817") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93925, bytes_93924, "mem_93925")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93949, bytes_93948, "mem_93949")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_93966, bytes_93965, "mem_93966")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97156 = sext_i64_i32(sdiv_up64(num_merges_69783 * num_blocks_69798, segmap_tblock_sizze_82151));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_82159(ctx, num_tblocks_82152, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_80588, 1, 1, (int64_t) 0, dim_45874, merge_block_sizze_65328, loop_dz2084Uz2082U_69773, next_stride_69779, num_merges_69783, num_blocks_69798, nest_sizze_82062, num_tblocks_82152, binop_y_93863, virt_num_tblocks_97156, mem_param_93737.mem, mem_param_93744.mem, mem_93746.mem, mem_93747.mem, mem_93765.mem, mem_93793.mem, mem_93796.mem, mem_93799.mem, mem_93800.mem, mem_93803.mem, mem_93804.mem, mem_93834.mem, mem_93851.mem, mem_93875.mem, mem_93925.mem, mem_93949.mem, mem_93966.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_93765, "mem_93765") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93793, "mem_93793") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93796, "mem_93796") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93799, "mem_93799") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93800, "mem_93800") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93803, "mem_93803") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93804, "mem_93804") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93834, "mem_93834") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93851, "mem_93851") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_93875, "mem_93875") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93970, bytes_93969, "mem_93970")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93970.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_65328 * num_blocks_69798, merge_block_sizze_65328, (int64_t) 1}, mem_93925.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783}, (int64_t []) {num_merges_69783, num_blocks_69798, merge_block_sizze_65328})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93925, "mem_93925") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93976, bytes_93975, "mem_93976")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_93976.mem, (int64_t) 0, (int64_t []) {dim_45874 * merge_block_sizze_65328 * num_blocks_69798, dim_45874 * merge_block_sizze_65328, dim_45874, (int64_t) 1}, mem_93949.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783 * dim_45874, num_blocks_69798 * num_merges_69783}, (int64_t []) {num_merges_69783, num_blocks_69798, merge_block_sizze_65328, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93949, "mem_93949") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93981, bytes_93969, "mem_93981")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93981.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_65328 * num_blocks_69798, merge_block_sizze_65328, (int64_t) 1}, mem_93966.mem, (int64_t) 0, (int64_t []) {num_blocks_69798, (int64_t) 1, num_blocks_69798 * num_merges_69783}, (int64_t []) {num_merges_69783, num_blocks_69798, merge_block_sizze_65328})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93966, "mem_93966") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93985, bytes_93984, "mem_93985")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93985.mem, (int64_t) 0, (int64_t []) {next_stride_69779, (int64_t) 1}, mem_93970.mem, (int64_t) 0, (int64_t []) {flat_dim_69801, (int64_t) 1}, (int64_t []) {num_merges_69783, next_stride_69779})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93970, "mem_93970") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93988, bytes_93984, "mem_93988")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93988.mem, (int64_t) 0, (int64_t []) {next_stride_69779, (int64_t) 1}, mem_93981.mem, (int64_t) 0, (int64_t []) {flat_dim_69801, (int64_t) 1}, (int64_t []) {num_merges_69783, next_stride_69779})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93981, "mem_93981") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_93992, bytes_93991, "mem_93992")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93992.mem, (int64_t) 0, (int64_t []) {dim_45874 * next_stride_69779, dim_45874, (int64_t) 1}, mem_93976.mem, (int64_t) 0, (int64_t []) {dim_45874 * flat_dim_69801, dim_45874, (int64_t) 1}, (int64_t []) {num_merges_69783, next_stride_69779, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_93976, "mem_93976") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94081, &mem_93985, "mem_93985") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94080, &mem_93992, "mem_93992") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_94078, &mem_93988, "mem_93988") != 0)
                                return 1;
                        }
                        if (memblock_set_device(ctx, &ext_mem_94239, &ext_mem_94081, "ext_mem_94081") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_94236, &ext_mem_94080, "ext_mem_94080") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_94232, &ext_mem_94078, "ext_mem_94078") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_93746, "mem_93746") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_93747, "mem_93747") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_94380, &ext_mem_94239, "ext_mem_94239") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_94377, &ext_mem_94236, "ext_mem_94236") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_94373, &ext_mem_94232, "ext_mem_94232") != 0)
                        return 1;
                }
                
                int64_t flat_dim_70170 = next_stride_69779 * num_merges_69783;
                
                if (memblock_alloc_device(ctx, &mem_94383, bytes_93984, "mem_94383")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94383.mem, (int64_t) 0, (int64_t []) {next_stride_69779, (int64_t) 1}, ext_mem_94380.mem, (int64_t) 0, (int64_t []) {ext_94379, ext_94378}, (int64_t []) {num_merges_69783, next_stride_69779})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_94380, "ext_mem_94380") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_94388, bytes_93991, "mem_94388")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_94388.mem, (int64_t) 0, (int64_t []) {dim_45874 * next_stride_69779, dim_45874, (int64_t) 1}, ext_mem_94377.mem, (int64_t) 0, (int64_t []) {ext_94376, ext_94375, ext_94378}, (int64_t []) {num_merges_69783, next_stride_69779, dim_45874})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_94377, "ext_mem_94377") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_94392, bytes_93984, "mem_94392")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94392.mem, (int64_t) 0, (int64_t []) {next_stride_69779, (int64_t) 1}, ext_mem_94373.mem, (int64_t) 0, (int64_t []) {ext_94379, ext_94378}, (int64_t []) {num_merges_69783, next_stride_69779})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_94373, "ext_mem_94373") != 0)
                    return 1;
                
                bool loop_cond_70174 = slt64(next_stride_69779, flat_dim_65323);
                
                if (memblock_set_device(ctx, &mem_param_tmp_96679, &mem_94383, "mem_94383") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_96680, &mem_94388, "mem_94388") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_96681, &mem_94392, "mem_94392") != 0)
                    return 1;
                
                int64_t loop_dz2084Uz2082U_tmp_96682 = flat_dim_70170;
                bool loop_while_tmp_96683 = loop_cond_70174;
                int64_t stride_tmp_96687 = next_stride_69779;
                
                if (memblock_set_device(ctx, &mem_param_93737, &mem_param_tmp_96679, "mem_param_tmp_96679") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_93741, &mem_param_tmp_96680, "mem_param_tmp_96680") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_93744, &mem_param_tmp_96681, "mem_param_tmp_96681") != 0)
                    return 1;
                loop_dz2084Uz2082U_69773 = loop_dz2084Uz2082U_tmp_96682;
                loop_while_69774 = loop_while_tmp_96683;
                stride_69778 = stride_tmp_96687;
            }
            if (memblock_set_device(ctx, &ext_mem_94403, &mem_param_93737, "mem_param_93737") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_94402, &mem_param_93741, "mem_param_93741") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_94401, &mem_param_93744, "mem_param_93744") != 0)
                return 1;
            data_69767 = loop_dz2084Uz2082U_69773;
            data_69768 = loop_while_69774;
            data_69772 = stride_69778;
            if (memblock_unref_device(ctx, &mem_93724, "mem_93724") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93729, "mem_93729") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_93733, "mem_93733") != 0)
                return 1;
            
            bool i_p_m_t_s_leq_w_70175 = slt64(zs_lhs_66030, data_69767);
            bool y_70176 = zzero_leq_i_p_m_t_s_66684 && i_p_m_t_s_leq_w_70175;
            bool ok_or_empty_70177 = empty_slice_66683 || y_70176;
            bool index_certs_70178;
            
            if (!ok_or_empty_70177) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_45877, "] out of bounds for array of shape [", (long long) data_69767, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_94410, &ext_mem_94402, "ext_mem_94402") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_94406, &ext_mem_94401, "ext_mem_94401") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_93532, "mem_93532") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94412, bytes_91600, "mem_94412")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_94412.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_94406.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_45877})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_94406, "ext_mem_94406") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94415, bytes_91651, "mem_94415")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94415.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, ext_mem_94410.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_94410, "ext_mem_94410") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_94417, &mem_94415, "mem_94415") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_94416, &mem_94412, "mem_94412") != 0)
            return 1;
    } else {
        if (cond_65097) {
            if (memblock_alloc_device(ctx, &mem_91645, bytes_91614, "mem_91645")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91648, &mem_91645, "mem_91645") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_91637, bytes_91614, "mem_91637")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhreplicate_f64(ctx, mem_91637, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, defunc_0_f_res_65113) != 0) {
                err = 1;
                goto cleanup;
            }
            for (int64_t i_65872 = 0; i_65872 < distance_65116; i_65872++) {
                int64_t index_primexp_65874 = add64((int64_t) 1, i_65872);
                bool x_65875 = sle64((int64_t) 0, index_primexp_65874);
                bool y_65876 = slt64(index_primexp_65874, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876);
                bool bounds_check_65877 = x_65875 && y_65876;
                bool index_certs_65878;
                
                if (!bounds_check_65877) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_primexp_65874, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, "].", "-> #0  ftbasics.fut:124:23-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:193:67-73\n   #3  ftSkyline.fut:293:89-90\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftSkyline.fut:752:17-40\n   #6  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double defunc_0_f_res_65879;
                
                if (futrts_lifted_lambda_10151(ctx, &defunc_0_f_res_65879, angle_partitions_per_dim_mem_91594, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, dim_45874, index_primexp_65874) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                double write_tmp_99239 = defunc_0_f_res_65879;
                
                if ((err = gpu_scalar_to_device(ctx, mem_91637.mem, index_primexp_65874 * sizeof(double), sizeof(double), &write_tmp_99239)) != 0)
                    goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91648, &mem_91637, "mem_91637") != 0)
                return 1;
        }
        if (cond_65095) {
            if (memblock_alloc_device(ctx, &mem_91886, bytes_91651, "mem_91886")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91889, &mem_91886, "mem_91886") != 0)
                return 1;
        } else {
            int64_t shared_memory_capacity_97369;
            
            shared_memory_capacity_97369 = ctx->max_shared_memory;
            if (intra_suff_and_fits_83548 && sle64(sdiv_up64(maxSubHelper_95796, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_97369)) {
                if (memblock_alloc_device(ctx, &mem_91880, bytes_91651, "mem_91880")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t num_chunks_97178 = sext_i64_i32(sdiv_up64(dim_45874, dim_45874));
                int32_t virt_num_tblocks_97179 = sext_i64_i32(n_45877);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_83552(ctx, n_45877, 1, 1, dim_45874, 1, 1, binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95796 + srem64((int64_t) 8 - srem64(maxSubHelper_95796, (int64_t) 8), (int64_t) 8)), dim_45874, n_45877, arg_65084, cond_65095, binop_x_91660, maxSubHelper_95796, grid_part_sizze_per_dim_mem_91596.mem, grid_partitions_per_dim_mem_91597.mem, start_of_grid_partition_mem_91598.mem, xs_mem_91599.mem, mem_91633.mem, mem_91880.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_set_device(ctx, &ext_mem_91883, &mem_91880, "mem_91880") != 0)
                    return 1;
            } else {
                if (cond_65095) {
                    if (memblock_alloc_device(ctx, &mem_91789, bytes_91651, "mem_91789")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_set_device(ctx, &ext_mem_91792, &mem_91789, "mem_91789") != 0)
                        return 1;
                } else {
                    int64_t shared_memory_capacity_97325;
                    
                    shared_memory_capacity_97325 = ctx->max_shared_memory;
                    if (intra_suff_and_fits_83624 && sle64(sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_97325)) {
                        if (memblock_alloc_device(ctx, &mem_91783, bytes_91651, "mem_91783")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_97199 = sext_i64_i32(sdiv_up64(dim_45874, dim_45874));
                        int32_t virt_num_tblocks_97200 = sext_i64_i32(n_45877);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_83628(ctx, n_45877, 1, 1, dim_45874, 1, 1, binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)), dim_45874, n_45877, arg_65084, cond_65095, binop_x_91660, grid_part_sizze_per_dim_mem_91596.mem, start_of_grid_partition_mem_91598.mem, xs_mem_91599.mem, mem_91783.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_91786, &mem_91783, "mem_91783") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_91656, bytes_91651, "mem_91656")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_97217 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_83679));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83684(ctx, segmap_usable_groups_83680, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83227, 1, 1, (int64_t) 0, dim_45874, n_45877, start_of_grid_partition_mem_91598.mem, xs_mem_91599.mem, mem_91656.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_97228 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_83695));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83700(ctx, segmap_usable_groups_83696, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83194, 1, 1, (int64_t) 0, dim_45874, n_45877, grid_part_sizze_per_dim_mem_91596.mem, mem_91656.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (cond_65095) {
                            if (memblock_alloc_device(ctx, &mem_91705, bytes_91651, "mem_91705")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_set_device(ctx, &ext_mem_91708, &mem_91705, "mem_91705") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_91659, bytes_91600, "mem_91659")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97239 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83708));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83712(ctx, segmap_usable_groups_83709, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83140, 1, 1, (int64_t) 0, dim_45874, n_45877, mem_91656.mem, mem_91659.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_91662, bytes_91661, "mem_91662")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_97248 = dim_45874 * n_45877;
                            int64_t tblock_sizze_97253;
                            
                            tblock_sizze_97253 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97253;
                            
                            int64_t virt_num_tblocks_97254 = sdiv_up64(replicate_n_97248, tblock_sizze_97253);
                            int64_t num_tblocks_97255 = smin64(virt_num_tblocks_97254, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97249(ctx, num_tblocks_97255, 1, 1, tblock_sizze_97253, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_97248, virt_num_tblocks_97254, num_tblocks_97255, mem_91659.mem, mem_91662.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_91659, "mem_91659") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91673, bytes_91672, "mem_91673")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91673.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91662.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_91662, "mem_91662") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_91684, bytes_91672, "mem_91684")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91684.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91656.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_91702, bytes_91701, "mem_91702")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97268 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83720));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83725(ctx, num_tblocks_83721, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83114, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_83721, virt_num_tblocks_97268, mem_91673.mem, mem_91684.mem, mem_91702.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_91673, "mem_91673") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_91684, "mem_91684") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_91708, &mem_91702, "mem_91702") != 0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_91656, "mem_91656") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91711, bytes_91600, "mem_91711")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_97282 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83741));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83745(ctx, segmap_usable_groups_83742, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83082, 1, 1, (int64_t) 0, n_45877, ext_91707, ext_mem_91708.mem, mem_91711.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_91714, bytes_91661, "mem_91714")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97291 = dim_45874 * n_45877;
                        int64_t tblock_sizze_97296;
                        
                        tblock_sizze_97296 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97296;
                        
                        int64_t virt_num_tblocks_97297 = sdiv_up64(replicate_n_97291, tblock_sizze_97296);
                        int64_t num_tblocks_97298 = smin64(virt_num_tblocks_97297, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97292(ctx, num_tblocks_97298, 1, 1, tblock_sizze_97296, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_97291, virt_num_tblocks_97297, num_tblocks_97298, mem_91711.mem, mem_91714.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_91711, "mem_91711") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91725, bytes_91672, "mem_91725")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91725.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91714.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_91714, "mem_91714") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91736, bytes_91672, "mem_91736")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91736.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, ext_mem_91708.mem, (int64_t) 0, (int64_t []) {ext_91707, ext_91706}, (int64_t []) {n_45877, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &ext_mem_91708, "ext_mem_91708") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_91754, bytes_91753, "mem_91754")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_97311 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83753));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83758(ctx, num_tblocks_83754, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_83056, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_83754, virt_num_tblocks_97311, mem_91725.mem, mem_91736.mem, mem_91754.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_91725, "mem_91725") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_91736, "mem_91736") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_91786, &mem_91754, "mem_91754") != 0)
                            return 1;
                    }
                    if (memblock_set_device(ctx, &ext_mem_91792, &ext_mem_91786, "ext_mem_91786") != 0)
                        return 1;
                }
                if (memblock_alloc_device(ctx, &mem_91795, bytes_91600, "mem_91795")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_97326 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83774));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_83778(ctx, segmap_usable_groups_83775, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82929, 1, 1, (int64_t) 0, n_45877, ext_91791, mem_91633.mem, ext_mem_91792.mem, mem_91795.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_91798, bytes_91661, "mem_91798")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t replicate_n_97335 = dim_45874 * n_45877;
                int64_t tblock_sizze_97340;
                
                tblock_sizze_97340 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97340;
                
                int64_t virt_num_tblocks_97341 = sdiv_up64(replicate_n_97335, tblock_sizze_97340);
                int64_t num_tblocks_97342 = smin64(virt_num_tblocks_97341, (int64_t) 1048576);
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezireplicate_97336(ctx, num_tblocks_97342, 1, 1, tblock_sizze_97340, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_97335, virt_num_tblocks_97341, num_tblocks_97342, mem_91795.mem, mem_91798.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_91795, "mem_91795") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_91809, bytes_91672, "mem_91809")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91809.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91798.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &mem_91798, "mem_91798") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_91820, bytes_91672, "mem_91820")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91820.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, ext_mem_91792.mem, (int64_t) 0, (int64_t []) {ext_91791, ext_91790}, (int64_t []) {n_45877, dim_45874})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_91792, "ext_mem_91792") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_91838, bytes_91837, "mem_91838")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_97355 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83786));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_83791(ctx, num_tblocks_83787, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82900, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_83787, virt_num_tblocks_97355, grid_partitions_per_dim_mem_91597.mem, mem_91809.mem, mem_91820.mem, mem_91838.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_91809, "mem_91809") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_91820, "mem_91820") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_91883, &mem_91838, "mem_91838") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_91889, &ext_mem_91883, "ext_mem_91883") != 0)
                return 1;
        }
        if (memblock_alloc_device(ctx, &mem_91893, bytes_91651, "mem_91893")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97370 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_83815));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83820(ctx, segmap_usable_groups_83816, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82723, 1, 1, (int64_t) 0, dim_45874, n_45877, ext_91887, ext_91888, grid_part_prefix_sum_mem_91595.mem, ext_mem_91889.mem, mem_91893.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_91889, "ext_mem_91889") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91904, bytes_91672, "mem_91904")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91904.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91893.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_91893, "mem_91893") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91906, (int64_t) 0, "mem_91906")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_92050, bytes_91600, "mem_92050")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97381 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83826));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83831(ctx, segmap_usable_groups_83827, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82694, 1, 1, (int64_t) 0, dim_45874, dz2080U_45875, n_45877, mem_91904.mem, mem_91906.mem, mem_92050.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_91904, "mem_91904") != 0)
            return 1;
        if (cond_65095) {
            if (memblock_alloc_device(ctx, &mem_91962, bytes_91651, "mem_91962")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_91965, &mem_91962, "mem_91962") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_91916, bytes_91651, "mem_91916")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97391 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_83846));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83851(ctx, segmap_usable_groups_83847, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82624, 1, 1, (int64_t) 0, dim_45874, n_45877, start_of_grid_partition_mem_91598.mem, mem_91906.mem, mem_91916.mem, mem_92050.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97402 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_83861));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83866(ctx, segmap_usable_groups_83862, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82598, 1, 1, (int64_t) 0, dim_45874, n_45877, xs_mem_91599.mem, mem_91916.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_91919, bytes_91661, "mem_91919")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_97413 = dim_45874 * n_45877;
            int64_t tblock_sizze_97418;
            
            tblock_sizze_97418 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97418;
            
            int64_t virt_num_tblocks_97419 = sdiv_up64(replicate_n_97413, tblock_sizze_97418);
            int64_t num_tblocks_97420 = smin64(virt_num_tblocks_97419, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_97414(ctx, num_tblocks_97420, 1, 1, tblock_sizze_97418, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_97413, virt_num_tblocks_97419, num_tblocks_97420, mem_91916.mem, mem_91919.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_91930, bytes_91672, "mem_91930")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91930.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91919.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91919, "mem_91919") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91941, bytes_91672, "mem_91941")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91941.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91916.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91916, "mem_91916") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_91959, bytes_91958, "mem_91959")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97433 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83883));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83888(ctx, num_tblocks_83884, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82552, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_83884, virt_num_tblocks_97433, mem_91930.mem, mem_91941.mem, mem_91959.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_91930, "mem_91930") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_91941, "mem_91941") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_91965, &mem_91959, "mem_91959") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_91906, "mem_91906") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91969, bytes_91651, "mem_91969")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97447 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_83908));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83913(ctx, segmap_usable_groups_83909, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82502, 1, 1, (int64_t) 0, dim_45874, n_45877, ext_91706, ext_91707, ext_mem_91965.mem, mem_91969.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_alloc_device(ctx, &mem_91980, bytes_91672, "mem_91980")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_91980.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91969.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_91969, "mem_91969") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91983, bytes_91600, "mem_91983")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97458 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83918));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83922(ctx, segmap_usable_groups_83919, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82477, 1, 1, (int64_t) 0, dim_45874, n_45877, mem_91980.mem, mem_91983.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_91980, "mem_91980") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_91986, bytes_91985, "mem_91986")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_f64(ctx, mem_91986, n_45877 * arg_65084, 0.0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_92005, bytes_92004, "mem_92005")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t ext_92030;
        int64_t ext_92029;
        int64_t ctx_param_ext_91988;
        int64_t ctx_param_ext_91989;
        
        if (memblock_set_device(ctx, &mem_param_91990, &mem_91986, "mem_91986") != 0)
            return 1;
        ctx_param_ext_91988 = arg_65084;
        ctx_param_ext_91989 = (int64_t) 1;
        for (int64_t i_83933 = 0; i_83933 < arg_65084; i_83933++) {
            bool y_83935 = slt64(i_83933, dim_45874);
            bool index_certs_83936;
            
            if (!y_83935) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_83933, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:293:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t map_arg1_83937 = add64((int64_t) 1, i_83933);
            int64_t j_m_i_83938 = sub64(dim_45874, map_arg1_83937);
            bool empty_slice_83939 = j_m_i_83938 == (int64_t) 0;
            int64_t m_83940 = sub64(j_m_i_83938, (int64_t) 1);
            int64_t i_p_m_t_s_83941 = add64(map_arg1_83937, m_83940);
            bool zzero_leq_i_p_m_t_s_83942 = sle64((int64_t) 0, i_p_m_t_s_83941);
            bool i_p_m_t_s_leq_w_83943 = slt64(i_p_m_t_s_83941, dim_45874);
            bool zzero_lte_i_83944 = sle64((int64_t) 0, map_arg1_83937);
            bool i_lte_j_83945 = sle64(map_arg1_83937, dim_45874);
            bool y_83946 = i_p_m_t_s_leq_w_83943 && zzero_lte_i_83944;
            bool y_83947 = zzero_leq_i_p_m_t_s_83942 && y_83946;
            bool forwards_ok_83948 = i_lte_j_83945 && y_83947;
            bool ok_or_empty_83949 = empty_slice_83939 || forwards_ok_83948;
            bool index_certs_83950;
            
            if (!ok_or_empty_83949) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_83937, ":", (long long) dim_45874, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:293:89-90\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_91993 = j_m_i_83938 * bytes_91600;
            int64_t binop_x_92010 = smax64((int64_t) 0, m_83940);
            int64_t binop_y_92011 = n_45877 * binop_x_92010;
            int64_t binop_y_92012 = smax64((int64_t) 0, binop_y_92011);
            int64_t binop_y_92013 = binop_x_91665 + binop_y_92012;
            int64_t binop_y_92014 = (int64_t) 1 + binop_y_92013;
            int64_t bytes_92015 = (int64_t) 8 * binop_y_92014;
            int64_t binop_y_92025 = binop_x_91665 + binop_y_92001;
            int64_t binop_y_92026 = (int64_t) 1 + binop_y_92025;
            int64_t bytes_92027 = (int64_t) 8 * binop_y_92026;
            int64_t nest_sizze_83958 = n_45877 * j_m_i_83938;
            int64_t segmap_usable_groups_83960 = sdiv_up64(nest_sizze_83958, segmap_tblock_sizze_83959);
            
            if (memblock_alloc_device(ctx, &mem_91994, bytes_91993, "mem_91994")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97472 = sext_i64_i32(sdiv_up64(n_45877 * j_m_i_83938, segmap_tblock_sizze_83959));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83964(ctx, segmap_usable_groups_83960, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82422, 1, 1, (int64_t) 0, n_45877, map_arg1_83937, j_m_i_83938, ext_91706, ext_91707, ext_mem_91965.mem, mem_91994.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92005.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_param_91990.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_91988, ctx_param_ext_91989}, (int64_t []) {n_45877, arg_65084})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_92016, bytes_92015, "mem_92016")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92016.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_91994.mem, (int64_t) 0, (int64_t []) {j_m_i_83938, (int64_t) 1}, (int64_t []) {n_45877, j_m_i_83938})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_91994, "mem_91994") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92028, bytes_92027, "mem_92028")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97483 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_83969));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_83974(ctx, num_tblocks_83970, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82391, 1, 1, (int64_t) 0, n_45877, arg_65084, i_83933, j_m_i_83938, num_tblocks_83970, ext_91706, ext_91707, virt_num_tblocks_97483, ext_mem_91965.mem, mem_92005.mem, mem_92016.mem, mem_92028.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92016, "mem_92016") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_tmp_97468, &mem_92028, "mem_92028") != 0)
                return 1;
            
            int64_t ctx_param_ext_tmp_97469 = (int64_t) 1;
            int64_t ctx_param_ext_tmp_97470 = n_45877;
            
            if (memblock_set_device(ctx, &mem_param_91990, &mem_param_tmp_97468, "mem_param_tmp_97468") != 0)
                return 1;
            ctx_param_ext_91988 = ctx_param_ext_tmp_97469;
            ctx_param_ext_91989 = ctx_param_ext_tmp_97470;
        }
        if (memblock_set_device(ctx, &ext_mem_92032, &mem_param_91990, "mem_param_91990") != 0)
            return 1;
        ext_92030 = ctx_param_ext_91988;
        ext_92029 = ctx_param_ext_91989;
        if (memblock_unref_device(ctx, &ext_mem_91965, "ext_mem_91965") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91986, "mem_91986") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92005, "mem_92005") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92036, bytes_91985, "mem_92036")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97497 = sext_i64_i32(sdiv_up64(n_45877 * arg_65084, segmap_tblock_sizze_83993));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_83998(ctx, segmap_usable_groups_83994, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82355, 1, 1, (int64_t) 0, n_45877, arg_65084, ext_92029, ext_92030, angle_part_prefix_sum_mem_91593.mem, angle_partitions_per_dim_mem_91594.mem, ext_mem_91648.mem, ext_mem_92032.mem, mem_92036.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &ext_mem_91648, "ext_mem_91648") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92032, "ext_mem_92032") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_92047, bytes_92004, "mem_92047")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92047.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_92036.mem, (int64_t) 0, (int64_t []) {arg_65084, (int64_t) 1}, (int64_t []) {n_45877, arg_65084})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_92036, "mem_92036") != 0)
            return 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_97508 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_84006));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_84010(ctx, segmap_usable_groups_84007, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_82327, 1, 1, (int64_t) 0, n_45877, total_angle_no_45884, arg_65084, mem_92047.mem, mem_92050.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_92047, "mem_92047") != 0)
            return 1;
        
        int64_t reduce_arg1_66049;
        
        if (x_66029) {
            int64_t read_res_99240;
            
            if ((err = gpu_scalar_from_device(ctx, &read_res_99240, mem_92050.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
                goto cleanup;
            if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int64_t x_70220 = read_res_99240;
            
            reduce_arg1_66049 = x_70220;
        } else {
            reduce_arg1_66049 = (int64_t) 0;
        }
        
        double reduce_arg1_66051;
        
        if (x_66029) {
            double read_res_99241;
            
            if ((err = gpu_scalar_from_device(ctx, &read_res_99241, mem_91983.mem, (int64_t) 0 * sizeof(double), sizeof(double))) != 0)
                goto cleanup;
            if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
                err = 1;
                goto cleanup;
            }
            
            double x_70221 = read_res_99241;
            
            reduce_arg1_66051 = x_70221;
        } else {
            reduce_arg1_66051 = 0.0;
        }
        if (cond_66028) {
            if (memblock_set_device(ctx, &ext_mem_93130, &xs_mem_91599, "xs_mem_91599") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93126, &mem_91601, "mem_91601") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_92061, bytes_91672, "mem_92061")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92061.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, xs_mem_91599.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
                goto cleanup;
            if (memblock_alloc_device(ctx, &mem_92066, bytes_92065, "mem_92066")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92071, (int64_t) 8, "mem_92071")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92072, (int64_t) 8, "mem_92072")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92074, binop_x_91660, "mem_92074")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92075, (int64_t) 8, "mem_92075")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegRed");
            
            int64_t chunk_sizze_97518 = (int64_t) 1;
            
            if (memblock_alloc_device(ctx, &segred_tmp_mem_97521, (int64_t) 8 * num_tblocks_84024, "segred_tmp_mem_97521")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_97523, (int64_t) 8 * num_tblocks_84024, "segred_tmp_mem_97523")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_97525, (int64_t) 8 * (segred_tblock_sizze_84022 * num_tblocks_84024 * dim_45874), "segred_tmp_mem_97525")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &segred_tmp_mem_97527, (int64_t) 8 * num_tblocks_84024, "segred_tmp_mem_97527")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t num_threads_97529 = num_tblocks_84024 * segred_tblock_sizze_84022;
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_84032(ctx, num_tblocks_84024, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_84021, 1, 1, 8 + ((int64_t) 8 * segred_tblock_sizze_84022 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_84022, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * segred_tblock_sizze_84022 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_84022, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * segred_tblock_sizze_84022 + srem64((int64_t) 8 - srem64((int64_t) 8 * segred_tblock_sizze_84022, (int64_t) 8), (int64_t) 8)), dim_45874, n_45877, reduce_arg1_66049, reduce_arg1_66051, num_tblocks_84024, num_threads_92062, xs_mem_91599.mem, mem_91983.mem, mem_92050.mem, mem_92061.mem, mem_92066.mem, mem_92071.mem, mem_92072.mem, mem_92074.mem, mem_92075.mem, counters_mem_97519.mem, segred_tmp_mem_97521.mem, segred_tmp_mem_97523.mem, segred_tmp_mem_97525.mem, segred_tmp_mem_97527.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92066, "mem_92066") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92076, (int64_t) 8, "mem_92076")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92077, (int64_t) 8, "mem_92077")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92078, (int64_t) 8, "mem_92078")) {
                err = 1;
                goto cleanup;
            }
            {
                err = gpu_kernel_sort_for_Skyline_doublezigpuseq_97587(ctx, (int64_t) 1, 1, 1, (int64_t) 1, 1, 1, (int64_t) 0, mem_92071.mem, mem_92072.mem, mem_92075.mem, mem_92076.mem, mem_92077.mem, mem_92078.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_92071, "mem_92071") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92072, "mem_92072") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92075, "mem_92075") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92085, bytes_92084, "mem_92085")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92088, bytes_92084, "mem_92088")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92105, bytes_92104, "mem_92105")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_92108, bytes_92084, "mem_92108")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_97593 = sext_i64_i32(sdiv_up64(x_67116 * block_sizze_66045, segmap_tblock_sizze_84429));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_84438(ctx, num_tblocks_84430, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84356, 1, 1, (int64_t) 0, dim_45874, n_45877, block_sizze_66045, x_67116, num_tblocks_84430, virt_num_tblocks_97593, mem_91983.mem, mem_92050.mem, mem_92061.mem, mem_92074.mem, mem_92076.mem, mem_92077.mem, mem_92078.mem, mem_92085.mem, mem_92088.mem, mem_92105.mem, mem_92108.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_92061, "mem_92061") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92074, "mem_92074") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92076, "mem_92076") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92077, "mem_92077") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92078, "mem_92078") != 0)
                return 1;
            if (cond_66098) {
                if (memblock_set_device(ctx, &ext_mem_92281, &mem_92085, "mem_92085") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92278, &mem_92088, "mem_92088") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92275, &mem_92105, "mem_92105") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92271, &mem_92108, "mem_92108") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_92119, bytes_92118, "mem_92119")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92119.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_67116}, mem_92085.mem, (int64_t) 0, (int64_t []) {block_sizze_66045, (int64_t) 1}, (int64_t []) {x_67116, block_sizze_66045})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_92130, bytes_92118, "mem_92130")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92130.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_67116}, mem_92088.mem, (int64_t) 0, (int64_t []) {block_sizze_66045, (int64_t) 1}, (int64_t []) {x_67116, block_sizze_66045})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_92147, bytes_92146, "mem_92147")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92147.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_67116 * dim_45874, x_67116}, mem_92105.mem, (int64_t) 0, (int64_t []) {block_sizze_66045, (int64_t) 1, block_sizze_66045 * x_67116}, (int64_t []) {x_67116, block_sizze_66045, dim_45874})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_92158, bytes_92118, "mem_92158")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92158.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, x_67116}, mem_92108.mem, (int64_t) 0, (int64_t []) {block_sizze_66045, (int64_t) 1}, (int64_t []) {x_67116, block_sizze_66045})) != 0)
                    goto cleanup;
                if (memblock_alloc_device(ctx, &mem_92227, bytes_92226, "mem_92227")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_92238, bytes_92237, "mem_92238")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_92255, bytes_92254, "mem_92255")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_92266, bytes_92265, "mem_92266")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &color_95805, total_sizze_95972, "color_95805")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &color_95806, total_sizze_95973, "color_95806")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_tblocks_97608 = sext_i64_i32(sdiv_up64(x_67116, segmap_tblock_sizze_84466));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegmap_84474(ctx, num_tblocks_84467, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_84141, 1, 1, (int64_t) 0, dim_45874, block_sizze_66045, distance_66101, x_67116, num_tblocks_84467, num_threads_95971, ctx_95987, virt_num_tblocks_97608, mem_92119.mem, mem_92130.mem, mem_92147.mem, mem_92158.mem, mem_92227.mem, mem_92238.mem, mem_92255.mem, mem_92266.mem, color_95805.mem, color_95806.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_92119, "mem_92119") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_92130, "mem_92130") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_92147, "mem_92147") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_92158, "mem_92158") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_95805, "color_95805") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &color_95806, "color_95806") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92281, &mem_92227, "mem_92227") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92278, &mem_92238, "mem_92238") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92275, &mem_92255, "mem_92255") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_92271, &mem_92266, "mem_92266") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_92085, "mem_92085") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92088, "mem_92088") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92105, "mem_92105") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92108, "mem_92108") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92284, bytes_92084, "mem_92284")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92284.mem, (int64_t) 0, (int64_t []) {block_sizze_66045, (int64_t) 1}, ext_mem_92281.mem, (int64_t) 0, (int64_t []) {ext_92280, ext_92279}, (int64_t []) {x_67116, block_sizze_66045})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_92281, "ext_mem_92281") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92288, bytes_92084, "mem_92288")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92288.mem, (int64_t) 0, (int64_t []) {block_sizze_66045, (int64_t) 1}, ext_mem_92278.mem, (int64_t) 0, (int64_t []) {ext_92280, ext_92279}, (int64_t []) {x_67116, block_sizze_66045})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_92278, "ext_mem_92278") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92293, bytes_92292, "mem_92293")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92293.mem, (int64_t) 0, (int64_t []) {dim_45874 * block_sizze_66045, dim_45874, (int64_t) 1}, ext_mem_92275.mem, (int64_t) 0, (int64_t []) {ext_92280, ext_92273, ext_92272}, (int64_t []) {x_67116, block_sizze_66045, dim_45874})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_92275, "ext_mem_92275") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_92297, bytes_92084, "mem_92297")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92297.mem, (int64_t) 0, (int64_t []) {block_sizze_66045, (int64_t) 1}, ext_mem_92271.mem, (int64_t) 0, (int64_t []) {ext_92280, ext_92279}, (int64_t []) {x_67116, block_sizze_66045})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_92271, "ext_mem_92271") != 0)
                return 1;
            
            int64_t data_66225;
            bool data_66226;
            int64_t data_66231;
            int64_t loop_dz2084Uz2082U_66232;
            bool loop_while_66233;
            int64_t stride_66238;
            
            if (memblock_set_device(ctx, &mem_param_92301, &mem_92284, "mem_92284") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_92304, &mem_92288, "mem_92288") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_92308, &mem_92293, "mem_92293") != 0)
                return 1;
            if (memblock_set_device(ctx, &mem_param_92311, &mem_92297, "mem_92297") != 0)
                return 1;
            loop_dz2084Uz2082U_66232 = flat_dim_66055;
            loop_while_66233 = loop_cond_66222;
            stride_66238 = block_sizze_66045;
            while (loop_while_66233) {
                int64_t next_stride_66239 = mul64((int64_t) 2, stride_66238);
                bool zzero_66240 = next_stride_66239 == (int64_t) 0;
                bool nonzzero_66241 = !zzero_66240;
                bool nonzzero_cert_66242;
                
                if (!nonzzero_66241) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftSkyline.fut:752:17-40\n   #4  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t num_merges_66243 = sdiv64(flat_dim_66055, next_stride_66239);
                bool bounds_invalid_upwards_66244 = slt64(num_merges_66243, (int64_t) 0);
                bool valid_66245 = !bounds_invalid_upwards_66244;
                bool range_valid_c_66246;
                
                if (!valid_66245) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_66243, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t m_66248 = sub64(next_stride_66239, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_66249 = sle64((int64_t) 0, m_66248);
                bool cond_66251 = slt64(next_stride_66239, (int64_t) 10);
                bool protect_assert_disj_66252 = nonzzero_66224 || cond_66251;
                bool nonzzero_cert_66253;
                
                if (!protect_assert_disj_66252) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zeze_lhs_66254 = smod_safe64(next_stride_66239, merge_block_sizze_66061);
                bool num_blocks_66255 = zeze_lhs_66254 == (int64_t) 0;
                bool protect_assert_disj_66256 = cond_66251 || num_blocks_66255;
                bool assert_c_66257;
                
                if (!protect_assert_disj_66256) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t num_blocks_66259 = sdiv_safe64(next_stride_66239, merge_block_sizze_66061);
                int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260 = add64((int64_t) 1, num_blocks_66259);
                int64_t j_m_i_66261 = sub64(next_stride_66239, stride_66238);
                int64_t flat_dim_66262 = merge_block_sizze_66061 * num_blocks_66259;
                bool bounds_invalid_upwards_66263 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, (int64_t) 0);
                bool empty_slice_66264 = j_m_i_66261 == (int64_t) 0;
                int64_t m_66265 = sub64(j_m_i_66261, (int64_t) 1);
                bool zzero_lte_i_66266 = sle64((int64_t) 0, stride_66238);
                bool i_lte_j_66267 = sle64(stride_66238, next_stride_66239);
                bool empty_slice_66268 = stride_66238 == (int64_t) 0;
                int64_t m_66269 = sub64(stride_66238, (int64_t) 1);
                bool bounds_invalid_upwards_66270 = slt64(num_blocks_66259, (int64_t) 0);
                bool cond_66271 = slt64((int64_t) 0, stride_66238);
                bool valid_66272 = !bounds_invalid_upwards_66263;
                int64_t i_p_m_t_s_66273 = add64(stride_66238, m_66265);
                bool zzero_leq_i_p_m_t_s_66274 = sle64((int64_t) 0, m_66269);
                bool i_p_m_t_s_leq_w_66275 = slt64(m_66269, next_stride_66239);
                bool valid_66276 = !bounds_invalid_upwards_66270;
                bool i_p_m_t_s_leq_w_66277 = slt64(m_66248, flat_dim_66262);
                bool y_66278 = slt64((int64_t) 0, j_m_i_66261);
                bool protect_assert_disj_66279 = cond_66251 || valid_66272;
                bool range_valid_c_66280;
                
                if (!protect_assert_disj_66279) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool zzero_leq_i_p_m_t_s_66281 = sle64((int64_t) 0, i_p_m_t_s_66273);
                bool i_p_m_t_s_leq_w_66282 = slt64(i_p_m_t_s_66273, next_stride_66239);
                bool y_66283 = zzero_leq_i_p_m_t_s_66274 && i_p_m_t_s_leq_w_66275;
                bool protect_assert_disj_66284 = cond_66251 || valid_66276;
                bool range_valid_c_66285;
                
                if (!protect_assert_disj_66284) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_66259, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool y_66286 = zzero_leq_i_p_m_t_s_66249 && i_p_m_t_s_leq_w_66277;
                bool y_66287 = zzero_lte_i_66266 && i_p_m_t_s_leq_w_66282;
                bool forwards_ok_66288 = zzero_lte_i_66266 && y_66283;
                bool ok_or_empty_66289 = zzero_66240 || y_66286;
                bool protect_assert_disj_66290 = cond_66271 || y_66278;
                bool y_66291 = zzero_leq_i_p_m_t_s_66281 && y_66287;
                bool ok_or_empty_66292 = empty_slice_66268 || forwards_ok_66288;
                bool protect_assert_disj_66293 = cond_66251 || ok_or_empty_66289;
                bool index_certs_66294;
                
                if (!protect_assert_disj_66293) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_66239, "] out of bounds for array of shape [", (long long) flat_dim_66262, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftSkyline.fut:752:17-40\n   #8  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool loop_not_taken_66295 = !cond_66251;
                bool protect_assert_disj_66296 = protect_assert_disj_66290 || loop_not_taken_66295;
                bool index_certs_66297;
                
                if (!protect_assert_disj_66296) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_66261, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftSkyline.fut:752:17-40\n   #9  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool forwards_ok_66298 = i_lte_j_66267 && y_66291;
                bool protect_assert_disj_66299 = cond_66251 || ok_or_empty_66292;
                bool index_certs_66300;
                
                if (!protect_assert_disj_66299) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_66238, "] out of bounds for array of shape [", (long long) next_stride_66239, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool protect_assert_disj_66301 = ok_or_empty_66292 || loop_not_taken_66295;
                bool index_certs_66302;
                
                if (!protect_assert_disj_66301) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_66238, "] out of bounds for array of shape [", (long long) next_stride_66239, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool ok_or_empty_66303 = empty_slice_66264 || forwards_ok_66298;
                bool protect_assert_disj_66304 = cond_66251 || ok_or_empty_66303;
                bool index_certs_66305;
                
                if (!protect_assert_disj_66304) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_66238, ":] out of bounds for array of shape [", (long long) next_stride_66239, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftSkyline.fut:752:17-40\n   #10 ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool protect_assert_disj_66306 = loop_not_taken_66295 || ok_or_empty_66303;
                bool index_certs_66307;
                
                if (!protect_assert_disj_66306) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_66238, ":] out of bounds for array of shape [", (long long) next_stride_66239, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftSkyline.fut:752:17-40\n   #7  ftSkyline.fut:742:1-752:40\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t binop_x_92316 = (int64_t) 8 * num_merges_66243;
                int64_t bytes_92606 = next_stride_66239 * binop_x_92316;
                int64_t bytes_92616 = dim_45874 * bytes_92606;
                bool i_lte_j_66250 = sle64((int64_t) 0, next_stride_66239);
                int64_t intra_avail_par_84854 = smin64(num_blocks_66259, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260);
                int64_t computed_tblock_sizze_84570 = smax64(num_blocks_66259, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260);
                bool fits_84859 = sle64(computed_tblock_sizze_84570, max_tblock_sizze_83544);
                bool suff_intra_par_84857;
                
                suff_intra_par_84857 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_6 <= intra_avail_par_84854;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_6", (long) intra_avail_par_84854, suff_intra_par_84857 ? "true" : "false");
                
                bool intra_suff_and_fits_84860 = suff_intra_par_84857 && fits_84859;
                int64_t segmap_usable_groups_87805 = sdiv_up_safe64(num_merges_66243, segmap_tblock_sizze_87804);
                int64_t ext_92920;
                
                if (cond_66251) {
                    ext_92920 = (int64_t) 1;
                } else {
                    ext_92920 = next_stride_66239;
                }
                
                int64_t ext_92919;
                
                if (cond_66251) {
                    ext_92919 = num_merges_66243;
                } else {
                    ext_92919 = (int64_t) 1;
                }
                
                bool suff_intra_par_88024;
                
                suff_intra_par_88024 = *ctx->tuning_params.sort_for_Skyline_doublezisuff_intra_par_7 <= intra_avail_par_84854;
                if (ctx->logging)
                    fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "sort_for_Skyline_double.suff_intra_par_7", (long) intra_avail_par_84854, suff_intra_par_88024 ? "true" : "false");
                
                bool intra_suff_and_fits_88025 = fits_84859 && suff_intra_par_88024;
                int64_t nest_sizze_88334 = num_merges_66243 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;
                int64_t nest_sizze_88463 = num_merges_66243 * num_blocks_66259;
                int64_t num_tblocks_88465;
                int64_t max_num_tblocks_97642;
                
                max_num_tblocks_97642 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_86887;
                num_tblocks_88465 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_88463, segmap_tblock_sizze_88464), max_num_tblocks_97642)));
                
                int64_t num_tblocks_88560;
                int64_t max_num_tblocks_97643;
                
                max_num_tblocks_97643 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_86775;
                num_tblocks_88560 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_88463, segmap_tblock_sizze_88559), max_num_tblocks_97643)));
                
                int64_t bytes_92317 = dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260 * binop_x_92316;
                int64_t binop_y_92322 = loop_dz2084Uz2082U_66232 - (int64_t) 1;
                int64_t binop_x_92324 = smax64((int64_t) 0, binop_y_92322);
                int64_t binop_y_92327 = loop_dz2084Uz2082U_66232 * binop_x_91667;
                int64_t binop_y_92328 = smax64((int64_t) 0, binop_y_92327);
                int64_t binop_y_92329 = binop_x_92324 + binop_y_92328;
                int64_t binop_y_92330 = (int64_t) 1 + binop_y_92329;
                int64_t bytes_92331 = (int64_t) 8 * binop_y_92330;
                int64_t bytes_92336 = num_blocks_66259 * binop_x_92316;
                int64_t binop_y_92344 = num_merges_66243 - (int64_t) 1;
                int64_t binop_x_92345 = smax64((int64_t) 0, binop_y_92344);
                int64_t binop_y_92346 = num_blocks_66259 * binop_x_92345;
                int64_t binop_x_92347 = smax64((int64_t) 0, binop_y_92346);
                int64_t binop_y_92348 = num_blocks_66259 - (int64_t) 1;
                int64_t binop_y_92350 = smax64((int64_t) 0, binop_y_92348);
                int64_t binop_x_92351 = binop_x_92347 + binop_y_92350;
                int64_t binop_y_92355 = nest_sizze_88463 * binop_x_91667;
                int64_t binop_y_92356 = smax64((int64_t) 0, binop_y_92355);
                int64_t binop_y_92357 = binop_x_92351 + binop_y_92356;
                int64_t binop_y_92358 = (int64_t) 1 + binop_y_92357;
                int64_t bytes_92359 = (int64_t) 8 * binop_y_92358;
                int64_t binop_x_92376 = num_merges_66243 * binop_x_92375;
                int64_t bytes_92377 = num_blocks_66259 * binop_x_92376;
                int64_t binop_x_92389 = num_merges_66243 * binop_x_92388;
                int64_t bytes_92390 = num_blocks_66259 * binop_x_92389;
                int64_t binop_y_92403 = nest_sizze_88463 * binop_x_92401;
                int64_t binop_y_92404 = smax64((int64_t) 0, binop_y_92403);
                int64_t binop_y_92405 = binop_x_92351 + binop_y_92404;
                int64_t binop_y_92406 = (int64_t) 1 + binop_y_92405;
                int64_t bytes_92407 = (int64_t) 8 * binop_y_92406;
                int64_t binop_y_92454 = dim_45874 * nest_sizze_88463;
                int64_t binop_y_92455 = binop_x_92401 * binop_y_92454;
                int64_t binop_y_92456 = smax64((int64_t) 0, binop_y_92455);
                int64_t binop_x_92457 = binop_x_92351 + binop_y_92456;
                int64_t binop_y_92463 = binop_y_92356 + binop_x_92457;
                int64_t binop_y_92464 = (int64_t) 1 + binop_y_92463;
                int64_t bytes_92465 = (int64_t) 8 * binop_y_92464;
                int64_t binop_y_92522 = binop_x_92351 + binop_y_92404;
                int64_t binop_y_92523 = (int64_t) 1 + binop_y_92522;
                int64_t bytes_92524 = (int64_t) 8 * binop_y_92523;
                int64_t binop_y_92539 = binop_x_92351 + binop_y_92404;
                int64_t binop_y_92540 = (int64_t) 1 + binop_y_92539;
                int64_t bytes_92541 = (int64_t) 8 * binop_y_92540;
                int64_t binop_x_92557 = binop_x_92351 + binop_y_92456;
                int64_t binop_y_92563 = binop_y_92356 + binop_x_92557;
                int64_t binop_y_92564 = (int64_t) 1 + binop_y_92563;
                int64_t bytes_92565 = (int64_t) 8 * binop_y_92564;
                int64_t binop_y_92580 = binop_x_92351 + binop_y_92404;
                int64_t binop_y_92581 = (int64_t) 1 + binop_y_92580;
                int64_t bytes_92582 = (int64_t) 8 * binop_y_92581;
                int64_t bytes_92586 = merge_block_sizze_66061 * bytes_92336;
                int64_t bytes_92597 = dim_45874 * bytes_92586;
                int64_t lmad_ext_92718 = dim_45874 * next_stride_66239;
                int64_t bytes_92619 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260;
                int64_t bytes_92628 = (int64_t) 8 * num_blocks_66259;
                int64_t bytes_92635 = dim_45874 * bytes_92628;
                int64_t bytes_92648 = num_blocks_66259 * binop_x_92375;
                int64_t bytes_92658 = num_blocks_66259 * binop_x_92388;
                int64_t bytes_92693 = merge_block_sizze_66061 * bytes_92628;
                int64_t bytes_92700 = dim_45874 * bytes_92693;
                int64_t lmad_arg_92673 = dim_45874 * num_blocks_66259;
                int64_t bytes_92734 = dim_45874 * binop_x_92316;
                int64_t binop_x_92755 = (int64_t) 16 * stride_66238;
                int64_t bytes_92756 = num_merges_66243 * binop_x_92755;
                int64_t binop_x_92765 = dim_45874 * binop_x_92755;
                int64_t bytes_92766 = num_merges_66243 * binop_x_92765;
                int64_t binop_x_92772 = smax64((int64_t) 0, m_66248);
                int64_t binop_y_92773 = num_merges_66243 * binop_x_92772;
                int64_t binop_y_92774 = smax64((int64_t) 0, binop_y_92773);
                int64_t binop_y_92775 = binop_x_92345 + binop_y_92774;
                int64_t binop_y_92776 = (int64_t) 1 + binop_y_92775;
                int64_t bytes_92777 = (int64_t) 8 * binop_y_92776;
                int64_t binop_y_92806 = dim_45874 * num_merges_66243;
                int64_t binop_y_92807 = binop_x_92772 * binop_y_92806;
                int64_t binop_y_92808 = smax64((int64_t) 0, binop_y_92807);
                int64_t binop_x_92809 = binop_x_92345 + binop_y_92808;
                int64_t binop_y_92812 = num_merges_66243 * binop_x_91667;
                int64_t binop_y_92813 = smax64((int64_t) 0, binop_y_92812);
                int64_t binop_y_92814 = binop_x_92809 + binop_y_92813;
                int64_t binop_y_92815 = (int64_t) 1 + binop_y_92814;
                int64_t bytes_92816 = (int64_t) 8 * binop_y_92815;
                int64_t binop_y_92865 = binop_x_92345 + binop_y_92774;
                int64_t binop_y_92866 = (int64_t) 1 + binop_y_92865;
                int64_t bytes_92867 = (int64_t) 8 * binop_y_92866;
                int64_t binop_y_92876 = binop_x_92345 + binop_y_92774;
                int64_t binop_y_92877 = (int64_t) 1 + binop_y_92876;
                int64_t bytes_92878 = (int64_t) 8 * binop_y_92877;
                int64_t binop_x_92888 = binop_x_92345 + binop_y_92808;
                int64_t binop_y_92893 = binop_y_92813 + binop_x_92888;
                int64_t binop_y_92894 = (int64_t) 1 + binop_y_92893;
                int64_t bytes_92895 = (int64_t) 8 * binop_y_92894;
                int64_t binop_y_92904 = binop_x_92345 + binop_y_92774;
                int64_t binop_y_92905 = (int64_t) 1 + binop_y_92904;
                int64_t bytes_92906 = (int64_t) 8 * binop_y_92905;
                int64_t ext_93092;
                int64_t shared_memory_capacity_97644;
                
                shared_memory_capacity_97644 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84860) {
                    ext_93092 = next_stride_66239;
                } else {
                    ext_93092 = ext_92920;
                }
                
                int64_t ext_93091;
                int64_t shared_memory_capacity_97645;
                
                shared_memory_capacity_97645 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84860) {
                    ext_93091 = (int64_t) 1;
                } else {
                    ext_93091 = ext_92919;
                }
                
                int64_t ext_92913;
                
                if (cond_66251) {
                    ext_92913 = binop_y_92806;
                } else {
                    ext_92913 = dim_45874;
                }
                
                int64_t ext_93085;
                int64_t shared_memory_capacity_97646;
                
                shared_memory_capacity_97646 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84860) {
                    ext_93085 = dim_45874;
                } else {
                    ext_93085 = ext_92913;
                }
                
                int64_t ext_92914;
                
                if (cond_66251) {
                    ext_92914 = (int64_t) 1;
                } else {
                    ext_92914 = lmad_ext_92718;
                }
                
                int64_t ext_93086;
                int64_t shared_memory_capacity_97647;
                
                shared_memory_capacity_97647 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84860) {
                    ext_93086 = lmad_ext_92718;
                } else {
                    ext_93086 = ext_92914;
                }
                
                int64_t maxSubHelper_95831 = umax64(bytes_92635, bytes_92693);
                int64_t maxSubHelper_95832 = umax64(bytes_92628, bytes_92700);
                int64_t maxSubHelper_95833 = umax64(bytes_92628, bytes_92693);
                int64_t maxSubHelper_95834 = umax64(bytes_92628, bytes_92693);
                int64_t maxSubHelper_95835 = umax64(bytes_92619, bytes_92658);
                int64_t maxSubHelper_95836 = umax64(bytes_92619, bytes_92648);
                int64_t maxSubHelper_95807 = umax64(bytes_92628, bytes_92658);
                int64_t maxSubHelper_95808 = umax64(bytes_92628, bytes_92648);
                int64_t maxSubHelper_95809 = umax64(bytes_92628, bytes_92648);
                int64_t maxSubHelper_95810 = umax64(bytes_92619, bytes_92648);
                int64_t shared_memory_capacity_98210;
                
                shared_memory_capacity_98210 = ctx->max_shared_memory;
                if (intra_suff_and_fits_84860 && sle64(sdiv_up64(binop_x_92765, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_92755, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_92755, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_92755, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92693, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92700, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92693, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92693, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95807, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95808, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95809, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95810, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92628, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92628, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92628, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92628, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92635, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92619, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_98210)) {
                    if (memblock_alloc_device(ctx, &mem_93069, bytes_92606, "mem_93069")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_93072, bytes_92606, "mem_93072")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_93076, bytes_92616, "mem_93076")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_93079, bytes_92606, "mem_93079")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_97648 = sext_i64_i32(sdiv_up64(merge_block_sizze_66061 * dim_45874 * num_blocks_66259, computed_tblock_sizze_84570));
                    int32_t num_chunks_97649 = sext_i64_i32(sdiv_up64(merge_block_sizze_66061 * num_blocks_66259, computed_tblock_sizze_84570));
                    int32_t num_chunks_97650 = sext_i64_i32(sdiv_up64(next_stride_66239, computed_tblock_sizze_84570));
                    int32_t num_chunks_97651 = sext_i64_i32(sdiv_up64(next_stride_66239 * dim_45874, computed_tblock_sizze_84570));
                    int32_t num_chunks_97652 = sext_i64_i32(sdiv_up64(num_blocks_66259, computed_tblock_sizze_84570));
                    int32_t num_chunks_97653 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, computed_tblock_sizze_84570));
                    int32_t virt_num_tblocks_97654 = sext_i64_i32(num_merges_66243);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_84866(ctx, num_merges_66243, 1, 1, computed_tblock_sizze_84570, 1, 1, bytes_92619 + srem64((int64_t) 8 - srem64(bytes_92619, (int64_t) 8), (int64_t) 8) + (bytes_92635 + srem64((int64_t) 8 - srem64(bytes_92635, (int64_t) 8), (int64_t) 8)) + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8)) + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8)) + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8)) + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95810 + srem64((int64_t) 8 - srem64(maxSubHelper_95810, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95809 + srem64((int64_t) 8 - srem64(maxSubHelper_95809, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95808 + srem64((int64_t) 8 - srem64(maxSubHelper_95808, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95807 + srem64((int64_t) 8 - srem64(maxSubHelper_95807, (int64_t) 8), (int64_t) 8)) + (bytes_92693 + srem64((int64_t) 8 - srem64(bytes_92693, (int64_t) 8), (int64_t) 8)) + (bytes_92693 + srem64((int64_t) 8 - srem64(bytes_92693, (int64_t) 8), (int64_t) 8)) + (bytes_92700 + srem64((int64_t) 8 - srem64(bytes_92700, (int64_t) 8), (int64_t) 8)) + (bytes_92693 + srem64((int64_t) 8 - srem64(bytes_92693, (int64_t) 8), (int64_t) 8)) + (binop_x_92755 + srem64((int64_t) 8 - srem64(binop_x_92755, (int64_t) 8), (int64_t) 8)) + (binop_x_92755 + srem64((int64_t) 8 - srem64(binop_x_92755, (int64_t) 8), (int64_t) 8)) + (binop_x_92755 + srem64((int64_t) 8 - srem64(binop_x_92755, (int64_t) 8), (int64_t) 8)) + (binop_x_92765 + srem64((int64_t) 8 - srem64(binop_x_92765, (int64_t) 8), (int64_t) 8)), dim_45874, merge_block_sizze_66061, loop_dz2084Uz2082U_66232, stride_66238, next_stride_66239, zzero_66240, num_merges_66243, m_66248, zzero_leq_i_p_m_t_s_66249, i_lte_j_66250, cond_66251, num_blocks_66259, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, j_m_i_66261, cond_66271, computed_tblock_sizze_84570, bytes_92619, bytes_92628, bytes_92635, lmad_arg_92673, bytes_92693, bytes_92700, binop_x_92755, binop_x_92765, maxSubHelper_95807, maxSubHelper_95808, maxSubHelper_95809, maxSubHelper_95810, num_chunks_97648, num_chunks_97649, num_chunks_97650, num_chunks_97651, mem_param_92301.mem, mem_param_92304.mem, mem_param_92308.mem, mem_param_92311.mem, mem_93069.mem, mem_93072.mem, mem_93076.mem, mem_93079.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_93093, &mem_93069, "mem_93069") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93090, &mem_93072, "mem_93072") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93087, &mem_93076, "mem_93076") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93083, &mem_93079, "mem_93079") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_92313, (int64_t) 0, "mem_92313")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_92314, (int64_t) 0, "mem_92314")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_97794 = sext_i64_i32(sdiv_up64(num_merges_66243, segmap_tblock_sizze_87804));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_87810(ctx, segmap_usable_groups_87805, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87778, 1, 1, (int64_t) 0, loop_dz2084Uz2082U_66232, next_stride_66239, zzero_66240, num_merges_66243, m_66248, zzero_leq_i_p_m_t_s_66249, i_lte_j_66250, mem_92313.mem, mem_92314.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (cond_66251) {
                        if (cond_66271) {
                            int64_t segmap_tblock_sizze_87840;
                            
                            segmap_tblock_sizze_87840 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85777;
                            
                            int64_t segmap_usable_groups_87841 = sdiv_up64(num_merges_66243, segmap_tblock_sizze_87840);
                            
                            if (memblock_alloc_device(ctx, &mem_92741, binop_x_92316, "mem_92741")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92743, binop_x_92316, "mem_92743")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97803 = sext_i64_i32(sdiv_up64(num_merges_66243, segmap_tblock_sizze_87840));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87845(ctx, segmap_usable_groups_87841, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85777, 1, 1, (int64_t) 0, next_stride_66239, num_merges_66243, mem_param_92301.mem, mem_param_92304.mem, mem_92313.mem, mem_92314.mem, mem_92741.mem, mem_92743.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_87853;
                            
                            segmap_tblock_sizze_87853 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85764;
                            
                            int64_t segmap_usable_groups_87854 = sdiv_up64(binop_y_92806, segmap_tblock_sizze_87853);
                            
                            if (memblock_alloc_device(ctx, &mem_92747, bytes_92734, "mem_92747")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97812 = sext_i64_i32(sdiv_up64(num_merges_66243 * dim_45874, segmap_tblock_sizze_87853));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87858(ctx, segmap_usable_groups_87854, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85764, 1, 1, (int64_t) 0, dim_45874, next_stride_66239, num_merges_66243, mem_param_92308.mem, mem_92313.mem, mem_92314.mem, mem_92747.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_87864;
                            
                            segmap_tblock_sizze_87864 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85749;
                            
                            int64_t segmap_usable_groups_87865 = sdiv_up64(num_merges_66243, segmap_tblock_sizze_87864);
                            
                            if (memblock_alloc_device(ctx, &mem_92750, binop_x_92316, "mem_92750")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97823 = sext_i64_i32(sdiv_up64(num_merges_66243, segmap_tblock_sizze_87864));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87868(ctx, segmap_usable_groups_87865, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85749, 1, 1, (int64_t) 0, next_stride_66239, num_merges_66243, mem_param_92311.mem, mem_92313.mem, mem_92314.mem, mem_92750.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_92754, &mem_92741, "mem_92741") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92753, &mem_92743, "mem_92743") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92752, &mem_92747, "mem_92747") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92751, &mem_92750, "mem_92750") != 0)
                                return 1;
                        } else {
                            int64_t segmap_tblock_sizze_87878;
                            
                            segmap_tblock_sizze_87878 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85853;
                            
                            int64_t segmap_usable_groups_87879 = sdiv_up64(num_merges_66243, segmap_tblock_sizze_87878);
                            
                            if (memblock_alloc_device(ctx, &mem_92729, binop_x_92316, "mem_92729")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92731, binop_x_92316, "mem_92731")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92738, binop_x_92316, "mem_92738")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97832 = sext_i64_i32(sdiv_up64(num_merges_66243, segmap_tblock_sizze_87878));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87884(ctx, segmap_usable_groups_87879, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85853, 1, 1, (int64_t) 0, stride_66238, next_stride_66239, num_merges_66243, mem_param_92301.mem, mem_param_92304.mem, mem_92313.mem, mem_92314.mem, mem_92729.mem, mem_92731.mem, mem_92738.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_87893;
                            
                            segmap_tblock_sizze_87893 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85840;
                            
                            int64_t segmap_usable_groups_87894 = sdiv_up64(binop_y_92806, segmap_tblock_sizze_87893);
                            
                            if (memblock_alloc_device(ctx, &mem_92735, bytes_92734, "mem_92735")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97841 = sext_i64_i32(sdiv_up64(num_merges_66243 * dim_45874, segmap_tblock_sizze_87893));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87898(ctx, segmap_usable_groups_87894, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85840, 1, 1, (int64_t) 0, dim_45874, num_merges_66243, mem_param_92308.mem, mem_92313.mem, mem_92314.mem, mem_92735.mem, mem_92738.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int64_t segmap_tblock_sizze_87904;
                            
                            segmap_tblock_sizze_87904 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85825;
                            
                            int64_t segmap_usable_groups_87905 = sdiv_up64(num_merges_66243, segmap_tblock_sizze_87904);
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_97852 = sext_i64_i32(sdiv_up64(num_merges_66243, segmap_tblock_sizze_87904));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_87908(ctx, segmap_usable_groups_87905, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85825, 1, 1, (int64_t) 0, num_merges_66243, mem_param_92311.mem, mem_92313.mem, mem_92314.mem, mem_92738.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_92754, &mem_92729, "mem_92729") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92753, &mem_92731, "mem_92731") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92752, &mem_92735, "mem_92735") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92751, &mem_92738, "mem_92738") != 0)
                                return 1;
                        }
                        if (memblock_alloc_device(ctx, &mem_92757, bytes_92756, "mem_92757")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97861 = next_stride_66239 * num_merges_66243;
                        int64_t tblock_sizze_97866;
                        
                        tblock_sizze_97866 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97866;
                        
                        int64_t virt_num_tblocks_97867 = sdiv_up64(replicate_n_97861, tblock_sizze_97866);
                        int64_t num_tblocks_97868 = smin64(virt_num_tblocks_97867, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97862(ctx, num_tblocks_97868, 1, 1, tblock_sizze_97866, 1, 1, (int64_t) 0, next_stride_66239, num_merges_66243, replicate_n_97861, virt_num_tblocks_97867, num_tblocks_97868, ext_mem_92754.mem, mem_92757.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_92754, "ext_mem_92754") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92760, bytes_92756, "mem_92760")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97881 = next_stride_66239 * num_merges_66243;
                        int64_t tblock_sizze_97886;
                        
                        tblock_sizze_97886 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97886;
                        
                        int64_t virt_num_tblocks_97887 = sdiv_up64(replicate_n_97881, tblock_sizze_97886);
                        int64_t num_tblocks_97888 = smin64(virt_num_tblocks_97887, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97882(ctx, num_tblocks_97888, 1, 1, tblock_sizze_97886, 1, 1, (int64_t) 0, next_stride_66239, num_merges_66243, replicate_n_97881, virt_num_tblocks_97887, num_tblocks_97888, ext_mem_92753.mem, mem_92760.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_92753, "ext_mem_92753") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92763, bytes_92756, "mem_92763")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97901 = next_stride_66239 * num_merges_66243;
                        int64_t tblock_sizze_97906;
                        
                        tblock_sizze_97906 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97906;
                        
                        int64_t virt_num_tblocks_97907 = sdiv_up64(replicate_n_97901, tblock_sizze_97906);
                        int64_t num_tblocks_97908 = smin64(virt_num_tblocks_97907, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97902(ctx, num_tblocks_97908, 1, 1, tblock_sizze_97906, 1, 1, (int64_t) 0, next_stride_66239, num_merges_66243, replicate_n_97901, virt_num_tblocks_97907, num_tblocks_97908, ext_mem_92751.mem, mem_92763.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_92751, "ext_mem_92751") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92767, bytes_92766, "mem_92767")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_97921 = next_stride_66239 * dim_45874 * num_merges_66243;
                        int64_t tblock_sizze_97926;
                        
                        tblock_sizze_97926 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_97926;
                        
                        int64_t virt_num_tblocks_97927 = sdiv_up64(replicate_n_97921, tblock_sizze_97926);
                        int64_t num_tblocks_97928 = smin64(virt_num_tblocks_97927, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_97922(ctx, num_tblocks_97928, 1, 1, tblock_sizze_97926, 1, 1, (int64_t) 0, dim_45874, next_stride_66239, num_merges_66243, replicate_n_97921, virt_num_tblocks_97927, num_tblocks_97928, ext_mem_92752.mem, mem_92767.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &ext_mem_92752, "ext_mem_92752") != 0)
                            return 1;
                        
                        int64_t segmap_tblock_sizze_87930;
                        
                        segmap_tblock_sizze_87930 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85631;
                        
                        int64_t num_tblocks_87931;
                        int64_t max_num_tblocks_97944;
                        
                        max_num_tblocks_97944 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_85633;
                        num_tblocks_87931 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(num_merges_66243, segmap_tblock_sizze_87930), max_num_tblocks_97944)));
                        if (memblock_alloc_device(ctx, &mem_92778, bytes_92777, "mem_92778")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92778.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_66243}, mem_92757.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_66243}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_92757, "mem_92757") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92789, bytes_92777, "mem_92789")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92789.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_66243}, mem_92760.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_66243}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_92760, "mem_92760") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92800, bytes_92777, "mem_92800")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92800.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_66243}, mem_92763.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_66243}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_92763, "mem_92763") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92817, bytes_92816, "mem_92817")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92817.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_66243 * dim_45874, num_merges_66243}, mem_92767.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, num_merges_66243 * dim_45874, num_merges_66243}, (int64_t []) {num_merges_66243, next_stride_66239, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_92767, "mem_92767") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_92828, bytes_92331, "mem_92828")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92828.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_66232}, mem_param_92308.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_66232, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_92868, bytes_92867, "mem_92868")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_92879, bytes_92878, "mem_92879")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_92896, bytes_92895, "mem_92896")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_92907, bytes_92906, "mem_92907")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_97945 = sext_i64_i32(sdiv_up64(num_merges_66243, segmap_tblock_sizze_87930));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_87938(ctx, num_tblocks_87931, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_85631, 1, 1, (int64_t) 0, dim_45874, loop_dz2084Uz2082U_66232, stride_66238, next_stride_66239, num_merges_66243, j_m_i_66261, num_tblocks_87931, binop_y_92806, virt_num_tblocks_97945, mem_param_92301.mem, mem_param_92304.mem, mem_param_92311.mem, mem_92313.mem, mem_92314.mem, mem_92778.mem, mem_92789.mem, mem_92800.mem, mem_92817.mem, mem_92828.mem, mem_92868.mem, mem_92879.mem, mem_92896.mem, mem_92907.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_92778, "mem_92778") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92789, "mem_92789") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92800, "mem_92800") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92817, "mem_92817") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_92828, "mem_92828") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92921, &mem_92868, "mem_92868") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92918, &mem_92879, "mem_92879") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92915, &mem_92896, "mem_92896") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92911, &mem_92907, "mem_92907") != 0)
                            return 1;
                    } else {
                        int64_t shared_memory_capacity_98209;
                        
                        shared_memory_capacity_98209 = ctx->max_shared_memory;
                        if (intra_suff_and_fits_88025 && sle64(sdiv_up64(maxSubHelper_95831, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95832, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95833, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95834, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95835, (int64_t) 8) * (int64_t) 8 + sdiv_up64(maxSubHelper_95836, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92648, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92648, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92628, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92628, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92628, (int64_t) 8) * (int64_t) 8 + sdiv_up64(bytes_92628, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_98209)) {
                            if (memblock_alloc_device(ctx, &mem_92707, bytes_92606, "mem_92707")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92710, bytes_92606, "mem_92710")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92714, bytes_92616, "mem_92714")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92717, bytes_92606, "mem_92717")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t num_chunks_97963 = sext_i64_i32(sdiv_up64(merge_block_sizze_66061 * dim_45874 * num_blocks_66259, computed_tblock_sizze_84570));
                            int32_t num_chunks_97964 = sext_i64_i32(sdiv_up64(merge_block_sizze_66061 * num_blocks_66259, computed_tblock_sizze_84570));
                            int32_t num_chunks_97965 = sext_i64_i32(sdiv_up64(num_blocks_66259, computed_tblock_sizze_84570));
                            int32_t num_chunks_97966 = sext_i64_i32(sdiv_up64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, computed_tblock_sizze_84570));
                            int32_t virt_num_tblocks_97967 = sext_i64_i32(num_merges_66243);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_88035(ctx, num_merges_66243, 1, 1, computed_tblock_sizze_84570, 1, 1, bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8) + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8)) + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8)) + (bytes_92628 + srem64((int64_t) 8 - srem64(bytes_92628, (int64_t) 8), (int64_t) 8)) + (bytes_92648 + srem64((int64_t) 8 - srem64(bytes_92648, (int64_t) 8), (int64_t) 8)) + (bytes_92648 + srem64((int64_t) 8 - srem64(bytes_92648, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95836 + srem64((int64_t) 8 - srem64(maxSubHelper_95836, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95835 + srem64((int64_t) 8 - srem64(maxSubHelper_95835, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95834 + srem64((int64_t) 8 - srem64(maxSubHelper_95834, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95833 + srem64((int64_t) 8 - srem64(maxSubHelper_95833, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95832 + srem64((int64_t) 8 - srem64(maxSubHelper_95832, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95831 + srem64((int64_t) 8 - srem64(maxSubHelper_95831, (int64_t) 8), (int64_t) 8)), dim_45874, merge_block_sizze_66061, stride_66238, next_stride_66239, num_merges_66243, num_blocks_66259, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, j_m_i_66261, computed_tblock_sizze_84570, bytes_92628, bytes_92648, lmad_arg_92673, maxSubHelper_95831, maxSubHelper_95832, maxSubHelper_95833, maxSubHelper_95834, maxSubHelper_95835, maxSubHelper_95836, num_chunks_97963, num_chunks_97964, mem_param_92301.mem, mem_param_92304.mem, mem_param_92308.mem, mem_param_92311.mem, mem_92313.mem, mem_92314.mem, mem_92707.mem, mem_92710.mem, mem_92714.mem, mem_92717.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_set_device(ctx, &ext_mem_92724, &mem_92707, "mem_92707") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92723, &mem_92710, "mem_92710") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92722, &mem_92714, "mem_92714") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92720, &mem_92717, "mem_92717") != 0)
                                return 1;
                        } else {
                            int64_t segmap_usable_groups_88336 = sdiv_up64(nest_sizze_88334, segmap_tblock_sizze_88335);
                            
                            if (memblock_alloc_device(ctx, &mem_92318, bytes_92317, "mem_92318")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92321, bytes_92317, "mem_92321")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_98062 = sext_i64_i32(sdiv_up64(num_merges_66243 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, segmap_tblock_sizze_88335));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_88341(ctx, segmap_usable_groups_88336, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_87159, 1, 1, (int64_t) 0, merge_block_sizze_66061, stride_66238, next_stride_66239, num_merges_66243, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, j_m_i_66261, mem_param_92301.mem, mem_param_92304.mem, mem_92313.mem, mem_92314.mem, mem_92318.mem, mem_92321.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_92332, bytes_92331, "mem_92332")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, loop_dz2084Uz2082U_66232}, mem_param_92308.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {loop_dz2084Uz2082U_66232, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_alloc_device(ctx, &mem_92337, bytes_92336, "mem_92337")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92340, bytes_92336, "mem_92340")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92343, bytes_92336, "mem_92343")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92360, bytes_92359, "mem_92360")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92363, bytes_92336, "mem_92363")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92366, bytes_92336, "mem_92366")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92369, bytes_92336, "mem_92369")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92370, (int64_t) 0, "mem_92370")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92373, bytes_92336, "mem_92373")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92374, (int64_t) 0, "mem_92374")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_98079 = sext_i64_i32(sdiv_up64(num_merges_66243 * num_blocks_66259, segmap_tblock_sizze_88464));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_88479(ctx, num_tblocks_88465, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86885, 1, 1, (int64_t) 0, dim_45874, loop_dz2084Uz2082U_66232, stride_66238, next_stride_66239, num_merges_66243, num_blocks_66259, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_66260, num_tblocks_88465, virt_num_tblocks_98079, mem_param_92301.mem, mem_param_92304.mem, mem_param_92311.mem, mem_92313.mem, mem_92314.mem, mem_92318.mem, mem_92321.mem, mem_92332.mem, mem_92337.mem, mem_92340.mem, mem_92343.mem, mem_92360.mem, mem_92363.mem, mem_92366.mem, mem_92369.mem, mem_92370.mem, mem_92373.mem, mem_92374.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_92318, "mem_92318") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92321, "mem_92321") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92378, bytes_92377, "mem_92378")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_98094 = merge_block_sizze_66061 * num_merges_66243 * num_blocks_66259;
                            int64_t tblock_sizze_98099;
                            
                            tblock_sizze_98099 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98099;
                            
                            int64_t virt_num_tblocks_98100 = sdiv_up64(replicate_n_98094, tblock_sizze_98099);
                            int64_t num_tblocks_98101 = smin64(virt_num_tblocks_98100, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_98095(ctx, num_tblocks_98101, 1, 1, tblock_sizze_98099, 1, 1, (int64_t) 0, merge_block_sizze_66061, num_merges_66243, num_blocks_66259, replicate_n_98094, virt_num_tblocks_98100, num_tblocks_98101, mem_92337.mem, mem_92378.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_92337, "mem_92337") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92382, bytes_92377, "mem_92382")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_98117 = merge_block_sizze_66061 * num_merges_66243 * num_blocks_66259;
                            int64_t tblock_sizze_98122;
                            
                            tblock_sizze_98122 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98122;
                            
                            int64_t virt_num_tblocks_98123 = sdiv_up64(replicate_n_98117, tblock_sizze_98122);
                            int64_t num_tblocks_98124 = smin64(virt_num_tblocks_98123, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_98118(ctx, num_tblocks_98124, 1, 1, tblock_sizze_98122, 1, 1, (int64_t) 0, merge_block_sizze_66061, num_merges_66243, num_blocks_66259, replicate_n_98117, virt_num_tblocks_98123, num_tblocks_98124, mem_92340.mem, mem_92382.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_92340, "mem_92340") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92386, bytes_92377, "mem_92386")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_98140 = merge_block_sizze_66061 * num_merges_66243 * num_blocks_66259;
                            int64_t tblock_sizze_98145;
                            
                            tblock_sizze_98145 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98145;
                            
                            int64_t virt_num_tblocks_98146 = sdiv_up64(replicate_n_98140, tblock_sizze_98145);
                            int64_t num_tblocks_98147 = smin64(virt_num_tblocks_98146, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_98141(ctx, num_tblocks_98147, 1, 1, tblock_sizze_98145, 1, 1, (int64_t) 0, merge_block_sizze_66061, num_merges_66243, num_blocks_66259, replicate_n_98140, virt_num_tblocks_98146, num_tblocks_98147, mem_92343.mem, mem_92386.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_92343, "mem_92343") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92391, bytes_92390, "mem_92391")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            int64_t replicate_n_98163 = merge_block_sizze_66061 * dim_45874 * num_merges_66243 * num_blocks_66259;
                            int64_t tblock_sizze_98168;
                            
                            tblock_sizze_98168 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98168;
                            
                            int64_t virt_num_tblocks_98169 = sdiv_up64(replicate_n_98163, tblock_sizze_98168);
                            int64_t num_tblocks_98170 = smin64(virt_num_tblocks_98169, (int64_t) 1048576);
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezireplicate_98164(ctx, num_tblocks_98170, 1, 1, tblock_sizze_98168, 1, 1, (int64_t) 0, dim_45874, merge_block_sizze_66061, num_merges_66243, num_blocks_66259, replicate_n_98163, virt_num_tblocks_98169, num_tblocks_98170, mem_92360.mem, mem_92391.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_92360, "mem_92360") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92408, bytes_92407, "mem_92408")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92408.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, mem_92378.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, (int64_t []) {num_merges_66243, num_blocks_66259, merge_block_sizze_66061})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92378, "mem_92378") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92425, bytes_92407, "mem_92425")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92425.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, mem_92382.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, (int64_t []) {num_merges_66243, num_blocks_66259, merge_block_sizze_66061})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92382, "mem_92382") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92442, bytes_92407, "mem_92442")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92442.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, mem_92386.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, (int64_t []) {num_merges_66243, num_blocks_66259, merge_block_sizze_66061})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92386, "mem_92386") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92466, bytes_92465, "mem_92466")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_92466.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243 * dim_45874, num_blocks_66259 * num_merges_66243}, mem_92391.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243 * dim_45874, num_blocks_66259 * num_merges_66243}, (int64_t []) {num_merges_66243, num_blocks_66259, merge_block_sizze_66061, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92391, "mem_92391") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92525, bytes_92524, "mem_92525")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92542, bytes_92541, "mem_92542")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92566, bytes_92565, "mem_92566")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_92583, bytes_92582, "mem_92583")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_tblocks_98189 = sext_i64_i32(sdiv_up64(num_merges_66243 * num_blocks_66259, segmap_tblock_sizze_88559));
                            
                            {
                                err = gpu_kernel_sort_for_Skyline_doublezisegmap_88568(ctx, num_tblocks_88560, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_86773, 1, 1, (int64_t) 0, dim_45874, merge_block_sizze_66061, loop_dz2084Uz2082U_66232, next_stride_66239, num_merges_66243, num_blocks_66259, nest_sizze_88463, num_tblocks_88560, binop_y_92454, virt_num_tblocks_98189, mem_param_92301.mem, mem_param_92304.mem, mem_param_92311.mem, mem_92313.mem, mem_92314.mem, mem_92332.mem, mem_92363.mem, mem_92366.mem, mem_92369.mem, mem_92370.mem, mem_92373.mem, mem_92374.mem, mem_92408.mem, mem_92425.mem, mem_92442.mem, mem_92466.mem, mem_92525.mem, mem_92542.mem, mem_92566.mem, mem_92583.mem);
                                if (err != FUTHARK_SUCCESS)
                                    goto cleanup;
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_unref_device(ctx, &mem_92332, "mem_92332") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92363, "mem_92363") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92366, "mem_92366") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92369, "mem_92369") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92370, "mem_92370") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92373, "mem_92373") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92374, "mem_92374") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92408, "mem_92408") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92425, "mem_92425") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92442, "mem_92442") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_92466, "mem_92466") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92587, bytes_92586, "mem_92587")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92587.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_66061 * num_blocks_66259, merge_block_sizze_66061, (int64_t) 1}, mem_92525.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, (int64_t []) {num_merges_66243, num_blocks_66259, merge_block_sizze_66061})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92525, "mem_92525") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92592, bytes_92586, "mem_92592")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92592.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_66061 * num_blocks_66259, merge_block_sizze_66061, (int64_t) 1}, mem_92542.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, (int64_t []) {num_merges_66243, num_blocks_66259, merge_block_sizze_66061})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92542, "mem_92542") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92598, bytes_92597, "mem_92598")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 4, mem_92598.mem, (int64_t) 0, (int64_t []) {dim_45874 * merge_block_sizze_66061 * num_blocks_66259, dim_45874 * merge_block_sizze_66061, dim_45874, (int64_t) 1}, mem_92566.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243 * dim_45874, num_blocks_66259 * num_merges_66243}, (int64_t []) {num_merges_66243, num_blocks_66259, merge_block_sizze_66061, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92566, "mem_92566") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92603, bytes_92586, "mem_92603")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92603.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_66061 * num_blocks_66259, merge_block_sizze_66061, (int64_t) 1}, mem_92583.mem, (int64_t) 0, (int64_t []) {num_blocks_66259, (int64_t) 1, num_blocks_66259 * num_merges_66243}, (int64_t []) {num_merges_66243, num_blocks_66259, merge_block_sizze_66061})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92583, "mem_92583") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92607, bytes_92606, "mem_92607")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92607.mem, (int64_t) 0, (int64_t []) {next_stride_66239, (int64_t) 1}, mem_92587.mem, (int64_t) 0, (int64_t []) {flat_dim_66262, (int64_t) 1}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92587, "mem_92587") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92610, bytes_92606, "mem_92610")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92610.mem, (int64_t) 0, (int64_t []) {next_stride_66239, (int64_t) 1}, mem_92592.mem, (int64_t) 0, (int64_t []) {flat_dim_66262, (int64_t) 1}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92592, "mem_92592") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92613, bytes_92606, "mem_92613")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_92613.mem, (int64_t) 0, (int64_t []) {next_stride_66239, (int64_t) 1}, mem_92603.mem, (int64_t) 0, (int64_t []) {flat_dim_66262, (int64_t) 1}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92603, "mem_92603") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_92617, bytes_92616, "mem_92617")) {
                                err = 1;
                                goto cleanup;
                            }
                            if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_92617.mem, (int64_t) 0, (int64_t []) {dim_45874 * next_stride_66239, dim_45874, (int64_t) 1}, mem_92598.mem, (int64_t) 0, (int64_t []) {dim_45874 * flat_dim_66262, dim_45874, (int64_t) 1}, (int64_t []) {num_merges_66243, next_stride_66239, dim_45874})) != 0)
                                goto cleanup;
                            if (memblock_unref_device(ctx, &mem_92598, "mem_92598") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92724, &mem_92607, "mem_92607") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92723, &mem_92610, "mem_92610") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92722, &mem_92617, "mem_92617") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_92720, &mem_92613, "mem_92613") != 0)
                                return 1;
                        }
                        if (memblock_set_device(ctx, &ext_mem_92921, &ext_mem_92724, "ext_mem_92724") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92918, &ext_mem_92723, "ext_mem_92723") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92915, &ext_mem_92722, "ext_mem_92722") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_92911, &ext_mem_92720, "ext_mem_92720") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_92313, "mem_92313") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_92314, "mem_92314") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93093, &ext_mem_92921, "ext_mem_92921") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93090, &ext_mem_92918, "ext_mem_92918") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93087, &ext_mem_92915, "ext_mem_92915") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_93083, &ext_mem_92911, "ext_mem_92911") != 0)
                        return 1;
                }
                
                int64_t flat_dim_66677 = next_stride_66239 * num_merges_66243;
                
                if (memblock_alloc_device(ctx, &mem_93096, bytes_92606, "mem_93096")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93096.mem, (int64_t) 0, (int64_t []) {next_stride_66239, (int64_t) 1}, ext_mem_93093.mem, (int64_t) 0, (int64_t []) {ext_93092, ext_93091}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93093, "ext_mem_93093") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93100, bytes_92606, "mem_93100")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93100.mem, (int64_t) 0, (int64_t []) {next_stride_66239, (int64_t) 1}, ext_mem_93090.mem, (int64_t) 0, (int64_t []) {ext_93092, ext_93091}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93090, "ext_mem_93090") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93105, bytes_92616, "mem_93105")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 3, mem_93105.mem, (int64_t) 0, (int64_t []) {dim_45874 * next_stride_66239, dim_45874, (int64_t) 1}, ext_mem_93087.mem, (int64_t) 0, (int64_t []) {ext_93086, ext_93085, ext_93091}, (int64_t []) {num_merges_66243, next_stride_66239, dim_45874})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93087, "ext_mem_93087") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_93109, bytes_92606, "mem_93109")) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93109.mem, (int64_t) 0, (int64_t []) {next_stride_66239, (int64_t) 1}, ext_mem_93083.mem, (int64_t) 0, (int64_t []) {ext_93092, ext_93091}, (int64_t []) {num_merges_66243, next_stride_66239})) != 0)
                    goto cleanup;
                if (memblock_unref_device(ctx, &ext_mem_93083, "ext_mem_93083") != 0)
                    return 1;
                
                bool loop_cond_66682 = slt64(next_stride_66239, flat_dim_66055);
                
                if (memblock_set_device(ctx, &mem_param_tmp_97631, &mem_93096, "mem_93096") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_97632, &mem_93100, "mem_93100") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_97633, &mem_93105, "mem_93105") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_tmp_97634, &mem_93109, "mem_93109") != 0)
                    return 1;
                
                int64_t loop_dz2084Uz2082U_tmp_97635 = flat_dim_66677;
                bool loop_while_tmp_97636 = loop_cond_66682;
                int64_t stride_tmp_97641 = next_stride_66239;
                
                if (memblock_set_device(ctx, &mem_param_92301, &mem_param_tmp_97631, "mem_param_tmp_97631") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_92304, &mem_param_tmp_97632, "mem_param_tmp_97632") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_92308, &mem_param_tmp_97633, "mem_param_tmp_97633") != 0)
                    return 1;
                if (memblock_set_device(ctx, &mem_param_92311, &mem_param_tmp_97634, "mem_param_tmp_97634") != 0)
                    return 1;
                loop_dz2084Uz2082U_66232 = loop_dz2084Uz2082U_tmp_97635;
                loop_while_66233 = loop_while_tmp_97636;
                stride_66238 = stride_tmp_97641;
            }
            if (memblock_set_device(ctx, &ext_mem_93123, &mem_param_92301, "mem_param_92301") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93122, &mem_param_92304, "mem_param_92304") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93121, &mem_param_92308, "mem_param_92308") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93120, &mem_param_92311, "mem_param_92311") != 0)
                return 1;
            data_66225 = loop_dz2084Uz2082U_66232;
            data_66226 = loop_while_66233;
            data_66231 = stride_66238;
            if (memblock_unref_device(ctx, &mem_92284, "mem_92284") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92288, "mem_92288") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92293, "mem_92293") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_92297, "mem_92297") != 0)
                return 1;
            
            bool i_p_m_t_s_leq_w_66685 = slt64(zs_lhs_66030, data_66225);
            bool y_66686 = zzero_leq_i_p_m_t_s_66684 && i_p_m_t_s_leq_w_66685;
            bool ok_or_empty_66687 = empty_slice_66683 || y_66686;
            bool index_certs_66688;
            
            if (!ok_or_empty_66687) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_45877, "] out of bounds for array of shape [", (long long) data_66225, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            if (memblock_set_device(ctx, &ext_mem_93130, &ext_mem_93121, "ext_mem_93121") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_93126, &ext_mem_93120, "ext_mem_93120") != 0)
                return 1;
        }
        if (memblock_unref_device(ctx, &mem_91983, "mem_91983") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92050, "mem_92050") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93132, bytes_91600, "mem_93132")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_93132.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_93126.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {n_45877})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_93126, "ext_mem_93126") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_93135, bytes_91651, "mem_93135")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_93135.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, ext_mem_93130.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &ext_mem_93130, "ext_mem_93130") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_94417, &mem_93135, "mem_93135") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_94416, &mem_93132, "mem_93132") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_91601, "mem_91601") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91632, "mem_91632") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_91633, "mem_91633") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94428, bytes_91672, "mem_94428")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94428.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, ext_mem_94417.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
        goto cleanup;
    
    int64_t min_arg1_91500;
    
    if (x_67258) {
        int64_t read_res_99242;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99242, mem_91634.mem, (int64_t) 0 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_91591 = read_res_99242;
        
        min_arg1_91500 = x_91591;
    } else {
        min_arg1_91500 = (int64_t) 0;
    }
    if (memblock_unref_device(ctx, &mem_91634, "mem_91634") != 0)
        return 1;
    
    int64_t maxSubHelper_95851 = umax64((int64_t) 0, binop_x_91660);
    int64_t maxSubHelper_95852 = umax64((int64_t) 0, binop_x_91660);
    int64_t num_threads_96027 = seghist_tblock_sizze_88710 * num_tblocks_88712;
    int64_t total_sizze_96028 = maxSubHelper_95851 * num_threads_96027;
    
    if (memblock_alloc_device(ctx, &color_95853, total_sizze_96028, "color_95853")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_96029 = binop_x_91660 * num_threads_96027;
    
    if (memblock_alloc_device(ctx, &color_95854, total_sizze_96029, "color_95854")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_96030 = binop_x_91660 * num_threads_96027;
    
    if (memblock_alloc_device(ctx, &color_95855, total_sizze_96030, "color_95855")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_96031 = binop_x_91660 * num_threads_96027;
    
    if (memblock_alloc_device(ctx, &color_95856, total_sizze_96031, "color_95856")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_96032 = maxSubHelper_95852 * num_threads_96027;
    
    if (memblock_alloc_device(ctx, &color_95857, total_sizze_96032, "color_95857")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_96033 = binop_x_91660 * num_threads_96027;
    
    if (memblock_alloc_device(ctx, &color_95858, total_sizze_96033, "color_95858")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t total_sizze_96034 = binop_x_91660 * num_threads_96027;
    
    if (memblock_alloc_device(ctx, &color_95859, total_sizze_96034, "color_95859")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t num_subhistos_98211;
    int64_t h_98214 = (int64_t) 4 * total_grid_no_45885;
    int64_t seg_h_98215 = (int64_t) 4 * total_grid_no_45885;
    
    if (!(seg_h_98215 == (int64_t) 0)) {
        int64_t hist_H_98216 = total_grid_no_45885;
        int64_t hist_el_sizze_98217 = sdiv_up64(h_98214, hist_H_98216);
        int64_t hist_N_98218 = n_45877;
        int32_t hist_RF_98219 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_88712 * seghist_tblock_sizze_88710), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_88710, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_98216, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_98218, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_98217, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_98219, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_98214, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_98215, '\n');
        
        int64_t hist_L_98220;
        
        hist_L_98220 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L_98220;
        
        int64_t max_tblock_sizze_98221;
        
        max_tblock_sizze_98221 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_98222 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_88712 * seghist_tblock_sizze_88710)), max_tblock_sizze_98221);
        double hist_m_prime_98223 = sitofp_i64_f64(smin64(squot64(hist_L_98220, hist_el_sizze_98217), sdiv_up64(hist_N_98218, num_tblocks_98222))) / sitofp_i64_f64(hist_H_98216);
        int64_t hist_M0_98224 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_98223), max_tblock_sizze_98221));
        int64_t hist_Nout_98225 = (int64_t) 1;
        int64_t hist_Nin_98226 = n_45877;
        int64_t work_asymp_M_max_98227 = squot64(hist_Nout_98225 * hist_N_98218, (int64_t) 2 * num_tblocks_98222 * hist_H_98216);
        int32_t hist_M_98228 = sext_i64_i32(smin64(hist_M0_98224, work_asymp_M_max_98227));
        int64_t hist_C_98229 = sdiv_up64(max_tblock_sizze_98221, sext_i32_i64(smax32(1, hist_M_98228)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_98224, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_98227, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_98229, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_98221, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_98228, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_98216 * hist_el_sizze_98217 * sext_i32_i64(hist_M_98228)), '\n');
        
        int64_t local_mem_needed_98230 = hist_el_sizze_98217 * sext_i32_i64(hist_M_98228);
        int32_t hist_S_98231 = sext_i64_i32(sdiv_up64(hist_H_98216 * local_mem_needed_98230 + (int64_t) 1, hist_L_98220));
        
        if (sle64(hist_H_98216, hist_Nin_98226) && (sle64(local_mem_needed_98230, hist_L_98220) && (sle32(hist_S_98231, 3) && (sle64(hist_C_98229, max_tblock_sizze_98221) && slt32(0, hist_M_98228))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_98216, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_98228, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_98229, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_98231, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_98228, '\n');
            num_subhistos_98211 = num_tblocks_98222;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_98211, '\n');
            if (num_subhistos_98211 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_98212, &mem_91612, "mem_91612") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_98212, num_subhistos_98211 * total_grid_no_45885 * (int64_t) 4, "defunc_0_map_res_subhistos_mem_98212")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i32(ctx, defunc_0_map_res_subhistos_mem_98212, num_subhistos_98211 * total_grid_no_45885, 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_4b(ctx, 1, defunc_0_map_res_subhistos_mem_98212.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_91612.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_grid_no_45885})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_98232 = 0; chk_i_98232 < hist_S_98231; chk_i_98232++) {
                int64_t num_segments_98233 = (int64_t) 1;
                int64_t hist_H_chk_98234 = sdiv_up64(total_grid_no_45885, sext_i32_i64(hist_S_98231));
                int64_t histo_sizze_98235 = hist_H_chk_98234;
                int32_t init_per_thread_98236 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_98228) * histo_sizze_98235, max_tblock_sizze_98221));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_local_88717(ctx, num_tblocks_98222, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 4 * (hist_M_98228 * hist_H_chk_98234) + srem64((int64_t) 8 - srem64((int64_t) 4 * (hist_M_98228 * hist_H_chk_98234), (int64_t) 8), (int64_t) 8), dim_45874, n_45877, total_grid_no_45885, arg_65084, cond_65095, min_arg1_91500, num_threads_96027, num_subhistos_98211, num_tblocks_98222, hist_M_98228, chk_i_98232, num_segments_98233, hist_H_chk_98234, histo_sizze_98235, init_per_thread_98236, grid_part_prefix_sum_mem_91595.mem, grid_part_sizze_per_dim_mem_91596.mem, grid_partitions_per_dim_mem_91597.mem, start_of_grid_partition_mem_91598.mem, mem_94428.mem, color_95853.mem, color_95854.mem, color_95855.mem, color_95856.mem, color_95857.mem, color_95858.mem, color_95859.mem, defunc_0_map_res_subhistos_mem_98212.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_98278 = total_grid_no_45885;
            double hist_RF_98279 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_98280 = 4;
            double hist_C_max_98281 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_88712 * seghist_tblock_sizze_88710)), sitofp_i32_f64(hist_H_98278) / 2.0);
            int32_t hist_M_min_98282 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_88712 * seghist_tblock_sizze_88710)) / hist_C_max_98281)));
            int64_t hist_L2_98283;
            
            hist_L2_98283 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L2_98283;
            
            double hist_RACE_exp_98284 = fmax64(1.0, 0.75 * hist_RF_98279 / (64.0 / sitofp_i32_f64(hist_el_sizze_98280)));
            int32_t hist_S_98285;
            
            if (slt64(n_45877, hist_H_98278)) {
                hist_S_98285 = 1;
            } else {
                hist_S_98285 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_98282) * hist_H_98278 * sext_i32_i64(hist_el_sizze_98280), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_98283) * hist_RACE_exp_98284)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_98284, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_98285, '\n');
            
            int64_t hist_H_chk_98286 = sdiv_up64(total_grid_no_45885, sext_i32_i64(hist_S_98285));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_98286, '\n');
            
            double hist_k_max_98287 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_98283) / sitofp_i32_f64(4)) * hist_RACE_exp_98284, sitofp_i32_f64(n_45877)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_88712 * seghist_tblock_sizze_88710));
            int64_t hist_u_98288 = (int64_t) 2;
            double hist_C_98289 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_88712 * seghist_tblock_sizze_88710)), sitofp_i32_f64(hist_u_98288 * hist_H_chk_98286) / hist_k_max_98287);
            int32_t hist_M_98290 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_98287, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_98290, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_98289, '\n');
            num_subhistos_98211 = sext_i32_i64(hist_M_98290);
            if (hist_M_98290 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_98212, &mem_91612, "mem_91612") != 0)
                    return 1;
            } else if (num_subhistos_98211 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_98212, &mem_91612, "mem_91612") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_98212, num_subhistos_98211 * total_grid_no_45885 * (int64_t) 4, "defunc_0_map_res_subhistos_mem_98212")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i32(ctx, defunc_0_map_res_subhistos_mem_98212, num_subhistos_98211 * total_grid_no_45885, 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_4b(ctx, 1, defunc_0_map_res_subhistos_mem_98212.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_91612.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_grid_no_45885})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_98291 = 0; chk_i_98291 < hist_S_98285; chk_i_98291++) {
                int64_t hist_H_chk_98292 = sdiv_up64(total_grid_no_45885, sext_i32_i64(hist_S_98285));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_global_88717(ctx, num_tblocks_88712, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709, 1, 1, (int64_t) 0, dim_45874, n_45877, total_grid_no_45885, arg_65084, cond_65095, num_tblocks_88712, min_arg1_91500, num_threads_96027, num_subhistos_98211, chk_i_98291, hist_H_chk_98292, grid_part_prefix_sum_mem_91595.mem, grid_part_sizze_per_dim_mem_91596.mem, grid_partitions_per_dim_mem_91597.mem, start_of_grid_partition_mem_91598.mem, mem_94428.mem, color_95853.mem, color_95854.mem, color_95855.mem, color_95856.mem, color_95857.mem, color_95858.mem, color_95859.mem, defunc_0_map_res_subhistos_mem_98212.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
                ctx->failure_is_an_option = 1;
            }
        }
        if (num_subhistos_98211 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_91612, &defunc_0_map_res_subhistos_mem_98212, "defunc_0_map_res_subhistos_mem_98212") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_98318 = (int64_t) 1;
            
            if (slt64(num_subhistos_98211 * (int64_t) 2, seghist_tblock_sizze_88710 * chunk_sizze_98318)) {
                int64_t segment_sizze_nonzzero_98319 = smax64((int64_t) 1, num_subhistos_98211);
                int64_t num_threads_98320 = seghist_tblock_sizze_88710 * seghist_tblock_sizze_88710;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_grid_no_45885, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_98211, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_grid_no_45885, squot64(seghist_tblock_sizze_88710, segment_sizze_nonzzero_98319))), '\n');
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_small_98317(ctx, num_tblocks_88712, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709, 1, 1, (int64_t) 4 * seghist_tblock_sizze_88710 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_88710, (int64_t) 8), (int64_t) 8), total_grid_no_45885, num_tblocks_88712, num_subhistos_98211, segment_sizze_nonzzero_98319, mem_91612.mem, defunc_0_map_res_subhistos_mem_98212.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_98348 = sdiv_up64(num_tblocks_88712, smax64((int64_t) 1, total_grid_no_45885));
                int64_t q_98349 = sdiv_up64(num_subhistos_98211, seghist_tblock_sizze_88710 * blocks_per_segment_98348 * chunk_sizze_98318);
                int64_t num_virtblocks_98350 = blocks_per_segment_98348 * total_grid_no_45885;
                int64_t threads_per_segment_98351 = blocks_per_segment_98348 * seghist_tblock_sizze_88710;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_grid_no_45885, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_98211, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_98350, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_88712, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_88710, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_98349, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_98348, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_98352, (int64_t) 4 * num_virtblocks_98350, "segred_tmp_mem_98352")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_large_98317(ctx, num_tblocks_88712, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_88709, 1, 1, 8 + ((int64_t) 4 * seghist_tblock_sizze_88710 + srem64((int64_t) 8 - srem64((int64_t) 4 * seghist_tblock_sizze_88710, (int64_t) 8), (int64_t) 8)), total_grid_no_45885, num_tblocks_88712, num_subhistos_98211, blocks_per_segment_98348, q_98349, num_virtblocks_98350, threads_per_segment_98351, mem_91612.mem, defunc_0_map_res_subhistos_mem_98212.mem, segred_tmp_mem_98352.mem, counters_mem_98354.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_94428, "mem_94428") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95853, "color_95853") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95854, "color_95854") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95855, "color_95855") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95856, "color_95856") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95857, "color_95857") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95858, "color_95858") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95859, "color_95859") != 0)
        return 1;
    
    int64_t binop_y_94493 = dz2080U_45875 - (int64_t) 1;
    int64_t binop_x_94495 = smax64((int64_t) 0, binop_y_94493);
    int64_t binop_y_94498 = dz2080U_45875 * binop_x_91667;
    int64_t binop_y_94499 = smax64((int64_t) 0, binop_y_94498);
    int64_t binop_y_94500 = binop_x_94495 + binop_y_94499;
    int64_t binop_y_94501 = (int64_t) 1 + binop_y_94500;
    int64_t bytes_94502 = (int64_t) 8 * binop_y_94501;
    
    if (memblock_alloc_device(ctx, &mem_94503, bytes_94502, "mem_94503")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94503.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, dz2080U_45875}, start_of_grid_partition_mem_91598.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {dz2080U_45875, dim_45874})) != 0)
        goto cleanup;
    
    int64_t num_threads_96080 = segred_tblock_sizze_88793 * num_tblocks_88795;
    int64_t total_sizze_96081 = dim_45874 * num_threads_96080;
    
    if (memblock_alloc_device(ctx, &color_95860, total_sizze_96081, "color_95860")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_66787 = 0; i_66787 < total_grid_no_45885; i_66787++) {
        bool y_66789 = slt64(i_66787, dz2080U_45875);
        bool index_certs_66790;
        
        if (!y_66789) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_66787, "] out of bounds for array of shape [", (long long) dz2080U_45875, "].", "-> #0  ftSkyline.fut:307:46-76\n   #1  ftSkyline.fut:752:17-40\n   #2  ftSkyline.fut:742:1-752:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegRed");
        
        int64_t chunk_sizze_98392 = (int64_t) 1;
        
        if (memblock_alloc_device(ctx, &segred_tmp_mem_98395, num_tblocks_88795, "segred_tmp_mem_98395")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t num_threads_98397 = num_tblocks_88795 * segred_tblock_sizze_88793;
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegred_nonseg_88800(ctx, num_tblocks_88795, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegred_tblock_sizze_88792, 1, 1, 8 + (segred_tblock_sizze_88793 + srem64((int64_t) 8 - srem64(segred_tblock_sizze_88793, (int64_t) 8), (int64_t) 8)), dim_45874, dz2080U_45875, total_grid_no_45885, i_66787, num_tblocks_88795, num_threads_96080, num_threads_98397, start_of_grid_partition_mem_91598.mem, mem_91612.mem, mem_91613.mem, mem_94503.mem, color_95860.mem, counters_mem_98393.mem, segred_tmp_mem_98395.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_91612, "mem_91612") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_94503, "mem_94503") != 0)
        return 1;
    if (memblock_unref_device(ctx, &color_95860, "color_95860") != 0)
        return 1;
    
    int64_t ext_94752;
    int64_t shared_memory_capacity_98428;
    
    shared_memory_capacity_98428 = ctx->max_shared_memory;
    if (intra_suff_and_fits_90673) {
        ext_94752 = dim_45874;
    } else {
        ext_94752 = (int64_t) 1;
    }
    
    int64_t ext_94751;
    int64_t shared_memory_capacity_98429;
    
    shared_memory_capacity_98429 = ctx->max_shared_memory;
    if (intra_suff_and_fits_90673) {
        ext_94751 = (int64_t) 1;
    } else {
        ext_94751 = n_45877;
    }
    
    int64_t ext_94655;
    int64_t shared_memory_capacity_98430;
    
    shared_memory_capacity_98430 = ctx->max_shared_memory;
    if (intra_suff_and_fits_90749) {
        ext_94655 = dim_45874;
    } else {
        ext_94655 = (int64_t) 1;
    }
    
    int64_t ext_94654;
    int64_t shared_memory_capacity_98431;
    
    shared_memory_capacity_98431 = ctx->max_shared_memory;
    if (intra_suff_and_fits_90749) {
        ext_94654 = (int64_t) 1;
    } else {
        ext_94654 = n_45877;
    }
    
    int64_t binop_y_94569 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_94570 = (int64_t) 1 + binop_y_94569;
    int64_t bytes_94571 = (int64_t) 8 * binop_y_94570;
    int64_t binop_y_94621 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_94622 = (int64_t) 1 + binop_y_94621;
    int64_t bytes_94623 = (int64_t) 8 * binop_y_94622;
    int64_t binop_y_94705 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_94706 = (int64_t) 1 + binop_y_94705;
    int64_t bytes_94707 = (int64_t) 8 * binop_y_94706;
    int64_t binop_y_94826 = binop_x_91665 + binop_y_91669;
    int64_t binop_y_94827 = (int64_t) 1 + binop_y_94826;
    int64_t bytes_94828 = (int64_t) 8 * binop_y_94827;
    int64_t ext_94758;
    
    if (cond_65095) {
        ext_94758 = dim_45874;
    } else {
        ext_94758 = ext_94752;
    }
    
    int64_t ext_94757;
    
    if (cond_65095) {
        ext_94757 = (int64_t) 1;
    } else {
        ext_94757 = ext_94751;
    }
    
    int64_t ext_94661;
    
    if (cond_65095) {
        ext_94661 = dim_45874;
    } else {
        ext_94661 = ext_94655;
    }
    
    int64_t ext_94660;
    
    if (cond_65095) {
        ext_94660 = (int64_t) 1;
    } else {
        ext_94660 = ext_94654;
    }
    
    int64_t maxSubHelper_95872 = umax64((int64_t) 0, binop_x_91660);
    
    if (cond_65095) {
        if (memblock_alloc_device(ctx, &mem_94756, bytes_91651, "mem_94756")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_94759, &mem_94756, "mem_94756") != 0)
            return 1;
    } else {
        int64_t shared_memory_capacity_98623;
        
        shared_memory_capacity_98623 = ctx->max_shared_memory;
        if (intra_suff_and_fits_90673 && sle64(sdiv_up64(maxSubHelper_95872, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_98623)) {
            if (memblock_alloc_device(ctx, &mem_94750, bytes_91651, "mem_94750")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_98432 = sext_i64_i32(sdiv_up64(dim_45874, dim_45874));
            int32_t virt_num_tblocks_98433 = sext_i64_i32(n_45877);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_90677(ctx, n_45877, 1, 1, dim_45874, 1, 1, binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_95872 + srem64((int64_t) 8 - srem64(maxSubHelper_95872, (int64_t) 8), (int64_t) 8)), dim_45874, n_45877, arg_65084, cond_65095, binop_x_91660, maxSubHelper_95872, grid_part_sizze_per_dim_mem_91596.mem, grid_partitions_per_dim_mem_91597.mem, start_of_grid_partition_mem_91598.mem, mem_91635.mem, ext_mem_94417.mem, mem_94750.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_94753, &mem_94750, "mem_94750") != 0)
                return 1;
        } else {
            if (cond_65095) {
                if (memblock_alloc_device(ctx, &mem_94659, bytes_91651, "mem_94659")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_set_device(ctx, &ext_mem_94662, &mem_94659, "mem_94659") != 0)
                    return 1;
            } else {
                int64_t shared_memory_capacity_98579;
                
                shared_memory_capacity_98579 = ctx->max_shared_memory;
                if (intra_suff_and_fits_90749 && sle64(sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8 + sdiv_up64(binop_x_91660, (int64_t) 8) * (int64_t) 8, shared_memory_capacity_98579)) {
                    if (memblock_alloc_device(ctx, &mem_94653, bytes_91651, "mem_94653")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_98453 = sext_i64_i32(sdiv_up64(dim_45874, dim_45874));
                    int32_t virt_num_tblocks_98454 = sext_i64_i32(n_45877);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_intrablock_90753(ctx, n_45877, 1, 1, dim_45874, 1, 1, binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)) + (binop_x_91660 + srem64((int64_t) 8 - srem64(binop_x_91660, (int64_t) 8), (int64_t) 8)), dim_45874, n_45877, arg_65084, cond_65095, binop_x_91660, grid_part_sizze_per_dim_mem_91596.mem, start_of_grid_partition_mem_91598.mem, ext_mem_94417.mem, mem_94653.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_94656, &mem_94653, "mem_94653") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_94526, bytes_91651, "mem_94526")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_98471 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_90804));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_90809(ctx, segmap_usable_groups_90805, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89883, 1, 1, (int64_t) 0, dim_45874, n_45877, start_of_grid_partition_mem_91598.mem, ext_mem_94417.mem, mem_94526.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_98482 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_90820));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_90825(ctx, segmap_usable_groups_90821, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89850, 1, 1, (int64_t) 0, dim_45874, n_45877, grid_part_sizze_per_dim_mem_91596.mem, mem_94526.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (cond_65095) {
                        if (memblock_alloc_device(ctx, &mem_94575, bytes_91651, "mem_94575")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_set_device(ctx, &ext_mem_94578, &mem_94575, "mem_94575") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_94529, bytes_91600, "mem_94529")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_98493 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_90833));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_90837(ctx, segmap_usable_groups_90834, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89796, 1, 1, (int64_t) 0, dim_45874, n_45877, mem_94526.mem, mem_94529.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_94532, bytes_91661, "mem_94532")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        int64_t replicate_n_98502 = dim_45874 * n_45877;
                        int64_t tblock_sizze_98507;
                        
                        tblock_sizze_98507 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98507;
                        
                        int64_t virt_num_tblocks_98508 = sdiv_up64(replicate_n_98502, tblock_sizze_98507);
                        int64_t num_tblocks_98509 = smin64(virt_num_tblocks_98508, (int64_t) 1048576);
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezireplicate_98503(ctx, num_tblocks_98509, 1, 1, tblock_sizze_98507, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_98502, virt_num_tblocks_98508, num_tblocks_98509, mem_94529.mem, mem_94532.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_94529, "mem_94529") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_94543, bytes_91672, "mem_94543")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94543.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94532.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_unref_device(ctx, &mem_94532, "mem_94532") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_94554, bytes_91672, "mem_94554")) {
                            err = 1;
                            goto cleanup;
                        }
                        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94554.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94526.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
                            goto cleanup;
                        if (memblock_alloc_device(ctx, &mem_94572, bytes_94571, "mem_94572")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_tblocks_98522 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_90845));
                        
                        {
                            err = gpu_kernel_sort_for_Skyline_doublezisegmap_90850(ctx, num_tblocks_90846, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89770, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_90846, virt_num_tblocks_98522, mem_94543.mem, mem_94554.mem, mem_94572.mem);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_94543, "mem_94543") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_94554, "mem_94554") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_94578, &mem_94572, "mem_94572") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_94526, "mem_94526") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_94581, bytes_91600, "mem_94581")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_98536 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_90866));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_90870(ctx, segmap_usable_groups_90867, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89738, 1, 1, (int64_t) 0, n_45877, ext_91707, ext_mem_94578.mem, mem_94581.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_alloc_device(ctx, &mem_94584, bytes_91661, "mem_94584")) {
                        err = 1;
                        goto cleanup;
                    }
                    
                    int64_t replicate_n_98545 = dim_45874 * n_45877;
                    int64_t tblock_sizze_98550;
                    
                    tblock_sizze_98550 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98550;
                    
                    int64_t virt_num_tblocks_98551 = sdiv_up64(replicate_n_98545, tblock_sizze_98550);
                    int64_t num_tblocks_98552 = smin64(virt_num_tblocks_98551, (int64_t) 1048576);
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezireplicate_98546(ctx, num_tblocks_98552, 1, 1, tblock_sizze_98550, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_98545, virt_num_tblocks_98551, num_tblocks_98552, mem_94581.mem, mem_94584.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_94581, "mem_94581") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_94595, bytes_91672, "mem_94595")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94595.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94584.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &mem_94584, "mem_94584") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_94606, bytes_91672, "mem_94606")) {
                        err = 1;
                        goto cleanup;
                    }
                    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94606.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, ext_mem_94578.mem, (int64_t) 0, (int64_t []) {ext_91707, ext_91706}, (int64_t []) {n_45877, dim_45874})) != 0)
                        goto cleanup;
                    if (memblock_unref_device(ctx, &ext_mem_94578, "ext_mem_94578") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_94624, bytes_94623, "mem_94624")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_tblocks_98565 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_90878));
                    
                    {
                        err = gpu_kernel_sort_for_Skyline_doublezisegmap_90883(ctx, num_tblocks_90879, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89712, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_90879, virt_num_tblocks_98565, mem_94595.mem, mem_94606.mem, mem_94624.mem);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_94595, "mem_94595") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_94606, "mem_94606") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_94656, &mem_94624, "mem_94624") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_94662, &ext_mem_94656, "ext_mem_94656") != 0)
                    return 1;
            }
            if (memblock_alloc_device(ctx, &mem_94665, bytes_91600, "mem_94665")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_98580 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_90899));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_90903(ctx, segmap_usable_groups_90900, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89585, 1, 1, (int64_t) 0, n_45877, ext_94661, mem_91635.mem, ext_mem_94662.mem, mem_94665.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_alloc_device(ctx, &mem_94668, bytes_91661, "mem_94668")) {
                err = 1;
                goto cleanup;
            }
            
            int64_t replicate_n_98589 = dim_45874 * n_45877;
            int64_t tblock_sizze_98594;
            
            tblock_sizze_98594 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98594;
            
            int64_t virt_num_tblocks_98595 = sdiv_up64(replicate_n_98589, tblock_sizze_98594);
            int64_t num_tblocks_98596 = smin64(virt_num_tblocks_98595, (int64_t) 1048576);
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezireplicate_98590(ctx, num_tblocks_98596, 1, 1, tblock_sizze_98594, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_98589, virt_num_tblocks_98595, num_tblocks_98596, mem_94665.mem, mem_94668.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_94665, "mem_94665") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_94679, bytes_91672, "mem_94679")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94679.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94668.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &mem_94668, "mem_94668") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_94690, bytes_91672, "mem_94690")) {
                err = 1;
                goto cleanup;
            }
            if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94690.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, ext_mem_94662.mem, (int64_t) 0, (int64_t []) {ext_94661, ext_94660}, (int64_t []) {n_45877, dim_45874})) != 0)
                goto cleanup;
            if (memblock_unref_device(ctx, &ext_mem_94662, "ext_mem_94662") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_94708, bytes_94707, "mem_94708")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_tblocks_98609 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_90911));
            
            {
                err = gpu_kernel_sort_for_Skyline_doublezisegmap_90916(ctx, num_tblocks_90912, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89556, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_90912, virt_num_tblocks_98609, grid_partitions_per_dim_mem_91597.mem, mem_94679.mem, mem_94690.mem, mem_94708.mem);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_94679, "mem_94679") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_94690, "mem_94690") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_94753, &mem_94708, "mem_94708") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_94759, &ext_mem_94753, "ext_mem_94753") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_91635, "mem_91635") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94763, bytes_91651, "mem_94763")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98624 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_90940));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_90945(ctx, segmap_usable_groups_90941, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89379, 1, 1, (int64_t) 0, dim_45874, n_45877, ext_94757, ext_94758, grid_part_prefix_sum_mem_91595.mem, ext_mem_94759.mem, mem_94763.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_94759, "ext_mem_94759") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94774, bytes_91672, "mem_94774")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94774.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94763.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_94763, "mem_94763") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94776, (int64_t) 0, "mem_94776")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_94778, bytes_91600, "mem_94778")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98635 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_90951));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_90956(ctx, segmap_usable_groups_90952, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89350, 1, 1, (int64_t) 0, dim_45874, dz2080U_45875, n_45877, mem_94774.mem, mem_94776.mem, mem_94778.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_94774, "mem_94774") != 0)
        return 1;
    if (cond_65095) {
        if (memblock_alloc_device(ctx, &mem_94832, bytes_91651, "mem_94832")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_set_device(ctx, &ext_mem_94835, &mem_94832, "mem_94832") != 0)
            return 1;
    } else {
        if (memblock_alloc_device(ctx, &mem_94786, bytes_91651, "mem_94786")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98645 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_90971));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_90976(ctx, segmap_usable_groups_90972, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89280, 1, 1, (int64_t) 0, dim_45874, n_45877, start_of_grid_partition_mem_91598.mem, mem_94776.mem, mem_94778.mem, mem_94786.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98656 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_90986));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_90991(ctx, segmap_usable_groups_90987, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89254, 1, 1, (int64_t) 0, dim_45874, n_45877, ext_mem_94417.mem, mem_94786.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_alloc_device(ctx, &mem_94789, bytes_91661, "mem_94789")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t replicate_n_98667 = dim_45874 * n_45877;
        int64_t tblock_sizze_98672;
        
        tblock_sizze_98672 = *ctx->tuning_params.sort_for_Skyline_doublezitblock_sizze_98672;
        
        int64_t virt_num_tblocks_98673 = sdiv_up64(replicate_n_98667, tblock_sizze_98672);
        int64_t num_tblocks_98674 = smin64(virt_num_tblocks_98673, (int64_t) 1048576);
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezireplicate_98668(ctx, num_tblocks_98674, 1, 1, tblock_sizze_98672, 1, 1, (int64_t) 0, dim_45874, n_45877, replicate_n_98667, virt_num_tblocks_98673, num_tblocks_98674, mem_94786.mem, mem_94789.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_94800, bytes_91672, "mem_94800")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94800.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94789.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, (int64_t []) {n_45877, dim_45874})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_94789, "mem_94789") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94811, bytes_91672, "mem_94811")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94811.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94786.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {n_45877, dim_45874})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_94786, "mem_94786") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94829, bytes_94828, "mem_94829")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98687 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_91008));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_91013(ctx, num_tblocks_91009, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89208, 1, 1, (int64_t) 0, dim_45874, n_45877, arg_65084, num_tblocks_91009, virt_num_tblocks_98687, mem_94800.mem, mem_94811.mem, mem_94829.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        ctx->failure_is_an_option = 1;
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_94800, "mem_94800") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94811, "mem_94811") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_94835, &mem_94829, "mem_94829") != 0)
            return 1;
    }
    if (memblock_unref_device(ctx, &mem_94776, "mem_94776") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94838, bytes_91985, "mem_94838")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_f64(ctx, mem_94838, n_45877 * arg_65084, 0.0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_94857, bytes_92004, "mem_94857")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t ext_94882;
    int64_t ext_94881;
    int64_t ctx_param_ext_94840;
    int64_t ctx_param_ext_94841;
    
    if (memblock_set_device(ctx, &mem_param_94842, &mem_94838, "mem_94838") != 0)
        return 1;
    ctx_param_ext_94840 = arg_65084;
    ctx_param_ext_94841 = (int64_t) 1;
    for (int64_t i_91030 = 0; i_91030 < arg_65084; i_91030++) {
        bool y_91032 = slt64(i_91030, dim_45874);
        bool index_certs_91033;
        
        if (!y_91032) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_91030, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:140:38-43\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:345:80-81\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t map_arg1_91034 = add64((int64_t) 1, i_91030);
        int64_t j_m_i_91035 = sub64(dim_45874, map_arg1_91034);
        bool empty_slice_91036 = j_m_i_91035 == (int64_t) 0;
        int64_t m_91037 = sub64(j_m_i_91035, (int64_t) 1);
        int64_t i_p_m_t_s_91038 = add64(map_arg1_91034, m_91037);
        bool zzero_leq_i_p_m_t_s_91039 = sle64((int64_t) 0, i_p_m_t_s_91038);
        bool i_p_m_t_s_leq_w_91040 = slt64(i_p_m_t_s_91038, dim_45874);
        bool zzero_lte_i_91041 = sle64((int64_t) 0, map_arg1_91034);
        bool i_lte_j_91042 = sle64(map_arg1_91034, dim_45874);
        bool y_91043 = i_p_m_t_s_leq_w_91040 && zzero_lte_i_91041;
        bool y_91044 = zzero_leq_i_p_m_t_s_91039 && y_91043;
        bool forwards_ok_91045 = i_lte_j_91042 && y_91044;
        bool ok_or_empty_91046 = empty_slice_91036 || forwards_ok_91045;
        bool index_certs_91047;
        
        if (!ok_or_empty_91046) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) map_arg1_91034, ":", (long long) dim_45874, "] out of bounds for array of shape [", (long long) dim_45874, "].", "-> #0  ftSkyline.fut:141:77-90\n   #1  ftSkyline.fut:193:67-73\n   #2  ftSkyline.fut:345:80-81\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftSkyline.fut:752:17-40\n   #5  ftSkyline.fut:742:1-752:40\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t bytes_94845 = j_m_i_91035 * bytes_91600;
        int64_t binop_x_94862 = smax64((int64_t) 0, m_91037);
        int64_t binop_y_94863 = n_45877 * binop_x_94862;
        int64_t binop_y_94864 = smax64((int64_t) 0, binop_y_94863);
        int64_t binop_y_94865 = binop_x_91665 + binop_y_94864;
        int64_t binop_y_94866 = (int64_t) 1 + binop_y_94865;
        int64_t bytes_94867 = (int64_t) 8 * binop_y_94866;
        int64_t binop_y_94877 = binop_x_91665 + binop_y_92001;
        int64_t binop_y_94878 = (int64_t) 1 + binop_y_94877;
        int64_t bytes_94879 = (int64_t) 8 * binop_y_94878;
        int64_t nest_sizze_91055 = n_45877 * j_m_i_91035;
        int64_t segmap_usable_groups_91057 = sdiv_up64(nest_sizze_91055, segmap_tblock_sizze_91056);
        
        if (memblock_alloc_device(ctx, &mem_94846, bytes_94845, "mem_94846")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98705 = sext_i64_i32(sdiv_up64(n_45877 * j_m_i_91035, segmap_tblock_sizze_91056));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_91061(ctx, segmap_usable_groups_91057, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89125, 1, 1, (int64_t) 0, n_45877, map_arg1_91034, j_m_i_91035, ext_91706, ext_91707, ext_mem_94835.mem, mem_94846.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94857.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_param_94842.mem, (int64_t) 0, (int64_t []) {ctx_param_ext_94840, ctx_param_ext_94841}, (int64_t []) {n_45877, arg_65084})) != 0)
            goto cleanup;
        if (memblock_alloc_device(ctx, &mem_94868, bytes_94867, "mem_94868")) {
            err = 1;
            goto cleanup;
        }
        if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94868.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94846.mem, (int64_t) 0, (int64_t []) {j_m_i_91035, (int64_t) 1}, (int64_t []) {n_45877, j_m_i_91035})) != 0)
            goto cleanup;
        if (memblock_unref_device(ctx, &mem_94846, "mem_94846") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_94880, bytes_94879, "mem_94880")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_tblocks_98716 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_91066));
        
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegmap_91071(ctx, num_tblocks_91067, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89094, 1, 1, (int64_t) 0, n_45877, arg_65084, i_91030, j_m_i_91035, num_tblocks_91067, ext_91706, ext_91707, virt_num_tblocks_98716, ext_mem_94835.mem, mem_94857.mem, mem_94868.mem, mem_94880.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_94868, "mem_94868") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_98701, &mem_94880, "mem_94880") != 0)
            return 1;
        
        int64_t ctx_param_ext_tmp_98702 = (int64_t) 1;
        int64_t ctx_param_ext_tmp_98703 = n_45877;
        
        if (memblock_set_device(ctx, &mem_param_94842, &mem_param_tmp_98701, "mem_param_tmp_98701") != 0)
            return 1;
        ctx_param_ext_94840 = ctx_param_ext_tmp_98702;
        ctx_param_ext_94841 = ctx_param_ext_tmp_98703;
    }
    if (memblock_set_device(ctx, &ext_mem_94884, &mem_param_94842, "mem_param_94842") != 0)
        return 1;
    ext_94882 = ctx_param_ext_94840;
    ext_94881 = ctx_param_ext_94841;
    if (memblock_unref_device(ctx, &ext_mem_94835, "ext_mem_94835") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_94838, "mem_94838") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_94857, "mem_94857") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94888, bytes_91985, "mem_94888")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98730 = sext_i64_i32(sdiv_up64(n_45877 * arg_65084, segmap_tblock_sizze_91090));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_91095(ctx, segmap_usable_groups_91091, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89058, 1, 1, (int64_t) 0, n_45877, arg_65084, ext_94881, ext_94882, angle_part_prefix_sum_mem_91593.mem, angle_partitions_per_dim_mem_91594.mem, ext_mem_91626.mem, ext_mem_94884.mem, mem_94888.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_91626, "ext_mem_91626") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_94884, "ext_mem_94884") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94899, bytes_92004, "mem_94899")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_94899.mem, (int64_t) 0, (int64_t []) {(int64_t) 1, n_45877}, mem_94888.mem, (int64_t) 0, (int64_t []) {arg_65084, (int64_t) 1}, (int64_t []) {n_45877, arg_65084})) != 0)
        goto cleanup;
    if (memblock_unref_device(ctx, &mem_94888, "mem_94888") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94902, bytes_91600, "mem_94902")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_94904, bytes_91600, "mem_94904")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98741 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_91103));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_91108(ctx, segmap_usable_groups_91104, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_89022, 1, 1, (int64_t) 0, n_45877, total_angle_no_45884, total_grid_no_45885, arg_65084, mem_91613.mem, mem_94778.mem, mem_94899.mem, mem_94902.mem, mem_94904.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    ctx->failure_is_an_option = 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_94778, "mem_94778") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_94899, "mem_94899") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_94909, bytes_91600, "mem_94909")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, n_45877)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_98751;
        
        shared_memory_98751 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_98752;
        
        thread_block_sizze_98752 = ctx->max_thread_block_size;
        
        int64_t registers_98753;
        
        registers_98753 = ctx->max_registers;
        
        int64_t thread_block_sizze_98754;
        
        thread_block_sizze_98754 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_98755 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_98751, thread_block_sizze_98752), (int64_t) 8), squot64(squot64(registers_98753, thread_block_sizze_98754) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_98756 = sdiv_up64(n_45877, segscan_tblock_sizze_91130 * chunk_sizze_98755);
        int64_t num_virt_threads_98757 = num_virt_blocks_98756 * segscan_tblock_sizze_91130;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_98755, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_98758, num_virt_blocks_98756, "status_flags_mem_98758")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_98758, num_virt_blocks_98756, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_98780, (int64_t) 8 * num_virt_blocks_98756, "aggregates_mem_98780")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_98782, (int64_t) 8 * num_virt_blocks_98756, "incprefixes_mem_98782")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegscan_91135(ctx, num_tblocks_91131, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_90658, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_91130), chunk_sizze_98755 * segscan_tblock_sizze_91130 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_91130), chunk_sizze_98755 * segscan_tblock_sizze_91130 * (int64_t) 8), (int64_t) 8), (int64_t) 8), n_45877, num_tblocks_91131, num_virt_blocks_98756, num_virt_threads_98757, mem_94902.mem, mem_94909.mem, status_flags_mem_98758.mem, aggregates_mem_98780.mem, incprefixes_mem_98782.mem, global_dynid_mem_98784.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    
    int64_t m_f_res_67007;
    
    if (x_67000) {
        int64_t read_res_99243;
        
        if ((err = gpu_scalar_from_device(ctx, &read_res_99243, mem_94909.mem, zs_lhs_66030 * sizeof(int64_t), sizeof(int64_t))) != 0)
            goto cleanup;
        if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
            err = 1;
            goto cleanup;
        }
        
        int64_t x_70523 = read_res_99243;
        
        m_f_res_67007 = x_70523;
    } else {
        m_f_res_67007 = (int64_t) 0;
    }
    
    int64_t m_67009;
    
    if (empty_slice_66683) {
        m_67009 = (int64_t) 0;
    } else {
        m_67009 = m_f_res_67007;
    }
    
    int64_t m_67019 = sub64(m_67009, (int64_t) 1);
    bool i_p_m_t_s_leq_w_67021 = slt64(m_67019, n_45877);
    bool zzero_leq_i_p_m_t_s_67020 = sle64((int64_t) 0, m_67019);
    bool y_67023 = zzero_leq_i_p_m_t_s_67020 && i_p_m_t_s_leq_w_67021;
    bool i_lte_j_67022 = sle64((int64_t) 0, m_67009);
    bool forwards_ok_67024 = i_lte_j_67022 && y_67023;
    bool eq_x_zz_67016 = (int64_t) 0 == m_f_res_67007;
    bool p_and_eq_x_y_67017 = x_67000 && eq_x_zz_67016;
    bool empty_slice_67018 = empty_slice_66683 || p_and_eq_x_y_67017;
    bool ok_or_empty_67025 = empty_slice_67018 || forwards_ok_67024;
    bool index_certs_67026;
    
    if (!ok_or_empty_67025) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) m_67009, "] out of bounds for array of shape [", (long long) n_45877, "].", "-> #0  /prelude/soacs.fut:258:29-35\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftSkyline.fut:752:17-40\n   #3  ftSkyline.fut:742:1-752:40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t binop_x_95028 = (int64_t) 8 * m_67009;
    int64_t bytes_95029 = dim_45874 * binop_x_95028;
    int64_t segmap_tblock_sizze_91163;
    
    segmap_tblock_sizze_91163 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91152;
    
    int64_t segmap_usable_groups_91164 = sdiv_up64(n_45877, segmap_tblock_sizze_91163);
    int64_t segmap_tblock_sizze_91186;
    
    segmap_tblock_sizze_91186 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91185;
    
    int64_t num_tblocks_91188;
    int64_t max_num_tblocks_98873;
    
    max_num_tblocks_98873 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_91187;
    num_tblocks_91188 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_83678, segmap_tblock_sizze_91186), max_num_tblocks_98873)));
    
    int64_t segmap_tblock_sizze_91196;
    
    segmap_tblock_sizze_91196 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91195;
    
    int64_t num_tblocks_91198;
    int64_t max_num_tblocks_98874;
    
    max_num_tblocks_98874 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_91197;
    num_tblocks_91198 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_91196), max_num_tblocks_98874)));
    
    int64_t segmap_tblock_sizze_91206;
    
    segmap_tblock_sizze_91206 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91205;
    
    int64_t num_tblocks_91208;
    int64_t max_num_tblocks_98875;
    
    max_num_tblocks_98875 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_num_tblocks_91207;
    num_tblocks_91208 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_45877, segmap_tblock_sizze_91206), max_num_tblocks_98875)));
    if (memblock_alloc_device(ctx, &mem_91631, bytes_91630, "mem_91631")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i64(ctx, mem_91631, total_part_no_45886, (int64_t) 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t seghist_tblock_sizze_91212;
    
    seghist_tblock_sizze_91212 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211;
    
    int64_t segscan_tblock_sizze_91227;
    
    segscan_tblock_sizze_91227 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_91226;
    
    int64_t num_tblocks_91229;
    int64_t max_num_tblocks_98876;
    
    max_num_tblocks_98876 = *ctx->tuning_params.sort_for_Skyline_doublezisegscan_num_tblocks_91228;
    num_tblocks_91229 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(total_part_no_45886, segscan_tblock_sizze_91227), max_num_tblocks_98876)));
    
    int64_t segmap_tblock_sizze_91248;
    
    segmap_tblock_sizze_91248 = *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91236;
    
    int64_t segmap_usable_groups_91249 = sdiv_up64(total_part_no_45886, segmap_tblock_sizze_91248);
    
    if (memblock_alloc_device(ctx, &mem_95030, bytes_95029, "mem_95030")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 2, mem_95030.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, ext_mem_94417.mem, (int64_t) 0, (int64_t []) {dim_45874, (int64_t) 1}, (int64_t []) {m_67009, dim_45874})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_95032, binop_x_95028, "mem_95032")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_95032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_94904.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {m_67009})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_95034, binop_x_95028, "mem_95034")) {
        err = 1;
        goto cleanup;
    }
    if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, mem_95034.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, ext_mem_94416.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {m_67009})) != 0)
        goto cleanup;
    if (memblock_alloc_device(ctx, &mem_95037, bytes_91600, "mem_95037")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_95039, bytes_91600, "mem_95039")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_95041, bytes_91600, "mem_95041")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98877 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_91163));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_91169(ctx, segmap_usable_groups_91164, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91152, 1, 1, (int64_t) 0, n_45877, mem_94902.mem, mem_94909.mem, mem_95037.mem, mem_95039.mem, mem_95041.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_94902, "mem_94902") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_94909, "mem_94909") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98886 = sext_i64_i32(sdiv_up64(n_45877 * dim_45874, segmap_tblock_sizze_91186));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_91182(ctx, num_tblocks_91188, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91185, 1, 1, (int64_t) 0, dim_45874, n_45877, m_67009, num_tblocks_91188, virt_num_tblocks_98886, ext_mem_94417.mem, mem_95030.mem, mem_95037.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_94417, "ext_mem_94417") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_95037, "mem_95037") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98901 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_91196));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_91193(ctx, num_tblocks_91198, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91195, 1, 1, (int64_t) 0, n_45877, m_67009, num_tblocks_91198, virt_num_tblocks_98901, ext_mem_94416.mem, mem_95034.mem, mem_95039.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &ext_mem_94416, "ext_mem_94416") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_95039, "mem_95039") != 0)
        return 1;
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_98914 = sext_i64_i32(sdiv_up64(n_45877, segmap_tblock_sizze_91206));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_91203(ctx, num_tblocks_91208, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91205, 1, 1, (int64_t) 0, n_45877, m_67009, num_tblocks_91208, virt_num_tblocks_98914, mem_94904.mem, mem_95032.mem, mem_95041.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_94904, "mem_94904") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_95041, "mem_95041") != 0)
        return 1;
    
    int64_t num_tblocks_91214;
    int64_t max_num_tblocks_98927;
    
    max_num_tblocks_98927 = *ctx->tuning_params.sort_for_Skyline_doubleziseghist_num_tblocks_91213;
    num_tblocks_91214 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(m_67009, seghist_tblock_sizze_91212), max_num_tblocks_98927)));
    
    int64_t num_subhistos_98928;
    int64_t h_98931 = (int64_t) 8 * total_part_no_45886;
    int64_t seg_h_98932 = (int64_t) 8 * total_part_no_45886;
    
    if (!(seg_h_98932 == (int64_t) 0)) {
        int64_t hist_H_98933 = total_part_no_45886;
        int64_t hist_el_sizze_98934 = sdiv_up64(h_98931, hist_H_98933);
        int64_t hist_N_98935 = m_67009;
        int32_t hist_RF_98936 = 1;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegHist");
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of threads (T)", (long long) sext_i64_i32(num_tblocks_91214 * seghist_tblock_sizze_91212), '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Desired block size (B)", (long long) seghist_tblock_sizze_91212, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_98933, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Input elements per histogram (N)", (long long) hist_N_98935, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Number of segments", (long long) (int64_t) 1, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Histogram element size (el_size)", (long long) hist_el_sizze_98934, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Race factor (RF)", (long long) hist_RF_98936, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms per segment", (long long) h_98931, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Memory per set of subhistograms times segments", (long long) seg_h_98932, '\n');
        
        int64_t hist_L_98937;
        
        hist_L_98937 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L_98937;
        
        int64_t max_tblock_sizze_98938;
        
        max_tblock_sizze_98938 = ctx->max_thread_block_size;
        
        int64_t num_tblocks_98939 = sdiv_up64(sext_i32_i64(sext_i64_i32(num_tblocks_91214 * seghist_tblock_sizze_91212)), max_tblock_sizze_98938);
        double hist_m_prime_98940 = sitofp_i64_f64(smin64(squot64(hist_L_98937, hist_el_sizze_98934), sdiv_up64(hist_N_98935, num_tblocks_98939))) / sitofp_i64_f64(hist_H_98933);
        int64_t hist_M0_98941 = smax64((int64_t) 1, smin64(fptosi_f64_i64(hist_m_prime_98940), max_tblock_sizze_98938));
        int64_t hist_Nout_98942 = (int64_t) 1;
        int64_t hist_Nin_98943 = m_67009;
        int64_t work_asymp_M_max_98944 = squot64(hist_Nout_98942 * hist_N_98935, (int64_t) 2 * num_tblocks_98939 * hist_H_98933);
        int32_t hist_M_98945 = sext_i64_i32(smin64(hist_M0_98941, work_asymp_M_max_98944));
        int64_t hist_C_98946 = sdiv_up64(max_tblock_sizze_98938, sext_i32_i64(smax32(1, hist_M_98945)));
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local hist_M0", (long long) hist_M0_98941, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local work asymp M max", (long long) work_asymp_M_max_98944, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local C", (long long) hist_C_98946, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local B", (long long) max_tblock_sizze_98938, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "local M", (long long) hist_M_98945, '\n');
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "shared memory needed", (long long) (hist_H_98933 * hist_el_sizze_98934 * sext_i32_i64(hist_M_98945)), '\n');
        
        int64_t local_mem_needed_98947 = hist_el_sizze_98934 * sext_i32_i64(hist_M_98945);
        int32_t hist_S_98948 = sext_i64_i32(sdiv_up64(hist_H_98933 * local_mem_needed_98947 + (int64_t) 1, hist_L_98937));
        
        if (sle64(hist_H_98933, hist_Nin_98943) && (sle64(local_mem_needed_98947, hist_L_98937) && (sle32(hist_S_98948, 3) && (sle64(hist_C_98946, max_tblock_sizze_98938) && slt32(0, hist_M_98945))))) {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using shared memory");
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Histogram size (H)", (long long) hist_H_98933, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_98945, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Cooperation level (C)", (long long) hist_C_98946, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_98948, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of local subhistograms per block", (long long) hist_M_98945, '\n');
            num_subhistos_98928 = num_tblocks_98939;
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of subhistograms in global memory per segment", (long long) num_subhistos_98928, '\n');
            if (num_subhistos_98928 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_98929, &mem_91631, "mem_91631") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_98929, num_subhistos_98928 * total_part_no_45886 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_98929")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_98929, num_subhistos_98928 * total_part_no_45886, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_98929.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_91631.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_45886})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_98949 = 0; chk_i_98949 < hist_S_98948; chk_i_98949++) {
                int64_t num_segments_98950 = (int64_t) 1;
                int64_t hist_H_chk_98951 = sdiv_up64(total_part_no_45886, sext_i32_i64(hist_S_98948));
                int64_t histo_sizze_98952 = hist_H_chk_98951;
                int32_t init_per_thread_98953 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_98945) * histo_sizze_98952, max_tblock_sizze_98938));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_local_91219(ctx, num_tblocks_98939, 1, 1, ctx->max_thread_block_size, 1, 1, (int64_t) 8 * (hist_M_98945 * hist_H_chk_98951) + srem64((int64_t) 8 - srem64((int64_t) 8 * (hist_M_98945 * hist_H_chk_98951), (int64_t) 8), (int64_t) 8), total_part_no_45886, m_67009, num_subhistos_98928, num_tblocks_98939, hist_M_98945, chk_i_98949, num_segments_98950, hist_H_chk_98951, histo_sizze_98952, init_per_thread_98953, mem_95032.mem, defunc_0_map_res_subhistos_mem_98929.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        } else {
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "## Using global memory");
            
            int64_t hist_H_98985 = total_part_no_45886;
            double hist_RF_98986 = (0.0 + sitofp_i32_f64((int64_t) 1)) / 1.0;
            int32_t hist_el_sizze_98987 = 8;
            double hist_C_max_98988 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_91214 * seghist_tblock_sizze_91212)), sitofp_i32_f64(hist_H_98985) / 2.0);
            int32_t hist_M_min_98989 = smax32(1, sext_i64_i32(fptosi_f64_i64(sitofp_i32_f64(sext_i64_i32(num_tblocks_91214 * seghist_tblock_sizze_91212)) / hist_C_max_98988)));
            int64_t hist_L2_98990;
            
            hist_L2_98990 = *ctx->tuning_params.sort_for_Skyline_doublezihist_L2_98990;
            
            double hist_RACE_exp_98991 = fmax64(1.0, 0.75 * hist_RF_98986 / (64.0 / sitofp_i32_f64(hist_el_sizze_98987)));
            int32_t hist_S_98992;
            
            if (slt64(m_67009, hist_H_98985)) {
                hist_S_98992 = 1;
            } else {
                hist_S_98992 = sext_i64_i32(sdiv_up64(sext_i32_i64(hist_M_min_98989) * hist_H_98985 * sext_i32_i64(hist_el_sizze_98987), fptosi_f64_i64(0.4 * sitofp_i32_f64(hist_L2_98990) * hist_RACE_exp_98991)));
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Race expansion factor (RACE^exp)", (double) hist_RACE_exp_98991, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Number of chunks (S)", (long long) hist_S_98992, '\n');
            
            int64_t hist_H_chk_98993 = sdiv_up64(total_part_no_45886, sext_i32_i64(hist_S_98992));
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Chunk size (H_chk)", (long long) hist_H_chk_98993, '\n');
            
            double hist_k_max_98994 = fmin64(0.4 * (sitofp_i32_f64(hist_L2_98990) / sitofp_i32_f64(8)) * hist_RACE_exp_98991, sitofp_i32_f64(m_67009)) / sitofp_i32_f64(sext_i64_i32(num_tblocks_91214 * seghist_tblock_sizze_91212));
            int64_t hist_u_98995 = (int64_t) 2;
            double hist_C_98996 = fmin64(sitofp_i32_f64(sext_i64_i32(num_tblocks_91214 * seghist_tblock_sizze_91212)), sitofp_i32_f64(hist_u_98995 * hist_H_chk_98993) / hist_k_max_98994);
            int32_t hist_M_98997 = 1;
            
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Elements/thread in L2 cache (k_max)", (double) hist_k_max_98994, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %llu%c", "Multiplication degree (M)", (long long) hist_M_98997, '\n');
            if (ctx->debugging)
                fprintf(ctx->log, "%s: %f%c", "Cooperation level (C)", (double) hist_C_98996, '\n');
            num_subhistos_98928 = sext_i32_i64(hist_M_98997);
            if (hist_M_98997 == 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_98929, &mem_91631, "mem_91631") != 0)
                    return 1;
            } else if (num_subhistos_98928 == (int64_t) 1) {
                if (memblock_set_device(ctx, &defunc_0_map_res_subhistos_mem_98929, &mem_91631, "mem_91631") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &defunc_0_map_res_subhistos_mem_98929, num_subhistos_98928 * total_part_no_45886 * (int64_t) 8, "defunc_0_map_res_subhistos_mem_98929")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhreplicate_i64(ctx, defunc_0_map_res_subhistos_mem_98929, num_subhistos_98928 * total_part_no_45886, (int64_t) 0) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if ((err = lmad_copy_gpu2gpu_8b(ctx, 1, defunc_0_map_res_subhistos_mem_98929.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, mem_91631.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {total_part_no_45886})) != 0)
                    goto cleanup;
            }
            for (int32_t chk_i_98998 = 0; chk_i_98998 < hist_S_98992; chk_i_98998++) {
                int64_t hist_H_chk_98999 = sdiv_up64(total_part_no_45886, sext_i32_i64(hist_S_98992));
                
                {
                    err = gpu_kernel_sort_for_Skyline_doubleziseghist_global_91219(ctx, num_tblocks_91214, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211, 1, 1, (int64_t) 0, total_part_no_45886, m_67009, num_tblocks_91214, num_subhistos_98928, chk_i_98998, hist_H_chk_98999, mem_95032.mem, defunc_0_map_res_subhistos_mem_98929.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
        if (num_subhistos_98928 == (int64_t) 1) {
            if (memblock_set_device(ctx, &mem_91631, &defunc_0_map_res_subhistos_mem_98929, "defunc_0_map_res_subhistos_mem_98929") != 0)
                return 1;
        } else {
            int64_t chunk_sizze_99015 = (int64_t) 1;
            
            if (slt64(num_subhistos_98928 * (int64_t) 2, seghist_tblock_sizze_91212 * chunk_sizze_99015)) {
                int64_t segment_sizze_nonzzero_99016 = smax64((int64_t) 1, num_subhistos_98928);
                int64_t num_threads_99017 = seghist_tblock_sizze_91212 * seghist_tblock_sizze_91212;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_45886, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_98928, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_block", (long long) squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_blocks", (long long) sext_i64_i32(sdiv_up64(total_part_no_45886, squot64(seghist_tblock_sizze_91212, segment_sizze_nonzzero_99016))), '\n');
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_small_99014(ctx, num_tblocks_91214, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211, 1, 1, (int64_t) 8 * seghist_tblock_sizze_91212 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_91212, (int64_t) 8), (int64_t) 8), total_part_no_45886, num_tblocks_91214, num_subhistos_98928, segment_sizze_nonzzero_99016, mem_91631.mem, defunc_0_map_res_subhistos_mem_98929.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            } else {
                int64_t blocks_per_segment_99045 = sdiv_up64(num_tblocks_91214, smax64((int64_t) 1, total_part_no_45886));
                int64_t q_99046 = sdiv_up64(num_subhistos_98928, seghist_tblock_sizze_91212 * blocks_per_segment_99045 * chunk_sizze_99015);
                int64_t num_virtblocks_99047 = blocks_per_segment_99045 * total_part_no_45886;
                int64_t threads_per_segment_99048 = blocks_per_segment_99045 * seghist_tblock_sizze_91212;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) total_part_no_45886, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) num_subhistos_98928, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_virtblocks", (long long) num_virtblocks_99047, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_tblocks", (long long) num_tblocks_91214, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "tblock_size", (long long) seghist_tblock_sizze_91212, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "q", (long long) q_99046, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "blocks_per_segment", (long long) blocks_per_segment_99045, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_99049, (int64_t) 8 * num_virtblocks_99047, "segred_tmp_mem_99049")) {
                    err = 1;
                    goto cleanup;
                }
                {
                    err = gpu_kernel_sort_for_Skyline_doublezisegred_large_99014(ctx, num_tblocks_91214, 1, 1, *ctx->tuning_params.sort_for_Skyline_doubleziseghist_tblock_sizze_91211, 1, 1, 8 + ((int64_t) 8 * seghist_tblock_sizze_91212 + srem64((int64_t) 8 - srem64((int64_t) 8 * seghist_tblock_sizze_91212, (int64_t) 8), (int64_t) 8)), total_part_no_45886, num_tblocks_91214, num_subhistos_98928, blocks_per_segment_99045, q_99046, num_virtblocks_99047, threads_per_segment_99048, mem_91631.mem, defunc_0_map_res_subhistos_mem_98929.mem, segred_tmp_mem_99049.mem, counters_mem_99051.mem);
                    if (err != FUTHARK_SUCCESS)
                        goto cleanup;
                }
            }
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_95032, "mem_95032") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_95048, bytes_91630, "mem_95048")) {
        err = 1;
        goto cleanup;
    }
    if (slt64((int64_t) 0, total_part_no_45886)) {
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegScan");
        
        int64_t shared_memory_99088;
        
        shared_memory_99088 = ctx->max_shared_memory;
        
        int64_t thread_block_sizze_99089;
        
        thread_block_sizze_99089 = ctx->max_thread_block_size;
        
        int64_t registers_99090;
        
        registers_99090 = ctx->max_registers;
        
        int64_t thread_block_sizze_99091;
        
        thread_block_sizze_99091 = ctx->max_thread_block_size;
        
        int64_t chunk_sizze_99092 = smax64((int64_t) 1, smin64(squot64(squot64(shared_memory_99088, thread_block_sizze_99089), (int64_t) 8), squot64(squot64(registers_99090, thread_block_sizze_99091) - (int64_t) 1 - squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4), (int64_t) 2 * squot64(smax64((int64_t) 4, (int64_t) 8), (int64_t) 4))));
        int64_t num_virt_blocks_99093 = sdiv_up64(total_part_no_45886, segscan_tblock_sizze_91227 * chunk_sizze_99092);
        int64_t num_virt_threads_99094 = num_virt_blocks_99093 * segscan_tblock_sizze_91227;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s: %llu%c", "Sequential elements per thread (chunk)", (long long) chunk_sizze_99092, '\n');
        if (memblock_alloc_device(ctx, &status_flags_mem_99095, num_virt_blocks_99093, "status_flags_mem_99095")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhreplicate_i8(ctx, status_flags_mem_99095, num_virt_blocks_99093, (int8_t) 0) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &aggregates_mem_99097, (int64_t) 8 * num_virt_blocks_99093, "aggregates_mem_99097")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &incprefixes_mem_99099, (int64_t) 8 * num_virt_blocks_99093, "incprefixes_mem_99099")) {
            err = 1;
            goto cleanup;
        }
        {
            err = gpu_kernel_sort_for_Skyline_doublezisegscan_91232(ctx, num_tblocks_91229, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegscan_tblock_sizze_91226, 1, 1, smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_91227), chunk_sizze_99092 * segscan_tblock_sizze_91227 * (int64_t) 8) + srem64((int64_t) 8 - srem64(smax64(smax64((int64_t) 288, (int64_t) 8 * segscan_tblock_sizze_91227), chunk_sizze_99092 * segscan_tblock_sizze_91227 * (int64_t) 8), (int64_t) 8), (int64_t) 8), total_part_no_45886, num_tblocks_91229, num_virt_blocks_99093, num_virt_threads_99094, mem_91631.mem, mem_95048.mem, status_flags_mem_99095.mem, aggregates_mem_99097.mem, incprefixes_mem_99099.mem, global_dynid_mem_99101.mem);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
    }
    if (memblock_unref_device(ctx, &mem_91631, "mem_91631") != 0)
        return 1;
    if (memblock_alloc_device(ctx, &mem_95051, bytes_91630, "mem_95051")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_tblocks_99190 = sext_i64_i32(sdiv_up64(total_part_no_45886, segmap_tblock_sizze_91248));
    
    {
        err = gpu_kernel_sort_for_Skyline_doublezisegmap_91252(ctx, segmap_usable_groups_91249, 1, 1, *ctx->tuning_params.sort_for_Skyline_doublezisegmap_tblock_sizze_91236, 1, 1, (int64_t) 0, total_part_no_45886, mem_95048.mem, mem_95051.mem);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_95048, "mem_95048") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96091, &mem_91613, "mem_91613") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96092, &mem_95051, "mem_95051") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96093, &mem_95030, "mem_95030") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_96094, &mem_95034, "mem_95034") != 0)
        return 1;
    prim_out_96095 = total_grid_no_45885;
    prim_out_96096 = total_part_no_45886;
    prim_out_96097 = m_67009;
    if (memblock_set_device(ctx, &*mem_out_p_99229, &mem_out_96091, "mem_out_96091") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99230, &mem_out_96092, "mem_out_96092") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99231, &mem_out_96093, "mem_out_96093") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_99232, &mem_out_96094, "mem_out_96094") != 0)
        return 1;
    *out_prim_out_99233 = prim_out_96095;
    *out_prim_out_99234 = prim_out_96096;
    *out_prim_out_99235 = prim_out_96097;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_95051, "mem_95051") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_99099, "incprefixes_mem_99099") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_99097, "aggregates_mem_99097") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_99095, "status_flags_mem_99095") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_95048, "mem_95048") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_99049, "segred_tmp_mem_99049") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_98929, "defunc_0_map_res_subhistos_mem_98929") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_95041, "mem_95041") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_95039, "mem_95039") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_95037, "mem_95037") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_95034, "mem_95034") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_95032, "mem_95032") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_95030, "mem_95030") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91631, "mem_91631") != 0)
            return 1;
        if (memblock_unref_device(ctx, &incprefixes_mem_98782, "incprefixes_mem_98782") != 0)
            return 1;
        if (memblock_unref_device(ctx, &aggregates_mem_98780, "aggregates_mem_98780") != 0)
            return 1;
        if (memblock_unref_device(ctx, &status_flags_mem_98758, "status_flags_mem_98758") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94909, "mem_94909") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94904, "mem_94904") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94902, "mem_94902") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94899, "mem_94899") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94888, "mem_94888") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_98701, "mem_param_tmp_98701") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94880, "mem_94880") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94868, "mem_94868") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94846, "mem_94846") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_94842, "mem_param_94842") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94884, "ext_mem_94884") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94857, "mem_94857") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94838, "mem_94838") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94829, "mem_94829") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94811, "mem_94811") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94800, "mem_94800") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94789, "mem_94789") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94786, "mem_94786") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94832, "mem_94832") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94835, "ext_mem_94835") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94778, "mem_94778") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94776, "mem_94776") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94774, "mem_94774") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94763, "mem_94763") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94708, "mem_94708") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94690, "mem_94690") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94679, "mem_94679") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94668, "mem_94668") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94665, "mem_94665") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94624, "mem_94624") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94606, "mem_94606") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94595, "mem_94595") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94584, "mem_94584") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94581, "mem_94581") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94572, "mem_94572") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94554, "mem_94554") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94543, "mem_94543") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94532, "mem_94532") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94529, "mem_94529") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94575, "mem_94575") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94578, "ext_mem_94578") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94526, "mem_94526") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94653, "mem_94653") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94656, "ext_mem_94656") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94659, "mem_94659") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94662, "ext_mem_94662") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94750, "mem_94750") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94753, "ext_mem_94753") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94756, "mem_94756") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94759, "ext_mem_94759") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_98395, "segred_tmp_mem_98395") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95860, "color_95860") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94503, "mem_94503") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_98352, "segred_tmp_mem_98352") != 0)
            return 1;
        if (memblock_unref_device(ctx, &defunc_0_map_res_subhistos_mem_98212, "defunc_0_map_res_subhistos_mem_98212") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95859, "color_95859") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95858, "color_95858") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95857, "color_95857") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95856, "color_95856") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95855, "color_95855") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95854, "color_95854") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95853, "color_95853") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94428, "mem_94428") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93135, "mem_93135") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93132, "mem_93132") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97634, "mem_param_tmp_97634") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97633, "mem_param_tmp_97633") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97632, "mem_param_tmp_97632") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97631, "mem_param_tmp_97631") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93109, "mem_93109") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93105, "mem_93105") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93100, "mem_93100") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93096, "mem_93096") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92617, "mem_92617") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92613, "mem_92613") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92610, "mem_92610") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92607, "mem_92607") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92603, "mem_92603") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92598, "mem_92598") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92592, "mem_92592") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92587, "mem_92587") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92583, "mem_92583") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92566, "mem_92566") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92542, "mem_92542") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92525, "mem_92525") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92466, "mem_92466") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92442, "mem_92442") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92425, "mem_92425") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92408, "mem_92408") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92391, "mem_92391") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92386, "mem_92386") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92382, "mem_92382") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92378, "mem_92378") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92374, "mem_92374") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92373, "mem_92373") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92370, "mem_92370") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92369, "mem_92369") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92366, "mem_92366") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92363, "mem_92363") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92360, "mem_92360") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92343, "mem_92343") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92340, "mem_92340") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92337, "mem_92337") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92332, "mem_92332") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92321, "mem_92321") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92318, "mem_92318") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92717, "mem_92717") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92714, "mem_92714") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92710, "mem_92710") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92707, "mem_92707") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92720, "ext_mem_92720") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92722, "ext_mem_92722") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92723, "ext_mem_92723") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92724, "ext_mem_92724") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92907, "mem_92907") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92896, "mem_92896") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92879, "mem_92879") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92868, "mem_92868") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92828, "mem_92828") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92817, "mem_92817") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92800, "mem_92800") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92789, "mem_92789") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92778, "mem_92778") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92767, "mem_92767") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92763, "mem_92763") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92760, "mem_92760") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92757, "mem_92757") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92735, "mem_92735") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92738, "mem_92738") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92731, "mem_92731") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92729, "mem_92729") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92750, "mem_92750") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92747, "mem_92747") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92743, "mem_92743") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92741, "mem_92741") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92751, "ext_mem_92751") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92752, "ext_mem_92752") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92753, "ext_mem_92753") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92754, "ext_mem_92754") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92911, "ext_mem_92911") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92915, "ext_mem_92915") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92918, "ext_mem_92918") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92921, "ext_mem_92921") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92314, "mem_92314") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92313, "mem_92313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93079, "mem_93079") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93076, "mem_93076") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93072, "mem_93072") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93069, "mem_93069") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93083, "ext_mem_93083") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93087, "ext_mem_93087") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93090, "ext_mem_93090") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93093, "ext_mem_93093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92311, "mem_param_92311") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92308, "mem_param_92308") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92304, "mem_param_92304") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_92301, "mem_param_92301") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93120, "ext_mem_93120") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93121, "ext_mem_93121") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93122, "ext_mem_93122") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93123, "ext_mem_93123") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92297, "mem_92297") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92293, "mem_92293") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92288, "mem_92288") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92284, "mem_92284") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95806, "color_95806") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95805, "color_95805") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92266, "mem_92266") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92255, "mem_92255") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92238, "mem_92238") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92227, "mem_92227") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92158, "mem_92158") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92147, "mem_92147") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92130, "mem_92130") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92119, "mem_92119") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92271, "ext_mem_92271") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92275, "ext_mem_92275") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92278, "ext_mem_92278") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92281, "ext_mem_92281") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92108, "mem_92108") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92105, "mem_92105") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92088, "mem_92088") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92085, "mem_92085") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92078, "mem_92078") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92077, "mem_92077") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92076, "mem_92076") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97527, "segred_tmp_mem_97527") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97525, "segred_tmp_mem_97525") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97523, "segred_tmp_mem_97523") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_97521, "segred_tmp_mem_97521") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92075, "mem_92075") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92074, "mem_92074") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92072, "mem_92072") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92071, "mem_92071") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92066, "mem_92066") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92061, "mem_92061") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93126, "ext_mem_93126") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93130, "ext_mem_93130") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92047, "mem_92047") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92036, "mem_92036") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_97468, "mem_param_tmp_97468") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92028, "mem_92028") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92016, "mem_92016") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91994, "mem_91994") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_91990, "mem_param_91990") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_92032, "ext_mem_92032") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92005, "mem_92005") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91986, "mem_91986") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91983, "mem_91983") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91980, "mem_91980") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91969, "mem_91969") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91959, "mem_91959") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91941, "mem_91941") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91930, "mem_91930") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91919, "mem_91919") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91916, "mem_91916") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91962, "mem_91962") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91965, "ext_mem_91965") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_92050, "mem_92050") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91906, "mem_91906") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91904, "mem_91904") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91893, "mem_91893") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91838, "mem_91838") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91820, "mem_91820") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91809, "mem_91809") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91798, "mem_91798") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91795, "mem_91795") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91754, "mem_91754") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91736, "mem_91736") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91725, "mem_91725") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91714, "mem_91714") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91711, "mem_91711") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91702, "mem_91702") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91684, "mem_91684") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91673, "mem_91673") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91662, "mem_91662") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91659, "mem_91659") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91705, "mem_91705") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91708, "ext_mem_91708") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91656, "mem_91656") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91783, "mem_91783") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91786, "ext_mem_91786") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91789, "mem_91789") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91792, "ext_mem_91792") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91880, "mem_91880") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91883, "ext_mem_91883") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91886, "mem_91886") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91889, "ext_mem_91889") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91637, "mem_91637") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91645, "mem_91645") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91648, "ext_mem_91648") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94415, "mem_94415") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94412, "mem_94412") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96681, "mem_param_tmp_96681") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96680, "mem_param_tmp_96680") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96679, "mem_param_tmp_96679") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94392, "mem_94392") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94388, "mem_94388") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94383, "mem_94383") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93992, "mem_93992") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93988, "mem_93988") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93985, "mem_93985") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93981, "mem_93981") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93976, "mem_93976") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93970, "mem_93970") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93966, "mem_93966") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93949, "mem_93949") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93925, "mem_93925") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93875, "mem_93875") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93851, "mem_93851") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93834, "mem_93834") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93817, "mem_93817") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93812, "mem_93812") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93808, "mem_93808") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93804, "mem_93804") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93803, "mem_93803") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93800, "mem_93800") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93799, "mem_93799") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93796, "mem_93796") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93793, "mem_93793") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93790, "mem_93790") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93773, "mem_93773") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93770, "mem_93770") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93765, "mem_93765") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93754, "mem_93754") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93751, "mem_93751") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94075, "mem_94075") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94072, "mem_94072") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94068, "mem_94068") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94078, "ext_mem_94078") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94080, "ext_mem_94080") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94081, "ext_mem_94081") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94228, "mem_94228") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94217, "mem_94217") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94200, "mem_94200") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94166, "mem_94166") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94155, "mem_94155") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94138, "mem_94138") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94127, "mem_94127") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94116, "mem_94116") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94112, "mem_94112") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94109, "mem_94109") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94090, "mem_94090") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94093, "mem_94093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94086, "mem_94086") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94103, "mem_94103") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94100, "mem_94100") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94096, "mem_94096") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94104, "ext_mem_94104") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94105, "ext_mem_94105") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94106, "ext_mem_94106") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94232, "ext_mem_94232") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94236, "ext_mem_94236") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94239, "ext_mem_94239") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93747, "mem_93747") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93746, "mem_93746") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94369, "mem_94369") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94366, "mem_94366") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_94362, "mem_94362") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94373, "ext_mem_94373") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94377, "ext_mem_94377") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94380, "ext_mem_94380") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_93744, "mem_param_93744") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_93741, "mem_param_93741") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_93737, "mem_param_93737") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94401, "ext_mem_94401") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94402, "ext_mem_94402") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94403, "ext_mem_94403") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93733, "mem_93733") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93729, "mem_93729") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93724, "mem_93724") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95758, "color_95758") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_95757, "color_95757") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93709, "mem_93709") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93698, "mem_93698") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93681, "mem_93681") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93624, "mem_93624") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93613, "mem_93613") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93596, "mem_93596") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93714, "ext_mem_93714") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93718, "ext_mem_93718") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93721, "ext_mem_93721") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93585, "mem_93585") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93582, "mem_93582") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93565, "mem_93565") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93558, "mem_93558") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93557, "mem_93557") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96589, "segred_tmp_mem_96589") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96587, "segred_tmp_mem_96587") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_96585, "segred_tmp_mem_96585") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93556, "mem_93556") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93555, "mem_93555") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93553, "mem_93553") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93548, "mem_93548") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93543, "mem_93543") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94406, "ext_mem_94406") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94410, "ext_mem_94410") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93529, "mem_93529") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93518, "mem_93518") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_tmp_96532, "mem_param_tmp_96532") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93510, "mem_93510") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93498, "mem_93498") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93476, "mem_93476") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_param_93472, "mem_param_93472") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93514, "ext_mem_93514") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93487, "mem_93487") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93468, "mem_93468") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93459, "mem_93459") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93441, "mem_93441") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93430, "mem_93430") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93419, "mem_93419") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93416, "mem_93416") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93462, "mem_93462") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93465, "ext_mem_93465") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93532, "mem_93532") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93406, "mem_93406") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93404, "mem_93404") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93393, "mem_93393") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93338, "mem_93338") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93320, "mem_93320") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93309, "mem_93309") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93298, "mem_93298") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93295, "mem_93295") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93254, "mem_93254") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93236, "mem_93236") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93225, "mem_93225") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93214, "mem_93214") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93211, "mem_93211") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93202, "mem_93202") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93184, "mem_93184") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93173, "mem_93173") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93162, "mem_93162") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93159, "mem_93159") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93205, "mem_93205") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93208, "ext_mem_93208") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93156, "mem_93156") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93283, "mem_93283") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93286, "ext_mem_93286") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93289, "mem_93289") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93292, "ext_mem_93292") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93380, "mem_93380") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93383, "ext_mem_93383") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93386, "mem_93386") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93389, "ext_mem_93389") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93137, "mem_93137") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_93145, "mem_93145") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_93148, "ext_mem_93148") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94416, "ext_mem_94416") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_94417, "ext_mem_94417") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91635, "mem_91635") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91634, "mem_91634") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91633, "mem_91633") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91632, "mem_91632") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91627, "mem_91627") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91628, "mem_91628") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91629, "ext_mem_91629") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91615, "mem_91615") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91623, "mem_91623") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91626, "ext_mem_91626") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91613, "mem_91613") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91612, "mem_91612") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91608, "mem_91608") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91609, "mem_91609") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91610, "ext_mem_91610") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91605, "mem_91605") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91606, "mem_91606") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91607, "ext_mem_91607") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91602, "mem_91602") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91603, "mem_91603") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_91604, "ext_mem_91604") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_91601, "mem_91601") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96094, "mem_out_96094") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96093, "mem_out_96093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96092, "mem_out_96092") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_96091, "mem_out_96091") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_99244, int64_t upper_bound_31166, int64_t n_31167)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t prim_out_96091;
    bool upper_bound_31168 = sle64((int64_t) 1, upper_bound_31166);
    bool assert_c_31170;
    
    if (!upper_bound_31168) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_31179 = slt64(upper_bound_31166, n_31167);
    bool d_31188;
    int64_t d_31189;
    bool loop_while_31190;
    int64_t d_31191;
    
    loop_while_31190 = cond_31179;
    d_31191 = (int64_t) 1;
    while (loop_while_31190) {
        int64_t loopres_31192 = add64((int64_t) 1, d_31191);
        bool zzero_31194 = loopres_31192 == (int64_t) 0;
        bool nonzzero_31195 = !zzero_31194;
        bool nonzzero_cert_31196;
        
        if (!nonzzero_31195) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_31197 = sdiv64(n_31167, loopres_31192);
        bool cond_31199 = slt64(upper_bound_31166, zg_lhs_31197);
        bool loop_cond_31200;
        
        if (cond_31199) {
            loop_cond_31200 = 1;
        } else {
            int64_t znze_lhs_31204 = smod64(n_31167, loopres_31192);
            bool loop_cond_f_res_31206 = znze_lhs_31204 == (int64_t) 0;
            bool loop_cond_f_res_31207 = !loop_cond_f_res_31206;
            
            loop_cond_31200 = loop_cond_f_res_31207;
        }
        
        bool loop_while_tmp_96092 = loop_cond_31200;
        int64_t d_tmp_96093 = loopres_31192;
        
        loop_while_31190 = loop_while_tmp_96092;
        d_31191 = d_tmp_96093;
    }
    d_31188 = loop_while_31190;
    d_31189 = d_31191;
    
    bool zzero_31209 = d_31189 == (int64_t) 0;
    bool nonzzero_31210 = !zzero_31209;
    bool nonzzero_cert_31211;
    
    if (!nonzzero_31210) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_31212 = sdiv64(n_31167, d_31189);
    
    prim_out_96091 = greatest_divisor_leq_than_res_31212;
    *out_prim_out_99244 = prim_out_96091;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10151(struct futhark_context *ctx, double *out_prim_out_99245, struct memblock_device angle_partitions_per_dim_mem_91593, int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30884, int64_t dim_30885, int64_t i_30887)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    double prim_out_96091;
    bool x_30890 = sle64((int64_t) 0, i_30887);
    bool y_30891 = slt64(i_30887, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30884);
    bool bounds_check_30892 = x_30890 && y_30891;
    bool index_certs_30893;
    
    if (!bounds_check_30892) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_30887, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30884, "].", "-> #0  ftSkyline.fut:171:58-89\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t read_res_99246;
    
    if ((err = gpu_scalar_from_device(ctx, &read_res_99246, angle_partitions_per_dim_mem_91593.mem, i_30887 * sizeof(int64_t), sizeof(int64_t))) != 0)
        goto cleanup;
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t i64_arg0_30894 = read_res_99246;
    double i64_res_54732 = sitofp_i64_f64(i64_arg0_30894);
    double lifted_lambda_res_30898 = 1.5707963267948966 / i64_res_54732;
    
    prim_out_96091 = lifted_lambda_res_30898;
    *out_prim_out_99245 = prim_out_96091;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_10152(struct futhark_context *ctx, int64_t *out_prim_out_99247, double a_30899, double ba_30900, int64_t pf_30901, int64_t pd_30902)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t prim_out_96091;
    double zt_lhs_30903 = a_30899 / ba_30900;
    double i64_res_54732 = sitofp_i64_f64(pf_30901);
    double f64_arg0_30907 = zt_lhs_30903 * i64_res_54732;
    int64_t f64_res_54734 = fptosi_f64_i64(f64_arg0_30907);
    bool cond_30911 = slt64(f64_res_54734, (int64_t) 0);
    int64_t lifted_lambda_res_30912;
    
    if (cond_30911) {
        lifted_lambda_res_30912 = (int64_t) 0;
    } else {
        bool cond_30913 = sle64(pd_30902, f64_res_54734);
        int64_t lifted_lambda_res_f_res_30914;
        
        if (cond_30913) {
            int64_t lifted_lambda_res_f_res_t_res_67265 = sub64(pd_30902, (int64_t) 1);
            
            lifted_lambda_res_f_res_30914 = lifted_lambda_res_f_res_t_res_67265;
        } else {
            lifted_lambda_res_f_res_30914 = f64_res_54734;
        }
        lifted_lambda_res_30912 = lifted_lambda_res_f_res_30914;
    }
    prim_out_96091 = lifted_lambda_res_30912;
    *out_prim_out_99247 = prim_out_96091;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_10121(struct futhark_context *ctx, int64_t *out_prim_out_99248, int64_t *out_prim_out_99249, int64_t *out_prim_out_99250, int64_t *out_prim_out_99251, int64_t *out_prim_out_99252, int64_t slo_31470, int64_t shi_31471, int64_t tlo_31472, int64_t thi_31473, int64_t count_31474)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
    struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
    struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
    struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
    struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
    struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
    struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
    struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
    struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
    struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
    struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
    struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
    struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
    struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
    struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
    struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
    struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
    struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
    int64_t prim_out_96091;
    int64_t prim_out_96092;
    int64_t prim_out_96093;
    int64_t prim_out_96094;
    int64_t prim_out_96095;
    int64_t min_arg1_31477 = add64(slo_31470, count_31474);
    int64_t min_res_54733 = smin64(shi_31471, min_arg1_31477);
    int64_t min_arg1_31481 = add64(tlo_31472, count_31474);
    int64_t min_res_54736 = smin64(thi_31473, min_arg1_31481);
    int64_t zp_lhs_31485 = sub64(min_res_54733, slo_31470);
    int64_t zp_rhs_31487 = sub64(min_res_54736, tlo_31472);
    int64_t zm_lhs_31489 = add64(zp_lhs_31485, zp_rhs_31487);
    int64_t slack_31491 = sub64(zm_lhs_31489, count_31474);
    int64_t min_res_54739 = smin64(zp_lhs_31485, slack_31491);
    int64_t min_res_54742 = smin64(zp_rhs_31487, min_res_54739);
    int64_t max_arg1_31501 = sub64(min_res_54733, min_res_54742);
    int64_t max_res_54745 = smax64(slo_31470, max_arg1_31501);
    int64_t max_arg1_31505 = sub64(min_res_54736, min_res_54742);
    int64_t max_res_54748 = smax64(tlo_31472, max_arg1_31505);
    int64_t zm_rhs_31509 = sub64(max_res_54745, slo_31470);
    int64_t zm_lhs_31511 = sub64(count_31474, zm_rhs_31509);
    int64_t zm_rhs_31513 = sub64(max_res_54748, tlo_31472);
    int64_t count_31515 = sub64(zm_lhs_31511, zm_rhs_31513);
    
    prim_out_96091 = max_res_54745;
    prim_out_96092 = min_res_54733;
    prim_out_96093 = max_res_54748;
    prim_out_96094 = min_res_54736;
    prim_out_96095 = count_31515;
    *out_prim_out_99248 = prim_out_96091;
    *out_prim_out_99249 = prim_out_96092;
    *out_prim_out_99250 = prim_out_96093;
    *out_prim_out_99251 = prim_out_96094;
    *out_prim_out_99252 = prim_out_96095;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_calc_global_Skyline_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_opaque_skylineInfo_GFUR_double *in1)
{
    int64_t dim_54348 = (int64_t) 0;
    int64_t dz2080U_54349 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350 = (int64_t) 0;
    int64_t dz2081U_54351 = (int64_t) 0;
    int64_t dz2082U_54352 = (int64_t) 0;
    int64_t dz2083U_54353 = (int64_t) 0;
    int64_t total_angle_no_54360 = (int64_t) 0;
    int64_t total_grid_no_54361 = (int64_t) 0;
    int64_t total_part_no_54362 = (int64_t) 0;
    int64_t prim_out_96095 = (int64_t) 0;
    int64_t prim_out_96096 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_96094;
    
    mem_out_96094.references = NULL;
    
    struct memblock_device mem_out_96093;
    
    mem_out_96093.references = NULL;
    
    struct memblock_device mem_out_96092;
    
    mem_out_96092.references = NULL;
    
    struct memblock_device mem_out_96091;
    
    mem_out_96091.references = NULL;
    
    struct memblock_device xys_mem_91602;
    
    xys_mem_91602.references = NULL;
    
    struct memblock_device xys_mem_91601;
    
    xys_mem_91601.references = NULL;
    
    struct memblock_device part_idx_mem_91600;
    
    part_idx_mem_91600.references = NULL;
    
    struct memblock_device isPartitionDominated_mem_91599;
    
    isPartitionDominated_mem_91599.references = NULL;
    
    struct memblock_device start_of_grid_partition_mem_91598;
    
    start_of_grid_partition_mem_91598.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_91597;
    
    grid_partitions_per_dim_mem_91597.references = NULL;
    
    struct memblock_device grid_part_sizze_per_dim_mem_91596;
    
    grid_part_sizze_per_dim_mem_91596.references = NULL;
    
    struct memblock_device grid_part_prefix_sum_mem_91595;
    
    grid_part_prefix_sum_mem_91595.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_91594;
    
    angle_partitions_per_dim_mem_91594.references = NULL;
    
    struct memblock_device angle_part_prefix_sum_mem_91593;
    
    angle_part_prefix_sum_mem_91593.references = NULL;
    angle_part_prefix_sum_mem_91593 = in0->v0->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350 = in0->v0->shape[0];
    angle_partitions_per_dim_mem_91594 = in0->v1->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350 = in0->v1->shape[0];
    grid_part_prefix_sum_mem_91595 = in0->v2->mem;
    dim_54348 = in0->v2->shape[0];
    grid_part_sizze_per_dim_mem_91596 = in0->v3->mem;
    dim_54348 = in0->v3->shape[0];
    grid_partitions_per_dim_mem_91597 = in0->v4->mem;
    dim_54348 = in0->v4->shape[0];
    start_of_grid_partition_mem_91598 = in0->v5->mem;
    dz2080U_54349 = in0->v5->shape[0];
    dim_54348 = in0->v5->shape[1];
    total_angle_no_54360 = in0->v6;
    total_grid_no_54361 = in0->v7;
    total_part_no_54362 = in0->v8;
    isPartitionDominated_mem_91599 = in1->v0->mem;
    dz2081U_54351 = in1->v0->shape[0];
    part_idx_mem_91600 = in1->v1->mem;
    dz2082U_54352 = in1->v1->shape[0];
    xys_mem_91601 = in1->v2->mem;
    dz2083U_54353 = in1->v2->shape[0];
    dim_54348 = in1->v2->shape[1];
    xys_mem_91602 = in1->v3->mem;
    dz2083U_54353 = in1->v3->shape[0];
    if (!((dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350 == in0->v0->shape[0] && (dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350 == in0->v1->shape[0] && (dim_54348 == in0->v2->shape[0] && (dim_54348 == in0->v3->shape[0] && (dim_54348 == in0->v4->shape[0] && (dz2080U_54349 == in0->v5->shape[0] && dim_54348 == in0->v5->shape[1])))))) && (dz2081U_54351 == in1->v0->shape[0] && (dz2082U_54352 == in1->v1->shape[0] && (dz2083U_54353 == in1->v2->shape[0] && (dim_54348 == in1->v2->shape[1] && dz2083U_54353 == in1->v3->shape[0])))))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_calc_global_Skyline_GFUR_double(ctx, &mem_out_96091, &mem_out_96092, &mem_out_96093, &mem_out_96094, &prim_out_96095, &prim_out_96096, angle_part_prefix_sum_mem_91593, angle_partitions_per_dim_mem_91594, grid_part_prefix_sum_mem_91595, grid_part_sizze_per_dim_mem_91596, grid_partitions_per_dim_mem_91597, start_of_grid_partition_mem_91598, isPartitionDominated_mem_91599, part_idx_mem_91600, xys_mem_91601, xys_mem_91602, dim_54348, dz2080U_54349, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_54350, dz2081U_54351, dz2082U_54352, dz2083U_54353, total_angle_no_54360, total_grid_no_54361, total_part_no_54362);
        if (ret == 0) {
            struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
            struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
            struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
            struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
            struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
            struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
            struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
            struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
            struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
            struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
            struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
            struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
            struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
            struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
            struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
            struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
            struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
            struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
            
            assert((*out0 = (struct futhark_opaque_skylineInfo_GFUR_double *) malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d))) != NULL);
            (*out0)->v0->mem = mem_out_96091;
            (*out0)->v0->shape[0] = dz2081U_54351;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_96092;
            (*out0)->v1->shape[0] = prim_out_96095;
            assert(((*out0)->v2 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v2->mem = mem_out_96093;
            (*out0)->v2->shape[0] = prim_out_96096;
            (*out0)->v2->shape[1] = dim_54348;
            assert(((*out0)->v3 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_96094;
            (*out0)->v3->shape[0] = prim_out_96096;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_calc_local_Skyline_GFUR_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_opaque_skylineInfo_GFUR_double *in1)
{
    int64_t dim_51486 = (int64_t) 0;
    int64_t dz2080U_51487 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488 = (int64_t) 0;
    int64_t dz2081U_51489 = (int64_t) 0;
    int64_t dz2082U_51490 = (int64_t) 0;
    int64_t dz2083U_51491 = (int64_t) 0;
    int64_t total_angle_no_51498 = (int64_t) 0;
    int64_t total_grid_no_51499 = (int64_t) 0;
    int64_t total_part_no_51500 = (int64_t) 0;
    int64_t prim_out_96095 = (int64_t) 0;
    int64_t prim_out_96096 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_96094;
    
    mem_out_96094.references = NULL;
    
    struct memblock_device mem_out_96093;
    
    mem_out_96093.references = NULL;
    
    struct memblock_device mem_out_96092;
    
    mem_out_96092.references = NULL;
    
    struct memblock_device mem_out_96091;
    
    mem_out_96091.references = NULL;
    
    struct memblock_device xys_mem_91602;
    
    xys_mem_91602.references = NULL;
    
    struct memblock_device xys_mem_91601;
    
    xys_mem_91601.references = NULL;
    
    struct memblock_device part_idx_mem_91600;
    
    part_idx_mem_91600.references = NULL;
    
    struct memblock_device isPartitionDominated_mem_91599;
    
    isPartitionDominated_mem_91599.references = NULL;
    
    struct memblock_device start_of_grid_partition_mem_91598;
    
    start_of_grid_partition_mem_91598.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_91597;
    
    grid_partitions_per_dim_mem_91597.references = NULL;
    
    struct memblock_device grid_part_sizze_per_dim_mem_91596;
    
    grid_part_sizze_per_dim_mem_91596.references = NULL;
    
    struct memblock_device grid_part_prefix_sum_mem_91595;
    
    grid_part_prefix_sum_mem_91595.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_91594;
    
    angle_partitions_per_dim_mem_91594.references = NULL;
    
    struct memblock_device angle_part_prefix_sum_mem_91593;
    
    angle_part_prefix_sum_mem_91593.references = NULL;
    angle_part_prefix_sum_mem_91593 = in0->v0->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488 = in0->v0->shape[0];
    angle_partitions_per_dim_mem_91594 = in0->v1->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488 = in0->v1->shape[0];
    grid_part_prefix_sum_mem_91595 = in0->v2->mem;
    dim_51486 = in0->v2->shape[0];
    grid_part_sizze_per_dim_mem_91596 = in0->v3->mem;
    dim_51486 = in0->v3->shape[0];
    grid_partitions_per_dim_mem_91597 = in0->v4->mem;
    dim_51486 = in0->v4->shape[0];
    start_of_grid_partition_mem_91598 = in0->v5->mem;
    dz2080U_51487 = in0->v5->shape[0];
    dim_51486 = in0->v5->shape[1];
    total_angle_no_51498 = in0->v6;
    total_grid_no_51499 = in0->v7;
    total_part_no_51500 = in0->v8;
    isPartitionDominated_mem_91599 = in1->v0->mem;
    dz2081U_51489 = in1->v0->shape[0];
    part_idx_mem_91600 = in1->v1->mem;
    dz2082U_51490 = in1->v1->shape[0];
    xys_mem_91601 = in1->v2->mem;
    dz2083U_51491 = in1->v2->shape[0];
    dim_51486 = in1->v2->shape[1];
    xys_mem_91602 = in1->v3->mem;
    dz2083U_51491 = in1->v3->shape[0];
    if (!((dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488 == in0->v0->shape[0] && (dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488 == in0->v1->shape[0] && (dim_51486 == in0->v2->shape[0] && (dim_51486 == in0->v3->shape[0] && (dim_51486 == in0->v4->shape[0] && (dz2080U_51487 == in0->v5->shape[0] && dim_51486 == in0->v5->shape[1])))))) && (dz2081U_51489 == in1->v0->shape[0] && (dz2082U_51490 == in1->v1->shape[0] && (dz2083U_51491 == in1->v2->shape[0] && (dim_51486 == in1->v2->shape[1] && dz2083U_51491 == in1->v3->shape[0])))))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_calc_local_Skyline_GFUR_double(ctx, &mem_out_96091, &mem_out_96092, &mem_out_96093, &mem_out_96094, &prim_out_96095, &prim_out_96096, angle_part_prefix_sum_mem_91593, angle_partitions_per_dim_mem_91594, grid_part_prefix_sum_mem_91595, grid_part_sizze_per_dim_mem_91596, grid_partitions_per_dim_mem_91597, start_of_grid_partition_mem_91598, isPartitionDominated_mem_91599, part_idx_mem_91600, xys_mem_91601, xys_mem_91602, dim_51486, dz2080U_51487, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_51488, dz2081U_51489, dz2082U_51490, dz2083U_51491, total_angle_no_51498, total_grid_no_51499, total_part_no_51500);
        if (ret == 0) {
            struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
            struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
            struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
            struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
            struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
            struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
            struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
            struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
            struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
            struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
            struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
            struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
            struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
            struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
            struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
            struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
            struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
            struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
            
            assert((*out0 = (struct futhark_opaque_skylineInfo_GFUR_double *) malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d))) != NULL);
            (*out0)->v0->mem = mem_out_96091;
            (*out0)->v0->shape[0] = dz2081U_51489;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_96092;
            (*out0)->v1->shape[0] = prim_out_96095;
            assert(((*out0)->v2 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v2->mem = mem_out_96093;
            (*out0)->v2->shape[0] = prim_out_96096;
            (*out0)->v2->shape[1] = dim_51486;
            assert(((*out0)->v3 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_96094;
            (*out0)->v3->shape[0] = prim_out_96096;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_define_skyline_space_double(struct futhark_context *ctx, struct futhark_opaque_skylineBase_double **out0, const struct futhark_f64_1d *in0, const struct futhark_f64_1d *in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t dim_30775 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776 = (int64_t) 0;
    int64_t prim_out_96097 = (int64_t) 0;
    int64_t prim_out_96098 = (int64_t) 0;
    int64_t prim_out_96099 = (int64_t) 0;
    int64_t prim_out_96100 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_96096;
    
    mem_out_96096.references = NULL;
    
    struct memblock_device mem_out_96095;
    
    mem_out_96095.references = NULL;
    
    struct memblock_device mem_out_96094;
    
    mem_out_96094.references = NULL;
    
    struct memblock_device mem_out_96093;
    
    mem_out_96093.references = NULL;
    
    struct memblock_device mem_out_96092;
    
    mem_out_96092.references = NULL;
    
    struct memblock_device mem_out_96091;
    
    mem_out_96091.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_91596;
    
    angle_partitions_per_dim_mem_91596.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_91595;
    
    grid_partitions_per_dim_mem_91595.references = NULL;
    
    struct memblock_device max_per_dim_mem_91594;
    
    max_per_dim_mem_91594.references = NULL;
    
    struct memblock_device min_per_dim_mem_91593;
    
    min_per_dim_mem_91593.references = NULL;
    min_per_dim_mem_91593 = in0->mem;
    dim_30775 = in0->shape[0];
    max_per_dim_mem_91594 = in1->mem;
    dim_30775 = in1->shape[0];
    grid_partitions_per_dim_mem_91595 = in2->mem;
    dim_30775 = in2->shape[0];
    angle_partitions_per_dim_mem_91596 = in3->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776 = in3->shape[0];
    if (!(dim_30775 == in0->shape[0] && (dim_30775 == in1->shape[0] && (dim_30775 == in2->shape[0] && dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776 == in3->shape[0])))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_define_skyline_space_double(ctx, &mem_out_96091, &mem_out_96092, &mem_out_96093, &mem_out_96094, &mem_out_96095, &mem_out_96096, &prim_out_96097, &prim_out_96098, &prim_out_96099, &prim_out_96100, min_per_dim_mem_91593, max_per_dim_mem_91594, grid_partitions_per_dim_mem_91595, angle_partitions_per_dim_mem_91596, dim_30775, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776);
        if (ret == 0) {
            struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
            struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
            struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
            struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
            struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
            struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
            struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
            struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
            struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
            struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
            struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
            struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
            struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
            struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
            struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
            struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
            struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
            struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
            
            assert((*out0 = (struct futhark_opaque_skylineBase_double *) malloc(sizeof(struct futhark_opaque_skylineBase_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_96091;
            (*out0)->v0->shape[0] = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_96092;
            (*out0)->v1->shape[0] = dzlz7bUZLzmZRz20Udimz20U1z7dUzg_30776;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_96093;
            (*out0)->v2->shape[0] = dim_30775;
            assert(((*out0)->v3 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_96094;
            (*out0)->v3->shape[0] = dim_30775;
            assert(((*out0)->v4 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v4->mem = mem_out_96095;
            (*out0)->v4->shape[0] = dim_30775;
            assert(((*out0)->v5 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v5->mem = mem_out_96096;
            (*out0)->v5->shape[0] = prim_out_96097;
            (*out0)->v5->shape[1] = dim_30775;
            (*out0)->v6 = prim_out_96098;
            (*out0)->v7 = prim_out_96099;
            (*out0)->v8 = prim_out_96100;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_sort_for_Skyline_double(struct futhark_context *ctx, struct futhark_opaque_skylineInfo_GFUR_double **out0, const struct futhark_opaque_skylineBase_double *in0, const struct futhark_f64_2d *in1, const bool in2)
{
    int64_t dim_45874 = (int64_t) 0;
    int64_t dz2080U_45875 = (int64_t) 0;
    int64_t dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876 = (int64_t) 0;
    int64_t n_45877 = (int64_t) 0;
    int64_t total_angle_no_45884 = (int64_t) 0;
    int64_t total_grid_no_45885 = (int64_t) 0;
    int64_t total_part_no_45886 = (int64_t) 0;
    bool use_measure_for_sorting_45888 = 0;
    int64_t prim_out_96095 = (int64_t) 0;
    int64_t prim_out_96096 = (int64_t) 0;
    int64_t prim_out_96097 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_96094;
    
    mem_out_96094.references = NULL;
    
    struct memblock_device mem_out_96093;
    
    mem_out_96093.references = NULL;
    
    struct memblock_device mem_out_96092;
    
    mem_out_96092.references = NULL;
    
    struct memblock_device mem_out_96091;
    
    mem_out_96091.references = NULL;
    
    struct memblock_device xs_mem_91599;
    
    xs_mem_91599.references = NULL;
    
    struct memblock_device start_of_grid_partition_mem_91598;
    
    start_of_grid_partition_mem_91598.references = NULL;
    
    struct memblock_device grid_partitions_per_dim_mem_91597;
    
    grid_partitions_per_dim_mem_91597.references = NULL;
    
    struct memblock_device grid_part_sizze_per_dim_mem_91596;
    
    grid_part_sizze_per_dim_mem_91596.references = NULL;
    
    struct memblock_device grid_part_prefix_sum_mem_91595;
    
    grid_part_prefix_sum_mem_91595.references = NULL;
    
    struct memblock_device angle_partitions_per_dim_mem_91594;
    
    angle_partitions_per_dim_mem_91594.references = NULL;
    
    struct memblock_device angle_part_prefix_sum_mem_91593;
    
    angle_part_prefix_sum_mem_91593.references = NULL;
    angle_part_prefix_sum_mem_91593 = in0->v0->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876 = in0->v0->shape[0];
    angle_partitions_per_dim_mem_91594 = in0->v1->mem;
    dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876 = in0->v1->shape[0];
    grid_part_prefix_sum_mem_91595 = in0->v2->mem;
    dim_45874 = in0->v2->shape[0];
    grid_part_sizze_per_dim_mem_91596 = in0->v3->mem;
    dim_45874 = in0->v3->shape[0];
    grid_partitions_per_dim_mem_91597 = in0->v4->mem;
    dim_45874 = in0->v4->shape[0];
    start_of_grid_partition_mem_91598 = in0->v5->mem;
    dz2080U_45875 = in0->v5->shape[0];
    dim_45874 = in0->v5->shape[1];
    total_angle_no_45884 = in0->v6;
    total_grid_no_45885 = in0->v7;
    total_part_no_45886 = in0->v8;
    xs_mem_91599 = in1->mem;
    n_45877 = in1->shape[0];
    dim_45874 = in1->shape[1];
    use_measure_for_sorting_45888 = in2;
    if (!((dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876 == in0->v0->shape[0] && (dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876 == in0->v1->shape[0] && (dim_45874 == in0->v2->shape[0] && (dim_45874 == in0->v3->shape[0] && (dim_45874 == in0->v4->shape[0] && (dz2080U_45875 == in0->v5->shape[0] && dim_45874 == in0->v5->shape[1])))))) && (n_45877 == in1->shape[0] && dim_45874 == in1->shape[1]))) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_sort_for_Skyline_double(ctx, &mem_out_96091, &mem_out_96092, &mem_out_96093, &mem_out_96094, &prim_out_96095, &prim_out_96096, &prim_out_96097, angle_part_prefix_sum_mem_91593, angle_partitions_per_dim_mem_91594, grid_part_prefix_sum_mem_91595, grid_part_sizze_per_dim_mem_91596, grid_partitions_per_dim_mem_91597, start_of_grid_partition_mem_91598, xs_mem_91599, dim_45874, dz2080U_45875, dzlz7bUZLzmZRz20Udimz20U1z7dUzg_45876, n_45877, total_angle_no_45884, total_grid_no_45885, total_part_no_45886, use_measure_for_sorting_45888);
        if (ret == 0) {
            struct memblock_device counters_mem_96099 = ctx->constants->counters_mem_96099;
            struct memblock_device counters_mem_96246 = ctx->constants->counters_mem_96246;
            struct memblock_device counters_mem_96384 = ctx->constants->counters_mem_96384;
            struct memblock_device counters_mem_96583 = ctx->constants->counters_mem_96583;
            struct memblock_device counters_mem_96823 = ctx->constants->counters_mem_96823;
            struct memblock_device counters_mem_97202 = ctx->constants->counters_mem_97202;
            struct memblock_device counters_mem_97519 = ctx->constants->counters_mem_97519;
            struct memblock_device counters_mem_98354 = ctx->constants->counters_mem_98354;
            struct memblock_device counters_mem_98393 = ctx->constants->counters_mem_98393;
            struct memblock_device counters_mem_99051 = ctx->constants->counters_mem_99051;
            struct memblock_device global_dynid_mem_96135 = ctx->constants->global_dynid_mem_96135;
            struct memblock_device global_dynid_mem_96165 = ctx->constants->global_dynid_mem_96165;
            struct memblock_device global_dynid_mem_96293 = ctx->constants->global_dynid_mem_96293;
            struct memblock_device global_dynid_mem_96616 = ctx->constants->global_dynid_mem_96616;
            struct memblock_device global_dynid_mem_96873 = ctx->constants->global_dynid_mem_96873;
            struct memblock_device global_dynid_mem_97252 = ctx->constants->global_dynid_mem_97252;
            struct memblock_device global_dynid_mem_98784 = ctx->constants->global_dynid_mem_98784;
            struct memblock_device global_dynid_mem_99101 = ctx->constants->global_dynid_mem_99101;
            
            assert((*out0 = (struct futhark_opaque_skylineInfo_GFUR_double *) malloc(sizeof(struct futhark_opaque_skylineInfo_GFUR_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_bool_1d *) malloc(sizeof(struct futhark_bool_1d))) != NULL);
            (*out0)->v0->mem = mem_out_96091;
            (*out0)->v0->shape[0] = prim_out_96095;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_96092;
            (*out0)->v1->shape[0] = prim_out_96096;
            assert(((*out0)->v2 = (struct futhark_f64_2d *) malloc(sizeof(struct futhark_f64_2d))) != NULL);
            (*out0)->v2->mem = mem_out_96093;
            (*out0)->v2->shape[0] = prim_out_96097;
            (*out0)->v2->shape[1] = dim_45874;
            assert(((*out0)->v3 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v3->mem = mem_out_96094;
            (*out0)->v3->shape[0] = prim_out_96097;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
  
